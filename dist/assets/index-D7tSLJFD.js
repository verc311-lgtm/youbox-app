var fF=Object.defineProperty;var dF=(e,t,r)=>t in e?fF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Cn=(e,t,r)=>dF(e,typeof t!="symbol"?t+"":t,r);function hF(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var qg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rx={exports:{}},h1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function pF(){if(zE)return h1;zE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:e,type:n,key:o,ref:i!==void 0?i:null,props:a}}return h1.Fragment=t,h1.jsx=r,h1.jsxs=r,h1}var qE;function gF(){return qE||(qE=1,rx.exports=pF()),rx.exports}var S=gF(),nx={exports:{}},Pr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function mF(){if(HE)return Pr;HE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),b=Symbol.iterator;function x(pe){return pe===null||typeof pe!="object"?null:(pe=b&&pe[b]||pe["@@iterator"],typeof pe=="function"?pe:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,T={};function I(pe,X,de){this.props=pe,this.context=X,this.refs=T,this.updater=de||E}I.prototype.isReactComponent={},I.prototype.setState=function(pe,X){if(typeof pe!="object"&&typeof pe!="function"&&pe!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,pe,X,"setState")},I.prototype.forceUpdate=function(pe){this.updater.enqueueForceUpdate(this,pe,"forceUpdate")};function B(){}B.prototype=I.prototype;function U(pe,X,de){this.props=pe,this.context=X,this.refs=T,this.updater=de||E}var F=U.prototype=new B;F.constructor=U,C(F,I.prototype),F.isPureReactComponent=!0;var K=Array.isArray;function Z(){}var V={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function q(pe,X,de){var me=de.ref;return{$$typeof:e,type:pe,key:X,ref:me!==void 0?me:null,props:de}}function se(pe,X){return q(pe.type,X,pe.props)}function G(pe){return typeof pe=="object"&&pe!==null&&pe.$$typeof===e}function H(pe){var X={"=":"=0",":":"=2"};return"$"+pe.replace(/[=:]/g,function(de){return X[de]})}var le=/\/+/g;function J(pe,X){return typeof pe=="object"&&pe!==null&&pe.key!=null?H(""+pe.key):X.toString(36)}function ie(pe){switch(pe.status){case"fulfilled":return pe.value;case"rejected":throw pe.reason;default:switch(typeof pe.status=="string"?pe.then(Z,Z):(pe.status="pending",pe.then(function(X){pe.status==="pending"&&(pe.status="fulfilled",pe.value=X)},function(X){pe.status==="pending"&&(pe.status="rejected",pe.reason=X)})),pe.status){case"fulfilled":return pe.value;case"rejected":throw pe.reason}}throw pe}function ne(pe,X,de,me,Ne){var xe=typeof pe;(xe==="undefined"||xe==="boolean")&&(pe=null);var Re=!1;if(pe===null)Re=!0;else switch(xe){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(pe.$$typeof){case e:case t:Re=!0;break;case h:return Re=pe._init,ne(Re(pe._payload),X,de,me,Ne)}}if(Re)return Ne=Ne(pe),Re=me===""?"."+J(pe,0):me,K(Ne)?(de="",Re!=null&&(de=Re.replace(le,"$&/")+"/"),ne(Ne,X,de,"",function(Ge){return Ge})):Ne!=null&&(G(Ne)&&(Ne=se(Ne,de+(Ne.key==null||pe&&pe.key===Ne.key?"":(""+Ne.key).replace(le,"$&/")+"/")+Re)),X.push(Ne)),1;Re=0;var ze=me===""?".":me+":";if(K(pe))for(var Ce=0;Ce<pe.length;Ce++)me=pe[Ce],xe=ze+J(me,Ce),Re+=ne(me,X,de,xe,Ne);else if(Ce=x(pe),typeof Ce=="function")for(pe=Ce.call(pe),Ce=0;!(me=pe.next()).done;)me=me.value,xe=ze+J(me,Ce++),Re+=ne(me,X,de,xe,Ne);else if(xe==="object"){if(typeof pe.then=="function")return ne(ie(pe),X,de,me,Ne);throw X=String(pe),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(pe).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Re}function fe(pe,X,de){if(pe==null)return pe;var me=[],Ne=0;return ne(pe,me,"","",function(xe){return X.call(de,xe,Ne++)}),me}function we(pe){if(pe._status===-1){var X=pe._result;X=X(),X.then(function(de){(pe._status===0||pe._status===-1)&&(pe._status=1,pe._result=de)},function(de){(pe._status===0||pe._status===-1)&&(pe._status=2,pe._result=de)}),pe._status===-1&&(pe._status=0,pe._result=X)}if(pe._status===1)return pe._result.default;throw pe._result}var Ie=typeof reportError=="function"?reportError:function(pe){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof pe=="object"&&pe!==null&&typeof pe.message=="string"?String(pe.message):String(pe),error:pe});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",pe);return}console.error(pe)},Me={map:fe,forEach:function(pe,X,de){fe(pe,function(){X.apply(this,arguments)},de)},count:function(pe){var X=0;return fe(pe,function(){X++}),X},toArray:function(pe){return fe(pe,function(X){return X})||[]},only:function(pe){if(!G(pe))throw Error("React.Children.only expected to receive a single React element child.");return pe}};return Pr.Activity=m,Pr.Children=Me,Pr.Component=I,Pr.Fragment=r,Pr.Profiler=i,Pr.PureComponent=U,Pr.StrictMode=n,Pr.Suspense=d,Pr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Pr.__COMPILER_RUNTIME={__proto__:null,c:function(pe){return V.H.useMemoCache(pe)}},Pr.cache=function(pe){return function(){return pe.apply(null,arguments)}},Pr.cacheSignal=function(){return null},Pr.cloneElement=function(pe,X,de){if(pe==null)throw Error("The argument must be a React element, but you passed "+pe+".");var me=C({},pe.props),Ne=pe.key;if(X!=null)for(xe in X.key!==void 0&&(Ne=""+X.key),X)!Q.call(X,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&X.ref===void 0||(me[xe]=X[xe]);var xe=arguments.length-2;if(xe===1)me.children=de;else if(1<xe){for(var Re=Array(xe),ze=0;ze<xe;ze++)Re[ze]=arguments[ze+2];me.children=Re}return q(pe.type,Ne,me)},Pr.createContext=function(pe){return pe={$$typeof:o,_currentValue:pe,_currentValue2:pe,_threadCount:0,Provider:null,Consumer:null},pe.Provider=pe,pe.Consumer={$$typeof:a,_context:pe},pe},Pr.createElement=function(pe,X,de){var me,Ne={},xe=null;if(X!=null)for(me in X.key!==void 0&&(xe=""+X.key),X)Q.call(X,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ne[me]=X[me]);var Re=arguments.length-2;if(Re===1)Ne.children=de;else if(1<Re){for(var ze=Array(Re),Ce=0;Ce<Re;Ce++)ze[Ce]=arguments[Ce+2];Ne.children=ze}if(pe&&pe.defaultProps)for(me in Re=pe.defaultProps,Re)Ne[me]===void 0&&(Ne[me]=Re[me]);return q(pe,xe,Ne)},Pr.createRef=function(){return{current:null}},Pr.forwardRef=function(pe){return{$$typeof:u,render:pe}},Pr.isValidElement=G,Pr.lazy=function(pe){return{$$typeof:h,_payload:{_status:-1,_result:pe},_init:we}},Pr.memo=function(pe,X){return{$$typeof:c,type:pe,compare:X===void 0?null:X}},Pr.startTransition=function(pe){var X=V.T,de={};V.T=de;try{var me=pe(),Ne=V.S;Ne!==null&&Ne(de,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(Z,Ie)}catch(xe){Ie(xe)}finally{X!==null&&de.types!==null&&(X.types=de.types),V.T=X}},Pr.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Pr.use=function(pe){return V.H.use(pe)},Pr.useActionState=function(pe,X,de){return V.H.useActionState(pe,X,de)},Pr.useCallback=function(pe,X){return V.H.useCallback(pe,X)},Pr.useContext=function(pe){return V.H.useContext(pe)},Pr.useDebugValue=function(){},Pr.useDeferredValue=function(pe,X){return V.H.useDeferredValue(pe,X)},Pr.useEffect=function(pe,X){return V.H.useEffect(pe,X)},Pr.useEffectEvent=function(pe){return V.H.useEffectEvent(pe)},Pr.useId=function(){return V.H.useId()},Pr.useImperativeHandle=function(pe,X,de){return V.H.useImperativeHandle(pe,X,de)},Pr.useInsertionEffect=function(pe,X){return V.H.useInsertionEffect(pe,X)},Pr.useLayoutEffect=function(pe,X){return V.H.useLayoutEffect(pe,X)},Pr.useMemo=function(pe,X){return V.H.useMemo(pe,X)},Pr.useOptimistic=function(pe,X){return V.H.useOptimistic(pe,X)},Pr.useReducer=function(pe,X,de){return V.H.useReducer(pe,X,de)},Pr.useRef=function(pe){return V.H.useRef(pe)},Pr.useState=function(pe){return V.H.useState(pe)},Pr.useSyncExternalStore=function(pe,X,de){return V.H.useSyncExternalStore(pe,X,de)},Pr.useTransition=function(){return V.H.useTransition()},Pr.version="19.2.4",Pr}var GE;function m0(){return GE||(GE=1,nx.exports=mF()),nx.exports}var D=m0();const TM=qc(D),vF=hF({__proto__:null,default:TM},[D]);var ix={exports:{}},p1={},ax={exports:{}},sx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function yF(){return WE||(WE=1,(function(e){function t(ne,fe){var we=ne.length;ne.push(fe);e:for(;0<we;){var Ie=we-1>>>1,Me=ne[Ie];if(0<i(Me,fe))ne[Ie]=fe,ne[we]=Me,we=Ie;else break e}}function r(ne){return ne.length===0?null:ne[0]}function n(ne){if(ne.length===0)return null;var fe=ne[0],we=ne.pop();if(we!==fe){ne[0]=we;e:for(var Ie=0,Me=ne.length,pe=Me>>>1;Ie<pe;){var X=2*(Ie+1)-1,de=ne[X],me=X+1,Ne=ne[me];if(0>i(de,we))me<Me&&0>i(Ne,de)?(ne[Ie]=Ne,ne[me]=we,Ie=me):(ne[Ie]=de,ne[X]=we,Ie=X);else if(me<Me&&0>i(Ne,we))ne[Ie]=Ne,ne[me]=we,Ie=me;else break e}}return fe}function i(ne,fe){var we=ne.sortIndex-fe.sortIndex;return we!==0?we:ne.id-fe.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var d=[],c=[],h=1,m=null,b=3,x=!1,E=!1,C=!1,T=!1,I=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function F(ne){for(var fe=r(c);fe!==null;){if(fe.callback===null)n(c);else if(fe.startTime<=ne)n(c),fe.sortIndex=fe.expirationTime,t(d,fe);else break;fe=r(c)}}function K(ne){if(C=!1,F(ne),!E)if(r(d)!==null)E=!0,Z||(Z=!0,H());else{var fe=r(c);fe!==null&&ie(K,fe.startTime-ne)}}var Z=!1,V=-1,Q=5,q=-1;function se(){return T?!0:!(e.unstable_now()-q<Q)}function G(){if(T=!1,Z){var ne=e.unstable_now();q=ne;var fe=!0;try{e:{E=!1,C&&(C=!1,B(V),V=-1),x=!0;var we=b;try{t:{for(F(ne),m=r(d);m!==null&&!(m.expirationTime>ne&&se());){var Ie=m.callback;if(typeof Ie=="function"){m.callback=null,b=m.priorityLevel;var Me=Ie(m.expirationTime<=ne);if(ne=e.unstable_now(),typeof Me=="function"){m.callback=Me,F(ne),fe=!0;break t}m===r(d)&&n(d),F(ne)}else n(d);m=r(d)}if(m!==null)fe=!0;else{var pe=r(c);pe!==null&&ie(K,pe.startTime-ne),fe=!1}}break e}finally{m=null,b=we,x=!1}fe=void 0}}finally{fe?H():Z=!1}}}var H;if(typeof U=="function")H=function(){U(G)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,J=le.port2;le.port1.onmessage=G,H=function(){J.postMessage(null)}}else H=function(){I(G,0)};function ie(ne,fe){V=I(function(){ne(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(ne){switch(b){case 1:case 2:case 3:var fe=3;break;default:fe=b}var we=b;b=fe;try{return ne()}finally{b=we}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(ne,fe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var we=b;b=ne;try{return fe()}finally{b=we}},e.unstable_scheduleCallback=function(ne,fe,we){var Ie=e.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Ie+we:Ie):we=Ie,ne){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=we+Me,ne={id:h++,callback:fe,priorityLevel:ne,startTime:we,expirationTime:Me,sortIndex:-1},we>Ie?(ne.sortIndex=we,t(c,ne),r(d)===null&&ne===r(c)&&(C?(B(V),V=-1):C=!0,ie(K,we-Ie))):(ne.sortIndex=Me,t(d,ne),E||x||(E=!0,Z||(Z=!0,H()))),ne},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(ne){var fe=b;return function(){var we=b;b=fe;try{return ne.apply(this,arguments)}finally{b=we}}}})(sx)),sx}var $E;function bF(){return $E||($E=1,ax.exports=yF()),ax.exports}var ox={exports:{}},Ms={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function xF(){if(VE)return Ms;VE=1;var e=m0();function t(d){var c="https://react.dev/errors/"+d;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,c,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:d,containerInfo:c,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,c){if(d==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Ms.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ms.createPortal=function(d,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return a(d,c,null,h)},Ms.flushSync=function(d){var c=o.T,h=n.p;try{if(o.T=null,n.p=2,d)return d()}finally{o.T=c,n.p=h,n.d.f()}},Ms.preconnect=function(d,c){typeof d=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,n.d.C(d,c))},Ms.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Ms.preinit=function(d,c){if(typeof d=="string"&&c&&typeof c.as=="string"){var h=c.as,m=u(h,c.crossOrigin),b=typeof c.integrity=="string"?c.integrity:void 0,x=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;h==="style"?n.d.S(d,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:m,integrity:b,fetchPriority:x}):h==="script"&&n.d.X(d,{crossOrigin:m,integrity:b,fetchPriority:x,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Ms.preinitModule=function(d,c){if(typeof d=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var h=u(c.as,c.crossOrigin);n.d.M(d,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&n.d.M(d)},Ms.preload=function(d,c){if(typeof d=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var h=c.as,m=u(h,c.crossOrigin);n.d.L(d,h,{crossOrigin:m,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Ms.preloadModule=function(d,c){if(typeof d=="string")if(c){var h=u(c.as,c.crossOrigin);n.d.m(d,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else n.d.m(d)},Ms.requestFormReset=function(d){n.d.r(d)},Ms.unstable_batchedUpdates=function(d,c){return d(c)},Ms.useFormState=function(d,c,h){return o.H.useFormState(d,c,h)},Ms.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ms.version="19.2.4",Ms}var YE;function IM(){if(YE)return ox.exports;YE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ox.exports=xF(),ox.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function wF(){if(XE)return p1;XE=1;var e=bF(),t=m0(),r=IM();function n(s){var f="https://react.dev/errors/"+s;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+s+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var f=s,v=s;if(s.alternate)for(;f.return;)f=f.return;else{s=f;do f=s,(f.flags&4098)!==0&&(v=f.return),s=f.return;while(s)}return f.tag===3?v:null}function o(s){if(s.tag===13){var f=s.memoizedState;if(f===null&&(s=s.alternate,s!==null&&(f=s.memoizedState)),f!==null)return f.dehydrated}return null}function u(s){if(s.tag===31){var f=s.memoizedState;if(f===null&&(s=s.alternate,s!==null&&(f=s.memoizedState)),f!==null)return f.dehydrated}return null}function d(s){if(a(s)!==s)throw Error(n(188))}function c(s){var f=s.alternate;if(!f){if(f=a(s),f===null)throw Error(n(188));return f!==s?null:s}for(var v=s,_=f;;){var k=v.return;if(k===null)break;var R=k.alternate;if(R===null){if(_=k.return,_!==null){v=_;continue}break}if(k.child===R.child){for(R=k.child;R;){if(R===v)return d(k),s;if(R===_)return d(k),f;R=R.sibling}throw Error(n(188))}if(v.return!==_.return)v=k,_=R;else{for(var Y=!1,he=k.child;he;){if(he===v){Y=!0,v=k,_=R;break}if(he===_){Y=!0,_=k,v=R;break}he=he.sibling}if(!Y){for(he=R.child;he;){if(he===v){Y=!0,v=R,_=k;break}if(he===_){Y=!0,_=R,v=k;break}he=he.sibling}if(!Y)throw Error(n(189))}}if(v.alternate!==_)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?s:f}function h(s){var f=s.tag;if(f===5||f===26||f===27||f===6)return s;for(s=s.child;s!==null;){if(f=h(s),f!==null)return f;s=s.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),U=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var le=Symbol.for("react.client.reference");function J(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===le?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case I:return"Profiler";case T:return"StrictMode";case K:return"Suspense";case Z:return"SuspenseList";case q:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case U:return s.displayName||"Context";case B:return(s._context.displayName||"Context")+".Consumer";case F:var f=s.render;return s=s.displayName,s||(s=f.displayName||f.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case V:return f=s.displayName||null,f!==null?f:J(s.type)||"Memo";case Q:f=s._payload,s=s._init;try{return J(s(f))}catch{}}return null}var ie=Array.isArray,ne=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},Ie=[],Me=-1;function pe(s){return{current:s}}function X(s){0>Me||(s.current=Ie[Me],Ie[Me]=null,Me--)}function de(s,f){Me++,Ie[Me]=s.current,s.current=f}var me=pe(null),Ne=pe(null),xe=pe(null),Re=pe(null);function ze(s,f){switch(de(xe,f),de(Ne,s),de(me,null),f.nodeType){case 9:case 11:s=(s=f.documentElement)&&(s=s.namespaceURI)?uE(s):0;break;default:if(s=f.tagName,f=f.namespaceURI)f=uE(f),s=fE(f,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}X(me),de(me,s)}function Ce(){X(me),X(Ne),X(xe)}function Ge(s){s.memoizedState!==null&&de(Re,s);var f=me.current,v=fE(f,s.type);f!==v&&(de(Ne,s),de(me,v))}function Je(s){Ne.current===s&&(X(me),X(Ne)),Re.current===s&&(X(Re),c1._currentValue=we)}var qe,lt;function bt(s){if(qe===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);qe=f&&f[1]||"",lt=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qe+s+lt}var ve=!1;function wt(s,f){if(!s||ve)return"";ve=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var _={DetermineComponentFrameRoot:function(){try{if(f){var gt=function(){throw Error()};if(Object.defineProperty(gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(gt,[])}catch(tt){var Qe=tt}Reflect.construct(s,[],gt)}else{try{gt.call()}catch(tt){Qe=tt}s.call(gt.prototype)}}else{try{throw Error()}catch(tt){Qe=tt}(gt=s())&&typeof gt.catch=="function"&&gt.catch(function(){})}}catch(tt){if(tt&&Qe&&typeof tt.stack=="string")return[tt.stack,Qe.stack]}return[null,null]}};_.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(_.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(_.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=_.DetermineComponentFrameRoot(),Y=R[0],he=R[1];if(Y&&he){var Te=Y.split(`
`),Xe=he.split(`
`);for(k=_=0;_<Te.length&&!Te[_].includes("DetermineComponentFrameRoot");)_++;for(;k<Xe.length&&!Xe[k].includes("DetermineComponentFrameRoot");)k++;if(_===Te.length||k===Xe.length)for(_=Te.length-1,k=Xe.length-1;1<=_&&0<=k&&Te[_]!==Xe[k];)k--;for(;1<=_&&0<=k;_--,k--)if(Te[_]!==Xe[k]){if(_!==1||k!==1)do if(_--,k--,0>k||Te[_]!==Xe[k]){var ft=`
`+Te[_].replace(" at new "," at ");return s.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",s.displayName)),ft}while(1<=_&&0<=k);break}}}finally{ve=!1,Error.prepareStackTrace=v}return(v=s?s.displayName||s.name:"")?bt(v):""}function jt(s,f){switch(s.tag){case 26:case 27:case 5:return bt(s.type);case 16:return bt("Lazy");case 13:return s.child!==f&&f!==null?bt("Suspense Fallback"):bt("Suspense");case 19:return bt("SuspenseList");case 0:case 15:return wt(s.type,!1);case 11:return wt(s.type.render,!1);case 1:return wt(s.type,!0);case 31:return bt("Activity");default:return""}}function _t(s){try{var f="",v=null;do f+=jt(s,v),v=s,s=s.return;while(s);return f}catch(_){return`
Error generating stack: `+_.message+`
`+_.stack}}var rt=Object.prototype.hasOwnProperty,er=e.unstable_scheduleCallback,at=e.unstable_cancelCallback,ir=e.unstable_shouldYield,ar=e.unstable_requestPaint,vr=e.unstable_now,Br=e.unstable_getCurrentPriorityLevel,lr=e.unstable_ImmediatePriority,Ur=e.unstable_UserBlockingPriority,Cr=e.unstable_NormalPriority,Ot=e.unstable_LowPriority,Tr=e.unstable_IdlePriority,Ht=e.log,ci=e.unstable_setDisableYieldValue,tr=null,nt=null;function Rt(s){if(typeof Ht=="function"&&ci(s),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(tr,s)}catch{}}var Bt=Math.clz32?Math.clz32:hr,Ct=Math.log,cn=Math.LN2;function hr(s){return s>>>=0,s===0?32:31-(Ct(s)/cn|0)|0}var wr=256,Xt=262144,_r=4194304;function Kt(s){var f=s&42;if(f!==0)return f;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Yr(s,f,v){var _=s.pendingLanes;if(_===0)return 0;var k=0,R=s.suspendedLanes,Y=s.pingedLanes;s=s.warmLanes;var he=_&134217727;return he!==0?(_=he&~R,_!==0?k=Kt(_):(Y&=he,Y!==0?k=Kt(Y):v||(v=he&~s,v!==0&&(k=Kt(v))))):(he=_&~R,he!==0?k=Kt(he):Y!==0?k=Kt(Y):v||(v=_&~s,v!==0&&(k=Kt(v)))),k===0?0:f!==0&&f!==k&&(f&R)===0&&(R=k&-k,v=f&-f,R>=v||R===32&&(v&4194048)!==0)?f:k}function ui(s,f){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&f)===0}function Pi(s,f){switch(s){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function In(){var s=_r;return _r<<=1,(_r&62914560)===0&&(_r=4194304),s}function ea(s){for(var f=[],v=0;31>v;v++)f.push(s);return f}function Zt(s,f){s.pendingLanes|=f,f!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Di(s,f,v,_,k,R){var Y=s.pendingLanes;s.pendingLanes=v,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=v,s.entangledLanes&=v,s.errorRecoveryDisabledLanes&=v,s.shellSuspendCounter=0;var he=s.entanglements,Te=s.expirationTimes,Xe=s.hiddenUpdates;for(v=Y&~v;0<v;){var ft=31-Bt(v),gt=1<<ft;he[ft]=0,Te[ft]=-1;var Qe=Xe[ft];if(Qe!==null)for(Xe[ft]=null,ft=0;ft<Qe.length;ft++){var tt=Qe[ft];tt!==null&&(tt.lane&=-536870913)}v&=~gt}_!==0&&io(s,_,0),R!==0&&k===0&&s.tag!==0&&(s.suspendedLanes|=R&~(Y&~f))}function io(s,f,v){s.pendingLanes|=f,s.suspendedLanes&=~f;var _=31-Bt(f);s.entangledLanes|=f,s.entanglements[_]=s.entanglements[_]|1073741824|v&261930}function Ti(s,f){var v=s.entangledLanes|=f;for(s=s.entanglements;v;){var _=31-Bt(v),k=1<<_;k&f|s[_]&f&&(s[_]|=f),v&=~k}}function Aa(s,f){var v=f&-f;return v=(v&42)!==0?1:zr(v),(v&(s.suspendedLanes|f))!==0?0:v}function zr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Nn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function hn(){var s=fe.p;return s!==0?s:(s=window.event,s===void 0?32:RE(s.type))}function Nt(s,f){var v=fe.p;try{return fe.p=s,f()}finally{fe.p=v}}var xi=Math.random().toString(36).slice(2),pn="__reactFiber$"+xi,Hr="__reactProps$"+xi,fi="__reactContainer$"+xi,da="__reactEvents$"+xi,Sa="__reactListeners$"+xi,ha="__reactHandles$"+xi,zs="__reactResources$"+xi,qs="__reactMarker$"+xi;function ta(s){delete s[pn],delete s[Hr],delete s[da],delete s[Sa],delete s[ha]}function kn(s){var f=s[pn];if(f)return f;for(var v=s.parentNode;v;){if(f=v[fi]||v[pn]){if(v=f.alternate,f.child!==null||v!==null&&v.child!==null)for(s=yE(s);s!==null;){if(v=s[pn])return v;s=yE(s)}return f}s=v,v=s.parentNode}return null}function Xr(s){if(s=s[pn]||s[fi]){var f=s.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return s}return null}function il(s){var f=s.tag;if(f===5||f===26||f===27||f===6)return s.stateNode;throw Error(n(33))}function ra(s){var f=s[zs];return f||(f=s[zs]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Yn(s){s[qs]=!0}var mt=new Set,fs={};function rn(s,f){Ha(s,f),Ha(s+"Capture",f)}function Ha(s,f){for(fs[s]=f,s=0;s<f.length;s++)mt.add(f[s])}var Wc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kr={},$r={};function Fr(s){return rt.call($r,s)?!0:rt.call(Kr,s)?!1:Wc.test(s)?$r[s]=!0:(Kr[s]=!0,!1)}function Ea(s,f,v){if(Fr(f))if(v===null)s.removeAttribute(f);else{switch(typeof v){case"undefined":case"function":case"symbol":s.removeAttribute(f);return;case"boolean":var _=f.toLowerCase().slice(0,5);if(_!=="data-"&&_!=="aria-"){s.removeAttribute(f);return}}s.setAttribute(f,""+v)}}function Hs(s,f,v){if(v===null)s.removeAttribute(f);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(f);return}s.setAttribute(f,""+v)}}function ds(s,f,v,_){if(_===null)s.removeAttribute(v);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(v);return}s.setAttributeNS(f,v,""+_)}}function br(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function As(s){var f=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function ao(s,f,v){var _=Object.getOwnPropertyDescriptor(s.constructor.prototype,f);if(!s.hasOwnProperty(f)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var k=_.get,R=_.set;return Object.defineProperty(s,f,{configurable:!0,get:function(){return k.call(this)},set:function(Y){v=""+Y,R.call(this,Y)}}),Object.defineProperty(s,f,{enumerable:_.enumerable}),{getValue:function(){return v},setValue:function(Y){v=""+Y},stopTracking:function(){s._valueTracker=null,delete s[f]}}}}function yn(s){if(!s._valueTracker){var f=As(s)?"checked":"value";s._valueTracker=ao(s,f,""+s[f])}}function Ss(s){if(!s)return!1;var f=s._valueTracker;if(!f)return!0;var v=f.getValue(),_="";return s&&(_=As(s)?s.checked?"true":"false":s.value),s=_,s!==v?(f.setValue(s),!0):!1}function Ca(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var zn=/[\n"\\]/g;function Or(s){return s.replace(zn,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function di(s,f,v,_,k,R,Y,he){s.name="",Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?s.type=Y:s.removeAttribute("type"),f!=null?Y==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+br(f)):s.value!==""+br(f)&&(s.value=""+br(f)):Y!=="submit"&&Y!=="reset"||s.removeAttribute("value"),f!=null?be(s,Y,br(f)):v!=null?be(s,Y,br(v)):_!=null&&s.removeAttribute("value"),k==null&&R!=null&&(s.defaultChecked=!!R),k!=null&&(s.checked=k&&typeof k!="function"&&typeof k!="symbol"),he!=null&&typeof he!="function"&&typeof he!="symbol"&&typeof he!="boolean"?s.name=""+br(he):s.removeAttribute("name")}function We(s,f,v,_,k,R,Y,he){if(R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(s.type=R),f!=null||v!=null){if(!(R!=="submit"&&R!=="reset"||f!=null)){yn(s);return}v=v!=null?""+br(v):"",f=f!=null?""+br(f):v,he||f===s.value||(s.value=f),s.defaultValue=f}_=_??k,_=typeof _!="function"&&typeof _!="symbol"&&!!_,s.checked=he?s.checked:!!_,s.defaultChecked=!!_,Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"&&(s.name=Y),yn(s)}function be(s,f,v){f==="number"&&Ca(s.ownerDocument)===s||s.defaultValue===""+v||(s.defaultValue=""+v)}function Tt(s,f,v,_){if(s=s.options,f){f={};for(var k=0;k<v.length;k++)f["$"+v[k]]=!0;for(v=0;v<s.length;v++)k=f.hasOwnProperty("$"+s[v].value),s[v].selected!==k&&(s[v].selected=k),k&&_&&(s[v].defaultSelected=!0)}else{for(v=""+br(v),f=null,k=0;k<s.length;k++){if(s[k].value===v){s[k].selected=!0,_&&(s[k].defaultSelected=!0);return}f!==null||s[k].disabled||(f=s[k])}f!==null&&(f.selected=!0)}}function ri(s,f,v){if(f!=null&&(f=""+br(f),f!==s.value&&(s.value=f),v==null)){s.defaultValue!==f&&(s.defaultValue=f);return}s.defaultValue=v!=null?""+br(v):""}function pa(s,f,v,_){if(f==null){if(_!=null){if(v!=null)throw Error(n(92));if(ie(_)){if(1<_.length)throw Error(n(93));_=_[0]}v=_}v==null&&(v=""),f=v}v=br(f),s.defaultValue=v,_=s.textContent,_===v&&_!==""&&_!==null&&(s.value=_),yn(s)}function Gs(s,f){if(f){var v=s.firstChild;if(v&&v===s.lastChild&&v.nodeType===3){v.nodeValue=f;return}}s.textContent=f}var jo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Na(s,f,v){var _=f.indexOf("--")===0;v==null||typeof v=="boolean"||v===""?_?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="":_?s.setProperty(f,v):typeof v!="number"||v===0||jo.has(f)?f==="float"?s.cssFloat=v:s[f]=(""+v).trim():s[f]=v+"px"}function rr(s,f,v){if(f!=null&&typeof f!="object")throw Error(n(62));if(s=s.style,v!=null){for(var _ in v)!v.hasOwnProperty(_)||f!=null&&f.hasOwnProperty(_)||(_.indexOf("--")===0?s.setProperty(_,""):_==="float"?s.cssFloat="":s[_]="");for(var k in f)_=f[k],f.hasOwnProperty(k)&&v[k]!==_&&Na(s,k,_)}else for(var R in f)f.hasOwnProperty(R)&&Na(s,R,f[R])}function _n(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(s){return Hu.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ga(){}var Ws=null;function Cl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Mn=null,cr=null;function $s(s){var f=Xr(s);if(f&&(s=f.stateNode)){var v=s[Hr]||null;e:switch(s=f.stateNode,f.type){case"input":if(di(s,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name),f=v.name,v.type==="radio"&&f!=null){for(v=s;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll('input[name="'+Or(""+f)+'"][type="radio"]'),f=0;f<v.length;f++){var _=v[f];if(_!==s&&_.form===s.form){var k=_[Hr]||null;if(!k)throw Error(n(90));di(_,k.value,k.defaultValue,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name)}}for(f=0;f<v.length;f++)_=v[f],_.form===s.form&&Ss(_)}break e;case"textarea":ri(s,v.value,v.defaultValue);break e;case"select":f=v.value,f!=null&&Tt(s,!!v.multiple,f,!1)}}}var ur=!1;function Gu(s,f,v){if(ur)return s(f,v);ur=!0;try{var _=s(f);return _}finally{if(ur=!1,(Mn!==null||cr!==null)&&(xg(),Mn&&(f=Mn,s=cr,cr=Mn=null,$s(f),s)))for(f=0;f<s.length;f++)$s(s[f])}}function fr(s,f){var v=s.stateNode;if(v===null)return null;var _=v[Hr]||null;if(_===null)return null;v=_[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(s=s.type,_=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!_;break e;default:s=!1}if(s)return null;if(v&&typeof v!="function")throw Error(n(231,f,typeof v));return v}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$c=!1;if(Qr)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){$c=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{$c=!1}var Wa=null,hs=null,so=null;function al(){if(so)return so;var s,f=hs,v=f.length,_,k="value"in Wa?Wa.value:Wa.textContent,R=k.length;for(s=0;s<v&&f[s]===k[s];s++);var Y=v-s;for(_=1;_<=Y&&f[v-_]===k[R-_];_++);return so=k.slice(s,1<_?1-_:void 0)}function ma(s){var f=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&f===13&&(s=13)):s=f,s===10&&(s=13),32<=s||s===13?s:0}function oo(){return!0}function Nl(){return!1}function ni(s){function f(v,_,k,R,Y){this._reactName=v,this._targetInst=k,this.type=_,this.nativeEvent=R,this.target=Y,this.currentTarget=null;for(var he in s)s.hasOwnProperty(he)&&(v=s[he],this[he]=v?v(R):R[he]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?oo:Nl,this.isPropagationStopped=Nl,this}return m(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=oo)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=oo)},persist:function(){},isPersistent:oo}),f}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jn=ni($a),lo=m({},$a,{view:0,detail:0}),Ol=ni(lo),sl,Po,Do,Tl=m({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Do&&(Do&&s.type==="mousemove"?(sl=s.screenX-Do.screenX,Po=s.screenY-Do.screenY):Po=sl=0,Do=s),sl)},movementY:function(s){return"movementY"in s?s.movementY:Po}}),nn=ni(Tl),co=m({},Tl,{dataTransfer:0}),Es=ni(co),Vs=m({},lo,{relatedTarget:0}),Lo=ni(Vs),et=m({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),P=ni(et),re=m({},$a,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ae=ni(re),ke=m({},$a,{data:0}),Fe=ni(ke),dt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function St(s){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(s):(s=Mt[s])?!!f[s]:!1}function yr(){return St}var Pt=m({},lo,{key:function(s){if(s.key){var f=dt[s.key]||s.key;if(f!=="Unidentified")return f}return s.type==="keypress"?(s=ma(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?yt[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yr,charCode:function(s){return s.type==="keypress"?ma(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ma(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Gr=ni(Pt),gn=m({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ar=ni(gn),Et=m({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yr}),Ii=ni(Et),Ir=m({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xn=ni(Ir),Va=m({},Tl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ys=ni(Va),Li=m({},$a,{newState:0,oldState:0}),Il=ni(Li),kl=[9,13,27,32],Cs=Qr&&"CompositionEvent"in window,Ns=null;Qr&&"documentMode"in document&&(Ns=document.documentMode);var ol=Qr&&"TextEvent"in window&&!Ns,Bo=Qr&&(!Cs||Ns&&8<Ns&&11>=Ns),Kn=" ",uo=!1;function ll(s,f){switch(s){case"keyup":return kl.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ho=!1;function ii(s,f){switch(s){case"compositionend":return fo(f);case"keypress":return f.which!==32?null:(uo=!0,Kn);case"textInput":return s=f.data,s===Kn&&uo?null:s;default:return null}}function Os(s,f){if(ho)return s==="compositionend"||!Cs&&ll(s,f)?(s=al(),so=hs=Wa=null,ho=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Bo&&f.locale!=="ko"?null:f.data;default:return null}}var na={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cc(s){var f=s&&s.nodeName&&s.nodeName.toLowerCase();return f==="input"?!!na[s.type]:f==="textarea"}function ai(s,f,v,_){Mn?cr?cr.push(_):cr=[_]:Mn=_,f=Ng(f,"onChange"),0<f.length&&(v=new jn("onChange","change",null,v,_),s.push({event:v,listeners:f}))}var Xs=null,Ks=null;function Vc(s){iE(s,0)}function Ts(s){var f=il(s);if(Ss(f))return s}function ia(s,f){if(s==="change")return f}var Ya=!1;if(Qr){var aa;if(Qr){var Xa="oninput"in document;if(!Xa){var jr=document.createElement("div");jr.setAttribute("oninput","return;"),Xa=typeof jr.oninput=="function"}aa=Xa}else aa=!1;Ya=aa&&(!document.documentMode||9<document.documentMode)}function Is(){Xs&&(Xs.detachEvent("onpropertychange",ee),Ks=Xs=null)}function ee(s){if(s.propertyName==="value"&&Ts(Ks)){var f=[];ai(f,Ks,s,Cl(s)),Gu(Vc,f)}}function l(s,f,v){s==="focusin"?(Is(),Xs=f,Ks=v,Xs.attachEvent("onpropertychange",ee)):s==="focusout"&&Is()}function p(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ts(Ks)}function g(s,f){if(s==="click")return Ts(f)}function y(s,f){if(s==="input"||s==="change")return Ts(f)}function w(s,f){return s===f&&(s!==0||1/s===1/f)||s!==s&&f!==f}var A=typeof Object.is=="function"?Object.is:w;function O(s,f){if(A(s,f))return!0;if(typeof s!="object"||s===null||typeof f!="object"||f===null)return!1;var v=Object.keys(s),_=Object.keys(f);if(v.length!==_.length)return!1;for(_=0;_<v.length;_++){var k=v[_];if(!rt.call(f,k)||!A(s[k],f[k]))return!1}return!0}function j(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function L(s,f){var v=j(s);s=0;for(var _;v;){if(v.nodeType===3){if(_=s+v.textContent.length,s<=f&&_>=f)return{node:v,offset:f-s};s=_}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=j(v)}}function W(s,f){return s&&f?s===f?!0:s&&s.nodeType===3?!1:f&&f.nodeType===3?W(s,f.parentNode):"contains"in s?s.contains(f):s.compareDocumentPosition?!!(s.compareDocumentPosition(f)&16):!1:!1}function te(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var f=Ca(s.document);f instanceof s.HTMLIFrameElement;){try{var v=typeof f.contentWindow.location.href=="string"}catch{v=!1}if(v)s=f.contentWindow;else break;f=Ca(s.document)}return f}function oe(s){var f=s&&s.nodeName&&s.nodeName.toLowerCase();return f&&(f==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||f==="textarea"||s.contentEditable==="true")}var _e=Qr&&"documentMode"in document&&11>=document.documentMode,Oe=null,je=null,Be=null,Ze=!1;function ct(s,f,v){var _=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;Ze||Oe==null||Oe!==Ca(_)||(_=Oe,"selectionStart"in _&&oe(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Be&&O(Be,_)||(Be=_,_=Ng(je,"onSelect"),0<_.length&&(f=new jn("onSelect","select",null,f,v),s.push({event:f,listeners:_}),f.target=Oe)))}function ut(s,f){var v={};return v[s.toLowerCase()]=f.toLowerCase(),v["Webkit"+s]="webkit"+f,v["Moz"+s]="moz"+f,v}var ot={animationend:ut("Animation","AnimationEnd"),animationiteration:ut("Animation","AnimationIteration"),animationstart:ut("Animation","AnimationStart"),transitionrun:ut("Transition","TransitionRun"),transitionstart:ut("Transition","TransitionStart"),transitioncancel:ut("Transition","TransitionCancel"),transitionend:ut("Transition","TransitionEnd")},nr={},pr={};Qr&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete ot.animationend.animation,delete ot.animationiteration.animation,delete ot.animationstart.animation),"TransitionEvent"in window||delete ot.transitionend.transition);function qn(s){if(nr[s])return nr[s];if(!ot[s])return s;var f=ot[s],v;for(v in f)if(f.hasOwnProperty(v)&&v in pr)return nr[s]=f[v];return s}var sa=qn("animationend"),Bi=qn("animationiteration"),mn=qn("animationstart"),Fi=qn("transitionrun"),Ka=qn("transitionstart"),Ml=qn("transitioncancel"),cl=qn("transitionend"),zf=new Map,jl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jl.push("scrollEnd");function po(s,f){zf.set(s,f),rn(f,[s])}var qf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Zs=[],Yc=0,$d=0;function Hf(){for(var s=Yc,f=$d=Yc=0;f<s;){var v=Zs[f];Zs[f++]=null;var _=Zs[f];Zs[f++]=null;var k=Zs[f];Zs[f++]=null;var R=Zs[f];if(Zs[f++]=null,_!==null&&k!==null){var Y=_.pending;Y===null?k.next=k:(k.next=Y.next,Y.next=k),_.pending=k}R!==0&&Wf(v,k,R)}}function Gf(s,f,v,_){Zs[Yc++]=s,Zs[Yc++]=f,Zs[Yc++]=v,Zs[Yc++]=_,$d|=_,s.lanes|=_,s=s.alternate,s!==null&&(s.lanes|=_)}function Vd(s,f,v,_){return Gf(s,f,v,_),Za(s)}function Rl(s,f){return Gf(s,null,null,f),Za(s)}function Wf(s,f,v){s.lanes|=v;var _=s.alternate;_!==null&&(_.lanes|=v);for(var k=!1,R=s.return;R!==null;)R.childLanes|=v,_=R.alternate,_!==null&&(_.childLanes|=v),R.tag===22&&(s=R.stateNode,s===null||s._visibility&1||(k=!0)),s=R,R=R.return;return s.tag===3?(R=s.stateNode,k&&f!==null&&(k=31-Bt(v),s=R.hiddenUpdates,_=s[k],_===null?s[k]=[f]:_.push(f),f.lane=v|536870912),R):null}function Za(s){if(50<r1)throw r1=0,Cb=null,Error(n(185));for(var f=s.return;f!==null;)s=f,f=s.return;return s.tag===3?s.stateNode:null}var Oa={};function Yd(s,f,v,_){this.tag=s,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qa(s,f,v,_){return new Yd(s,f,v,_)}function Xd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function go(s,f){var v=s.alternate;return v===null?(v=Qa(s.tag,f,s.key,s.mode),v.elementType=s.elementType,v.type=s.type,v.stateNode=s.stateNode,v.alternate=s,s.alternate=v):(v.pendingProps=f,v.type=s.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=s.flags&65011712,v.childLanes=s.childLanes,v.lanes=s.lanes,v.child=s.child,v.memoizedProps=s.memoizedProps,v.memoizedState=s.memoizedState,v.updateQueue=s.updateQueue,f=s.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=s.sibling,v.index=s.index,v.ref=s.ref,v.refCleanup=s.refCleanup,v}function $f(s,f){s.flags&=65011714;var v=s.alternate;return v===null?(s.childLanes=0,s.lanes=f,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=v.childLanes,s.lanes=v.lanes,s.child=v.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=v.memoizedProps,s.memoizedState=v.memoizedState,s.updateQueue=v.updateQueue,s.type=v.type,f=v.dependencies,s.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),s}function Wu(s,f,v,_,k,R){var Y=0;if(_=s,typeof s=="function")Xd(s)&&(Y=1);else if(typeof s=="string")Y=JB(s,v,me.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case q:return s=Qa(31,v,f,k),s.elementType=q,s.lanes=R,s;case C:return uc(v.children,k,R,f);case T:Y=8,k|=24;break;case I:return s=Qa(12,v,f,k|2),s.elementType=I,s.lanes=R,s;case K:return s=Qa(13,v,f,k),s.elementType=K,s.lanes=R,s;case Z:return s=Qa(19,v,f,k),s.elementType=Z,s.lanes=R,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:Y=10;break e;case B:Y=9;break e;case F:Y=11;break e;case V:Y=14;break e;case Q:Y=16,_=null;break e}Y=29,v=Error(n(130,s===null?"null":typeof s,"")),_=null}return f=Qa(Y,v,f,k),f.elementType=s,f.type=_,f.lanes=R,f}function uc(s,f,v,_){return s=Qa(7,s,_,f),s.lanes=v,s}function Vf(s,f,v){return s=Qa(6,s,null,f),s.lanes=v,s}function Kd(s){var f=Qa(18,null,null,0);return f.stateNode=s,f}function $u(s,f,v){return f=Qa(4,s.children!==null?s.children:[],s.key,f),f.lanes=v,f.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},f}var Zd=new WeakMap;function mo(s,f){if(typeof s=="object"&&s!==null){var v=Zd.get(s);return v!==void 0?v:(f={value:s,source:f,stack:_t(f)},Zd.set(s,f),f)}return{value:s,source:f,stack:_t(f)}}var Vu=[],Xc=0,Qd=null,Yf=0,vo=[],yo=0,fc=null,bo=1,xo="";function Qs(s,f){Vu[Xc++]=Yf,Vu[Xc++]=Qd,Qd=s,Yf=f}function Jp(s,f,v){vo[yo++]=bo,vo[yo++]=xo,vo[yo++]=fc,fc=s;var _=bo;s=xo;var k=32-Bt(_)-1;_&=~(1<<k),v+=1;var R=32-Bt(f)+k;if(30<R){var Y=k-k%5;R=(_&(1<<Y)-1).toString(32),_>>=Y,k-=Y,bo=1<<32-Bt(f)+k|v<<k|_,xo=R+s}else bo=1<<R|v<<k|_,xo=s}function P0(s){s.return!==null&&(Qs(s,1),Jp(s,1,0))}function Jd(s){for(;s===Qd;)Qd=Vu[--Xc],Vu[Xc]=null,Yf=Vu[--Xc],Vu[Xc]=null;for(;s===fc;)fc=vo[--yo],vo[yo]=null,xo=vo[--yo],vo[yo]=null,bo=vo[--yo],vo[yo]=null}function eg(s,f){vo[yo++]=bo,vo[yo++]=xo,vo[yo++]=fc,bo=f.id,xo=f.overflow,fc=s}var Ta=null,Zn=null,Jr=!1,ps=null,wi=!1,Fo=Error(n(519));function dc(s){var f=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yu(mo(f,s)),Fo}function D0(s){var f=s.stateNode,v=s.type,_=s.memoizedProps;switch(f[pn]=s,f[Hr]=_,v){case"dialog":tn("cancel",f),tn("close",f);break;case"iframe":case"object":case"embed":tn("load",f);break;case"video":case"audio":for(v=0;v<i1.length;v++)tn(i1[v],f);break;case"source":tn("error",f);break;case"img":case"image":case"link":tn("error",f),tn("load",f);break;case"details":tn("toggle",f);break;case"input":tn("invalid",f),We(f,_.value,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name,!0);break;case"select":tn("invalid",f);break;case"textarea":tn("invalid",f),pa(f,_.value,_.defaultValue,_.children)}v=_.children,typeof v!="string"&&typeof v!="number"&&typeof v!="bigint"||f.textContent===""+v||_.suppressHydrationWarning===!0||lE(f.textContent,v)?(_.popover!=null&&(tn("beforetoggle",f),tn("toggle",f)),_.onScroll!=null&&tn("scroll",f),_.onScrollEnd!=null&&tn("scrollend",f),_.onClick!=null&&(f.onclick=Ga),f=!0):f=!1,f||dc(s,!0)}function Pl(s){for(Ta=s.return;Ta;)switch(Ta.tag){case 5:case 31:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:Ta=Ta.return}}function Ia(s){if(s!==Ta)return!1;if(!Jr)return Pl(s),Jr=!0,!1;var f=s.tag,v;if((v=f!==3&&f!==27)&&((v=f===5)&&(v=s.type,v=!(v!=="form"&&v!=="button")||zb(s.type,s.memoizedProps)),v=!v),v&&Zn&&dc(s),Pl(s),f===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Zn=vE(s)}else if(f===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Zn=vE(s)}else f===27?(f=Zn,cf(s.type)?(s=$b,$b=null,Zn=s):Zn=f):Zn=Ta?hl(s.stateNode.nextSibling):null;return!0}function Kc(){Zn=Ta=null,Jr=!1}function L0(){var s=ps;return s!==null&&(Co===null?Co=s:Co.push.apply(Co,s),ps=null),s}function Yu(s){ps===null?ps=[s]:ps.push(s)}var eh=pe(null),hc=null,ul=null;function pc(s,f,v){de(eh,f._currentValue),f._currentValue=v}function wo(s){s._currentValue=eh.current,X(eh)}function Xu(s,f,v){for(;s!==null;){var _=s.alternate;if((s.childLanes&f)!==f?(s.childLanes|=f,_!==null&&(_.childLanes|=f)):_!==null&&(_.childLanes&f)!==f&&(_.childLanes|=f),s===v)break;s=s.return}}function Zc(s,f,v,_){var k=s.child;for(k!==null&&(k.return=s);k!==null;){var R=k.dependencies;if(R!==null){var Y=k.child;R=R.firstContext;e:for(;R!==null;){var he=R;R=k;for(var Te=0;Te<f.length;Te++)if(he.context===f[Te]){R.lanes|=v,he=R.alternate,he!==null&&(he.lanes|=v),Xu(R.return,v,s),_||(Y=null);break e}R=he.next}}else if(k.tag===18){if(Y=k.return,Y===null)throw Error(n(341));Y.lanes|=v,R=Y.alternate,R!==null&&(R.lanes|=v),Xu(Y,v,s),Y=null}else Y=k.child;if(Y!==null)Y.return=k;else for(Y=k;Y!==null;){if(Y===s){Y=null;break}if(k=Y.sibling,k!==null){k.return=Y.return,Y=k;break}Y=Y.return}k=Y}}function gc(s,f,v,_){s=null;for(var k=f,R=!1;k!==null;){if(!R){if((k.flags&524288)!==0)R=!0;else if((k.flags&262144)!==0)break}if(k.tag===10){var Y=k.alternate;if(Y===null)throw Error(n(387));if(Y=Y.memoizedProps,Y!==null){var he=k.type;A(k.pendingProps.value,Y.value)||(s!==null?s.push(he):s=[he])}}else if(k===Re.current){if(Y=k.alternate,Y===null)throw Error(n(387));Y.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(s!==null?s.push(c1):s=[c1])}k=k.return}s!==null&&Zc(f,s,v,_),f.flags|=262144}function th(s){for(s=s.firstContext;s!==null;){if(!A(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function mc(s){hc=s,ul=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ka(s){return tg(hc,s)}function rh(s,f){return hc===null&&mc(s),tg(s,f)}function tg(s,f){var v=f._currentValue;if(f={context:f,memoizedValue:v,next:null},ul===null){if(s===null)throw Error(n(308));ul=f,s.dependencies={lanes:0,firstContext:f},s.flags|=524288}else ul=ul.next=f;return v}var Wy=typeof AbortController<"u"?AbortController:function(){var s=[],f=this.signal={aborted:!1,addEventListener:function(v,_){s.push(_)}};this.abort=function(){f.aborted=!0,s.forEach(function(v){return v()})}},$y=e.unstable_scheduleCallback,Vy=e.unstable_NormalPriority,ki={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ku(){return{controller:new Wy,data:new Map,refCount:0}}function Xf(s){s.refCount--,s.refCount===0&&$y(Vy,function(){s.controller.abort()})}var Kf=null,nh=0,N=0,M=null;function z(s,f){if(Kf===null){var v=Kf=[];nh=0,N=Mb(),M={status:"pending",value:void 0,then:function(_){v.push(_)}}}return nh++,f.then($,$),f}function $(){if(--nh===0&&Kf!==null){M!==null&&(M.status="fulfilled");var s=Kf;Kf=null,N=0,M=null;for(var f=0;f<s.length;f++)(0,s[f])()}}function ae(s,f){var v=[],_={status:"pending",value:null,reason:null,then:function(k){v.push(k)}};return s.then(function(){_.status="fulfilled",_.value=f;for(var k=0;k<v.length;k++)(0,v[k])(f)},function(k){for(_.status="rejected",_.reason=k,k=0;k<v.length;k++)(0,v[k])(void 0)}),_}var ce=ne.S;ne.S=function(s,f){M4=vr(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&z(s,f),ce!==null&&ce(s,f)};var ue=pe(null);function ge(){var s=ue.current;return s!==null?s:Jn.pooledCache}function ye(s,f){f===null?de(ue,ue.current):de(ue,f.pool)}function Ee(){var s=ge();return s===null?null:{parent:ki._currentValue,pool:s}}var Pe=Error(n(460)),Ve=Error(n(474)),Se=Error(n(542)),Le={then:function(){}};function He(s){return s=s.status,s==="fulfilled"||s==="rejected"}function st(s,f,v){switch(v=s[v],v===void 0?s.push(f):v!==f&&(f.then(Ga,Ga),f=v),f.status){case"fulfilled":return f.value;case"rejected":throw s=f.reason,xt(s),s;default:if(typeof f.status=="string")f.then(Ga,Ga);else{if(s=Jn,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=f,s.status="pending",s.then(function(_){if(f.status==="pending"){var k=f;k.status="fulfilled",k.value=_}},function(_){if(f.status==="pending"){var k=f;k.status="rejected",k.reason=_}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw s=f.reason,xt(s),s}throw it=f,Pe}}function $e(s){try{var f=s._init;return f(s._payload)}catch(v){throw v!==null&&typeof v=="object"&&typeof v.then=="function"?(it=v,Pe):v}}var it=null;function ht(){if(it===null)throw Error(n(459));var s=it;return it=null,s}function xt(s){if(s===Pe||s===Se)throw Error(n(483))}var vt=null,Gt=0;function It(s){var f=Gt;return Gt+=1,vt===null&&(vt=[]),st(vt,s,f)}function kr(s,f){f=f.props.ref,s.ref=f!==void 0?f:null}function Ft(s,f){throw f.$$typeof===b?Error(n(525)):(s=Object.prototype.toString.call(f),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":s)))}function Zr(s){function f(Ue,De){if(s){var Ye=Ue.deletions;Ye===null?(Ue.deletions=[De],Ue.flags|=16):Ye.push(De)}}function v(Ue,De){if(!s)return null;for(;De!==null;)f(Ue,De),De=De.sibling;return null}function _(Ue){for(var De=new Map;Ue!==null;)Ue.key!==null?De.set(Ue.key,Ue):De.set(Ue.index,Ue),Ue=Ue.sibling;return De}function k(Ue,De){return Ue=go(Ue,De),Ue.index=0,Ue.sibling=null,Ue}function R(Ue,De,Ye){return Ue.index=Ye,s?(Ye=Ue.alternate,Ye!==null?(Ye=Ye.index,Ye<De?(Ue.flags|=67108866,De):Ye):(Ue.flags|=67108866,De)):(Ue.flags|=1048576,De)}function Y(Ue){return s&&Ue.alternate===null&&(Ue.flags|=67108866),Ue}function he(Ue,De,Ye,pt){return De===null||De.tag!==6?(De=Vf(Ye,Ue.mode,pt),De.return=Ue,De):(De=k(De,Ye),De.return=Ue,De)}function Te(Ue,De,Ye,pt){var mr=Ye.type;return mr===C?ft(Ue,De,Ye.props.children,pt,Ye.key):De!==null&&(De.elementType===mr||typeof mr=="object"&&mr!==null&&mr.$$typeof===Q&&$e(mr)===De.type)?(De=k(De,Ye.props),kr(De,Ye),De.return=Ue,De):(De=Wu(Ye.type,Ye.key,Ye.props,null,Ue.mode,pt),kr(De,Ye),De.return=Ue,De)}function Xe(Ue,De,Ye,pt){return De===null||De.tag!==4||De.stateNode.containerInfo!==Ye.containerInfo||De.stateNode.implementation!==Ye.implementation?(De=$u(Ye,Ue.mode,pt),De.return=Ue,De):(De=k(De,Ye.children||[]),De.return=Ue,De)}function ft(Ue,De,Ye,pt,mr){return De===null||De.tag!==7?(De=uc(Ye,Ue.mode,pt,mr),De.return=Ue,De):(De=k(De,Ye),De.return=Ue,De)}function gt(Ue,De,Ye){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return De=Vf(""+De,Ue.mode,Ye),De.return=Ue,De;if(typeof De=="object"&&De!==null){switch(De.$$typeof){case x:return Ye=Wu(De.type,De.key,De.props,null,Ue.mode,Ye),kr(Ye,De),Ye.return=Ue,Ye;case E:return De=$u(De,Ue.mode,Ye),De.return=Ue,De;case Q:return De=$e(De),gt(Ue,De,Ye)}if(ie(De)||H(De))return De=uc(De,Ue.mode,Ye,null),De.return=Ue,De;if(typeof De.then=="function")return gt(Ue,It(De),Ye);if(De.$$typeof===U)return gt(Ue,rh(Ue,De),Ye);Ft(Ue,De)}return null}function Qe(Ue,De,Ye,pt){var mr=De!==null?De.key:null;if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return mr!==null?null:he(Ue,De,""+Ye,pt);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case x:return Ye.key===mr?Te(Ue,De,Ye,pt):null;case E:return Ye.key===mr?Xe(Ue,De,Ye,pt):null;case Q:return Ye=$e(Ye),Qe(Ue,De,Ye,pt)}if(ie(Ye)||H(Ye))return mr!==null?null:ft(Ue,De,Ye,pt,null);if(typeof Ye.then=="function")return Qe(Ue,De,It(Ye),pt);if(Ye.$$typeof===U)return Qe(Ue,De,rh(Ue,Ye),pt);Ft(Ue,Ye)}return null}function tt(Ue,De,Ye,pt,mr){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return Ue=Ue.get(Ye)||null,he(De,Ue,""+pt,mr);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case x:return Ue=Ue.get(pt.key===null?Ye:pt.key)||null,Te(De,Ue,pt,mr);case E:return Ue=Ue.get(pt.key===null?Ye:pt.key)||null,Xe(De,Ue,pt,mr);case Q:return pt=$e(pt),tt(Ue,De,Ye,pt,mr)}if(ie(pt)||H(pt))return Ue=Ue.get(Ye)||null,ft(De,Ue,pt,mr,null);if(typeof pt.then=="function")return tt(Ue,De,Ye,It(pt),mr);if(pt.$$typeof===U)return tt(Ue,De,Ye,rh(De,pt),mr);Ft(De,pt)}return null}function zt(Ue,De,Ye,pt){for(var mr=null,bn=null,Qt=De,qr=De=0,sn=null;Qt!==null&&qr<Ye.length;qr++){Qt.index>qr?(sn=Qt,Qt=null):sn=Qt.sibling;var xn=Qe(Ue,Qt,Ye[qr],pt);if(xn===null){Qt===null&&(Qt=sn);break}s&&Qt&&xn.alternate===null&&f(Ue,Qt),De=R(xn,De,qr),bn===null?mr=xn:bn.sibling=xn,bn=xn,Qt=sn}if(qr===Ye.length)return v(Ue,Qt),Jr&&Qs(Ue,qr),mr;if(Qt===null){for(;qr<Ye.length;qr++)Qt=gt(Ue,Ye[qr],pt),Qt!==null&&(De=R(Qt,De,qr),bn===null?mr=Qt:bn.sibling=Qt,bn=Qt);return Jr&&Qs(Ue,qr),mr}for(Qt=_(Qt);qr<Ye.length;qr++)sn=tt(Qt,Ue,qr,Ye[qr],pt),sn!==null&&(s&&sn.alternate!==null&&Qt.delete(sn.key===null?qr:sn.key),De=R(sn,De,qr),bn===null?mr=sn:bn.sibling=sn,bn=sn);return s&&Qt.forEach(function(pf){return f(Ue,pf)}),Jr&&Qs(Ue,qr),mr}function Sr(Ue,De,Ye,pt){if(Ye==null)throw Error(n(151));for(var mr=null,bn=null,Qt=De,qr=De=0,sn=null,xn=Ye.next();Qt!==null&&!xn.done;qr++,xn=Ye.next()){Qt.index>qr?(sn=Qt,Qt=null):sn=Qt.sibling;var pf=Qe(Ue,Qt,xn.value,pt);if(pf===null){Qt===null&&(Qt=sn);break}s&&Qt&&pf.alternate===null&&f(Ue,Qt),De=R(pf,De,qr),bn===null?mr=pf:bn.sibling=pf,bn=pf,Qt=sn}if(xn.done)return v(Ue,Qt),Jr&&Qs(Ue,qr),mr;if(Qt===null){for(;!xn.done;qr++,xn=Ye.next())xn=gt(Ue,xn.value,pt),xn!==null&&(De=R(xn,De,qr),bn===null?mr=xn:bn.sibling=xn,bn=xn);return Jr&&Qs(Ue,qr),mr}for(Qt=_(Qt);!xn.done;qr++,xn=Ye.next())xn=tt(Qt,Ue,qr,xn.value,pt),xn!==null&&(s&&xn.alternate!==null&&Qt.delete(xn.key===null?qr:xn.key),De=R(xn,De,qr),bn===null?mr=xn:bn.sibling=xn,bn=xn);return s&&Qt.forEach(function(uF){return f(Ue,uF)}),Jr&&Qs(Ue,qr),mr}function $n(Ue,De,Ye,pt){if(typeof Ye=="object"&&Ye!==null&&Ye.type===C&&Ye.key===null&&(Ye=Ye.props.children),typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case x:e:{for(var mr=Ye.key;De!==null;){if(De.key===mr){if(mr=Ye.type,mr===C){if(De.tag===7){v(Ue,De.sibling),pt=k(De,Ye.props.children),pt.return=Ue,Ue=pt;break e}}else if(De.elementType===mr||typeof mr=="object"&&mr!==null&&mr.$$typeof===Q&&$e(mr)===De.type){v(Ue,De.sibling),pt=k(De,Ye.props),kr(pt,Ye),pt.return=Ue,Ue=pt;break e}v(Ue,De);break}else f(Ue,De);De=De.sibling}Ye.type===C?(pt=uc(Ye.props.children,Ue.mode,pt,Ye.key),pt.return=Ue,Ue=pt):(pt=Wu(Ye.type,Ye.key,Ye.props,null,Ue.mode,pt),kr(pt,Ye),pt.return=Ue,Ue=pt)}return Y(Ue);case E:e:{for(mr=Ye.key;De!==null;){if(De.key===mr)if(De.tag===4&&De.stateNode.containerInfo===Ye.containerInfo&&De.stateNode.implementation===Ye.implementation){v(Ue,De.sibling),pt=k(De,Ye.children||[]),pt.return=Ue,Ue=pt;break e}else{v(Ue,De);break}else f(Ue,De);De=De.sibling}pt=$u(Ye,Ue.mode,pt),pt.return=Ue,Ue=pt}return Y(Ue);case Q:return Ye=$e(Ye),$n(Ue,De,Ye,pt)}if(ie(Ye))return zt(Ue,De,Ye,pt);if(H(Ye)){if(mr=H(Ye),typeof mr!="function")throw Error(n(150));return Ye=mr.call(Ye),Sr(Ue,De,Ye,pt)}if(typeof Ye.then=="function")return $n(Ue,De,It(Ye),pt);if(Ye.$$typeof===U)return $n(Ue,De,rh(Ue,Ye),pt);Ft(Ue,Ye)}return typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint"?(Ye=""+Ye,De!==null&&De.tag===6?(v(Ue,De.sibling),pt=k(De,Ye),pt.return=Ue,Ue=pt):(v(Ue,De),pt=Vf(Ye,Ue.mode,pt),pt.return=Ue,Ue=pt),Y(Ue)):v(Ue,De)}return function(Ue,De,Ye,pt){try{Gt=0;var mr=$n(Ue,De,Ye,pt);return vt=null,mr}catch(Qt){if(Qt===Pe||Qt===Se)throw Qt;var bn=Qa(29,Qt,null,Ue.mode);return bn.lanes=pt,bn.return=Ue,bn}finally{}}}var Qn=Zr(!0),Rr=Zr(!1),kt=!1;function At(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hi(s,f){s=s.updateQueue,f.updateQueue===s&&(f.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function xr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Lr(s,f,v){var _=s.updateQueue;if(_===null)return null;if(_=_.shared,(En&2)!==0){var k=_.pending;return k===null?f.next=f:(f.next=k.next,k.next=f),_.pending=f,f=Za(s),Wf(s,null,v),f}return Gf(s,_,f,v),Za(s)}function An(s,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194048)!==0)){var _=f.lanes;_&=s.pendingLanes,v|=_,f.lanes=v,Ti(s,v)}}function oa(s,f){var v=s.updateQueue,_=s.alternate;if(_!==null&&(_=_.updateQueue,v===_)){var k=null,R=null;if(v=v.firstBaseUpdate,v!==null){do{var Y={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};R===null?k=R=Y:R=R.next=Y,v=v.next}while(v!==null);R===null?k=R=f:R=R.next=f}else k=R=f;v={baseState:_.baseState,firstBaseUpdate:k,lastBaseUpdate:R,shared:_.shared,callbacks:_.callbacks},s.updateQueue=v;return}s=v.lastBaseUpdate,s===null?v.firstBaseUpdate=f:s.next=f,v.lastBaseUpdate=f}var Ma=!1;function Hn(){if(Ma){var s=M;if(s!==null)throw s}}function Ui(s,f,v,_){Ma=!1;var k=s.updateQueue;kt=!1;var R=k.firstBaseUpdate,Y=k.lastBaseUpdate,he=k.shared.pending;if(he!==null){k.shared.pending=null;var Te=he,Xe=Te.next;Te.next=null,Y===null?R=Xe:Y.next=Xe,Y=Te;var ft=s.alternate;ft!==null&&(ft=ft.updateQueue,he=ft.lastBaseUpdate,he!==Y&&(he===null?ft.firstBaseUpdate=Xe:he.next=Xe,ft.lastBaseUpdate=Te))}if(R!==null){var gt=k.baseState;Y=0,ft=Xe=Te=null,he=R;do{var Qe=he.lane&-536870913,tt=Qe!==he.lane;if(tt?(an&Qe)===Qe:(_&Qe)===Qe){Qe!==0&&Qe===N&&(Ma=!0),ft!==null&&(ft=ft.next={lane:0,tag:he.tag,payload:he.payload,callback:null,next:null});e:{var zt=s,Sr=he;Qe=f;var $n=v;switch(Sr.tag){case 1:if(zt=Sr.payload,typeof zt=="function"){gt=zt.call($n,gt,Qe);break e}gt=zt;break e;case 3:zt.flags=zt.flags&-65537|128;case 0:if(zt=Sr.payload,Qe=typeof zt=="function"?zt.call($n,gt,Qe):zt,Qe==null)break e;gt=m({},gt,Qe);break e;case 2:kt=!0}}Qe=he.callback,Qe!==null&&(s.flags|=64,tt&&(s.flags|=8192),tt=k.callbacks,tt===null?k.callbacks=[Qe]:tt.push(Qe))}else tt={lane:Qe,tag:he.tag,payload:he.payload,callback:he.callback,next:null},ft===null?(Xe=ft=tt,Te=gt):ft=ft.next=tt,Y|=Qe;if(he=he.next,he===null){if(he=k.shared.pending,he===null)break;tt=he,he=tt.next,tt.next=null,k.lastBaseUpdate=tt,k.shared.pending=null}}while(!0);ft===null&&(Te=gt),k.baseState=Te,k.firstBaseUpdate=Xe,k.lastBaseUpdate=ft,R===null&&(k.shared.lanes=0),nf|=Y,s.lanes=Y,s.memoizedState=gt}}function Ja(s,f){if(typeof s!="function")throw Error(n(191,s));s.call(f)}function zi(s,f){var v=s.callbacks;if(v!==null)for(s.callbacks=null,s=0;s<v.length;s++)Ja(v[s],f)}var Wr=pe(null),un=pe(0);function pi(s,f){s=ou,de(un,s),de(Wr,f),ou=s|f.baseLanes}function vn(){de(un,ou),de(Wr,Wr.current)}function la(){ou=un.current,X(Wr),X(un)}var gi=pe(null),fn=null;function Mi(s){var f=s.alternate;de(on,on.current&1),de(gi,s),fn===null&&(f===null||Wr.current!==null||f.memoizedState!==null)&&(fn=s)}function Sn(s){de(on,on.current),de(gi,s),fn===null&&(fn=s)}function qi(s){s.tag===22?(de(on,on.current),de(gi,s),fn===null&&(fn=s)):Hi()}function Hi(){de(on,on.current),de(gi,gi.current)}function Rn(s){X(gi),fn===s&&(fn=null),X(on)}var on=pe(0);function es(s){for(var f=s;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||Gb(v)||Wb(v)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var _i=0,dr=null,gr=null,dn=null,ks=!1,_o=!1,gs=!1,Gi=0,vc=0,yc=null,ih=0;function Gn(){throw Error(n(321))}function B0(s,f){if(f===null)return!1;for(var v=0;v<f.length&&v<s.length;v++)if(!A(s[v],f[v]))return!1;return!0}function F0(s,f,v,_,k,R){return _i=R,dr=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,ne.H=s===null||s.memoizedState===null?HS:tb,gs=!1,R=v(_,k),gs=!1,_o&&(R=Dl(f,v,_,k)),ah(s),R}function ah(s){ne.H=V0;var f=gr!==null&&gr.next!==null;if(_i=0,dn=gr=dr=null,ks=!1,vc=0,yc=null,f)throw Error(n(300));s===null||ya||(s=s.dependencies,s!==null&&th(s)&&(ya=!0))}function Dl(s,f,v,_){dr=s;var k=0;do{if(_o&&(yc=null),vc=0,_o=!1,25<=k)throw Error(n(301));if(k+=1,dn=gr=null,s.updateQueue!=null){var R=s.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}ne.H=GS,R=f(v,_)}while(_o);return R}function Yy(){var s=ne.H,f=s.useState()[0];return f=typeof f.then=="function"?bc(f):f,s=s.useState()[0],(gr!==null?gr.memoizedState:null)!==s&&(dr.flags|=1024),f}function U0(){var s=Gi!==0;return Gi=0,s}function z0(s,f,v){f.updateQueue=s.updateQueue,f.flags&=-2053,s.lanes&=~v}function sh(s){if(ks){for(s=s.memoizedState;s!==null;){var f=s.queue;f!==null&&(f.pending=null),s=s.next}ks=!1}_i=0,dn=gr=dr=null,_o=!1,vc=Gi=0,yc=null}function va(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?dr.memoizedState=dn=s:dn=dn.next=s,dn}function Ai(){if(gr===null){var s=dr.alternate;s=s!==null?s.memoizedState:null}else s=gr.next;var f=dn===null?dr.memoizedState:dn.next;if(f!==null)dn=f,gr=s;else{if(s===null)throw dr.alternate===null?Error(n(467)):Error(n(310));gr=s,s={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},dn===null?dr.memoizedState=dn=s:dn=dn.next=s}return dn}function Zf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bc(s){var f=vc;return vc+=1,yc===null&&(yc=[]),s=st(yc,s,f),f=dr,(dn===null?f.memoizedState:dn.next)===null&&(f=f.alternate,ne.H=f===null||f.memoizedState===null?HS:tb),s}function Zu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return bc(s);if(s.$$typeof===U)return ka(s)}throw Error(n(438,String(s)))}function Qc(s){var f=null,v=dr.updateQueue;if(v!==null&&(f=v.memoCache),f==null){var _=dr.alternate;_!==null&&(_=_.updateQueue,_!==null&&(_=_.memoCache,_!=null&&(f={data:_.data.map(function(k){return k.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),v===null&&(v=Zf(),dr.updateQueue=v),v.memoCache=f,v=f.data[f.index],v===void 0)for(v=f.data[f.index]=Array(s),_=0;_<s;_++)v[_]=se;return f.index++,v}function fl(s,f){return typeof f=="function"?f(s):f}function oh(s){var f=Ai();return Qu(f,gr,s)}function Qu(s,f,v){var _=s.queue;if(_===null)throw Error(n(311));_.lastRenderedReducer=v;var k=s.baseQueue,R=_.pending;if(R!==null){if(k!==null){var Y=k.next;k.next=R.next,R.next=Y}f.baseQueue=k=R,_.pending=null}if(R=s.baseState,k===null)s.memoizedState=R;else{f=k.next;var he=Y=null,Te=null,Xe=f,ft=!1;do{var gt=Xe.lane&-536870913;if(gt!==Xe.lane?(an&gt)===gt:(_i&gt)===gt){var Qe=Xe.revertLane;if(Qe===0)Te!==null&&(Te=Te.next={lane:0,revertLane:0,gesture:null,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),gt===N&&(ft=!0);else if((_i&Qe)===Qe){Xe=Xe.next,Qe===N&&(ft=!0);continue}else gt={lane:0,revertLane:Xe.revertLane,gesture:null,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Te===null?(he=Te=gt,Y=R):Te=Te.next=gt,dr.lanes|=Qe,nf|=Qe;gt=Xe.action,gs&&v(R,gt),R=Xe.hasEagerState?Xe.eagerState:v(R,gt)}else Qe={lane:gt,revertLane:Xe.revertLane,gesture:Xe.gesture,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Te===null?(he=Te=Qe,Y=R):Te=Te.next=Qe,dr.lanes|=gt,nf|=gt;Xe=Xe.next}while(Xe!==null&&Xe!==f);if(Te===null?Y=R:Te.next=he,!A(R,s.memoizedState)&&(ya=!0,ft&&(v=M,v!==null)))throw v;s.memoizedState=R,s.baseState=Y,s.baseQueue=Te,_.lastRenderedState=R}return k===null&&(_.lanes=0),[s.memoizedState,_.dispatch]}function lh(s){var f=Ai(),v=f.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=s;var _=v.dispatch,k=v.pending,R=f.memoizedState;if(k!==null){v.pending=null;var Y=k=k.next;do R=s(R,Y.action),Y=Y.next;while(Y!==k);A(R,f.memoizedState)||(ya=!0),f.memoizedState=R,f.baseQueue===null&&(f.baseState=R),v.lastRenderedState=R}return[R,_]}function ch(s,f,v){var _=dr,k=Ai(),R=Jr;if(R){if(v===void 0)throw Error(n(407));v=v()}else v=f();var Y=!A((gr||k).memoizedState,v);if(Y&&(k.memoizedState=v,ya=!0),k=k.queue,Xy(H0.bind(null,_,k,s),[s]),k.getSnapshot!==f||Y||dn!==null&&dn.memoizedState.tag&1){if(_.flags|=2048,eu(9,{destroy:void 0},q0.bind(null,_,k,v,f),null),Jn===null)throw Error(n(349));R||(_i&127)!==0||Ll(_,f,v)}return v}function Ll(s,f,v){s.flags|=16384,s={getSnapshot:f,value:v},f=dr.updateQueue,f===null?(f=Zf(),dr.updateQueue=f,f.stores=[s]):(v=f.stores,v===null?f.stores=[s]:v.push(s))}function q0(s,f,v,_){f.value=v,f.getSnapshot=_,rg(f)&&G0(s)}function H0(s,f,v){return v(function(){rg(f)&&G0(s)})}function rg(s){var f=s.getSnapshot;s=s.value;try{var v=f();return!A(s,v)}catch{return!0}}function G0(s){var f=Rl(s,2);f!==null&&No(f,s,2)}function xc(s){var f=va();if(typeof s=="function"){var v=s;if(s=v(),gs){Rt(!0);try{v()}finally{Rt(!1)}}}return f.memoizedState=f.baseState=s,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:s},f}function ng(s,f,v,_){return s.baseState=v,Qu(s,gr,typeof _=="function"?_:fl)}function ig(s,f,v,_,k){if(lg(s))throw Error(n(485));if(s=f.action,s!==null){var R={payload:k,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Y){R.listeners.push(Y)}};ne.T!==null?v(!0):R.isTransition=!1,_(R),v=f.pending,v===null?(R.next=f.pending=R,ag(f,R)):(R.next=v.next,f.pending=v.next=R)}}function ag(s,f){var v=f.action,_=f.payload,k=s.state;if(f.isTransition){var R=ne.T,Y={};ne.T=Y;try{var he=v(k,_),Te=ne.S;Te!==null&&Te(Y,he),W0(s,f,he)}catch(Xe){Jc(s,f,Xe)}finally{R!==null&&Y.types!==null&&(R.types=Y.types),ne.T=R}}else try{R=v(k,_),W0(s,f,R)}catch(Xe){Jc(s,f,Xe)}}function W0(s,f,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(_){sg(s,f,_)},function(_){return Jc(s,f,_)}):sg(s,f,v)}function sg(s,f,v){f.status="fulfilled",f.value=v,uh(f),s.state=v,f=s.pending,f!==null&&(v=f.next,v===f?s.pending=null:(v=v.next,f.next=v,ag(s,v)))}function Jc(s,f,v){var _=s.pending;if(s.pending=null,_!==null){_=_.next;do f.status="rejected",f.reason=v,uh(f),f=f.next;while(f!==_)}s.action=null}function uh(s){s=s.listeners;for(var f=0;f<s.length;f++)(0,s[f])()}function Qf(s,f){return f}function dl(s,f){if(Jr){var v=Jn.formState;if(v!==null){e:{var _=dr;if(Jr){if(Zn){t:{for(var k=Zn,R=wi;k.nodeType!==8;){if(!R){k=null;break t}if(k=hl(k.nextSibling),k===null){k=null;break t}}R=k.data,k=R==="F!"||R==="F"?k:null}if(k){Zn=hl(k.nextSibling),_=k.data==="F!";break e}}dc(_)}_=!1}_&&(f=v[0])}}return v=va(),v.memoizedState=v.baseState=f,_={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qf,lastRenderedState:f},v.queue=_,v=US.bind(null,dr,_),_.dispatch=v,_=xc(!1),R=eb.bind(null,dr,!1,_.queue),_=va(),k={state:f,dispatch:null,action:s,pending:null},_.queue=k,v=ig.bind(null,dr,k,R,v),k.dispatch=v,_.memoizedState=s,[f,v,!1]}function Bl(s){var f=Ai();return Fl(f,gr,s)}function Fl(s,f,v){if(f=Qu(s,f,Qf)[0],s=oh(fl)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var _=bc(f)}catch(Y){throw Y===Pe?Se:Y}else _=f;f=Ai();var k=f.queue,R=k.dispatch;return v!==f.memoizedState&&(dr.flags|=2048,eu(9,{destroy:void 0},fh.bind(null,k,v),null)),[_,R,s]}function fh(s,f){s.action=f}function dh(s){var f=Ai(),v=gr;if(v!==null)return Fl(f,v,s);Ai(),f=f.memoizedState,v=Ai();var _=v.queue.dispatch;return v.memoizedState=s,[f,_,!1]}function eu(s,f,v,_){return s={tag:s,create:v,deps:_,inst:f,next:null},f=dr.updateQueue,f===null&&(f=Zf(),dr.updateQueue=f),v=f.lastEffect,v===null?f.lastEffect=s.next=s:(_=v.next,v.next=s,s.next=_,f.lastEffect=s),s}function og(){return Ai().memoizedState}function Ju(s,f,v,_){var k=va();dr.flags|=s,k.memoizedState=eu(1|f,{destroy:void 0},v,_===void 0?null:_)}function ef(s,f,v,_){var k=Ai();_=_===void 0?null:_;var R=k.memoizedState.inst;gr!==null&&_!==null&&B0(_,gr.memoizedState.deps)?k.memoizedState=eu(f,R,v,_):(dr.flags|=s,k.memoizedState=eu(1|f,R,v,_))}function CS(s,f){Ju(8390656,8,s,f)}function Xy(s,f){ef(2048,8,s,f)}function iB(s){dr.flags|=4;var f=dr.updateQueue;if(f===null)f=Zf(),dr.updateQueue=f,f.events=[s];else{var v=f.events;v===null?f.events=[s]:v.push(s)}}function NS(s){var f=Ai().memoizedState;return iB({ref:f,nextImpl:s}),function(){if((En&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}function OS(s,f){return ef(4,2,s,f)}function TS(s,f){return ef(4,4,s,f)}function IS(s,f){if(typeof f=="function"){s=s();var v=f(s);return function(){typeof v=="function"?v():f(null)}}if(f!=null)return s=s(),f.current=s,function(){f.current=null}}function kS(s,f,v){v=v!=null?v.concat([s]):null,ef(4,4,IS.bind(null,f,s),v)}function Ky(){}function MS(s,f){var v=Ai();f=f===void 0?null:f;var _=v.memoizedState;return f!==null&&B0(f,_[1])?_[0]:(v.memoizedState=[s,f],s)}function jS(s,f){var v=Ai();f=f===void 0?null:f;var _=v.memoizedState;if(f!==null&&B0(f,_[1]))return _[0];if(_=s(),gs){Rt(!0);try{s()}finally{Rt(!1)}}return v.memoizedState=[_,f],_}function Zy(s,f,v){return v===void 0||(_i&1073741824)!==0&&(an&261930)===0?s.memoizedState=f:(s.memoizedState=v,s=R4(),dr.lanes|=s,nf|=s,v)}function RS(s,f,v,_){return A(v,f)?v:Wr.current!==null?(s=Zy(s,v,_),A(s,f)||(ya=!0),s):(_i&42)===0||(_i&1073741824)!==0&&(an&261930)===0?(ya=!0,s.memoizedState=v):(s=R4(),dr.lanes|=s,nf|=s,f)}function PS(s,f,v,_,k){var R=fe.p;fe.p=R!==0&&8>R?R:8;var Y=ne.T,he={};ne.T=he,eb(s,!1,f,v);try{var Te=k(),Xe=ne.S;if(Xe!==null&&Xe(he,Te),Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var ft=ae(Te,_);$0(s,f,ft,qo(s))}else $0(s,f,_,qo(s))}catch(gt){$0(s,f,{then:function(){},status:"rejected",reason:gt},qo())}finally{fe.p=R,Y!==null&&he.types!==null&&(Y.types=he.types),ne.T=Y}}function aB(){}function Qy(s,f,v,_){if(s.tag!==5)throw Error(n(476));var k=DS(s).queue;PS(s,k,f,we,v===null?aB:function(){return LS(s),v(_)})}function DS(s){var f=s.memoizedState;if(f!==null)return f;f={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:we},next:null};var v={};return f.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:v},next:null},s.memoizedState=f,s=s.alternate,s!==null&&(s.memoizedState=f),f}function LS(s){var f=DS(s);f.next===null&&(f=s.alternate.memoizedState),$0(s,f.next.queue,{},qo())}function Jy(){return ka(c1)}function BS(){return Ai().memoizedState}function FS(){return Ai().memoizedState}function sB(s){for(var f=s.return;f!==null;){switch(f.tag){case 24:case 3:var v=qo();s=xr(v);var _=Lr(f,s,v);_!==null&&(No(_,f,v),An(_,f,v)),f={cache:Ku()},s.payload=f;return}f=f.return}}function oB(s,f,v){var _=qo();v={lane:_,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},lg(s)?zS(f,v):(v=Vd(s,f,v,_),v!==null&&(No(v,s,_),qS(v,f,_)))}function US(s,f,v){var _=qo();$0(s,f,v,_)}function $0(s,f,v,_){var k={lane:_,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null};if(lg(s))zS(f,k);else{var R=s.alternate;if(s.lanes===0&&(R===null||R.lanes===0)&&(R=f.lastRenderedReducer,R!==null))try{var Y=f.lastRenderedState,he=R(Y,v);if(k.hasEagerState=!0,k.eagerState=he,A(he,Y))return Gf(s,f,k,0),Jn===null&&Hf(),!1}catch{}finally{}if(v=Vd(s,f,k,_),v!==null)return No(v,s,_),qS(v,f,_),!0}return!1}function eb(s,f,v,_){if(_={lane:2,revertLane:Mb(),gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null},lg(s)){if(f)throw Error(n(479))}else f=Vd(s,v,_,2),f!==null&&No(f,s,2)}function lg(s){var f=s.alternate;return s===dr||f!==null&&f===dr}function zS(s,f){_o=ks=!0;var v=s.pending;v===null?f.next=f:(f.next=v.next,v.next=f),s.pending=f}function qS(s,f,v){if((v&4194048)!==0){var _=f.lanes;_&=s.pendingLanes,v|=_,f.lanes=v,Ti(s,v)}}var V0={readContext:ka,use:Zu,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useLayoutEffect:Gn,useInsertionEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useSyncExternalStore:Gn,useId:Gn,useHostTransitionStatus:Gn,useFormState:Gn,useActionState:Gn,useOptimistic:Gn,useMemoCache:Gn,useCacheRefresh:Gn};V0.useEffectEvent=Gn;var HS={readContext:ka,use:Zu,useCallback:function(s,f){return va().memoizedState=[s,f===void 0?null:f],s},useContext:ka,useEffect:CS,useImperativeHandle:function(s,f,v){v=v!=null?v.concat([s]):null,Ju(4194308,4,IS.bind(null,f,s),v)},useLayoutEffect:function(s,f){return Ju(4194308,4,s,f)},useInsertionEffect:function(s,f){Ju(4,2,s,f)},useMemo:function(s,f){var v=va();f=f===void 0?null:f;var _=s();if(gs){Rt(!0);try{s()}finally{Rt(!1)}}return v.memoizedState=[_,f],_},useReducer:function(s,f,v){var _=va();if(v!==void 0){var k=v(f);if(gs){Rt(!0);try{v(f)}finally{Rt(!1)}}}else k=f;return _.memoizedState=_.baseState=k,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:k},_.queue=s,s=s.dispatch=oB.bind(null,dr,s),[_.memoizedState,s]},useRef:function(s){var f=va();return s={current:s},f.memoizedState=s},useState:function(s){s=xc(s);var f=s.queue,v=US.bind(null,dr,f);return f.dispatch=v,[s.memoizedState,v]},useDebugValue:Ky,useDeferredValue:function(s,f){var v=va();return Zy(v,s,f)},useTransition:function(){var s=xc(!1);return s=PS.bind(null,dr,s.queue,!0,!1),va().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,f,v){var _=dr,k=va();if(Jr){if(v===void 0)throw Error(n(407));v=v()}else{if(v=f(),Jn===null)throw Error(n(349));(an&127)!==0||Ll(_,f,v)}k.memoizedState=v;var R={value:v,getSnapshot:f};return k.queue=R,CS(H0.bind(null,_,R,s),[s]),_.flags|=2048,eu(9,{destroy:void 0},q0.bind(null,_,R,v,f),null),v},useId:function(){var s=va(),f=Jn.identifierPrefix;if(Jr){var v=xo,_=bo;v=(_&~(1<<32-Bt(_)-1)).toString(32)+v,f="_"+f+"R_"+v,v=Gi++,0<v&&(f+="H"+v.toString(32)),f+="_"}else v=ih++,f="_"+f+"r_"+v.toString(32)+"_";return s.memoizedState=f},useHostTransitionStatus:Jy,useFormState:dl,useActionState:dl,useOptimistic:function(s){var f=va();f.memoizedState=f.baseState=s;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=v,f=eb.bind(null,dr,!0,v),v.dispatch=f,[s,f]},useMemoCache:Qc,useCacheRefresh:function(){return va().memoizedState=sB.bind(null,dr)},useEffectEvent:function(s){var f=va(),v={impl:s};return f.memoizedState=v,function(){if((En&2)!==0)throw Error(n(440));return v.impl.apply(void 0,arguments)}}},tb={readContext:ka,use:Zu,useCallback:MS,useContext:ka,useEffect:Xy,useImperativeHandle:kS,useInsertionEffect:OS,useLayoutEffect:TS,useMemo:jS,useReducer:oh,useRef:og,useState:function(){return oh(fl)},useDebugValue:Ky,useDeferredValue:function(s,f){var v=Ai();return RS(v,gr.memoizedState,s,f)},useTransition:function(){var s=oh(fl)[0],f=Ai().memoizedState;return[typeof s=="boolean"?s:bc(s),f]},useSyncExternalStore:ch,useId:BS,useHostTransitionStatus:Jy,useFormState:Bl,useActionState:Bl,useOptimistic:function(s,f){var v=Ai();return ng(v,gr,s,f)},useMemoCache:Qc,useCacheRefresh:FS};tb.useEffectEvent=NS;var GS={readContext:ka,use:Zu,useCallback:MS,useContext:ka,useEffect:Xy,useImperativeHandle:kS,useInsertionEffect:OS,useLayoutEffect:TS,useMemo:jS,useReducer:lh,useRef:og,useState:function(){return lh(fl)},useDebugValue:Ky,useDeferredValue:function(s,f){var v=Ai();return gr===null?Zy(v,s,f):RS(v,gr.memoizedState,s,f)},useTransition:function(){var s=lh(fl)[0],f=Ai().memoizedState;return[typeof s=="boolean"?s:bc(s),f]},useSyncExternalStore:ch,useId:BS,useHostTransitionStatus:Jy,useFormState:dh,useActionState:dh,useOptimistic:function(s,f){var v=Ai();return gr!==null?ng(v,gr,s,f):(v.baseState=s,[s,v.queue.dispatch])},useMemoCache:Qc,useCacheRefresh:FS};GS.useEffectEvent=NS;function rb(s,f,v,_){f=s.memoizedState,v=v(_,f),v=v==null?f:m({},f,v),s.memoizedState=v,s.lanes===0&&(s.updateQueue.baseState=v)}var nb={enqueueSetState:function(s,f,v){s=s._reactInternals;var _=qo(),k=xr(_);k.payload=f,v!=null&&(k.callback=v),f=Lr(s,k,_),f!==null&&(No(f,s,_),An(f,s,_))},enqueueReplaceState:function(s,f,v){s=s._reactInternals;var _=qo(),k=xr(_);k.tag=1,k.payload=f,v!=null&&(k.callback=v),f=Lr(s,k,_),f!==null&&(No(f,s,_),An(f,s,_))},enqueueForceUpdate:function(s,f){s=s._reactInternals;var v=qo(),_=xr(v);_.tag=2,f!=null&&(_.callback=f),f=Lr(s,_,v),f!==null&&(No(f,s,v),An(f,s,v))}};function WS(s,f,v,_,k,R,Y){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(_,R,Y):f.prototype&&f.prototype.isPureReactComponent?!O(v,_)||!O(k,R):!0}function $S(s,f,v,_){s=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,_),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,_),f.state!==s&&nb.enqueueReplaceState(f,f.state,null)}function Jf(s,f){var v=f;if("ref"in f){v={};for(var _ in f)_!=="ref"&&(v[_]=f[_])}if(s=s.defaultProps){v===f&&(v=m({},v));for(var k in s)v[k]===void 0&&(v[k]=s[k])}return v}function VS(s){qf(s)}function YS(s){console.error(s)}function XS(s){qf(s)}function cg(s,f){try{var v=s.onUncaughtError;v(f.value,{componentStack:f.stack})}catch(_){setTimeout(function(){throw _})}}function KS(s,f,v){try{var _=s.onCaughtError;_(v.value,{componentStack:v.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function ib(s,f,v){return v=xr(v),v.tag=3,v.payload={element:null},v.callback=function(){cg(s,f)},v}function ZS(s){return s=xr(s),s.tag=3,s}function QS(s,f,v,_){var k=v.type.getDerivedStateFromError;if(typeof k=="function"){var R=_.value;s.payload=function(){return k(R)},s.callback=function(){KS(f,v,_)}}var Y=v.stateNode;Y!==null&&typeof Y.componentDidCatch=="function"&&(s.callback=function(){KS(f,v,_),typeof k!="function"&&(af===null?af=new Set([this]):af.add(this));var he=_.stack;this.componentDidCatch(_.value,{componentStack:he!==null?he:""})})}function lB(s,f,v,_,k){if(v.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){if(f=v.alternate,f!==null&&gc(f,v,k,!0),v=gi.current,v!==null){switch(v.tag){case 31:case 13:return fn===null?wg():v.alternate===null&&Wi===0&&(Wi=3),v.flags&=-257,v.flags|=65536,v.lanes=k,_===Le?v.flags|=16384:(f=v.updateQueue,f===null?v.updateQueue=new Set([_]):f.add(_),Tb(s,_,k)),!1;case 22:return v.flags|=65536,_===Le?v.flags|=16384:(f=v.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([_])},v.updateQueue=f):(v=f.retryQueue,v===null?f.retryQueue=new Set([_]):v.add(_)),Tb(s,_,k)),!1}throw Error(n(435,v.tag))}return Tb(s,_,k),wg(),!1}if(Jr)return f=gi.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=k,_!==Fo&&(s=Error(n(422),{cause:_}),Yu(mo(s,v)))):(_!==Fo&&(f=Error(n(423),{cause:_}),Yu(mo(f,v))),s=s.current.alternate,s.flags|=65536,k&=-k,s.lanes|=k,_=mo(_,v),k=ib(s.stateNode,_,k),oa(s,k),Wi!==4&&(Wi=2)),!1;var R=Error(n(520),{cause:_});if(R=mo(R,v),t1===null?t1=[R]:t1.push(R),Wi!==4&&(Wi=2),f===null)return!0;_=mo(_,v),v=f;do{switch(v.tag){case 3:return v.flags|=65536,s=k&-k,v.lanes|=s,s=ib(v.stateNode,_,s),oa(v,s),!1;case 1:if(f=v.type,R=v.stateNode,(v.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(af===null||!af.has(R))))return v.flags|=65536,k&=-k,v.lanes|=k,k=ZS(k),QS(k,s,v,_),oa(v,k),!1}v=v.return}while(v!==null);return!1}var ab=Error(n(461)),ya=!1;function ms(s,f,v,_){f.child=s===null?Rr(f,null,v,_):Qn(f,s.child,v,_)}function JS(s,f,v,_,k){v=v.render;var R=f.ref;if("ref"in _){var Y={};for(var he in _)he!=="ref"&&(Y[he]=_[he])}else Y=_;return mc(f),_=F0(s,f,v,Y,R,k),he=U0(),s!==null&&!ya?(z0(s,f,k),tu(s,f,k)):(Jr&&he&&P0(f),f.flags|=1,ms(s,f,_,k),f.child)}function e4(s,f,v,_,k){if(s===null){var R=v.type;return typeof R=="function"&&!Xd(R)&&R.defaultProps===void 0&&v.compare===null?(f.tag=15,f.type=R,t4(s,f,R,_,k)):(s=Wu(v.type,null,_,f,f.mode,k),s.ref=f.ref,s.return=f,f.child=s)}if(R=s.child,!hb(s,k)){var Y=R.memoizedProps;if(v=v.compare,v=v!==null?v:O,v(Y,_)&&s.ref===f.ref)return tu(s,f,k)}return f.flags|=1,s=go(R,_),s.ref=f.ref,s.return=f,f.child=s}function t4(s,f,v,_,k){if(s!==null){var R=s.memoizedProps;if(O(R,_)&&s.ref===f.ref)if(ya=!1,f.pendingProps=_=R,hb(s,k))(s.flags&131072)!==0&&(ya=!0);else return f.lanes=s.lanes,tu(s,f,k)}return sb(s,f,v,_,k)}function r4(s,f,v,_){var k=_.children,R=s!==null?s.memoizedState:null;if(s===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),_.mode==="hidden"){if((f.flags&128)!==0){if(R=R!==null?R.baseLanes|v:v,s!==null){for(_=f.child=s.child,k=0;_!==null;)k=k|_.lanes|_.childLanes,_=_.sibling;_=k&~R}else _=0,f.child=null;return n4(s,f,R,v,_)}if((v&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},s!==null&&ye(f,R!==null?R.cachePool:null),R!==null?pi(f,R):vn(),qi(f);else return _=f.lanes=536870912,n4(s,f,R!==null?R.baseLanes|v:v,v,_)}else R!==null?(ye(f,R.cachePool),pi(f,R),Hi(),f.memoizedState=null):(s!==null&&ye(f,null),vn(),Hi());return ms(s,f,k,v),f.child}function Y0(s,f){return s!==null&&s.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function n4(s,f,v,_,k){var R=ge();return R=R===null?null:{parent:ki._currentValue,pool:R},f.memoizedState={baseLanes:v,cachePool:R},s!==null&&ye(f,null),vn(),qi(f),s!==null&&gc(s,f,_,!0),f.childLanes=k,null}function ug(s,f){return f=dg({mode:f.mode,children:f.children},s.mode),f.ref=s.ref,s.child=f,f.return=s,f}function i4(s,f,v){return Qn(f,s.child,null,v),s=ug(f,f.pendingProps),s.flags|=2,Rn(f),f.memoizedState=null,s}function cB(s,f,v){var _=f.pendingProps,k=(f.flags&128)!==0;if(f.flags&=-129,s===null){if(Jr){if(_.mode==="hidden")return s=ug(f,_),f.lanes=536870912,Y0(null,s);if(Sn(f),(s=Zn)?(s=mE(s,wi),s=s!==null&&s.data==="&"?s:null,s!==null&&(f.memoizedState={dehydrated:s,treeContext:fc!==null?{id:bo,overflow:xo}:null,retryLane:536870912,hydrationErrors:null},v=Kd(s),v.return=f,f.child=v,Ta=f,Zn=null)):s=null,s===null)throw dc(f);return f.lanes=536870912,null}return ug(f,_)}var R=s.memoizedState;if(R!==null){var Y=R.dehydrated;if(Sn(f),k)if(f.flags&256)f.flags&=-257,f=i4(s,f,v);else if(f.memoizedState!==null)f.child=s.child,f.flags|=128,f=null;else throw Error(n(558));else if(ya||gc(s,f,v,!1),k=(v&s.childLanes)!==0,ya||k){if(_=Jn,_!==null&&(Y=Aa(_,v),Y!==0&&Y!==R.retryLane))throw R.retryLane=Y,Rl(s,Y),No(_,s,Y),ab;wg(),f=i4(s,f,v)}else s=R.treeContext,Zn=hl(Y.nextSibling),Ta=f,Jr=!0,ps=null,wi=!1,s!==null&&eg(f,s),f=ug(f,_),f.flags|=4096;return f}return s=go(s.child,{mode:_.mode,children:_.children}),s.ref=f.ref,f.child=s,s.return=f,s}function fg(s,f){var v=f.ref;if(v===null)s!==null&&s.ref!==null&&(f.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(n(284));(s===null||s.ref!==v)&&(f.flags|=4194816)}}function sb(s,f,v,_,k){return mc(f),v=F0(s,f,v,_,void 0,k),_=U0(),s!==null&&!ya?(z0(s,f,k),tu(s,f,k)):(Jr&&_&&P0(f),f.flags|=1,ms(s,f,v,k),f.child)}function a4(s,f,v,_,k,R){return mc(f),f.updateQueue=null,v=Dl(f,_,v,k),ah(s),_=U0(),s!==null&&!ya?(z0(s,f,R),tu(s,f,R)):(Jr&&_&&P0(f),f.flags|=1,ms(s,f,v,R),f.child)}function s4(s,f,v,_,k){if(mc(f),f.stateNode===null){var R=Oa,Y=v.contextType;typeof Y=="object"&&Y!==null&&(R=ka(Y)),R=new v(_,R),f.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=nb,f.stateNode=R,R._reactInternals=f,R=f.stateNode,R.props=_,R.state=f.memoizedState,R.refs={},At(f),Y=v.contextType,R.context=typeof Y=="object"&&Y!==null?ka(Y):Oa,R.state=f.memoizedState,Y=v.getDerivedStateFromProps,typeof Y=="function"&&(rb(f,v,Y,_),R.state=f.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(Y=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),Y!==R.state&&nb.enqueueReplaceState(R,R.state,null),Ui(f,_,R,k),Hn(),R.state=f.memoizedState),typeof R.componentDidMount=="function"&&(f.flags|=4194308),_=!0}else if(s===null){R=f.stateNode;var he=f.memoizedProps,Te=Jf(v,he);R.props=Te;var Xe=R.context,ft=v.contextType;Y=Oa,typeof ft=="object"&&ft!==null&&(Y=ka(ft));var gt=v.getDerivedStateFromProps;ft=typeof gt=="function"||typeof R.getSnapshotBeforeUpdate=="function",he=f.pendingProps!==he,ft||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(he||Xe!==Y)&&$S(f,R,_,Y),kt=!1;var Qe=f.memoizedState;R.state=Qe,Ui(f,_,R,k),Hn(),Xe=f.memoizedState,he||Qe!==Xe||kt?(typeof gt=="function"&&(rb(f,v,gt,_),Xe=f.memoizedState),(Te=kt||WS(f,v,Te,_,Qe,Xe,Y))?(ft||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(f.flags|=4194308)):(typeof R.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=_,f.memoizedState=Xe),R.props=_,R.state=Xe,R.context=Y,_=Te):(typeof R.componentDidMount=="function"&&(f.flags|=4194308),_=!1)}else{R=f.stateNode,hi(s,f),Y=f.memoizedProps,ft=Jf(v,Y),R.props=ft,gt=f.pendingProps,Qe=R.context,Xe=v.contextType,Te=Oa,typeof Xe=="object"&&Xe!==null&&(Te=ka(Xe)),he=v.getDerivedStateFromProps,(Xe=typeof he=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(Y!==gt||Qe!==Te)&&$S(f,R,_,Te),kt=!1,Qe=f.memoizedState,R.state=Qe,Ui(f,_,R,k),Hn();var tt=f.memoizedState;Y!==gt||Qe!==tt||kt||s!==null&&s.dependencies!==null&&th(s.dependencies)?(typeof he=="function"&&(rb(f,v,he,_),tt=f.memoizedState),(ft=kt||WS(f,v,ft,_,Qe,tt,Te)||s!==null&&s.dependencies!==null&&th(s.dependencies))?(Xe||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(_,tt,Te),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(_,tt,Te)),typeof R.componentDidUpdate=="function"&&(f.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof R.componentDidUpdate!="function"||Y===s.memoizedProps&&Qe===s.memoizedState||(f.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||Y===s.memoizedProps&&Qe===s.memoizedState||(f.flags|=1024),f.memoizedProps=_,f.memoizedState=tt),R.props=_,R.state=tt,R.context=Te,_=ft):(typeof R.componentDidUpdate!="function"||Y===s.memoizedProps&&Qe===s.memoizedState||(f.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||Y===s.memoizedProps&&Qe===s.memoizedState||(f.flags|=1024),_=!1)}return R=_,fg(s,f),_=(f.flags&128)!==0,R||_?(R=f.stateNode,v=_&&typeof v.getDerivedStateFromError!="function"?null:R.render(),f.flags|=1,s!==null&&_?(f.child=Qn(f,s.child,null,k),f.child=Qn(f,null,v,k)):ms(s,f,v,k),f.memoizedState=R.state,s=f.child):s=tu(s,f,k),s}function o4(s,f,v,_){return Kc(),f.flags|=256,ms(s,f,v,_),f.child}var ob={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lb(s){return{baseLanes:s,cachePool:Ee()}}function cb(s,f,v){return s=s!==null?s.childLanes&~v:0,f&&(s|=zo),s}function l4(s,f,v){var _=f.pendingProps,k=!1,R=(f.flags&128)!==0,Y;if((Y=R)||(Y=s!==null&&s.memoizedState===null?!1:(on.current&2)!==0),Y&&(k=!0,f.flags&=-129),Y=(f.flags&32)!==0,f.flags&=-33,s===null){if(Jr){if(k?Mi(f):Hi(),(s=Zn)?(s=mE(s,wi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(f.memoizedState={dehydrated:s,treeContext:fc!==null?{id:bo,overflow:xo}:null,retryLane:536870912,hydrationErrors:null},v=Kd(s),v.return=f,f.child=v,Ta=f,Zn=null)):s=null,s===null)throw dc(f);return Wb(s)?f.lanes=32:f.lanes=536870912,null}var he=_.children;return _=_.fallback,k?(Hi(),k=f.mode,he=dg({mode:"hidden",children:he},k),_=uc(_,k,v,null),he.return=f,_.return=f,he.sibling=_,f.child=he,_=f.child,_.memoizedState=lb(v),_.childLanes=cb(s,Y,v),f.memoizedState=ob,Y0(null,_)):(Mi(f),ub(f,he))}var Te=s.memoizedState;if(Te!==null&&(he=Te.dehydrated,he!==null)){if(R)f.flags&256?(Mi(f),f.flags&=-257,f=fb(s,f,v)):f.memoizedState!==null?(Hi(),f.child=s.child,f.flags|=128,f=null):(Hi(),he=_.fallback,k=f.mode,_=dg({mode:"visible",children:_.children},k),he=uc(he,k,v,null),he.flags|=2,_.return=f,he.return=f,_.sibling=he,f.child=_,Qn(f,s.child,null,v),_=f.child,_.memoizedState=lb(v),_.childLanes=cb(s,Y,v),f.memoizedState=ob,f=Y0(null,_));else if(Mi(f),Wb(he)){if(Y=he.nextSibling&&he.nextSibling.dataset,Y)var Xe=Y.dgst;Y=Xe,_=Error(n(419)),_.stack="",_.digest=Y,Yu({value:_,source:null,stack:null}),f=fb(s,f,v)}else if(ya||gc(s,f,v,!1),Y=(v&s.childLanes)!==0,ya||Y){if(Y=Jn,Y!==null&&(_=Aa(Y,v),_!==0&&_!==Te.retryLane))throw Te.retryLane=_,Rl(s,_),No(Y,s,_),ab;Gb(he)||wg(),f=fb(s,f,v)}else Gb(he)?(f.flags|=192,f.child=s.child,f=null):(s=Te.treeContext,Zn=hl(he.nextSibling),Ta=f,Jr=!0,ps=null,wi=!1,s!==null&&eg(f,s),f=ub(f,_.children),f.flags|=4096);return f}return k?(Hi(),he=_.fallback,k=f.mode,Te=s.child,Xe=Te.sibling,_=go(Te,{mode:"hidden",children:_.children}),_.subtreeFlags=Te.subtreeFlags&65011712,Xe!==null?he=go(Xe,he):(he=uc(he,k,v,null),he.flags|=2),he.return=f,_.return=f,_.sibling=he,f.child=_,Y0(null,_),_=f.child,he=s.child.memoizedState,he===null?he=lb(v):(k=he.cachePool,k!==null?(Te=ki._currentValue,k=k.parent!==Te?{parent:Te,pool:Te}:k):k=Ee(),he={baseLanes:he.baseLanes|v,cachePool:k}),_.memoizedState=he,_.childLanes=cb(s,Y,v),f.memoizedState=ob,Y0(s.child,_)):(Mi(f),v=s.child,s=v.sibling,v=go(v,{mode:"visible",children:_.children}),v.return=f,v.sibling=null,s!==null&&(Y=f.deletions,Y===null?(f.deletions=[s],f.flags|=16):Y.push(s)),f.child=v,f.memoizedState=null,v)}function ub(s,f){return f=dg({mode:"visible",children:f},s.mode),f.return=s,s.child=f}function dg(s,f){return s=Qa(22,s,null,f),s.lanes=0,s}function fb(s,f,v){return Qn(f,s.child,null,v),s=ub(f,f.pendingProps.children),s.flags|=2,f.memoizedState=null,s}function c4(s,f,v){s.lanes|=f;var _=s.alternate;_!==null&&(_.lanes|=f),Xu(s.return,f,v)}function db(s,f,v,_,k,R){var Y=s.memoizedState;Y===null?s.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:_,tail:v,tailMode:k,treeForkCount:R}:(Y.isBackwards=f,Y.rendering=null,Y.renderingStartTime=0,Y.last=_,Y.tail=v,Y.tailMode=k,Y.treeForkCount=R)}function u4(s,f,v){var _=f.pendingProps,k=_.revealOrder,R=_.tail;_=_.children;var Y=on.current,he=(Y&2)!==0;if(he?(Y=Y&1|2,f.flags|=128):Y&=1,de(on,Y),ms(s,f,_,v),_=Jr?Yf:0,!he&&s!==null&&(s.flags&128)!==0)e:for(s=f.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&c4(s,v,f);else if(s.tag===19)c4(s,v,f);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===f)break e;for(;s.sibling===null;){if(s.return===null||s.return===f)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(k){case"forwards":for(v=f.child,k=null;v!==null;)s=v.alternate,s!==null&&es(s)===null&&(k=v),v=v.sibling;v=k,v===null?(k=f.child,f.child=null):(k=v.sibling,v.sibling=null),db(f,!1,k,v,R,_);break;case"backwards":case"unstable_legacy-backwards":for(v=null,k=f.child,f.child=null;k!==null;){if(s=k.alternate,s!==null&&es(s)===null){f.child=k;break}s=k.sibling,k.sibling=v,v=k,k=s}db(f,!0,v,null,R,_);break;case"together":db(f,!1,null,null,void 0,_);break;default:f.memoizedState=null}return f.child}function tu(s,f,v){if(s!==null&&(f.dependencies=s.dependencies),nf|=f.lanes,(v&f.childLanes)===0)if(s!==null){if(gc(s,f,v,!1),(v&f.childLanes)===0)return null}else return null;if(s!==null&&f.child!==s.child)throw Error(n(153));if(f.child!==null){for(s=f.child,v=go(s,s.pendingProps),f.child=v,v.return=f;s.sibling!==null;)s=s.sibling,v=v.sibling=go(s,s.pendingProps),v.return=f;v.sibling=null}return f.child}function hb(s,f){return(s.lanes&f)!==0?!0:(s=s.dependencies,!!(s!==null&&th(s)))}function uB(s,f,v){switch(f.tag){case 3:ze(f,f.stateNode.containerInfo),pc(f,ki,s.memoizedState.cache),Kc();break;case 27:case 5:Ge(f);break;case 4:ze(f,f.stateNode.containerInfo);break;case 10:pc(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,Sn(f),null;break;case 13:var _=f.memoizedState;if(_!==null)return _.dehydrated!==null?(Mi(f),f.flags|=128,null):(v&f.child.childLanes)!==0?l4(s,f,v):(Mi(f),s=tu(s,f,v),s!==null?s.sibling:null);Mi(f);break;case 19:var k=(s.flags&128)!==0;if(_=(v&f.childLanes)!==0,_||(gc(s,f,v,!1),_=(v&f.childLanes)!==0),k){if(_)return u4(s,f,v);f.flags|=128}if(k=f.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),de(on,on.current),_)break;return null;case 22:return f.lanes=0,r4(s,f,v,f.pendingProps);case 24:pc(f,ki,s.memoizedState.cache)}return tu(s,f,v)}function f4(s,f,v){if(s!==null)if(s.memoizedProps!==f.pendingProps)ya=!0;else{if(!hb(s,v)&&(f.flags&128)===0)return ya=!1,uB(s,f,v);ya=(s.flags&131072)!==0}else ya=!1,Jr&&(f.flags&1048576)!==0&&Jp(f,Yf,f.index);switch(f.lanes=0,f.tag){case 16:e:{var _=f.pendingProps;if(s=$e(f.elementType),f.type=s,typeof s=="function")Xd(s)?(_=Jf(s,_),f.tag=1,f=s4(null,f,s,_,v)):(f.tag=0,f=sb(null,f,s,_,v));else{if(s!=null){var k=s.$$typeof;if(k===F){f.tag=11,f=JS(null,f,s,_,v);break e}else if(k===V){f.tag=14,f=e4(null,f,s,_,v);break e}}throw f=J(s)||s,Error(n(306,f,""))}}return f;case 0:return sb(s,f,f.type,f.pendingProps,v);case 1:return _=f.type,k=Jf(_,f.pendingProps),s4(s,f,_,k,v);case 3:e:{if(ze(f,f.stateNode.containerInfo),s===null)throw Error(n(387));_=f.pendingProps;var R=f.memoizedState;k=R.element,hi(s,f),Ui(f,_,null,v);var Y=f.memoizedState;if(_=Y.cache,pc(f,ki,_),_!==R.cache&&Zc(f,[ki],v,!0),Hn(),_=Y.element,R.isDehydrated)if(R={element:_,isDehydrated:!1,cache:Y.cache},f.updateQueue.baseState=R,f.memoizedState=R,f.flags&256){f=o4(s,f,_,v);break e}else if(_!==k){k=mo(Error(n(424)),f),Yu(k),f=o4(s,f,_,v);break e}else{switch(s=f.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Zn=hl(s.firstChild),Ta=f,Jr=!0,ps=null,wi=!0,v=Rr(f,null,_,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling}else{if(Kc(),_===k){f=tu(s,f,v);break e}ms(s,f,_,v)}f=f.child}return f;case 26:return fg(s,f),s===null?(v=_E(f.type,null,f.pendingProps,null))?f.memoizedState=v:Jr||(v=f.type,s=f.pendingProps,_=Og(xe.current).createElement(v),_[pn]=f,_[Hr]=s,vs(_,v,s),Yn(_),f.stateNode=_):f.memoizedState=_E(f.type,s.memoizedProps,f.pendingProps,s.memoizedState),null;case 27:return Ge(f),s===null&&Jr&&(_=f.stateNode=bE(f.type,f.pendingProps,xe.current),Ta=f,wi=!0,k=Zn,cf(f.type)?($b=k,Zn=hl(_.firstChild)):Zn=k),ms(s,f,f.pendingProps.children,v),fg(s,f),s===null&&(f.flags|=4194304),f.child;case 5:return s===null&&Jr&&((k=_=Zn)&&(_=UB(_,f.type,f.pendingProps,wi),_!==null?(f.stateNode=_,Ta=f,Zn=hl(_.firstChild),wi=!1,k=!0):k=!1),k||dc(f)),Ge(f),k=f.type,R=f.pendingProps,Y=s!==null?s.memoizedProps:null,_=R.children,zb(k,R)?_=null:Y!==null&&zb(k,Y)&&(f.flags|=32),f.memoizedState!==null&&(k=F0(s,f,Yy,null,null,v),c1._currentValue=k),fg(s,f),ms(s,f,_,v),f.child;case 6:return s===null&&Jr&&((s=v=Zn)&&(v=zB(v,f.pendingProps,wi),v!==null?(f.stateNode=v,Ta=f,Zn=null,s=!0):s=!1),s||dc(f)),null;case 13:return l4(s,f,v);case 4:return ze(f,f.stateNode.containerInfo),_=f.pendingProps,s===null?f.child=Qn(f,null,_,v):ms(s,f,_,v),f.child;case 11:return JS(s,f,f.type,f.pendingProps,v);case 7:return ms(s,f,f.pendingProps,v),f.child;case 8:return ms(s,f,f.pendingProps.children,v),f.child;case 12:return ms(s,f,f.pendingProps.children,v),f.child;case 10:return _=f.pendingProps,pc(f,f.type,_.value),ms(s,f,_.children,v),f.child;case 9:return k=f.type._context,_=f.pendingProps.children,mc(f),k=ka(k),_=_(k),f.flags|=1,ms(s,f,_,v),f.child;case 14:return e4(s,f,f.type,f.pendingProps,v);case 15:return t4(s,f,f.type,f.pendingProps,v);case 19:return u4(s,f,v);case 31:return cB(s,f,v);case 22:return r4(s,f,v,f.pendingProps);case 24:return mc(f),_=ka(ki),s===null?(k=ge(),k===null&&(k=Jn,R=Ku(),k.pooledCache=R,R.refCount++,R!==null&&(k.pooledCacheLanes|=v),k=R),f.memoizedState={parent:_,cache:k},At(f),pc(f,ki,k)):((s.lanes&v)!==0&&(hi(s,f),Ui(f,null,null,v),Hn()),k=s.memoizedState,R=f.memoizedState,k.parent!==_?(k={parent:_,cache:_},f.memoizedState=k,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=k),pc(f,ki,_)):(_=R.cache,pc(f,ki,_),_!==k.cache&&Zc(f,[ki],v,!0))),ms(s,f,f.pendingProps.children,v),f.child;case 29:throw f.pendingProps}throw Error(n(156,f.tag))}function ru(s){s.flags|=4}function pb(s,f,v,_,k){if((f=(s.mode&32)!==0)&&(f=!1),f){if(s.flags|=16777216,(k&335544128)===k)if(s.stateNode.complete)s.flags|=8192;else if(B4())s.flags|=8192;else throw it=Le,Ve}else s.flags&=-16777217}function d4(s,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!NE(f))if(B4())s.flags|=8192;else throw it=Le,Ve}function hg(s,f){f!==null&&(s.flags|=4),s.flags&16384&&(f=s.tag!==22?In():536870912,s.lanes|=f,mh|=f)}function X0(s,f){if(!Jr)switch(s.tailMode){case"hidden":f=s.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?s.tail=null:v.sibling=null;break;case"collapsed":v=s.tail;for(var _=null;v!==null;)v.alternate!==null&&(_=v),v=v.sibling;_===null?f||s.tail===null?s.tail=null:s.tail.sibling=null:_.sibling=null}}function mi(s){var f=s.alternate!==null&&s.alternate.child===s.child,v=0,_=0;if(f)for(var k=s.child;k!==null;)v|=k.lanes|k.childLanes,_|=k.subtreeFlags&65011712,_|=k.flags&65011712,k.return=s,k=k.sibling;else for(k=s.child;k!==null;)v|=k.lanes|k.childLanes,_|=k.subtreeFlags,_|=k.flags,k.return=s,k=k.sibling;return s.subtreeFlags|=_,s.childLanes=v,f}function fB(s,f,v){var _=f.pendingProps;switch(Jd(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(f),null;case 1:return mi(f),null;case 3:return v=f.stateNode,_=null,s!==null&&(_=s.memoizedState.cache),f.memoizedState.cache!==_&&(f.flags|=2048),wo(ki),Ce(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(s===null||s.child===null)&&(Ia(f)?ru(f):s===null||s.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,L0())),mi(f),null;case 26:var k=f.type,R=f.memoizedState;return s===null?(ru(f),R!==null?(mi(f),d4(f,R)):(mi(f),pb(f,k,null,_,v))):R?R!==s.memoizedState?(ru(f),mi(f),d4(f,R)):(mi(f),f.flags&=-16777217):(s=s.memoizedProps,s!==_&&ru(f),mi(f),pb(f,k,s,_,v)),null;case 27:if(Je(f),v=xe.current,k=f.type,s!==null&&f.stateNode!=null)s.memoizedProps!==_&&ru(f);else{if(!_){if(f.stateNode===null)throw Error(n(166));return mi(f),null}s=me.current,Ia(f)?D0(f):(s=bE(k,_,v),f.stateNode=s,ru(f))}return mi(f),null;case 5:if(Je(f),k=f.type,s!==null&&f.stateNode!=null)s.memoizedProps!==_&&ru(f);else{if(!_){if(f.stateNode===null)throw Error(n(166));return mi(f),null}if(R=me.current,Ia(f))D0(f);else{var Y=Og(xe.current);switch(R){case 1:R=Y.createElementNS("http://www.w3.org/2000/svg",k);break;case 2:R=Y.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;default:switch(k){case"svg":R=Y.createElementNS("http://www.w3.org/2000/svg",k);break;case"math":R=Y.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;case"script":R=Y.createElement("div"),R.innerHTML="<script><\/script>",R=R.removeChild(R.firstChild);break;case"select":R=typeof _.is=="string"?Y.createElement("select",{is:_.is}):Y.createElement("select"),_.multiple?R.multiple=!0:_.size&&(R.size=_.size);break;default:R=typeof _.is=="string"?Y.createElement(k,{is:_.is}):Y.createElement(k)}}R[pn]=f,R[Hr]=_;e:for(Y=f.child;Y!==null;){if(Y.tag===5||Y.tag===6)R.appendChild(Y.stateNode);else if(Y.tag!==4&&Y.tag!==27&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===f)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===f)break e;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}f.stateNode=R;e:switch(vs(R,k,_),k){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}_&&ru(f)}}return mi(f),pb(f,f.type,s===null?null:s.memoizedProps,f.pendingProps,v),null;case 6:if(s&&f.stateNode!=null)s.memoizedProps!==_&&ru(f);else{if(typeof _!="string"&&f.stateNode===null)throw Error(n(166));if(s=xe.current,Ia(f)){if(s=f.stateNode,v=f.memoizedProps,_=null,k=Ta,k!==null)switch(k.tag){case 27:case 5:_=k.memoizedProps}s[pn]=f,s=!!(s.nodeValue===v||_!==null&&_.suppressHydrationWarning===!0||lE(s.nodeValue,v)),s||dc(f,!0)}else s=Og(s).createTextNode(_),s[pn]=f,f.stateNode=s}return mi(f),null;case 31:if(v=f.memoizedState,s===null||s.memoizedState!==null){if(_=Ia(f),v!==null){if(s===null){if(!_)throw Error(n(318));if(s=f.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[pn]=f}else Kc(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;mi(f),s=!1}else v=L0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),s=!0;if(!s)return f.flags&256?(Rn(f),f):(Rn(f),null);if((f.flags&128)!==0)throw Error(n(558))}return mi(f),null;case 13:if(_=f.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(k=Ia(f),_!==null&&_.dehydrated!==null){if(s===null){if(!k)throw Error(n(318));if(k=f.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[pn]=f}else Kc(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;mi(f),k=!1}else k=L0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=k),k=!0;if(!k)return f.flags&256?(Rn(f),f):(Rn(f),null)}return Rn(f),(f.flags&128)!==0?(f.lanes=v,f):(v=_!==null,s=s!==null&&s.memoizedState!==null,v&&(_=f.child,k=null,_.alternate!==null&&_.alternate.memoizedState!==null&&_.alternate.memoizedState.cachePool!==null&&(k=_.alternate.memoizedState.cachePool.pool),R=null,_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(R=_.memoizedState.cachePool.pool),R!==k&&(_.flags|=2048)),v!==s&&v&&(f.child.flags|=8192),hg(f,f.updateQueue),mi(f),null);case 4:return Ce(),s===null&&Db(f.stateNode.containerInfo),mi(f),null;case 10:return wo(f.type),mi(f),null;case 19:if(X(on),_=f.memoizedState,_===null)return mi(f),null;if(k=(f.flags&128)!==0,R=_.rendering,R===null)if(k)X0(_,!1);else{if(Wi!==0||s!==null&&(s.flags&128)!==0)for(s=f.child;s!==null;){if(R=es(s),R!==null){for(f.flags|=128,X0(_,!1),s=R.updateQueue,f.updateQueue=s,hg(f,s),f.subtreeFlags=0,s=v,v=f.child;v!==null;)$f(v,s),v=v.sibling;return de(on,on.current&1|2),Jr&&Qs(f,_.treeForkCount),f.child}s=s.sibling}_.tail!==null&&vr()>yg&&(f.flags|=128,k=!0,X0(_,!1),f.lanes=4194304)}else{if(!k)if(s=es(R),s!==null){if(f.flags|=128,k=!0,s=s.updateQueue,f.updateQueue=s,hg(f,s),X0(_,!0),_.tail===null&&_.tailMode==="hidden"&&!R.alternate&&!Jr)return mi(f),null}else 2*vr()-_.renderingStartTime>yg&&v!==536870912&&(f.flags|=128,k=!0,X0(_,!1),f.lanes=4194304);_.isBackwards?(R.sibling=f.child,f.child=R):(s=_.last,s!==null?s.sibling=R:f.child=R,_.last=R)}return _.tail!==null?(s=_.tail,_.rendering=s,_.tail=s.sibling,_.renderingStartTime=vr(),s.sibling=null,v=on.current,de(on,k?v&1|2:v&1),Jr&&Qs(f,_.treeForkCount),s):(mi(f),null);case 22:case 23:return Rn(f),la(),_=f.memoizedState!==null,s!==null?s.memoizedState!==null!==_&&(f.flags|=8192):_&&(f.flags|=8192),_?(v&536870912)!==0&&(f.flags&128)===0&&(mi(f),f.subtreeFlags&6&&(f.flags|=8192)):mi(f),v=f.updateQueue,v!==null&&hg(f,v.retryQueue),v=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(v=s.memoizedState.cachePool.pool),_=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==v&&(f.flags|=2048),s!==null&&X(ue),null;case 24:return v=null,s!==null&&(v=s.memoizedState.cache),f.memoizedState.cache!==v&&(f.flags|=2048),wo(ki),mi(f),null;case 25:return null;case 30:return null}throw Error(n(156,f.tag))}function dB(s,f){switch(Jd(f),f.tag){case 1:return s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 3:return wo(ki),Ce(),s=f.flags,(s&65536)!==0&&(s&128)===0?(f.flags=s&-65537|128,f):null;case 26:case 27:case 5:return Je(f),null;case 31:if(f.memoizedState!==null){if(Rn(f),f.alternate===null)throw Error(n(340));Kc()}return s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 13:if(Rn(f),s=f.memoizedState,s!==null&&s.dehydrated!==null){if(f.alternate===null)throw Error(n(340));Kc()}return s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 19:return X(on),null;case 4:return Ce(),null;case 10:return wo(f.type),null;case 22:case 23:return Rn(f),la(),s!==null&&X(ue),s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 24:return wo(ki),null;case 25:return null;default:return null}}function h4(s,f){switch(Jd(f),f.tag){case 3:wo(ki),Ce();break;case 26:case 27:case 5:Je(f);break;case 4:Ce();break;case 31:f.memoizedState!==null&&Rn(f);break;case 13:Rn(f);break;case 19:X(on);break;case 10:wo(f.type);break;case 22:case 23:Rn(f),la(),s!==null&&X(ue);break;case 24:wo(ki)}}function K0(s,f){try{var v=f.updateQueue,_=v!==null?v.lastEffect:null;if(_!==null){var k=_.next;v=k;do{if((v.tag&s)===s){_=void 0;var R=v.create,Y=v.inst;_=R(),Y.destroy=_}v=v.next}while(v!==k)}}catch(he){Dn(f,f.return,he)}}function tf(s,f,v){try{var _=f.updateQueue,k=_!==null?_.lastEffect:null;if(k!==null){var R=k.next;_=R;do{if((_.tag&s)===s){var Y=_.inst,he=Y.destroy;if(he!==void 0){Y.destroy=void 0,k=f;var Te=v,Xe=he;try{Xe()}catch(ft){Dn(k,Te,ft)}}}_=_.next}while(_!==R)}}catch(ft){Dn(f,f.return,ft)}}function p4(s){var f=s.updateQueue;if(f!==null){var v=s.stateNode;try{zi(f,v)}catch(_){Dn(s,s.return,_)}}}function g4(s,f,v){v.props=Jf(s.type,s.memoizedProps),v.state=s.memoizedState;try{v.componentWillUnmount()}catch(_){Dn(s,f,_)}}function Z0(s,f){try{var v=s.ref;if(v!==null){switch(s.tag){case 26:case 27:case 5:var _=s.stateNode;break;case 30:_=s.stateNode;break;default:_=s.stateNode}typeof v=="function"?s.refCleanup=v(_):v.current=_}}catch(k){Dn(s,f,k)}}function wc(s,f){var v=s.ref,_=s.refCleanup;if(v!==null)if(typeof _=="function")try{_()}catch(k){Dn(s,f,k)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(k){Dn(s,f,k)}else v.current=null}function m4(s){var f=s.type,v=s.memoizedProps,_=s.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":v.autoFocus&&_.focus();break e;case"img":v.src?_.src=v.src:v.srcSet&&(_.srcset=v.srcSet)}}catch(k){Dn(s,s.return,k)}}function gb(s,f,v){try{var _=s.stateNode;RB(_,s.type,v,f),_[Hr]=f}catch(k){Dn(s,s.return,k)}}function v4(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&cf(s.type)||s.tag===4}function mb(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||v4(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&cf(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function vb(s,f,v){var _=s.tag;if(_===5||_===6)s=s.stateNode,f?(v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v).insertBefore(s,f):(f=v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v,f.appendChild(s),v=v._reactRootContainer,v!=null||f.onclick!==null||(f.onclick=Ga));else if(_!==4&&(_===27&&cf(s.type)&&(v=s.stateNode,f=null),s=s.child,s!==null))for(vb(s,f,v),s=s.sibling;s!==null;)vb(s,f,v),s=s.sibling}function pg(s,f,v){var _=s.tag;if(_===5||_===6)s=s.stateNode,f?v.insertBefore(s,f):v.appendChild(s);else if(_!==4&&(_===27&&cf(s.type)&&(v=s.stateNode),s=s.child,s!==null))for(pg(s,f,v),s=s.sibling;s!==null;)pg(s,f,v),s=s.sibling}function y4(s){var f=s.stateNode,v=s.memoizedProps;try{for(var _=s.type,k=f.attributes;k.length;)f.removeAttributeNode(k[0]);vs(f,_,v),f[pn]=s,f[Hr]=v}catch(R){Dn(s,s.return,R)}}var nu=!1,ba=!1,yb=!1,b4=typeof WeakSet=="function"?WeakSet:Set,ts=null;function hB(s,f){if(s=s.containerInfo,Fb=Pg,s=te(s),oe(s)){if("selectionStart"in s)var v={start:s.selectionStart,end:s.selectionEnd};else e:{v=(v=s.ownerDocument)&&v.defaultView||window;var _=v.getSelection&&v.getSelection();if(_&&_.rangeCount!==0){v=_.anchorNode;var k=_.anchorOffset,R=_.focusNode;_=_.focusOffset;try{v.nodeType,R.nodeType}catch{v=null;break e}var Y=0,he=-1,Te=-1,Xe=0,ft=0,gt=s,Qe=null;t:for(;;){for(var tt;gt!==v||k!==0&&gt.nodeType!==3||(he=Y+k),gt!==R||_!==0&&gt.nodeType!==3||(Te=Y+_),gt.nodeType===3&&(Y+=gt.nodeValue.length),(tt=gt.firstChild)!==null;)Qe=gt,gt=tt;for(;;){if(gt===s)break t;if(Qe===v&&++Xe===k&&(he=Y),Qe===R&&++ft===_&&(Te=Y),(tt=gt.nextSibling)!==null)break;gt=Qe,Qe=gt.parentNode}gt=tt}v=he===-1||Te===-1?null:{start:he,end:Te}}else v=null}v=v||{start:0,end:0}}else v=null;for(Ub={focusedElem:s,selectionRange:v},Pg=!1,ts=f;ts!==null;)if(f=ts,s=f.child,(f.subtreeFlags&1028)!==0&&s!==null)s.return=f,ts=s;else for(;ts!==null;){switch(f=ts,R=f.alternate,s=f.flags,f.tag){case 0:if((s&4)!==0&&(s=f.updateQueue,s=s!==null?s.events:null,s!==null))for(v=0;v<s.length;v++)k=s[v],k.ref.impl=k.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&R!==null){s=void 0,v=f,k=R.memoizedProps,R=R.memoizedState,_=v.stateNode;try{var zt=Jf(v.type,k);s=_.getSnapshotBeforeUpdate(zt,R),_.__reactInternalSnapshotBeforeUpdate=s}catch(Sr){Dn(v,v.return,Sr)}}break;case 3:if((s&1024)!==0){if(s=f.stateNode.containerInfo,v=s.nodeType,v===9)Hb(s);else if(v===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Hb(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=f.sibling,s!==null){s.return=f.return,ts=s;break}ts=f.return}}function x4(s,f,v){var _=v.flags;switch(v.tag){case 0:case 11:case 15:au(s,v),_&4&&K0(5,v);break;case 1:if(au(s,v),_&4)if(s=v.stateNode,f===null)try{s.componentDidMount()}catch(Y){Dn(v,v.return,Y)}else{var k=Jf(v.type,f.memoizedProps);f=f.memoizedState;try{s.componentDidUpdate(k,f,s.__reactInternalSnapshotBeforeUpdate)}catch(Y){Dn(v,v.return,Y)}}_&64&&p4(v),_&512&&Z0(v,v.return);break;case 3:if(au(s,v),_&64&&(s=v.updateQueue,s!==null)){if(f=null,v.child!==null)switch(v.child.tag){case 27:case 5:f=v.child.stateNode;break;case 1:f=v.child.stateNode}try{zi(s,f)}catch(Y){Dn(v,v.return,Y)}}break;case 27:f===null&&_&4&&y4(v);case 26:case 5:au(s,v),f===null&&_&4&&m4(v),_&512&&Z0(v,v.return);break;case 12:au(s,v);break;case 31:au(s,v),_&4&&A4(s,v);break;case 13:au(s,v),_&4&&S4(s,v),_&64&&(s=v.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(v=_B.bind(null,v),qB(s,v))));break;case 22:if(_=v.memoizedState!==null||nu,!_){f=f!==null&&f.memoizedState!==null||ba,k=nu;var R=ba;nu=_,(ba=f)&&!R?su(s,v,(v.subtreeFlags&8772)!==0):au(s,v),nu=k,ba=R}break;case 30:break;default:au(s,v)}}function w4(s){var f=s.alternate;f!==null&&(s.alternate=null,w4(f)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(f=s.stateNode,f!==null&&ta(f)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Si=null,Ao=!1;function iu(s,f,v){for(v=v.child;v!==null;)_4(s,f,v),v=v.sibling}function _4(s,f,v){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(tr,v)}catch{}switch(v.tag){case 26:ba||wc(v,f),iu(s,f,v),v.memoizedState?v.memoizedState.count--:v.stateNode&&(v=v.stateNode,v.parentNode.removeChild(v));break;case 27:ba||wc(v,f);var _=Si,k=Ao;cf(v.type)&&(Si=v.stateNode,Ao=!1),iu(s,f,v),s1(v.stateNode),Si=_,Ao=k;break;case 5:ba||wc(v,f);case 6:if(_=Si,k=Ao,Si=null,iu(s,f,v),Si=_,Ao=k,Si!==null)if(Ao)try{(Si.nodeType===9?Si.body:Si.nodeName==="HTML"?Si.ownerDocument.body:Si).removeChild(v.stateNode)}catch(R){Dn(v,f,R)}else try{Si.removeChild(v.stateNode)}catch(R){Dn(v,f,R)}break;case 18:Si!==null&&(Ao?(s=Si,pE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,v.stateNode),Sh(s)):pE(Si,v.stateNode));break;case 4:_=Si,k=Ao,Si=v.stateNode.containerInfo,Ao=!0,iu(s,f,v),Si=_,Ao=k;break;case 0:case 11:case 14:case 15:tf(2,v,f),ba||tf(4,v,f),iu(s,f,v);break;case 1:ba||(wc(v,f),_=v.stateNode,typeof _.componentWillUnmount=="function"&&g4(v,f,_)),iu(s,f,v);break;case 21:iu(s,f,v);break;case 22:ba=(_=ba)||v.memoizedState!==null,iu(s,f,v),ba=_;break;default:iu(s,f,v)}}function A4(s,f){if(f.memoizedState===null&&(s=f.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Sh(s)}catch(v){Dn(f,f.return,v)}}}function S4(s,f){if(f.memoizedState===null&&(s=f.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Sh(s)}catch(v){Dn(f,f.return,v)}}function pB(s){switch(s.tag){case 31:case 13:case 19:var f=s.stateNode;return f===null&&(f=s.stateNode=new b4),f;case 22:return s=s.stateNode,f=s._retryCache,f===null&&(f=s._retryCache=new b4),f;default:throw Error(n(435,s.tag))}}function gg(s,f){var v=pB(s);f.forEach(function(_){if(!v.has(_)){v.add(_);var k=AB.bind(null,s,_);_.then(k,k)}})}function So(s,f){var v=f.deletions;if(v!==null)for(var _=0;_<v.length;_++){var k=v[_],R=s,Y=f,he=Y;e:for(;he!==null;){switch(he.tag){case 27:if(cf(he.type)){Si=he.stateNode,Ao=!1;break e}break;case 5:Si=he.stateNode,Ao=!1;break e;case 3:case 4:Si=he.stateNode.containerInfo,Ao=!0;break e}he=he.return}if(Si===null)throw Error(n(160));_4(R,Y,k),Si=null,Ao=!1,R=k.alternate,R!==null&&(R.return=null),k.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)E4(f,s),f=f.sibling}var Ul=null;function E4(s,f){var v=s.alternate,_=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:So(f,s),Eo(s),_&4&&(tf(3,s,s.return),K0(3,s),tf(5,s,s.return));break;case 1:So(f,s),Eo(s),_&512&&(ba||v===null||wc(v,v.return)),_&64&&nu&&(s=s.updateQueue,s!==null&&(_=s.callbacks,_!==null&&(v=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=v===null?_:v.concat(_))));break;case 26:var k=Ul;if(So(f,s),Eo(s),_&512&&(ba||v===null||wc(v,v.return)),_&4){var R=v!==null?v.memoizedState:null;if(_=s.memoizedState,v===null)if(_===null)if(s.stateNode===null){e:{_=s.type,v=s.memoizedProps,k=k.ownerDocument||k;t:switch(_){case"title":R=k.getElementsByTagName("title")[0],(!R||R[qs]||R[pn]||R.namespaceURI==="http://www.w3.org/2000/svg"||R.hasAttribute("itemprop"))&&(R=k.createElement(_),k.head.insertBefore(R,k.querySelector("head > title"))),vs(R,_,v),R[pn]=s,Yn(R),_=R;break e;case"link":var Y=EE("link","href",k).get(_+(v.href||""));if(Y){for(var he=0;he<Y.length;he++)if(R=Y[he],R.getAttribute("href")===(v.href==null||v.href===""?null:v.href)&&R.getAttribute("rel")===(v.rel==null?null:v.rel)&&R.getAttribute("title")===(v.title==null?null:v.title)&&R.getAttribute("crossorigin")===(v.crossOrigin==null?null:v.crossOrigin)){Y.splice(he,1);break t}}R=k.createElement(_),vs(R,_,v),k.head.appendChild(R);break;case"meta":if(Y=EE("meta","content",k).get(_+(v.content||""))){for(he=0;he<Y.length;he++)if(R=Y[he],R.getAttribute("content")===(v.content==null?null:""+v.content)&&R.getAttribute("name")===(v.name==null?null:v.name)&&R.getAttribute("property")===(v.property==null?null:v.property)&&R.getAttribute("http-equiv")===(v.httpEquiv==null?null:v.httpEquiv)&&R.getAttribute("charset")===(v.charSet==null?null:v.charSet)){Y.splice(he,1);break t}}R=k.createElement(_),vs(R,_,v),k.head.appendChild(R);break;default:throw Error(n(468,_))}R[pn]=s,Yn(R),_=R}s.stateNode=_}else CE(k,s.type,s.stateNode);else s.stateNode=SE(k,_,s.memoizedProps);else R!==_?(R===null?v.stateNode!==null&&(v=v.stateNode,v.parentNode.removeChild(v)):R.count--,_===null?CE(k,s.type,s.stateNode):SE(k,_,s.memoizedProps)):_===null&&s.stateNode!==null&&gb(s,s.memoizedProps,v.memoizedProps)}break;case 27:So(f,s),Eo(s),_&512&&(ba||v===null||wc(v,v.return)),v!==null&&_&4&&gb(s,s.memoizedProps,v.memoizedProps);break;case 5:if(So(f,s),Eo(s),_&512&&(ba||v===null||wc(v,v.return)),s.flags&32){k=s.stateNode;try{Gs(k,"")}catch(zt){Dn(s,s.return,zt)}}_&4&&s.stateNode!=null&&(k=s.memoizedProps,gb(s,k,v!==null?v.memoizedProps:k)),_&1024&&(yb=!0);break;case 6:if(So(f,s),Eo(s),_&4){if(s.stateNode===null)throw Error(n(162));_=s.memoizedProps,v=s.stateNode;try{v.nodeValue=_}catch(zt){Dn(s,s.return,zt)}}break;case 3:if(kg=null,k=Ul,Ul=Tg(f.containerInfo),So(f,s),Ul=k,Eo(s),_&4&&v!==null&&v.memoizedState.isDehydrated)try{Sh(f.containerInfo)}catch(zt){Dn(s,s.return,zt)}yb&&(yb=!1,C4(s));break;case 4:_=Ul,Ul=Tg(s.stateNode.containerInfo),So(f,s),Eo(s),Ul=_;break;case 12:So(f,s),Eo(s);break;case 31:So(f,s),Eo(s),_&4&&(_=s.updateQueue,_!==null&&(s.updateQueue=null,gg(s,_)));break;case 13:So(f,s),Eo(s),s.child.flags&8192&&s.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(vg=vr()),_&4&&(_=s.updateQueue,_!==null&&(s.updateQueue=null,gg(s,_)));break;case 22:k=s.memoizedState!==null;var Te=v!==null&&v.memoizedState!==null,Xe=nu,ft=ba;if(nu=Xe||k,ba=ft||Te,So(f,s),ba=ft,nu=Xe,Eo(s),_&8192)e:for(f=s.stateNode,f._visibility=k?f._visibility&-2:f._visibility|1,k&&(v===null||Te||nu||ba||ed(s)),v=null,f=s;;){if(f.tag===5||f.tag===26){if(v===null){Te=v=f;try{if(R=Te.stateNode,k)Y=R.style,typeof Y.setProperty=="function"?Y.setProperty("display","none","important"):Y.display="none";else{he=Te.stateNode;var gt=Te.memoizedProps.style,Qe=gt!=null&&gt.hasOwnProperty("display")?gt.display:null;he.style.display=Qe==null||typeof Qe=="boolean"?"":(""+Qe).trim()}}catch(zt){Dn(Te,Te.return,zt)}}}else if(f.tag===6){if(v===null){Te=f;try{Te.stateNode.nodeValue=k?"":Te.memoizedProps}catch(zt){Dn(Te,Te.return,zt)}}}else if(f.tag===18){if(v===null){Te=f;try{var tt=Te.stateNode;k?gE(tt,!0):gE(Te.stateNode,!1)}catch(zt){Dn(Te,Te.return,zt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===s)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;v===f&&(v=null),f=f.return}v===f&&(v=null),f.sibling.return=f.return,f=f.sibling}_&4&&(_=s.updateQueue,_!==null&&(v=_.retryQueue,v!==null&&(_.retryQueue=null,gg(s,v))));break;case 19:So(f,s),Eo(s),_&4&&(_=s.updateQueue,_!==null&&(s.updateQueue=null,gg(s,_)));break;case 30:break;case 21:break;default:So(f,s),Eo(s)}}function Eo(s){var f=s.flags;if(f&2){try{for(var v,_=s.return;_!==null;){if(v4(_)){v=_;break}_=_.return}if(v==null)throw Error(n(160));switch(v.tag){case 27:var k=v.stateNode,R=mb(s);pg(s,R,k);break;case 5:var Y=v.stateNode;v.flags&32&&(Gs(Y,""),v.flags&=-33);var he=mb(s);pg(s,he,Y);break;case 3:case 4:var Te=v.stateNode.containerInfo,Xe=mb(s);vb(s,Xe,Te);break;default:throw Error(n(161))}}catch(ft){Dn(s,s.return,ft)}s.flags&=-3}f&4096&&(s.flags&=-4097)}function C4(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var f=s;C4(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),s=s.sibling}}function au(s,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)x4(s,f.alternate,f),f=f.sibling}function ed(s){for(s=s.child;s!==null;){var f=s;switch(f.tag){case 0:case 11:case 14:case 15:tf(4,f,f.return),ed(f);break;case 1:wc(f,f.return);var v=f.stateNode;typeof v.componentWillUnmount=="function"&&g4(f,f.return,v),ed(f);break;case 27:s1(f.stateNode);case 26:case 5:wc(f,f.return),ed(f);break;case 22:f.memoizedState===null&&ed(f);break;case 30:ed(f);break;default:ed(f)}s=s.sibling}}function su(s,f,v){for(v=v&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var _=f.alternate,k=s,R=f,Y=R.flags;switch(R.tag){case 0:case 11:case 15:su(k,R,v),K0(4,R);break;case 1:if(su(k,R,v),_=R,k=_.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(Xe){Dn(_,_.return,Xe)}if(_=R,k=_.updateQueue,k!==null){var he=_.stateNode;try{var Te=k.shared.hiddenCallbacks;if(Te!==null)for(k.shared.hiddenCallbacks=null,k=0;k<Te.length;k++)Ja(Te[k],he)}catch(Xe){Dn(_,_.return,Xe)}}v&&Y&64&&p4(R),Z0(R,R.return);break;case 27:y4(R);case 26:case 5:su(k,R,v),v&&_===null&&Y&4&&m4(R),Z0(R,R.return);break;case 12:su(k,R,v);break;case 31:su(k,R,v),v&&Y&4&&A4(k,R);break;case 13:su(k,R,v),v&&Y&4&&S4(k,R);break;case 22:R.memoizedState===null&&su(k,R,v),Z0(R,R.return);break;case 30:break;default:su(k,R,v)}f=f.sibling}}function bb(s,f){var v=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(v=s.memoizedState.cachePool.pool),s=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(s=f.memoizedState.cachePool.pool),s!==v&&(s!=null&&s.refCount++,v!=null&&Xf(v))}function xb(s,f){s=null,f.alternate!==null&&(s=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==s&&(f.refCount++,s!=null&&Xf(s))}function zl(s,f,v,_){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)N4(s,f,v,_),f=f.sibling}function N4(s,f,v,_){var k=f.flags;switch(f.tag){case 0:case 11:case 15:zl(s,f,v,_),k&2048&&K0(9,f);break;case 1:zl(s,f,v,_);break;case 3:zl(s,f,v,_),k&2048&&(s=null,f.alternate!==null&&(s=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==s&&(f.refCount++,s!=null&&Xf(s)));break;case 12:if(k&2048){zl(s,f,v,_),s=f.stateNode;try{var R=f.memoizedProps,Y=R.id,he=R.onPostCommit;typeof he=="function"&&he(Y,f.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Te){Dn(f,f.return,Te)}}else zl(s,f,v,_);break;case 31:zl(s,f,v,_);break;case 13:zl(s,f,v,_);break;case 23:break;case 22:R=f.stateNode,Y=f.alternate,f.memoizedState!==null?R._visibility&2?zl(s,f,v,_):Q0(s,f):R._visibility&2?zl(s,f,v,_):(R._visibility|=2,hh(s,f,v,_,(f.subtreeFlags&10256)!==0||!1)),k&2048&&bb(Y,f);break;case 24:zl(s,f,v,_),k&2048&&xb(f.alternate,f);break;default:zl(s,f,v,_)}}function hh(s,f,v,_,k){for(k=k&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var R=s,Y=f,he=v,Te=_,Xe=Y.flags;switch(Y.tag){case 0:case 11:case 15:hh(R,Y,he,Te,k),K0(8,Y);break;case 23:break;case 22:var ft=Y.stateNode;Y.memoizedState!==null?ft._visibility&2?hh(R,Y,he,Te,k):Q0(R,Y):(ft._visibility|=2,hh(R,Y,he,Te,k)),k&&Xe&2048&&bb(Y.alternate,Y);break;case 24:hh(R,Y,he,Te,k),k&&Xe&2048&&xb(Y.alternate,Y);break;default:hh(R,Y,he,Te,k)}f=f.sibling}}function Q0(s,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var v=s,_=f,k=_.flags;switch(_.tag){case 22:Q0(v,_),k&2048&&bb(_.alternate,_);break;case 24:Q0(v,_),k&2048&&xb(_.alternate,_);break;default:Q0(v,_)}f=f.sibling}}var J0=8192;function ph(s,f,v){if(s.subtreeFlags&J0)for(s=s.child;s!==null;)O4(s,f,v),s=s.sibling}function O4(s,f,v){switch(s.tag){case 26:ph(s,f,v),s.flags&J0&&s.memoizedState!==null&&eF(v,Ul,s.memoizedState,s.memoizedProps);break;case 5:ph(s,f,v);break;case 3:case 4:var _=Ul;Ul=Tg(s.stateNode.containerInfo),ph(s,f,v),Ul=_;break;case 22:s.memoizedState===null&&(_=s.alternate,_!==null&&_.memoizedState!==null?(_=J0,J0=16777216,ph(s,f,v),J0=_):ph(s,f,v));break;default:ph(s,f,v)}}function T4(s){var f=s.alternate;if(f!==null&&(s=f.child,s!==null)){f.child=null;do f=s.sibling,s.sibling=null,s=f;while(s!==null)}}function e1(s){var f=s.deletions;if((s.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var _=f[v];ts=_,k4(_,s)}T4(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)I4(s),s=s.sibling}function I4(s){switch(s.tag){case 0:case 11:case 15:e1(s),s.flags&2048&&tf(9,s,s.return);break;case 3:e1(s);break;case 12:e1(s);break;case 22:var f=s.stateNode;s.memoizedState!==null&&f._visibility&2&&(s.return===null||s.return.tag!==13)?(f._visibility&=-3,mg(s)):e1(s);break;default:e1(s)}}function mg(s){var f=s.deletions;if((s.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var _=f[v];ts=_,k4(_,s)}T4(s)}for(s=s.child;s!==null;){switch(f=s,f.tag){case 0:case 11:case 15:tf(8,f,f.return),mg(f);break;case 22:v=f.stateNode,v._visibility&2&&(v._visibility&=-3,mg(f));break;default:mg(f)}s=s.sibling}}function k4(s,f){for(;ts!==null;){var v=ts;switch(v.tag){case 0:case 11:case 15:tf(8,v,f);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var _=v.memoizedState.cachePool.pool;_!=null&&_.refCount++}break;case 24:Xf(v.memoizedState.cache)}if(_=v.child,_!==null)_.return=v,ts=_;else e:for(v=s;ts!==null;){_=ts;var k=_.sibling,R=_.return;if(w4(_),_===v){ts=null;break e}if(k!==null){k.return=R,ts=k;break e}ts=R}}}var gB={getCacheForType:function(s){var f=ka(ki),v=f.data.get(s);return v===void 0&&(v=s(),f.data.set(s,v)),v},cacheSignal:function(){return ka(ki).controller.signal}},mB=typeof WeakMap=="function"?WeakMap:Map,En=0,Jn=null,en=null,an=0,Pn=0,Uo=null,rf=!1,gh=!1,wb=!1,ou=0,Wi=0,nf=0,td=0,_b=0,zo=0,mh=0,t1=null,Co=null,Ab=!1,vg=0,M4=0,yg=1/0,bg=null,af=null,ja=0,sf=null,vh=null,lu=0,Sb=0,Eb=null,j4=null,r1=0,Cb=null;function qo(){return(En&2)!==0&&an!==0?an&-an:ne.T!==null?Mb():hn()}function R4(){if(zo===0)if((an&536870912)===0||Jr){var s=Xt;Xt<<=1,(Xt&3932160)===0&&(Xt=262144),zo=s}else zo=536870912;return s=gi.current,s!==null&&(s.flags|=32),zo}function No(s,f,v){(s===Jn&&(Pn===2||Pn===9)||s.cancelPendingCommit!==null)&&(yh(s,0),of(s,an,zo,!1)),Zt(s,v),((En&2)===0||s!==Jn)&&(s===Jn&&((En&2)===0&&(td|=v),Wi===4&&of(s,an,zo,!1)),_c(s))}function P4(s,f,v){if((En&6)!==0)throw Error(n(327));var _=!v&&(f&127)===0&&(f&s.expiredLanes)===0||ui(s,f),k=_?bB(s,f):Ob(s,f,!0),R=_;do{if(k===0){gh&&!_&&of(s,f,0,!1);break}else{if(v=s.current.alternate,R&&!vB(v)){k=Ob(s,f,!1),R=!1;continue}if(k===2){if(R=f,s.errorRecoveryDisabledLanes&R)var Y=0;else Y=s.pendingLanes&-536870913,Y=Y!==0?Y:Y&536870912?536870912:0;if(Y!==0){f=Y;e:{var he=s;k=t1;var Te=he.current.memoizedState.isDehydrated;if(Te&&(yh(he,Y).flags|=256),Y=Ob(he,Y,!1),Y!==2){if(wb&&!Te){he.errorRecoveryDisabledLanes|=R,td|=R,k=4;break e}R=Co,Co=k,R!==null&&(Co===null?Co=R:Co.push.apply(Co,R))}k=Y}if(R=!1,k!==2)continue}}if(k===1){yh(s,0),of(s,f,0,!0);break}e:{switch(_=s,R=k,R){case 0:case 1:throw Error(n(345));case 4:if((f&4194048)!==f)break;case 6:of(_,f,zo,!rf);break e;case 2:Co=null;break;case 3:case 5:break;default:throw Error(n(329))}if((f&62914560)===f&&(k=vg+300-vr(),10<k)){if(of(_,f,zo,!rf),Yr(_,0,!0)!==0)break e;lu=f,_.timeoutHandle=dE(D4.bind(null,_,v,Co,bg,Ab,f,zo,td,mh,rf,R,"Throttled",-0,0),k);break e}D4(_,v,Co,bg,Ab,f,zo,td,mh,rf,R,null,-0,0)}}break}while(!0);_c(s)}function D4(s,f,v,_,k,R,Y,he,Te,Xe,ft,gt,Qe,tt){if(s.timeoutHandle=-1,gt=f.subtreeFlags,gt&8192||(gt&16785408)===16785408){gt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ga},O4(f,R,gt);var zt=(R&62914560)===R?vg-vr():(R&4194048)===R?M4-vr():0;if(zt=tF(gt,zt),zt!==null){lu=R,s.cancelPendingCommit=zt(G4.bind(null,s,f,R,v,_,k,Y,he,Te,ft,gt,null,Qe,tt)),of(s,R,Y,!Xe);return}}G4(s,f,R,v,_,k,Y,he,Te)}function vB(s){for(var f=s;;){var v=f.tag;if((v===0||v===11||v===15)&&f.flags&16384&&(v=f.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var _=0;_<v.length;_++){var k=v[_],R=k.getSnapshot;k=k.value;try{if(!A(R(),k))return!1}catch{return!1}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function of(s,f,v,_){f&=~_b,f&=~td,s.suspendedLanes|=f,s.pingedLanes&=~f,_&&(s.warmLanes|=f),_=s.expirationTimes;for(var k=f;0<k;){var R=31-Bt(k),Y=1<<R;_[R]=-1,k&=~Y}v!==0&&io(s,v,f)}function xg(){return(En&6)===0?(n1(0),!1):!0}function Nb(){if(en!==null){if(Pn===0)var s=en.return;else s=en,ul=hc=null,sh(s),vt=null,Gt=0,s=en;for(;s!==null;)h4(s.alternate,s),s=s.return;en=null}}function yh(s,f){var v=s.timeoutHandle;v!==-1&&(s.timeoutHandle=-1,LB(v)),v=s.cancelPendingCommit,v!==null&&(s.cancelPendingCommit=null,v()),lu=0,Nb(),Jn=s,en=v=go(s.current,null),an=f,Pn=0,Uo=null,rf=!1,gh=ui(s,f),wb=!1,mh=zo=_b=td=nf=Wi=0,Co=t1=null,Ab=!1,(f&8)!==0&&(f|=f&32);var _=s.entangledLanes;if(_!==0)for(s=s.entanglements,_&=f;0<_;){var k=31-Bt(_),R=1<<k;f|=s[k],_&=~R}return ou=f,Hf(),v}function L4(s,f){dr=null,ne.H=V0,f===Pe||f===Se?(f=ht(),Pn=3):f===Ve?(f=ht(),Pn=4):Pn=f===ab?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Uo=f,en===null&&(Wi=1,cg(s,mo(f,s.current)))}function B4(){var s=gi.current;return s===null?!0:(an&4194048)===an?fn===null:(an&62914560)===an||(an&536870912)!==0?s===fn:!1}function F4(){var s=ne.H;return ne.H=V0,s===null?V0:s}function U4(){var s=ne.A;return ne.A=gB,s}function wg(){Wi=4,rf||(an&4194048)!==an&&gi.current!==null||(gh=!0),(nf&134217727)===0&&(td&134217727)===0||Jn===null||of(Jn,an,zo,!1)}function Ob(s,f,v){var _=En;En|=2;var k=F4(),R=U4();(Jn!==s||an!==f)&&(bg=null,yh(s,f)),f=!1;var Y=Wi;e:do try{if(Pn!==0&&en!==null){var he=en,Te=Uo;switch(Pn){case 8:Nb(),Y=6;break e;case 3:case 2:case 9:case 6:gi.current===null&&(f=!0);var Xe=Pn;if(Pn=0,Uo=null,bh(s,he,Te,Xe),v&&gh){Y=0;break e}break;default:Xe=Pn,Pn=0,Uo=null,bh(s,he,Te,Xe)}}yB(),Y=Wi;break}catch(ft){L4(s,ft)}while(!0);return f&&s.shellSuspendCounter++,ul=hc=null,En=_,ne.H=k,ne.A=R,en===null&&(Jn=null,an=0,Hf()),Y}function yB(){for(;en!==null;)z4(en)}function bB(s,f){var v=En;En|=2;var _=F4(),k=U4();Jn!==s||an!==f?(bg=null,yg=vr()+500,yh(s,f)):gh=ui(s,f);e:do try{if(Pn!==0&&en!==null){f=en;var R=Uo;t:switch(Pn){case 1:Pn=0,Uo=null,bh(s,f,R,1);break;case 2:case 9:if(He(R)){Pn=0,Uo=null,q4(f);break}f=function(){Pn!==2&&Pn!==9||Jn!==s||(Pn=7),_c(s)},R.then(f,f);break e;case 3:Pn=7;break e;case 4:Pn=5;break e;case 7:He(R)?(Pn=0,Uo=null,q4(f)):(Pn=0,Uo=null,bh(s,f,R,7));break;case 5:var Y=null;switch(en.tag){case 26:Y=en.memoizedState;case 5:case 27:var he=en;if(Y?NE(Y):he.stateNode.complete){Pn=0,Uo=null;var Te=he.sibling;if(Te!==null)en=Te;else{var Xe=he.return;Xe!==null?(en=Xe,_g(Xe)):en=null}break t}}Pn=0,Uo=null,bh(s,f,R,5);break;case 6:Pn=0,Uo=null,bh(s,f,R,6);break;case 8:Nb(),Wi=6;break e;default:throw Error(n(462))}}xB();break}catch(ft){L4(s,ft)}while(!0);return ul=hc=null,ne.H=_,ne.A=k,En=v,en!==null?0:(Jn=null,an=0,Hf(),Wi)}function xB(){for(;en!==null&&!ir();)z4(en)}function z4(s){var f=f4(s.alternate,s,ou);s.memoizedProps=s.pendingProps,f===null?_g(s):en=f}function q4(s){var f=s,v=f.alternate;switch(f.tag){case 15:case 0:f=a4(v,f,f.pendingProps,f.type,void 0,an);break;case 11:f=a4(v,f,f.pendingProps,f.type.render,f.ref,an);break;case 5:sh(f);default:h4(v,f),f=en=$f(f,ou),f=f4(v,f,ou)}s.memoizedProps=s.pendingProps,f===null?_g(s):en=f}function bh(s,f,v,_){ul=hc=null,sh(f),vt=null,Gt=0;var k=f.return;try{if(lB(s,k,f,v,an)){Wi=1,cg(s,mo(v,s.current)),en=null;return}}catch(R){if(k!==null)throw en=k,R;Wi=1,cg(s,mo(v,s.current)),en=null;return}f.flags&32768?(Jr||_===1?s=!0:gh||(an&536870912)!==0?s=!1:(rf=s=!0,(_===2||_===9||_===3||_===6)&&(_=gi.current,_!==null&&_.tag===13&&(_.flags|=16384))),H4(f,s)):_g(f)}function _g(s){var f=s;do{if((f.flags&32768)!==0){H4(f,rf);return}s=f.return;var v=fB(f.alternate,f,ou);if(v!==null){en=v;return}if(f=f.sibling,f!==null){en=f;return}en=f=s}while(f!==null);Wi===0&&(Wi=5)}function H4(s,f){do{var v=dB(s.alternate,s);if(v!==null){v.flags&=32767,en=v;return}if(v=s.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!f&&(s=s.sibling,s!==null)){en=s;return}en=s=v}while(s!==null);Wi=6,en=null}function G4(s,f,v,_,k,R,Y,he,Te){s.cancelPendingCommit=null;do Ag();while(ja!==0);if((En&6)!==0)throw Error(n(327));if(f!==null){if(f===s.current)throw Error(n(177));if(R=f.lanes|f.childLanes,R|=$d,Di(s,v,R,Y,he,Te),s===Jn&&(en=Jn=null,an=0),vh=f,sf=s,lu=v,Sb=R,Eb=k,j4=_,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,SB(Cr,function(){return X4(),null})):(s.callbackNode=null,s.callbackPriority=0),_=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||_){_=ne.T,ne.T=null,k=fe.p,fe.p=2,Y=En,En|=4;try{hB(s,f,v)}finally{En=Y,fe.p=k,ne.T=_}}ja=1,W4(),$4(),V4()}}function W4(){if(ja===1){ja=0;var s=sf,f=vh,v=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||v){v=ne.T,ne.T=null;var _=fe.p;fe.p=2;var k=En;En|=4;try{E4(f,s);var R=Ub,Y=te(s.containerInfo),he=R.focusedElem,Te=R.selectionRange;if(Y!==he&&he&&he.ownerDocument&&W(he.ownerDocument.documentElement,he)){if(Te!==null&&oe(he)){var Xe=Te.start,ft=Te.end;if(ft===void 0&&(ft=Xe),"selectionStart"in he)he.selectionStart=Xe,he.selectionEnd=Math.min(ft,he.value.length);else{var gt=he.ownerDocument||document,Qe=gt&&gt.defaultView||window;if(Qe.getSelection){var tt=Qe.getSelection(),zt=he.textContent.length,Sr=Math.min(Te.start,zt),$n=Te.end===void 0?Sr:Math.min(Te.end,zt);!tt.extend&&Sr>$n&&(Y=$n,$n=Sr,Sr=Y);var Ue=L(he,Sr),De=L(he,$n);if(Ue&&De&&(tt.rangeCount!==1||tt.anchorNode!==Ue.node||tt.anchorOffset!==Ue.offset||tt.focusNode!==De.node||tt.focusOffset!==De.offset)){var Ye=gt.createRange();Ye.setStart(Ue.node,Ue.offset),tt.removeAllRanges(),Sr>$n?(tt.addRange(Ye),tt.extend(De.node,De.offset)):(Ye.setEnd(De.node,De.offset),tt.addRange(Ye))}}}}for(gt=[],tt=he;tt=tt.parentNode;)tt.nodeType===1&&gt.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof he.focus=="function"&&he.focus(),he=0;he<gt.length;he++){var pt=gt[he];pt.element.scrollLeft=pt.left,pt.element.scrollTop=pt.top}}Pg=!!Fb,Ub=Fb=null}finally{En=k,fe.p=_,ne.T=v}}s.current=f,ja=2}}function $4(){if(ja===2){ja=0;var s=sf,f=vh,v=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||v){v=ne.T,ne.T=null;var _=fe.p;fe.p=2;var k=En;En|=4;try{x4(s,f.alternate,f)}finally{En=k,fe.p=_,ne.T=v}}ja=3}}function V4(){if(ja===4||ja===3){ja=0,ar();var s=sf,f=vh,v=lu,_=j4;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?ja=5:(ja=0,vh=sf=null,Y4(s,s.pendingLanes));var k=s.pendingLanes;if(k===0&&(af=null),Nn(v),f=f.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(tr,f,void 0,(f.current.flags&128)===128)}catch{}if(_!==null){f=ne.T,k=fe.p,fe.p=2,ne.T=null;try{for(var R=s.onRecoverableError,Y=0;Y<_.length;Y++){var he=_[Y];R(he.value,{componentStack:he.stack})}}finally{ne.T=f,fe.p=k}}(lu&3)!==0&&Ag(),_c(s),k=s.pendingLanes,(v&261930)!==0&&(k&42)!==0?s===Cb?r1++:(r1=0,Cb=s):r1=0,n1(0)}}function Y4(s,f){(s.pooledCacheLanes&=f)===0&&(f=s.pooledCache,f!=null&&(s.pooledCache=null,Xf(f)))}function Ag(){return W4(),$4(),V4(),X4()}function X4(){if(ja!==5)return!1;var s=sf,f=Sb;Sb=0;var v=Nn(lu),_=ne.T,k=fe.p;try{fe.p=32>v?32:v,ne.T=null,v=Eb,Eb=null;var R=sf,Y=lu;if(ja=0,vh=sf=null,lu=0,(En&6)!==0)throw Error(n(331));var he=En;if(En|=4,I4(R.current),N4(R,R.current,Y,v),En=he,n1(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(tr,R)}catch{}return!0}finally{fe.p=k,ne.T=_,Y4(s,f)}}function K4(s,f,v){f=mo(v,f),f=ib(s.stateNode,f,2),s=Lr(s,f,2),s!==null&&(Zt(s,2),_c(s))}function Dn(s,f,v){if(s.tag===3)K4(s,s,v);else for(;f!==null;){if(f.tag===3){K4(f,s,v);break}else if(f.tag===1){var _=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(af===null||!af.has(_))){s=mo(v,s),v=ZS(2),_=Lr(f,v,2),_!==null&&(QS(v,_,f,s),Zt(_,2),_c(_));break}}f=f.return}}function Tb(s,f,v){var _=s.pingCache;if(_===null){_=s.pingCache=new mB;var k=new Set;_.set(f,k)}else k=_.get(f),k===void 0&&(k=new Set,_.set(f,k));k.has(v)||(wb=!0,k.add(v),s=wB.bind(null,s,f,v),f.then(s,s))}function wB(s,f,v){var _=s.pingCache;_!==null&&_.delete(f),s.pingedLanes|=s.suspendedLanes&v,s.warmLanes&=~v,Jn===s&&(an&v)===v&&(Wi===4||Wi===3&&(an&62914560)===an&&300>vr()-vg?(En&2)===0&&yh(s,0):_b|=v,mh===an&&(mh=0)),_c(s)}function Z4(s,f){f===0&&(f=In()),s=Rl(s,f),s!==null&&(Zt(s,f),_c(s))}function _B(s){var f=s.memoizedState,v=0;f!==null&&(v=f.retryLane),Z4(s,v)}function AB(s,f){var v=0;switch(s.tag){case 31:case 13:var _=s.stateNode,k=s.memoizedState;k!==null&&(v=k.retryLane);break;case 19:_=s.stateNode;break;case 22:_=s.stateNode._retryCache;break;default:throw Error(n(314))}_!==null&&_.delete(f),Z4(s,v)}function SB(s,f){return er(s,f)}var Sg=null,xh=null,Ib=!1,Eg=!1,kb=!1,lf=0;function _c(s){s!==xh&&s.next===null&&(xh===null?Sg=xh=s:xh=xh.next=s),Eg=!0,Ib||(Ib=!0,CB())}function n1(s,f){if(!kb&&Eg){kb=!0;do for(var v=!1,_=Sg;_!==null;){if(s!==0){var k=_.pendingLanes;if(k===0)var R=0;else{var Y=_.suspendedLanes,he=_.pingedLanes;R=(1<<31-Bt(42|s)+1)-1,R&=k&~(Y&~he),R=R&201326741?R&201326741|1:R?R|2:0}R!==0&&(v=!0,tE(_,R))}else R=an,R=Yr(_,_===Jn?R:0,_.cancelPendingCommit!==null||_.timeoutHandle!==-1),(R&3)===0||ui(_,R)||(v=!0,tE(_,R));_=_.next}while(v);kb=!1}}function EB(){Q4()}function Q4(){Eg=Ib=!1;var s=0;lf!==0&&DB()&&(s=lf);for(var f=vr(),v=null,_=Sg;_!==null;){var k=_.next,R=J4(_,f);R===0?(_.next=null,v===null?Sg=k:v.next=k,k===null&&(xh=v)):(v=_,(s!==0||(R&3)!==0)&&(Eg=!0)),_=k}ja!==0&&ja!==5||n1(s),lf!==0&&(lf=0)}function J4(s,f){for(var v=s.suspendedLanes,_=s.pingedLanes,k=s.expirationTimes,R=s.pendingLanes&-62914561;0<R;){var Y=31-Bt(R),he=1<<Y,Te=k[Y];Te===-1?((he&v)===0||(he&_)!==0)&&(k[Y]=Pi(he,f)):Te<=f&&(s.expiredLanes|=he),R&=~he}if(f=Jn,v=an,v=Yr(s,s===f?v:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),_=s.callbackNode,v===0||s===f&&(Pn===2||Pn===9)||s.cancelPendingCommit!==null)return _!==null&&_!==null&&at(_),s.callbackNode=null,s.callbackPriority=0;if((v&3)===0||ui(s,v)){if(f=v&-v,f===s.callbackPriority)return f;switch(_!==null&&at(_),Nn(v)){case 2:case 8:v=Ur;break;case 32:v=Cr;break;case 268435456:v=Tr;break;default:v=Cr}return _=eE.bind(null,s),v=er(v,_),s.callbackPriority=f,s.callbackNode=v,f}return _!==null&&_!==null&&at(_),s.callbackPriority=2,s.callbackNode=null,2}function eE(s,f){if(ja!==0&&ja!==5)return s.callbackNode=null,s.callbackPriority=0,null;var v=s.callbackNode;if(Ag()&&s.callbackNode!==v)return null;var _=an;return _=Yr(s,s===Jn?_:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),_===0?null:(P4(s,_,f),J4(s,vr()),s.callbackNode!=null&&s.callbackNode===v?eE.bind(null,s):null)}function tE(s,f){if(Ag())return null;P4(s,f,!0)}function CB(){BB(function(){(En&6)!==0?er(lr,EB):Q4()})}function Mb(){if(lf===0){var s=N;s===0&&(s=wr,wr<<=1,(wr&261888)===0&&(wr=256)),lf=s}return lf}function rE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ga(""+s)}function nE(s,f){var v=f.ownerDocument.createElement("input");return v.name=f.name,v.value=f.value,s.id&&v.setAttribute("form",s.id),f.parentNode.insertBefore(v,f),s=new FormData(s),v.parentNode.removeChild(v),s}function NB(s,f,v,_,k){if(f==="submit"&&v&&v.stateNode===k){var R=rE((k[Hr]||null).action),Y=_.submitter;Y&&(f=(f=Y[Hr]||null)?rE(f.formAction):Y.getAttribute("formAction"),f!==null&&(R=f,Y=null));var he=new jn("action","action",null,_,k);s.push({event:he,listeners:[{instance:null,listener:function(){if(_.defaultPrevented){if(lf!==0){var Te=Y?nE(k,Y):new FormData(k);Qy(v,{pending:!0,data:Te,method:k.method,action:R},null,Te)}}else typeof R=="function"&&(he.preventDefault(),Te=Y?nE(k,Y):new FormData(k),Qy(v,{pending:!0,data:Te,method:k.method,action:R},R,Te))},currentTarget:k}]})}}for(var jb=0;jb<jl.length;jb++){var Rb=jl[jb],OB=Rb.toLowerCase(),TB=Rb[0].toUpperCase()+Rb.slice(1);po(OB,"on"+TB)}po(sa,"onAnimationEnd"),po(Bi,"onAnimationIteration"),po(mn,"onAnimationStart"),po("dblclick","onDoubleClick"),po("focusin","onFocus"),po("focusout","onBlur"),po(Fi,"onTransitionRun"),po(Ka,"onTransitionStart"),po(Ml,"onTransitionCancel"),po(cl,"onTransitionEnd"),Ha("onMouseEnter",["mouseout","mouseover"]),Ha("onMouseLeave",["mouseout","mouseover"]),Ha("onPointerEnter",["pointerout","pointerover"]),Ha("onPointerLeave",["pointerout","pointerover"]),rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var i1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(i1));function iE(s,f){f=(f&4)!==0;for(var v=0;v<s.length;v++){var _=s[v],k=_.event;_=_.listeners;e:{var R=void 0;if(f)for(var Y=_.length-1;0<=Y;Y--){var he=_[Y],Te=he.instance,Xe=he.currentTarget;if(he=he.listener,Te!==R&&k.isPropagationStopped())break e;R=he,k.currentTarget=Xe;try{R(k)}catch(ft){qf(ft)}k.currentTarget=null,R=Te}else for(Y=0;Y<_.length;Y++){if(he=_[Y],Te=he.instance,Xe=he.currentTarget,he=he.listener,Te!==R&&k.isPropagationStopped())break e;R=he,k.currentTarget=Xe;try{R(k)}catch(ft){qf(ft)}k.currentTarget=null,R=Te}}}}function tn(s,f){var v=f[da];v===void 0&&(v=f[da]=new Set);var _=s+"__bubble";v.has(_)||(aE(f,s,2,!1),v.add(_))}function Pb(s,f,v){var _=0;f&&(_|=4),aE(v,s,_,f)}var Cg="_reactListening"+Math.random().toString(36).slice(2);function Db(s){if(!s[Cg]){s[Cg]=!0,mt.forEach(function(v){v!=="selectionchange"&&(IB.has(v)||Pb(v,!1,s),Pb(v,!0,s))});var f=s.nodeType===9?s:s.ownerDocument;f===null||f[Cg]||(f[Cg]=!0,Pb("selectionchange",!1,f))}}function aE(s,f,v,_){switch(RE(f)){case 2:var k=iF;break;case 8:k=aF;break;default:k=Zb}v=k.bind(null,f,v,s),k=void 0,!$c||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(k=!0),_?k!==void 0?s.addEventListener(f,v,{capture:!0,passive:k}):s.addEventListener(f,v,!0):k!==void 0?s.addEventListener(f,v,{passive:k}):s.addEventListener(f,v,!1)}function Lb(s,f,v,_,k){var R=_;if((f&1)===0&&(f&2)===0&&_!==null)e:for(;;){if(_===null)return;var Y=_.tag;if(Y===3||Y===4){var he=_.stateNode.containerInfo;if(he===k)break;if(Y===4)for(Y=_.return;Y!==null;){var Te=Y.tag;if((Te===3||Te===4)&&Y.stateNode.containerInfo===k)return;Y=Y.return}for(;he!==null;){if(Y=kn(he),Y===null)return;if(Te=Y.tag,Te===5||Te===6||Te===26||Te===27){_=R=Y;continue e}he=he.parentNode}}_=_.return}Gu(function(){var Xe=R,ft=Cl(v),gt=[];e:{var Qe=zf.get(s);if(Qe!==void 0){var tt=jn,zt=s;switch(s){case"keypress":if(ma(v)===0)break e;case"keydown":case"keyup":tt=Gr;break;case"focusin":zt="focus",tt=Lo;break;case"focusout":zt="blur",tt=Lo;break;case"beforeblur":case"afterblur":tt=Lo;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Es;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=Ii;break;case sa:case Bi:case mn:tt=P;break;case cl:tt=Xn;break;case"scroll":case"scrollend":tt=Ol;break;case"wheel":tt=Ys;break;case"copy":case"cut":case"paste":tt=Ae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Ar;break;case"toggle":case"beforetoggle":tt=Il}var Sr=(f&4)!==0,$n=!Sr&&(s==="scroll"||s==="scrollend"),Ue=Sr?Qe!==null?Qe+"Capture":null:Qe;Sr=[];for(var De=Xe,Ye;De!==null;){var pt=De;if(Ye=pt.stateNode,pt=pt.tag,pt!==5&&pt!==26&&pt!==27||Ye===null||Ue===null||(pt=fr(De,Ue),pt!=null&&Sr.push(a1(De,pt,Ye))),$n)break;De=De.return}0<Sr.length&&(Qe=new tt(Qe,zt,null,v,ft),gt.push({event:Qe,listeners:Sr}))}}if((f&7)===0){e:{if(Qe=s==="mouseover"||s==="pointerover",tt=s==="mouseout"||s==="pointerout",Qe&&v!==Ws&&(zt=v.relatedTarget||v.fromElement)&&(kn(zt)||zt[fi]))break e;if((tt||Qe)&&(Qe=ft.window===ft?ft:(Qe=ft.ownerDocument)?Qe.defaultView||Qe.parentWindow:window,tt?(zt=v.relatedTarget||v.toElement,tt=Xe,zt=zt?kn(zt):null,zt!==null&&($n=a(zt),Sr=zt.tag,zt!==$n||Sr!==5&&Sr!==27&&Sr!==6)&&(zt=null)):(tt=null,zt=Xe),tt!==zt)){if(Sr=nn,pt="onMouseLeave",Ue="onMouseEnter",De="mouse",(s==="pointerout"||s==="pointerover")&&(Sr=Ar,pt="onPointerLeave",Ue="onPointerEnter",De="pointer"),$n=tt==null?Qe:il(tt),Ye=zt==null?Qe:il(zt),Qe=new Sr(pt,De+"leave",tt,v,ft),Qe.target=$n,Qe.relatedTarget=Ye,pt=null,kn(ft)===Xe&&(Sr=new Sr(Ue,De+"enter",zt,v,ft),Sr.target=Ye,Sr.relatedTarget=$n,pt=Sr),$n=pt,tt&&zt)t:{for(Sr=kB,Ue=tt,De=zt,Ye=0,pt=Ue;pt;pt=Sr(pt))Ye++;pt=0;for(var mr=De;mr;mr=Sr(mr))pt++;for(;0<Ye-pt;)Ue=Sr(Ue),Ye--;for(;0<pt-Ye;)De=Sr(De),pt--;for(;Ye--;){if(Ue===De||De!==null&&Ue===De.alternate){Sr=Ue;break t}Ue=Sr(Ue),De=Sr(De)}Sr=null}else Sr=null;tt!==null&&sE(gt,Qe,tt,Sr,!1),zt!==null&&$n!==null&&sE(gt,$n,zt,Sr,!0)}}e:{if(Qe=Xe?il(Xe):window,tt=Qe.nodeName&&Qe.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Qe.type==="file")var bn=ia;else if(cc(Qe))if(Ya)bn=y;else{bn=p;var Qt=l}else tt=Qe.nodeName,!tt||tt.toLowerCase()!=="input"||Qe.type!=="checkbox"&&Qe.type!=="radio"?Xe&&_n(Xe.elementType)&&(bn=ia):bn=g;if(bn&&(bn=bn(s,Xe))){ai(gt,bn,v,ft);break e}Qt&&Qt(s,Qe,Xe),s==="focusout"&&Xe&&Qe.type==="number"&&Xe.memoizedProps.value!=null&&be(Qe,"number",Qe.value)}switch(Qt=Xe?il(Xe):window,s){case"focusin":(cc(Qt)||Qt.contentEditable==="true")&&(Oe=Qt,je=Xe,Be=null);break;case"focusout":Be=je=Oe=null;break;case"mousedown":Ze=!0;break;case"contextmenu":case"mouseup":case"dragend":Ze=!1,ct(gt,v,ft);break;case"selectionchange":if(_e)break;case"keydown":case"keyup":ct(gt,v,ft)}var qr;if(Cs)e:{switch(s){case"compositionstart":var sn="onCompositionStart";break e;case"compositionend":sn="onCompositionEnd";break e;case"compositionupdate":sn="onCompositionUpdate";break e}sn=void 0}else ho?ll(s,v)&&(sn="onCompositionEnd"):s==="keydown"&&v.keyCode===229&&(sn="onCompositionStart");sn&&(Bo&&v.locale!=="ko"&&(ho||sn!=="onCompositionStart"?sn==="onCompositionEnd"&&ho&&(qr=al()):(Wa=ft,hs="value"in Wa?Wa.value:Wa.textContent,ho=!0)),Qt=Ng(Xe,sn),0<Qt.length&&(sn=new Fe(sn,s,null,v,ft),gt.push({event:sn,listeners:Qt}),qr?sn.data=qr:(qr=fo(v),qr!==null&&(sn.data=qr)))),(qr=ol?ii(s,v):Os(s,v))&&(sn=Ng(Xe,"onBeforeInput"),0<sn.length&&(Qt=new Fe("onBeforeInput","beforeinput",null,v,ft),gt.push({event:Qt,listeners:sn}),Qt.data=qr)),NB(gt,s,Xe,v,ft)}iE(gt,f)})}function a1(s,f,v){return{instance:s,listener:f,currentTarget:v}}function Ng(s,f){for(var v=f+"Capture",_=[];s!==null;){var k=s,R=k.stateNode;if(k=k.tag,k!==5&&k!==26&&k!==27||R===null||(k=fr(s,v),k!=null&&_.unshift(a1(s,k,R)),k=fr(s,f),k!=null&&_.push(a1(s,k,R))),s.tag===3)return _;s=s.return}return[]}function kB(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function sE(s,f,v,_,k){for(var R=f._reactName,Y=[];v!==null&&v!==_;){var he=v,Te=he.alternate,Xe=he.stateNode;if(he=he.tag,Te!==null&&Te===_)break;he!==5&&he!==26&&he!==27||Xe===null||(Te=Xe,k?(Xe=fr(v,R),Xe!=null&&Y.unshift(a1(v,Xe,Te))):k||(Xe=fr(v,R),Xe!=null&&Y.push(a1(v,Xe,Te)))),v=v.return}Y.length!==0&&s.push({event:f,listeners:Y})}var MB=/\r\n?/g,jB=/\u0000|\uFFFD/g;function oE(s){return(typeof s=="string"?s:""+s).replace(MB,`
`).replace(jB,"")}function lE(s,f){return f=oE(f),oE(s)===f}function Wn(s,f,v,_,k,R){switch(v){case"children":typeof _=="string"?f==="body"||f==="textarea"&&_===""||Gs(s,_):(typeof _=="number"||typeof _=="bigint")&&f!=="body"&&Gs(s,""+_);break;case"className":Hs(s,"class",_);break;case"tabIndex":Hs(s,"tabindex",_);break;case"dir":case"role":case"viewBox":case"width":case"height":Hs(s,v,_);break;case"style":rr(s,_,R);break;case"data":if(f!=="object"){Hs(s,"data",_);break}case"src":case"href":if(_===""&&(f!=="a"||v!=="href")){s.removeAttribute(v);break}if(_==null||typeof _=="function"||typeof _=="symbol"||typeof _=="boolean"){s.removeAttribute(v);break}_=ga(""+_),s.setAttribute(v,_);break;case"action":case"formAction":if(typeof _=="function"){s.setAttribute(v,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof R=="function"&&(v==="formAction"?(f!=="input"&&Wn(s,f,"name",k.name,k,null),Wn(s,f,"formEncType",k.formEncType,k,null),Wn(s,f,"formMethod",k.formMethod,k,null),Wn(s,f,"formTarget",k.formTarget,k,null)):(Wn(s,f,"encType",k.encType,k,null),Wn(s,f,"method",k.method,k,null),Wn(s,f,"target",k.target,k,null)));if(_==null||typeof _=="symbol"||typeof _=="boolean"){s.removeAttribute(v);break}_=ga(""+_),s.setAttribute(v,_);break;case"onClick":_!=null&&(s.onclick=Ga);break;case"onScroll":_!=null&&tn("scroll",s);break;case"onScrollEnd":_!=null&&tn("scrollend",s);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(n(61));if(v=_.__html,v!=null){if(k.children!=null)throw Error(n(60));s.innerHTML=v}}break;case"multiple":s.multiple=_&&typeof _!="function"&&typeof _!="symbol";break;case"muted":s.muted=_&&typeof _!="function"&&typeof _!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(_==null||typeof _=="function"||typeof _=="boolean"||typeof _=="symbol"){s.removeAttribute("xlink:href");break}v=ga(""+_),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":_!=null&&typeof _!="function"&&typeof _!="symbol"?s.setAttribute(v,""+_):s.removeAttribute(v);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":_&&typeof _!="function"&&typeof _!="symbol"?s.setAttribute(v,""):s.removeAttribute(v);break;case"capture":case"download":_===!0?s.setAttribute(v,""):_!==!1&&_!=null&&typeof _!="function"&&typeof _!="symbol"?s.setAttribute(v,_):s.removeAttribute(v);break;case"cols":case"rows":case"size":case"span":_!=null&&typeof _!="function"&&typeof _!="symbol"&&!isNaN(_)&&1<=_?s.setAttribute(v,_):s.removeAttribute(v);break;case"rowSpan":case"start":_==null||typeof _=="function"||typeof _=="symbol"||isNaN(_)?s.removeAttribute(v):s.setAttribute(v,_);break;case"popover":tn("beforetoggle",s),tn("toggle",s),Ea(s,"popover",_);break;case"xlinkActuate":ds(s,"http://www.w3.org/1999/xlink","xlink:actuate",_);break;case"xlinkArcrole":ds(s,"http://www.w3.org/1999/xlink","xlink:arcrole",_);break;case"xlinkRole":ds(s,"http://www.w3.org/1999/xlink","xlink:role",_);break;case"xlinkShow":ds(s,"http://www.w3.org/1999/xlink","xlink:show",_);break;case"xlinkTitle":ds(s,"http://www.w3.org/1999/xlink","xlink:title",_);break;case"xlinkType":ds(s,"http://www.w3.org/1999/xlink","xlink:type",_);break;case"xmlBase":ds(s,"http://www.w3.org/XML/1998/namespace","xml:base",_);break;case"xmlLang":ds(s,"http://www.w3.org/XML/1998/namespace","xml:lang",_);break;case"xmlSpace":ds(s,"http://www.w3.org/XML/1998/namespace","xml:space",_);break;case"is":Ea(s,"is",_);break;case"innerText":case"textContent":break;default:(!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(v=lc.get(v)||v,Ea(s,v,_))}}function Bb(s,f,v,_,k,R){switch(v){case"style":rr(s,_,R);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(n(61));if(v=_.__html,v!=null){if(k.children!=null)throw Error(n(60));s.innerHTML=v}}break;case"children":typeof _=="string"?Gs(s,_):(typeof _=="number"||typeof _=="bigint")&&Gs(s,""+_);break;case"onScroll":_!=null&&tn("scroll",s);break;case"onScrollEnd":_!=null&&tn("scrollend",s);break;case"onClick":_!=null&&(s.onclick=Ga);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fs.hasOwnProperty(v))e:{if(v[0]==="o"&&v[1]==="n"&&(k=v.endsWith("Capture"),f=v.slice(2,k?v.length-7:void 0),R=s[Hr]||null,R=R!=null?R[v]:null,typeof R=="function"&&s.removeEventListener(f,R,k),typeof _=="function")){typeof R!="function"&&R!==null&&(v in s?s[v]=null:s.hasAttribute(v)&&s.removeAttribute(v)),s.addEventListener(f,_,k);break e}v in s?s[v]=_:_===!0?s.setAttribute(v,""):Ea(s,v,_)}}}function vs(s,f,v){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tn("error",s),tn("load",s);var _=!1,k=!1,R;for(R in v)if(v.hasOwnProperty(R)){var Y=v[R];if(Y!=null)switch(R){case"src":_=!0;break;case"srcSet":k=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Wn(s,f,R,Y,v,null)}}k&&Wn(s,f,"srcSet",v.srcSet,v,null),_&&Wn(s,f,"src",v.src,v,null);return;case"input":tn("invalid",s);var he=R=Y=k=null,Te=null,Xe=null;for(_ in v)if(v.hasOwnProperty(_)){var ft=v[_];if(ft!=null)switch(_){case"name":k=ft;break;case"type":Y=ft;break;case"checked":Te=ft;break;case"defaultChecked":Xe=ft;break;case"value":R=ft;break;case"defaultValue":he=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(n(137,f));break;default:Wn(s,f,_,ft,v,null)}}We(s,R,he,Te,Xe,Y,k,!1);return;case"select":tn("invalid",s),_=Y=R=null;for(k in v)if(v.hasOwnProperty(k)&&(he=v[k],he!=null))switch(k){case"value":R=he;break;case"defaultValue":Y=he;break;case"multiple":_=he;default:Wn(s,f,k,he,v,null)}f=R,v=Y,s.multiple=!!_,f!=null?Tt(s,!!_,f,!1):v!=null&&Tt(s,!!_,v,!0);return;case"textarea":tn("invalid",s),R=k=_=null;for(Y in v)if(v.hasOwnProperty(Y)&&(he=v[Y],he!=null))switch(Y){case"value":_=he;break;case"defaultValue":k=he;break;case"children":R=he;break;case"dangerouslySetInnerHTML":if(he!=null)throw Error(n(91));break;default:Wn(s,f,Y,he,v,null)}pa(s,_,k,R);return;case"option":for(Te in v)if(v.hasOwnProperty(Te)&&(_=v[Te],_!=null))switch(Te){case"selected":s.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:Wn(s,f,Te,_,v,null)}return;case"dialog":tn("beforetoggle",s),tn("toggle",s),tn("cancel",s),tn("close",s);break;case"iframe":case"object":tn("load",s);break;case"video":case"audio":for(_=0;_<i1.length;_++)tn(i1[_],s);break;case"image":tn("error",s),tn("load",s);break;case"details":tn("toggle",s);break;case"embed":case"source":case"link":tn("error",s),tn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Xe in v)if(v.hasOwnProperty(Xe)&&(_=v[Xe],_!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Wn(s,f,Xe,_,v,null)}return;default:if(_n(f)){for(ft in v)v.hasOwnProperty(ft)&&(_=v[ft],_!==void 0&&Bb(s,f,ft,_,v,void 0));return}}for(he in v)v.hasOwnProperty(he)&&(_=v[he],_!=null&&Wn(s,f,he,_,v,null))}function RB(s,f,v,_){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var k=null,R=null,Y=null,he=null,Te=null,Xe=null,ft=null;for(tt in v){var gt=v[tt];if(v.hasOwnProperty(tt)&&gt!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":Te=gt;default:_.hasOwnProperty(tt)||Wn(s,f,tt,null,_,gt)}}for(var Qe in _){var tt=_[Qe];if(gt=v[Qe],_.hasOwnProperty(Qe)&&(tt!=null||gt!=null))switch(Qe){case"type":R=tt;break;case"name":k=tt;break;case"checked":Xe=tt;break;case"defaultChecked":ft=tt;break;case"value":Y=tt;break;case"defaultValue":he=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(n(137,f));break;default:tt!==gt&&Wn(s,f,Qe,tt,_,gt)}}di(s,Y,he,Te,Xe,ft,R,k);return;case"select":tt=Y=he=Qe=null;for(R in v)if(Te=v[R],v.hasOwnProperty(R)&&Te!=null)switch(R){case"value":break;case"multiple":tt=Te;default:_.hasOwnProperty(R)||Wn(s,f,R,null,_,Te)}for(k in _)if(R=_[k],Te=v[k],_.hasOwnProperty(k)&&(R!=null||Te!=null))switch(k){case"value":Qe=R;break;case"defaultValue":he=R;break;case"multiple":Y=R;default:R!==Te&&Wn(s,f,k,R,_,Te)}f=he,v=Y,_=tt,Qe!=null?Tt(s,!!v,Qe,!1):!!_!=!!v&&(f!=null?Tt(s,!!v,f,!0):Tt(s,!!v,v?[]:"",!1));return;case"textarea":tt=Qe=null;for(he in v)if(k=v[he],v.hasOwnProperty(he)&&k!=null&&!_.hasOwnProperty(he))switch(he){case"value":break;case"children":break;default:Wn(s,f,he,null,_,k)}for(Y in _)if(k=_[Y],R=v[Y],_.hasOwnProperty(Y)&&(k!=null||R!=null))switch(Y){case"value":Qe=k;break;case"defaultValue":tt=k;break;case"children":break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(n(91));break;default:k!==R&&Wn(s,f,Y,k,_,R)}ri(s,Qe,tt);return;case"option":for(var zt in v)if(Qe=v[zt],v.hasOwnProperty(zt)&&Qe!=null&&!_.hasOwnProperty(zt))switch(zt){case"selected":s.selected=!1;break;default:Wn(s,f,zt,null,_,Qe)}for(Te in _)if(Qe=_[Te],tt=v[Te],_.hasOwnProperty(Te)&&Qe!==tt&&(Qe!=null||tt!=null))switch(Te){case"selected":s.selected=Qe&&typeof Qe!="function"&&typeof Qe!="symbol";break;default:Wn(s,f,Te,Qe,_,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Sr in v)Qe=v[Sr],v.hasOwnProperty(Sr)&&Qe!=null&&!_.hasOwnProperty(Sr)&&Wn(s,f,Sr,null,_,Qe);for(Xe in _)if(Qe=_[Xe],tt=v[Xe],_.hasOwnProperty(Xe)&&Qe!==tt&&(Qe!=null||tt!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(n(137,f));break;default:Wn(s,f,Xe,Qe,_,tt)}return;default:if(_n(f)){for(var $n in v)Qe=v[$n],v.hasOwnProperty($n)&&Qe!==void 0&&!_.hasOwnProperty($n)&&Bb(s,f,$n,void 0,_,Qe);for(ft in _)Qe=_[ft],tt=v[ft],!_.hasOwnProperty(ft)||Qe===tt||Qe===void 0&&tt===void 0||Bb(s,f,ft,Qe,_,tt);return}}for(var Ue in v)Qe=v[Ue],v.hasOwnProperty(Ue)&&Qe!=null&&!_.hasOwnProperty(Ue)&&Wn(s,f,Ue,null,_,Qe);for(gt in _)Qe=_[gt],tt=v[gt],!_.hasOwnProperty(gt)||Qe===tt||Qe==null&&tt==null||Wn(s,f,gt,Qe,_,tt)}function cE(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function PB(){if(typeof performance.getEntriesByType=="function"){for(var s=0,f=0,v=performance.getEntriesByType("resource"),_=0;_<v.length;_++){var k=v[_],R=k.transferSize,Y=k.initiatorType,he=k.duration;if(R&&he&&cE(Y)){for(Y=0,he=k.responseEnd,_+=1;_<v.length;_++){var Te=v[_],Xe=Te.startTime;if(Xe>he)break;var ft=Te.transferSize,gt=Te.initiatorType;ft&&cE(gt)&&(Te=Te.responseEnd,Y+=ft*(Te<he?1:(he-Xe)/(Te-Xe)))}if(--_,f+=8*(R+Y)/(k.duration/1e3),s++,10<s)break}}if(0<s)return f/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Fb=null,Ub=null;function Og(s){return s.nodeType===9?s:s.ownerDocument}function uE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fE(s,f){if(s===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&f==="foreignObject"?0:s}function zb(s,f){return s==="textarea"||s==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var qb=null;function DB(){var s=window.event;return s&&s.type==="popstate"?s===qb?!1:(qb=s,!0):(qb=null,!1)}var dE=typeof setTimeout=="function"?setTimeout:void 0,LB=typeof clearTimeout=="function"?clearTimeout:void 0,hE=typeof Promise=="function"?Promise:void 0,BB=typeof queueMicrotask=="function"?queueMicrotask:typeof hE<"u"?function(s){return hE.resolve(null).then(s).catch(FB)}:dE;function FB(s){setTimeout(function(){throw s})}function cf(s){return s==="head"}function pE(s,f){var v=f,_=0;do{var k=v.nextSibling;if(s.removeChild(v),k&&k.nodeType===8)if(v=k.data,v==="/$"||v==="/&"){if(_===0){s.removeChild(k),Sh(f);return}_--}else if(v==="$"||v==="$?"||v==="$~"||v==="$!"||v==="&")_++;else if(v==="html")s1(s.ownerDocument.documentElement);else if(v==="head"){v=s.ownerDocument.head,s1(v);for(var R=v.firstChild;R;){var Y=R.nextSibling,he=R.nodeName;R[qs]||he==="SCRIPT"||he==="STYLE"||he==="LINK"&&R.rel.toLowerCase()==="stylesheet"||v.removeChild(R),R=Y}}else v==="body"&&s1(s.ownerDocument.body);v=k}while(v);Sh(f)}function gE(s,f){var v=s;s=0;do{var _=v.nextSibling;if(v.nodeType===1?f?(v._stashedDisplay=v.style.display,v.style.display="none"):(v.style.display=v._stashedDisplay||"",v.getAttribute("style")===""&&v.removeAttribute("style")):v.nodeType===3&&(f?(v._stashedText=v.nodeValue,v.nodeValue=""):v.nodeValue=v._stashedText||""),_&&_.nodeType===8)if(v=_.data,v==="/$"){if(s===0)break;s--}else v!=="$"&&v!=="$?"&&v!=="$~"&&v!=="$!"||s++;v=_}while(v)}function Hb(s){var f=s.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var v=f;switch(f=f.nextSibling,v.nodeName){case"HTML":case"HEAD":case"BODY":Hb(v),ta(v);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(v.rel.toLowerCase()==="stylesheet")continue}s.removeChild(v)}}function UB(s,f,v,_){for(;s.nodeType===1;){var k=v;if(s.nodeName.toLowerCase()!==f.toLowerCase()){if(!_&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(_){if(!s[qs])switch(f){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(R=s.getAttribute("rel"),R==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(R!==k.rel||s.getAttribute("href")!==(k.href==null||k.href===""?null:k.href)||s.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin)||s.getAttribute("title")!==(k.title==null?null:k.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(R=s.getAttribute("src"),(R!==(k.src==null?null:k.src)||s.getAttribute("type")!==(k.type==null?null:k.type)||s.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin))&&R&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(f==="input"&&s.type==="hidden"){var R=k.name==null?null:""+k.name;if(k.type==="hidden"&&s.getAttribute("name")===R)return s}else return s;if(s=hl(s.nextSibling),s===null)break}return null}function zB(s,f,v){if(f==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!v||(s=hl(s.nextSibling),s===null))return null;return s}function mE(s,f){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!f||(s=hl(s.nextSibling),s===null))return null;return s}function Gb(s){return s.data==="$?"||s.data==="$~"}function Wb(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function qB(s,f){var v=s.ownerDocument;if(s.data==="$~")s._reactRetry=f;else if(s.data!=="$?"||v.readyState!=="loading")f();else{var _=function(){f(),v.removeEventListener("DOMContentLoaded",_)};v.addEventListener("DOMContentLoaded",_),s._reactRetry=_}}function hl(s){for(;s!=null;s=s.nextSibling){var f=s.nodeType;if(f===1||f===3)break;if(f===8){if(f=s.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return s}var $b=null;function vE(s){s=s.nextSibling;for(var f=0;s;){if(s.nodeType===8){var v=s.data;if(v==="/$"||v==="/&"){if(f===0)return hl(s.nextSibling);f--}else v!=="$"&&v!=="$!"&&v!=="$?"&&v!=="$~"&&v!=="&"||f++}s=s.nextSibling}return null}function yE(s){s=s.previousSibling;for(var f=0;s;){if(s.nodeType===8){var v=s.data;if(v==="$"||v==="$!"||v==="$?"||v==="$~"||v==="&"){if(f===0)return s;f--}else v!=="/$"&&v!=="/&"||f++}s=s.previousSibling}return null}function bE(s,f,v){switch(f=Og(v),s){case"html":if(s=f.documentElement,!s)throw Error(n(452));return s;case"head":if(s=f.head,!s)throw Error(n(453));return s;case"body":if(s=f.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function s1(s){for(var f=s.attributes;f.length;)s.removeAttributeNode(f[0]);ta(s)}var pl=new Map,xE=new Set;function Tg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var cu=fe.d;fe.d={f:HB,r:GB,D:WB,C:$B,L:VB,m:YB,X:KB,S:XB,M:ZB};function HB(){var s=cu.f(),f=xg();return s||f}function GB(s){var f=Xr(s);f!==null&&f.tag===5&&f.type==="form"?LS(f):cu.r(s)}var wh=typeof document>"u"?null:document;function wE(s,f,v){var _=wh;if(_&&typeof f=="string"&&f){var k=Or(f);k='link[rel="'+s+'"][href="'+k+'"]',typeof v=="string"&&(k+='[crossorigin="'+v+'"]'),xE.has(k)||(xE.add(k),s={rel:s,crossOrigin:v,href:f},_.querySelector(k)===null&&(f=_.createElement("link"),vs(f,"link",s),Yn(f),_.head.appendChild(f)))}}function WB(s){cu.D(s),wE("dns-prefetch",s,null)}function $B(s,f){cu.C(s,f),wE("preconnect",s,f)}function VB(s,f,v){cu.L(s,f,v);var _=wh;if(_&&s&&f){var k='link[rel="preload"][as="'+Or(f)+'"]';f==="image"&&v&&v.imageSrcSet?(k+='[imagesrcset="'+Or(v.imageSrcSet)+'"]',typeof v.imageSizes=="string"&&(k+='[imagesizes="'+Or(v.imageSizes)+'"]')):k+='[href="'+Or(s)+'"]';var R=k;switch(f){case"style":R=_h(s);break;case"script":R=Ah(s)}pl.has(R)||(s=m({rel:"preload",href:f==="image"&&v&&v.imageSrcSet?void 0:s,as:f},v),pl.set(R,s),_.querySelector(k)!==null||f==="style"&&_.querySelector(o1(R))||f==="script"&&_.querySelector(l1(R))||(f=_.createElement("link"),vs(f,"link",s),Yn(f),_.head.appendChild(f)))}}function YB(s,f){cu.m(s,f);var v=wh;if(v&&s){var _=f&&typeof f.as=="string"?f.as:"script",k='link[rel="modulepreload"][as="'+Or(_)+'"][href="'+Or(s)+'"]',R=k;switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":R=Ah(s)}if(!pl.has(R)&&(s=m({rel:"modulepreload",href:s},f),pl.set(R,s),v.querySelector(k)===null)){switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(v.querySelector(l1(R)))return}_=v.createElement("link"),vs(_,"link",s),Yn(_),v.head.appendChild(_)}}}function XB(s,f,v){cu.S(s,f,v);var _=wh;if(_&&s){var k=ra(_).hoistableStyles,R=_h(s);f=f||"default";var Y=k.get(R);if(!Y){var he={loading:0,preload:null};if(Y=_.querySelector(o1(R)))he.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":f},v),(v=pl.get(R))&&Vb(s,v);var Te=Y=_.createElement("link");Yn(Te),vs(Te,"link",s),Te._p=new Promise(function(Xe,ft){Te.onload=Xe,Te.onerror=ft}),Te.addEventListener("load",function(){he.loading|=1}),Te.addEventListener("error",function(){he.loading|=2}),he.loading|=4,Ig(Y,f,_)}Y={type:"stylesheet",instance:Y,count:1,state:he},k.set(R,Y)}}}function KB(s,f){cu.X(s,f);var v=wh;if(v&&s){var _=ra(v).hoistableScripts,k=Ah(s),R=_.get(k);R||(R=v.querySelector(l1(k)),R||(s=m({src:s,async:!0},f),(f=pl.get(k))&&Yb(s,f),R=v.createElement("script"),Yn(R),vs(R,"link",s),v.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},_.set(k,R))}}function ZB(s,f){cu.M(s,f);var v=wh;if(v&&s){var _=ra(v).hoistableScripts,k=Ah(s),R=_.get(k);R||(R=v.querySelector(l1(k)),R||(s=m({src:s,async:!0,type:"module"},f),(f=pl.get(k))&&Yb(s,f),R=v.createElement("script"),Yn(R),vs(R,"link",s),v.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},_.set(k,R))}}function _E(s,f,v,_){var k=(k=xe.current)?Tg(k):null;if(!k)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof v.precedence=="string"&&typeof v.href=="string"?(f=_h(v.href),v=ra(k).hoistableStyles,_=v.get(f),_||(_={type:"style",instance:null,count:0,state:null},v.set(f,_)),_):{type:"void",instance:null,count:0,state:null};case"link":if(v.rel==="stylesheet"&&typeof v.href=="string"&&typeof v.precedence=="string"){s=_h(v.href);var R=ra(k).hoistableStyles,Y=R.get(s);if(Y||(k=k.ownerDocument||k,Y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},R.set(s,Y),(R=k.querySelector(o1(s)))&&!R._p&&(Y.instance=R,Y.state.loading=5),pl.has(s)||(v={rel:"preload",as:"style",href:v.href,crossOrigin:v.crossOrigin,integrity:v.integrity,media:v.media,hrefLang:v.hrefLang,referrerPolicy:v.referrerPolicy},pl.set(s,v),R||QB(k,s,v,Y.state))),f&&_===null)throw Error(n(528,""));return Y}if(f&&_!==null)throw Error(n(529,""));return null;case"script":return f=v.async,v=v.src,typeof v=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Ah(v),v=ra(k).hoistableScripts,_=v.get(f),_||(_={type:"script",instance:null,count:0,state:null},v.set(f,_)),_):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function _h(s){return'href="'+Or(s)+'"'}function o1(s){return'link[rel="stylesheet"]['+s+"]"}function AE(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function QB(s,f,v,_){s.querySelector('link[rel="preload"][as="style"]['+f+"]")?_.loading=1:(f=s.createElement("link"),_.preload=f,f.addEventListener("load",function(){return _.loading|=1}),f.addEventListener("error",function(){return _.loading|=2}),vs(f,"link",v),Yn(f),s.head.appendChild(f))}function Ah(s){return'[src="'+Or(s)+'"]'}function l1(s){return"script[async]"+s}function SE(s,f,v){if(f.count++,f.instance===null)switch(f.type){case"style":var _=s.querySelector('style[data-href~="'+Or(v.href)+'"]');if(_)return f.instance=_,Yn(_),_;var k=m({},v,{"data-href":v.href,"data-precedence":v.precedence,href:null,precedence:null});return _=(s.ownerDocument||s).createElement("style"),Yn(_),vs(_,"style",k),Ig(_,v.precedence,s),f.instance=_;case"stylesheet":k=_h(v.href);var R=s.querySelector(o1(k));if(R)return f.state.loading|=4,f.instance=R,Yn(R),R;_=AE(v),(k=pl.get(k))&&Vb(_,k),R=(s.ownerDocument||s).createElement("link"),Yn(R);var Y=R;return Y._p=new Promise(function(he,Te){Y.onload=he,Y.onerror=Te}),vs(R,"link",_),f.state.loading|=4,Ig(R,v.precedence,s),f.instance=R;case"script":return R=Ah(v.src),(k=s.querySelector(l1(R)))?(f.instance=k,Yn(k),k):(_=v,(k=pl.get(R))&&(_=m({},v),Yb(_,k)),s=s.ownerDocument||s,k=s.createElement("script"),Yn(k),vs(k,"link",_),s.head.appendChild(k),f.instance=k);case"void":return null;default:throw Error(n(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(_=f.instance,f.state.loading|=4,Ig(_,v.precedence,s));return f.instance}function Ig(s,f,v){for(var _=v.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),k=_.length?_[_.length-1]:null,R=k,Y=0;Y<_.length;Y++){var he=_[Y];if(he.dataset.precedence===f)R=he;else if(R!==k)break}R?R.parentNode.insertBefore(s,R.nextSibling):(f=v.nodeType===9?v.head:v,f.insertBefore(s,f.firstChild))}function Vb(s,f){s.crossOrigin==null&&(s.crossOrigin=f.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=f.referrerPolicy),s.title==null&&(s.title=f.title)}function Yb(s,f){s.crossOrigin==null&&(s.crossOrigin=f.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=f.referrerPolicy),s.integrity==null&&(s.integrity=f.integrity)}var kg=null;function EE(s,f,v){if(kg===null){var _=new Map,k=kg=new Map;k.set(v,_)}else k=kg,_=k.get(v),_||(_=new Map,k.set(v,_));if(_.has(s))return _;for(_.set(s,null),v=v.getElementsByTagName(s),k=0;k<v.length;k++){var R=v[k];if(!(R[qs]||R[pn]||s==="link"&&R.getAttribute("rel")==="stylesheet")&&R.namespaceURI!=="http://www.w3.org/2000/svg"){var Y=R.getAttribute(f)||"";Y=s+Y;var he=_.get(Y);he?he.push(R):_.set(Y,[R])}}return _}function CE(s,f,v){s=s.ownerDocument||s,s.head.insertBefore(v,f==="title"?s.querySelector("head > title"):null)}function JB(s,f,v){if(v===1||f.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return s=f.disabled,typeof f.precedence=="string"&&s==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function NE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function eF(s,f,v,_){if(v.type==="stylesheet"&&(typeof _.media!="string"||matchMedia(_.media).matches!==!1)&&(v.state.loading&4)===0){if(v.instance===null){var k=_h(_.href),R=f.querySelector(o1(k));if(R){f=R._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(s.count++,s=Mg.bind(s),f.then(s,s)),v.state.loading|=4,v.instance=R,Yn(R);return}R=f.ownerDocument||f,_=AE(_),(k=pl.get(k))&&Vb(_,k),R=R.createElement("link"),Yn(R);var Y=R;Y._p=new Promise(function(he,Te){Y.onload=he,Y.onerror=Te}),vs(R,"link",_),v.instance=R}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(v,f),(f=v.state.preload)&&(v.state.loading&3)===0&&(s.count++,v=Mg.bind(s),f.addEventListener("load",v),f.addEventListener("error",v))}}var Xb=0;function tF(s,f){return s.stylesheets&&s.count===0&&Rg(s,s.stylesheets),0<s.count||0<s.imgCount?function(v){var _=setTimeout(function(){if(s.stylesheets&&Rg(s,s.stylesheets),s.unsuspend){var R=s.unsuspend;s.unsuspend=null,R()}},6e4+f);0<s.imgBytes&&Xb===0&&(Xb=62500*PB());var k=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Rg(s,s.stylesheets),s.unsuspend)){var R=s.unsuspend;s.unsuspend=null,R()}},(s.imgBytes>Xb?50:800)+f);return s.unsuspend=v,function(){s.unsuspend=null,clearTimeout(_),clearTimeout(k)}}:null}function Mg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var jg=null;function Rg(s,f){s.stylesheets=null,s.unsuspend!==null&&(s.count++,jg=new Map,f.forEach(rF,s),jg=null,Mg.call(s))}function rF(s,f){if(!(f.state.loading&4)){var v=jg.get(s);if(v)var _=v.get(null);else{v=new Map,jg.set(s,v);for(var k=s.querySelectorAll("link[data-precedence],style[data-precedence]"),R=0;R<k.length;R++){var Y=k[R];(Y.nodeName==="LINK"||Y.getAttribute("media")!=="not all")&&(v.set(Y.dataset.precedence,Y),_=Y)}_&&v.set(null,_)}k=f.instance,Y=k.getAttribute("data-precedence"),R=v.get(Y)||_,R===_&&v.set(null,k),v.set(Y,k),this.count++,_=Mg.bind(this),k.addEventListener("load",_),k.addEventListener("error",_),R?R.parentNode.insertBefore(k,R.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(k,s.firstChild)),f.state.loading|=4}}var c1={$$typeof:U,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function nF(s,f,v,_,k,R,Y,he,Te){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ea(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ea(0),this.hiddenUpdates=ea(null),this.identifierPrefix=_,this.onUncaughtError=k,this.onCaughtError=R,this.onRecoverableError=Y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Te,this.incompleteTransitions=new Map}function OE(s,f,v,_,k,R,Y,he,Te,Xe,ft,gt){return s=new nF(s,f,v,Y,Te,Xe,ft,gt,he),f=1,R===!0&&(f|=24),R=Qa(3,null,null,f),s.current=R,R.stateNode=s,f=Ku(),f.refCount++,s.pooledCache=f,f.refCount++,R.memoizedState={element:_,isDehydrated:v,cache:f},At(R),s}function TE(s){return s?(s=Oa,s):Oa}function IE(s,f,v,_,k,R){k=TE(k),_.context===null?_.context=k:_.pendingContext=k,_=xr(f),_.payload={element:v},R=R===void 0?null:R,R!==null&&(_.callback=R),v=Lr(s,_,f),v!==null&&(No(v,s,f),An(v,s,f))}function kE(s,f){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var v=s.retryLane;s.retryLane=v!==0&&v<f?v:f}}function Kb(s,f){kE(s,f),(s=s.alternate)&&kE(s,f)}function ME(s){if(s.tag===13||s.tag===31){var f=Rl(s,67108864);f!==null&&No(f,s,67108864),Kb(s,67108864)}}function jE(s){if(s.tag===13||s.tag===31){var f=qo();f=zr(f);var v=Rl(s,f);v!==null&&No(v,s,f),Kb(s,f)}}var Pg=!0;function iF(s,f,v,_){var k=ne.T;ne.T=null;var R=fe.p;try{fe.p=2,Zb(s,f,v,_)}finally{fe.p=R,ne.T=k}}function aF(s,f,v,_){var k=ne.T;ne.T=null;var R=fe.p;try{fe.p=8,Zb(s,f,v,_)}finally{fe.p=R,ne.T=k}}function Zb(s,f,v,_){if(Pg){var k=Qb(_);if(k===null)Lb(s,f,_,Dg,v),PE(s,_);else if(oF(k,s,f,v,_))_.stopPropagation();else if(PE(s,_),f&4&&-1<sF.indexOf(s)){for(;k!==null;){var R=Xr(k);if(R!==null)switch(R.tag){case 3:if(R=R.stateNode,R.current.memoizedState.isDehydrated){var Y=Kt(R.pendingLanes);if(Y!==0){var he=R;for(he.pendingLanes|=2,he.entangledLanes|=2;Y;){var Te=1<<31-Bt(Y);he.entanglements[1]|=Te,Y&=~Te}_c(R),(En&6)===0&&(yg=vr()+500,n1(0))}}break;case 31:case 13:he=Rl(R,2),he!==null&&No(he,R,2),xg(),Kb(R,2)}if(R=Qb(_),R===null&&Lb(s,f,_,Dg,v),R===k)break;k=R}k!==null&&_.stopPropagation()}else Lb(s,f,_,null,v)}}function Qb(s){return s=Cl(s),Jb(s)}var Dg=null;function Jb(s){if(Dg=null,s=kn(s),s!==null){var f=a(s);if(f===null)s=null;else{var v=f.tag;if(v===13){if(s=o(f),s!==null)return s;s=null}else if(v===31){if(s=u(f),s!==null)return s;s=null}else if(v===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;s=null}else f!==s&&(s=null)}}return Dg=s,null}function RE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Br()){case lr:return 2;case Ur:return 8;case Cr:case Ot:return 32;case Tr:return 268435456;default:return 32}default:return 32}}var ex=!1,uf=null,ff=null,df=null,u1=new Map,f1=new Map,hf=[],sF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PE(s,f){switch(s){case"focusin":case"focusout":uf=null;break;case"dragenter":case"dragleave":ff=null;break;case"mouseover":case"mouseout":df=null;break;case"pointerover":case"pointerout":u1.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":f1.delete(f.pointerId)}}function d1(s,f,v,_,k,R){return s===null||s.nativeEvent!==R?(s={blockedOn:f,domEventName:v,eventSystemFlags:_,nativeEvent:R,targetContainers:[k]},f!==null&&(f=Xr(f),f!==null&&ME(f)),s):(s.eventSystemFlags|=_,f=s.targetContainers,k!==null&&f.indexOf(k)===-1&&f.push(k),s)}function oF(s,f,v,_,k){switch(f){case"focusin":return uf=d1(uf,s,f,v,_,k),!0;case"dragenter":return ff=d1(ff,s,f,v,_,k),!0;case"mouseover":return df=d1(df,s,f,v,_,k),!0;case"pointerover":var R=k.pointerId;return u1.set(R,d1(u1.get(R)||null,s,f,v,_,k)),!0;case"gotpointercapture":return R=k.pointerId,f1.set(R,d1(f1.get(R)||null,s,f,v,_,k)),!0}return!1}function DE(s){var f=kn(s.target);if(f!==null){var v=a(f);if(v!==null){if(f=v.tag,f===13){if(f=o(v),f!==null){s.blockedOn=f,Nt(s.priority,function(){jE(v)});return}}else if(f===31){if(f=u(v),f!==null){s.blockedOn=f,Nt(s.priority,function(){jE(v)});return}}else if(f===3&&v.stateNode.current.memoizedState.isDehydrated){s.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Lg(s){if(s.blockedOn!==null)return!1;for(var f=s.targetContainers;0<f.length;){var v=Qb(s.nativeEvent);if(v===null){v=s.nativeEvent;var _=new v.constructor(v.type,v);Ws=_,v.target.dispatchEvent(_),Ws=null}else return f=Xr(v),f!==null&&ME(f),s.blockedOn=v,!1;f.shift()}return!0}function LE(s,f,v){Lg(s)&&v.delete(f)}function lF(){ex=!1,uf!==null&&Lg(uf)&&(uf=null),ff!==null&&Lg(ff)&&(ff=null),df!==null&&Lg(df)&&(df=null),u1.forEach(LE),f1.forEach(LE)}function Bg(s,f){s.blockedOn===f&&(s.blockedOn=null,ex||(ex=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lF)))}var Fg=null;function BE(s){Fg!==s&&(Fg=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Fg===s&&(Fg=null);for(var f=0;f<s.length;f+=3){var v=s[f],_=s[f+1],k=s[f+2];if(typeof _!="function"){if(Jb(_||v)===null)continue;break}var R=Xr(v);R!==null&&(s.splice(f,3),f-=3,Qy(R,{pending:!0,data:k,method:v.method,action:_},_,k))}}))}function Sh(s){function f(Te){return Bg(Te,s)}uf!==null&&Bg(uf,s),ff!==null&&Bg(ff,s),df!==null&&Bg(df,s),u1.forEach(f),f1.forEach(f);for(var v=0;v<hf.length;v++){var _=hf[v];_.blockedOn===s&&(_.blockedOn=null)}for(;0<hf.length&&(v=hf[0],v.blockedOn===null);)DE(v),v.blockedOn===null&&hf.shift();if(v=(s.ownerDocument||s).$$reactFormReplay,v!=null)for(_=0;_<v.length;_+=3){var k=v[_],R=v[_+1],Y=k[Hr]||null;if(typeof R=="function")Y||BE(v);else if(Y){var he=null;if(R&&R.hasAttribute("formAction")){if(k=R,Y=R[Hr]||null)he=Y.formAction;else if(Jb(k)!==null)continue}else he=Y.action;typeof he=="function"?v[_+1]=he:(v.splice(_,3),_-=3),BE(v)}}}function FE(){function s(R){R.canIntercept&&R.info==="react-transition"&&R.intercept({handler:function(){return new Promise(function(Y){return k=Y})},focusReset:"manual",scroll:"manual"})}function f(){k!==null&&(k(),k=null),_||setTimeout(v,20)}function v(){if(!_&&!navigation.transition){var R=navigation.currentEntry;R&&R.url!=null&&navigation.navigate(R.url,{state:R.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var _=!1,k=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(v,100),function(){_=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),k!==null&&(k(),k=null)}}}function tx(s){this._internalRoot=s}Ug.prototype.render=tx.prototype.render=function(s){var f=this._internalRoot;if(f===null)throw Error(n(409));var v=f.current,_=qo();IE(v,_,s,f,null,null)},Ug.prototype.unmount=tx.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var f=s.containerInfo;IE(s.current,2,null,s,null,null),xg(),f[fi]=null}};function Ug(s){this._internalRoot=s}Ug.prototype.unstable_scheduleHydration=function(s){if(s){var f=hn();s={blockedOn:null,target:s,priority:f};for(var v=0;v<hf.length&&f!==0&&f<hf[v].priority;v++);hf.splice(v,0,s),v===0&&DE(s)}};var UE=t.version;if(UE!=="19.2.4")throw Error(n(527,UE,"19.2.4"));fe.findDOMNode=function(s){var f=s._reactInternals;if(f===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=c(f),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var cF={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zg.isDisabled&&zg.supportsFiber)try{tr=zg.inject(cF),nt=zg}catch{}}return p1.createRoot=function(s,f){if(!i(s))throw Error(n(299));var v=!1,_="",k=VS,R=YS,Y=XS;return f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onUncaughtError!==void 0&&(k=f.onUncaughtError),f.onCaughtError!==void 0&&(R=f.onCaughtError),f.onRecoverableError!==void 0&&(Y=f.onRecoverableError)),f=OE(s,1,!1,null,null,v,_,null,k,R,Y,FE),s[fi]=f.current,Db(s),new tx(f)},p1.hydrateRoot=function(s,f,v){if(!i(s))throw Error(n(299));var _=!1,k="",R=VS,Y=YS,he=XS,Te=null;return v!=null&&(v.unstable_strictMode===!0&&(_=!0),v.identifierPrefix!==void 0&&(k=v.identifierPrefix),v.onUncaughtError!==void 0&&(R=v.onUncaughtError),v.onCaughtError!==void 0&&(Y=v.onCaughtError),v.onRecoverableError!==void 0&&(he=v.onRecoverableError),v.formState!==void 0&&(Te=v.formState)),f=OE(s,1,!0,f,v??null,_,k,Te,R,Y,he,FE),f.context=TE(null),v=f.current,_=qo(),_=zr(_),k=xr(_),k.callback=null,Lr(v,k,_),v=_,f.current.lanes=v,Zt(f,v),_c(f),s[fi]=f.current,Db(s),new Ug(f)},p1.version="19.2.4",p1}var KE;function _F(){if(KE)return ix.exports;KE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ix.exports=wF(),ix.exports}var AF=_F();/**
 * react-router v7.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ZE="popstate";function QE(e){return typeof e=="object"&&e!=null&&"pathname"in e&&"search"in e&&"hash"in e&&"state"in e&&"key"in e}function SF(e={}){function t(n,i){var c;let a=(c=i.state)==null?void 0:c.masked,{pathname:o,search:u,hash:d}=a||n.location;return O5("",{pathname:o,search:u,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default",a?{pathname:n.location.pathname,search:n.location.search,hash:n.location.hash}:void 0)}function r(n,i){return typeof i=="string"?i:$1(i)}return CF(t,r,null,e)}function Oi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ql(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function EF(){return Math.random().toString(36).substring(2,10)}function JE(e,t){return{usr:e.state,key:e.key,idx:t,masked:e.unstable_mask?{pathname:e.pathname,search:e.search,hash:e.hash}:void 0}}function O5(e,t,r=null,n,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?v0(t):t,state:r,key:t&&t.key||n||EF(),unstable_mask:i}}function $1({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function v0(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function CF(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,u="POP",d=null,c=h();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function h(){return(o.state||{idx:null}).idx}function m(){u="POP";let T=h(),I=T==null?null:T-c;c=T,d&&d({action:u,location:C.location,delta:I})}function b(T,I){u="PUSH";let B=QE(T)?T:O5(C.location,T,I);c=h()+1;let U=JE(B,c),F=C.createHref(B.unstable_mask||B);try{o.pushState(U,"",F)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;i.location.assign(F)}a&&d&&d({action:u,location:C.location,delta:1})}function x(T,I){u="REPLACE";let B=QE(T)?T:O5(C.location,T,I);c=h();let U=JE(B,c),F=C.createHref(B.unstable_mask||B);o.replaceState(U,"",F),a&&d&&d({action:u,location:C.location,delta:0})}function E(T){return NF(T)}let C={get action(){return u},get location(){return e(i,o)},listen(T){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(ZE,m),d=T,()=>{i.removeEventListener(ZE,m),d=null}},createHref(T){return t(i,T)},createURL:E,encodeLocation(T){let I=E(T);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:b,replace:x,go(T){return o.go(T)}};return C}function NF(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Oi(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:$1(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function kM(e,t,r="/"){return OF(e,t,r,!1)}function OF(e,t,r,n){let i=typeof t=="string"?v0(t):t,a=Cu(i.pathname||"/",r);if(a==null)return null;let o=MM(e);TF(o);let u=null;for(let d=0;u==null&&d<o.length;++d){let c=UF(a);u=BF(o[d],c,n)}return u}function MM(e,t=[],r=[],n="",i=!1){let a=(o,u,d=i,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&d)return;Oi(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let m=Pc([n,h.relativePath]),b=r.concat(h);o.children&&o.children.length>0&&(Oi(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),MM(o.children,t,b,m,d)),!(o.path==null&&!o.index)&&t.push({path:m,score:DF(m,o.index),routesMeta:b})};return e.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,u);else for(let c of jM(o.path))a(o,u,!0,c)}),t}function jM(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=jM(n.join("/")),u=[];return u.push(...o.map(d=>d===""?a:[a,d].join("/"))),i&&u.push(...o),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function TF(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:LF(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var IF=/^:[\w-]+$/,kF=3,MF=2,jF=1,RF=10,PF=-2,eC=e=>e==="*";function DF(e,t){let r=e.split("/"),n=r.length;return r.some(eC)&&(n+=PF),t&&(n+=MF),r.filter(i=>!eC(i)).reduce((i,a)=>i+(IF.test(a)?kF:a===""?jF:RF),n)}function LF(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function BF(e,t,r=!1){let{routesMeta:n}=e,i={},a="/",o=[];for(let u=0;u<n.length;++u){let d=n[u],c=u===n.length-1,h=a==="/"?t:t.slice(a.length)||"/",m=Av({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},h),b=d.route;if(!m&&c&&r&&!n[n.length-1].route.index&&(m=Av({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Pc([a,m.pathname]),pathnameBase:GF(Pc([a,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(a=Pc([a,m.pathnameBase]))}return o}function Av(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=FF(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((c,{paramName:h,isOptional:m},b)=>{if(h==="*"){let E=u[b]||"";o=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const x=u[b];return m&&!x?c[h]=void 0:c[h]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:e}}function FF(e,t=!1,r=!0){Ql(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,d,c,h)=>{if(n.push({paramName:u,isOptional:d!=null}),d){let m=h.charAt(c+o.length);return m&&m!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function UF(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ql(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Cu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var zF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function qF(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?v0(e):e,a;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?a=tC(r.substring(1),"/"):a=tC(r,t)):a=t,{pathname:a,search:WF(n),hash:$F(i)}}function tC(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function lx(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HF(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function i3(e){let t=HF(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function P2(e,t,r,n=!1){let i;typeof e=="string"?i=v0(e):(i={...e},Oi(!i.pathname||!i.pathname.includes("?"),lx("?","pathname","search",i)),Oi(!i.pathname||!i.pathname.includes("#"),lx("#","pathname","hash",i)),Oi(!i.search||!i.search.includes("#"),lx("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,u;if(o==null)u=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),m-=1;i.pathname=b.join("/")}u=m>=0?t[m]:"/"}let d=qF(i,u),c=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(c||h)&&(d.pathname+="/"),d}var Pc=e=>e.join("/").replace(/\/\/+/g,"/"),GF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),WF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$F=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,VF=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function YF(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function XF(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var RM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function PM(e,t){let r=e;if(typeof r!="string"||!zF.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(RM)try{let a=new URL(window.location.href),o=r.startsWith("//")?new URL(a.protocol+r):new URL(r),u=Cu(o.pathname,t);o.origin===a.origin&&u!=null?r=u+o.search+o.hash:i=!0}catch{Ql(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DM=["POST","PUT","PATCH","DELETE"];new Set(DM);var KF=["GET",...DM];new Set(KF);var y0=D.createContext(null);y0.displayName="DataRouter";var D2=D.createContext(null);D2.displayName="DataRouterState";var ZF=D.createContext(!1),LM=D.createContext({isTransitioning:!1});LM.displayName="ViewTransition";var QF=D.createContext(new Map);QF.displayName="Fetchers";var JF=D.createContext(null);JF.displayName="Await";var rl=D.createContext(null);rl.displayName="Navigation";var _p=D.createContext(null);_p.displayName="Location";var nc=D.createContext({outlet:null,matches:[],isDataRoute:!1});nc.displayName="Route";var a3=D.createContext(null);a3.displayName="RouteError";var BM="REACT_ROUTER_ERROR",eU="REDIRECT",tU="ROUTE_ERROR_RESPONSE";function rU(e){if(e.startsWith(`${BM}:${eU}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function nU(e){if(e.startsWith(`${BM}:${tU}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new VF(t.status,t.statusText,t.data)}catch{}}function iU(e,{relative:t}={}){Oi(b0(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=D.useContext(rl),{hash:i,pathname:a,search:o}=Sp(e,{relative:t}),u=a;return r!=="/"&&(u=a==="/"?r:Pc([r,a])),n.createHref({pathname:u,search:o,hash:i})}function b0(){return D.useContext(_p)!=null}function Hc(){return Oi(b0(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(_p).location}var FM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function UM(e){D.useContext(rl).static||D.useLayoutEffect(e)}function Ap(){let{isDataRoute:e}=D.useContext(nc);return e?bU():aU()}function aU(){Oi(b0(),"useNavigate() may be used only in the context of a <Router> component.");let e=D.useContext(y0),{basename:t,navigator:r}=D.useContext(rl),{matches:n}=D.useContext(nc),{pathname:i}=Hc(),a=JSON.stringify(i3(n)),o=D.useRef(!1);return UM(()=>{o.current=!0}),D.useCallback((d,c={})=>{if(Ql(o.current,FM),!o.current)return;if(typeof d=="number"){r.go(d);return}let h=P2(d,JSON.parse(a),i,c.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Pc([t,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[t,r,a,i,e])}var sU=D.createContext(null);function oU(e){let t=D.useContext(nc).outlet;return D.useMemo(()=>t&&D.createElement(sU.Provider,{value:e},t),[t,e])}function Sp(e,{relative:t}={}){let{matches:r}=D.useContext(nc),{pathname:n}=Hc(),i=JSON.stringify(i3(r));return D.useMemo(()=>P2(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function lU(e,t){return zM(e,t)}function zM(e,t,r){var T;Oi(b0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:n}=D.useContext(rl),{matches:i}=D.useContext(nc),a=i[i.length-1],o=a?a.params:{},u=a?a.pathname:"/",d=a?a.pathnameBase:"/",c=a&&a.route;{let I=c&&c.path||"";HM(u,!c||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let h=Hc(),m;if(t){let I=typeof t=="string"?v0(t):t;Oi(d==="/"||((T=I.pathname)==null?void 0:T.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${I.pathname}" was given in the \`location\` prop.`),m=I}else m=h;let b=m.pathname||"/",x=b;if(d!=="/"){let I=d.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(I.length).join("/")}let E=kM(e,{pathname:x});Ql(c||E!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Ql(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=hU(E&&E.map(I=>Object.assign({},I,{params:Object.assign({},o,I.params),pathname:Pc([d,n.encodeLocation?n.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?d:Pc([d,n.encodeLocation?n.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),i,r);return t&&C?D.createElement(_p.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...m},navigationType:"POP"}},C):C}function cU(){let e=yU(),t=YF(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:a},"ErrorBoundary")," or"," ",D.createElement("code",{style:a},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),r?D.createElement("pre",{style:i},r):null,o)}var uU=D.createElement(cU,null),qM=class extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=nU(e.digest);r&&(e=r)}let t=e!==void 0?D.createElement(nc.Provider,{value:this.props.routeContext},D.createElement(a3.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?D.createElement(fU,{error:e},t):t}};qM.contextType=ZF;var cx=new WeakMap;function fU({children:e,error:t}){let{basename:r}=D.useContext(rl);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=rU(t.digest);if(n){let i=cx.get(t);if(i)throw i;let a=PM(n.location,r);if(RM&&!cx.get(t))if(a.isExternal||n.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:n.replace}));throw cx.set(t,o),o}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function dU({routeContext:e,match:t,children:r}){let n=D.useContext(y0);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(nc.Provider,{value:e},r)}function hU(e,t=[],r){let n=r==null?void 0:r.state;if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=n==null?void 0:n.errors;if(a!=null){let h=i.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);Oi(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let o=!1,u=-1;if(r&&n){o=n.renderFallback;for(let h=0;h<i.length;h++){let m=i[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:b,errors:x}=n,E=m.route.loader&&!b.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||E){r.isStatic&&(o=!0),u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}}let d=r==null?void 0:r.onError,c=n&&d?(h,m)=>{var b,x;d(h,{location:n.location,params:((x=(b=n.matches)==null?void 0:b[0])==null?void 0:x.params)??{},unstable_pattern:XF(n.matches),errorInfo:m})}:void 0;return i.reduceRight((h,m,b)=>{let x,E=!1,C=null,T=null;n&&(x=a&&m.route.id?a[m.route.id]:void 0,C=m.route.errorElement||uU,o&&(u<0&&b===0?(HM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,T=null):u===b&&(E=!0,T=m.route.hydrateFallbackElement||null)));let I=t.concat(i.slice(0,b+1)),B=()=>{let U;return x?U=C:E?U=T:m.route.Component?U=D.createElement(m.route.Component,null):m.route.element?U=m.route.element:U=h,D.createElement(dU,{match:m,routeContext:{outlet:h,matches:I,isDataRoute:n!=null},children:U})};return n&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?D.createElement(qM,{location:n.location,revalidation:n.revalidation,component:C,error:x,children:B(),routeContext:{outlet:null,matches:I,isDataRoute:!0},onError:c}):B()},null)}function s3(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pU(e){let t=D.useContext(y0);return Oi(t,s3(e)),t}function gU(e){let t=D.useContext(D2);return Oi(t,s3(e)),t}function mU(e){let t=D.useContext(nc);return Oi(t,s3(e)),t}function o3(e){let t=mU(e),r=t.matches[t.matches.length-1];return Oi(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function vU(){return o3("useRouteId")}function yU(){var n;let e=D.useContext(a3),t=gU("useRouteError"),r=o3("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function bU(){let{router:e}=pU("useNavigate"),t=o3("useNavigate"),r=D.useRef(!1);return UM(()=>{r.current=!0}),D.useCallback(async(i,a={})=>{Ql(r.current,FM),r.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var rC={};function HM(e,t,r){!t&&!rC[e]&&(rC[e]=!0,Ql(!1,r))}D.memo(xU);function xU({routes:e,future:t,state:r,isStatic:n,onError:i}){return zM(e,void 0,{state:r,isStatic:n,onError:i})}function wf({to:e,replace:t,state:r,relative:n}){Oi(b0(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=D.useContext(rl);Ql(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=D.useContext(nc),{pathname:o}=Hc(),u=Ap(),d=P2(e,i3(a),o,n==="path"),c=JSON.stringify(d);return D.useEffect(()=>{u(JSON.parse(c),{replace:t,state:r,relative:n})},[u,c,n,t,r]),null}function wU(e){return oU(e.context)}function Pa(e){Oi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _U({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){Oi(!b0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=D.useMemo(()=>({basename:u,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[u,i,a,o]);typeof r=="string"&&(r=v0(r));let{pathname:c="/",search:h="",hash:m="",state:b=null,key:x="default",unstable_mask:E}=r,C=D.useMemo(()=>{let T=Cu(c,u);return T==null?null:{location:{pathname:T,search:h,hash:m,state:b,key:x,unstable_mask:E},navigationType:n}},[u,c,h,m,b,x,n,E]);return Ql(C!=null,`<Router basename="${u}"> is not able to match the URL "${c}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:D.createElement(rl.Provider,{value:d},D.createElement(_p.Provider,{children:t,value:C}))}function AU({children:e,location:t}){return lU(T5(e),t)}function T5(e,t=[]){let r=[];return D.Children.forEach(e,(n,i)=>{if(!D.isValidElement(n))return;let a=[...t,i];if(n.type===D.Fragment){r.push.apply(r,T5(n.props.children,a));return}Oi(n.type===Pa,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Oi(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=T5(n.props.children,a)),r.push(o)}),r}var lv="get",cv="application/x-www-form-urlencoded";function L2(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function SU(e){return L2(e)&&e.tagName.toLowerCase()==="button"}function EU(e){return L2(e)&&e.tagName.toLowerCase()==="form"}function CU(e){return L2(e)&&e.tagName.toLowerCase()==="input"}function NU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function OU(e,t){return e.button===0&&(!t||t==="_self")&&!NU(e)}var Hg=null;function TU(){if(Hg===null)try{new FormData(document.createElement("form"),0),Hg=!1}catch{Hg=!0}return Hg}var IU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ux(e){return e!=null&&!IU.has(e)?(Ql(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cv}"`),null):e}function kU(e,t){let r,n,i,a,o;if(EU(e)){let u=e.getAttribute("action");n=u?Cu(u,t):null,r=e.getAttribute("method")||lv,i=ux(e.getAttribute("enctype"))||cv,a=new FormData(e)}else if(SU(e)||CU(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(n=d?Cu(d,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||lv,i=ux(e.getAttribute("formenctype"))||ux(u.getAttribute("enctype"))||cv,a=new FormData(u,e),!TU()){let{name:c,type:h,value:m}=e;if(h==="image"){let b=c?`${c}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else c&&a.append(c,m)}}else{if(L2(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=lv,n=null,i=cv,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function l3(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function MU(e,t,r,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:t&&Cu(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function jU(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RU(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function PU(e,t,r){let n=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await jU(a,r);return o.links?o.links():[]}return[]}));return FU(n.flat(1).filter(RU).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function nC(e,t,r,n,i,a){let o=(d,c)=>r[c]?d.route.id!==r[c].route.id:!0,u=(d,c)=>{var h;return r[c].pathname!==d.pathname||((h=r[c].route.path)==null?void 0:h.endsWith("*"))&&r[c].params["*"]!==d.params["*"]};return a==="assets"?t.filter((d,c)=>o(d,c)||u(d,c)):a==="data"?t.filter((d,c)=>{var m;let h=n.routes[d.route.id];if(!h||!h.hasLoader)return!1;if(o(d,c)||u(d,c))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function DU(e,t,{includeHydrateFallback:r}={}){return LU(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function LU(e){return[...new Set(e)]}function BU(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function FU(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let a=JSON.stringify(BU(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function GM(){let e=D.useContext(y0);return l3(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function UU(){let e=D.useContext(D2);return l3(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var c3=D.createContext(void 0);c3.displayName="FrameworkContext";function WM(){let e=D.useContext(c3);return l3(e,"You must render this element inside a <HydratedRouter> element"),e}function zU(e,t){let r=D.useContext(c3),[n,i]=D.useState(!1),[a,o]=D.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:c,onMouseLeave:h,onTouchStart:m}=t,b=D.useRef(null);D.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let C=I=>{I.forEach(B=>{o(B.isIntersecting)})},T=new IntersectionObserver(C,{threshold:.5});return b.current&&T.observe(b.current),()=>{T.disconnect()}}},[e]),D.useEffect(()=>{if(n){let C=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(C)}}},[n]);let x=()=>{i(!0)},E=()=>{i(!1),o(!1)};return r?e!=="intent"?[a,b,{}]:[a,b,{onFocus:g1(u,x),onBlur:g1(d,E),onMouseEnter:g1(c,x),onMouseLeave:g1(h,E),onTouchStart:g1(m,x)}]:[!1,b,{}]}function g1(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function qU({page:e,...t}){let{router:r}=GM(),n=D.useMemo(()=>kM(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?D.createElement(GU,{page:e,matches:n,...t}):null}function HU(e){let{manifest:t,routeModules:r}=WM(),[n,i]=D.useState([]);return D.useEffect(()=>{let a=!1;return PU(e,t,r).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,r]),n}function GU({page:e,matches:t,...r}){let n=Hc(),{future:i,manifest:a,routeModules:o}=WM(),{basename:u}=GM(),{loaderData:d,matches:c}=UU(),h=D.useMemo(()=>nC(e,t,c,a,n,"data"),[e,t,c,a,n]),m=D.useMemo(()=>nC(e,t,c,a,n,"assets"),[e,t,c,a,n]),b=D.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let C=new Set,T=!1;if(t.forEach(B=>{var F;let U=a.routes[B.route.id];!U||!U.hasLoader||(!h.some(K=>K.route.id===B.route.id)&&B.route.id in d&&((F=o[B.route.id])!=null&&F.shouldRevalidate)||U.hasClientLoader?T=!0:C.add(B.route.id))}),C.size===0)return[];let I=MU(e,u,i.unstable_trailingSlashAwareDataRequests,"data");return T&&C.size>0&&I.searchParams.set("_routes",t.filter(B=>C.has(B.route.id)).map(B=>B.route.id).join(",")),[I.pathname+I.search]},[u,i.unstable_trailingSlashAwareDataRequests,d,n,a,h,t,e,o]),x=D.useMemo(()=>DU(m,a),[m,a]),E=HU(m);return D.createElement(D.Fragment,null,b.map(C=>D.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...r})),x.map(C=>D.createElement("link",{key:C,rel:"modulepreload",href:C,...r})),E.map(({key:C,link:T})=>D.createElement("link",{key:C,nonce:r.nonce,...T,crossOrigin:T.crossOrigin??r.crossOrigin})))}function WU(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var $U=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$U&&(window.__reactRouterVersion="7.13.1")}catch{}function VU({basename:e,children:t,unstable_useTransitions:r,window:n}){let i=D.useRef();i.current==null&&(i.current=SF({window:n,v5Compat:!0}));let a=i.current,[o,u]=D.useState({action:a.action,location:a.location}),d=D.useCallback(c=>{r===!1?u(c):D.startTransition(()=>u(c))},[r]);return D.useLayoutEffect(()=>a.listen(d),[a,d]),D.createElement(_U,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:r})}var $M=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ep=D.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:o,unstable_mask:u,state:d,target:c,to:h,preventScrollReset:m,viewTransition:b,unstable_defaultShouldRevalidate:x,...E},C){let{basename:T,navigator:I,unstable_useTransitions:B}=D.useContext(rl),U=typeof h=="string"&&$M.test(h),F=PM(h,T);h=F.to;let K=iU(h,{relative:i}),Z=Hc(),V=null;if(u){let ie=P2(u,[],Z.unstable_mask?Z.unstable_mask.pathname:"/",!0);T!=="/"&&(ie.pathname=ie.pathname==="/"?T:Pc([T,ie.pathname])),V=I.createHref(ie)}let[Q,q,se]=zU(n,E),G=ZU(h,{replace:o,unstable_mask:u,state:d,target:c,preventScrollReset:m,relative:i,viewTransition:b,unstable_defaultShouldRevalidate:x,unstable_useTransitions:B});function H(ie){t&&t(ie),ie.defaultPrevented||G(ie)}let le=!(F.isExternal||a),J=D.createElement("a",{...E,...se,href:(le?V:void 0)||F.absoluteURL||K,onClick:le?H:t,ref:WU(C,q),target:c,"data-discover":!U&&r==="render"?"true":void 0});return Q&&!U?D.createElement(D.Fragment,null,J,D.createElement(qU,{page:K})):J});Ep.displayName="Link";var YU=D.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:o,viewTransition:u,children:d,...c},h){let m=Sp(o,{relative:c.relative}),b=Hc(),x=D.useContext(D2),{navigator:E,basename:C}=D.useContext(rl),T=x!=null&&rz(m)&&u===!0,I=E.encodeLocation?E.encodeLocation(m).pathname:m.pathname,B=b.pathname,U=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(B=B.toLowerCase(),U=U?U.toLowerCase():null,I=I.toLowerCase()),U&&C&&(U=Cu(U,C)||U);const F=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let K=B===I||!i&&B.startsWith(I)&&B.charAt(F)==="/",Z=U!=null&&(U===I||!i&&U.startsWith(I)&&U.charAt(I.length)==="/"),V={isActive:K,isPending:Z,isTransitioning:T},Q=K?t:void 0,q;typeof n=="function"?q=n(V):q=[n,K?"active":null,Z?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let se=typeof a=="function"?a(V):a;return D.createElement(Ep,{...c,"aria-current":Q,className:q,ref:h,style:se,to:o,viewTransition:u},typeof d=="function"?d(V):d)});YU.displayName="NavLink";var XU=D.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:a,method:o=lv,action:u,onSubmit:d,relative:c,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:b,...x},E)=>{let{unstable_useTransitions:C}=D.useContext(rl),T=ez(),I=tz(u,{relative:c}),B=o.toLowerCase()==="get"?"get":"post",U=typeof u=="string"&&$M.test(u),F=K=>{if(d&&d(K),K.defaultPrevented)return;K.preventDefault();let Z=K.nativeEvent.submitter,V=(Z==null?void 0:Z.getAttribute("formmethod"))||o,Q=()=>T(Z||K.currentTarget,{fetcherKey:t,method:V,navigate:r,replace:i,state:a,relative:c,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:b});C&&r!==!1?D.startTransition(()=>Q()):Q()};return D.createElement("form",{ref:E,method:B,action:I,onSubmit:n?d:F,...x,"data-discover":!U&&e==="render"?"true":void 0})});XU.displayName="Form";function KU(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VM(e){let t=D.useContext(y0);return Oi(t,KU(e)),t}function ZU(e,{target:t,replace:r,unstable_mask:n,state:i,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:c}={}){let h=Ap(),m=Hc(),b=Sp(e,{relative:o});return D.useCallback(x=>{if(OU(x,t)){x.preventDefault();let E=r!==void 0?r:$1(m)===$1(b),C=()=>h(e,{replace:E,unstable_mask:n,state:i,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:d});c?D.startTransition(()=>C()):C()}},[m,h,b,r,n,i,t,e,a,o,u,d,c])}var QU=0,JU=()=>`__${String(++QU)}__`;function ez(){let{router:e}=VM("useSubmit"),{basename:t}=D.useContext(rl),r=vU(),n=e.fetch,i=e.navigate;return D.useCallback(async(a,o={})=>{let{action:u,method:d,encType:c,formData:h,body:m}=kU(a,t);if(o.navigate===!1){let b=o.fetcherKey||JU();await n(b,r,o.action||u,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||d,formEncType:o.encType||c,flushSync:o.flushSync})}else await i(o.action||u,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||d,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,i,t,r])}function tz(e,{relative:t}={}){let{basename:r}=D.useContext(rl),n=D.useContext(nc);Oi(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Sp(e||".",{relative:t})},o=Hc();if(e==null){a.search=o.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(h=>h==="")){u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let h=u.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Pc([r,a.pathname])),$1(a)}function rz(e,{relative:t}={}){let r=D.useContext(LM);Oi(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=VM("useViewTransitionState"),i=Sp(e,{relative:t});if(!r.isTransitioning)return!1;let a=Cu(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Cu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Av(i.pathname,o)!=null||Av(i.pathname,a)!=null}var u3=IM();function B2(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function nz(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function u(h){try{c(n.next(h))}catch(m){o(m)}}function d(h){try{c(n.throw(h))}catch(m){o(m)}}function c(h){h.done?a(h.value):i(h.value).then(u,d)}c((n=n.apply(e,t||[])).next())})}const iz=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class f3 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class az extends f3{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class iC extends f3{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class aC extends f3{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var I5;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(I5||(I5={}));class sz{constructor(t,{headers:r={},customFetch:n,region:i=I5.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=iz(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return nz(this,arguments,void 0,function*(r,n={}){var i;let a,o;try{const{headers:u,method:d,body:c,signal:h,timeout:m}=n;let b={},{region:x}=n;x||(x=this.region);const E=new URL(`${this.url}/${r}`);x&&x!=="any"&&(b["x-region"]=x,E.searchParams.set("forceFunctionRegion",x));let C;c&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",C=c):typeof c=="string"?(b["Content-Type"]="text/plain",C=c):typeof FormData<"u"&&c instanceof FormData?C=c:(b["Content-Type"]="application/json",C=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?C=JSON.stringify(c):C=c;let T=h;m&&(o=new AbortController,a=setTimeout(()=>o.abort(),m),h?(T=o.signal,h.addEventListener("abort",()=>o.abort())):T=o.signal);const I=yield this.fetch(E.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),u),body:C,signal:T}).catch(K=>{throw new az(K)}),B=I.headers.get("x-relay-error");if(B&&B==="true")throw new iC(I);if(!I.ok)throw new aC(I);let U=((i=I.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),F;return U==="application/json"?F=yield I.json():U==="application/octet-stream"||U==="application/pdf"?F=yield I.blob():U==="text/event-stream"?F=I:U==="multipart/form-data"?F=yield I.formData():F=yield I.text(),{data:F,error:null,response:I}}catch(u){return{data:null,error:u,response:u instanceof aC||u instanceof iC?u.context:void 0}}finally{a&&clearTimeout(a)}})}}var oz=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},lz=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,u=null,d=null,c=a.status,h=a.statusText;if(a.ok){var m,b;if(r.method!=="HEAD"){var x;const I=await a.text();I===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((x=r.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?u=I:u=JSON.parse(I))}const C=(m=r.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),T=(b=a.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");C&&T&&T.length>1&&(d=parseInt(T[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(o={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,c=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var E;const C=await a.text();try{o=JSON.parse(C),Array.isArray(o)&&a.status===404&&(u=[],o=null,c=200,h="OK")}catch{a.status===404&&C===""?(c=204,h="No Content"):o={message:C}}if(o&&r.isMaybeSingle&&(!(o==null||(E=o.details)===null||E===void 0)&&E.includes("0 rows"))&&(o=null,c=200,h="OK"),o&&r.shouldThrowOnError)throw new oz(o)}return{error:o,data:u,count:d,status:c,statusText:h}});return this.shouldThrowOnError||(i=i.catch(a=>{var o;let u="",d="",c="";const h=a==null?void 0:a.cause;if(h){var m,b,x,E;const I=(m=h==null?void 0:h.message)!==null&&m!==void 0?m:"",B=(b=h==null?void 0:h.code)!==null&&b!==void 0?b:"";u=`${(x=a==null?void 0:a.name)!==null&&x!==void 0?x:"FetchError"}: ${a==null?void 0:a.message}`,u+=`

Caused by: ${(E=h==null?void 0:h.name)!==null&&E!==void 0?E:"Error"}: ${I}`,B&&(u+=` (${B})`),h!=null&&h.stack&&(u+=`
${h.stack}`)}else{var C;u=(C=a==null?void 0:a.stack)!==null&&C!==void 0?C:""}const T=this.url.toString().length;return(a==null?void 0:a.name)==="AbortError"||(a==null?void 0:a.code)==="ABORT_ERR"?(c="",d="Request was aborted (timeout or manual cancellation)",T>this.urlLengthLimit&&(d+=`. Note: Your request URL is ${T} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((h==null?void 0:h.name)==="HeadersOverflowError"||(h==null?void 0:h.code)==="UND_ERR_HEADERS_OVERFLOW")&&(c="",d="HTTP headers exceeded server limits (typically 16KB)",T>this.urlLengthLimit&&(d+=`. Your request URL is ${T} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:u,hint:d,code:c},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},cz=class extends lz{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var o;const u=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${d}"; options=${u};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const sC=new RegExp("[,()]");var zh=class extends cz{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&sC.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&sC.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},uz=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},i=r?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join(""),{url:u,headers:d}=this.cloneRequestState();return u.searchParams.set("select",o),n&&d.append("Prefer",`count=${n}`),new zh({method:i,url:u,headers:d,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const i="POST",{url:a,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,c)=>d.concat(Object.keys(c)),[]);if(u.length>0){const d=[...new Set(u)].map(c=>`"${c}"`);a.searchParams.set("columns",d.join(","))}}return new zh({method:i,url:a,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;const o="POST",{url:u,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&u.searchParams.set("on_conflict",t),n&&d.append("Prefer",`count=${n}`),i||d.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(c.length>0){const h=[...new Set(c)].map(m=>`"${m}"`);u.searchParams.set("columns",h.join(","))}}return new zh({method:o,url:u,headers:d,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:i,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new zh({method:n,url:i,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new zh({method:r,url:n,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function V1(e){"@babel/helpers - typeof";return V1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V1(e)}function fz(e,t){if(V1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(V1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dz(e){var t=fz(e,"string");return V1(t)=="symbol"?t:t+""}function hz(e,t,r){return(t=dz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(r),!0).forEach(function(n){hz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var pz=class YM{constructor(t,{headers:r={},schema:n,fetch:i,timeout:a,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=o;const u=i??globalThis.fetch;a!==void 0&&a>0?this.fetch=(d,c)=>{const h=new AbortController,m=setTimeout(()=>h.abort(),a),b=c==null?void 0:c.signal;if(b){if(b.aborted)return clearTimeout(m),u(d,c);const x=()=>{clearTimeout(m),h.abort()};return b.addEventListener("abort",x,{once:!0}),u(d,Gg(Gg({},c),{},{signal:h.signal})).finally(()=>{clearTimeout(m),b.removeEventListener("abort",x)})}return u(d,Gg(Gg({},c),{},{signal:h.signal})).finally(()=>clearTimeout(m))}:this.fetch=u}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new uz(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new YM(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var o;let u;const d=new URL(`${this.url}/rpc/${t}`);let c;const h=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(h)),m=n&&Object.values(r).some(h);m?(u="POST",c=r):n||i?(u=n?"HEAD":"GET",Object.entries(r).filter(([x,E])=>E!==void 0).map(([x,E])=>[x,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([x,E])=>{d.searchParams.append(x,E)})):(u="POST",c=r);const b=new Headers(this.headers);return m?b.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&b.set("Prefer",`count=${a}`),new zh({method:u,url:d,headers:b,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class gz{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const mz="2.98.0",vz=`realtime-js/${mz}`,yz="1.0.0",XM="2.0.0",lC=XM,k5=1e4,bz=1e3,xz=100;var _f;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(_f||(_f={}));var Da;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Da||(Da={}));var $l;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})($l||($l={}));var M5;(function(e){e.websocket="websocket"})(M5||(M5={}));var pd;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(pd||(pd={}));class wz{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var i,a;const o=t.topic,u=(i=t.ref)!==null&&i!==void 0?i:"",d=(a=t.join_ref)!==null&&a!==void 0?a:"",c=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(h).length===0?"":JSON.stringify(h);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+o.length+c.length+m.length,x=new ArrayBuffer(this.HEADER_LENGTH+b);let E=new DataView(x),C=0;E.setUint8(C++,this.KINDS.userBroadcastPush),E.setUint8(C++,d.length),E.setUint8(C++,u.length),E.setUint8(C++,o.length),E.setUint8(C++,c.length),E.setUint8(C++,m.length),E.setUint8(C++,r),Array.from(d,I=>E.setUint8(C++,I.charCodeAt(0))),Array.from(u,I=>E.setUint8(C++,I.charCodeAt(0))),Array.from(o,I=>E.setUint8(C++,I.charCodeAt(0))),Array.from(c,I=>E.setUint8(C++,I.charCodeAt(0))),Array.from(m,I=>E.setUint8(C++,I.charCodeAt(0)));var T=new Uint8Array(x.byteLength+n.byteLength);return T.set(new Uint8Array(x),0),T.set(new Uint8Array(n),x.byteLength),T.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,o,u,d]=n;return r({join_ref:i,ref:a,topic:o,event:u,payload:d})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),u=r.getUint8(4);let d=this.HEADER_LENGTH+4;const c=n.decode(t.slice(d,d+i));d=d+i;const h=n.decode(t.slice(d,d+a));d=d+a;const m=n.decode(t.slice(d,d+o));d=d+o;const b=t.slice(d,t.byteLength),x=u===this.JSON_ENCODING?JSON.parse(n.decode(b)):b,E={type:this.BROADCAST_EVENT,event:h,payload:x};return o>0&&(E.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class KM{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var si;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(si||(si={}));const cC=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=_z(o,e,t,i),a),{}):{}},_z=(e,t,r,n)=>{const i=t.find(u=>u.name===e),a=i==null?void 0:i.type,o=r[e];return a&&!n.includes(a)?ZM(a,o):j5(o)},ZM=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Cz(t,r)}switch(e){case si.bool:return Az(t);case si.float4:case si.float8:case si.int2:case si.int4:case si.int8:case si.numeric:case si.oid:return Sz(t);case si.json:case si.jsonb:return Ez(t);case si.timestamp:return Nz(t);case si.abstime:case si.date:case si.daterange:case si.int4range:case si.int8range:case si.money:case si.reltime:case si.text:case si.time:case si.timestamptz:case si.timetz:case si.tsrange:case si.tstzrange:return j5(t);default:return j5(t)}},j5=e=>e,Az=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Sz=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ez=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Cz=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(u=>ZM(t,u))}return e},Nz=e=>typeof e=="string"?e.replace(" ","T"):e,QM=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class fx{constructor(t,r,n={},i=k5){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var uC;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(uC||(uC={}));class U1{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=U1.syncState(this.state,i,a,o),this.pendingDiffs.forEach(d=>{this.state=U1.syncDiff(this.state,d,a,o)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=U1.syncDiff(this.state,i,a,o),u())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),o=this.transformState(r),u={},d={};return this.map(a,(c,h)=>{o[c]||(d[c]=h)}),this.map(o,(c,h)=>{const m=a[c];if(m){const b=h.map(T=>T.presence_ref),x=m.map(T=>T.presence_ref),E=h.filter(T=>x.indexOf(T.presence_ref)<0),C=m.filter(T=>b.indexOf(T.presence_ref)<0);E.length>0&&(u[c]=E),C.length>0&&(d[c]=C)}else u[c]=h}),this.syncDiff(a,{joins:u,leaves:d},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(u,d)=>{var c;const h=(c=t[u])!==null&&c!==void 0?c:[];if(t[u]=this.cloneDeep(d),h.length>0){const m=t[u].map(x=>x.presence_ref),b=h.filter(x=>m.indexOf(x.presence_ref)<0);t[u].unshift(...b)}n(u,h,d)}),this.map(o,(u,d)=>{let c=t[u];if(!c)return;const h=d.map(m=>m.presence_ref);c=c.filter(m=>h.indexOf(m.presence_ref)<0),t[u]=c,i(u,c,d),c.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fC;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(fC||(fC={}));var z1;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(z1||(z1={}));var gu;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(gu||(gu={}));class Vh{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Da.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new fx(this,$l.join,this.params,this.timeout),this.rejoinTimer=new KM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Da.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Da.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Da.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Da.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Da.errored,this.rejoinTimer.scheduleTimeout())}),this._on($l.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new U1(this),this.broadcastEndpointURL=QM(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Da.closed){const{config:{broadcast:o,presence:u,private:d}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[z1.PRESENCE]&&this.bindings[z1.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},b={broadcast:o,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:c,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(x=>t==null?void 0:t(gu.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(gu.CLOSED)),this.updateJoinPayload(Object.assign({config:b},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){t==null||t(gu.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,T=(E=C==null?void 0:C.length)!==null&&E!==void 0?E:0,I=[];for(let B=0;B<T;B++){const U=C[B],{filter:{event:F,schema:K,table:Z,filter:V}}=U,Q=x&&x[B];if(Q&&Q.event===F&&Vh.isFilterValueEqual(Q.schema,K)&&Vh.isFilterValueEqual(Q.table,Z)&&Vh.isFilterValueEqual(Q.filter,V))I.push(Object.assign(Object.assign({},U),{id:Q.id}));else{this.unsubscribe(),this.state=Da.errored,t==null||t(gu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,t&&t(gu.SUBSCRIBED);return}}).receive("error",x=>{this.state=Da.errored,t==null||t(gu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(gu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Da.joined&&t===z1.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const c=await u.json();d=c.error||c.message||d}catch{}return Promise.reject(new Error(d))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,u,d;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Da.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($l.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new fx(this,$l.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Da.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new fx(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>xz){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const o=t.toLocaleLowerCase(),{close:u,error:d,leave:c,join:h}=$l;if(n&&[u,d,c,h].indexOf(o)>=0&&n!==this._joinRef())return;let b=this._onMessage(o,r,n);if(r&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var E,C,T;return((E=x.filter)===null||E===void 0?void 0:E.event)==="*"||((T=(C=x.filter)===null||C===void 0?void 0:C.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===o}).map(x=>x.callback(b,n)):(a=this.bindings[o])===null||a===void 0||a.filter(x=>{var E,C,T,I,B,U;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const F=x.id,K=(E=x.filter)===null||E===void 0?void 0:E.event;return F&&((C=r.ids)===null||C===void 0?void 0:C.includes(F))&&(K==="*"||(K==null?void 0:K.toLocaleLowerCase())===((T=r.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const F=(B=(I=x==null?void 0:x.filter)===null||I===void 0?void 0:I.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return F==="*"||F===((U=r==null?void 0:r.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof b=="object"&&"ids"in b){const E=b.data,{schema:C,table:T,commit_timestamp:I,type:B,errors:U}=E;b=Object.assign(Object.assign({},{schema:C,table:T,commit_timestamp:I,eventType:B,new:{},old:{},errors:U}),this._getPayloadRecords(E))}x.callback(b,n)})}_isClosed(){return this.state===Da.closed}_isJoined(){return this.state===Da.joined}_isJoining(){return this.state===Da.joining}_isLeaving(){return this.state===Da.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Vh.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on($l.close,{},t)}_onError(t){this._on($l.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Da.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=cC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=cC(t.columns,t.old_record)),r}}const dx=()=>{},Wg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Oz=[1e3,2e3,5e3,1e4],Tz=1e4,Iz=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kz{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=k5,this.transport=null,this.heartbeatIntervalMs=Wg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=dx,this.ref=0,this.reconnectTimer=null,this.vsn=lC,this.logger=dx,this.conn=null,this.sendBuffer=[],this.serializer=new wz,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${M5.websocket}`,this.httpEndpoint=QM(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gz.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case _f.connecting:return pd.Connecting;case _f.open:return pd.Open;case _f.closing:return pd.Closing;default:return pd.Closed}}isConnected(){return this.connectionState()===pd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Vh(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(bz,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Wg.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:a,ref:o}=r,u=o?`(${o})`:"",d=a.status||"";this.log("receive",`${d} ${n} ${i} ${u}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===_f.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===_f.open||this.conn.readyState===_f.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.accessTokenValue&&(this.channels.forEach(r=>{r.updateJoinPayload({access_token:this.accessTokenValue})}),this.sendBuffer=[],this.channels.forEach(r=>{r._isJoining()&&(r.joinPush.sent=!1,r.joinPush.send())})),this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger($l.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Iz],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:vz};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push($l.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new KM(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Wg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,o,u,d,c,h,m,b,x;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:k5,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Wg.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:dx,this.vsn=(d=t==null?void 0:t.vsn)!==null&&d!==void 0?d:lC,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:(E=>Oz[E-1]||Tz),this.vsn){case yz:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:((E,C)=>C(JSON.stringify(E))),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:((E,C)=>C(JSON.parse(E)));break;case XM:this.encode=(b=t==null?void 0:t.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(x=t==null?void 0:t.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Y1=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Mz(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function jz(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Rz(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:o}){const u=Mz(e.baseUrl,n,i),d=await jz(e.auth),c=await t(u,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...d,...o},body:a?JSON.stringify(a):void 0}),h=await c.text(),m=(c.headers.get("content-type")||"").includes("application/json"),b=m&&h?JSON.parse(h):h;if(!c.ok){const x=m?b:void 0,E=x==null?void 0:x.error;throw new Y1((E==null?void 0:E.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:E==null?void 0:E.type,icebergCode:E==null?void 0:E.code,details:x})}return{status:c.status,headers:c.headers,data:b}}}}function $g(e){return e.join("")}var Pz=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:$g(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$g(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$g(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$g(e.namespace)}`}),!0}catch(t){if(t instanceof Y1&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Y1&&r.status===409)return;throw r}}};function Eh(e){return e.join("")}var Dz=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Eh(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Eh(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Eh(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Eh(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Eh(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Eh(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Y1&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Y1&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Lz=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Rz({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Pz(this.client,t),this.tableOps=new Dz(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},F2=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function U2(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Vg=class extends F2{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},JM=class extends F2{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Bz=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Fz=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},R5=e=>{if(Array.isArray(e))return e.map(r=>R5(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=R5(n)}),t},Uz=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function X1(e){"@babel/helpers - typeof";return X1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X1(e)}function zz(e,t){if(X1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(X1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qz(e){var t=zz(e,"string");return X1(t)=="symbol"?t:t+""}function Hz(e,t,r){return(t=qz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(r),!0).forEach(function(n){Hz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const hC=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Gz=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e,a=i.status||500;if(typeof i.json=="function")i.json().then(o=>{const u=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Vg(hC(o),a,u,n))}).catch(()=>{if(n==="vectors"){const o=a+"";t(new Vg(i.statusText||`HTTP ${a} error`,a,o,n))}else{const o=a+"";t(new Vg(i.statusText||`HTTP ${a} error`,a,o,n))}});else{const o=a+"";t(new Vg(i.statusText||`HTTP ${a} error`,a,o,n))}}else t(new JM(hC(e),e,n))},Wz=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Er(Er({},i),r):(Fz(n)?(i.headers=Er({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Er(Er({},i),r))};async function m1(e,t,r,n,i,a,o){return new Promise((u,d)=>{e(r,Wz(t,n,i,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;if(o==="vectors"){const h=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!h||!h.includes("application/json"))return{}}return c.json()}).then(c=>u(c)).catch(c=>Gz(c,d,n,o))})}function e7(e="storage"){return{get:async(t,r,n,i)=>m1(t,"GET",r,n,i,void 0,e),post:async(t,r,n,i,a)=>m1(t,"POST",r,i,a,n,e),put:async(t,r,n,i,a)=>m1(t,"PUT",r,i,a,n,e),head:async(t,r,n,i)=>m1(t,"HEAD",r,Er(Er({},n),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,r,n,i,a)=>m1(t,"DELETE",r,i,a,n,e)}}const $z=e7("storage"),{get:K1,post:Wl,put:P5,head:Vz,remove:d3}=$z,Xo=e7("vectors");var x0=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Bz(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Er(Er({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(U2(r))return{data:null,error:r};throw r}}},Yz=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(U2(t))return{data:null,error:t};throw t}}};let t7;t7=Symbol.toStringTag;var Xz=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[t7]="BlobDownloadBuilder",this.promise=null}asStream(){return new Yz(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(U2(t))return{data:null,error:t};throw t}}};const Kz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Zz=class extends x0{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var i=this;return i.handleOperation(async()=>{let a;const o=Er(Er({},pC),n);let u=Er(Er({},i.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),d&&a.append("metadata",i.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),d&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(d))):(a=r,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,d&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(u=Er(Er({},u),n.headers));const c=i._removeEmptyFolders(t),h=i._getFinalPath(c),m=await(e=="PUT"?P5:Wl)(i.fetch,`${i.url}/object/${h}`,a,Er({headers:u},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:c,id:m.Id,fullPath:m.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var i=this;const a=i._removeEmptyFolders(e),o=i._getFinalPath(a),u=new URL(i.url+`/object/upload/sign/${o}`);return u.searchParams.set("token",t),i.handleOperation(async()=>{let d;const c=Er({upsert:pC.upsert},n),h=Er(Er({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",c.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",c.cacheControl)):(d=r,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType),{path:a,fullPath:(await P5(i.fetch,u.toString(),d,{headers:h})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const i=Er({},r.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const a=await Wl(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(r.url+a.url),u=o.searchParams.get("token");if(!u)throw new F2("No token returned by API");return{signedUrl:o.toString(),path:e,token:u}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Wl(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Wl(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e),a=await Wl(n.fetch,`${n.url}/object/sign/${i}`,Er({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${a.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const i=await Wl(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(o=>Er(Er({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${a}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=i?`?${i}`:"",o=this._getFinalPath(e),u=()=>K1(this.fetch,`${this.url}/${n}/${o}${a}`,{headers:this.headers,noResolveJson:!0},r);return new Xz(u,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>R5(await K1(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await Vz(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(U2(n)&&n instanceof JM){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await d3(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const i=Er(Er(Er({},Kz),t),{},{prefix:e||""});return await Wl(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Er({},e);return await Wl(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Qz="2.98.0",Cp={"X-Client-Info":`storage-js/${Qz}`};var Jz=class extends x0{constructor(e,t={},r,n){const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const a=i.href.replace(/\/$/,""),o=Er(Er({},Cp),t);super(a,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await K1(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await K1(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Wl(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await P5(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Wl(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await d3(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},eq=class extends x0{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Er(Er({},Cp),t);super(n,i,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Wl(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await K1(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await d3(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!Uz(e))throw new F2("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Lz({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const o=i[a];return typeof o!="function"?o:async(...u)=>{try{return{data:await o.apply(i,u),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}},tq=class extends x0{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Er(Er({},Cp),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Xo.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Xo.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Xo.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Xo.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},rq=class extends x0{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Er(Er({},Cp),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Xo.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Xo.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Xo.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Xo.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Xo.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},nq=class extends x0{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Er(Er({},Cp),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Xo.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Xo.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Xo.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Xo.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},iq=class extends nq{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new aq(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},aq=class extends tq{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Er(Er({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Er(Er({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new sq(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},sq=class extends rq{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Er(Er({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Er(Er({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Er(Er({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Er(Er({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Er(Er({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},oq=class extends Jz{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new Zz(this.url,this.headers,e,this.fetch)}get vectors(){return new iq(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new eq(this.url+"/iceberg",this.headers,this.fetch)}};const r7="2.98.0",qh=30*1e3,D5=3,hx=D5*qh,lq="http://localhost:9999",cq="supabase.auth.token",uq={"X-Client-Info":`gotrue-js/${r7}`},L5="X-Supabase-Api-Version",n7={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dq=600*1e3;class Z1 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function sr(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class hq extends Z1{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function pq(e){return sr(e)&&e.name==="AuthApiError"}class gd extends Z1{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Pu extends Z1{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class $o extends Pu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function px(e){return sr(e)&&e.name==="AuthSessionMissingError"}class Ch extends Pu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yg extends Pu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Xg extends Pu{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gq(e){return sr(e)&&e.name==="AuthImplicitGrantRedirectError"}class gC extends Pu{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mq extends Pu{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class B5 extends Pu{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function gx(e){return sr(e)&&e.name==="AuthRetryableFetchError"}class mC extends Pu{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class F5 extends Pu{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vC=` 	
\r=`.split(""),vq=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vC.length;t+=1)e[vC[t].charCodeAt(0)]=-2;for(let t=0;t<Sv.length;t+=1)e[Sv[t].charCodeAt(0)]=t;return e})();function yC(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Sv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Sv[n]),t.queuedBits-=6}}function i7(e,t,r){const n=vq[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function bC(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{xq(o,n,r)};for(let o=0;o<e.length;o+=1)i7(e.charCodeAt(o),i,a);return t.join("")}function yq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function bq(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}yq(n,t)}}function xq(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Qh(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)i7(e.charCodeAt(i),r,n);return new Uint8Array(t)}function wq(e){const t=[];return bq(e,r=>t.push(r)),new Uint8Array(t)}function vd(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>yC(i,r,n)),yC(null,r,n),t.join("")}function _q(e){return Math.round(Date.now()/1e3)+e}function Aq(){return Symbol("auth-callback")}const bs=()=>typeof window<"u"&&typeof document<"u",rd={tested:!1,writable:!1},a7=()=>{if(!bs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rd.tested)return rd.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),rd.tested=!0,rd.writable=!0}catch{rd.tested=!0,rd.writable=!1}return rd.writable};function Sq(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const s7=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Eq=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Hh=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},nd=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ys=async(e,t)=>{await e.removeItem(t)};class z2{constructor(){this.promise=new z2.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}z2.promiseConstructor=Promise;function Kg(e){const t=e.split(".");if(t.length!==3)throw new F5("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!fq.test(t[n]))throw new F5("JWT not in base64url format");return{header:JSON.parse(bC(t[0])),payload:JSON.parse(bC(t[1])),signature:Qh(t[2]),raw:{header:t[0],payload:t[1]}}}async function Cq(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Nq(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function Oq(e){return("0"+e.toString(16)).substr(-2)}function Tq(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Oq).join("")}async function Iq(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function kq(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Iq(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nh(e,t,r=!1){const n=Tq();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Hh(e,`${t}-code-verifier`,i);const a=await kq(n);return[a,n===a?"plain":"s256"]}const Mq=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jq(e){const t=e.headers.get(L5);if(!t||!t.match(Mq))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Rq(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Pq(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Dq=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Oh(e){if(!Dq.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mx(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Lq(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function xC(e){return JSON.parse(JSON.stringify(e))}const ld=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Bq=[502,503,504];async function wC(e){var t;if(!Eq(e))throw new B5(ld(e),0);if(Bq.includes(e.status))throw new B5(ld(e),e.status);let r;try{r=await e.json()}catch(a){throw new gd(ld(a),a)}let n;const i=jq(e);if(i&&i.getTime()>=n7["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new mC(ld(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $o}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new mC(ld(r),e.status,r.weak_password.reasons);throw new hq(ld(r),e.status||500,n)}const Fq=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Nr(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[L5]||(a[L5]=n7["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await Uq(e,t,r+u,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function Uq(e,t,r,n,i,a){const o=Fq(t,n,i,a);let u;try{u=await e(r,Object.assign({},o))}catch(d){throw console.error(d),new B5(ld(d),0)}if(u.ok||await wC(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(d){await wC(d)}}function Gl(e){var t;let r=null;Hq(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=_q(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function _C(e){const t=Gl(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ef(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function zq(e){return{data:e,error:null}}function qq(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,o=B2(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},d=Object.assign({},o);return{data:{properties:u,user:d},error:null}}function AC(e){return e}function Hq(e){return e.access_token&&e.refresh_token&&e.expires_in}const vx=["global","local","others"];class Gq{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=s7(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=vx[0]){if(vx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vx.join(", ")}`);try{return await Nr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(sr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Nr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ef})}catch(n){if(sr(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=B2(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Nr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:qq,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(sr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Nr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ef})}catch(r){if(sr(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,o,u,d;try{const c={nextPage:null,lastPage:0,total:0},h=await Nr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:AC});if(h.error)throw h.error;const m=await h.json(),b=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(E=>{const C=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(E.split(";")[1].split("=")[1]);c[`${T}Page`]=C}),c.total=parseInt(b)),{data:Object.assign(Object.assign({},m),c),error:null}}catch(c){if(sr(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Oh(t);try{return await Nr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ef})}catch(r){if(sr(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Oh(t);try{return await Nr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ef})}catch(n){if(sr(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Oh(t);try{return await Nr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ef})}catch(n){if(sr(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Oh(t.userId);try{const{data:r,error:n}=await Nr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(sr(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Oh(t.userId),Oh(t.id);try{return{data:await Nr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(sr(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,o,u,d;try{const c={nextPage:null,lastPage:0,total:0},h=await Nr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:AC});if(h.error)throw h.error;const m=await h.json(),b=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(E=>{const C=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(E.split(";")[1].split("=")[1]);c[`${T}Page`]=C}),c.total=parseInt(b)),{data:Object.assign(Object.assign({},m),c),error:null}}catch(c){if(sr(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await Nr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(sr(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Nr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(sr(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Nr(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(sr(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Nr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(sr(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Nr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(sr(r))return{data:null,error:r};throw r}}}function SC(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const uu={debug:!!(globalThis&&a7()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class o7 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Wq extends o7{}async function $q(e,t,r){uu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;t>0&&setTimeout(()=>{n.abort(),uu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){uu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{uu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw uu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Wq(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(uu.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(i){if((i==null?void 0:i.name)==="AbortError"&&t>0)return uu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire timeout, recovering by stealing lock",e),console.warn(`@supabase/gotrue-js: Lock "${e}" was not released within ${t}ms. This may indicate an orphaned lock from a component unmount (e.g., React Strict Mode). Forcefully acquiring the lock to recover.`),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,{mode:"exclusive",steal:!0},async a=>{if(a){uu.debug&&console.log("@supabase/gotrue-js: navigatorLock: recovered (stolen)",e,a.name);try{return await r()}finally{uu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released (stolen)",e,a.name)}}else return console.warn("@supabase/gotrue-js: Navigator LockManager returned null lock even with steal: true"),await r()}));throw i}}function Vq(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function l7(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Yq(e){return parseInt(e,16)}function Xq(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Kq(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:u,requestId:d,resources:c,scheme:h,uri:m,version:b}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=l7(e.address),E=h?`${h}://${n}`:n,C=e.statement?`${e.statement}
`:"",T=`${E} wants you to sign in with your Ethereum account:
${x}

${C}`;let I=`URI: ${m}
Version: ${b}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(I+=`
Expiration Time: ${i.toISOString()}`),u&&(I+=`
Not Before: ${u.toISOString()}`),d&&(I+=`
Request ID: ${d}`),c){let B=`
Resources:`;for(const U of c){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);B+=`
- ${U}`}I+=B}return`${T}
${I}`}class xa extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Ev extends xa{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Zq({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new xa({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new xa({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new xa({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new xa({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new xa({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new xa({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new xa({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new xa({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(c7(o)){if(a.rp.id!==o)return new xa({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new xa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new xa({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new xa({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new xa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Qq({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new xa({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new xa({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(c7(n)){if(r.rpId!==n)return new xa({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new xa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new xa({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new xa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Jq{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const eH=new Jq;function tH(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=B2(e,["challenge","user","excludeCredentials"]),a=Qh(t).buffer,o=Object.assign(Object.assign({},r),{id:Qh(r.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const c=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},c),{id:Qh(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return u}function rH(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=B2(e,["challenge","allowCredentials"]),i=Qh(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const u=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},u),{id:Qh(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function nH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:vd(new Uint8Array(e.response.attestationObject)),clientDataJSON:vd(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function iH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:vd(new Uint8Array(i.authenticatorData)),clientDataJSON:vd(new Uint8Array(i.clientDataJSON)),signature:vd(new Uint8Array(i.signature)),userHandle:i.userHandle?vd(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function c7(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function EC(){var e,t;return!!(bs()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function aH(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ev("Browser returned unexpected credential type",t)}:{data:null,error:new Ev("Empty credential response",t)}}catch(t){return{data:null,error:Zq({error:t,options:e})}}}async function sH(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ev("Browser returned unexpected credential type",t)}:{data:null,error:new Ev("Empty credential response",t)}}catch(t){return{data:null,error:Qq({error:t,options:e})}}}const oH={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},lH={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Cv(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const u=n[a];t(u)?n[a]=Cv(u,o):n[a]=Cv(o)}else n[a]=o}return n}function cH(e,t){return Cv(oH,e,t||{})}function uH(e,t){return Cv(lH,e,t||{})}class fH{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){var o;try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!u)return{data:null,error:d};const c=i??eH.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:h}=u.webauthn.credential_options.publicKey;if(!h.name){const m=n;if(m)h.name=`${h.id}:${m}`;else{const x=(await this.client.getUser()).data.user,E=((o=x==null?void 0:x.user_metadata)===null||o===void 0?void 0:o.name)||(x==null?void 0:x.email)||(x==null?void 0:x.id)||"User";h.name=`${h.id}:${E}`}}h.displayName||(h.displayName=h.name)}switch(u.webauthn.type){case"create":{const h=cH(u.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:m,error:b}=await aH({publicKey:h,signal:c});return m?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:b}}case"request":{const h=uH(u.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:m,error:b}=await sH(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:h,signal:c}));return m?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:b}}}}catch(u){return sr(u)?{data:null,error:u}:{data:null,error:new gd("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Z1("rpId is required for WebAuthn authentication")};try{if(!EC())return{data:null,error:new gd("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:u};const{webauthn:d}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(o){return sr(o)?{data:null,error:o}:{data:null,error:new gd("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Z1("rpId is required for WebAuthn registration")};try{if(!EC())return{data:null,error:new gd("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:d,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:c}}catch(o){return sr(o)?{data:null,error:o}:{data:null,error:new gd("Unexpected error in register",o)}}}}Vq();const dH={url:lq,storageKey:cq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:5e3,skipAutoInitialize:!1};async function CC(e,t,r){return await r()}const Th={};class Q1{get jwks(){var t,r;return(r=(t=Th[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Th[this.storageKey]=Object.assign(Object.assign({},Th[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Th[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Th[this.storageKey]=Object.assign(Object.assign({},Th[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},dH),t);if(this.storageKey=a.storageKey,this.instanceID=(r=Q1.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Q1.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&bs()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Gq({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=s7(a.fetch),this.lock=a.lock||CC,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&bs()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=$q:this.lock=CC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new fH(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:a7()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=SC(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=SC(this.memoryStorage)),bs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(u){this._debug("#broadcastChannel","error",u)}})}a.skipAutoInitialize||this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${r7}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(bs()&&(r=Sq(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),bs()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),gq(a)){const d=(t=a.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:o,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return sr(r)?this._returnResult({error:r}):this._returnResult({error:new gd("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await Nr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Gl}),{data:o,error:u}=a;if(u||!o)return this._returnResult({data:{user:null,session:null},error:u});const d=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:c,session:d},error:null})}catch(a){if(sr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:h,password:m,options:b}=t;let x=null,E=null;this.flowType==="pkce"&&([x,E]=await Nh(this.storage,this.storageKey)),a=await Nr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:h,password:m,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:x,code_challenge_method:E},xform:Gl})}else if("phone"in t){const{phone:h,password:m,options:b}=t;a=await Nr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},channel:(i=b==null?void 0:b.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Gl})}else throw new Yg("You must provide either an email or phone number and a password");const{data:o,error:u}=a;if(u||!o)return await ys(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:c,session:d},error:null})}catch(a){if(await ys(this.storage,`${this.storageKey}-code-verifier`),sr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:u}=t;r=await Nr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:_C})}else if("phone"in t){const{phone:a,password:o,options:u}=t;r=await Nr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:_C})}else throw new Yg("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new Ch;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(sr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,o,u,d,c,h,m,b;let x,E;if("message"in t)x=t.message,E=t.signature;else{const{chain:C,wallet:T,statement:I,options:B}=t;let U;if(bs())if(typeof T=="object")U=T;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")U=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=T}const F=new URL((r=B==null?void 0:B.url)!==null&&r!==void 0?r:window.location.href),K=await U.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!K||K.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Z=l7(K[0]);let V=(n=B==null?void 0:B.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!V){const q=await U.request({method:"eth_chainId"});V=Yq(q)}const Q={domain:F.host,address:Z,statement:I,uri:F.href,version:"1",chainId:V,nonce:(i=B==null?void 0:B.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=B==null?void 0:B.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(u=B==null?void 0:B.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=B==null?void 0:B.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(c=B==null?void 0:B.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(h=B==null?void 0:B.signInWithEthereum)===null||h===void 0?void 0:h.resources};x=Kq(Q),E=await U.request({method:"personal_sign",params:[Xq(x),Z]})}try{const{data:C,error:T}=await Nr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:E},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Gl});if(T)throw T;if(!C||!C.session||!C.user){const I=new Ch;return this._returnResult({data:{user:null,session:null},error:I})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:T})}catch(C){if(sr(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(t){var r,n,i,a,o,u,d,c,h,m,b,x;let E,C;if("message"in t)E=t.message,C=t.signature;else{const{chain:T,wallet:I,statement:B,options:U}=t;let F;if(bs())if(typeof I=="object")F=I;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))F=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=I}const K=new URL((r=U==null?void 0:U.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in F&&F.signIn){const Z=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U==null?void 0:U.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),B?{statement:B}:null));let V;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")V=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)V=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)E=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),C=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${K.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(i=(n=U==null?void 0:U.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=U==null?void 0:U.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((o=U==null?void 0:U.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((u=U==null?void 0:U.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((d=U==null?void 0:U.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((c=U==null?void 0:U.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((m=(h=U==null?void 0:U.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...U.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const Z=await F.signMessage(new TextEncoder().encode(E),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=Z}}try{const{data:T,error:I}=await Nr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:vd(C)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Gl});if(I)throw I;if(!T||!T.session||!T.user){const B=new Ch;return this._returnResult({data:{user:null,session:null},error:B})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:I})}catch(T){if(sr(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const r=await nd(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new mq;const{data:a,error:o}=await Nr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Gl});if(await ys(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const u=new Ch;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await ys(this.storage,`${this.storageKey}-code-verifier`),sr(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=t,u=await Nr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Gl}),{data:d,error:c}=u;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!d||!d.session||!d.user){const h=new Ch;return this._returnResult({data:{user:null,session:null},error:h})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:c})}catch(r){if(sr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,o;try{if("email"in t){const{email:u,options:d}=t;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await Nh(this.storage,this.storageKey));const{error:m}=await Nr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:u,options:d}=t,{data:c,error:h}=await Nr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(o=d==null?void 0:d.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h})}throw new Yg("You must provide either an email or phone number.")}catch(u){if(await ys(this.storage,`${this.storageKey}-code-verifier`),sr(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:u}=await Nr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Gl});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,c=o.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:c,session:d},error:null})}catch(i){if(sr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,o;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Nh(this.storage,this.storageKey));const c=await Nr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:zq});return!((a=c.data)===null||a===void 0)&&a.url&&bs()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(u){if(await ys(this.storage,`${this.storageKey}-code-verifier`),sr(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $o;const{error:i}=await Nr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(sr(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await Nr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:u}=await Nr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:u})}throw new Yg("You must provide either an email or phone number and a type")}catch(r){if(sr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await nd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<hx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await nd(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=mx()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Lq(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Nr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ef}):await this._useSession(async r=>{var n,i,a;const{data:o,error:u}=r;if(u)throw u;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $o}:await Nr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ef})})}catch(r){if(sr(r))return px(r)&&(await this._removeSession(),await ys(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new $o;const o=i.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Nh(this.storage,this.storageKey));const{data:c,error:h}=await Nr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:o.access_token,xform:Ef});if(h)throw h;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await ys(this.storage,`${this.storageKey}-code-verifier`),sr(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $o;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=Kg(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});a={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(sr(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:u}=r;if(u)throw u;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $o;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(sr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!bs())throw new Xg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Xg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new gC("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new gC("No code detected.");const{data:B,error:U}=await this._exchangeCodeForSession(t.code);if(U)throw U;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:u,expires_at:d,token_type:c}=t;if(!a||!u||!o||!c)throw new Xg("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(u);let b=h+m;d&&(b=parseInt(d));const x=b-h;x*1e3<=qh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${m}s`);const E=b-m;h-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,b,h):h-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,b,h);const{data:C,error:T}=await this._getUser(a);if(T)throw T;const I={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:b,refresh_token:o,token_type:c,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:I,redirectType:t.type},error:null})}catch(n){if(sr(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await nd(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a&&!px(a))return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:u}=await this.admin.signOut(o,t);if(u&&!(pq(u)&&(u.status===404||u.status===401||u.status===403)||px(u)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await ys(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Aq(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Nh(this.storage,this.storageKey,!0));try{return await Nr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await ys(this.storage,`${this.storageKey}-code-verifier`),sr(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(sr(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,u,d,c,h;const{data:m,error:b}=a;if(b)throw b;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Nr(this.fetch,"GET",x,{headers:this.headers,jwt:(h=(c=m.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return bs()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(sr(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:u,token:d,access_token:c,nonce:h}=t,m=await Nr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:c,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Gl}),{data:b,error:x}=m;return x?this._returnResult({data:{user:null,session:null},error:x}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Ch}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:x}))}catch(i){if(await ys(this.storage,`${this.storageKey}-code-verifier`),sr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await Nr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(sr(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Nq(async i=>(i>0&&await Cq(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Nr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gl})),(i,a)=>{const o=200*Math.pow(2,i);return a&&gx(a)&&Date.now()+o-n<qh})}catch(n){if(this._debug(r,"error",n),sr(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),bs()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await nd(this.storage,this.storageKey);if(i&&this.userStorage){let o=await nd(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Hh(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:mx()}else if(i&&!i.user&&!i.user){const o=await nd(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await ys(this.storage,this.storageKey+"-user"),await Hh(this.storage,this.storageKey,i)):i.user=mx()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<hx;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${hx}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),gx(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(i.access_token);!u&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $o;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new z2;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new $o;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),sr(a)){const o={data:null,error:a};return gx(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(d){a.push(d)}});if(await Promise.all(o),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ys(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Hh(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=xC(i);await Hh(this.storage,this.storageKey,a)}else{const i=xC(r);await Hh(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ys(this.storage,this.storageKey),await ys(this.storage,this.storageKey+"-code-verifier"),await ys(this.storage,this.storageKey+"-user"),this.userStorage&&await ys(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&bs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),qh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/qh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${qh}ms, refresh threshold is ${D5} ticks`),i<=D5&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof o7)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Nh(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(u.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await Nr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(sr(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:c}=await Nr(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(sr(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?nH(t.webauthn.credential_response):iH(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await Nr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(sr(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await Nr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:u}=o;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:tH(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:rH(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(sr(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,i,a;if(t)try{const{payload:x}=Kg(t);let E=null;x.aal&&(E=x.aal);let C=E;const{data:{user:T},error:I}=await this.getUser(t);if(I)return this._returnResult({data:null,error:I});((n=(r=T==null?void 0:T.factors)===null||r===void 0?void 0:r.filter(F=>F.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(C="aal2");const U=x.amr||[];return{data:{currentLevel:E,nextLevel:C,currentAuthenticationMethods:U},error:null}}catch(x){if(sr(x))return this._returnResult({data:null,error:x});throw x}const{data:{session:o},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Kg(o.access_token);let c=null;d.aal&&(c=d.aal);let h=c;((a=(i=o.user.factors)===null||i===void 0?void 0:i.filter(x=>x.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(h="aal2");const b=d.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Nr(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new $o})})}catch(r){if(sr(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new $o});const o=await Nr(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&bs()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(sr(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new $o});const o=await Nr(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&bs()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(sr(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Nr(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new $o})})}catch(t){if(sr(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Nr(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $o})})}catch(r){if(sr(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+dq>i)return n;const{data:a,error:o}=await Nr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:x,error:E}=await this.getSession();if(E||!x.session)return this._returnResult({data:null,error:E});n=x.session.access_token}const{header:i,payload:a,signature:o,raw:{header:u,payload:d}}=Kg(n);r!=null&&r.allowExpired||Rq(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:a,header:i,signature:o},error:null}}const h=Pq(i.alg),m=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,o,wq(`${u}.${d}`)))throw new F5("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(sr(n))return this._returnResult({data:null,error:n});throw n}}}Q1.nextInstanceID={};const hH=Q1,pH="2.98.0";let P1="";typeof Deno<"u"?P1="deno":typeof document<"u"?P1="web":typeof navigator<"u"&&navigator.product==="ReactNative"?P1="react-native":P1="node";const gH={"X-Client-Info":`supabase-js-${P1}/${pH}`},mH={headers:gH},vH={schema:"public"},yH={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bH={};function J1(e){"@babel/helpers - typeof";return J1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J1(e)}function xH(e,t){if(J1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(J1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wH(e){var t=xH(e,"string");return J1(t)=="symbol"?t:t+""}function _H(e,t,r){return(t=wH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NC(Object(r),!0).forEach(function(n){_H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const AH=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),SH=()=>Headers,EH=(e,t,r)=>{const n=AH(r),i=SH();return async(a,o)=>{var u;const d=(u=await t())!==null&&u!==void 0?u:e;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${d}`),n(a,Xi(Xi({},o),{},{headers:c}))}};function CH(e){return e.endsWith("/")?e:e+"/"}function NH(e,t){var r,n;const{db:i,auth:a,realtime:o,global:u}=e,{db:d,auth:c,realtime:h,global:m}=t,b={db:Xi(Xi({},d),i),auth:Xi(Xi({},c),a),realtime:Xi(Xi({},h),o),storage:{},global:Xi(Xi(Xi({},m),u),{},{headers:Xi(Xi({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?b.accessToken=e.accessToken:delete b.accessToken,b}function OH(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(CH(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var TH=class extends hH{constructor(e){super(e)}},IH=class{constructor(e,t,r){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const a=OH(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:vH,realtime:bH,auth:Xi(Xi({},yH),{},{storageKey:o}),global:mH},d=NH(r??{},u);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=d.auth)!==null&&c!==void 0?c:{},this.headers,d.global.fetch)}this.fetch=EH(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Xi({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new pz(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch,timeout:d.db.timeout,urlLengthLimit:d.db.urlLengthLimit}),this.storage=new oq(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new sz(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:o,lock:u,debug:d,throwOnError:c},h,m){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new TH({url:this.authUrl.href,headers:Xi(Xi({},b),h),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:o,lock:u,debug:d,throwOnError:c,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new kz(this.realtimeUrl.href,Xi(Xi({},e),{},{params:Xi(Xi({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const kH=(e,t,r)=>new IH(e,t,r);function MH(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}MH()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const jH="https://pznponymhusxgrwbahid.supabase.co",RH="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB6bnBvbnltaHVzeGdyd2JhaGlkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIyMDQzNDgsImV4cCI6MjA4Nzc4MDM0OH0.C4pasGLfayXa2g7vKfjvlB4NMsntSe-kAwUtFAZjdmU",qt=kH(jH,RH),PH={greensboro:{telefono:"3365496890"},laredo:{telefono:"7572437074"},tapachula:{telefono:"9621210423"}};function yx(e){const t=PH;return`
 Bienvenido a YOUBOX GT! Tu casillero es: *${e}*

 *DIRECCIN GREENSBORO, NC (Va Martima USA)*
Nombre: YBG + Tu Nombre  
Direccin: 4100 Tulsa Dr  
Suite/Apt: ${e}  
Ciudad: Greensboro, NC  
ZIP: 27406  
Tel: ${t.greensboro.telefono}

 *DIRECCIN LAREDO, TX (Va Terrestre USA)*
Nombre: YBG + Tu Nombre  
Direccin: 1900 Justo Penn St  
Suite/Apt: ${e}  
Ciudad: Laredo, TX  
ZIP: 78041  
Tel: ${t.laredo.telefono}

 *DIRECCIN TAPACHULA, MX (Va Terrestre Mxico)*
Nombre: YBG + Tu Nombre  
Direccin: Calle El Carmen Manzana 6 Casa 4  
Referencias: Infonavit El Carmen + ${e}  
Ciudad: Tapachula, Chiapas  
CP: 30799  
Tel: ${t.tapachula.telefono}

 Escribe los datos tal como se indican. Recuerda revisar trminos y condiciones.
  `.trim()}async function DH(e="YBG"){try{const{data:t}=await qt.from("clientes").select("locker_id").like("locker_id",`${e}%`).order("locker_id",{ascending:!1}).limit(1);if(!t||t.length===0)return`${e}4000`;const r=parseInt(t[0].locker_id.replace(e,""),10);return`${e}${r+1}`}catch{return`${e}4000`}}const u7=D.createContext(null);function LH({children:e}){const[t,r]=D.useState(null),[n,i]=D.useState(!0);D.useEffect(()=>{const d=localStorage.getItem("youbox_user");if(d)try{r(JSON.parse(d))}catch{}i(!1)},[]);const a=async(d,c)=>{var h;if(d.toLowerCase()==="admin"&&c==="1234"){const m={id:"admin-001",nombre:"Administrador",apellido:"YOUBOX",email:"admin@youbox.gt",role:"admin"};return r(m),localStorage.setItem("youbox_user",JSON.stringify(m)),{}}try{const{data:m,error:b}=await qt.from("clientes").select("*").eq("email",d.toLowerCase()).single();if(!b&&m){if((m.password_hash??m.notas)!==c)return{error:"Contrasea incorrecta."};const I={id:m.id,nombre:m.nombre,apellido:m.apellido,email:m.email,telefono:m.telefono,locker_id:m.locker_id,role:"cliente",sucursal_id:m.sucursal_id};return r(I),localStorage.setItem("youbox_user",JSON.stringify(I)),{}}const{data:x,error:E}=await qt.from("usuarios").select("*, roles(nombre)").eq("email",d.toLowerCase()).single();if(E||!x)return{error:"Credenciales incorrectas. Verifica tu email."};if(!x.activo)return{error:"Esta cuenta ha sido suspendida."};if(x.password_hash!==c)return{error:"Contrasea incorrecta."};const C={id:x.id,nombre:x.nombre,apellido:x.apellido,email:x.email,telefono:x.telefono,role:((h=x.roles)==null?void 0:h.nombre)||"admin",sucursal_id:x.sucursal_id};return r(C),localStorage.setItem("youbox_user",JSON.stringify(C)),{}}catch{return{error:"Error de conexin. Intenta de nuevo."}}},o=async d=>{try{const c=await DH(d.sucursal_prefix||"YBG"),{data:h,error:m}=await qt.from("clientes").insert([{nombre:d.nombre,apellido:d.apellido,email:d.email.toLowerCase(),telefono:d.telefono,locker_id:c,notas:d.password,activo:!0,sucursal_id:d.sucursal_id||null}]).select().single();if(m)return console.error("Supabase register error:",m),m.code==="23505"?{error:"Este correo o casillero ya est registrado."}:m.code==="42501"?{error:"Sin permisos. Ejecuta el SQL 002_fix_rls_policies.sql en Supabase."}:{error:`Error: ${m.message}`};const b={id:h.id,nombre:h.nombre,apellido:h.apellido,email:h.email,telefono:h.telefono,locker_id:h.locker_id,role:"cliente",sucursal_id:h.sucursal_id};return r(b),localStorage.setItem("youbox_user",JSON.stringify(b)),{user:b}}catch{return{error:"Error inesperado. Intenta de nuevo."}}},u=()=>{r(null),localStorage.removeItem("youbox_user")};return S.jsx(u7.Provider,{value:{user:t,loading:n,login:a,register:o,logout:u,isAdmin:(t==null?void 0:t.role)==="admin"},children:e})}function Fa(){const e=D.useContext(u7);if(!e)throw new Error("useAuth must be used inside AuthProvider");return e}/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FH=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),OC=e=>{const t=FH(e);return t.charAt(0).toUpperCase()+t.slice(1)},f7=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),UH=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=D.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...u},d)=>D.createElement("svg",{ref:d,...zH,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:f7("lucide",i),...!a&&!UH(u)&&{"aria-hidden":"true"},...u},[...o.map(([c,h])=>D.createElement(c,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=(e,t)=>{const r=D.forwardRef(({className:n,...i},a)=>D.createElement(qH,{ref:a,iconNode:t,className:f7(`lucide-${BH(OC(e))}`,`lucide-${e}`,n),...i}));return r.displayName=OC(e),r};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],d7=Lt("bell",HH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],ep=Lt("boxes",GH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],h3=Lt("building-2",WH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],uv=Lt("building",$H);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],o0=Lt("calculator",VH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tp=Lt("calendar",YH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],KH=Lt("chart-column",XH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],QH=Lt("chevron-down",ZH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],eG=Lt("chevron-up",JH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],h7=Lt("circle-alert",tG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nG=Lt("circle-check-big",rG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],p3=Lt("circle-check",iG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],sG=Lt("clipboard-list",aG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],TC=Lt("clock",oG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],cG=Lt("copy",lG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],g3=Lt("credit-card",uG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],p7=Lt("dollar-sign",fG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],g7=Lt("download",dG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],pG=Lt("external-link",hG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],m7=Lt("eye-off",gG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],v7=Lt("eye",mG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],q2=Lt("file-text",vG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],bG=Lt("funnel",yG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],wG=Lt("image",xG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],H2=Lt("inbox",_G);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],SG=Lt("key-round",AG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],CG=Lt("keyboard",EG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],rp=Lt("layers",NG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],TG=Lt("layout-dashboard",OG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Fs=Lt("loader-circle",IG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],MG=Lt("log-in",kG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],RG=Lt("log-out",jG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],y7=Lt("mail",PG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Dc=Lt("map-pin",DG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],b7=Lt("map",LG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],FG=Lt("message-circle",BG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],zG=Lt("message-square",UG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],HG=Lt("package-check",qG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],WG=Lt("package-plus",GG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],kf=Lt("package",$G);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],YG=Lt("palette",VG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],KG=Lt("pen-line",XG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],QG=Lt("pen",ZG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],eW=Lt("phone",JG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],w0=Lt("plus",tW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],IC=Lt("printer",rW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],U5=Lt("receipt",nW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Cd=Lt("save",iW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],x7=Lt("scan-line",aW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Np=Lt("search",sW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],lW=Lt("send",oW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],uW=Lt("settings",cW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],z5=Lt("shield-check",fW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],hW=Lt("shield",dW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],gW=Lt("smartphone",pW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kC=Lt("square-check-big",mW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],MC=Lt("square",vW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],bW=Lt("tag",yW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],m3=Lt("trash-2",xW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],_W=Lt("trending-down",wW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],SW=Lt("trending-up",AW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],CW=Lt("triangle-alert",EW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],G2=Lt("truck",NW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],TW=Lt("upload",OW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],kW=Lt("user-plus",IW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],v3=Lt("users",MW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mf=Lt("x",jW);function w7(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=w7(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function On(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=w7(e))&&(n&&(n+=" "),n+=t);return n}const RW=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},PW=(e,t)=>({classGroupId:e,validator:t}),_7=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Nv="-",jC=[],DW="arbitrary..",LW=e=>{const t=FW(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return BW(o);const u=o.split(Nv),d=u[0]===""&&u.length>1?1:0;return A7(u,d,t)},getConflictingClassGroupIds:(o,u)=>{if(u){const d=n[o],c=r[o];return d?c?RW(c,d):d:c||jC}return r[o]||jC}}},A7=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const i=e[t],a=r.nextPart.get(i);if(a){const c=A7(e,t+1,a);if(c)return c}const o=r.validators;if(o===null)return;const u=t===0?e.join(Nv):e.slice(t).join(Nv),d=o.length;for(let c=0;c<d;c++){const h=o[c];if(h.validator(u))return h.classGroupId}},BW=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?DW+n:void 0})(),FW=e=>{const{theme:t,classGroups:r}=e;return UW(r,t)},UW=(e,t)=>{const r=_7();for(const n in e){const i=e[n];y3(i,r,n,t)}return r},y3=(e,t,r,n)=>{const i=e.length;for(let a=0;a<i;a++){const o=e[a];zW(o,t,r,n)}},zW=(e,t,r,n)=>{if(typeof e=="string"){qW(e,t,r);return}if(typeof e=="function"){HW(e,t,r,n);return}GW(e,t,r,n)},qW=(e,t,r)=>{const n=e===""?t:S7(t,e);n.classGroupId=r},HW=(e,t,r,n)=>{if(WW(e)){y3(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(PW(r,e))},GW=(e,t,r,n)=>{const i=Object.entries(e),a=i.length;for(let o=0;o<a;o++){const[u,d]=i[o];y3(d,S7(t,u),r,n)}},S7=(e,t)=>{let r=e;const n=t.split(Nv),i=n.length;for(let a=0;a<i;a++){const o=n[a];let u=r.nextPart.get(o);u||(u=_7(),r.nextPart.set(o,u)),r=u}return r},WW=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,$W=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const i=(a,o)=>{r[a]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(a){let o=r[a];if(o!==void 0)return o;if((o=n[a])!==void 0)return i(a,o),o},set(a,o){a in r?r[a]=o:i(a,o)}}},q5="!",RC=":",VW=[],PC=(e,t,r,n,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:i}),YW=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=i=>{const a=[];let o=0,u=0,d=0,c;const h=i.length;for(let C=0;C<h;C++){const T=i[C];if(o===0&&u===0){if(T===RC){a.push(i.slice(d,C)),d=C+1;continue}if(T==="/"){c=C;continue}}T==="["?o++:T==="]"?o--:T==="("?u++:T===")"&&u--}const m=a.length===0?i:i.slice(d);let b=m,x=!1;m.endsWith(q5)?(b=m.slice(0,-1),x=!0):m.startsWith(q5)&&(b=m.slice(1),x=!0);const E=c&&c>d?c-d:void 0;return PC(a,x,b,E)};if(t){const i=t+RC,a=n;n=o=>o.startsWith(i)?a(o.slice(i.length)):PC(VW,!1,o,void 0,!0)}if(r){const i=n;n=a=>r({className:a,parseClassName:i})}return n},XW=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let i=[];for(let a=0;a<r.length;a++){const o=r[a],u=o[0]==="[",d=t.has(o);u||d?(i.length>0&&(i.sort(),n.push(...i),i=[]),n.push(o)):i.push(o)}return i.length>0&&(i.sort(),n.push(...i)),n}},KW=e=>({cache:$W(e.cacheSize),parseClassName:YW(e),sortModifiers:XW(e),...LW(e)}),ZW=/\s+/,QW=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:a}=t,o=[],u=e.trim().split(ZW);let d="";for(let c=u.length-1;c>=0;c-=1){const h=u[c],{isExternal:m,modifiers:b,hasImportantModifier:x,baseClassName:E,maybePostfixModifierPosition:C}=r(h);if(m){d=h+(d.length>0?" "+d:d);continue}let T=!!C,I=n(T?E.substring(0,C):E);if(!I){if(!T){d=h+(d.length>0?" "+d:d);continue}if(I=n(E),!I){d=h+(d.length>0?" "+d:d);continue}T=!1}const B=b.length===0?"":b.length===1?b[0]:a(b).join(":"),U=x?B+q5:B,F=U+I;if(o.indexOf(F)>-1)continue;o.push(F);const K=i(I,T);for(let Z=0;Z<K.length;++Z){const V=K[Z];o.push(U+V)}d=h+(d.length>0?" "+d:d)}return d},JW=(...e)=>{let t=0,r,n,i="";for(;t<e.length;)(r=e[t++])&&(n=E7(r))&&(i&&(i+=" "),i+=n);return i},E7=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=E7(e[n]))&&(r&&(r+=" "),r+=t);return r},e$=(e,...t)=>{let r,n,i,a;const o=d=>{const c=t.reduce((h,m)=>m(h),e());return r=KW(c),n=r.cache.get,i=r.cache.set,a=u,u(d)},u=d=>{const c=n(d);if(c)return c;const h=QW(d,r);return i(d,h),h};return a=o,(...d)=>a(JW(...d))},t$=[],Ra=e=>{const t=r=>r[e]||t$;return t.isThemeGetter=!0,t},C7=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,N7=/^\((?:(\w[\w-]*):)?(.+)\)$/i,r$=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,n$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,i$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,a$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,s$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,o$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gf=e=>r$.test(e),Vr=e=>!!e&&!Number.isNaN(Number(e)),mf=e=>!!e&&Number.isInteger(Number(e)),bx=e=>e.endsWith("%")&&Vr(e.slice(0,-1)),fu=e=>n$.test(e),O7=()=>!0,l$=e=>i$.test(e)&&!a$.test(e),b3=()=>!1,c$=e=>s$.test(e),u$=e=>o$.test(e),f$=e=>!Wt(e)&&!Vt(e),d$=e=>Df(e,k7,b3),Wt=e=>C7.test(e),id=e=>Df(e,M7,l$),DC=e=>Df(e,x$,Vr),h$=e=>Df(e,R7,O7),p$=e=>Df(e,j7,b3),LC=e=>Df(e,T7,b3),g$=e=>Df(e,I7,u$),Zg=e=>Df(e,P7,c$),Vt=e=>N7.test(e),v1=e=>Fd(e,M7),m$=e=>Fd(e,j7),BC=e=>Fd(e,T7),v$=e=>Fd(e,k7),y$=e=>Fd(e,I7),Qg=e=>Fd(e,P7,!0),b$=e=>Fd(e,R7,!0),Df=(e,t,r)=>{const n=C7.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Fd=(e,t,r=!1)=>{const n=N7.exec(e);return n?n[1]?t(n[1]):r:!1},T7=e=>e==="position"||e==="percentage",I7=e=>e==="image"||e==="url",k7=e=>e==="length"||e==="size"||e==="bg-size",M7=e=>e==="length",x$=e=>e==="number",j7=e=>e==="family-name",R7=e=>e==="number"||e==="weight",P7=e=>e==="shadow",w$=()=>{const e=Ra("color"),t=Ra("font"),r=Ra("text"),n=Ra("font-weight"),i=Ra("tracking"),a=Ra("leading"),o=Ra("breakpoint"),u=Ra("container"),d=Ra("spacing"),c=Ra("radius"),h=Ra("shadow"),m=Ra("inset-shadow"),b=Ra("text-shadow"),x=Ra("drop-shadow"),E=Ra("blur"),C=Ra("perspective"),T=Ra("aspect"),I=Ra("ease"),B=Ra("animate"),U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],K=()=>[...F(),Vt,Wt],Z=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto","contain","none"],Q=()=>[Vt,Wt,d],q=()=>[gf,"full","auto",...Q()],se=()=>[mf,"none","subgrid",Vt,Wt],G=()=>["auto",{span:["full",mf,Vt,Wt]},mf,Vt,Wt],H=()=>[mf,"auto",Vt,Wt],le=()=>["auto","min","max","fr",Vt,Wt],J=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ie=()=>["start","end","center","stretch","center-safe","end-safe"],ne=()=>["auto",...Q()],fe=()=>[gf,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...Q()],we=()=>[gf,"screen","full","dvw","lvw","svw","min","max","fit",...Q()],Ie=()=>[gf,"screen","full","lh","dvh","lvh","svh","min","max","fit",...Q()],Me=()=>[e,Vt,Wt],pe=()=>[...F(),BC,LC,{position:[Vt,Wt]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],de=()=>["auto","cover","contain",v$,d$,{size:[Vt,Wt]}],me=()=>[bx,v1,id],Ne=()=>["","none","full",c,Vt,Wt],xe=()=>["",Vr,v1,id],Re=()=>["solid","dashed","dotted","double"],ze=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ce=()=>[Vr,bx,BC,LC],Ge=()=>["","none",E,Vt,Wt],Je=()=>["none",Vr,Vt,Wt],qe=()=>["none",Vr,Vt,Wt],lt=()=>[Vr,Vt,Wt],bt=()=>[gf,"full",...Q()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[fu],breakpoint:[fu],color:[O7],container:[fu],"drop-shadow":[fu],ease:["in","out","in-out"],font:[f$],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[fu],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[fu],shadow:[fu],spacing:["px",Vr],text:[fu],"text-shadow":[fu],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",gf,Wt,Vt,T]}],container:["container"],columns:[{columns:[Vr,Wt,Vt,u]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:K()}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{"inset-s":q(),start:q()}],end:[{"inset-e":q(),end:q()}],"inset-bs":[{"inset-bs":q()}],"inset-be":[{"inset-be":q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[mf,"auto",Vt,Wt]}],basis:[{basis:[gf,"full","auto",u,...Q()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Vr,gf,"auto","initial","none",Wt]}],grow:[{grow:["",Vr,Vt,Wt]}],shrink:[{shrink:["",Vr,Vt,Wt]}],order:[{order:[mf,"first","last","none",Vt,Wt]}],"grid-cols":[{"grid-cols":se()}],"col-start-end":[{col:G()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":se()}],"row-start-end":[{row:G()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":le()}],"auto-rows":[{"auto-rows":le()}],gap:[{gap:Q()}],"gap-x":[{"gap-x":Q()}],"gap-y":[{"gap-y":Q()}],"justify-content":[{justify:[...J(),"normal"]}],"justify-items":[{"justify-items":[...ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...ie()]}],"align-content":[{content:["normal",...J()]}],"align-items":[{items:[...ie(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ie(),{baseline:["","last"]}]}],"place-content":[{"place-content":J()}],"place-items":[{"place-items":[...ie(),"baseline"]}],"place-self":[{"place-self":["auto",...ie()]}],p:[{p:Q()}],px:[{px:Q()}],py:[{py:Q()}],ps:[{ps:Q()}],pe:[{pe:Q()}],pbs:[{pbs:Q()}],pbe:[{pbe:Q()}],pt:[{pt:Q()}],pr:[{pr:Q()}],pb:[{pb:Q()}],pl:[{pl:Q()}],m:[{m:ne()}],mx:[{mx:ne()}],my:[{my:ne()}],ms:[{ms:ne()}],me:[{me:ne()}],mbs:[{mbs:ne()}],mbe:[{mbe:ne()}],mt:[{mt:ne()}],mr:[{mr:ne()}],mb:[{mb:ne()}],ml:[{ml:ne()}],"space-x":[{"space-x":Q()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":Q()}],"space-y-reverse":["space-y-reverse"],size:[{size:fe()}],"inline-size":[{inline:["auto",...we()]}],"min-inline-size":[{"min-inline":["auto",...we()]}],"max-inline-size":[{"max-inline":["none",...we()]}],"block-size":[{block:["auto",...Ie()]}],"min-block-size":[{"min-block":["auto",...Ie()]}],"max-block-size":[{"max-block":["none",...Ie()]}],w:[{w:[u,"screen",...fe()]}],"min-w":[{"min-w":[u,"screen","none",...fe()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[o]},...fe()]}],h:[{h:["screen","lh",...fe()]}],"min-h":[{"min-h":["screen","lh","none",...fe()]}],"max-h":[{"max-h":["screen","lh",...fe()]}],"font-size":[{text:["base",r,v1,id]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,b$,h$]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",bx,Wt]}],"font-family":[{font:[m$,p$,t]}],"font-features":[{"font-features":[Wt]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Vt,Wt]}],"line-clamp":[{"line-clamp":[Vr,"none",Vt,DC]}],leading:[{leading:[a,...Q()]}],"list-image":[{"list-image":["none",Vt,Wt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Vt,Wt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Me()}],"text-color":[{text:Me()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Re(),"wavy"]}],"text-decoration-thickness":[{decoration:[Vr,"from-font","auto",Vt,id]}],"text-decoration-color":[{decoration:Me()}],"underline-offset":[{"underline-offset":[Vr,"auto",Vt,Wt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Vt,Wt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Vt,Wt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:pe()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:de()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},mf,Vt,Wt],radial:["",Vt,Wt],conic:[mf,Vt,Wt]},y$,g$]}],"bg-color":[{bg:Me()}],"gradient-from-pos":[{from:me()}],"gradient-via-pos":[{via:me()}],"gradient-to-pos":[{to:me()}],"gradient-from":[{from:Me()}],"gradient-via":[{via:Me()}],"gradient-to":[{to:Me()}],rounded:[{rounded:Ne()}],"rounded-s":[{"rounded-s":Ne()}],"rounded-e":[{"rounded-e":Ne()}],"rounded-t":[{"rounded-t":Ne()}],"rounded-r":[{"rounded-r":Ne()}],"rounded-b":[{"rounded-b":Ne()}],"rounded-l":[{"rounded-l":Ne()}],"rounded-ss":[{"rounded-ss":Ne()}],"rounded-se":[{"rounded-se":Ne()}],"rounded-ee":[{"rounded-ee":Ne()}],"rounded-es":[{"rounded-es":Ne()}],"rounded-tl":[{"rounded-tl":Ne()}],"rounded-tr":[{"rounded-tr":Ne()}],"rounded-br":[{"rounded-br":Ne()}],"rounded-bl":[{"rounded-bl":Ne()}],"border-w":[{border:xe()}],"border-w-x":[{"border-x":xe()}],"border-w-y":[{"border-y":xe()}],"border-w-s":[{"border-s":xe()}],"border-w-e":[{"border-e":xe()}],"border-w-bs":[{"border-bs":xe()}],"border-w-be":[{"border-be":xe()}],"border-w-t":[{"border-t":xe()}],"border-w-r":[{"border-r":xe()}],"border-w-b":[{"border-b":xe()}],"border-w-l":[{"border-l":xe()}],"divide-x":[{"divide-x":xe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":xe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Re(),"hidden","none"]}],"divide-style":[{divide:[...Re(),"hidden","none"]}],"border-color":[{border:Me()}],"border-color-x":[{"border-x":Me()}],"border-color-y":[{"border-y":Me()}],"border-color-s":[{"border-s":Me()}],"border-color-e":[{"border-e":Me()}],"border-color-bs":[{"border-bs":Me()}],"border-color-be":[{"border-be":Me()}],"border-color-t":[{"border-t":Me()}],"border-color-r":[{"border-r":Me()}],"border-color-b":[{"border-b":Me()}],"border-color-l":[{"border-l":Me()}],"divide-color":[{divide:Me()}],"outline-style":[{outline:[...Re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Vr,Vt,Wt]}],"outline-w":[{outline:["",Vr,v1,id]}],"outline-color":[{outline:Me()}],shadow:[{shadow:["","none",h,Qg,Zg]}],"shadow-color":[{shadow:Me()}],"inset-shadow":[{"inset-shadow":["none",m,Qg,Zg]}],"inset-shadow-color":[{"inset-shadow":Me()}],"ring-w":[{ring:xe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Me()}],"ring-offset-w":[{"ring-offset":[Vr,id]}],"ring-offset-color":[{"ring-offset":Me()}],"inset-ring-w":[{"inset-ring":xe()}],"inset-ring-color":[{"inset-ring":Me()}],"text-shadow":[{"text-shadow":["none",b,Qg,Zg]}],"text-shadow-color":[{"text-shadow":Me()}],opacity:[{opacity:[Vr,Vt,Wt]}],"mix-blend":[{"mix-blend":[...ze(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ze()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Vr]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ce()}],"mask-image-linear-from-color":[{"mask-linear-from":Me()}],"mask-image-linear-to-color":[{"mask-linear-to":Me()}],"mask-image-t-from-pos":[{"mask-t-from":Ce()}],"mask-image-t-to-pos":[{"mask-t-to":Ce()}],"mask-image-t-from-color":[{"mask-t-from":Me()}],"mask-image-t-to-color":[{"mask-t-to":Me()}],"mask-image-r-from-pos":[{"mask-r-from":Ce()}],"mask-image-r-to-pos":[{"mask-r-to":Ce()}],"mask-image-r-from-color":[{"mask-r-from":Me()}],"mask-image-r-to-color":[{"mask-r-to":Me()}],"mask-image-b-from-pos":[{"mask-b-from":Ce()}],"mask-image-b-to-pos":[{"mask-b-to":Ce()}],"mask-image-b-from-color":[{"mask-b-from":Me()}],"mask-image-b-to-color":[{"mask-b-to":Me()}],"mask-image-l-from-pos":[{"mask-l-from":Ce()}],"mask-image-l-to-pos":[{"mask-l-to":Ce()}],"mask-image-l-from-color":[{"mask-l-from":Me()}],"mask-image-l-to-color":[{"mask-l-to":Me()}],"mask-image-x-from-pos":[{"mask-x-from":Ce()}],"mask-image-x-to-pos":[{"mask-x-to":Ce()}],"mask-image-x-from-color":[{"mask-x-from":Me()}],"mask-image-x-to-color":[{"mask-x-to":Me()}],"mask-image-y-from-pos":[{"mask-y-from":Ce()}],"mask-image-y-to-pos":[{"mask-y-to":Ce()}],"mask-image-y-from-color":[{"mask-y-from":Me()}],"mask-image-y-to-color":[{"mask-y-to":Me()}],"mask-image-radial":[{"mask-radial":[Vt,Wt]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ce()}],"mask-image-radial-from-color":[{"mask-radial-from":Me()}],"mask-image-radial-to-color":[{"mask-radial-to":Me()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":F()}],"mask-image-conic-pos":[{"mask-conic":[Vr]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ce()}],"mask-image-conic-from-color":[{"mask-conic-from":Me()}],"mask-image-conic-to-color":[{"mask-conic-to":Me()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:pe()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:de()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Vt,Wt]}],filter:[{filter:["","none",Vt,Wt]}],blur:[{blur:Ge()}],brightness:[{brightness:[Vr,Vt,Wt]}],contrast:[{contrast:[Vr,Vt,Wt]}],"drop-shadow":[{"drop-shadow":["","none",x,Qg,Zg]}],"drop-shadow-color":[{"drop-shadow":Me()}],grayscale:[{grayscale:["",Vr,Vt,Wt]}],"hue-rotate":[{"hue-rotate":[Vr,Vt,Wt]}],invert:[{invert:["",Vr,Vt,Wt]}],saturate:[{saturate:[Vr,Vt,Wt]}],sepia:[{sepia:["",Vr,Vt,Wt]}],"backdrop-filter":[{"backdrop-filter":["","none",Vt,Wt]}],"backdrop-blur":[{"backdrop-blur":Ge()}],"backdrop-brightness":[{"backdrop-brightness":[Vr,Vt,Wt]}],"backdrop-contrast":[{"backdrop-contrast":[Vr,Vt,Wt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Vr,Vt,Wt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Vr,Vt,Wt]}],"backdrop-invert":[{"backdrop-invert":["",Vr,Vt,Wt]}],"backdrop-opacity":[{"backdrop-opacity":[Vr,Vt,Wt]}],"backdrop-saturate":[{"backdrop-saturate":[Vr,Vt,Wt]}],"backdrop-sepia":[{"backdrop-sepia":["",Vr,Vt,Wt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":Q()}],"border-spacing-x":[{"border-spacing-x":Q()}],"border-spacing-y":[{"border-spacing-y":Q()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Vt,Wt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Vr,"initial",Vt,Wt]}],ease:[{ease:["linear","initial",I,Vt,Wt]}],delay:[{delay:[Vr,Vt,Wt]}],animate:[{animate:["none",B,Vt,Wt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,Vt,Wt]}],"perspective-origin":[{"perspective-origin":K()}],rotate:[{rotate:Je()}],"rotate-x":[{"rotate-x":Je()}],"rotate-y":[{"rotate-y":Je()}],"rotate-z":[{"rotate-z":Je()}],scale:[{scale:qe()}],"scale-x":[{"scale-x":qe()}],"scale-y":[{"scale-y":qe()}],"scale-z":[{"scale-z":qe()}],"scale-3d":["scale-3d"],skew:[{skew:lt()}],"skew-x":[{"skew-x":lt()}],"skew-y":[{"skew-y":lt()}],transform:[{transform:[Vt,Wt,"","none","gpu","cpu"]}],"transform-origin":[{origin:K()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:bt()}],"translate-x":[{"translate-x":bt()}],"translate-y":[{"translate-y":bt()}],"translate-z":[{"translate-z":bt()}],"translate-none":["translate-none"],accent:[{accent:Me()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Me()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Vt,Wt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mbs":[{"scroll-mbs":Q()}],"scroll-mbe":[{"scroll-mbe":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pbs":[{"scroll-pbs":Q()}],"scroll-pbe":[{"scroll-pbe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Vt,Wt]}],fill:[{fill:["none",...Me()]}],"stroke-w":[{stroke:[Vr,v1,id,DC]}],stroke:[{stroke:["none",...Me()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},_$=e$(w$);function FC(...e){return _$(On(e))}const UC=[{name:"Dashboard",href:"/",icon:TG,section:"General"},{name:"Quick Entry",href:"/entry",icon:WG,section:"Operaciones"},{name:"Warehouse",href:"/warehouse",icon:H2,section:"Operaciones"},{name:"Inventario",href:"/inventory",icon:ep,section:"Operaciones"},{name:"Consolidacin",href:"/consolidation",icon:rp,section:"Operaciones"},{name:"Facturacin",href:"/billing",icon:q2,section:"Finanzas"},{name:"Pagos",href:"/payments",icon:g3,section:"Finanzas"},{name:"Gastos",href:"/expenses",icon:U5,section:"Finanzas"},{name:"Reportes",href:"/reports",icon:KH,section:"Finanzas"},{name:"Sucursales",href:"/branches",icon:h3,section:"Configuracin"},{name:"Usuarios",href:"/users",icon:v3,section:"Configuracin"},{name:"Geografa",href:"/geography",icon:b7,section:"Configuracin"},{name:"Tarifas",href:"/tariffs",icon:o0,section:"Configuracin"},{name:"Ajustes",href:"/settings",icon:uW,section:"Configuracin"}];function A$(){var c,h;const e=Hc(),{user:t,logout:r}=Fa(),n=Ap(),i=()=>{r(),n("/login")},a=["Mis Servicios"],o=[{name:"Mis Paquetes",href:"/inventory",icon:ep,section:"Mis Servicios"},{name:"Facturacin",href:"/billing",icon:q2,section:"Mis Servicios"},{name:"Pagos",href:"/payments",icon:g3,section:"Mis Servicios"}],u=(t==null?void 0:t.role)==="admin"?UC:o,d=(t==null?void 0:t.role)==="admin"?Array.from(new Set(UC.map(m=>m.section))):a;return S.jsxs("div",{className:"flex h-full w-64 flex-col bg-slate-900",children:[S.jsx("div",{className:"flex h-16 shrink-0 items-center px-6",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-500",children:S.jsx(ep,{className:"h-5 w-5 text-white"})}),S.jsx("span",{className:"text-xl font-bold text-white tracking-tight",children:"YOUBOX GT"})]})}),S.jsx("div",{className:"flex flex-1 flex-col overflow-y-auto px-4 py-4",children:S.jsx("nav",{className:"flex-1 space-y-6",children:d.map(m=>S.jsxs("div",{children:[S.jsx("h3",{className:"mb-2 px-2 text-xs font-semibold uppercase tracking-wider text-slate-400",children:m}),S.jsx("ul",{className:"space-y-1",children:u.filter(b=>b.section===m).map(b=>{const x=e.pathname===b.href;return S.jsx("li",{children:S.jsxs(Ep,{to:b.href,className:FC(x?"bg-slate-800 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white","group flex items-center gap-x-3 rounded-md p-2 text-sm font-medium leading-6 transition-colors"),children:[S.jsx(b.icon,{className:FC(x?"text-blue-400":"text-slate-400 group-hover:text-white","h-5 w-5 shrink-0 transition-colors"),"aria-hidden":"true"}),b.name]})},b.name)})})]},m))})}),S.jsxs("div",{className:"border-t border-slate-800 p-4",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[S.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-600 text-white text-xs font-bold shrink-0",children:((h=(c=t==null?void 0:t.nombre)==null?void 0:c[0])==null?void 0:h.toUpperCase())??"U"}),S.jsxs("div",{className:"overflow-hidden",children:[S.jsxs("p",{className:"text-sm font-medium text-white truncate",children:[t==null?void 0:t.nombre," ",t==null?void 0:t.apellido]}),(t==null?void 0:t.locker_id)&&S.jsx("p",{className:"text-xs text-blue-400 truncate",children:t.locker_id}),(t==null?void 0:t.role)==="admin"&&S.jsx("p",{className:"text-xs text-amber-400",children:"Administrador"})]})]}),S.jsxs("button",{onClick:i,className:"flex w-full items-center gap-x-2 rounded-md p-2 text-sm font-medium text-slate-400 hover:bg-slate-800 hover:text-white transition-colors",children:[S.jsx(RG,{className:"h-4 w-4 shrink-0","aria-hidden":"true"}),"Cerrar Sesin"]})]})]})}function S$(){return S.jsxs("div",{className:"flex h-screen w-full overflow-hidden bg-slate-50",children:[S.jsx(A$,{}),S.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[S.jsxs("header",{className:"flex h-16 shrink-0 items-center justify-between border-b border-slate-200 bg-white px-6",children:[S.jsx("div",{className:"flex flex-1 items-center gap-x-4",children:S.jsxs("div",{className:"relative w-full max-w-md",children:[S.jsx(Np,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-slate-400"}),S.jsx("input",{type:"text",placeholder:"Buscar tracking, cliente, paquete...",className:"h-9 w-full rounded-md border border-slate-200 bg-slate-50 pl-9 pr-4 text-sm outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})]})}),S.jsxs("div",{className:"flex items-center gap-x-4",children:[S.jsxs("button",{className:"relative rounded-full p-1.5 text-slate-400 hover:bg-slate-100 hover:text-slate-500",children:[S.jsx(d7,{className:"h-5 w-5"}),S.jsx("span",{className:"absolute right-1.5 top-1.5 h-2 w-2 rounded-full bg-red-500 ring-2 ring-white"})]}),S.jsx("div",{className:"h-8 w-8 overflow-hidden rounded-full bg-slate-200",children:S.jsx("div",{className:"flex h-full w-full items-center justify-center bg-blue-100 text-blue-700 font-medium",children:"AD"})})]})]}),S.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:S.jsx(wU,{})})]})]})}var E$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function x3(e){if(typeof e!="string")return!1;var t=E$;return t.includes(e)}var C$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],N$=new Set(C$);function D7(e){return typeof e!="string"?!1:N$.has(e)}function L7(e){return typeof e=="string"&&e.startsWith("data-")}function Jl(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(D7(r)||L7(r))&&(t[r]=e[r]);return t}function np(e){if(e==null)return null;if(D.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Jl(t)}return typeof e=="object"&&!Array.isArray(e)?Jl(e):null}function xl(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(D7(r)||L7(r)||x3(r))&&(t[r]=e[r]);return t}var O$=["children","width","height","viewBox","className","style","title","desc"];function H5(){return H5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H5.apply(null,arguments)}function T$(e,t){if(e==null)return{};var r,n,i=I$(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function I$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var w3=D.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:u,title:d,desc:c}=e,h=T$(e,O$),m=a||{width:n,height:i,x:0,y:0},b=On("recharts-surface",o);return D.createElement("svg",H5({},xl(h),{className:b,width:n,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),D.createElement("title",null,d),D.createElement("desc",null,c),r)}),k$=["children","className"];function G5(){return G5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G5.apply(null,arguments)}function M$(e,t){if(e==null)return{};var r,n,i=j$(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function j$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ro=D.forwardRef((e,t)=>{var{children:r,className:n}=e,i=M$(e,k$),a=On("recharts-layer",n);return D.createElement("g",G5({className:a},xl(i),{ref:t}),r)}),B7=D.createContext(null),R$=()=>D.useContext(B7);function oi(e){return function(){return e}}const F7=Math.cos,Ov=Math.sin,ic=Math.sqrt,Tv=Math.PI,W2=2*Tv,W5=Math.PI,$5=2*W5,cd=1e-6,P$=$5-cd;function U7(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function D$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return U7;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class L${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?U7:D$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,u=this._y1,d=n-t,c=i-r,h=o-t,m=u-r,b=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(b>cd)if(!(Math.abs(m*d-c*h)>cd)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-o,E=i-u,C=d*d+c*c,T=x*x+E*E,I=Math.sqrt(C),B=Math.sqrt(b),U=a*Math.tan((W5-Math.acos((C+b-T)/(2*I*B)))/2),F=U/B,K=U/I;Math.abs(F-1)>cd&&this._append`L${t+F*h},${r+F*m}`,this._append`A${a},${a},0,0,${+(m*x>h*E)},${this._x1=t+K*d},${this._y1=r+K*c}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),d=n*Math.sin(i),c=t+u,h=r+d,m=1^o,b=o?i-a:a-i;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>cd||Math.abs(this._y1-h)>cd)&&this._append`L${c},${h}`,n&&(b<0&&(b=b%$5+$5),b>P$?this._append`A${n},${n},0,1,${m},${t-u},${r-d}A${n},${n},0,1,${m},${this._x1=c},${this._y1=h}`:b>cd&&this._append`A${n},${n},0,${+(b>=W5)},${m},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function _3(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new L$(t)}function A3(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function z7(e){this._context=e}z7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function $2(e){return new z7(e)}function q7(e){return e[0]}function H7(e){return e[1]}function G7(e,t){var r=oi(!0),n=null,i=$2,a=null,o=_3(u);e=typeof e=="function"?e:e===void 0?q7:oi(e),t=typeof t=="function"?t:t===void 0?H7:oi(t);function u(d){var c,h=(d=A3(d)).length,m,b=!1,x;for(n==null&&(a=i(x=o())),c=0;c<=h;++c)!(c<h&&r(m=d[c],c,d))===b&&((b=!b)?a.lineStart():a.lineEnd()),b&&a.point(+e(m,c,d),+t(m,c,d));if(x)return a=null,x+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:oi(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:oi(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:oi(!!d),u):r},u.curve=function(d){return arguments.length?(i=d,n!=null&&(a=i(n)),u):i},u.context=function(d){return arguments.length?(d==null?n=a=null:a=i(n=d),u):n},u}function Jg(e,t,r){var n=null,i=oi(!0),a=null,o=$2,u=null,d=_3(c);e=typeof e=="function"?e:e===void 0?q7:oi(+e),t=typeof t=="function"?t:oi(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?H7:oi(+r);function c(m){var b,x,E,C=(m=A3(m)).length,T,I=!1,B,U=new Array(C),F=new Array(C);for(a==null&&(u=o(B=d())),b=0;b<=C;++b){if(!(b<C&&i(T=m[b],b,m))===I)if(I=!I)x=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),E=b-1;E>=x;--E)u.point(U[E],F[E]);u.lineEnd(),u.areaEnd()}I&&(U[b]=+e(T,b,m),F[b]=+t(T,b,m),u.point(n?+n(T,b,m):U[b],r?+r(T,b,m):F[b]))}if(B)return u=null,B+""||null}function h(){return G7().defined(i).curve(o).context(a)}return c.x=function(m){return arguments.length?(e=typeof m=="function"?m:oi(+m),n=null,c):e},c.x0=function(m){return arguments.length?(e=typeof m=="function"?m:oi(+m),c):e},c.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:oi(+m),c):n},c.y=function(m){return arguments.length?(t=typeof m=="function"?m:oi(+m),r=null,c):t},c.y0=function(m){return arguments.length?(t=typeof m=="function"?m:oi(+m),c):t},c.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:oi(+m),c):r},c.lineX0=c.lineY0=function(){return h().x(e).y(t)},c.lineY1=function(){return h().x(e).y(r)},c.lineX1=function(){return h().x(n).y(t)},c.defined=function(m){return arguments.length?(i=typeof m=="function"?m:oi(!!m),c):i},c.curve=function(m){return arguments.length?(o=m,a!=null&&(u=o(a)),c):o},c.context=function(m){return arguments.length?(m==null?a=u=null:u=o(a=m),c):a},c}class W7{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function B$(e){return new W7(e,!0)}function F$(e){return new W7(e,!1)}const S3={draw(e,t){const r=ic(t/Tv);e.moveTo(r,0),e.arc(0,0,r,0,W2)}},U$={draw(e,t){const r=ic(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},$7=ic(1/3),z$=$7*2,q$={draw(e,t){const r=ic(t/z$),n=r*$7;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},H$={draw(e,t){const r=ic(t),n=-r/2;e.rect(n,n,r,r)}},G$=.8908130915292852,V7=Ov(Tv/10)/Ov(7*Tv/10),W$=Ov(W2/10)*V7,$$=-F7(W2/10)*V7,V$={draw(e,t){const r=ic(t*G$),n=W$*r,i=$$*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=W2*a/5,u=F7(o),d=Ov(o);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*i,d*n+u*i)}e.closePath()}},xx=ic(3),Y$={draw(e,t){const r=-ic(t/(xx*3));e.moveTo(0,r*2),e.lineTo(-xx*r,-r),e.lineTo(xx*r,-r),e.closePath()}},gl=-.5,ml=ic(3)/2,V5=1/ic(12),X$=(V5/2+1)*3,K$={draw(e,t){const r=ic(t/X$),n=r/2,i=r*V5,a=n,o=r*V5+r,u=-a,d=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(u,d),e.lineTo(gl*n-ml*i,ml*n+gl*i),e.lineTo(gl*a-ml*o,ml*a+gl*o),e.lineTo(gl*u-ml*d,ml*u+gl*d),e.lineTo(gl*n+ml*i,gl*i-ml*n),e.lineTo(gl*a+ml*o,gl*o-ml*a),e.lineTo(gl*u+ml*d,gl*d-ml*u),e.closePath()}};function Z$(e,t){let r=null,n=_3(i);e=typeof e=="function"?e:oi(e||S3),t=typeof t=="function"?t:oi(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:oi(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:oi(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Iv(){}function kv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Y7(e){this._context=e}Y7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Q$(e){return new Y7(e)}function X7(e){this._context=e}X7.prototype={areaStart:Iv,areaEnd:Iv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:kv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function J$(e){return new X7(e)}function K7(e){this._context=e}K7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:kv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eV(e){return new K7(e)}function Z7(e){this._context=e}Z7.prototype={areaStart:Iv,areaEnd:Iv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function tV(e){return new Z7(e)}function zC(e){return e<0?-1:1}function qC(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),u=(a*i+o*n)/(n+i);return(zC(a)+zC(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function HC(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function wx(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,u=(a-n)/3;e._context.bezierCurveTo(n+u,i+u*t,a-u,o-u*r,a,o)}function Mv(e){this._context=e}Mv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wx(this,this._t0,HC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,wx(this,HC(this,r=qC(this,e,t)),r);break;default:wx(this,this._t0,r=qC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Q7(e){this._context=new J7(e)}(Q7.prototype=Object.create(Mv.prototype)).point=function(e,t){Mv.prototype.point.call(this,t,e)};function J7(e){this._context=e}J7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function rV(e){return new Mv(e)}function nV(e){return new Q7(e)}function ej(e){this._context=e}ej.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=GC(e),i=GC(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function GC(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function iV(e){return new ej(e)}function V2(e,t){this._context=e,this._t=t}V2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function aV(e){return new V2(e,.5)}function sV(e){return new V2(e,0)}function oV(e){return new V2(e,1)}function Nd(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,u=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Y5(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function lV(e,t){return e[t]}function cV(e){const t=[];return t.key=e,t}function uV(){var e=oi([]),t=Y5,r=Nd,n=lV;function i(a){var o=Array.from(e.apply(this,arguments),cV),u,d=o.length,c=-1,h;for(const m of a)for(u=0,++c;u<d;++u)(o[u][c]=[0,+n(m,o[u].key,c,a)]).data=m;for(u=0,h=A3(t(o));u<d;++u)o[h[u]].index=u;return r(o,h),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:oi(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:oi(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Y5:typeof a=="function"?a:oi(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Nd,i):r},i}function fV(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Nd(e,t)}}function dV(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,u=0;o<i;++o)u+=e[o][r][1]||0;n[r][1]+=n[r][0]=-u/2}Nd(e,t)}}function hV(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var u=0,d=0,c=0;u<o;++u){for(var h=e[t[u]],m=h[n][1]||0,b=h[n-1][1]||0,x=(m-b)/2,E=0;E<u;++E){var C=e[t[E]],T=C[n][1]||0,I=C[n-1][1]||0;x+=T-I}d+=m,c+=x*m}i[n-1][1]+=i[n-1][0]=r,d&&(r-=c/d)}i[n-1][1]+=i[n-1][0]=r,Nd(e,t)}}var _x={},Ax={},WC;function pV(){return WC||(WC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Ax)),Ax}var Sx={},$C;function tj(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Sx)),Sx}var Ex={},VC;function E3(){return VC||(VC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Ex)),Ex}var Cx={},Nx={},YC;function gV(){return YC||(YC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Nx)),Nx}var XC;function C3(){return XC||(XC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gV(),r=E3();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let u=0,d="",c="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),u++);u<o;){const m=i[u];c?m==="\\"&&u+1<o?(u++,d+=i[u]):m===c?c="":d+=m:h?m==='"'||m==="'"?c=m:m==="]"?(h=!1,a.push(d),d=""):d+=m:m==="["?(h=!0,d&&(a.push(d),d="")):m==="."?d&&(a.push(d),d=""):d+=m,u++}return d&&a.push(d),a}e.toPath=n})(Cx)),Cx}var KC;function N3(){return KC||(KC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pV(),r=tj(),n=E3(),i=C3();function a(u,d,c){if(u==null)return c;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return c;const h=u[d];return h===void 0?r.isDeepKey(d)?a(u,i.toPath(d),c):c:h}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const h=u[d];return h===void 0?c:h}default:{if(Array.isArray(d))return o(u,d,c);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return c;const h=u[d];return h===void 0?c:h}}}function o(u,d,c){if(d.length===0)return c;let h=u;for(let m=0;m<d.length;m++){if(h==null||t.isUnsafeProperty(d[m]))return c;h=h[d[m]]}return h===void 0?c:h}e.get=a})(_x)),_x}var Ox,ZC;function mV(){return ZC||(ZC=1,Ox=N3().get),Ox}var vV=mV();const Od=qc(vV);var yV=4;function Nf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yV,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Zi(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,a,o)=>{var u=r[o-1];return typeof u=="string"?i+u+a:u!==void 0?i+Nf(u)+a:i+a},"")}var ss=e=>e===0?0:e>0?1:-1,Bc=e=>typeof e=="number"&&e!=+e,Td=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Yt=e=>(typeof e=="number"||e instanceof Number)&&!Bc(e),Fc=e=>Yt(e)||typeof e=="string",bV=0,ip=e=>{var t=++bV;return"".concat(e||"").concat(t)},Us=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Yt(t)&&typeof t!="string")return n;var a;if(Td(t)){if(r==null)return n;var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return Bc(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},rj=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function La(e,t,r){return Yt(e)&&Yt(t)?Nf(e+r*(t-e)):t}function xV(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Od(n,t))===r)}var os=e=>e===null||typeof e>"u",Op=e=>os(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Oo(e){return e!=null}function _0(){}var wV=["type","size","sizeType"];function X5(){return X5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X5.apply(null,arguments)}function QC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(r),!0).forEach(function(n){_V(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _V(e,t,r){return(t=AV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AV(e){var t=SV(e,"string");return typeof t=="symbol"?t:t+""}function SV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EV(e,t){if(e==null)return{};var r,n,i=CV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function CV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nj={symbolCircle:S3,symbolCross:U$,symbolDiamond:q$,symbolSquare:H$,symbolStar:V$,symbolTriangle:Y$,symbolWye:K$},NV=Math.PI/180,OV=e=>{var t="symbol".concat(Op(e));return nj[t]||S3},TV=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*NV;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},IV=(e,t)=>{nj["symbol".concat(Op(e))]=t},O3=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=EV(e,wV),a=JC(JC({},i),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var u=()=>{var b=OV(o),x=Z$().type(b).size(TV(r,n,o)),E=x();if(E!==null)return E},{className:d,cx:c,cy:h}=a,m=xl(a);return Yt(c)&&Yt(h)&&Yt(r)?D.createElement("path",X5({},m,{className:On("recharts-symbols",d),transform:"translate(".concat(c,", ").concat(h,")"),d:u()})):null};O3.registerSymbol=IV;var ij=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,kV=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(D.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{x3(i)&&(n[i]=(a=>r[i](r,a)))}),n},MV=(e,t,r)=>n=>(e(t,r,n),null),Tp=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];x3(i)&&typeof a=="function"&&(n||(n={}),n[i]=MV(a,t,r))}),n};function eN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(r),!0).forEach(function(n){RV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RV(e,t,r){return(t=PV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PV(e){var t=DV(e,"string");return typeof t=="symbol"?t:t+""}function DV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ls(e,t){var r=jV({},e),n=t,i=Object.keys(t),a=i.reduce((o,u)=>(o[u]===void 0&&n[u]!==void 0&&(o[u]=n[u]),o),r);return a}function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jv.apply(null,arguments)}function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(n){BV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BV(e,t,r){return(t=FV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FV(e){var t=UV(e,"string");return typeof t=="symbol"?t:t+""}function UV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yl=32,zV={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function qV(e){var{data:t,iconType:r,inactiveColor:n}=e,i=yl/2,a=yl/6,o=yl/3,u=t.inactive?n:t.color,d=r??t.type;if(d==="none")return null;if(d==="plainline"){var c;return D.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:yl,y2:i,className:"recharts-legend-icon"})}if(d==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(yl,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return D.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(yl/8,"h").concat(yl,"v").concat(yl*3/4,"h").concat(-yl,"z"),className:"recharts-legend-icon"});if(D.isValidElement(t.legendIcon)){var h=LV({},t);return delete h.legendIcon,D.cloneElement(t.legendIcon,h)}return D.createElement(O3,{fill:u,cx:i,cy:i,size:yl,sizeType:"diameter",type:d})}function HV(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:o}=e,u={x:0,y:0,width:yl,height:yl},d={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,m)=>{var b=h.formatter||i,x=On({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var E=h.inactive?a:h.color,C=b?b(h.value,h,m):h.value;return D.createElement("li",jv({className:x,style:d,key:"legend-item-".concat(m)},Tp(e,h,m)),D.createElement(w3,{width:r,height:r,viewBox:u,style:c,"aria-label":"".concat(C," legend icon")},D.createElement(qV,{data:h,iconType:o,inactiveColor:a})),D.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},C))})}var GV=e=>{var t=ls(e,zV),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:a},D.createElement(HV,jv({},t,{payload:r})))},Tx={},Ix={},rN;function WV(){return rN||(rN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],u=n(o,a,r);i.has(u)||i.set(u,o)}return Array.from(i.values())}e.uniqBy=t})(Ix)),Ix}var kx={},nN;function $V(){return nN||(nN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}e.ary=t})(kx)),kx}var Mx={},iN;function aj(){return iN||(iN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Mx)),Mx}var jx={},Rx={},Px={},aN;function VV(){return aN||(aN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Px)),Px}var sN;function T3(){return sN||(sN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VV();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Rx)),Rx}var Dx={},oN;function YV(){return oN||(oN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Dx)),Dx}var lN;function XV(){return lN||(lN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T3(),r=YV();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(jx)),jx}var Lx={},Bx={},cN;function KV(){return cN||(cN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N3();function r(n){return function(i){return t.get(i,n)}}e.property=r})(Bx)),Bx}var Fx={},Ux={},zx={},qx={},uN;function sj(){return uN||(uN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(qx)),qx}var Hx={},fN;function oj(){return fN||(fN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Hx)),Hx}var Gx={},dN;function lj(){return dN||(dN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(Gx)),Gx}var hN;function ZV(){return hN||(hN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sj(),r=oj(),n=lj();function i(h,m,b){return typeof b!="function"?i(h,m,()=>{}):a(h,m,function x(E,C,T,I,B,U){const F=b(E,C,T,I,B,U);return F!==void 0?!!F:a(E,C,x,U)},new Map)}function a(h,m,b,x){if(m===h)return!0;switch(typeof m){case"object":return o(h,m,b,x);case"function":return Object.keys(m).length>0?a(h,{...m},b,x):n.isEqualsSameValueZero(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:n.isEqualsSameValueZero(h,m)}}function o(h,m,b,x){if(m==null)return!0;if(Array.isArray(m))return d(h,m,b,x);if(m instanceof Map)return u(h,m,b,x);if(m instanceof Set)return c(h,m,b,x);const E=Object.keys(m);if(h==null||r.isPrimitive(h))return E.length===0;if(E.length===0)return!0;if(x!=null&&x.has(m))return x.get(m)===h;x==null||x.set(m,h);try{for(let C=0;C<E.length;C++){const T=E[C];if(!r.isPrimitive(h)&&!(T in h)||m[T]===void 0&&h[T]!==void 0||m[T]===null&&h[T]!==null||!b(h[T],m[T],T,h,m,x))return!1}return!0}finally{x==null||x.delete(m)}}function u(h,m,b,x){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[E,C]of m.entries()){const T=h.get(E);if(b(T,C,E,h,m,x)===!1)return!1}return!0}function d(h,m,b,x){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const E=new Set;for(let C=0;C<m.length;C++){const T=m[C];let I=!1;for(let B=0;B<h.length;B++){if(E.has(B))continue;const U=h[B];let F=!1;if(b(U,T,C,h,m,x)&&(F=!0),F){E.add(B),I=!0;break}}if(!I)return!1}return!0}function c(h,m,b,x){return m.size===0?!0:h instanceof Set?d([...h],[...m],b,x):!1}e.isMatchWith=i,e.isSetMatch=c})(zx)),zx}var pN;function cj(){return pN||(pN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZV();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(Ux)),Ux}var Wx={},$x={},Vx={},gN;function QV(){return gN||(gN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Vx)),Vx}var Yx={},mN;function I3(){return mN||(mN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Yx)),Yx}var Xx={},vN;function uj(){return vN||(vN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",u="[object Date]",d="[object Map]",c="[object Set]",h="[object Array]",m="[object Function]",b="[object ArrayBuffer]",x="[object Object]",E="[object Error]",C="[object DataView]",T="[object Uint8Array]",I="[object Uint8ClampedArray]",B="[object Uint16Array]",U="[object Uint32Array]",F="[object BigUint64Array]",K="[object Int8Array]",Z="[object Int16Array]",V="[object Int32Array]",Q="[object BigInt64Array]",q="[object Float32Array]",se="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=b,e.arrayTag=h,e.bigInt64ArrayTag=Q,e.bigUint64ArrayTag=F,e.booleanTag=i,e.dataViewTag=C,e.dateTag=u,e.errorTag=E,e.float32ArrayTag=q,e.float64ArrayTag=se,e.functionTag=m,e.int16ArrayTag=Z,e.int32ArrayTag=V,e.int8ArrayTag=K,e.mapTag=d,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=B,e.uint32ArrayTag=U,e.uint8ArrayTag=T,e.uint8ClampedArrayTag=I})(Xx)),Xx}var Kx={},yN;function JV(){return yN||(yN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Kx)),Kx}var bN;function fj(){return bN||(bN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QV(),r=I3(),n=uj(),i=oj(),a=JV();function o(h,m){return u(h,void 0,h,new Map,m)}function u(h,m,b,x=new Map,E=void 0){const C=E==null?void 0:E(h,m,b,x);if(C!==void 0)return C;if(i.isPrimitive(h))return h;if(x.has(h))return x.get(h);if(Array.isArray(h)){const T=new Array(h.length);x.set(h,T);for(let I=0;I<h.length;I++)T[I]=u(h[I],I,b,x,E);return Object.hasOwn(h,"index")&&(T.index=h.index),Object.hasOwn(h,"input")&&(T.input=h.input),T}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const T=new RegExp(h.source,h.flags);return T.lastIndex=h.lastIndex,T}if(h instanceof Map){const T=new Map;x.set(h,T);for(const[I,B]of h)T.set(I,u(B,I,b,x,E));return T}if(h instanceof Set){const T=new Set;x.set(h,T);for(const I of h)T.add(u(I,void 0,b,x,E));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const T=new(Object.getPrototypeOf(h)).constructor(h.length);x.set(h,T);for(let I=0;I<h.length;I++)T[I]=u(h[I],I,b,x,E);return T}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const T=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return x.set(h,T),d(T,h,b,x,E),T}if(typeof File<"u"&&h instanceof File){const T=new File([h],h.name,{type:h.type});return x.set(h,T),d(T,h,b,x,E),T}if(typeof Blob<"u"&&h instanceof Blob){const T=new Blob([h],{type:h.type});return x.set(h,T),d(T,h,b,x,E),T}if(h instanceof Error){const T=new h.constructor;return x.set(h,T),T.message=h.message,T.name=h.name,T.stack=h.stack,T.cause=h.cause,d(T,h,b,x,E),T}if(h instanceof Boolean){const T=new Boolean(h.valueOf());return x.set(h,T),d(T,h,b,x,E),T}if(h instanceof Number){const T=new Number(h.valueOf());return x.set(h,T),d(T,h,b,x,E),T}if(h instanceof String){const T=new String(h.valueOf());return x.set(h,T),d(T,h,b,x,E),T}if(typeof h=="object"&&c(h)){const T=Object.create(Object.getPrototypeOf(h));return x.set(h,T),d(T,h,b,x,E),T}return h}function d(h,m,b=h,x,E){const C=[...Object.keys(m),...t.getSymbols(m)];for(let T=0;T<C.length;T++){const I=C[T],B=Object.getOwnPropertyDescriptor(h,I);(B==null||B.writable)&&(h[I]=u(m[I],I,b,x,E))}}function c(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=u,e.copyProperties=d})($x)),$x}var xN;function eY(){return xN||(xN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fj();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Wx)),Wx}var wN;function tY(){return wN||(wN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cj(),r=eY();function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(Fx)),Fx}var Zx={},Qx={},Jx={},_N;function rY(){return _N||(_N=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fj(),r=I3(),n=uj();function i(a,o){return t.cloneDeepWith(a,(u,d,c,h)=>{const m=o==null?void 0:o(u,d,c,h);if(m!==void 0)return m;if(typeof a=="object"){if(r.getTag(a)===n.objectTag&&typeof a.constructor!="function"){const b={};return h.set(a,b),t.copyProperties(b,a,c,h),b}switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const b=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(b,a),b}case n.argumentsTag:{const b={};return t.copyProperties(b,a),b.length=a.length,b[Symbol.iterator]=a[Symbol.iterator],b}default:return}}})}e.cloneDeepWith=i})(Jx)),Jx}var AN;function nY(){return AN||(AN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rY();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Qx)),Qx}var ew={},tw={},SN;function dj(){return SN||(SN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(tw)),tw}var rw={},EN;function iY(){return EN||(EN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I3();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(rw)),rw}var CN;function aY(){return CN||(CN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tj(),r=dj(),n=iY(),i=C3();function a(o,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&(o==null?void 0:o[u])==null?d=i.toPath(u):d=[u],d.length===0)return!1;let c=o;for(let h=0;h<d.length;h++){const m=d[h];if((c==null||!Object.hasOwn(c,m))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(m)&&m<c.length))return!1;c=c[m]}return!0}e.has=a})(ew)),ew}var NN;function sY(){return NN||(NN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cj(),r=E3(),n=nY(),i=N3(),a=aY();function o(u,d){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return d=n.cloneDeep(d),function(c){const h=i.get(c,u);return h===void 0?a.has(c,u):d===void 0?h===void 0:t.isMatch(h,d)}}e.matchesProperty=o})(Zx)),Zx}var ON;function oY(){return ON||(ON=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aj(),r=KV(),n=tY(),i=sY();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=a})(Lx)),Lx}var TN;function lY(){return TN||(TN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WV(),r=$V(),n=aj(),i=XV(),a=oY();function o(u,d=n.identity){return i.isArrayLikeObject(u)?t.uniqBy(Array.from(u),r.ary(a.iteratee(d),1)):[]}e.uniqBy=o})(Tx)),Tx}var nw,IN;function cY(){return IN||(IN=1,nw=lY().uniqBy),nw}var uY=cY();const kN=qc(uY);function hj(e,t,r){return t===!0?kN(e,r):typeof t=="function"?kN(e,t):e}var iw={exports:{}},aw={},sw={exports:{}},ow={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MN;function fY(){if(MN)return ow;MN=1;var e=m0();function t(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function u(m,b){var x=b(),E=n({inst:{value:x,getSnapshot:b}}),C=E[0].inst,T=E[1];return a(function(){C.value=x,C.getSnapshot=b,d(C)&&T({inst:C})},[m,x,b]),i(function(){return d(C)&&T({inst:C}),m(function(){d(C)&&T({inst:C})})},[m]),o(x),x}function d(m){var b=m.getSnapshot;m=m.value;try{var x=b();return!r(m,x)}catch{return!0}}function c(m,b){return b()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:u;return ow.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,ow}var jN;function dY(){return jN||(jN=1,sw.exports=fY()),sw.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RN;function hY(){if(RN)return aw;RN=1;var e=m0(),t=dY();function r(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,u=e.useMemo,d=e.useDebugValue;return aw.useSyncExternalStoreWithSelector=function(c,h,m,b,x){var E=a(null);if(E.current===null){var C={hasValue:!1,value:null};E.current=C}else C=E.current;E=u(function(){function I(Z){if(!B){if(B=!0,U=Z,Z=b(Z),x!==void 0&&C.hasValue){var V=C.value;if(x(V,Z))return F=V}return F=Z}if(V=F,n(U,Z))return V;var Q=b(Z);return x!==void 0&&x(V,Q)?(U=Z,V):(U=Z,F=Q)}var B=!1,U,F,K=m===void 0?null:m;return[function(){return I(h())},K===null?void 0:function(){return I(K())}]},[h,m,b,x]);var T=i(c,E[0],E[1]);return o(function(){C.hasValue=!0,C.value=T},[T]),d(T),T},aw}var PN;function pY(){return PN||(PN=1,iw.exports=hY()),iw.exports}var gY=pY(),k3=D.createContext(null),mY=e=>e,li=()=>{var e=D.useContext(k3);return e?e.store.dispatch:mY},fv=()=>{},vY=()=>fv,yY=(e,t)=>e===t;function Jt(e){var t=D.useContext(k3),r=D.useMemo(()=>t?n=>{if(n!=null)return e(n)}:fv,[t,e]);return gY.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:vY,t?t.store.getState:fv,t?t.store.getState:fv,r,yY)}function bY(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function xY(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function wY(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var DN=e=>Array.isArray(e)?e:[e];function _Y(e){const t=Array.isArray(e[0])?e[0]:e;return wY(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function AY(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var SY=class{constructor(e){this.value=e}deref(){return this.value}},EY=typeof WeakRef<"u"?WeakRef:SY,CY=0,LN=1;function em(){return{s:CY,v:void 0,o:null,p:null}}function pj(e,t={}){let r=em();const{resultEqualityCheck:n}=t;let i,a=0;function o(){var m;let u=r;const{length:d}=arguments;for(let b=0,x=d;b<x;b++){const E=arguments[b];if(typeof E=="function"||typeof E=="object"&&E!==null){let C=u.o;C===null&&(u.o=C=new WeakMap);const T=C.get(E);T===void 0?(u=em(),C.set(E,u)):u=T}else{let C=u.p;C===null&&(u.p=C=new Map);const T=C.get(E);T===void 0?(u=em(),C.set(E,u)):u=T}}const c=u;let h;if(u.s===LN)h=u.v;else if(h=e.apply(null,arguments),a++,n){const b=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;b!=null&&n(b,h)&&(h=b,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new EY(h):h}return c.s=LN,c.v=h,h}return o.clearCache=()=>{r=em(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function NY(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,o=0,u,d={},c=i.pop();typeof c=="object"&&(d=c,c=i.pop()),bY(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const h={...r,...d},{memoize:m,memoizeOptions:b=[],argsMemoize:x=pj,argsMemoizeOptions:E=[]}=h,C=DN(b),T=DN(E),I=_Y(i),B=m(function(){return a++,c.apply(null,arguments)},...C),U=x(function(){o++;const K=AY(I,arguments);return u=B.apply(null,K),u},...T);return Object.assign(U,{resultFunc:c,memoizedResultFunc:B,dependencies:I,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:m,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var Ke=NY(pj),OY=Object.assign((e,t=Ke)=>{xY(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((o,u,d)=>(o[r[d]]=u,o),{}))},{withTypes:()=>OY}),lw={},cw={},uw={},BN;function TY(){return BN||(BN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=t(n),u=t(i);if(o===u&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?u-o:o-u}return 0};e.compareValues=r})(uw)),uw}var fw={},dw={},FN;function gj(){return FN||(FN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(dw)),dw}var UN;function IY(){return UN||(UN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gj(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(fw)),fw}var zN;function kY(){return zN||(zN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TY(),r=IY(),n=C3();function i(a,o,u,d){if(a==null)return[];u=d?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(x=>String(x));const c=(x,E)=>{let C=x;for(let T=0;T<E.length&&C!=null;++T)C=C[E[T]];return C},h=(x,E)=>E==null||x==null?E:typeof x=="object"&&"key"in x?Object.hasOwn(E,x.key)?E[x.key]:c(E,x.path):typeof x=="function"?x(E):Array.isArray(x)?c(E,x):typeof E=="object"?E[x]:E,m=o.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return a.map(x=>({original:x,criteria:m.map(E=>h(E,x))})).slice().sort((x,E)=>{for(let C=0;C<m.length;C++){const T=t.compareValues(x.criteria[C],E.criteria[C],u[C]);if(T!==0)return T}return 0}).map(x=>x.original)}e.orderBy=i})(cw)),cw}var hw={},qN;function MY(){return qN||(qN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),o=(u,d)=>{for(let c=0;c<u.length;c++){const h=u[c];Array.isArray(h)&&d<a?o(h,d+1):i.push(h)}};return o(r,0),i}e.flatten=t})(hw)),hw}var pw={},HN;function mj(){return HN||(HN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dj(),r=T3(),n=sj(),i=lj();function a(o,u,d){return n.isObject(d)&&(typeof u=="number"&&r.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.isEqualsSameValueZero(d[u],o):!1}e.isIterateeCall=a})(pw)),pw}var GN;function jY(){return GN||(GN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kY(),r=MY(),n=mj();function i(a,...o){const u=o.length;return u>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:u>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,r.flatten(o),["asc"])}e.sortBy=i})(lw)),lw}var gw,WN;function RY(){return WN||(WN=1,gw=jY().sortBy),gw}var PY=RY();const Y2=qc(PY);var vj=e=>e.legend.settings,DY=e=>e.legend.size,LY=e=>e.legend.payload,BY=Ke([LY,vj],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Y2(n,r):n});function FY(){return Jt(BY)}var tm=1;function yj(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=D.useState({height:0,left:0,top:0,width:0}),n=D.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>tm||Math.abs(o.left-t.left)>tm||Math.abs(o.top-t.top)>tm||Math.abs(o.width-t.width)>tm)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function xs(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var UY=typeof Symbol=="function"&&Symbol.observable||"@@observable",$N=UY,mw=()=>Math.random().toString(36).substring(7).split("").join("."),zY={INIT:`@@redux/INIT${mw()}`,REPLACE:`@@redux/REPLACE${mw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${mw()}`},Rv=zY;function M3(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function bj(e,t,r){if(typeof e!="function")throw new Error(xs(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(xs(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(xs(1));return r(bj)(e,t)}let n=e,i=t,a=new Map,o=a,u=0,d=!1;function c(){o===a&&(o=new Map,a.forEach((T,I)=>{o.set(I,T)}))}function h(){if(d)throw new Error(xs(3));return i}function m(T){if(typeof T!="function")throw new Error(xs(4));if(d)throw new Error(xs(5));let I=!0;c();const B=u++;return o.set(B,T),function(){if(I){if(d)throw new Error(xs(6));I=!1,c(),o.delete(B),a=null}}}function b(T){if(!M3(T))throw new Error(xs(7));if(typeof T.type>"u")throw new Error(xs(8));if(typeof T.type!="string")throw new Error(xs(17));if(d)throw new Error(xs(9));try{d=!0,i=n(i,T)}finally{d=!1}return(a=o).forEach(B=>{B()}),T}function x(T){if(typeof T!="function")throw new Error(xs(10));n=T,b({type:Rv.REPLACE})}function E(){const T=m;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(xs(11));function B(){const F=I;F.next&&F.next(h())}return B(),{unsubscribe:T(B)}},[$N](){return this}}}return b({type:Rv.INIT}),{dispatch:b,subscribe:m,getState:h,replaceReducer:x,[$N]:E}}function qY(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Rv.INIT})>"u")throw new Error(xs(12));if(typeof r(void 0,{type:Rv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xs(13))})}function xj(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{qY(r)}catch(a){i=a}return function(o={},u){if(i)throw i;let d=!1;const c={};for(let h=0;h<n.length;h++){const m=n[h],b=r[m],x=o[m],E=b(x,u);if(typeof E>"u")throw u&&u.type,new Error(xs(14));c[m]=E,d=d||E!==x}return d=d||n.length!==Object.keys(o).length,d?c:o}}function Pv(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function HY(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(xs(15))};const o={getState:i.getState,dispatch:(d,...c)=>a(d,...c)},u=e.map(d=>d(o));return a=Pv(...u)(i.dispatch),{...i,dispatch:a}}}function wj(e){return M3(e)&&"type"in e&&typeof e.type=="string"}var _j=Symbol.for("immer-nothing"),VN=Symbol.for("immer-draftable"),no=Symbol.for("immer-state");function Yl(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Qo=Object,l0=Qo.getPrototypeOf,Dv="constructor",X2="prototype",K5="configurable",Lv="enumerable",dv="writable",ap="value",Nu=e=>!!e&&!!e[no];function ec(e){var t;return e?Aj(e)||Z2(e)||!!e[VN]||!!((t=e[Dv])!=null&&t[VN])||Q2(e)||J2(e):!1}var GY=Qo[X2][Dv].toString(),YN=new WeakMap;function Aj(e){if(!e||!j3(e))return!1;const t=l0(e);if(t===null||t===Qo[X2])return!0;const r=Qo.hasOwnProperty.call(t,Dv)&&t[Dv];if(r===Object)return!0;if(!Gh(r))return!1;let n=YN.get(r);return n===void 0&&(n=Function.toString.call(r),YN.set(r,n)),n===GY}function K2(e,t,r=!0){Ip(e)===0?(r?Reflect.ownKeys(e):Qo.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Ip(e){const t=e[no];return t?t.type_:Z2(e)?1:Q2(e)?2:J2(e)?3:0}var XN=(e,t,r=Ip(e))=>r===2?e.has(t):Qo[X2].hasOwnProperty.call(e,t),Z5=(e,t,r=Ip(e))=>r===2?e.get(t):e[t],Bv=(e,t,r,n=Ip(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function WY(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Z2=Array.isArray,Q2=e=>e instanceof Map,J2=e=>e instanceof Set,j3=e=>typeof e=="object",Gh=e=>typeof e=="function",vw=e=>typeof e=="boolean";function $Y(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var mu=e=>e.copy_||e.base_,R3=e=>e.modified_?e.copy_:e.base_;function Q5(e,t){if(Q2(e))return new Map(e);if(J2(e))return new Set(e);if(Z2(e))return Array[X2].slice.call(e);const r=Aj(e);if(t===!0||t==="class_only"&&!r){const n=Qo.getOwnPropertyDescriptors(e);delete n[no];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],u=n[o];u[dv]===!1&&(u[dv]=!0,u[K5]=!0),(u.get||u.set)&&(n[o]={[K5]:!0,[dv]:!0,[Lv]:u[Lv],[ap]:e[o]})}return Qo.create(l0(e),n)}else{const n=l0(e);if(n!==null&&r)return{...e};const i=Qo.create(n);return Qo.assign(i,e)}}function P3(e,t=!1){return ey(e)||Nu(e)||!ec(e)||(Ip(e)>1&&Qo.defineProperties(e,{set:rm,add:rm,clear:rm,delete:rm}),Qo.freeze(e),t&&K2(e,(r,n)=>{P3(n,!0)},!1)),e}function VY(){Yl(2)}var rm={[ap]:VY};function ey(e){return e===null||!j3(e)?!0:Qo.isFrozen(e)}var Fv="MapSet",J5="Patches",KN="ArrayMethods",Sj={};function Id(e){const t=Sj[e];return t||Yl(0,e),t}var ZN=e=>!!Sj[e],sp,Ej=()=>sp,YY=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:ZN(Fv)?Id(Fv):void 0,arrayMethodsPlugin_:ZN(KN)?Id(KN):void 0});function QN(e,t){t&&(e.patchPlugin_=Id(J5),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function e_(e){t_(e),e.drafts_.forEach(XY),e.drafts_=null}function t_(e){e===sp&&(sp=e.parent_)}var JN=e=>sp=YY(sp,e);function XY(e){const t=e[no];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function e6(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[no].modified_&&(e_(t),Yl(4)),ec(e)&&(e=t6(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[no].base_,e,t)}else e=t6(t,r);return KY(t,e,!0),e_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==_j?e:void 0}function t6(e,t){if(ey(t))return t;const r=t[no];if(!r)return Uv(t,e.handledSet_,e);if(!ty(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);Oj(r,e)}return r.copy_}function KY(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&P3(t,r)}function Cj(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var ty=(e,t)=>e.scope_===t,ZY=[];function Nj(e,t,r,n){const i=mu(e),a=e.type_;if(n!==void 0&&Z5(i,n,a)===t){Bv(i,n,r,a);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;K2(i,(d,c)=>{if(Nu(c)){const h=u.get(c)||[];h.push(d),u.set(c,h)}})}const o=e.draftLocations_.get(t)??ZY;for(const u of o)Bv(i,u,r,a)}function QY(e,t,r){e.callbacks_.push(function(i){var u;const a=t;if(!a||!ty(a,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(a);const o=R3(a);Nj(e,a.draft_??a,o,r),Oj(a,i)})}function Oj(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}Cj(e)}}function JY(e,t,r){const{scope_:n}=e;if(Nu(r)){const i=r[no];ty(i,n)&&i.callbacks_.push(function(){hv(e);const o=R3(i);Nj(e,r,o,t)})}else ec(r)&&e.callbacks_.push(function(){const a=mu(e);e.type_===3?a.has(r)&&Uv(r,n.handledSet_,n):Z5(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Uv(Z5(e.copy_,t,e.type_),n.handledSet_,n)})}function Uv(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Nu(e)||t.has(e)||!ec(e)||ey(e)||(t.add(e),K2(e,(n,i)=>{if(Nu(i)){const a=i[no];if(ty(a,r)){const o=R3(a);Bv(e,n,o,e.type_),Cj(a)}}else ec(i)&&Uv(i,t,r)})),e}function eX(e,t){const r=Z2(e),n={type_:r?1:0,scope_:t?t.scope_:Ej(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=zv;r&&(i=[n],a=op);const{revoke:o,proxy:u}=Proxy.revocable(i,a);return n.draft_=u,n.revoke_=o,[u,n]}var zv={get(e,t){if(t===no)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=mu(e);if(!XN(i,t,e.type_))return tX(e,i,t);const a=i[t];if(e.finalized_||!ec(a)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&$Y(t))return a;if(a===yw(e.base_,t)){hv(e);const o=e.type_===1?+t:t,u=n_(e.scope_,a,e,o);return e.copy_[o]=u}return a},has(e,t){return t in mu(e)},ownKeys(e){return Reflect.ownKeys(mu(e))},set(e,t,r){const n=Tj(mu(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=yw(mu(e),t),a=i==null?void 0:i[no];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(WY(r,i)&&(r!==void 0||XN(e.base_,t,e.type_)))return!0;hv(e),r_(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),JY(e,t,r)),!0},deleteProperty(e,t){return hv(e),yw(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),r_(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=mu(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[dv]:!0,[K5]:e.type_!==1||t!=="length",[Lv]:n[Lv],[ap]:r[t]}},defineProperty(){Yl(11)},getPrototypeOf(e){return l0(e.base_)},setPrototypeOf(){Yl(12)}},op={};for(let e in zv){let t=zv[e];op[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}op.deleteProperty=function(e,t){return op.set.call(this,e,t,void 0)};op.set=function(e,t,r){return zv.set.call(this,e[0],t,r,e[0])};function yw(e,t){const r=e[no];return(r?mu(r):e)[t]}function tX(e,t,r){var i;const n=Tj(t,r);return n?ap in n?n[ap]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function Tj(e,t){if(!(t in e))return;let r=l0(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=l0(r)}}function r_(e){e.modified_||(e.modified_=!0,e.parent_&&r_(e.parent_))}function hv(e){e.copy_||(e.assigned_=new Map,e.copy_=Q5(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var rX=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Gh(r)&&!Gh(n)){const o=n;n=r;const u=this;return function(c=o,...h){return u.produce(c,m=>n.call(this,m,...h))}}Gh(n)||Yl(6),i!==void 0&&!Gh(i)&&Yl(7);let a;if(ec(r)){const o=JN(this),u=n_(o,r,void 0);let d=!0;try{a=n(u),d=!1}finally{d?e_(o):t_(o)}return QN(o,i),e6(a,o)}else if(!r||!j3(r)){if(a=n(r),a===void 0&&(a=r),a===_j&&(a=void 0),this.autoFreeze_&&P3(a,!0),i){const o=[],u=[];Id(J5).generateReplacementPatches_(r,a,{patches_:o,inversePatches_:u}),i(o,u)}return a}else Yl(1,r)},this.produceWithPatches=(r,n)=>{if(Gh(r))return(u,...d)=>this.produceWithPatches(u,c=>r(c,...d));let i,a;return[this.produce(r,n,(u,d)=>{i=u,a=d}),i,a]},vw(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),vw(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),vw(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ec(t)||Yl(8),Nu(t)&&(t=Zl(t));const r=JN(this),n=n_(r,t,void 0);return n[no].isManual_=!0,t_(r),n}finishDraft(t,r){const n=t&&t[no];(!n||!n.isManual_)&&Yl(9);const{scope_:i}=n;return QN(i,r),e6(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=Id(J5).applyPatches_;return Nu(t)?i(t,r):this.produce(t,a=>i(a,r))}};function n_(e,t,r,n){const[i,a]=Q2(t)?Id(Fv).proxyMap_(t,r):J2(t)?Id(Fv).proxySet_(t,r):eX(t,r);return((r==null?void 0:r.scope_)??Ej()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?QY(r,a,n):a.callbacks_.push(function(d){var h;(h=d.mapSetPlugin_)==null||h.fixSetContents(a);const{patchPlugin_:c}=d;a.modified_&&c&&c.generatePatches_(a,[],d)}),i}function Zl(e){return Nu(e)||Yl(10,e),Ij(e)}function Ij(e){if(!ec(e)||ey(e))return e;const t=e[no];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Q5(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Q5(e,!0);return K2(r,(i,a)=>{Bv(r,i,Ij(a))},n),t&&(t.finalized_=!1),r}var nX=new rX,kj=nX.produce;function Mj(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var iX=Mj(),aX=Mj,sX=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Pv:Pv.apply(null,arguments)};function wl(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(el(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>wj(n)&&n.type===e,r}var jj=class D1 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,D1.prototype)}static get[Symbol.species](){return D1}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new D1(...t[0].concat(this)):new D1(...t.concat(this))}};function r6(e){return ec(e)?kj(e,()=>{}):e}function nm(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function oX(e){return typeof e=="boolean"}var lX=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new jj;return r&&(oX(r)?o.push(iX):o.push(aX(r.extraArgument))),o},Rj="RTK_autoBatch",Ci=()=>e=>({payload:e,meta:{[Rj]:!0}}),n6=e=>t=>{setTimeout(t,e)},Pj=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,o=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:n6(10):e.type==="callback"?e.queueNotification:n6(e.timeout),c=()=>{o=!1,a&&(a=!1,u.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const m=()=>i&&h(),b=n.subscribe(m);return u.add(h),()=>{b(),u.delete(h)}},dispatch(h){var m;try{return i=!((m=h==null?void 0:h.meta)!=null&&m[Rj]),a=!i,a&&(o||(o=!0,d(c))),n.dispatch(h)}finally{i=!0}}})},cX=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new jj(e);return n&&i.push(Pj(typeof n=="object"?n:void 0)),i};function uX(e){const t=lX(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(M3(r))u=xj(r);else throw new Error(el(1));let d;typeof n=="function"?d=n(t):d=t();let c=Pv;i&&(c=sX({trace:!1,...typeof i=="object"&&i}));const h=HY(...d),m=cX(h);let b=typeof o=="function"?o(m):m();const x=c(...b);return bj(u,a,x)}function Dj(e){const t={},r=[];let n;const i={addCase(a,o){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(el(28));if(u in t)throw new Error(el(29));return t[u]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function fX(e){return typeof e=="function"}function dX(e,t){let[r,n,i]=Dj(t),a;if(fX(e))a=()=>r6(e());else{const u=r6(e);a=()=>u}function o(u=a(),d){let c=[r[d.type],...n.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return c.filter(h=>!!h).length===0&&(c=[i]),c.reduce((h,m)=>{if(m)if(Nu(h)){const x=m(h,d);return x===void 0?h:x}else{if(ec(h))return kj(h,b=>m(b,d));{const b=m(h,d);if(b===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return h},u)}return o.getInitialState=a,o}var hX="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",pX=(e=21)=>{let t="",r=e;for(;r--;)t+=hX[Math.random()*64|0];return t},gX=Symbol.for("rtk-slice-createasyncthunk");function mX(e,t){return`${e}/${t}`}function vX({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[gX];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(el(11));const u=(typeof i.reducers=="function"?i.reducers(bX()):i.reducers)||{},d=Object.keys(u),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(F,K){const Z=typeof F=="string"?F:F.type;if(!Z)throw new Error(el(12));if(Z in c.sliceCaseReducersByType)throw new Error(el(13));return c.sliceCaseReducersByType[Z]=K,h},addMatcher(F,K){return c.sliceMatchers.push({matcher:F,reducer:K}),h},exposeAction(F,K){return c.actionCreators[F]=K,h},exposeCaseReducer(F,K){return c.sliceCaseReducersByName[F]=K,h}};d.forEach(F=>{const K=u[F],Z={reducerName:F,type:mX(a,F),createNotation:typeof i.reducers=="function"};wX(K)?AX(Z,K,h,t):xX(Z,K,h)});function m(){const[F={},K=[],Z=void 0]=typeof i.extraReducers=="function"?Dj(i.extraReducers):[i.extraReducers],V={...F,...c.sliceCaseReducersByType};return dX(i.initialState,Q=>{for(let q in V)Q.addCase(q,V[q]);for(let q of c.sliceMatchers)Q.addMatcher(q.matcher,q.reducer);for(let q of K)Q.addMatcher(q.matcher,q.reducer);Z&&Q.addDefaultCase(Z)})}const b=F=>F,x=new Map,E=new WeakMap;let C;function T(F,K){return C||(C=m()),C(F,K)}function I(){return C||(C=m()),C.getInitialState()}function B(F,K=!1){function Z(Q){let q=Q[F];return typeof q>"u"&&K&&(q=nm(E,Z,I)),q}function V(Q=b){const q=nm(x,K,()=>new WeakMap);return nm(q,Q,()=>{const se={};for(const[G,H]of Object.entries(i.selectors??{}))se[G]=yX(H,Q,()=>nm(E,Q,I),K);return se})}return{reducerPath:F,getSelectors:V,get selectors(){return V(Z)},selectSlice:Z}}const U={name:a,reducer:T,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:I,...B(o),injectInto(F,{reducerPath:K,...Z}={}){const V=K??o;return F.inject({reducerPath:V,reducer:T},Z),{...U,...B(V,!0)}}};return U}}function yX(e,t,r,n){function i(a,...o){let u=t(a);return typeof u>"u"&&n&&(u=r()),e(u,...o)}return i.unwrapped=e,i}var Io=vX();function bX(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function xX({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!_X(n))throw new Error(el(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?wl(e,o):wl(e))}function wX(e){return e._reducerDefinitionType==="asyncThunk"}function _X(e){return e._reducerDefinitionType==="reducerWithPrepare"}function AX({type:e,reducerName:t},r,n,i){if(!i)throw new Error(el(18));const{payloadCreator:a,fulfilled:o,pending:u,rejected:d,settled:c,options:h}=r,m=i(e,a,h);n.exposeAction(t,m),o&&n.addCase(m.fulfilled,o),u&&n.addCase(m.pending,u),d&&n.addCase(m.rejected,d),c&&n.addMatcher(m.settled,c),n.exposeCaseReducer(t,{fulfilled:o||im,pending:u||im,rejected:d||im,settled:c||im})}function im(){}var SX="task",Lj="listener",Bj="completed",D3="cancelled",EX=`task-${D3}`,CX=`task-${Bj}`,i_=`${Lj}-${D3}`,NX=`${Lj}-${Bj}`,ry=class{constructor(e){Cn(this,"name","TaskAbortError");Cn(this,"message");this.code=e,this.message=`${SX} ${D3} (reason: ${e})`}},L3=(e,t)=>{if(typeof e!="function")throw new TypeError(el(32))},qv=()=>{},Fj=(e,t=qv)=>(e.catch(t),e),Uj=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),_d=e=>{if(e.aborted)throw new ry(e.reason)};function zj(e,t){let r=qv;return new Promise((n,i)=>{const a=()=>i(new ry(e.reason));if(e.aborted){a();return}r=Uj(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=qv})}var OX=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ry?"cancelled":"rejected",error:r}}finally{t==null||t()}},Hv=e=>t=>Fj(zj(e,t).then(r=>(_d(e),r))),qj=e=>{const t=Hv(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Jh}=Object,i6={},ny="listenerMiddleware",TX=(e,t)=>{const r=n=>Uj(e,()=>n.abort(e.reason));return(n,i)=>{L3(n);const a=new AbortController;r(a);const o=OX(async()=>{_d(e),_d(a.signal);const u=await n({pause:Hv(a.signal),delay:qj(a.signal),signal:a.signal});return _d(a.signal),u},()=>a.abort(CX));return i!=null&&i.autoJoin&&t.push(o.catch(qv)),{result:Hv(e)(o),cancel(){a.abort(EX)}}}},IX=(e,t)=>{const r=async(n,i)=>{_d(t);let a=()=>{};const u=[new Promise((d,c)=>{let h=e({predicate:n,effect:(m,b)=>{b.unsubscribe(),d([m,b.getState(),b.getOriginalState()])}});a=()=>{h(),c()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await zj(t,Promise.race(u));return _d(t),d}finally{a()}};return(n,i)=>Fj(r(n,i))},Hj=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=wl(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(el(21));return L3(a),{predicate:i,type:t,effect:a}},Gj=Jh(e=>{const{type:t,predicate:r,effect:n}=Hj(e);return{id:pX(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(el(22))}}},{withTypes:()=>Gj}),a6=(e,t)=>{const{type:r,effect:n,predicate:i}=Hj(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},a_=e=>{e.pending.forEach(t=>{t.abort(i_)})},kX=(e,t)=>()=>{for(const r of t.keys())a_(r);e.clear()},s6=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},Wj=Jh(wl(`${ny}/add`),{withTypes:()=>Wj}),MX=wl(`${ny}/removeAll`),$j=Jh(wl(`${ny}/remove`),{withTypes:()=>$j}),jX=(...e)=>{console.error(`${ny}/error`,...e)},kp=(e={})=>{const t=new Map,r=new Map,n=x=>{const E=r.get(x)??0;r.set(x,E+1)},i=x=>{const E=r.get(x)??1;E===1?r.delete(x):r.set(x,E-1)},{extra:a,onError:o=jX}=e;L3(o);const u=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),E=>{x.unsubscribe(),E!=null&&E.cancelActive&&a_(x)}),d=x=>{const E=a6(t,x)??Gj(x);return u(E)};Jh(d,{withTypes:()=>d});const c=x=>{const E=a6(t,x);return E&&(E.unsubscribe(),x.cancelActive&&a_(E)),!!E};Jh(c,{withTypes:()=>c});const h=async(x,E,C,T)=>{const I=new AbortController,B=IX(d,I.signal),U=[];try{x.pending.add(I),n(x),await Promise.resolve(x.effect(E,Jh({},C,{getOriginalState:T,condition:(F,K)=>B(F,K).then(Boolean),take:B,delay:qj(I.signal),pause:Hv(I.signal),extra:a,signal:I.signal,fork:TX(I.signal,U),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((F,K,Z)=>{F!==I&&(F.abort(i_),Z.delete(F))})},cancel:()=>{I.abort(i_),x.pending.delete(I)},throwIfCancelled:()=>{_d(I.signal)}})))}catch(F){F instanceof ry||s6(o,F,{raisedBy:"effect"})}finally{await Promise.all(U),I.abort(NX),i(x),x.pending.delete(I)}},m=kX(t,r);return{middleware:x=>E=>C=>{if(!wj(C))return E(C);if(Wj.match(C))return d(C.payload);if(MX.match(C)){m();return}if($j.match(C))return c(C.payload);let T=x.getState();const I=()=>{if(T===i6)throw new Error(el(23));return T};let B;try{if(B=E(C),t.size>0){const U=x.getState(),F=Array.from(t.values());for(const K of F){let Z=!1;try{Z=K.predicate(C,U,T)}catch(V){Z=!1,s6(o,V,{raisedBy:"predicate"})}Z&&h(K,C,x,I)}}}finally{T=i6}return B},startListening:d,stopListening:c,clearListeners:m}};function el(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var RX={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Vj=Io({name:"chartLayout",initialState:RX,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:PX,setLayout:DX,setChartSize:LX,setScale:BX}=Vj.actions,FX=Vj.reducer;function Yj(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function ln(e){return Number.isFinite(e)}function Uc(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function o6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o6(Object(r),!0).forEach(function(n){UX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UX(e,t,r){return(t=zX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zX(e){var t=qX(e,"string");return typeof t=="symbol"?t:t+""}function qX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bi(e,t,r){return os(e)||os(t)?r:Fc(t)?Od(e,t,r):typeof t=="function"?t(e):r}var HX=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:u}=t;if((u==="vertical"||u==="horizontal"&&o==="middle")&&a!=="center"&&Yt(e[a]))return Yh(Yh({},e),{},{[a]:e[a]+(n||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&o!=="middle"&&Yt(e[o]))return Yh(Yh({},e),{},{[o]:e[o]+(i||0)})}return e},Lf=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Xj=(e,t,r,n)=>{if(n)return e.map(u=>u.coordinate);var i,a,o=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===r&&(a=!0),u.coordinate));return i||o.push(t),a||o.push(r),o},Kj=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:u,isCategorical:d,categoricalDomain:c,tickCount:h,ticks:m,niceTicks:b,axisType:x}=e;if(!o)return null;var E=u==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,C=i==="category"&&o.bandwidth?o.bandwidth()/E:0;if(C=x==="angleAxis"&&a&&a.length>=2?ss(a[0]-a[1])*2*C:C,m||b){var T=(m||b||[]).map((I,B)=>{var U=n?n.indexOf(I):I,F=o.map(U);return ln(F)?{coordinate:F+C,value:I,offset:C,index:B}:null}).filter(Oo);return T}return d&&c?c.map((I,B)=>{var U=o.map(I);return ln(U)?{coordinate:U+C,value:I,index:B,offset:C}:null}).filter(Oo):o.ticks&&h!=null?o.ticks(h).map((I,B)=>{var U=o.map(I);return ln(U)?{coordinate:U+C,value:I,index:B,offset:C}:null}).filter(Oo):o.domain().map((I,B)=>{var U=o.map(I);return ln(U)?{coordinate:U+C,value:n?n[I]:I,index:B,offset:C}:null}).filter(Oo)},GX=(e,t)=>{if(!t||t.length!==2||!Yt(t[0])||!Yt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Yt(e[0])||e[0]<r)&&(i[0]=r),(!Yt(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},WX=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,o=0,u=0;u<r;++u){var d=e[u],c=d==null?void 0:d[i];if(c!=null){var h=c[1],m=c[0],b=Bc(h)?m:h;b>=0?(c[0]=a,a+=b,c[1]=a):(c[0]=o,o+=b,c[1]=o)}}}},$X=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,o=0;o<r;++o){var u=e[o],d=u==null?void 0:u[i];if(d!=null){var c=Bc(d[1])?d[0]:d[1];c>=0?(d[0]=a,a+=c,d[1]=a):(d[0]=0,d[1]=0)}}}},VX={sign:WX,expand:fV,none:Nd,silhouette:dV,wiggle:hV,positive:$X},YX=(e,t,r)=>{var n,i=(n=VX[r])!==null&&n!==void 0?n:Nd,a=uV().keys(t).value((u,d)=>Number(bi(u,d,0))).order(Y5).offset(i),o=a(e);return o.forEach((u,d)=>{u.forEach((c,h)=>{var m=bi(e[h],t[d],0);Array.isArray(m)&&m.length===2&&Yt(m[0])&&Yt(m[1])&&(c[0]=m[0],c[1]=m[1])})}),o};function XX(e){return e==null?void 0:String(e)}var l6=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var u=bi(a,t.dataKey,t.scale.domain()[o]);if(os(u))return null;var d=t.scale.map(u);return Yt(d)?d-i/2+n:null},KX=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},ZX=e=>{var t=e.flat(2).filter(Yt);return[Math.min(...t),Math.max(...t)]},QX=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],JX=(e,t,r)=>{if(e!=null)return QX(Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:o}=a,u=o.reduce((d,c)=>{var h=Yj(c,t,r),m=ZX(h);return!ln(m[0])||!ln(m[1])?d:[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},c6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,u6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gv=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Y2(t,h=>h.coordinate),a=1/0,o=1,u=i.length;o<u;o++){var d=i[o],c=i[o-1];a=Math.min(((d==null?void 0:d.coordinate)||0)-((c==null?void 0:c.coordinate)||0),a)}return a===1/0?0:a}return r?void 0:0};function f6(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Yh(Yh({},t),{},{dataKey:r,payload:n,value:i,name:a})}function iy(e,t){if(e)return String(e);if(typeof t=="string")return t}var eK=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},tK=(e,t)=>t==="centric"?e.angle:e.radius,Du=e=>e.layout.width,Lu=e=>e.layout.height,rK=e=>e.layout.scale,Zj=e=>e.layout.margin,ay=Ke(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),sy=Ke(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Qj="data-recharts-item-index",Jj="data-recharts-item-id",Mp=60;function d6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d6(Object(r),!0).forEach(function(n){nK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nK(e,t,r){return(t=iK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iK(e){var t=aK(e,"string");return typeof t=="symbol"?t:t+""}function aK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sK=e=>e.brush.height;function oK(e){var t=sy(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Mp;return r+i}return r},0)}function lK(e){var t=sy(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Mp;return r+i}return r},0)}function cK(e){var t=ay(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function uK(e){var t=ay(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ua=Ke([Du,Lu,Zj,sK,oK,lK,cK,uK,vj,DY],(e,t,r,n,i,a,o,u,d,c)=>{var h={left:(r.left||0)+i,right:(r.right||0)+a},m={top:(r.top||0)+o,bottom:(r.bottom||0)+u},b=am(am({},m),h),x=b.bottom;b.bottom+=n,b=HX(b,d,c);var E=e-b.left-b.right,C=t-b.top-b.bottom;return am(am({brushBottom:x},b),{},{width:Math.max(E,0),height:Math.max(C,0)})}),fK=Ke(Ua,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),B3=Ke(Du,Lu,(e,t)=>({x:0,y:0,width:e,height:t})),dK=D.createContext(null),ko=()=>D.useContext(dK)!=null,oy=e=>e.brush,ly=Ke([oy,Ua,Zj],(e,t,r)=>({height:e.height,x:Yt(e.x)?e.x:t.left,y:Yt(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Yt(e.width)?e.width:t.width})),bw={},xw={},ww={},h6;function hK(){return h6||(h6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let o,u=null;const d=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),h=()=>{u!==null&&(r.apply(o,u),o=void 0,u=null)},m=()=>{c&&h(),C()};let b=null;const x=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,m()},n)},E=()=>{b!==null&&(clearTimeout(b),b=null)},C=()=>{E(),o=void 0,u=null},T=()=>{h()},I=function(...B){if(i!=null&&i.aborted)return;o=this,u=B;const U=b==null;x(),d&&U&&h()};return I.schedule=x,I.cancel=C,I.flush=T,i==null||i.addEventListener("abort",C,{once:!0}),I}e.debounce=t})(ww)),ww}var p6;function pK(){return p6||(p6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hK();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:u=!0,maxWait:d}=a,c=Array(2);o&&(c[0]="leading"),u&&(c[1]="trailing");let h,m=null;const b=t.debounce(function(...C){h=n.apply(this,C),m=null},i,{edges:c}),x=function(...C){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(h=n.apply(this,C),m=Date.now(),b.cancel(),b.schedule(),h):(b.apply(this,C),h)},E=()=>(b.flush(),h);return x.cancel=b.cancel,x.flush=E,x}e.debounce=r})(xw)),xw}var g6;function gK(){return g6||(g6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pK();function r(n,i=0,a={}){const{leading:o=!0,trailing:u=!0}=a;return t.debounce(n,i,{leading:o,maxWait:i,trailing:u})}e.throttle=r})(bw)),bw}var _w,m6;function mK(){return m6||(m6=1,_w=gK().throttle),_w}var vK=mK();const yK=qc(vK);var Wv=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>i[o++]))}},Mc={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},eR=(e,t,r)=>{var{width:n=Mc.width,height:i=Mc.height,aspect:a,maxHeight:o}=r,u=Td(n)?e:Number(n),d=Td(i)?t:Number(i);return a&&a>0&&(u?d=u/a:d&&(u=d*a),o&&d!=null&&d>o&&(d=o)),{calculatedWidth:u,calculatedHeight:d}},bK={width:0,height:0,overflow:"visible"},xK={width:0,overflowX:"visible"},wK={height:0,overflowY:"visible"},_K={},AK=e=>{var{width:t,height:r}=e,n=Td(t),i=Td(r);return n&&i?bK:n?xK:i?wK:_K};function SK(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i=Mc.width,a=Mc.height):i===void 0?i=n&&n>0?void 0:Mc.width:a===void 0&&(a=n&&n>0?void 0:Mc.height),{width:i,height:a}}function s_(){return s_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s_.apply(null,arguments)}function v6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function y6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v6(Object(r),!0).forEach(function(n){EK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EK(e,t,r){return(t=CK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CK(e){var t=NK(e,"string");return typeof t=="symbol"?t:t+""}function NK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tR=D.createContext(Mc.initialDimension);function OK(e){return Uc(e.width)&&Uc(e.height)}function rR(e){var{children:t,width:r,height:n}=e,i=D.useMemo(()=>({width:r,height:n}),[r,n]);return OK(i)?D.createElement(tR.Provider,{value:i},t):null}var F3=()=>D.useContext(tR),TK=D.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Mc.initialDimension,width:i,height:a,minWidth:o=Mc.minWidth,minHeight:u,maxHeight:d,children:c,debounce:h=Mc.debounce,id:m,className:b,onResize:x,style:E={}}=e,C=D.useRef(null),T=D.useRef();T.current=x,D.useImperativeHandle(t,()=>C.current);var[I,B]=D.useState({containerWidth:n.width,containerHeight:n.height}),U=D.useCallback((Q,q)=>{B(se=>{var G=Math.round(Q),H=Math.round(q);return se.containerWidth===G&&se.containerHeight===H?se:{containerWidth:G,containerHeight:H}})},[]);D.useEffect(()=>{if(C.current==null||typeof ResizeObserver>"u")return _0;var Q=H=>{var le,J=H[0];if(J!=null){var{width:ie,height:ne}=J.contentRect;U(ie,ne),(le=T.current)===null||le===void 0||le.call(T,ie,ne)}};h>0&&(Q=yK(Q,h,{trailing:!0,leading:!1}));var q=new ResizeObserver(Q),{width:se,height:G}=C.current.getBoundingClientRect();return U(se,G),q.observe(C.current),()=>{q.disconnect()}},[U,h]);var{containerWidth:F,containerHeight:K}=I;Wv(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:Z,calculatedHeight:V}=eR(F,K,{width:i,height:a,aspect:r,maxHeight:d});return Wv(Z!=null&&Z>0||V!=null&&V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Z,V,i,a,o,u,r),D.createElement("div",{id:m?"".concat(m):void 0,className:On("recharts-responsive-container",b),style:y6(y6({},E),{},{width:i,height:a,minWidth:o,minHeight:u,maxHeight:d}),ref:C},D.createElement("div",{style:AK({width:i,height:a})},D.createElement(rR,{width:Z,height:V},c)))}),$v=D.forwardRef((e,t)=>{var r=F3();if(Uc(r.width)&&Uc(r.height))return e.children;var{width:n,height:i}=SK({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=eR(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Yt(a)&&Yt(o)?D.createElement(rR,{width:a,height:o},e.children):D.createElement(TK,s_({},e,{width:n,height:i,ref:t}))});function U3(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var cy=()=>{var e,t=ko(),r=Jt(fK),n=Jt(ly),i=(e=Jt(oy))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},IK={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},nR=()=>{var e;return(e=Jt(Ua))!==null&&e!==void 0?e:IK},z3=()=>Jt(Du),q3=()=>Jt(Lu),kK=()=>Jt(e=>e.layout.margin),Tn=e=>e.layout.layoutType,A0=()=>Jt(Tn),iR=()=>{var e=A0();if(e==="horizontal"||e==="vertical")return e},aR=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},MK=()=>{var e=A0();return e!==void 0},jp=e=>{var t=li(),r=ko(),{width:n,height:i}=e,a=F3(),o=n,u=i;return a&&(o=a.width>0?a.width:n,u=a.height>0?a.height:i),D.useEffect(()=>{!r&&Uc(o)&&Uc(u)&&t(LX({width:o,height:u}))},[t,r,o,u]),null},sR=Symbol.for("immer-nothing"),b6=Symbol.for("immer-draftable"),tl=Symbol.for("immer-state");function Xl(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var lp=Object.getPrototypeOf;function c0(e){return!!e&&!!e[tl]}function kd(e){var t;return e?oR(e)||Array.isArray(e)||!!e[b6]||!!((t=e.constructor)!=null&&t[b6])||Rp(e)||fy(e):!1}var jK=Object.prototype.constructor.toString(),x6=new WeakMap;function oR(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=x6.get(r);return n===void 0&&(n=Function.toString.call(r),x6.set(r,n)),n===jK}function Vv(e,t,r=!0){uy(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function uy(e){const t=e[tl];return t?t.type_:Array.isArray(e)?1:Rp(e)?2:fy(e)?3:0}function o_(e,t){return uy(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function lR(e,t,r){const n=uy(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function RK(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Rp(e){return e instanceof Map}function fy(e){return e instanceof Set}function ud(e){return e.copy_||e.base_}function l_(e,t){if(Rp(e))return new Map(e);if(fy(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=oR(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[tl];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],u=n[o];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[o]})}return Object.create(lp(e),n)}else{const n=lp(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function H3(e,t=!1){return dy(e)||c0(e)||!kd(e)||(uy(e)>1&&Object.defineProperties(e,{set:sm,add:sm,clear:sm,delete:sm}),Object.freeze(e),t&&Object.values(e).forEach(r=>H3(r,!0))),e}function PK(){Xl(2)}var sm={value:PK};function dy(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var DK={};function Md(e){const t=DK[e];return t||Xl(0,e),t}var cp;function cR(){return cp}function LK(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function w6(e,t){t&&(Md("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function c_(e){u_(e),e.drafts_.forEach(BK),e.drafts_=null}function u_(e){e===cp&&(cp=e.parent_)}function _6(e){return cp=LK(cp,e)}function BK(e){const t=e[tl];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function A6(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[tl].modified_&&(c_(t),Xl(4)),kd(e)&&(e=Yv(t,e),t.parent_||Xv(t,e)),t.patches_&&Md("Patches").generateReplacementPatches_(r[tl].base_,e,t.patches_,t.inversePatches_)):e=Yv(t,r,[]),c_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==sR?e:void 0}function Yv(e,t,r){if(dy(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[tl];if(!i)return Vv(t,(a,o)=>S6(e,i,t,a,o,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Xv(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,u=!1;i.type_===3&&(o=new Set(a),a.clear(),u=!0),Vv(o,(d,c)=>S6(e,i,a,d,c,r,u),n),Xv(e,a,!1),r&&e.patches_&&Md("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function S6(e,t,r,n,i,a,o){if(i==null||typeof i!="object"&&!o)return;const u=dy(i);if(!(u&&!o)){if(c0(i)){const d=a&&t&&t.type_!==3&&!o_(t.assigned_,n)?a.concat(n):void 0,c=Yv(e,i,d);if(lR(r,n,c),c0(c))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(kd(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&u)return;Yv(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Rp(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Xv(e,i)}}}function Xv(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&H3(t,r)}function FK(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:cR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=G3;r&&(i=[n],a=up);const{revoke:o,proxy:u}=Proxy.revocable(i,a);return n.draft_=u,n.revoke_=o,u}var G3={get(e,t){if(t===tl)return e;const r=ud(e);if(!o_(r,t))return UK(e,r,t);const n=r[t];return e.finalized_||!kd(n)?n:n===Aw(e.base_,t)?(Sw(e),e.copy_[t]=d_(n,e)):n},has(e,t){return t in ud(e)},ownKeys(e){return Reflect.ownKeys(ud(e))},set(e,t,r){const n=uR(ud(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Aw(ud(e),t),a=i==null?void 0:i[tl];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(RK(r,i)&&(r!==void 0||o_(e.base_,t)))return!0;Sw(e),f_(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Aw(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Sw(e),f_(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ud(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Xl(11)},getPrototypeOf(e){return lp(e.base_)},setPrototypeOf(){Xl(12)}},up={};Vv(G3,(e,t)=>{up[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});up.deleteProperty=function(e,t){return up.set.call(this,e,t,void 0)};up.set=function(e,t,r){return G3.set.call(this,e[0],t,r,e[0])};function Aw(e,t){const r=e[tl];return(r?ud(r):e)[t]}function UK(e,t,r){var i;const n=uR(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function uR(e,t){if(!(t in e))return;let r=lp(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=lp(r)}}function f_(e){e.modified_||(e.modified_=!0,e.parent_&&f_(e.parent_))}function Sw(e){e.copy_||(e.copy_=l_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var zK=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const o=this;return function(d=a,...c){return o.produce(d,h=>r.call(this,h,...c))}}typeof r!="function"&&Xl(6),n!==void 0&&typeof n!="function"&&Xl(7);let i;if(kd(t)){const a=_6(this),o=d_(t,void 0);let u=!0;try{i=r(o),u=!1}finally{u?c_(a):u_(a)}return w6(a,n),A6(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===sR&&(i=void 0),this.autoFreeze_&&H3(i,!0),n){const a=[],o=[];Md("Patches").generateReplacementPatches_(t,i,a,o),n(a,o)}return i}else Xl(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...u)=>this.produceWithPatches(o,d=>t(d,...u));let n,i;return[this.produce(t,r,(o,u)=>{n=o,i=u}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){kd(e)||Xl(8),c0(e)&&(e=qK(e));const t=_6(this),r=d_(e,void 0);return r[tl].isManual_=!0,u_(t),r}finishDraft(e,t){const r=e&&e[tl];(!r||!r.isManual_)&&Xl(9);const{scope_:n}=r;return w6(n,t),A6(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Md("Patches").applyPatches_;return c0(e)?n(e,t):this.produce(e,i=>n(i,t))}};function d_(e,t){const r=Rp(e)?Md("MapSet").proxyMap_(e,t):fy(e)?Md("MapSet").proxySet_(e,t):FK(e,t);return(t?t.scope_:cR()).drafts_.push(r),r}function qK(e){return c0(e)||Xl(10,e),fR(e)}function fR(e){if(!kd(e)||dy(e))return e;const t=e[tl];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=l_(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=l_(e,!0);return Vv(r,(i,a)=>{lR(r,i,fR(a))},n),t&&(t.finalized_=!1),r}var HK=new zK;HK.produce;var GK={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},dR=Io({name:"legend",initialState:GK,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ci()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Zl(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:Ci()},removeLegendPayload:{reducer(e,t){var r=Zl(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ci()}}}),{setLegendSize:E6,setLegendSettings:WK,addLegendPayload:hR,replaceLegendPayload:pR,removeLegendPayload:gR}=dR.actions,$K=dR.reducer,VK=["contextPayload"];function h_(){return h_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h_.apply(null,arguments)}function C6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function u0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C6(Object(r),!0).forEach(function(n){YK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YK(e,t,r){return(t=XK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XK(e){var t=KK(e,"string");return typeof t=="symbol"?t:t+""}function KK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZK(e,t){if(e==null)return{};var r,n,i=QK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function QK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function JK(e){return e.value}function eZ(e){var{contextPayload:t}=e,r=ZK(e,VK),n=hj(t,e.payloadUniqBy,JK),i=u0(u0({},r),{},{payload:n});return D.isValidElement(e.content)?D.cloneElement(e.content,i):typeof e.content=="function"?D.createElement(e.content,i):D.createElement(GV,i)}function tZ(e,t,r,n,i,a){var{layout:o,align:u,verticalAlign:d}=t,c,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&o==="vertical"?c={left:((n||0)-a.width)/2}:c=u==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?h={top:((i||0)-a.height)/2}:h=d==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),u0(u0({},c),h)}function rZ(e){var t=li();return D.useEffect(()=>{t(WK(e))},[t,e]),null}function nZ(e){var t=li();return D.useEffect(()=>(t(E6(e)),()=>{t(E6({width:0,height:0}))}),[t,e]),null}function iZ(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var aZ={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function mR(e){var t=ls(e,aZ),r=FY(),n=R$(),i=kK(),{width:a,height:o,wrapperStyle:u,portal:d}=t,[c,h]=yj([r]),m=z3(),b=q3();if(m==null||b==null)return null;var x=m-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),E=iZ(t.layout,o,a,x),C=d?u:u0(u0({position:"absolute",width:(E==null?void 0:E.width)||a||"auto",height:(E==null?void 0:E.height)||o||"auto"},tZ(u,t,i,m,b,c)),u),T=d??n;if(T==null||r==null)return null;var I=D.createElement("div",{className:"recharts-legend-wrapper",style:C,ref:h},D.createElement(rZ,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!d&&D.createElement(nZ,{width:c.width,height:c.height}),D.createElement(eZ,h_({},t,E,{margin:i,chartWidth:m,chartHeight:b,contextPayload:r})));return u3.createPortal(I,T)}mR.displayName="Legend";function p_(){return p_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p_.apply(null,arguments)}function N6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function y1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N6(Object(r),!0).forEach(function(n){sZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sZ(e,t,r){return(t=oZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oZ(e){var t=lZ(e,"string");return typeof t=="symbol"?t:t+""}function lZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cZ(e){return Array.isArray(e)&&Fc(e[0])&&Fc(e[1])?e.join(" ~ "):e}var Ih={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},uZ=e=>{var{separator:t=Ih.separator,contentStyle:r,itemStyle:n,labelStyle:i=Ih.labelStyle,payload:a,formatter:o,itemSorter:u,wrapperClassName:d,labelClassName:c,label:h,labelFormatter:m,accessibilityLayer:b=Ih.accessibilityLayer}=e,x=()=>{if(a&&a.length){var K={padding:0,margin:0},Z=(u?Y2(a,u):a).map((V,Q)=>{if(V.type==="none")return null;var q=V.formatter||o||cZ,{value:se,name:G}=V,H=se,le=G;if(q){var J=q(se,G,V,Q,a);if(Array.isArray(J))[H,le]=J;else if(J!=null)H=J;else return null}var ie=y1(y1({},Ih.itemStyle),{},{color:V.color||Ih.itemStyle.color},n);return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Q),style:ie},Fc(le)?D.createElement("span",{className:"recharts-tooltip-item-name"},le):null,Fc(le)?D.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,D.createElement("span",{className:"recharts-tooltip-item-value"},H),D.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:K},Z)}return null},E=y1(y1({},Ih.contentStyle),r),C=y1({margin:0},i),T=!os(h),I=T?h:"",B=On("recharts-default-tooltip",d),U=On("recharts-tooltip-label",c);T&&m&&a!==void 0&&a!==null&&(I=m(h,a));var F=b?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",p_({className:B,style:E},F),D.createElement("p",{className:U,style:C},D.isValidElement(I)?I:"".concat(I)),x())},b1="recharts-tooltip-wrapper",fZ={visibility:"hidden"};function dZ(e){var{coordinate:t,translateX:r,translateY:n}=e;return On(b1,{["".concat(b1,"-right")]:Yt(r)&&t&&Yt(t.x)&&r>=t.x,["".concat(b1,"-left")]:Yt(r)&&t&&Yt(t.x)&&r<t.x,["".concat(b1,"-bottom")]:Yt(n)&&t&&Yt(t.y)&&n>=t.y,["".concat(b1,"-top")]:Yt(n)&&t&&Yt(t.y)&&n<t.y})}function O6(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:i,position:a,reverseDirection:o,tooltipDimension:u,viewBox:d,viewBoxDimension:c}=e;if(a&&Yt(a[n]))return a[n];var h=r[n]-u-(i>0?i:0),m=r[n]+i;if(t[n])return o[n]?h:m;var b=d[n];if(b==null)return 0;if(o[n]){var x=h,E=b;return x<E?Math.max(m,b):Math.max(h,b)}if(c==null)return 0;var C=m+u,T=b+c;return C>T?Math.max(h,b):Math.max(m,b)}function hZ(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function pZ(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:i,position:a,reverseDirection:o,tooltipBox:u,useTranslate3d:d,viewBox:c}=e,h,m,b;return u.height>0&&u.width>0&&r?(m=O6({allowEscapeViewBox:t,coordinate:r,key:"x",offset:i,position:a,reverseDirection:o,tooltipDimension:u.width,viewBox:c,viewBoxDimension:c.width}),b=O6({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:a,reverseDirection:o,tooltipDimension:u.height,viewBox:c,viewBoxDimension:c.height}),h=hZ({translateX:m,translateY:b,useTranslate3d:d})):h=fZ,{cssProperties:h,cssClasses:dZ({translateX:m,translateY:b,coordinate:r})}}function T6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function om(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T6(Object(r),!0).forEach(function(n){g_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g_(e,t,r){return(t=gZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gZ(e){var t=mZ(e,"string");return typeof t=="symbol"?t:t+""}function mZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class vZ extends D.PureComponent{constructor(){super(...arguments),g_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),g_(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:u,isAnimationActive:d,offset:c,position:h,reverseDirection:m,useTranslate3d:b,viewBox:x,wrapperStyle:E,lastBoundingBox:C,innerRef:T,hasPortalFromProps:I}=this.props,B=typeof c=="number"?c:c.x,U=typeof c=="number"?c:c.y,{cssClasses:F,cssProperties:K}=pZ({allowEscapeViewBox:r,coordinate:o,offsetLeft:B,offsetTop:U,position:h,reverseDirection:m,tooltipBox:{height:C.height,width:C.width},useTranslate3d:b,viewBox:x}),Z=I?{}:om(om({transition:d&&t?"transform ".concat(n,"ms ").concat(i):void 0},K),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),V=om(om({},Z),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},E);return D.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:F,style:V,ref:T},a)}}var vR=()=>{var e;return(e=Jt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function m_(){return m_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m_.apply(null,arguments)}function I6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function k6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I6(Object(r),!0).forEach(function(n){yZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yZ(e,t,r){return(t=bZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bZ(e){var t=xZ(e,"string");return typeof t=="symbol"?t:t+""}function xZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M6={curveBasisClosed:J$,curveBasisOpen:eV,curveBasis:Q$,curveBumpX:B$,curveBumpY:F$,curveLinearClosed:tV,curveLinear:$2,curveMonotoneX:rV,curveMonotoneY:nV,curveNatural:iV,curveStep:aV,curveStepAfter:oV,curveStepBefore:sV},Kv=e=>ln(e.x)&&ln(e.y),j6=e=>e.base!=null&&Kv(e.base)&&Kv(e),x1=e=>e.x,w1=e=>e.y,wZ=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Op(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=M6["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return M6[r]||$2},R6={connectNulls:!1,type:"linear"},_Z=e=>{var{type:t=R6.type,points:r=[],baseLine:n,layout:i,connectNulls:a=R6.connectNulls}=e,o=wZ(t,i),u=a?r.filter(Kv):r;if(Array.isArray(n)){var d,c=r.map((E,C)=>k6(k6({},E),{},{base:n[C]}));i==="vertical"?d=Jg().y(w1).x1(x1).x0(E=>E.base.x):d=Jg().x(x1).y1(w1).y0(E=>E.base.y);var h=d.defined(j6).curve(o),m=a?c.filter(j6):c;return h(m)}var b;i==="vertical"&&Yt(n)?b=Jg().y(w1).x1(x1).x0(n):Yt(n)?b=Jg().x(x1).y1(w1).y0(n):b=G7().x(x1).y(w1);var x=b.defined(Kv).curve(o);return x(u)},W3=e=>{var{className:t,points:r,path:n,pathRef:i}=e,a=A0();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},u=r&&r.length?_Z(o):n;return D.createElement("path",m_({},Jl(e),kV(e),{className:On("recharts-curve",t),d:u===null?void 0:u,ref:i}))},AZ=["x","y","top","left","width","height","className"];function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v_.apply(null,arguments)}function P6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P6(Object(r),!0).forEach(function(n){EZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EZ(e,t,r){return(t=CZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CZ(e){var t=NZ(e,"string");return typeof t=="symbol"?t:t+""}function NZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OZ(e,t){if(e==null)return{};var r,n,i=TZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function TZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IZ=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),kZ=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:u}=e,d=OZ(e,AZ),c=SZ({x:t,y:r,top:n,left:i,width:a,height:o},d);return!Yt(t)||!Yt(r)||!Yt(a)||!Yt(o)||!Yt(n)||!Yt(i)?null:D.createElement("path",v_({},xl(c),{className:On("recharts-cross",u),d:IZ(t,r,a,o,n,i)}))};function MZ(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function D6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function L6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D6(Object(r),!0).forEach(function(n){jZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jZ(e,t,r){return(t=RZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RZ(e){var t=PZ(e,"string");return typeof t=="symbol"?t:t+""}function PZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DZ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),yR=(e,t,r)=>e.map(n=>"".concat(DZ(n)," ").concat(t,"ms ").concat(r)).join(","),LZ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),fp=(e,t)=>Object.keys(t).reduce((r,n)=>L6(L6({},r),{},{[n]:e(n,t[n])}),{});function B6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B6(Object(r),!0).forEach(function(n){BZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BZ(e,t,r){return(t=FZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FZ(e){var t=UZ(e,"string");return typeof t=="symbol"?t:t+""}function UZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zv=(e,t,r)=>e+(t-e)*r,y_=e=>{var{from:t,to:r}=e;return t!==r},bR=(e,t,r)=>{var n=fp((i,a)=>{if(y_(a)){var[o,u]=e(a.from,a.to,a.velocity);return Ba(Ba({},a),{},{from:o,velocity:u})}return a},t);return r<1?fp((i,a)=>y_(a)&&n[i]!=null?Ba(Ba({},a),{},{velocity:Zv(a.velocity,n[i].velocity,r),from:Zv(a.from,n[i].from,r)}):a,t):bR(e,n,r-1)};function zZ(e,t,r,n,i,a){var o,u=n.reduce((b,x)=>Ba(Ba({},b),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),d=()=>fp((b,x)=>x.from,u),c=()=>!Object.values(u).filter(y_).length,h=null,m=b=>{o||(o=b);var x=b-o,E=x/r.dt;u=bR(r,u,E),i(Ba(Ba(Ba({},e),t),d())),o=b,c()||(h=a.setTimeout(m))};return()=>(h=a.setTimeout(m),()=>{var b;(b=h)===null||b===void 0||b()})}function qZ(e,t,r,n,i,a,o){var u=null,d=i.reduce((m,b)=>{var x=e[b],E=t[b];return x==null||E==null?m:Ba(Ba({},m),{},{[b]:[x,E]})},{}),c,h=m=>{c||(c=m);var b=(m-c)/n,x=fp((C,T)=>Zv(...T,r(b)),d);if(a(Ba(Ba(Ba({},e),t),x)),b<1)u=o.setTimeout(h);else{var E=fp((C,T)=>Zv(...T,r(1)),d);a(Ba(Ba(Ba({},e),t),E))}};return()=>(u=o.setTimeout(h),()=>{var m;(m=u)===null||m===void 0||m()})}const HZ=(e,t,r,n,i,a)=>{var o=LZ(e,t);return r==null?()=>(i(Ba(Ba({},e),t)),()=>{}):r.isStepper===!0?zZ(e,t,r,o,i,a):qZ(e,t,r,n,o,i,a)};var Qv=1e-4,xR=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],wR=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),F6=(e,t)=>r=>{var n=xR(e,t);return wR(n,r)},GZ=(e,t)=>r=>{var n=xR(e,t),i=[...n.map((a,o)=>a*o).slice(1),0];return wR(i,r)},WZ=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},$Z=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=WZ(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},VZ=(e,t,r,n)=>{var i=F6(e,r),a=F6(t,n),o=GZ(e,r),u=c=>c>1?1:c<0?0:c,d=c=>{for(var h=c>1?1:c,m=h,b=0;b<8;++b){var x=i(m)-h,E=o(m);if(Math.abs(x-h)<Qv||E<Qv)return a(m);m=u(m-x/E)}return a(m)};return d.isStepper=!1,d},U6=function(){return VZ(...$Z(...arguments))},YZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(o,u,d)=>{var c=-(o-u)*r,h=d*n,m=d+(c-h)*i/1e3,b=d*i/1e3+o;return Math.abs(b-u)<Qv&&Math.abs(m)<Qv?[u,0]:[b,m]};return a.isStepper=!0,a.dt=i,a},XZ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return U6(e);case"spring":return YZ();default:if(e.split("(")[0]==="cubic-bezier")return U6(e)}return typeof e=="function"?e:null};function KZ(e){var t,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var u=o,[d,...c]=u;if(typeof d=="number"){i=e.setTimeout(a.bind(null,c),d);return}a(d),i=e.setTimeout(a.bind(null,c));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class ZZ{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function QZ(){return KZ(new ZZ)}var JZ=D.createContext(QZ);function eQ(e,t){var r=D.useContext(JZ);return D.useMemo(()=>t??r(e),[e,t,r])}var tQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),hy={isSsr:tQ()},rQ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},z6={t:0},Ew={t:1};function py(e){var t=ls(e,rQ),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:u,onAnimationStart:d,children:c}=t,h=r==="auto"?!hy.isSsr:r,m=eQ(t.animationId,t.animationManager),[b,x]=D.useState(h?z6:Ew),E=D.useRef(null);return D.useEffect(()=>{h||x(Ew)},[h]),D.useEffect(()=>{if(!h||!n)return _0;var C=HZ(z6,Ew,XZ(a),i,x,m.getTimeoutController()),T=()=>{E.current=C()};return m.start([d,o,T,i,u]),()=>{m.stop(),E.current&&E.current(),u()}},[h,n,i,a,o,d,u,m]),c(b.t)}function gy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=D.useRef(ip(t)),n=D.useRef(e);return n.current!==e&&(r.current=ip(t),n.current=e),r.current}var nQ=["radius"],iQ=["radius"],q6,H6,G6,W6,$6,V6,Y6,X6,K6,Z6;function Q6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function J6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q6(Object(r),!0).forEach(function(n){aQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aQ(e,t,r){return(t=sQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sQ(e){var t=oQ(e,"string");return typeof t=="symbol"?t:t+""}function oQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jv.apply(null,arguments)}function eO(e,t){if(e==null)return{};var r,n,i=lQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ac(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var tO=(e,t,r,n,i)=>{var a=Nf(r),o=Nf(n),u=Math.min(Math.abs(a)/2,Math.abs(o)/2),d=o>=0?1:-1,c=a>=0?1:-1,h=o>=0&&a>=0||o<0&&a<0?1:0,m;if(u>0&&Array.isArray(i)){for(var b=[0,0,0,0],x=0,E=4;x<E;x++){var C,T=(C=i[x])!==null&&C!==void 0?C:0;b[x]=T>u?u:T}m=Zi(q6||(q6=Ac(["M",",",""])),e,t+d*b[0]),b[0]>0&&(m+=Zi(H6||(H6=Ac(["A ",",",",0,0,",",",",",""])),b[0],b[0],h,e+c*b[0],t)),m+=Zi(G6||(G6=Ac(["L ",",",""])),e+r-c*b[1],t),b[1]>0&&(m+=Zi(W6||(W6=Ac(["A ",",",",0,0,",`,
        `,",",""])),b[1],b[1],h,e+r,t+d*b[1])),m+=Zi($6||($6=Ac(["L ",",",""])),e+r,t+n-d*b[2]),b[2]>0&&(m+=Zi(V6||(V6=Ac(["A ",",",",0,0,",`,
        `,",",""])),b[2],b[2],h,e+r-c*b[2],t+n)),m+=Zi(Y6||(Y6=Ac(["L ",",",""])),e+c*b[3],t+n),b[3]>0&&(m+=Zi(X6||(X6=Ac(["A ",",",",0,0,",`,
        `,",",""])),b[3],b[3],h,e,t+n-d*b[3])),m+="Z"}else if(u>0&&i===+i&&i>0){var I=Math.min(u,i);m=Zi(K6||(K6=Ac(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+d*I,I,I,h,e+c*I,t,e+r-c*I,t,I,I,h,e+r,t+d*I,e+r,t+n-d*I,I,I,h,e+r-c*I,t+n,e+c*I,t+n,I,I,h,e,t+n-d*I)}else m=Zi(Z6||(Z6=Ac(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return m},rO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_R=e=>{var t=ls(e,rO),r=D.useRef(null),[n,i]=D.useState(-1);D.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var fe=r.current.getTotalLength();fe&&i(fe)}catch{}},[]);var{x:a,y:o,width:u,height:d,radius:c,className:h}=t,{animationEasing:m,animationDuration:b,animationBegin:x,isAnimationActive:E,isUpdateAnimationActive:C}=t,T=D.useRef(u),I=D.useRef(d),B=D.useRef(a),U=D.useRef(o),F=D.useMemo(()=>({x:a,y:o,width:u,height:d,radius:c}),[a,o,u,d,c]),K=gy(F,"rectangle-");if(a!==+a||o!==+o||u!==+u||d!==+d||u===0||d===0)return null;var Z=On("recharts-rectangle",h);if(!C){var V=xl(t),{radius:Q}=V,q=eO(V,nQ);return D.createElement("path",Jv({},q,{x:Nf(a),y:Nf(o),width:Nf(u),height:Nf(d),radius:typeof c=="number"?c:void 0,className:Z,d:tO(a,o,u,d,c)}))}var se=T.current,G=I.current,H=B.current,le=U.current,J="0px ".concat(n===-1?1:n,"px"),ie="".concat(n,"px 0px"),ne=yR(["strokeDasharray"],b,typeof m=="string"?m:rO.animationEasing);return D.createElement(py,{animationId:K,key:K,canBegin:n>0,duration:b,easing:m,isActive:C,begin:x},fe=>{var we=La(se,u,fe),Ie=La(G,d,fe),Me=La(H,a,fe),pe=La(le,o,fe);r.current&&(T.current=we,I.current=Ie,B.current=Me,U.current=pe);var X;E?fe>0?X={transition:ne,strokeDasharray:ie}:X={strokeDasharray:J}:X={strokeDasharray:ie};var de=xl(t),{radius:me}=de,Ne=eO(de,iQ);return D.createElement("path",Jv({},Ne,{radius:typeof c=="number"?c:void 0,className:Z,d:tO(Me,pe,we,Ie,c),ref:r,style:J6(J6({},X),t.style)}))})};function nO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(r),!0).forEach(function(n){cQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cQ(e,t,r){return(t=uQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uQ(e){var t=fQ(e,"string");return typeof t=="symbol"?t:t+""}function fQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e2=Math.PI/180,dQ=e=>e*180/Math.PI,wa=(e,t,r,n)=>({x:e+Math.cos(-e2*n)*r,y:t+Math.sin(-e2*n)*r}),AR=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},hQ=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},pQ=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=hQ({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var u=(r-i)/o,d=Math.acos(u);return n>a&&(d=2*Math.PI-d),{radius:o,angle:dQ(d),angleInRadian:d}},gQ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},mQ=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return e+o*360},vQ=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=pQ({x:r,y:n},t),{innerRadius:o,outerRadius:u}=t;if(i<o||i>u||i===0)return null;var{startAngle:d,endAngle:c}=gQ(t),h=a,m;if(d<=c){for(;h>c;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=c}else{for(;h>d;)h-=360;for(;h<c;)h+=360;m=h>=c&&h<=d}return m?iO(iO({},t),{},{radius:i,angle:mQ(h,t)}):null};function SR(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,o=wa(t,r,n,i),u=wa(t,r,n,a);return{points:[o,u],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}var aO,sO,oO,lO,cO,uO,fO;function b_(){return b_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b_.apply(null,arguments)}function yd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var yQ=(e,t)=>{var r=ss(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},lm=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:u,cornerIsExternal:d}=e,c=u*(o?1:-1)+n,h=Math.asin(u/c)/e2,m=d?i:i+a*h,b=wa(t,r,c,m),x=wa(t,r,n,m),E=d?i-a*h:i,C=wa(t,r,c*Math.cos(h*e2),E);return{center:b,circleTangency:x,lineTangency:C,theta:h}},ER=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,u=yQ(a,o),d=a+u,c=wa(t,r,i,a),h=wa(t,r,i,d),m=Zi(aO||(aO=yd(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(u)>180),+(a>d),h.x,h.y);if(n>0){var b=wa(t,r,n,a),x=wa(t,r,n,d);m+=Zi(sO||(sO=yd(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,n,n,+(Math.abs(u)>180),+(a<=d),b.x,b.y)}else m+=Zi(oO||(oO=yd(["L ",","," Z"])),t,r);return m},bQ=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:u,startAngle:d,endAngle:c}=e,h=ss(c-d),{circleTangency:m,lineTangency:b,theta:x}=lm({cx:t,cy:r,radius:i,angle:d,sign:h,cornerRadius:a,cornerIsExternal:u}),{circleTangency:E,lineTangency:C,theta:T}=lm({cx:t,cy:r,radius:i,angle:c,sign:-h,cornerRadius:a,cornerIsExternal:u}),I=u?Math.abs(d-c):Math.abs(d-c)-x-T;if(I<0)return o?Zi(lO||(lO=yd(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),b.x,b.y,a,a,a*2,a,a,-a*2):ER({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:d,endAngle:c});var B=Zi(cO||(cO=yd(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),b.x,b.y,a,a,+(h<0),m.x,m.y,i,i,+(I>180),+(h<0),E.x,E.y,a,a,+(h<0),C.x,C.y);if(n>0){var{circleTangency:U,lineTangency:F,theta:K}=lm({cx:t,cy:r,radius:n,angle:d,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:Z,lineTangency:V,theta:Q}=lm({cx:t,cy:r,radius:n,angle:c,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),q=u?Math.abs(d-c):Math.abs(d-c)-K-Q;if(q<0&&a===0)return"".concat(B,"L").concat(t,",").concat(r,"Z");B+=Zi(uO||(uO=yd(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),V.x,V.y,a,a,+(h<0),Z.x,Z.y,n,n,+(q>180),+(h>0),U.x,U.y,a,a,+(h<0),F.x,F.y)}else B+=Zi(fO||(fO=yd(["L",",","Z"])),t,r);return B},xQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},CR=e=>{var t=ls(e,xQ),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:d,startAngle:c,endAngle:h,className:m}=t;if(a<i||c===h)return null;var b=On("recharts-sector",m),x=a-i,E=Us(o,x,0,!0),C;return E>0&&Math.abs(c-h)<360?C=bQ({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(E,x/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:c,endAngle:h}):C=ER({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:h}),D.createElement("path",b_({},xl(t),{className:b,d:C}))};function wQ(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(ij(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:o,angle:u}=t,d=wa(n,i,a,u),c=wa(n,i,o,u);return[{x:d.x,y:d.y},{x:c.x,y:c.y}]}return SR(t)}}var Cw={},Nw={},Ow={},dO;function _Q(){return dO||(dO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gj();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Ow)),Ow}var hO;function AQ(){return hO||(hO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_Q();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Nw)),Nw}var pO;function SQ(){return pO||(pO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mj(),r=AQ();function n(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const u=Math.max(Math.ceil((a-i)/(o||1)),0),d=new Array(u);for(let c=0;c<u;c++)d[c]=i,i+=o;return d}e.range=n})(Cw)),Cw}var Tw,gO;function EQ(){return gO||(gO=1,Tw=SQ().range),Tw}var CQ=EQ();const NR=qc(CQ);function Tf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NQ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $3(e){let t,r,n;e.length!==2?(t=Tf,r=(u,d)=>Tf(e(u),d),n=(u,d)=>e(u)-d):(t=e===Tf||e===NQ?e:OQ,r=e,n=e);function i(u,d,c=0,h=u.length){if(c<h){if(t(d,d)!==0)return h;do{const m=c+h>>>1;r(u[m],d)<0?c=m+1:h=m}while(c<h)}return c}function a(u,d,c=0,h=u.length){if(c<h){if(t(d,d)!==0)return h;do{const m=c+h>>>1;r(u[m],d)<=0?c=m+1:h=m}while(c<h)}return c}function o(u,d,c=0,h=u.length){const m=i(u,d,c,h-1);return m>c&&n(u[m-1],d)>-n(u[m],d)?m-1:m}return{left:i,center:o,right:a}}function OQ(){return 0}function OR(e){return e===null?NaN:+e}function*TQ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const IQ=$3(Tf),Pp=IQ.right;$3(OR).center;class mO extends Map{constructor(t,r=jQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(vO(this,t))}has(t){return super.has(vO(this,t))}set(t,r){return super.set(kQ(this,t),r)}delete(t){return super.delete(MQ(this,t))}}function vO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function kQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function MQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function jQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function RQ(e=Tf){if(e===Tf)return TR;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function TR(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const PQ=Math.sqrt(50),DQ=Math.sqrt(10),LQ=Math.sqrt(2);function t2(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=PQ?10:a>=DQ?5:a>=LQ?2:1;let u,d,c;return i<0?(c=Math.pow(10,-i)/o,u=Math.round(e*c),d=Math.round(t*c),u/c<e&&++u,d/c>t&&--d,c=-c):(c=Math.pow(10,i)*o,u=Math.round(e/c),d=Math.round(t/c),u*c<e&&++u,d*c>t&&--d),d<u&&.5<=r&&r<2?t2(e,t,r*2):[u,d,c]}function x_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?t2(t,e,r):t2(e,t,r);if(!(a>=i))return[];const u=a-i+1,d=new Array(u);if(n)if(o<0)for(let c=0;c<u;++c)d[c]=(a-c)/-o;else for(let c=0;c<u;++c)d[c]=(a-c)*o;else if(o<0)for(let c=0;c<u;++c)d[c]=(i+c)/-o;else for(let c=0;c<u;++c)d[c]=(i+c)*o;return d}function w_(e,t,r){return t=+t,e=+e,r=+r,t2(e,t,r)[2]}function __(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?w_(t,e,r):w_(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function yO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function bO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function IR(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?TR:RQ(i);n>r;){if(n-r>600){const d=n-r+1,c=t-r+1,h=Math.log(d),m=.5*Math.exp(2*h/3),b=.5*Math.sqrt(h*m*(d-m)/d)*(c-d/2<0?-1:1),x=Math.max(r,Math.floor(t-c*m/d+b)),E=Math.min(n,Math.floor(t+(d-c)*m/d+b));IR(e,t,x,E,i)}const a=e[t];let o=r,u=n;for(_1(e,r,t),i(e[n],a)>0&&_1(e,r,n);o<u;){for(_1(e,o,u),++o,--u;i(e[o],a)<0;)++o;for(;i(e[u],a)>0;)--u}i(e[r],a)===0?_1(e,r,u):(++u,_1(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function _1(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function BQ(e,t,r){if(e=Float64Array.from(TQ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return bO(e);if(t>=1)return yO(e);var n,i=(n-1)*t,a=Math.floor(i),o=yO(IR(e,a).subarray(0,a+1)),u=bO(e.subarray(a+1));return o+(u-o)*(i-a)}}function FQ(e,t,r=OR){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),u=+r(e[a+1],a+1,e);return o+(u-o)*(i-a)}}function UQ(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Sl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Bu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const A_=Symbol("implicit");function V3(){var e=new mO,t=[],r=[],n=A_;function i(a){let o=e.get(a);if(o===void 0){if(n!==A_)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new mO;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return V3(t,r).unknown(n)},Sl.apply(i,arguments),i}function Y3(){var e=V3().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,u=!1,d=0,c=0,h=.5;delete e.unknown;function m(){var b=t().length,x=i<n,E=x?i:n,C=x?n:i;a=(C-E)/Math.max(1,b-d+c*2),u&&(a=Math.floor(a)),E+=(C-E-a*(b-d))*h,o=a*(1-d),u&&(E=Math.round(E),o=Math.round(o));var T=UQ(b).map(function(I){return E+a*I});return r(x?T.reverse():T)}return e.domain=function(b){return arguments.length?(t(b),m()):t()},e.range=function(b){return arguments.length?([n,i]=b,n=+n,i=+i,m()):[n,i]},e.rangeRound=function(b){return[n,i]=b,n=+n,i=+i,u=!0,m()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(b){return arguments.length?(u=!!b,m()):u},e.padding=function(b){return arguments.length?(d=Math.min(1,c=+b),m()):d},e.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),m()):d},e.paddingOuter=function(b){return arguments.length?(c=+b,m()):c},e.align=function(b){return arguments.length?(h=Math.max(0,Math.min(1,b)),m()):h},e.copy=function(){return Y3(t(),[n,i]).round(u).paddingInner(d).paddingOuter(c).align(h)},Sl.apply(m(),arguments)}function kR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return kR(t())},e}function zQ(){return kR(Y3.apply(null,arguments).paddingInner(1))}function X3(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function MR(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Dp(){}var dp=.7,r2=1/dp,e0="\\s*([+-]?\\d+)\\s*",hp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qQ=/^#([0-9a-f]{3,8})$/,HQ=new RegExp(`^rgb\\(${e0},${e0},${e0}\\)$`),GQ=new RegExp(`^rgb\\(${Lc},${Lc},${Lc}\\)$`),WQ=new RegExp(`^rgba\\(${e0},${e0},${e0},${hp}\\)$`),$Q=new RegExp(`^rgba\\(${Lc},${Lc},${Lc},${hp}\\)$`),VQ=new RegExp(`^hsl\\(${hp},${Lc},${Lc}\\)$`),YQ=new RegExp(`^hsla\\(${hp},${Lc},${Lc},${hp}\\)$`),xO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};X3(Dp,pp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:wO,formatHex:wO,formatHex8:XQ,formatHsl:KQ,formatRgb:_O,toString:_O});function wO(){return this.rgb().formatHex()}function XQ(){return this.rgb().formatHex8()}function KQ(){return jR(this).formatHsl()}function _O(){return this.rgb().formatRgb()}function pp(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=qQ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?AO(t):r===3?new To(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?cm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?cm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=HQ.exec(e))?new To(t[1],t[2],t[3],1):(t=GQ.exec(e))?new To(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=WQ.exec(e))?cm(t[1],t[2],t[3],t[4]):(t=$Q.exec(e))?cm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=VQ.exec(e))?CO(t[1],t[2]/100,t[3]/100,1):(t=YQ.exec(e))?CO(t[1],t[2]/100,t[3]/100,t[4]):xO.hasOwnProperty(e)?AO(xO[e]):e==="transparent"?new To(NaN,NaN,NaN,0):null}function AO(e){return new To(e>>16&255,e>>8&255,e&255,1)}function cm(e,t,r,n){return n<=0&&(e=t=r=NaN),new To(e,t,r,n)}function ZQ(e){return e instanceof Dp||(e=pp(e)),e?(e=e.rgb(),new To(e.r,e.g,e.b,e.opacity)):new To}function S_(e,t,r,n){return arguments.length===1?ZQ(e):new To(e,t,r,n??1)}function To(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}X3(To,S_,MR(Dp,{brighter(e){return e=e==null?r2:Math.pow(r2,e),new To(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dp:Math.pow(dp,e),new To(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new To(Ad(this.r),Ad(this.g),Ad(this.b),n2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SO,formatHex:SO,formatHex8:QQ,formatRgb:EO,toString:EO}));function SO(){return`#${bd(this.r)}${bd(this.g)}${bd(this.b)}`}function QQ(){return`#${bd(this.r)}${bd(this.g)}${bd(this.b)}${bd((isNaN(this.opacity)?1:this.opacity)*255)}`}function EO(){const e=n2(this.opacity);return`${e===1?"rgb(":"rgba("}${Ad(this.r)}, ${Ad(this.g)}, ${Ad(this.b)}${e===1?")":`, ${e})`}`}function n2(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ad(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function bd(e){return e=Ad(e),(e<16?"0":"")+e.toString(16)}function CO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Kl(e,t,r,n)}function jR(e){if(e instanceof Kl)return new Kl(e.h,e.s,e.l,e.opacity);if(e instanceof Dp||(e=pp(e)),!e)return new Kl;if(e instanceof Kl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,u=a-i,d=(a+i)/2;return u?(t===a?o=(r-n)/u+(r<n)*6:r===a?o=(n-t)/u+2:o=(t-r)/u+4,u/=d<.5?a+i:2-a-i,o*=60):u=d>0&&d<1?0:o,new Kl(o,u,d,e.opacity)}function JQ(e,t,r,n){return arguments.length===1?jR(e):new Kl(e,t,r,n??1)}function Kl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}X3(Kl,JQ,MR(Dp,{brighter(e){return e=e==null?r2:Math.pow(r2,e),new Kl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dp:Math.pow(dp,e),new Kl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new To(Iw(e>=240?e-240:e+120,i,n),Iw(e,i,n),Iw(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Kl(NO(this.h),um(this.s),um(this.l),n2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=n2(this.opacity);return`${e===1?"hsl(":"hsla("}${NO(this.h)}, ${um(this.s)*100}%, ${um(this.l)*100}%${e===1?")":`, ${e})`}`}}));function NO(e){return e=(e||0)%360,e<0?e+360:e}function um(e){return Math.max(0,Math.min(1,e||0))}function Iw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const K3=e=>()=>e;function eJ(e,t){return function(r){return e+r*t}}function tJ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function rJ(e){return(e=+e)==1?RR:function(t,r){return r-t?tJ(t,r,e):K3(isNaN(t)?r:t)}}function RR(e,t){var r=t-e;return r?eJ(e,r):K3(isNaN(e)?t:e)}const OO=(function e(t){var r=rJ(t);function n(i,a){var o=r((i=S_(i)).r,(a=S_(a)).r),u=r(i.g,a.g),d=r(i.b,a.b),c=RR(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=u(h),i.b=d(h),i.opacity=c(h),i+""}}return n.gamma=e,n})(1);function nJ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function iJ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function aJ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=S0(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(u){for(o=0;o<n;++o)a[o]=i[o](u);return a}}function sJ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function i2(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function oJ(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=S0(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var E_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kw=new RegExp(E_.source,"g");function lJ(e){return function(){return e}}function cJ(e){return function(t){return e(t)+""}}function uJ(e,t){var r=E_.lastIndex=kw.lastIndex=0,n,i,a,o=-1,u=[],d=[];for(e=e+"",t=t+"";(n=E_.exec(e))&&(i=kw.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),u[o]?u[o]+=a:u[++o]=a),(n=n[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,d.push({i:o,x:i2(n,i)})),r=kw.lastIndex;return r<t.length&&(a=t.slice(r),u[o]?u[o]+=a:u[++o]=a),u.length<2?d[0]?cJ(d[0].x):lJ(t):(t=d.length,function(c){for(var h=0,m;h<t;++h)u[(m=d[h]).i]=m.x(c);return u.join("")})}function S0(e,t){var r=typeof t,n;return t==null||r==="boolean"?K3(t):(r==="number"?i2:r==="string"?(n=pp(t))?(t=n,OO):uJ:t instanceof pp?OO:t instanceof Date?sJ:iJ(t)?nJ:Array.isArray(t)?aJ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?oJ:i2)(e,t)}function Z3(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function fJ(e,t){t===void 0&&(t=e,e=S0);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var u=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[u](o-u)}}function dJ(e){return function(){return e}}function a2(e){return+e}var TO=[0,1];function to(e){return e}function C_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:dJ(isNaN(t)?NaN:.5)}function hJ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function pJ(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=C_(i,n),a=r(o,a)):(n=C_(n,i),a=r(a,o)),function(u){return a(n(u))}}function gJ(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=C_(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(u){var d=Pp(e,u,1,n)-1;return a[d](i[d](u))}}function Lp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function my(){var e=TO,t=TO,r=S0,n,i,a,o=to,u,d,c;function h(){var b=Math.min(e.length,t.length);return o!==to&&(o=hJ(e[0],e[b-1])),u=b>2?gJ:pJ,d=c=null,m}function m(b){return b==null||isNaN(b=+b)?a:(d||(d=u(e.map(n),t,r)))(n(o(b)))}return m.invert=function(b){return o(i((c||(c=u(t,e.map(n),i2)))(b)))},m.domain=function(b){return arguments.length?(e=Array.from(b,a2),h()):e.slice()},m.range=function(b){return arguments.length?(t=Array.from(b),h()):t.slice()},m.rangeRound=function(b){return t=Array.from(b),r=Z3,h()},m.clamp=function(b){return arguments.length?(o=b?!0:to,h()):o!==to},m.interpolate=function(b){return arguments.length?(r=b,h()):r},m.unknown=function(b){return arguments.length?(a=b,m):a},function(b,x){return n=b,i=x,h()}}function Q3(){return my()(to,to)}function mJ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function s2(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function f0(e){return e=s2(Math.abs(e)),e?e[1]:NaN}function vJ(e,t){return function(r,n){for(var i=r.length,a=[],o=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),a.push(r.substring(i-=u,i+u)),!((d+=u+1)>n));)u=e[o=(o+1)%e.length];return a.reverse().join(t)}}function yJ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var bJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gp(e){if(!(t=bJ.exec(e)))throw new Error("invalid format: "+e);var t;return new J3({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}gp.prototype=J3.prototype;function J3(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}J3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xJ(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var o2;function wJ(e,t){var r=s2(e,t);if(!r)return o2=void 0,e.toPrecision(t);var n=r[0],i=r[1],a=i-(o2=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+s2(e,Math.max(0,t+a-1))[0]}function IO(e,t){var r=s2(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const kO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mJ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>IO(e*100,t),r:IO,s:wJ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function MO(e){return e}var jO=Array.prototype.map,RO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _J(e){var t=e.grouping===void 0||e.thousands===void 0?MO:vJ(jO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?MO:yJ(jO.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function c(m,b){m=gp(m);var x=m.fill,E=m.align,C=m.sign,T=m.symbol,I=m.zero,B=m.width,U=m.comma,F=m.precision,K=m.trim,Z=m.type;Z==="n"?(U=!0,Z="g"):kO[Z]||(F===void 0&&(F=12),K=!0,Z="g"),(I||x==="0"&&E==="=")&&(I=!0,x="0",E="=");var V=(b&&b.prefix!==void 0?b.prefix:"")+(T==="$"?r:T==="#"&&/[boxX]/.test(Z)?"0"+Z.toLowerCase():""),Q=(T==="$"?n:/[%p]/.test(Z)?o:"")+(b&&b.suffix!==void 0?b.suffix:""),q=kO[Z],se=/[defgprs%]/.test(Z);F=F===void 0?6:/[gprs]/.test(Z)?Math.max(1,Math.min(21,F)):Math.max(0,Math.min(20,F));function G(H){var le=V,J=Q,ie,ne,fe;if(Z==="c")J=q(H)+J,H="";else{H=+H;var we=H<0||1/H<0;if(H=isNaN(H)?d:q(Math.abs(H),F),K&&(H=xJ(H)),we&&+H==0&&C!=="+"&&(we=!1),le=(we?C==="("?C:u:C==="-"||C==="("?"":C)+le,J=(Z==="s"&&!isNaN(H)&&o2!==void 0?RO[8+o2/3]:"")+J+(we&&C==="("?")":""),se){for(ie=-1,ne=H.length;++ie<ne;)if(fe=H.charCodeAt(ie),48>fe||fe>57){J=(fe===46?i+H.slice(ie+1):H.slice(ie))+J,H=H.slice(0,ie);break}}}U&&!I&&(H=t(H,1/0));var Ie=le.length+H.length+J.length,Me=Ie<B?new Array(B-Ie+1).join(x):"";switch(U&&I&&(H=t(Me+H,Me.length?B-J.length:1/0),Me=""),E){case"<":H=le+H+J+Me;break;case"=":H=le+Me+H+J;break;case"^":H=Me.slice(0,Ie=Me.length>>1)+le+H+J+Me.slice(Ie);break;default:H=Me+le+H+J;break}return a(H)}return G.toString=function(){return m+""},G}function h(m,b){var x=Math.max(-8,Math.min(8,Math.floor(f0(b)/3)))*3,E=Math.pow(10,-x),C=c((m=gp(m),m.type="f",m),{suffix:RO[8+x/3]});return function(T){return C(E*T)}}return{format:c,formatPrefix:h}}var fm,eA,PR;AJ({thousands:",",grouping:[3],currency:["$",""]});function AJ(e){return fm=_J(e),eA=fm.format,PR=fm.formatPrefix,fm}function SJ(e){return Math.max(0,-f0(Math.abs(e)))}function EJ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(f0(t)/3)))*3-f0(Math.abs(e)))}function CJ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,f0(t)-f0(e))+1}function DR(e,t,r,n){var i=__(e,t,r),a;switch(n=gp(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=EJ(i,o))&&(n.precision=a),PR(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=CJ(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=SJ(i))&&(n.precision=a-(n.type==="%")*2);break}}return eA(n)}function Bf(e){var t=e.domain;return e.ticks=function(r){var n=t();return x_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return DR(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],u=n[a],d,c,h=10;for(u<o&&(c=o,o=u,u=c,c=i,i=a,a=c);h-- >0;){if(c=w_(o,u,r),c===d)return n[i]=o,n[a]=u,t(n);if(c>0)o=Math.floor(o/c)*c,u=Math.ceil(u/c)*c;else if(c<0)o=Math.ceil(o*c)/c,u=Math.floor(u*c)/c;else break;d=c}return e},e}function LR(){var e=Q3();return e.copy=function(){return Lp(e,LR())},Sl.apply(e,arguments),Bf(e)}function BR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,a2),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return BR(e).unknown(t)},e=arguments.length?Array.from(e,a2):[0,1],Bf(r)}function FR(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function PO(e){return Math.log(e)}function DO(e){return Math.exp(e)}function NJ(e){return-Math.log(-e)}function OJ(e){return-Math.exp(-e)}function TJ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function IJ(e){return e===10?TJ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function kJ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function LO(e){return(t,r)=>-e(-t,r)}function tA(e){const t=e(PO,DO),r=t.domain;let n=10,i,a;function o(){return i=kJ(n),a=IJ(n),r()[0]<0?(i=LO(i),a=LO(a),e(NJ,OJ)):e(PO,DO),t}return t.base=function(u){return arguments.length?(n=+u,o()):n},t.domain=function(u){return arguments.length?(r(u),o()):r()},t.ticks=u=>{const d=r();let c=d[0],h=d[d.length-1];const m=h<c;m&&([c,h]=[h,c]);let b=i(c),x=i(h),E,C;const T=u==null?10:+u;let I=[];if(!(n%1)&&x-b<T){if(b=Math.floor(b),x=Math.ceil(x),c>0){for(;b<=x;++b)for(E=1;E<n;++E)if(C=b<0?E/a(-b):E*a(b),!(C<c)){if(C>h)break;I.push(C)}}else for(;b<=x;++b)for(E=n-1;E>=1;--E)if(C=b>0?E/a(-b):E*a(b),!(C<c)){if(C>h)break;I.push(C)}I.length*2<T&&(I=x_(c,h,T))}else I=x_(b,x,Math.min(x-b,T)).map(a);return m?I.reverse():I},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=gp(d)).precision==null&&(d.trim=!0),d=eA(d)),u===1/0)return d;const c=Math.max(1,n*u/t.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*n<n-.5&&(m*=n),m<=c?d(h):""}},t.nice=()=>r(FR(r(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),t}function UR(){const e=tA(my()).domain([1,10]);return e.copy=()=>Lp(e,UR()).base(e.base()),Sl.apply(e,arguments),e}function BO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function FO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function rA(e){var t=1,r=e(BO(t),FO(t));return r.constant=function(n){return arguments.length?e(BO(t=+n),FO(t)):t},Bf(r)}function zR(){var e=rA(my());return e.copy=function(){return Lp(e,zR()).constant(e.constant())},Sl.apply(e,arguments)}function UO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function MJ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function jJ(e){return e<0?-e*e:e*e}function nA(e){var t=e(to,to),r=1;function n(){return r===1?e(to,to):r===.5?e(MJ,jJ):e(UO(r),UO(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Bf(t)}function iA(){var e=nA(my());return e.copy=function(){return Lp(e,iA()).exponent(e.exponent())},Sl.apply(e,arguments),e}function RJ(){return iA.apply(null,arguments).exponent(.5)}function zO(e){return Math.sign(e)*e*e}function PJ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function qR(){var e=Q3(),t=[0,1],r=!1,n;function i(a){var o=PJ(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(zO(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,a2)).map(zO)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return qR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Sl.apply(i,arguments),Bf(i)}function HR(){var e=[],t=[],r=[],n;function i(){var o=0,u=Math.max(1,t.length);for(r=new Array(u-1);++o<u;)r[o-1]=FQ(e,o/u);return a}function a(o){return o==null||isNaN(o=+o)?n:t[Pp(r,o)]}return a.invertExtent=function(o){var u=t.indexOf(o);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let u of o)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Tf),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return HR().domain(e).range(t).unknown(n)},Sl.apply(a,arguments)}function GR(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(d){return d!=null&&d<=d?i[Pp(n,d,0,r)]:a}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},o.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,u()):i.slice()},o.invertExtent=function(d){var c=i.indexOf(d);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(d){return arguments.length&&(a=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return GR().domain([e,t]).range(i).unknown(a)},Sl.apply(Bf(o),arguments)}function WR(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Pp(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return WR().domain(e).range(t).unknown(r)},Sl.apply(i,arguments)}const Mw=new Date,jw=new Date;function za(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,u)=>{const d=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return d;let c;do d.push(c=new Date(+a)),t(a,u),e(a);while(c<a&&a<o);return d},i.filter=a=>za(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!a(o););else for(;--u>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(Mw.setTime(+a),jw.setTime(+o),e(Mw),e(jw),Math.floor(r(Mw,jw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const l2=za(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);l2.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?za(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):l2);l2.range;const bu=1e3,bl=bu*60,xu=bl*60,Ou=xu*24,aA=Ou*7,qO=Ou*30,Rw=Ou*365,xd=za(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*bu)},(e,t)=>(t-e)/bu,e=>e.getUTCSeconds());xd.range;const sA=za(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bu)},(e,t)=>{e.setTime(+e+t*bl)},(e,t)=>(t-e)/bl,e=>e.getMinutes());sA.range;const oA=za(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*bl)},(e,t)=>(t-e)/bl,e=>e.getUTCMinutes());oA.range;const lA=za(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bu-e.getMinutes()*bl)},(e,t)=>{e.setTime(+e+t*xu)},(e,t)=>(t-e)/xu,e=>e.getHours());lA.range;const cA=za(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*xu)},(e,t)=>(t-e)/xu,e=>e.getUTCHours());cA.range;const Bp=za(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*bl)/Ou,e=>e.getDate()-1);Bp.range;const vy=za(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ou,e=>e.getUTCDate()-1);vy.range;const $R=za(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ou,e=>Math.floor(e/Ou));$R.range;function Ud(e){return za(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*bl)/aA)}const yy=Ud(0),c2=Ud(1),DJ=Ud(2),LJ=Ud(3),d0=Ud(4),BJ=Ud(5),FJ=Ud(6);yy.range;c2.range;DJ.range;LJ.range;d0.range;BJ.range;FJ.range;function zd(e){return za(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/aA)}const by=zd(0),u2=zd(1),UJ=zd(2),zJ=zd(3),h0=zd(4),qJ=zd(5),HJ=zd(6);by.range;u2.range;UJ.range;zJ.range;h0.range;qJ.range;HJ.range;const uA=za(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());uA.range;const fA=za(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());fA.range;const Tu=za(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Tu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:za(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Tu.range;const Iu=za(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Iu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:za(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Iu.range;function VR(e,t,r,n,i,a){const o=[[xd,1,bu],[xd,5,5*bu],[xd,15,15*bu],[xd,30,30*bu],[a,1,bl],[a,5,5*bl],[a,15,15*bl],[a,30,30*bl],[i,1,xu],[i,3,3*xu],[i,6,6*xu],[i,12,12*xu],[n,1,Ou],[n,2,2*Ou],[r,1,aA],[t,1,qO],[t,3,3*qO],[e,1,Rw]];function u(c,h,m){const b=h<c;b&&([c,h]=[h,c]);const x=m&&typeof m.range=="function"?m:d(c,h,m),E=x?x.range(c,+h+1):[];return b?E.reverse():E}function d(c,h,m){const b=Math.abs(h-c)/m,x=$3(([,,T])=>T).right(o,b);if(x===o.length)return e.every(__(c/Rw,h/Rw,m));if(x===0)return l2.every(Math.max(__(c,h,m),1));const[E,C]=o[b/o[x-1][2]<o[x][2]/b?x-1:x];return E.every(C)}return[u,d]}const[GJ,WJ]=VR(Iu,fA,by,$R,cA,oA),[$J,VJ]=VR(Tu,uA,yy,Bp,lA,sA);function Pw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Dw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function A1(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function YJ(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,u=e.months,d=e.shortMonths,c=S1(i),h=E1(i),m=S1(a),b=E1(a),x=S1(o),E=E1(o),C=S1(u),T=E1(u),I=S1(d),B=E1(d),U={a:fe,A:we,b:Ie,B:Me,c:null,d:YO,e:YO,f:vee,g:Nee,G:Tee,H:pee,I:gee,j:mee,L:YR,m:yee,M:bee,p:pe,q:X,Q:ZO,s:QO,S:xee,u:wee,U:_ee,V:Aee,w:See,W:Eee,x:null,X:null,y:Cee,Y:Oee,Z:Iee,"%":KO},F={a:de,A:me,b:Ne,B:xe,c:null,d:XO,e:XO,f:Ree,g:Gee,G:$ee,H:kee,I:Mee,j:jee,L:KR,m:Pee,M:Dee,p:Re,q:ze,Q:ZO,s:QO,S:Lee,u:Bee,U:Fee,V:Uee,w:zee,W:qee,x:null,X:null,y:Hee,Y:Wee,Z:Vee,"%":KO},K={a:se,A:G,b:H,B:le,c:J,d:$O,e:$O,f:uee,g:WO,G:GO,H:VO,I:VO,j:see,L:cee,m:aee,M:oee,p:q,q:iee,Q:dee,s:hee,S:lee,u:JJ,U:eee,V:tee,w:QJ,W:ree,x:ie,X:ne,y:WO,Y:GO,Z:nee,"%":fee};U.x=Z(r,U),U.X=Z(n,U),U.c=Z(t,U),F.x=Z(r,F),F.X=Z(n,F),F.c=Z(t,F);function Z(Ce,Ge){return function(Je){var qe=[],lt=-1,bt=0,ve=Ce.length,wt,jt,_t;for(Je instanceof Date||(Je=new Date(+Je));++lt<ve;)Ce.charCodeAt(lt)===37&&(qe.push(Ce.slice(bt,lt)),(jt=HO[wt=Ce.charAt(++lt)])!=null?wt=Ce.charAt(++lt):jt=wt==="e"?" ":"0",(_t=Ge[wt])&&(wt=_t(Je,jt)),qe.push(wt),bt=lt+1);return qe.push(Ce.slice(bt,lt)),qe.join("")}}function V(Ce,Ge){return function(Je){var qe=A1(1900,void 0,1),lt=Q(qe,Ce,Je+="",0),bt,ve;if(lt!=Je.length)return null;if("Q"in qe)return new Date(qe.Q);if("s"in qe)return new Date(qe.s*1e3+("L"in qe?qe.L:0));if(Ge&&!("Z"in qe)&&(qe.Z=0),"p"in qe&&(qe.H=qe.H%12+qe.p*12),qe.m===void 0&&(qe.m="q"in qe?qe.q:0),"V"in qe){if(qe.V<1||qe.V>53)return null;"w"in qe||(qe.w=1),"Z"in qe?(bt=Dw(A1(qe.y,0,1)),ve=bt.getUTCDay(),bt=ve>4||ve===0?u2.ceil(bt):u2(bt),bt=vy.offset(bt,(qe.V-1)*7),qe.y=bt.getUTCFullYear(),qe.m=bt.getUTCMonth(),qe.d=bt.getUTCDate()+(qe.w+6)%7):(bt=Pw(A1(qe.y,0,1)),ve=bt.getDay(),bt=ve>4||ve===0?c2.ceil(bt):c2(bt),bt=Bp.offset(bt,(qe.V-1)*7),qe.y=bt.getFullYear(),qe.m=bt.getMonth(),qe.d=bt.getDate()+(qe.w+6)%7)}else("W"in qe||"U"in qe)&&("w"in qe||(qe.w="u"in qe?qe.u%7:"W"in qe?1:0),ve="Z"in qe?Dw(A1(qe.y,0,1)).getUTCDay():Pw(A1(qe.y,0,1)).getDay(),qe.m=0,qe.d="W"in qe?(qe.w+6)%7+qe.W*7-(ve+5)%7:qe.w+qe.U*7-(ve+6)%7);return"Z"in qe?(qe.H+=qe.Z/100|0,qe.M+=qe.Z%100,Dw(qe)):Pw(qe)}}function Q(Ce,Ge,Je,qe){for(var lt=0,bt=Ge.length,ve=Je.length,wt,jt;lt<bt;){if(qe>=ve)return-1;if(wt=Ge.charCodeAt(lt++),wt===37){if(wt=Ge.charAt(lt++),jt=K[wt in HO?Ge.charAt(lt++):wt],!jt||(qe=jt(Ce,Je,qe))<0)return-1}else if(wt!=Je.charCodeAt(qe++))return-1}return qe}function q(Ce,Ge,Je){var qe=c.exec(Ge.slice(Je));return qe?(Ce.p=h.get(qe[0].toLowerCase()),Je+qe[0].length):-1}function se(Ce,Ge,Je){var qe=x.exec(Ge.slice(Je));return qe?(Ce.w=E.get(qe[0].toLowerCase()),Je+qe[0].length):-1}function G(Ce,Ge,Je){var qe=m.exec(Ge.slice(Je));return qe?(Ce.w=b.get(qe[0].toLowerCase()),Je+qe[0].length):-1}function H(Ce,Ge,Je){var qe=I.exec(Ge.slice(Je));return qe?(Ce.m=B.get(qe[0].toLowerCase()),Je+qe[0].length):-1}function le(Ce,Ge,Je){var qe=C.exec(Ge.slice(Je));return qe?(Ce.m=T.get(qe[0].toLowerCase()),Je+qe[0].length):-1}function J(Ce,Ge,Je){return Q(Ce,t,Ge,Je)}function ie(Ce,Ge,Je){return Q(Ce,r,Ge,Je)}function ne(Ce,Ge,Je){return Q(Ce,n,Ge,Je)}function fe(Ce){return o[Ce.getDay()]}function we(Ce){return a[Ce.getDay()]}function Ie(Ce){return d[Ce.getMonth()]}function Me(Ce){return u[Ce.getMonth()]}function pe(Ce){return i[+(Ce.getHours()>=12)]}function X(Ce){return 1+~~(Ce.getMonth()/3)}function de(Ce){return o[Ce.getUTCDay()]}function me(Ce){return a[Ce.getUTCDay()]}function Ne(Ce){return d[Ce.getUTCMonth()]}function xe(Ce){return u[Ce.getUTCMonth()]}function Re(Ce){return i[+(Ce.getUTCHours()>=12)]}function ze(Ce){return 1+~~(Ce.getUTCMonth()/3)}return{format:function(Ce){var Ge=Z(Ce+="",U);return Ge.toString=function(){return Ce},Ge},parse:function(Ce){var Ge=V(Ce+="",!1);return Ge.toString=function(){return Ce},Ge},utcFormat:function(Ce){var Ge=Z(Ce+="",F);return Ge.toString=function(){return Ce},Ge},utcParse:function(Ce){var Ge=V(Ce+="",!0);return Ge.toString=function(){return Ce},Ge}}}var HO={"-":"",_:" ",0:"0"},cs=/^\s*\d+/,XJ=/^%/,KJ=/[\\^$*+?|[\]().{}]/g;function wn(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function ZJ(e){return e.replace(KJ,"\\$&")}function S1(e){return new RegExp("^(?:"+e.map(ZJ).join("|")+")","i")}function E1(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function QJ(e,t,r){var n=cs.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function JJ(e,t,r){var n=cs.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function eee(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function tee(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function ree(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function GO(e,t,r){var n=cs.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function WO(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function nee(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function iee(e,t,r){var n=cs.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function aee(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function $O(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function see(e,t,r){var n=cs.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function VO(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function oee(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function lee(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function cee(e,t,r){var n=cs.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function uee(e,t,r){var n=cs.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function fee(e,t,r){var n=XJ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function dee(e,t,r){var n=cs.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function hee(e,t,r){var n=cs.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function YO(e,t){return wn(e.getDate(),t,2)}function pee(e,t){return wn(e.getHours(),t,2)}function gee(e,t){return wn(e.getHours()%12||12,t,2)}function mee(e,t){return wn(1+Bp.count(Tu(e),e),t,3)}function YR(e,t){return wn(e.getMilliseconds(),t,3)}function vee(e,t){return YR(e,t)+"000"}function yee(e,t){return wn(e.getMonth()+1,t,2)}function bee(e,t){return wn(e.getMinutes(),t,2)}function xee(e,t){return wn(e.getSeconds(),t,2)}function wee(e){var t=e.getDay();return t===0?7:t}function _ee(e,t){return wn(yy.count(Tu(e)-1,e),t,2)}function XR(e){var t=e.getDay();return t>=4||t===0?d0(e):d0.ceil(e)}function Aee(e,t){return e=XR(e),wn(d0.count(Tu(e),e)+(Tu(e).getDay()===4),t,2)}function See(e){return e.getDay()}function Eee(e,t){return wn(c2.count(Tu(e)-1,e),t,2)}function Cee(e,t){return wn(e.getFullYear()%100,t,2)}function Nee(e,t){return e=XR(e),wn(e.getFullYear()%100,t,2)}function Oee(e,t){return wn(e.getFullYear()%1e4,t,4)}function Tee(e,t){var r=e.getDay();return e=r>=4||r===0?d0(e):d0.ceil(e),wn(e.getFullYear()%1e4,t,4)}function Iee(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wn(t/60|0,"0",2)+wn(t%60,"0",2)}function XO(e,t){return wn(e.getUTCDate(),t,2)}function kee(e,t){return wn(e.getUTCHours(),t,2)}function Mee(e,t){return wn(e.getUTCHours()%12||12,t,2)}function jee(e,t){return wn(1+vy.count(Iu(e),e),t,3)}function KR(e,t){return wn(e.getUTCMilliseconds(),t,3)}function Ree(e,t){return KR(e,t)+"000"}function Pee(e,t){return wn(e.getUTCMonth()+1,t,2)}function Dee(e,t){return wn(e.getUTCMinutes(),t,2)}function Lee(e,t){return wn(e.getUTCSeconds(),t,2)}function Bee(e){var t=e.getUTCDay();return t===0?7:t}function Fee(e,t){return wn(by.count(Iu(e)-1,e),t,2)}function ZR(e){var t=e.getUTCDay();return t>=4||t===0?h0(e):h0.ceil(e)}function Uee(e,t){return e=ZR(e),wn(h0.count(Iu(e),e)+(Iu(e).getUTCDay()===4),t,2)}function zee(e){return e.getUTCDay()}function qee(e,t){return wn(u2.count(Iu(e)-1,e),t,2)}function Hee(e,t){return wn(e.getUTCFullYear()%100,t,2)}function Gee(e,t){return e=ZR(e),wn(e.getUTCFullYear()%100,t,2)}function Wee(e,t){return wn(e.getUTCFullYear()%1e4,t,4)}function $ee(e,t){var r=e.getUTCDay();return e=r>=4||r===0?h0(e):h0.ceil(e),wn(e.getUTCFullYear()%1e4,t,4)}function Vee(){return"+0000"}function KO(){return"%"}function ZO(e){return+e}function QO(e){return Math.floor(+e/1e3)}var kh,QR,JR;Yee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Yee(e){return kh=YJ(e),QR=kh.format,kh.parse,JR=kh.utcFormat,kh.utcParse,kh}function Xee(e){return new Date(e)}function Kee(e){return e instanceof Date?+e:+new Date(+e)}function dA(e,t,r,n,i,a,o,u,d,c){var h=Q3(),m=h.invert,b=h.domain,x=c(".%L"),E=c(":%S"),C=c("%I:%M"),T=c("%I %p"),I=c("%a %d"),B=c("%b %d"),U=c("%B"),F=c("%Y");function K(Z){return(d(Z)<Z?x:u(Z)<Z?E:o(Z)<Z?C:a(Z)<Z?T:n(Z)<Z?i(Z)<Z?I:B:r(Z)<Z?U:F)(Z)}return h.invert=function(Z){return new Date(m(Z))},h.domain=function(Z){return arguments.length?b(Array.from(Z,Kee)):b().map(Xee)},h.ticks=function(Z){var V=b();return e(V[0],V[V.length-1],Z??10)},h.tickFormat=function(Z,V){return V==null?K:c(V)},h.nice=function(Z){var V=b();return(!Z||typeof Z.range!="function")&&(Z=t(V[0],V[V.length-1],Z??10)),Z?b(FR(V,Z)):h},h.copy=function(){return Lp(h,dA(e,t,r,n,i,a,o,u,d,c))},h}function Zee(){return Sl.apply(dA($J,VJ,Tu,uA,yy,Bp,lA,sA,xd,QR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Qee(){return Sl.apply(dA(GJ,WJ,Iu,fA,by,vy,cA,oA,xd,JR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xy(){var e=0,t=1,r,n,i,a,o=to,u=!1,d;function c(m){return m==null||isNaN(m=+m)?d:o(i===0?.5:(m=(a(m)-r)*i,u?Math.max(0,Math.min(1,m)):m))}c.domain=function(m){return arguments.length?([e,t]=m,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(m){return arguments.length?(u=!!m,c):u},c.interpolator=function(m){return arguments.length?(o=m,c):o};function h(m){return function(b){var x,E;return arguments.length?([x,E]=b,o=m(x,E),c):[o(0),o(1)]}}return c.range=h(S0),c.rangeRound=h(Z3),c.unknown=function(m){return arguments.length?(d=m,c):d},function(m){return a=m,r=m(e),n=m(t),i=r===n?0:1/(n-r),c}}function Ff(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function eP(){var e=Bf(xy()(to));return e.copy=function(){return Ff(e,eP())},Bu.apply(e,arguments)}function tP(){var e=tA(xy()).domain([1,10]);return e.copy=function(){return Ff(e,tP()).base(e.base())},Bu.apply(e,arguments)}function rP(){var e=rA(xy());return e.copy=function(){return Ff(e,rP()).constant(e.constant())},Bu.apply(e,arguments)}function hA(){var e=nA(xy());return e.copy=function(){return Ff(e,hA()).exponent(e.exponent())},Bu.apply(e,arguments)}function Jee(){return hA.apply(null,arguments).exponent(.5)}function nP(){var e=[],t=to;function r(n){if(n!=null&&!isNaN(n=+n))return t((Pp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Tf),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>BQ(e,a/n))},r.copy=function(){return nP(t).domain(e)},Bu.apply(r,arguments)}function wy(){var e=0,t=.5,r=1,n=1,i,a,o,u,d,c=to,h,m=!1,b;function x(C){return isNaN(C=+C)?b:(C=.5+((C=+h(C))-a)*(n*C<n*a?u:d),c(m?Math.max(0,Math.min(1,C)):C))}x.domain=function(C){return arguments.length?([e,t,r]=C,i=h(e=+e),a=h(t=+t),o=h(r=+r),u=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),n=a<i?-1:1,x):[e,t,r]},x.clamp=function(C){return arguments.length?(m=!!C,x):m},x.interpolator=function(C){return arguments.length?(c=C,x):c};function E(C){return function(T){var I,B,U;return arguments.length?([I,B,U]=T,c=fJ(C,[I,B,U]),x):[c(0),c(.5),c(1)]}}return x.range=E(S0),x.rangeRound=E(Z3),x.unknown=function(C){return arguments.length?(b=C,x):b},function(C){return h=C,i=C(e),a=C(t),o=C(r),u=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),n=a<i?-1:1,x}}function iP(){var e=Bf(wy()(to));return e.copy=function(){return Ff(e,iP())},Bu.apply(e,arguments)}function aP(){var e=tA(wy()).domain([.1,1,10]);return e.copy=function(){return Ff(e,aP()).base(e.base())},Bu.apply(e,arguments)}function sP(){var e=rA(wy());return e.copy=function(){return Ff(e,sP()).constant(e.constant())},Bu.apply(e,arguments)}function pA(){var e=nA(wy());return e.copy=function(){return Ff(e,pA()).exponent(e.exponent())},Bu.apply(e,arguments)}function ete(){return pA.apply(null,arguments).exponent(.5)}const L1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Y3,scaleDiverging:iP,scaleDivergingLog:aP,scaleDivergingPow:pA,scaleDivergingSqrt:ete,scaleDivergingSymlog:sP,scaleIdentity:BR,scaleImplicit:A_,scaleLinear:LR,scaleLog:UR,scaleOrdinal:V3,scalePoint:zQ,scalePow:iA,scaleQuantile:HR,scaleQuantize:GR,scaleRadial:qR,scaleSequential:eP,scaleSequentialLog:tP,scaleSequentialPow:hA,scaleSequentialQuantile:nP,scaleSequentialSqrt:Jee,scaleSequentialSymlog:rP,scaleSqrt:RJ,scaleSymlog:zR,scaleThreshold:WR,scaleTime:Zee,scaleUtc:Qee,tickFormat:DR},Symbol.toStringTag,{value:"Module"}));var Fu=e=>e.chartData,_y=Ke([Fu],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),oP=(e,t,r,n)=>n?_y(e):Fu(e),tte=(e,t,r)=>r?_y(e):Fu(e);function ku(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ln(t)&&ln(r))return!0}return!1}function JO(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function lP(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(ln(r))i=r;else if(typeof r=="function")return;if(ln(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(ku(o))return o}}function rte(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(ku(n))return JO(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,u;if(i==="auto")t!=null&&(o=Math.min(...t));else if(Yt(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&c6.test(i)){var d=c6.exec(i);if(d==null||d[1]==null||t==null)o=void 0;else{var c=+d[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(u=Math.max(...t));else if(Yt(a))u=a;else if(typeof a=="function")try{t!=null&&(u=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&u6.test(a)){var h=u6.exec(a);if(h==null||h[1]==null||t==null)u=void 0;else{var m=+h[1];u=t[1]+m}}else u=t==null?void 0:t[1];var b=[o,u];if(ku(b))return t==null?b:JO(b,t,r)}}}var E0=1e9,nte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},mA,Ni=!0,_l="[DecimalError] ",Sd=_l+"Invalid argument: ",gA=_l+"Exponent out of range: ",C0=Math.floor,fd=Math.pow,ite=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ko,is=1e7,vi=7,cP=9007199254740991,f2=C0(cP/vi),Ut={};Ut.absoluteValue=Ut.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ut.comparedTo=Ut.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ut.decimalPlaces=Ut.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*vi;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ut.dividedBy=Ut.div=function(e){return Au(this,new this.constructor(e))};Ut.dividedToIntegerBy=Ut.idiv=function(e){var t=this,r=t.constructor;return ti(Au(t,new r(e),0,1),r.precision)};Ut.equals=Ut.eq=function(e){return!this.cmp(e)};Ut.exponent=function(){return _a(this)};Ut.greaterThan=Ut.gt=function(e){return this.cmp(e)>0};Ut.greaterThanOrEqualTo=Ut.gte=function(e){return this.cmp(e)>=0};Ut.isInteger=Ut.isint=function(){return this.e>this.d.length-2};Ut.isNegative=Ut.isneg=function(){return this.s<0};Ut.isPositive=Ut.ispos=function(){return this.s>0};Ut.isZero=function(){return this.s===0};Ut.lessThan=Ut.lt=function(e){return this.cmp(e)<0};Ut.lessThanOrEqualTo=Ut.lte=function(e){return this.cmp(e)<1};Ut.logarithm=Ut.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ko))throw Error(_l+"NaN");if(r.s<1)throw Error(_l+(r.s?"NaN":"-Infinity"));return r.eq(Ko)?new n(0):(Ni=!1,t=Au(mp(r,a),mp(e,a),a),Ni=!0,ti(t,i))};Ut.minus=Ut.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?dP(t,e):uP(t,(e.s=-e.s,e))};Ut.modulo=Ut.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(_l+"NaN");return r.s?(Ni=!1,t=Au(r,e,0,1).times(e),Ni=!0,r.minus(t)):ti(new n(r),i)};Ut.naturalExponential=Ut.exp=function(){return fP(this)};Ut.naturalLogarithm=Ut.ln=function(){return mp(this)};Ut.negated=Ut.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ut.plus=Ut.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?uP(t,e):dP(t,(e.s=-e.s,e))};Ut.precision=Ut.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Sd+e);if(t=_a(i)+1,n=i.d.length-1,r=n*vi+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ut.squareRoot=Ut.sqrt=function(){var e,t,r,n,i,a,o,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(_l+"NaN")}for(e=_a(u),Ni=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=jc(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=C0((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(i.toString()),r=d.precision,i=o=r+3;;)if(a=n,n=a.plus(Au(u,a,o+2)).times(.5),jc(a.d).slice(0,o)===(t=jc(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(ti(a,r+1,0),a.times(a).eq(u)){n=a;break}}else if(t!="9999")break;o+=4}return Ni=!0,ti(n,r)};Ut.times=Ut.mul=function(e){var t,r,n,i,a,o,u,d,c,h=this,m=h.constructor,b=h.d,x=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,r=h.e+e.e,d=b.length,c=x.length,d<c&&(a=b,b=x,x=a,o=d,d=c,c=o),a=[],o=d+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=d+n;i>n;)u=a[i]+x[n]*b[i-n-1]+t,a[i--]=u%is|0,t=u/is|0;a[i]=(a[i]+t)%is|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Ni?ti(e,m.precision):e};Ut.toDecimalPlaces=Ut.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(zc(e,0,E0),t===void 0?t=n.rounding:zc(t,0,8),ti(r,e+_a(r)+1,t))};Ut.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=jd(n,!0):(zc(e,0,E0),t===void 0?t=i.rounding:zc(t,0,8),n=ti(new i(n),e+1,t),r=jd(n,!0,e+1)),r};Ut.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?jd(i):(zc(e,0,E0),t===void 0?t=a.rounding:zc(t,0,8),n=ti(new a(i),e+_a(i)+1,t),r=jd(n.abs(),!1,e+_a(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ut.toInteger=Ut.toint=function(){var e=this,t=e.constructor;return ti(new t(e),_a(e)+1,t.rounding)};Ut.toNumber=function(){return+this};Ut.toPower=Ut.pow=function(e){var t,r,n,i,a,o,u=this,d=u.constructor,c=12,h=+(e=new d(e));if(!e.s)return new d(Ko);if(u=new d(u),!u.s){if(e.s<1)throw Error(_l+"Infinity");return u}if(u.eq(Ko))return u;if(n=d.precision,e.eq(Ko))return ti(u,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=u.s,o){if((r=h<0?-h:h)<=cP){for(i=new d(Ko),t=Math.ceil(n/vi+4),Ni=!1;r%2&&(i=i.times(u),t8(i.d,t)),r=C0(r/2),r!==0;)u=u.times(u),t8(u.d,t);return Ni=!0,e.s<0?new d(Ko).div(i):ti(i,n)}}else if(a<0)throw Error(_l+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,Ni=!1,i=e.times(mp(u,n+c)),Ni=!0,i=fP(i),i.s=a,i};Ut.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=_a(i),n=jd(i,r<=a.toExpNeg||r>=a.toExpPos)):(zc(e,1,E0),t===void 0?t=a.rounding:zc(t,0,8),i=ti(new a(i),e,t),r=_a(i),n=jd(i,e<=r||r<=a.toExpNeg,e)),n};Ut.toSignificantDigits=Ut.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(zc(e,1,E0),t===void 0?t=n.rounding:zc(t,0,8)),ti(new n(r),e,t)};Ut.toString=Ut.valueOf=Ut.val=Ut.toJSON=Ut[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=_a(e),r=e.constructor;return jd(e,t<=r.toExpNeg||t>=r.toExpPos)};function uP(e,t){var r,n,i,a,o,u,d,c,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Ni?ti(t,m):t;if(d=e.d,c=t.d,o=e.e,i=t.e,d=d.slice(),a=o-i,a){for(a<0?(n=d,a=-a,u=c.length):(n=c,i=o,u=d.length),o=Math.ceil(m/vi),u=o>u?o+1:u+1,a>u&&(a=u,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(u=d.length,a=c.length,u-a<0&&(a=u,n=c,c=d,d=n),r=0;a;)r=(d[--a]=d[a]+c[a]+r)/is|0,d[a]%=is;for(r&&(d.unshift(r),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,Ni?ti(t,m):t}function zc(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Sd+e)}function jc(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=vi-n.length,r&&(a+=Af(r)),a+=n;o=e[t],n=o+"",r=vi-n.length,r&&(a+=Af(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Au=(function(){function e(n,i){var a,o=0,u=n.length;for(n=n.slice();u--;)a=n[u]*i+o,n[u]=a%is|0,o=a/is|0;return o&&n.unshift(o),n}function t(n,i,a,o){var u,d;if(a!=o)d=a>o?1:-1;else for(u=d=0;u<a;u++)if(n[u]!=i[u]){d=n[u]>i[u]?1:-1;break}return d}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*is+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var u,d,c,h,m,b,x,E,C,T,I,B,U,F,K,Z,V,Q,q=n.constructor,se=n.s==i.s?1:-1,G=n.d,H=i.d;if(!n.s)return new q(n);if(!i.s)throw Error(_l+"Division by zero");for(d=n.e-i.e,V=H.length,K=G.length,x=new q(se),E=x.d=[],c=0;H[c]==(G[c]||0);)++c;if(H[c]>(G[c]||0)&&--d,a==null?B=a=q.precision:o?B=a+(_a(n)-_a(i))+1:B=a,B<0)return new q(0);if(B=B/vi+2|0,c=0,V==1)for(h=0,H=H[0],B++;(c<K||h)&&B--;c++)U=h*is+(G[c]||0),E[c]=U/H|0,h=U%H|0;else{for(h=is/(H[0]+1)|0,h>1&&(H=e(H,h),G=e(G,h),V=H.length,K=G.length),F=V,C=G.slice(0,V),T=C.length;T<V;)C[T++]=0;Q=H.slice(),Q.unshift(0),Z=H[0],H[1]>=is/2&&++Z;do h=0,u=t(H,C,V,T),u<0?(I=C[0],V!=T&&(I=I*is+(C[1]||0)),h=I/Z|0,h>1?(h>=is&&(h=is-1),m=e(H,h),b=m.length,T=C.length,u=t(m,C,b,T),u==1&&(h--,r(m,V<b?Q:H,b))):(h==0&&(u=h=1),m=H.slice()),b=m.length,b<T&&m.unshift(0),r(C,m,T),u==-1&&(T=C.length,u=t(H,C,V,T),u<1&&(h++,r(C,V<T?Q:H,T))),T=C.length):u===0&&(h++,C=[0]),E[c++]=h,u&&C[0]?C[T++]=G[F]||0:(C=[G[F]],T=1);while((F++<K||C[0]!==void 0)&&B--)}return E[0]||E.shift(),x.e=d,ti(x,o?a+_a(x)+1:a)}})();function fP(e,t){var r,n,i,a,o,u,d=0,c=0,h=e.constructor,m=h.precision;if(_a(e)>16)throw Error(gA+_a(e));if(!e.s)return new h(Ko);for(Ni=!1,u=m,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(fd(2,c))/Math.LN10*2+5|0,u+=n,r=i=a=new h(Ko),h.precision=u;;){if(i=ti(i.times(e),u),r=r.times(++d),o=a.plus(Au(i,r,u)),jc(o.d).slice(0,u)===jc(a.d).slice(0,u)){for(;c--;)a=ti(a.times(a),u);return h.precision=m,t==null?(Ni=!0,ti(a,m)):a}a=o}}function _a(e){for(var t=e.e*vi,r=e.d[0];r>=10;r/=10)t++;return t}function Lw(e,t,r){if(t>e.LN10.sd())throw Ni=!0,r&&(e.precision=r),Error(_l+"LN10 precision limit exceeded");return ti(new e(e.LN10),t)}function Af(e){for(var t="";e--;)t+="0";return t}function mp(e,t){var r,n,i,a,o,u,d,c,h,m=1,b=10,x=e,E=x.d,C=x.constructor,T=C.precision;if(x.s<1)throw Error(_l+(x.s?"NaN":"-Infinity"));if(x.eq(Ko))return new C(0);if(t==null?(Ni=!1,c=T):c=t,x.eq(10))return t==null&&(Ni=!0),Lw(C,c);if(c+=b,C.precision=c,r=jc(E),n=r.charAt(0),a=_a(x),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=jc(x.d),n=r.charAt(0),m++;a=_a(x),n>1?(x=new C("0."+r),a++):x=new C(n+"."+r.slice(1))}else return d=Lw(C,c+2,T).times(a+""),x=mp(new C(n+"."+r.slice(1)),c-b).plus(d),C.precision=T,t==null?(Ni=!0,ti(x,T)):x;for(u=o=x=Au(x.minus(Ko),x.plus(Ko),c),h=ti(x.times(x),c),i=3;;){if(o=ti(o.times(h),c),d=u.plus(Au(o,new C(i),c)),jc(d.d).slice(0,c)===jc(u.d).slice(0,c))return u=u.times(2),a!==0&&(u=u.plus(Lw(C,c+2,T).times(a+""))),u=Au(u,new C(m),c),C.precision=T,t==null?(Ni=!0,ti(u,T)):u;u=d,i+=2}}function e8(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=C0(r/vi),e.d=[],n=(r+1)%vi,r<0&&(n+=vi),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=vi;n<i;)e.d.push(+t.slice(n,n+=vi));t=t.slice(n),n=vi-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Ni&&(e.e>f2||e.e<-f2))throw Error(gA+r)}else e.s=0,e.e=0,e.d=[0];return e}function ti(e,t,r){var n,i,a,o,u,d,c,h,m=e.d;for(o=1,a=m[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=vi,i=t,c=m[h=0];else{if(h=Math.ceil((n+1)/vi),a=m.length,h>=a)return e;for(c=a=m[h],o=1;a>=10;a/=10)o++;n%=vi,i=n-vi+o}if(r!==void 0&&(a=fd(10,o-i-1),u=c/a%10|0,d=t<0||m[h+1]!==void 0||c%a,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?i>0?c/fd(10,o-i):0:m[h-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return d?(a=_a(e),m.length=1,t=t-a-1,m[0]=fd(10,(vi-t%vi)%vi),e.e=C0(-t/vi)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=h,a=1,h--):(m.length=h+1,a=fd(10,vi-n),m[h]=i>0?(c/fd(10,o-i)%fd(10,i)|0)*a:0),d)for(;;)if(h==0){(m[0]+=a)==is&&(m[0]=1,++e.e);break}else{if(m[h]+=a,m[h]!=is)break;m[h--]=0,a=1}for(n=m.length;m[--n]===0;)m.pop();if(Ni&&(e.e>f2||e.e<-f2))throw Error(gA+_a(e));return e}function dP(e,t){var r,n,i,a,o,u,d,c,h,m,b=e.constructor,x=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),Ni?ti(t,x):t;if(d=e.d,m=t.d,n=t.e,c=e.e,d=d.slice(),o=c-n,o){for(h=o<0,h?(r=d,o=-o,u=m.length):(r=m,n=c,u=d.length),i=Math.max(Math.ceil(x/vi),u)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=d.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(d[i]!=m[i]){h=d[i]<m[i];break}o=0}for(h&&(r=d,d=m,m=r,t.s=-t.s),u=d.length,i=m.length-u;i>0;--i)d[u++]=0;for(i=m.length;i>o;){if(d[--i]<m[i]){for(a=i;a&&d[--a]===0;)d[a]=is-1;--d[a],d[i]+=is}d[i]-=m[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,Ni?ti(t,x):t):new b(0)}function jd(e,t,r){var n,i=_a(e),a=jc(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Af(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Af(-i-1)+a,r&&(n=r-o)>0&&(a+=Af(n))):i>=o?(a+=Af(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Af(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Af(n))),e.s<0?"-"+a:a}function t8(e,t){if(e.length>t)return e.length=t,!0}function hP(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Sd+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return e8(o,a.toString())}else if(typeof a!="string")throw Error(Sd+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,ite.test(a))e8(o,a);else throw Error(Sd+a)}if(i.prototype=Ut,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=hP,i.config=i.set=ate,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function ate(e){if(!e||typeof e!="object")throw Error(_l+"Object expected");var t,r,n,i=["precision",1,E0,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(C0(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Sd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Sd+r+": "+n);return this}var mA=hP(nte);Ko=new mA(1);const Fn=mA;function pP(e){var t;return e===0?t=1:t=Math.floor(new Fn(e).abs().log(10).toNumber())+1,t}function gP(e,t,r){for(var n=new Fn(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var mP=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},vP=(e,t,r)=>{if(e.lte(0))return new Fn(0);var n=pP(e.toNumber()),i=new Fn(10).pow(n),a=e.div(i),o=n!==1?.05:.1,u=new Fn(Math.ceil(a.div(o).toNumber())).add(r).mul(o),d=u.mul(i);return t?new Fn(d.toNumber()):new Fn(Math.ceil(d.toNumber()))},ste=(e,t,r)=>{var n=new Fn(1),i=new Fn(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Fn(10).pow(pP(e)-1),i=new Fn(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Fn(Math.floor(e)))}else e===0?i=new Fn(Math.floor((t-1)/2)):r||(i=new Fn(Math.floor(e)));for(var o=Math.floor((t-1)/2),u=[],d=0;d<t;d++)u.push(i.add(new Fn(d-o).mul(n)).toNumber());return u},yP=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Fn(0),tickMin:new Fn(0),tickMax:new Fn(0)};var o=vP(new Fn(r).sub(t).div(n-1),i,a),u;t<=0&&r>=0?u=new Fn(0):(u=new Fn(t).add(r).div(2),u=u.sub(new Fn(u).mod(o)));var d=Math.ceil(u.sub(t).div(o).toNumber()),c=Math.ceil(new Fn(r).sub(u).div(o).toNumber()),h=d+c+1;return h>n?yP(t,r,n,i,a+1):(h<n&&(c=r>0?c+(n-h):c,d=r>0?d:d+(n-h)),{step:o,tickMin:u.sub(new Fn(d).mul(o)),tickMax:u.add(new Fn(c).mul(o))})},ote=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[u,d]=mP([r,n]);if(u===-1/0||d===1/0){var c=d===1/0?[u,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),d];return r>n?c.reverse():c}if(u===d)return ste(u,i,a);var{step:h,tickMin:m,tickMax:b}=yP(u,d,o,a,0),x=gP(m,b.add(new Fn(.1).mul(h)),h);return r>n?x.reverse():x},lte=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,u]=mP([n,i]);if(o===-1/0||u===1/0)return[n,i];if(o===u)return[o];var d=Math.max(r,2),c=vP(new Fn(u).sub(o).div(d-1),a,0),h=[...gP(new Fn(o),new Fn(u),c),u];return a===!1&&(h=h.map(m=>Math.round(m))),n>i?h.reverse():h},bP=e=>e.rootProps.maxBarSize,cte=e=>e.rootProps.barGap,xP=e=>e.rootProps.barCategoryGap,ute=e=>e.rootProps.barSize,Fp=e=>e.rootProps.stackOffset,wP=e=>e.rootProps.reverseStackOrder,vA=e=>e.options.chartName,yA=e=>e.rootProps.syncId,_P=e=>e.rootProps.syncMethod,bA=e=>e.options.eventEmitter,_s={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ad={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Sc={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Ay=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function Sy(e,t,r){if(r!=="auto")return r;if(e!=null)return Lf(e,t)?"category":"number"}function r8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function d2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r8(Object(r),!0).forEach(function(n){fte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fte(e,t,r){return(t=dte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dte(e){var t=hte(e,"string");return typeof t=="symbol"?t:t+""}function hte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n8={allowDataOverflow:ad.allowDataOverflow,allowDecimals:ad.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ad.angleAxisId,includeHidden:!1,name:void 0,reversed:ad.reversed,scale:ad.scale,tick:ad.tick,tickCount:void 0,ticks:void 0,type:ad.type,unit:void 0},i8={allowDataOverflow:Sc.allowDataOverflow,allowDecimals:Sc.allowDecimals,allowDuplicatedCategory:Sc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Sc.radiusAxisId,includeHidden:Sc.includeHidden,name:void 0,reversed:Sc.reversed,scale:Sc.scale,tick:Sc.tick,tickCount:Sc.tickCount,ticks:void 0,type:Sc.type,unit:void 0},pte=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},xA=Ke([pte,aR],(e,t)=>{var r;if(e!=null)return e;var n=(r=Sy(t,"angleAxis",n8.type))!==null&&r!==void 0?r:"category";return d2(d2({},n8),{},{type:n})}),gte=(e,t)=>e.polarAxis.radiusAxis[t],wA=Ke([gte,aR],(e,t)=>{var r;if(e!=null)return e;var n=(r=Sy(t,"radiusAxis",i8.type))!==null&&r!==void 0?r:"category";return d2(d2({},i8),{},{type:n})}),Ey=e=>e.polarOptions,_A=Ke([Du,Lu,Ua],AR),AP=Ke([Ey,_A],(e,t)=>{if(e!=null)return Us(e.innerRadius,t,0)}),SP=Ke([Ey,_A],(e,t)=>{if(e!=null)return Us(e.outerRadius,t,t*.8)}),mte=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},EP=Ke([Ey],mte);Ke([xA,EP],Ay);var CP=Ke([_A,AP,SP],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Ke([wA,CP],Ay);var NP=Ke([Tn,Ey,AP,SP,Du,Lu],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:u,startAngle:d,endAngle:c}=t;return{cx:Us(o,i,i/2),cy:Us(u,a,a/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:c,clockWise:!1}}}),Ri=(e,t)=>t,Up=(e,t,r)=>r;function AA(e){return e==null?void 0:e.id}function OP(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(u=>{var d,c=(d=u.data)!==null&&d!==void 0?d:n;if(!(c==null||c.length===0)){var h=AA(u);c.forEach((m,b)=>{var x=a==null||i?b:String(bi(m,a,null)),E=bi(m,u.dataKey,0),C;o.has(x)?C=o.get(x):C={},Object.assign(C,{[h]:E}),o.set(x,C)})}}),Array.from(o.values())}function Cy(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Ny=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Oy(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function vte(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var us=e=>{var t=Tn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},N0=e=>e.tooltip.settings.axisId;function yte(e){if(e in L1)return L1[e]();var t="scale".concat(Op(e));if(t in L1)return L1[t]()}function a8(e){var t=e.ticks,r=e.bandwidth,n=e.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(a){function o(){return a.apply(this,arguments)}return o.toString=function(){return a.toString()},o})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var o=i[0],u=i[1];return o<=u?a>=o&&a<=u:a>=u&&a<=o},bandwidth:r?()=>r.call(e):void 0,ticks:t?a=>t.call(e,a):void 0,map:(a,o)=>{var u=e(a);if(u!=null){if(e.bandwidth&&o!==null&&o!==void 0&&o.position){var d=e.bandwidth();switch(o.position){case"middle":u+=d/2;break;case"end":u+=d;break}}return u}}}}function s8(e,t,r){if(typeof e=="function")return a8(e.copy().domain(t).range(r));if(e!=null){var n=yte(e);if(n!=null)return n.domain(t).range(r),a8(n)}}var TP=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!ku(t)){for(var r,n,i=0;i<t.length;i++){var a=t[i];ln(a)&&((r===void 0||a<r)&&(r=a),(n===void 0||a>n)&&(n=a))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function o8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function h2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o8(Object(r),!0).forEach(function(n){bte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bte(e,t,r){return(t=xte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xte(e){var t=wte(e,"string");return typeof t=="symbol"?t:t+""}function wte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N_=[0,"auto"],rs={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},IP=(e,t)=>e.cartesianAxis.xAxis[t],Uu=(e,t)=>{var r=IP(e,t);return r??rs},ns={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:N_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Mp},kP=(e,t)=>e.cartesianAxis.yAxis[t],zu=(e,t)=>{var r=kP(e,t);return r??ns},_te={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},SA=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??_te},Ji=(e,t,r)=>{switch(t){case"xAxis":return Uu(e,r);case"yAxis":return zu(e,r);case"zAxis":return SA(e,r);case"angleAxis":return xA(e,r);case"radiusAxis":return wA(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Ate=(e,t,r)=>{switch(t){case"xAxis":return Uu(e,r);case"yAxis":return zu(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},O0=(e,t,r)=>{switch(t){case"xAxis":return Uu(e,r);case"yAxis":return zu(e,r);case"angleAxis":return xA(e,r);case"radiusAxis":return wA(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},MP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function EA(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var CA=e=>e.graphicalItems.cartesianItems,Ste=Ke([Ri,Up],EA),NA=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),zp=Ke([CA,Ji,Ste],NA,{memoizeOptions:{resultEqualityCheck:Oy}}),jP=Ke([zp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Cy)),RP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Ete=Ke([zp],RP),OA=e=>e.map(t=>t.data).filter(Boolean).flat(1),Cte=Ke([zp],OA,{memoizeOptions:{resultEqualityCheck:Oy}}),TA=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},IA=Ke([Cte,oP],TA),kA=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:bi(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:bi(i,n)}))):e.map(n=>({value:n})),Ty=Ke([IA,Ji,zp],kA);function PP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function pv(e){if(Fc(e)||e instanceof Date){var t=Number(e);if(ln(t))return t}}function l8(e){if(Array.isArray(e)){var t=[pv(e[0]),pv(e[1])];return ku(t)?t:void 0}var r=pv(e);if(r!=null)return[r,r]}function Mu(e){return e.map(pv).filter(Oo)}function Nte(e,t,r){return!r||typeof t!="number"||Bc(t)?[]:r.length?Mu(r.flatMap(n=>{var i=bi(e,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!ln(a)||!ln(o)))return[t-a,t+o]})):[]}var qa=e=>{var t=us(e),r=N0(e);return O0(e,t,r)},qp=Ke([qa],e=>e==null?void 0:e.dataKey),Ote=Ke([jP,oP,qa],OP),DP=(e,t,r,n)=>{var i={},a=t.reduce((o,u)=>{if(u.stackId==null)return o;var d=o[u.stackId];return d==null&&(d=[]),d.push(u),o[u.stackId]=d,o},i);return Object.fromEntries(Object.entries(a).map(o=>{var[u,d]=o,c=n?[...d].reverse():d,h=c.map(AA);return[u,{stackedData:YX(e,h,r),graphicalItems:c}]}))},O_=Ke([Ote,jP,Fp,wP],DP),LP=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var o=JX(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Tte=Ke([Ji],e=>e.allowDataOverflow),MA=e=>{var t;if(e==null||!("domain"in e))return N_;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Mu(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:N_},jA=Ke([Ji],MA),RA=Ke([jA,Tte],lP),Ite=Ke([O_,Fu,Ri,RA],LP,{memoizeOptions:{resultEqualityCheck:Ny}}),Iy=e=>e.errorBars,kte=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>PP(r,n)),p2=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),u=Math.max(...a);return[o,u]}},PA=(e,t,r,n,i)=>{var a,o;if(r.length>0&&e.forEach(u=>{r.forEach(d=>{var c,h,m=(c=n[d.id])===null||c===void 0?void 0:c.filter(I=>PP(i,I)),b=bi(u,(h=t.dataKey)!==null&&h!==void 0?h:d.dataKey),x=Nte(u,b,m);if(x.length>=2){var E=Math.min(...x),C=Math.max(...x);(a==null||E<a)&&(a=E),(o==null||C>o)&&(o=C)}var T=l8(b);T!=null&&(a=a==null?T[0]:Math.min(a,T[0]),o=o==null?T[1]:Math.max(o,T[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(u=>{var d=l8(bi(u,t.dataKey));d!=null&&(a=a==null?d[0]:Math.min(a,d[0]),o=o==null?d[1]:Math.max(o,d[1]))}),ln(a)&&ln(o))return[a,o]},Mte=Ke([IA,Ji,Ete,Iy,Ri],PA,{memoizeOptions:{resultEqualityCheck:Ny}});function jte(e){var{value:t}=e;if(Fc(t)||t instanceof Date)return t}var Rte=(e,t,r)=>{var n=e.map(jte).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&rj(n))?NR(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},BP=e=>e.referenceElements.dots,T0=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Pte=Ke([BP,Ri,Up],T0),FP=e=>e.referenceElements.areas,Dte=Ke([FP,Ri,Up],T0),UP=e=>e.referenceElements.lines,Lte=Ke([UP,Ri,Up],T0),zP=(e,t)=>{if(e!=null){var r=Mu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Bte=Ke(Pte,Ri,zP),qP=(e,t)=>{if(e!=null){var r=Mu(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Fte=Ke([Dte,Ri],qP);function Ute(e){var t;if(e.x!=null)return Mu([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Mu(r)}function zte(e){var t;if(e.y!=null)return Mu([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Mu(r)}var HP=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?Ute(n):zte(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},qte=Ke([Lte,Ri],HP),Hte=Ke(Bte,qte,Fte,(e,t,r)=>p2(e,r,t)),DA=(e,t,r,n,i,a,o,u)=>{if(r!=null)return r;var d=o==="vertical"&&u==="xAxis"||o==="horizontal"&&u==="yAxis",c=d?p2(n,a,i):p2(a,i);return rte(t,c,e.allowDataOverflow)},Gte=Ke([Ji,jA,RA,Ite,Mte,Hte,Tn,Ri],DA,{memoizeOptions:{resultEqualityCheck:Ny}}),Wte=[0,1],LA=(e,t,r,n,i,a,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:u,type:d}=e,c=Lf(t,a);if(c&&u==null){var h;return NR(0,(h=r==null?void 0:r.length)!==null&&h!==void 0?h:0)}return d==="category"?Rte(n,e,c):i==="expand"?Wte:o}},BA=Ke([Ji,Tn,IA,Ty,Fp,Ri,Gte],LA);function $te(e){return e in L1}var GP=(e,t,r)=>{if(e!=null){var{scale:n,type:i}=e;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var a="scale".concat(Op(n));return $te(a)?a:"point"}}},Uf=Ke([Ji,MP,vA],GP);function FA(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?s8(e.scale,r,n):s8(t,r,n)}var UA=(e,t,r)=>{var n=MA(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ku(e))return ote(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ku(e))return lte(e,t.tickCount,t.allowDecimals)}},zA=Ke([BA,O0,Uf],UA),qA=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ku(t)&&Array.isArray(r)&&r.length>0){var i,a,o=t[0],u=(i=r[0])!==null&&i!==void 0?i:0,d=t[1],c=(a=r[r.length-1])!==null&&a!==void 0?a:0;return[Math.min(o,u),Math.max(d,c)]}return t},Vte=Ke([Ji,BA,zA,Ri],qA),Yte=Ke(Ty,Ji,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Mu(e.map(m=>m.value))).sort((m,b)=>m-b),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var o=a-i;if(o===0)return 1/0;for(var u=0;u<n.length-1;u++){var d=n[u],c=n[u+1];if(!(d==null||c==null)){var h=c-d;r=Math.min(r,h)}}return r/o}}),WP=Ke(Yte,Tn,xP,Ua,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!ln(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Us(r,e*a),u=e*a/2;return u-o-(u-o)/a*o}return 0}),Xte=(e,t,r)=>{var n=Uu(e,t);return n==null||typeof n.padding!="string"?0:WP(e,"xAxis",t,r,n.padding)},Kte=(e,t,r)=>{var n=zu(e,t);return n==null||typeof n.padding!="string"?0:WP(e,"yAxis",t,r,n.padding)},Zte=Ke(Uu,Xte,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),Qte=Ke(zu,Kte,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),Jte=Ke([Ua,Zte,ly,oy,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),ere=Ke([Ua,Tn,Qte,ly,oy,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Hp=(e,t,r,n)=>{var i;switch(t){case"xAxis":return Jte(e,r,n);case"yAxis":return ere(e,r,n);case"zAxis":return(i=SA(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return EP(e);case"radiusAxis":return CP(e,r);default:return}},$P=Ke([Ji,Hp],Ay),tre=Ke([Uf,Vte],TP),ky=Ke([Ji,Uf,tre,$P],FA);Ke([zp,Iy,Ri],kte);function VP(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var My=(e,t)=>t,jy=(e,t,r)=>r,rre=Ke(ay,My,jy,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(VP)),nre=Ke(sy,My,jy,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(VP)),YP=(e,t)=>({width:e.width,height:t.height}),ire=(e,t)=>{var r=typeof t.width=="number"?t.width:Mp;return{width:r,height:e.height}},XP=Ke(Ua,Uu,YP),are=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},sre=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},ore=Ke(Lu,Ua,rre,My,jy,(e,t,r,n,i)=>{var a={},o;return r.forEach(u=>{var d=YP(t,u);o==null&&(o=are(t,n,e));var c=n==="top"&&!i||n==="bottom"&&i;a[u.id]=o-Number(c)*d.height,o+=(c?-1:1)*d.height}),a}),lre=Ke(Du,Ua,nre,My,jy,(e,t,r,n,i)=>{var a={},o;return r.forEach(u=>{var d=ire(t,u);o==null&&(o=sre(t,n,e));var c=n==="left"&&!i||n==="right"&&i;a[u.id]=o-Number(c)*d.width,o+=(c?-1:1)*d.width}),a}),cre=(e,t)=>{var r=Uu(e,t);if(r!=null)return ore(e,r.orientation,r.mirror)},ure=Ke([Ua,Uu,cre,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),fre=(e,t)=>{var r=zu(e,t);if(r!=null)return lre(e,r.orientation,r.mirror)},dre=Ke([Ua,zu,fre,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),KP=Ke(Ua,zu,(e,t)=>{var r=typeof t.width=="number"?t.width:Mp;return{width:r,height:e.height}}),c8=(e,t,r)=>{switch(t){case"xAxis":return XP(e,r).width;case"yAxis":return KP(e,r).height;default:return}},ZP=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,u=Lf(e,n),d=t.map(c=>c.value);if(o&&u&&a==="category"&&i&&rj(d))return d}},HA=Ke([Tn,Ty,Ji,Ri],ZP),QP=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=Lf(e,n);if(o&&(i==="number"||a!=="auto"))return t.map(u=>u.value)}},GA=Ke([Tn,Ty,O0,Ri],QP),u8=Ke([Tn,Ate,Uf,ky,HA,GA,Hp,zA,Ri],(e,t,r,n,i,a,o,u,d)=>{if(t!=null){var c=Lf(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:u,range:o,realScaleType:r,scale:n}}}),hre=(e,t,r,n,i,a,o,u,d)=>{if(!(t==null||n==null)){var c=Lf(e,d),{type:h,ticks:m,tickCount:b}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,E=h==="category"&&n.bandwidth?n.bandwidth()/x:0;E=d==="angleAxis"&&a!=null&&a.length>=2?ss(a[0]-a[1])*2*E:E;var C=m||i;return C?C.map((T,I)=>{var B=o?o.indexOf(T):T,U=n.map(B);return ln(U)?{index:I,coordinate:U+E,value:T,offset:E}:null}).filter(Oo):c&&u?u.map((T,I)=>{var B=n.map(T);return ln(B)?{coordinate:B+E,value:T,index:I,offset:E}:null}).filter(Oo):n.ticks?n.ticks(b).map((T,I)=>{var B=n.map(T);return ln(B)?{coordinate:B+E,value:T,index:I,offset:E}:null}).filter(Oo):n.domain().map((T,I)=>{var B=n.map(T);return ln(B)?{coordinate:B+E,value:o?o[T]:T,index:I,offset:E}:null}).filter(Oo)}},JP=Ke([Tn,O0,Uf,ky,zA,Hp,HA,GA,Ri],hre),pre=(e,t,r,n,i,a,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=Lf(e,o),{tickCount:d}=t,c=0;return c=o==="angleAxis"&&(n==null?void 0:n.length)>=2?ss(n[0]-n[1])*2*c:c,u&&a?a.map((h,m)=>{var b=r.map(h);return ln(b)?{coordinate:b+c,value:h,index:m,offset:c}:null}).filter(Oo):r.ticks?r.ticks(d).map((h,m)=>{var b=r.map(h);return ln(b)?{coordinate:b+c,value:h,index:m,offset:c}:null}).filter(Oo):r.domain().map((h,m)=>{var b=r.map(h);return ln(b)?{coordinate:b+c,value:i?i[h]:h,index:m,offset:c}:null}).filter(Oo)}},p0=Ke([Tn,O0,ky,Hp,HA,GA,Ri],pre),g0=Ke(Ji,ky,(e,t)=>{if(!(e==null||t==null))return h2(h2({},e),{},{scale:t})}),gre=Ke([Ji,Uf,BA,$P],FA);Ke((e,t,r)=>SA(e,r),gre,(e,t)=>{if(!(e==null||t==null))return h2(h2({},e),{},{scale:t})});var mre=Ke([Tn,ay,sy],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),eD=e=>e.options.defaultTooltipEventType,tD=e=>e.options.validateTooltipEventTypes;function rD(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function WA(e,t){var r=eD(e),n=tD(e);return rD(t,r,n)}function vre(e){return Jt(t=>WA(t,e))}var nD=(e,t)=>{var r,n=Number(t);if(!(Bc(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},yre=e=>e.tooltip.settings,Cf={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},bre={itemInteraction:{click:Cf,hover:Cf},axisInteraction:{click:Cf,hover:Cf},keyboardInteraction:Cf,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},iD=Io({name:"tooltip",initialState:bre,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ci()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Zl(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:Ci()},removeTooltipEntrySettings:{reducer(e,t){var r=Zl(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ci()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:xre,replaceTooltipEntrySettings:wre,removeTooltipEntrySettings:_re,setTooltipSettingsState:Are,setActiveMouseOverItemIndex:aD,mouseLeaveItem:Sre,mouseLeaveChart:sD,setActiveClickItemIndex:Ere,setMouseOverAxisIndex:oD,setMouseClickAxisIndex:Cre,setSyncInteraction:T_,setKeyboardInteraction:I_}=iD.actions,Nre=iD.reducer;function f8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f8(Object(r),!0).forEach(function(n){Ore(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ore(e,t,r){return(t=Tre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tre(e){var t=Ire(e,"string");return typeof t=="symbol"?t:t+""}function Ire(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kre(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Mre(e){return e.index!=null}var lD=(e,t,r,n)=>{if(t==null)return Cf;var i=kre(e,t,r);if(i==null)return Cf;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Mre(i)){if(a)return dm(dm({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return dm(dm({},Cf),{},{coordinate:i.coordinate})};function jre(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Rre(e,t){var r=jre(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),o=Math.max(n,i);return r>=a&&r<=o}function Pre(e,t,r){if(r==null||t==null)return!0;var n=bi(e,t);return n==null||!ku(r)?!0:Rre(n,r)}var $A=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!ln(a))return i;var o=0,u=1/0;t.length>0&&(u=t.length-1);var d=Math.max(o,Math.min(a,u)),c=t[d];return c==null||Pre(c,r,n)?String(d):null},cD=(e,t,r,n,i,a,o)=>{if(a!=null){var u=o[0],d=u==null?void 0:u.getPosition(a);if(d!=null)return d;var c=i==null?void 0:i[Number(a)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},uD=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(o=>{var u;return((u=o.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},fD=e=>e.options.tooltipPayloadSearcher,I0=e=>e.tooltip;function d8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function h8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d8(Object(r),!0).forEach(function(n){Dre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dre(e,t,r){return(t=Lre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lre(e){var t=Bre(e,"string");return typeof t=="symbol"?t:t+""}function Bre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fre(e,t){return e??t}var dD=(e,t,r,n,i,a,o)=>{if(!(t==null||a==null)){var{chartData:u,computedData:d,dataStartIndex:c,dataEndIndex:h}=r,m=[];return e.reduce((b,x)=>{var E,{dataDefinedOnItem:C,settings:T}=x,I=Fre(C,u),B=Array.isArray(I)?Yj(I,c,h):I,U=(E=T==null?void 0:T.dataKey)!==null&&E!==void 0?E:n,F=T==null?void 0:T.nameKey,K;if(n&&Array.isArray(B)&&!Array.isArray(B[0])&&o==="axis"?K=xV(B,n,i):K=a(B,t,d,F),Array.isArray(K))K.forEach(V=>{var Q=h8(h8({},T),{},{name:V.name,unit:V.unit,color:void 0,fill:void 0});b.push(f6({tooltipEntrySettings:Q,dataKey:V.dataKey,payload:V.payload,value:bi(V.payload,V.dataKey),name:V.name}))});else{var Z;b.push(f6({tooltipEntrySettings:T,dataKey:U,payload:K,value:bi(K,U),name:(Z=bi(K,F))!==null&&Z!==void 0?Z:T==null?void 0:T.name}))}return b},m)}},VA=Ke([qa,MP,vA],GP),Ure=Ke([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),zre=Ke([us,N0],EA),k0=Ke([Ure,qa,zre],NA,{memoizeOptions:{resultEqualityCheck:Oy}}),qre=Ke([k0],e=>e.filter(Cy)),Hre=Ke([k0],OA,{memoizeOptions:{resultEqualityCheck:Oy}}),M0=Ke([Hre,Fu],TA),Gre=Ke([qre,Fu,qa],OP),YA=Ke([M0,qa,k0],kA),hD=Ke([qa],MA),Wre=Ke([qa],e=>e.allowDataOverflow),pD=Ke([hD,Wre],lP),$re=Ke([k0],e=>e.filter(Cy)),Vre=Ke([Gre,$re,Fp,wP],DP),Yre=Ke([Vre,Fu,us,pD],LP),Xre=Ke([k0],RP),Kre=Ke([M0,qa,Xre,Iy,us],PA,{memoizeOptions:{resultEqualityCheck:Ny}}),Zre=Ke([BP,us,N0],T0),Qre=Ke([Zre,us],zP),Jre=Ke([FP,us,N0],T0),ene=Ke([Jre,us],qP),tne=Ke([UP,us,N0],T0),rne=Ke([tne,us],HP),nne=Ke([Qre,rne,ene],p2),ine=Ke([qa,hD,pD,Yre,Kre,nne,Tn,us],DA),Gp=Ke([qa,Tn,M0,YA,Fp,us,ine],LA),ane=Ke([Gp,qa,VA],UA),sne=Ke([qa,Gp,ane,us],qA),gD=e=>{var t=us(e),r=N0(e),n=!1;return Hp(e,t,r,n)},mD=Ke([qa,gD],Ay),vD=Ke([qa,VA,sne,mD],FA),one=Ke([Tn,YA,qa,us],ZP),lne=Ke([Tn,YA,qa,us],QP),cne=(e,t,r,n,i,a,o,u)=>{if(t){var{type:d}=t,c=Lf(e,u);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=d==="category"&&n.bandwidth?n.bandwidth()/h:0;return m=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?ss(i[0]-i[1])*2*m:m,c&&o?o.map((b,x)=>{var E=n.map(b);return ln(E)?{coordinate:E+m,value:b,index:x,offset:m}:null}).filter(Oo):n.domain().map((b,x)=>{var E=n.map(b);return ln(E)?{coordinate:E+m,value:a?a[b]:b,index:x,offset:m}:null}).filter(Oo)}}},qu=Ke([Tn,qa,VA,vD,gD,one,lne,us],cne),XA=Ke([eD,tD,yre],(e,t,r)=>rD(r.shared,e,t)),yD=e=>e.tooltip.settings.trigger,KA=e=>e.tooltip.settings.defaultIndex,Wp=Ke([I0,XA,yD,KA],lD),Rd=Ke([Wp,M0,qp,Gp],$A),bD=Ke([qu,Rd],nD),ZA=Ke([Wp],e=>{if(e)return e.dataKey}),une=Ke([Wp],e=>{if(e)return e.graphicalItemId}),xD=Ke([I0,XA,yD,KA],uD),fne=Ke([Du,Lu,Tn,Ua,qu,KA,xD],cD),dne=Ke([Wp,fne],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),hne=Ke([Wp],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),pne=Ke([xD,Rd,Fu,qp,bD,fD,XA],dD);Ke([pne],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function p8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function g8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p8(Object(r),!0).forEach(function(n){gne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gne(e,t,r){return(t=mne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mne(e){var t=vne(e,"string");return typeof t=="symbol"?t:t+""}function vne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yne=()=>Jt(qa),bne=()=>{var e=yne(),t=Jt(qu),r=Jt(vD);return Gv(!e||!r?void 0:g8(g8({},e),{},{scale:r}),t)};function m8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m8(Object(r),!0).forEach(function(n){xne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xne(e,t,r){return(t=wne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wne(e){var t=_ne(e,"string");return typeof t=="symbol"?t:t+""}function _ne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ane=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},Sne=(e,t,r,n)=>{var i=t.find(c=>c&&c.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=n;return Mh(Mh(Mh({},n),wa(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var u=i.coordinate,{angle:d}=n;return Mh(Mh(Mh({},n),wa(n.cx,n.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Ene(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var wD=(e,t,r,n,i)=>{var a,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<o;u++){var d,c,h,m,b,x=u>0?(d=r[u-1])===null||d===void 0?void 0:d.coordinate:(c=r[o-1])===null||c===void 0?void 0:c.coordinate,E=(h=r[u])===null||h===void 0?void 0:h.coordinate,C=u>=o-1?(m=r[0])===null||m===void 0?void 0:m.coordinate:(b=r[u+1])===null||b===void 0?void 0:b.coordinate,T=void 0;if(!(x==null||E==null||C==null))if(ss(E-x)!==ss(C-E)){var I=[];if(ss(C-E)===ss(i[1]-i[0])){T=C;var B=E+i[1]-i[0];I[0]=Math.min(B,(B+x)/2),I[1]=Math.max(B,(B+x)/2)}else{T=x;var U=C+i[1]-i[0];I[0]=Math.min(E,(U+E)/2),I[1]=Math.max(E,(U+E)/2)}var F=[Math.min(E,(T+E)/2),Math.max(E,(T+E)/2)];if(e>F[0]&&e<=F[1]||e>=I[0]&&e<=I[1]){var K;return(K=r[u])===null||K===void 0?void 0:K.index}}else{var Z=Math.min(x,C),V=Math.max(x,C);if(e>(Z+E)/2&&e<=(V+E)/2){var Q;return(Q=r[u])===null||Q===void 0?void 0:Q.index}}}else if(t)for(var q=0;q<o;q++){var se=t[q];if(se!=null){var G=t[q+1],H=t[q-1];if(q===0&&G!=null&&e<=(se.coordinate+G.coordinate)/2||q===o-1&&H!=null&&e>(se.coordinate+H.coordinate)/2||q>0&&q<o-1&&H!=null&&G!=null&&e>(se.coordinate+H.coordinate)/2&&e<=(se.coordinate+G.coordinate)/2)return se.index}}return-1},Cne=()=>Jt(vA),QA=(e,t)=>t,_D=(e,t,r)=>r,JA=(e,t,r,n)=>n,Nne=Ke(qu,e=>Y2(e,t=>t.coordinate)),eS=Ke([I0,QA,_D,JA],lD),tS=Ke([eS,M0,qp,Gp],$A),One=(e,t,r)=>{if(t!=null){var n=I0(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},AD=Ke([I0,QA,_D,JA],uD),g2=Ke([Du,Lu,Tn,Ua,qu,JA,AD],cD),Tne=Ke([eS,g2],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),SD=Ke([qu,tS],nD),Ine=Ke([AD,tS,Fu,qp,SD,fD,QA],dD),kne=Ke([eS,tS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Mne=(e,t,r,n,i,a,o)=>{if(!(!e||!r||!n||!i)&&Ene(e,o)){var u=eK(e,t),d=wD(u,a,i,r,n),c=Ane(t,i,d,e);return{activeIndex:String(d),activeCoordinate:c}}},jne=(e,t,r,n,i,a,o)=>{if(!(!e||!n||!i||!a||!r)){var u=vQ(e,r);if(u){var d=tK(u,t),c=wD(d,o,a,n,i),h=Sne(t,a,c,u);return{activeIndex:String(c),activeCoordinate:h}}}},Rne=(e,t,r,n,i,a,o,u)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?Mne(e,t,n,i,a,o,u):jne(e,t,r,n,i,a,o)},Pne=Ke(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),Dne=Ke(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(_s)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:vte}});function v8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function y8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v8(Object(r),!0).forEach(function(n){Lne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lne(e,t,r){return(t=Bne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bne(e){var t=Fne(e,"string");return typeof t=="symbol"?t:t+""}function Fne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Une={},zne={zIndexMap:Object.values(_s).reduce((e,t)=>y8(y8({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Une)},qne=new Set(Object.values(_s));function Hne(e){return qne.has(e)}var ED=Io({name:"zIndex",initialState:zne,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Ci()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Hne(r)&&delete e.zIndexMap[r])},prepare:Ci()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:Ci()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Ci()}}}),{registerZIndexPortal:Gne,unregisterZIndexPortal:Wne,registerZIndexPortalElement:$ne,unregisterZIndexPortalElement:Vne}=ED.actions,Yne=ED.reducer;function ac(e){var{zIndex:t,children:r}=e,n=MK(),i=n&&t!==void 0&&t!==0,a=ko(),o=li();D.useLayoutEffect(()=>i?(o(Gne({zIndex:t})),()=>{o(Wne({zIndex:t}))}):_0,[o,t,i]);var u=Jt(d=>Pne(d,t,a));return i?u?u3.createPortal(r,u):null:r}function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k_.apply(null,arguments)}function b8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b8(Object(r),!0).forEach(function(n){Xne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xne(e,t,r){return(t=Kne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kne(e){var t=Zne(e,"string");return typeof t=="symbol"?t:t+""}function Zne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qne(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return D.isValidElement(t)?D.cloneElement(t,n):D.createElement(r,n)}function Jne(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:o,layout:u,cursor:d,tooltipEventType:c,chartName:h}=e,m=r,b=n,x=i;if(!d||!m||h!=="ScatterChart"&&c!=="axis")return null;var E,C,T;if(h==="ScatterChart")E=m,C=kZ,T=_s.cursorLine;else if(h==="BarChart")E=MZ(u,m,a,o),C=_R,T=_s.cursorRectangle;else if(u==="radial"&&ij(m)){var{cx:I,cy:B,radius:U,startAngle:F,endAngle:K}=SR(m);E={cx:I,cy:B,startAngle:F,endAngle:K,innerRadius:U,outerRadius:U},C=CR,T=_s.cursorLine}else E={points:wQ(u,m,a)},C=W3,T=_s.cursorLine;var Z=typeof d=="object"&&"className"in d?d.className:void 0,V=hm(hm(hm(hm({stroke:"#ccc",pointerEvents:"none"},a),E),np(d)),{},{payload:b,payloadIndex:x,className:On("recharts-tooltip-cursor",Z)});return D.createElement(ac,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:T},D.createElement(Qne,{cursor:d,cursorComp:C,cursorProps:V}))}function eie(e){var t=bne(),r=nR(),n=A0(),i=Cne();return t==null||r==null||n==null||i==null?null:D.createElement(Jne,k_({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var CD=D.createContext(null),tie=()=>D.useContext(CD),Bw={exports:{}},x8;function rie(){return x8||(x8=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,c,h){this.fn=d,this.context=c,this.once=h||!1}function a(d,c,h,m,b){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new i(h,m||d,b),E=r?r+c:c;return d._events[E]?d._events[E].fn?d._events[E]=[d._events[E],x]:d._events[E].push(x):(d._events[E]=x,d._eventsCount++),d}function o(d,c){--d._eventsCount===0?d._events=new n:delete d._events[c]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var c=[],h,m;if(this._eventsCount===0)return c;for(m in h=this._events)t.call(h,m)&&c.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},u.prototype.listeners=function(c){var h=r?r+c:c,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var b=0,x=m.length,E=new Array(x);b<x;b++)E[b]=m[b].fn;return E},u.prototype.listenerCount=function(c){var h=r?r+c:c,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(c,h,m,b,x,E){var C=r?r+c:c;if(!this._events[C])return!1;var T=this._events[C],I=arguments.length,B,U;if(T.fn){switch(T.once&&this.removeListener(c,T.fn,void 0,!0),I){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,m),!0;case 4:return T.fn.call(T.context,h,m,b),!0;case 5:return T.fn.call(T.context,h,m,b,x),!0;case 6:return T.fn.call(T.context,h,m,b,x,E),!0}for(U=1,B=new Array(I-1);U<I;U++)B[U-1]=arguments[U];T.fn.apply(T.context,B)}else{var F=T.length,K;for(U=0;U<F;U++)switch(T[U].once&&this.removeListener(c,T[U].fn,void 0,!0),I){case 1:T[U].fn.call(T[U].context);break;case 2:T[U].fn.call(T[U].context,h);break;case 3:T[U].fn.call(T[U].context,h,m);break;case 4:T[U].fn.call(T[U].context,h,m,b);break;default:if(!B)for(K=1,B=new Array(I-1);K<I;K++)B[K-1]=arguments[K];T[U].fn.apply(T[U].context,B)}}return!0},u.prototype.on=function(c,h,m){return a(this,c,h,m,!1)},u.prototype.once=function(c,h,m){return a(this,c,h,m,!0)},u.prototype.removeListener=function(c,h,m,b){var x=r?r+c:c;if(!this._events[x])return this;if(!h)return o(this,x),this;var E=this._events[x];if(E.fn)E.fn===h&&(!b||E.once)&&(!m||E.context===m)&&o(this,x);else{for(var C=0,T=[],I=E.length;C<I;C++)(E[C].fn!==h||b&&!E[C].once||m&&E[C].context!==m)&&T.push(E[C]);T.length?this._events[x]=T.length===1?T[0]:T:o(this,x)}return this},u.prototype.removeAllListeners=function(c){var h;return c?(h=r?r+c:c,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(Bw)),Bw.exports}var nie=rie();const iie=qc(nie);var vp=new iie,M_="recharts.syncEvent.tooltip",w8="recharts.syncEvent.brush",ND=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!Bc(r))return e[r]}},aie={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},OD=Io({name:"options",initialState:aie,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),sie=OD.reducer,{createEventEmitter:oie}=OD.actions;function lie(e){return e.tooltip.syncInteraction}var cie={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},TD=Io({name:"chartData",initialState:cie,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:_8,setDataStartEndIndexes:uie,setComputedData:Cme}=TD.actions,fie=TD.reducer,die=["x","y"];function A8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(r),!0).forEach(function(n){hie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hie(e,t,r){return(t=pie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pie(e){var t=gie(e,"string");return typeof t=="symbol"?t:t+""}function gie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mie(e,t){if(e==null)return{};var r,n,i=vie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yie(){var e=Jt(yA),t=Jt(bA),r=li(),n=Jt(_P),i=Jt(qu),a=A0(),o=cy(),u=Jt(d=>d.rootProps.className);D.useEffect(()=>{if(e==null)return _0;var d=(c,h,m)=>{if(t!==m&&e===c){if(n==="index"){var b;if(o&&h!==null&&h!==void 0&&(b=h.payload)!==null&&b!==void 0&&b.coordinate&&h.payload.sourceViewBox){var x=h.payload.coordinate,{x:E,y:C}=x,T=mie(x,die),{x:I,y:B,width:U,height:F}=h.payload.sourceViewBox,K=jh(jh({},T),{},{x:o.x+(U?(E-I)/U:0)*o.width,y:o.y+(F?(C-B)/F:0)*o.height});r(jh(jh({},h),{},{payload:jh(jh({},h.payload),{},{coordinate:K})}))}else r(h);return}if(i!=null){var Z;if(typeof n=="function"){var V={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},Q=n(i,V);Z=i[Q]}else n==="value"&&(Z=i.find(ne=>String(ne.value)===h.payload.label));var{coordinate:q}=h.payload;if(Z==null||h.payload.active===!1||q==null||o==null){r(T_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:se,y:G}=q,H=Math.min(se,o.x+o.width),le=Math.min(G,o.y+o.height),J={x:a==="horizontal"?Z.coordinate:H,y:a==="horizontal"?le:Z.coordinate},ie=T_({active:h.payload.active,coordinate:J,dataKey:h.payload.dataKey,index:String(Z.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});r(ie)}}};return vp.on(M_,d),()=>{vp.off(M_,d)}},[u,r,t,e,n,i,a,o])}function bie(){var e=Jt(yA),t=Jt(bA),r=li();D.useEffect(()=>{if(e==null)return _0;var n=(i,a,o)=>{t!==o&&e===i&&r(uie(a))};return vp.on(w8,n),()=>{vp.off(w8,n)}},[r,t,e])}function xie(){var e=li();D.useEffect(()=>{e(oie())},[e]),yie(),bie()}function wie(e,t,r,n,i,a){var o=Jt(x=>One(x,e,t)),u=Jt(bA),d=Jt(yA),c=Jt(_P),h=Jt(lie),m=h==null?void 0:h.active,b=cy();D.useEffect(()=>{if(!m&&d!=null&&u!=null){var x=T_({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:b,graphicalItemId:void 0});vp.emit(M_,d,x,u)}},[m,r,o,i,n,u,d,c,a,b])}function S8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function E8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(r),!0).forEach(function(n){_ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ie(e,t,r){return(t=Aie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aie(e){var t=Sie(e,"string");return typeof t=="symbol"?t:t+""}function Sie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eie(e){return e.dataKey}function Cie(e,t){return D.isValidElement(e)?D.cloneElement(e,t):typeof e=="function"?D.createElement(e,t):D.createElement(uZ,t)}var C8=[],Nie={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function m2(e){var t,r,n=ls(e,Nie),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:u,content:d,filterNull:c,isAnimationActive:h,offset:m,payloadUniqBy:b,position:x,reverseDirection:E,useTranslate3d:C,wrapperStyle:T,cursor:I,shared:B,trigger:U,defaultIndex:F,portal:K,axisId:Z}=n,V=li(),Q=typeof F=="number"?String(F):F;D.useEffect(()=>{V(Are({shared:B,trigger:U,axisId:Z,active:i,defaultIndex:Q}))},[V,B,U,Z,i,Q]);var q=cy(),se=vR(),G=vre(B),{activeIndex:H,isActive:le}=(t=Jt(Re=>kne(Re,G,U,Q)))!==null&&t!==void 0?t:{},J=Jt(Re=>Ine(Re,G,U,Q)),ie=Jt(Re=>SD(Re,G,U,Q)),ne=Jt(Re=>Tne(Re,G,U,Q)),fe=J,we=tie(),Ie=(r=i??le)!==null&&r!==void 0?r:!1,[Me,pe]=yj([fe,Ie]),X=G==="axis"?ie:void 0;wie(G,U,ne,X,H,Ie);var de=K??we;if(de==null||q==null||G==null)return null;var me=fe??C8;Ie||(me=C8),c&&me.length&&(me=hj(me.filter(Re=>Re.value!=null&&(Re.hide!==!0||n.includeHidden)),b,Eie));var Ne=me.length>0,xe=D.createElement(vZ,{allowEscapeViewBox:a,animationDuration:o,animationEasing:u,isAnimationActive:h,active:Ie,coordinate:ne,hasPayload:Ne,offset:m,position:x,reverseDirection:E,useTranslate3d:C,viewBox:q,wrapperStyle:T,lastBoundingBox:Me,innerRef:pe,hasPortalFromProps:!!K},Cie(d,E8(E8({},n),{},{payload:me,label:X,active:Ie,activeIndex:H,coordinate:ne,accessibilityLayer:se})));return D.createElement(D.Fragment,null,u3.createPortal(xe,de),Ie&&D.createElement(eie,{cursor:I,tooltipEventType:G,coordinate:ne,payload:me,index:H}))}var j0=e=>null;j0.displayName="Cell";function Oie(e,t,r){return(t=Tie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tie(e){var t=Iie(e,"string");return typeof t=="symbol"?t:t+""}function Iie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class kie{constructor(t){Oie(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function N8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N8(Object(r),!0).forEach(function(n){jie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jie(e,t,r){return(t=Rie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rie(e){var t=Pie(e,"string");return typeof t=="symbol"?t:t+""}function Pie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Die={cacheSize:2e3,enableCache:!0},ID=Mie({},Die),O8=new kie(ID.cacheSize),Lie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},T8="recharts_measurement_span";function Bie(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(u)}var I8=(e,t)=>{try{var r=document.getElementById(T8);r||(r=document.createElement("span"),r.setAttribute("id",T8),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Lie,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},q1=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||hy.isSsr)return{width:0,height:0};if(!ID.enableCache)return I8(t,r);var n=Bie(t,r),i=O8.get(n);if(i)return i;var a=I8(t,r);return O8.set(n,a),a},kD;function Fie(e,t,r){return(t=Uie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uie(e){var t=zie(e,"string");return typeof t=="symbol"?t:t+""}function zie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,M8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Hie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Gie={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Wie=["cm","mm","pt","pc","in","Q","px"];function $ie(e){return Wie.includes(e)}var Xh="NaN";function Vie(e,t){return e*Gie[t]}class ws{static parse(t){var r,[,n,i]=(r=Hie.exec(t))!==null&&r!==void 0?r:[];return n==null?ws.NaN:new ws(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Bc(t)&&(this.unit=""),r!==""&&!qie.test(r)&&(this.num=NaN,this.unit=""),$ie(r)&&(this.num=Vie(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new ws(NaN,""):new ws(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ws(NaN,""):new ws(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ws(NaN,""):new ws(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ws(NaN,""):new ws(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Bc(this.num)}}kD=ws;Fie(ws,"NaN",new kD(NaN,""));function MD(e){if(e==null||e.includes(Xh))return Xh;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=k8.exec(t))!==null&&r!==void 0?r:[],o=ws.parse(n??""),u=ws.parse(a??""),d=i==="*"?o.multiply(u):o.divide(u);if(d.isNaN())return Xh;t=t.replace(k8,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,h,m,b]=(c=M8.exec(t))!==null&&c!==void 0?c:[],x=ws.parse(h??""),E=ws.parse(b??""),C=m==="+"?x.add(E):x.subtract(E);if(C.isNaN())return Xh;t=t.replace(M8,C.toString())}return t}var j8=/\(([^()]*)\)/;function Yie(e){for(var t=e,r;(r=j8.exec(t))!=null;){var[,n]=r;t=t.replace(j8,MD(n))}return t}function Xie(e){var t=e.replace(/\s+/g,"");return t=Yie(t),t=MD(t),t}function Kie(e){try{return Xie(e)}catch{return Xh}}function Fw(e){var t=Kie(e.slice(5,-1));return t===Xh?"":t}var Zie=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Qie=["dx","dy","angle","className","breakAll"];function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j_.apply(null,arguments)}function R8(e,t){if(e==null)return{};var r,n,i=Jie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Jie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jD=/[ \f\n\r\t\v\u2028\u2029]+/,RD=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];os(t)||(r?i=t.toString().split(""):i=t.toString().split(jD));var a=i.map(u=>({word:u,width:q1(u,n).width})),o=r?0:q1("",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function eae(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var PD=(e,t,r,n)=>e.reduce((i,a)=>{var{word:o,width:u}=a,d=i[i.length-1];if(d&&u!=null&&(t==null||n||d.width+u+r<Number(t)))d.words.push(o),d.width+=u+r;else{var c={words:[o],width:u};i.push(c)}return i},[]),DD=e=>e.reduce((t,r)=>t.width>r.width?t:r),tae="",P8=(e,t,r,n,i,a,o,u)=>{var d=e.slice(0,t),c=RD({breakAll:r,style:n,children:d+tae});if(!c)return[!1,[]];var h=PD(c.wordsWithComputedWidth,a,o,u),m=h.length>i||DD(h).width>Number(a);return[m,h]},rae=(e,t,r,n,i)=>{var{maxLines:a,children:o,style:u,breakAll:d}=e,c=Yt(a),h=String(o),m=PD(t,n,r,i);if(!c||i)return m;var b=m.length>a||DD(m).width>Number(n);if(!b)return m;for(var x=0,E=h.length-1,C=0,T;x<=E&&C<=h.length-1;){var I=Math.floor((x+E)/2),B=I-1,[U,F]=P8(h,B,d,u,a,n,r,i),[K]=P8(h,I,d,u,a,n,r,i);if(!U&&!K&&(x=I+1),U&&K&&(E=I-1),!U&&K){T=F;break}C++}return T||m},D8=e=>{var t=os(e)?[]:e.toString().split(jD);return[{words:t,width:void 0}]},nae=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!hy.isSsr){var u,d,c=RD({breakAll:a,children:n,style:i});if(c){var{wordsWithComputedWidth:h,spaceWidth:m}=c;u=h,d=m}else return D8(n);return rae({breakAll:a,children:n,maxLines:o,style:i},u,d,t,!!r)}return D8(n)},LD="#808080",iae={angle:0,breakAll:!1,capHeight:"0.71em",fill:LD,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ry=D.forwardRef((e,t)=>{var r=ls(e,iae),{x:n,y:i,lineHeight:a,capHeight:o,fill:u,scaleToFit:d,textAnchor:c,verticalAnchor:h}=r,m=R8(r,Zie),b=D.useMemo(()=>nae({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:d,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,d,m.style,m.width]),{dx:x,dy:E,angle:C,className:T,breakAll:I}=m,B=R8(m,Qie);if(!Fc(n)||!Fc(i)||b.length===0)return null;var U=Number(n)+(Yt(x)?x:0),F=Number(i)+(Yt(E)?E:0);if(!ln(U)||!ln(F))return null;var K;switch(h){case"start":K=Fw("calc(".concat(o,")"));break;case"middle":K=Fw("calc(".concat((b.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:K=Fw("calc(".concat(b.length-1," * -").concat(a,")"));break}var Z=[],V=b[0];if(d&&V!=null){var Q=V.width,{width:q}=m;Z.push("scale(".concat(Yt(q)&&Yt(Q)?q/Q:1,")"))}return C&&Z.push("rotate(".concat(C,", ").concat(U,", ").concat(F,")")),Z.length&&(B.transform=Z.join(" ")),D.createElement("text",j_({},xl(B),{ref:t,x:U,y:F,className:On("recharts-text",T),textAnchor:c,fill:u.includes("url")?LD:u}),b.map((se,G)=>{var H=se.words.join(I?"":" ");return D.createElement("tspan",{x:U,dy:G===0?K:a,key:"".concat(H,"-").concat(G)},H)}))});Ry.displayName="Text";function L8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ec(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L8(Object(r),!0).forEach(function(n){aae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aae(e,t,r){return(t=sae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sae(e){var t=oae(e,"string");return typeof t=="symbol"?t:t+""}function oae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lae=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:i}=e,{x:a,y:o,height:u,upperWidth:d,lowerWidth:c}=U3(t),h=a,m=a+(d-c)/2,b=(h+m)/2,x=(d+c)/2,E=h+d/2,C=u>=0?1:-1,T=C*n,I=C>0?"end":"start",B=C>0?"start":"end",U=d>=0?1:-1,F=U*n,K=U>0?"end":"start",Z=U>0?"start":"end",V=i;if(r==="top"){var Q={x:h+d/2,y:o-T,horizontalAnchor:"middle",verticalAnchor:I};return V&&(Q.height=Math.max(o-V.y,0),Q.width=d),Q}if(r==="bottom"){var q={x:m+c/2,y:o+u+T,horizontalAnchor:"middle",verticalAnchor:B};return V&&(q.height=Math.max(V.y+V.height-(o+u),0),q.width=c),q}if(r==="left"){var se={x:b-F,y:o+u/2,horizontalAnchor:K,verticalAnchor:"middle"};return V&&(se.width=Math.max(se.x-V.x,0),se.height=u),se}if(r==="right"){var G={x:b+x+F,y:o+u/2,horizontalAnchor:Z,verticalAnchor:"middle"};return V&&(G.width=Math.max(V.x+V.width-G.x,0),G.height=u),G}var H=V?{width:x,height:u}:{};return r==="insideLeft"?Ec({x:b+F,y:o+u/2,horizontalAnchor:Z,verticalAnchor:"middle"},H):r==="insideRight"?Ec({x:b+x-F,y:o+u/2,horizontalAnchor:K,verticalAnchor:"middle"},H):r==="insideTop"?Ec({x:h+d/2,y:o+T,horizontalAnchor:"middle",verticalAnchor:B},H):r==="insideBottom"?Ec({x:m+c/2,y:o+u-T,horizontalAnchor:"middle",verticalAnchor:I},H):r==="insideTopLeft"?Ec({x:h+F,y:o+T,horizontalAnchor:Z,verticalAnchor:B},H):r==="insideTopRight"?Ec({x:h+d-F,y:o+T,horizontalAnchor:K,verticalAnchor:B},H):r==="insideBottomLeft"?Ec({x:m+F,y:o+u-T,horizontalAnchor:Z,verticalAnchor:I},H):r==="insideBottomRight"?Ec({x:m+c-F,y:o+u-T,horizontalAnchor:K,verticalAnchor:I},H):r&&typeof r=="object"&&(Yt(r.x)||Td(r.x))&&(Yt(r.y)||Td(r.y))?Ec({x:a+Us(r.x,x),y:o+Us(r.y,u),horizontalAnchor:"end",verticalAnchor:"end"},H):Ec({x:E,y:o+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},H)},cae=["labelRef"],uae=["content"];function B8(e,t){if(e==null)return{};var r,n,i=fae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function F8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function B1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F8(Object(r),!0).forEach(function(n){dae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dae(e,t,r){return(t=hae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hae(e){var t=pae(e,"string");return typeof t=="symbol"?t:t+""}function pae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yu.apply(null,arguments)}var BD=D.createContext(null),gae=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o,children:u}=e,d=D.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o}),[t,r,n,i,a,o]);return D.createElement(BD.Provider,{value:d},u)},FD=()=>{var e=D.useContext(BD),t=cy();return e||(t?U3(t):void 0)},mae=D.createContext(null),vae=()=>{var e=D.useContext(mae),t=Jt(NP);return e||t},yae=e=>{var{value:t,formatter:r}=e,n=os(e.children)?t:e.children;return typeof r=="function"?r(n):n},rS=e=>e!=null&&typeof e=="function",bae=(e,t)=>{var r=ss(t-e),n=Math.min(Math.abs(t-e),360);return r*n},xae=(e,t,r,n,i)=>{var{offset:a,className:o}=e,{cx:u,cy:d,innerRadius:c,outerRadius:h,startAngle:m,endAngle:b,clockWise:x}=i,E=(c+h)/2,C=bae(m,b),T=C>=0?1:-1,I,B;switch(t){case"insideStart":I=m+T*a,B=x;break;case"insideEnd":I=b-T*a,B=!x;break;case"end":I=b+T*a,B=x;break;default:throw new Error("Unsupported position ".concat(t))}B=C<=0?B:!B;var U=wa(u,d,E,I),F=wa(u,d,E,I+(B?1:-1)*359),K="M".concat(U.x,",").concat(U.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(B?0:1,`,
    `).concat(F.x,",").concat(F.y),Z=os(e.id)?ip("recharts-radial-line-"):e.id;return D.createElement("text",yu({},n,{dominantBaseline:"central",className:On("recharts-radial-bar-label",o)}),D.createElement("defs",null,D.createElement("path",{id:Z,d:K})),D.createElement("textPath",{xlinkHref:"#".concat(Z)},r))},wae=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d}=e,c=(u+d)/2;if(r==="outside"){var{x:h,y:m}=wa(n,i,o+t,c);return{x:h,y:m,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(a+o)/2,{x,y:E}=wa(n,i,b,c);return{x,y:E,textAnchor:"middle",verticalAnchor:"middle"}},gv=e=>e!=null&&"cx"in e&&Yt(e.cx),_ae={angle:0,offset:5,zIndex:_s.label,position:"middle",textBreakAll:!1};function Aae(e){if(!gv(e))return e;var{cx:t,cy:r,outerRadius:n}=e,i=n*2;return{x:t-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function Sf(e){var t=ls(e,_ae),{viewBox:r,parentViewBox:n,position:i,value:a,children:o,content:u,className:d="",textBreakAll:c,labelRef:h}=t,m=vae(),b=FD(),x=i==="center"?b:m??b,E,C,T;r==null?E=x:gv(r)?E=r:E=U3(r);var I=Aae(E);if(!E||os(a)&&os(o)&&!D.isValidElement(u)&&typeof u!="function")return null;var B=B1(B1({},t),{},{viewBox:E});if(D.isValidElement(u)){var{labelRef:U}=B,F=B8(B,cae);return D.cloneElement(u,F)}if(typeof u=="function"){var{content:K}=B,Z=B8(B,uae);if(C=D.createElement(u,Z),D.isValidElement(C))return C}else C=yae(t);var V=xl(t);if(gv(E)){if(i==="insideStart"||i==="insideEnd"||i==="end")return xae(t,i,C,V,E);T=wae(E,t.offset,t.position)}else{if(!I)return null;var Q=lae({viewBox:I,position:i,offset:t.offset,parentViewBox:gv(n)?void 0:n});T=B1(B1({x:Q.x,y:Q.y,textAnchor:Q.horizontalAnchor,verticalAnchor:Q.verticalAnchor},Q.width!==void 0?{width:Q.width}:{}),Q.height!==void 0?{height:Q.height}:{})}return D.createElement(ac,{zIndex:t.zIndex},D.createElement(Ry,yu({ref:h,className:On("recharts-label",d)},V,T,{textAnchor:eae(V.textAnchor)?V.textAnchor:T.textAnchor,breakAll:c}),C))}Sf.displayName="Label";var Sae=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?D.createElement(Sf,yu({key:"label-implicit"},n)):Fc(e)?D.createElement(Sf,yu({key:"label-implicit",value:e},n)):D.isValidElement(e)?e.type===Sf?D.cloneElement(e,B1({key:"label-implicit"},n)):D.createElement(Sf,yu({key:"label-implicit",content:e},n)):rS(e)?D.createElement(Sf,yu({key:"label-implicit",content:e},n)):e&&typeof e=="object"?D.createElement(Sf,yu({},e,{key:"label-implicit"},n)):null};function Eae(e){var{label:t,labelRef:r}=e,n=FD();return Sae(t,n,r)||null}var Uw={},zw={},U8;function Cae(){return U8||(U8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(zw)),zw}var qw={},z8;function Nae(){return z8||(z8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(qw)),qw}var q8;function Oae(){return q8||(q8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cae(),r=Nae(),n=T3();function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(Uw)),Uw}var Hw,H8;function Tae(){return H8||(H8=1,Hw=Oae().last),Hw}var Iae=Tae();const kae=qc(Iae);var Mae=["valueAccessor"],jae=["dataKey","clockWise","id","textBreakAll","zIndex"];function v2(){return v2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v2.apply(null,arguments)}function G8(e,t){if(e==null)return{};var r,n,i=Rae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Rae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Pae=e=>Array.isArray(e.value)?kae(e.value):e.value,UD=D.createContext(void 0),Dae=UD.Provider,zD=D.createContext(void 0),Lae=zD.Provider;function Bae(){return D.useContext(UD)}function Fae(){return D.useContext(zD)}function mv(e){var{valueAccessor:t=Pae}=e,r=G8(e,Mae),{dataKey:n,clockWise:i,id:a,textBreakAll:o,zIndex:u}=r,d=G8(r,jae),c=Bae(),h=Fae(),m=c||h;return!m||!m.length?null:D.createElement(ac,{zIndex:u??_s.label},D.createElement(ro,{className:"recharts-label-list"},m.map((b,x)=>{var E,C=os(n)?t(b,x):bi(b.payload,n),T=os(a)?{}:{id:"".concat(a,"-").concat(x)};return D.createElement(Sf,v2({key:"label-".concat(x)},xl(b),d,T,{fill:(E=r.fill)!==null&&E!==void 0?E:b.fill,parentViewBox:b.parentViewBox,value:C,textBreakAll:o,viewBox:b.viewBox,index:x,zIndex:0}))})))}mv.displayName="LabelList";function qD(e){var{label:t}=e;return t?t===!0?D.createElement(mv,{key:"labelList-implicit"}):D.isValidElement(t)||rS(t)?D.createElement(mv,{key:"labelList-implicit",content:t}):typeof t=="object"?D.createElement(mv,v2({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var HD=e=>e.graphicalItems.polarItems,Uae=Ke([Ri,Up],EA),Py=Ke([HD,Ji,Uae],NA),zae=Ke([Py],OA),Dy=Ke([zae,_y],TA),qae=Ke([Dy,Ji,Py],kA);Ke([Dy,Ji,Py],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,o=bi(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:bi(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var W8=()=>{},Hae=Ke([Dy,Ji,Py,Iy,Ri],PA),Gae=Ke([Ji,jA,RA,W8,Hae,W8,Tn,Ri],DA),GD=Ke([Ji,Tn,Dy,qae,Fp,Ri,Gae],LA),Wae=Ke([GD,O0,Uf],UA),$ae=Ke([Ji,GD,Wae,Ri],qA);Ke([Uf,$ae],TP);var Vae={radiusAxis:{},angleAxis:{}},WD=Io({name:"polarAxis",initialState:Vae,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Nme,removeRadiusAxis:Ome,addAngleAxis:Tme,removeAngleAxis:Ime}=WD.actions,Yae=WD.reducer;function $D(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function $8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function V8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$8(Object(r),!0).forEach(function(n){Xae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xae(e,t,r){return(t=Kae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kae(e){var t=Zae(e,"string");return typeof t=="symbol"?t:t+""}function Zae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qae=(e,t)=>t,nS=Ke([HD,Qae],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Jae=[],iS=(e,t,r)=>(r==null?void 0:r.length)===0?Jae:r,VD=Ke([_y,nS,iS],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>V8(V8({},t.presentationProps),a.props))),i!=null)return i}}),ese=Ke([VD,nS,iS],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,o=bi(n,t.nameKey,t.name),u;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?u=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?u=n.fill:u=t.fill,{value:iy(o,t.dataKey),color:u,payload:n,type:t.legendType}})}),tse=Ke([VD,nS,iS,Ua],(e,t,r,n)=>{if(!(t==null||e==null))return ioe({offset:n,pieSettings:t,displayedData:e,cells:r})}),Gw={exports:{}},Vn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y8;function rse(){if(Y8)return Vn;Y8=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function E(C){if(typeof C=="object"&&C!==null){var T=C.$$typeof;switch(T){case e:switch(C=C.type,C){case r:case i:case n:case d:case c:case b:return C;default:switch(C=C&&C.$$typeof,C){case o:case u:case m:case h:return C;case a:return C;default:return T}}case t:return T}}}return Vn.ContextConsumer=a,Vn.ContextProvider=o,Vn.Element=e,Vn.ForwardRef=u,Vn.Fragment=r,Vn.Lazy=m,Vn.Memo=h,Vn.Portal=t,Vn.Profiler=i,Vn.StrictMode=n,Vn.Suspense=d,Vn.SuspenseList=c,Vn.isContextConsumer=function(C){return E(C)===a},Vn.isContextProvider=function(C){return E(C)===o},Vn.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===e},Vn.isForwardRef=function(C){return E(C)===u},Vn.isFragment=function(C){return E(C)===r},Vn.isLazy=function(C){return E(C)===m},Vn.isMemo=function(C){return E(C)===h},Vn.isPortal=function(C){return E(C)===t},Vn.isProfiler=function(C){return E(C)===i},Vn.isStrictMode=function(C){return E(C)===n},Vn.isSuspense=function(C){return E(C)===d},Vn.isSuspenseList=function(C){return E(C)===c},Vn.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===r||C===i||C===n||C===d||C===c||typeof C=="object"&&C!==null&&(C.$$typeof===m||C.$$typeof===h||C.$$typeof===o||C.$$typeof===a||C.$$typeof===u||C.$$typeof===x||C.getModuleId!==void 0)},Vn.typeOf=E,Vn}var X8;function nse(){return X8||(X8=1,Gw.exports=rse()),Gw.exports}var ise=nse(),K8=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Z8=null,Ww=null,YD=e=>{if(e===Z8&&Array.isArray(Ww))return Ww;var t=[];return D.Children.forEach(e,r=>{os(r)||(ise.isFragment(r)?t=t.concat(YD(r.props.children)):t.push(r))}),Ww=t,Z8=e,t};function aS(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>K8(i)):n=[K8(t)],YD(e).forEach(i=>{var a=Od(i,"type.displayName")||Od(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var $w={},Q8;function ase(){return Q8||(Q8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})($w)),$w}var Vw,J8;function sse(){return J8||(J8=1,Vw=ase().isPlainObject),Vw}var ose=sse();const lse=qc(ose);var eT,tT,rT,nT,iT;function aT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(r),!0).forEach(function(n){cse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cse(e,t,r){return(t=use(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function use(e){var t=fse(e,"string");return typeof t=="symbol"?t:t+""}function fse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y2(){return y2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y2.apply(null,arguments)}function C1(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var oT=(e,t,r,n,i)=>{var a=r-n,o;return o=Zi(eT||(eT=C1(["M ",",",""])),e,t),o+=Zi(tT||(tT=C1(["L ",",",""])),e+r,t),o+=Zi(rT||(rT=C1(["L ",",",""])),e+r-a/2,t+i),o+=Zi(nT||(nT=C1(["L ",",",""])),e+r-a/2-n,t+i),o+=Zi(iT||(iT=C1(["L ",","," Z"])),e,t),o},dse={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hse=e=>{var t=ls(e,dse),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:u}=t,{animationEasing:d,animationDuration:c,animationBegin:h,isUpdateAnimationActive:m}=t,b=D.useRef(null),[x,E]=D.useState(-1),C=D.useRef(i),T=D.useRef(a),I=D.useRef(o),B=D.useRef(r),U=D.useRef(n),F=gy(e,"trapezoid-");if(D.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var J=b.current.getTotalLength();J&&E(J)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var K=On("recharts-trapezoid",u);if(!m)return D.createElement("g",null,D.createElement("path",y2({},xl(t),{className:K,d:oT(r,n,i,a,o)})));var Z=C.current,V=T.current,Q=I.current,q=B.current,se=U.current,G="0px ".concat(x===-1?1:x,"px"),H="".concat(x,"px 0px"),le=yR(["strokeDasharray"],c,d);return D.createElement(py,{animationId:F,key:F,canBegin:x>0,duration:c,easing:d,isActive:m,begin:h},J=>{var ie=La(Z,i,J),ne=La(V,a,J),fe=La(Q,o,J),we=La(q,r,J),Ie=La(se,n,J);b.current&&(C.current=ie,T.current=ne,I.current=fe,B.current=we,U.current=Ie);var Me=J>0?{transition:le,strokeDasharray:H}:{strokeDasharray:G};return D.createElement("path",y2({},xl(t),{className:K,d:oT(we,Ie,ie,ne,fe),ref:b,style:sT(sT({},Me),t.style)}))})},pse=["option","shapeType","activeClassName"];function gse(e,t){if(e==null)return{};var r,n,i=mse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function b2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(r),!0).forEach(function(n){vse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vse(e,t,r){return(t=yse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yse(e){var t=bse(e,"string");return typeof t=="symbol"?t:t+""}function bse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xse(e,t){return b2(b2({},t),e)}function wse(e,t){return e==="symbols"}function cT(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return D.createElement(_R,r);case"trapezoid":return D.createElement(hse,r);case"sector":return D.createElement(CR,r);case"symbols":if(wse(t))return D.createElement(O3,r);break;case"curve":return D.createElement(W3,r);default:return null}}function _se(e){return D.isValidElement(e)?e.props:e}function XD(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=gse(e,pse),a;if(D.isValidElement(t))a=D.cloneElement(t,b2(b2({},i),_se(t)));else if(typeof t=="function")a=t(i,i.index);else if(lse(t)&&typeof t!="boolean"){var o=xse(t,i);a=D.createElement(cT,{shapeType:r,elementProps:o})}else{var u=i;a=D.createElement(cT,{shapeType:r,elementProps:u})}return i.isActive?D.createElement(ro,{className:n},a):a}var sS=(e,t,r)=>{var n=li();return(i,a)=>o=>{e==null||e(i,a,o),n(aD({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},oS=e=>{var t=li();return(r,n)=>i=>{e==null||e(r,n,i),t(Sre())}},lS=(e,t,r)=>{var n=li();return(i,a)=>o=>{e==null||e(i,a,o),n(Ere({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function KD(e){var{tooltipEntrySettings:t}=e,r=li(),n=ko(),i=D.useRef(null);return D.useLayoutEffect(()=>{n||(i.current===null?r(xre(t)):i.current!==t&&r(wre({prev:i.current,next:t})),i.current=t)},[t,r,n]),D.useLayoutEffect(()=>()=>{i.current&&(r(_re(i.current)),i.current=null)},[r]),null}function Ase(e){var{legendPayload:t}=e,r=li(),n=ko(),i=D.useRef(null);return D.useLayoutEffect(()=>{n||(i.current===null?r(hR(t)):i.current!==t&&r(pR({prev:i.current,next:t})),i.current=t)},[r,n,t]),D.useLayoutEffect(()=>()=>{i.current&&(r(gR(i.current)),i.current=null)},[r]),null}function Sse(e){var{legendPayload:t}=e,r=li(),n=Jt(Tn),i=D.useRef(null);return D.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(hR(t)):i.current!==t&&r(pR({prev:i.current,next:t})),i.current=t)},[r,n,t]),D.useLayoutEffect(()=>()=>{i.current&&(r(gR(i.current)),i.current=null)},[r]),null}var Yw,Ese=()=>{var[e]=D.useState(()=>ip("uid-"));return e},Cse=(Yw=vF.useId)!==null&&Yw!==void 0?Yw:Ese;function Nse(e,t){var r=Cse();return t||(e?"".concat(e,"-").concat(r):r)}var Ose=D.createContext(void 0),ZD=e=>{var{id:t,type:r,children:n}=e,i=Nse("recharts-".concat(r),t);return D.createElement(Ose.Provider,{value:i},n(i))},Tse={cartesianItems:[],polarItems:[]},QD=Io({name:"graphicalItems",initialState:Tse,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ci()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Zl(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Ci()},removeCartesianGraphicalItem:{reducer(e,t){var r=Zl(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ci()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ci()},removePolarGraphicalItem:{reducer(e,t){var r=Zl(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ci()}}}),{addCartesianGraphicalItem:Ise,replaceCartesianGraphicalItem:kse,removeCartesianGraphicalItem:Mse,addPolarGraphicalItem:jse,removePolarGraphicalItem:Rse}=QD.actions,Pse=QD.reducer,Dse=e=>{var t=li(),r=D.useRef(null);return D.useLayoutEffect(()=>{r.current===null?t(Ise(e)):r.current!==e&&t(kse({prev:r.current,next:e})),r.current=e},[t,e]),D.useLayoutEffect(()=>()=>{r.current&&(t(Mse(r.current)),r.current=null)},[t]),null},Lse=D.memo(Dse);function Bse(e){var t=li();return D.useLayoutEffect(()=>(t(jse(e)),()=>{t(Rse(e))}),[t,e]),null}var Fse=["key"],Use=["onMouseEnter","onClick","onMouseLeave"],zse=["id"],qse=["id"];function uT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(r),!0).forEach(function(n){Hse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hse(e,t,r){return(t=Gse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gse(e){var t=Wse(e,"string");return typeof t=="symbol"?t:t+""}function Wse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jf.apply(null,arguments)}function Ly(e,t){if(e==null)return{};var r,n,i=$se(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $se(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vse(e){var t=D.useMemo(()=>aS(e.children,j0),[e.children]),r=Jt(n=>ese(n,e.id,t));return r==null?null:D.createElement(Sse,{legendPayload:r})}var Yse=D.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:u,hide:d,tooltipType:c,id:h}=e,m={dataDefinedOnItem:n.map(b=>b.tooltipPayload),getPosition:b=>{var x;return(x=n[Number(b)])===null||x===void 0?void 0:x.tooltipPosition},settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:r,name:iy(u,t),hide:d,type:c,color:o,unit:"",graphicalItemId:h}};return D.createElement(KD,{tooltipEntrySettings:m})}),Xse=(e,t)=>e>t?"start":e<t?"end":"middle",Kse=(e,t,r)=>Us(typeof t=="function"?t(e):t,r,r*.8),Zse=(e,t,r)=>{var{top:n,left:i,width:a,height:o}=t,u=AR(a,o),d=i+Us(e.cx,a,a/2),c=n+Us(e.cy,o,o/2),h=Us(e.innerRadius,u,0),m=Kse(r,e.outerRadius,u),b=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:d,cy:c,innerRadius:h,outerRadius:m,maxRadius:b}},Qse=(e,t)=>{var r=ss(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Jse=(e,t)=>{if(D.isValidElement(e))return D.cloneElement(e,t);if(typeof e=="function")return e(t);var r=On("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=Ly(t,Fse);return D.createElement(W3,jf({},i,{type:"linear",className:r}))},eoe=(e,t,r)=>{if(D.isValidElement(e))return D.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),D.isValidElement(n)))return n;var i=On("recharts-pie-label-text",$D(e));return D.createElement(Ry,jf({},t,{alignmentBaseline:"middle",className:i}),n)};function toe(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:o}=r;if(!n||!i||!t)return null;var u=Jl(r),d=np(i),c=np(a),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,m=t.map((b,x)=>{var E=(b.startAngle+b.endAngle)/2,C=wa(b.cx,b.cy,b.outerRadius+h,E),T=Qi(Qi(Qi(Qi({},u),b),{},{stroke:"none"},d),{},{index:x,textAnchor:Xse(C.x,b.cx)},C),I=Qi(Qi(Qi(Qi({},u),b),{},{fill:"none",stroke:b.fill},c),{},{index:x,points:[wa(b.cx,b.cy,b.outerRadius,E),C],key:"line"});return D.createElement(ac,{zIndex:_s.label,key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(x)},D.createElement(ro,null,a&&Jse(a,I),eoe(i,T,bi(b,o))))});return D.createElement(ro,{className:"recharts-pie-labels"},m)}function roe(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?D.createElement(qD,{label:i}):D.createElement(toe,{sectors:t,props:r,showLabels:n})}function noe(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:o}=e,u=Jt(Rd),d=Jt(ZA),c=Jt(une),{onMouseEnter:h,onClick:m,onMouseLeave:b}=i,x=Ly(i,Use),E=sS(h,i.dataKey,o),C=oS(b),T=lS(m,i.dataKey,o);return t==null||t.length===0?null:D.createElement(D.Fragment,null,t.map((I,B)=>{if((I==null?void 0:I.startAngle)===0&&(I==null?void 0:I.endAngle)===0&&t.length!==1)return null;var U=c==null||c===o,F=String(B)===u&&(d==null||i.dataKey===d)&&U,K=u?n:null,Z=r&&F?r:K,V=Qi(Qi({},I),{},{stroke:I.stroke,tabIndex:-1,[Qj]:B,[Jj]:o});return D.createElement(ro,jf({key:"sector-".concat(I==null?void 0:I.startAngle,"-").concat(I==null?void 0:I.endAngle,"-").concat(I.midAngle,"-").concat(B),tabIndex:-1,className:"recharts-pie-sector"},Tp(x,I,B),{onMouseEnter:E(I,B),onMouseLeave:C(I,B),onClick:T(I,B)}),D.createElement(XD,jf({option:a??Z,index:B,shapeType:"sector",isActive:F},V)))}))}function ioe(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:o,startAngle:u,endAngle:d,dataKey:c,nameKey:h,tooltipType:m}=r,b=Math.abs(r.minAngle),x=Qse(u,d),E=Math.abs(x),C=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,T=n.filter(Z=>bi(Z,c,0)!==0).length,I=(E>=360?T:T-1)*C,B=E-T*b-I,U=n.reduce((Z,V)=>{var Q=bi(V,c,0);return Z+(Yt(Q)?Q:0)},0),F;if(U>0){var K;F=n.map((Z,V)=>{var Q=bi(Z,c,0),q=bi(Z,h,V),se=Zse(r,a,Z),G=(Yt(Q)?Q:0)/U,H,le=Qi(Qi({},Z),i&&i[V]&&i[V].props);V?H=K.endAngle+ss(x)*C*(Q!==0?1:0):H=u;var J=H+ss(x)*((Q!==0?b:0)+G*B),ie=(H+J)/2,ne=(se.innerRadius+se.outerRadius)/2,fe=[{name:q,value:Q,payload:le,dataKey:c,type:m,graphicalItemId:r.id}],we=wa(se.cx,se.cy,ne,ie);return K=Qi(Qi(Qi(Qi({},r.presentationProps),{},{percent:G,cornerRadius:typeof o=="string"?parseFloat(o):o,name:q,tooltipPayload:fe,midAngle:ie,middleRadius:ne,tooltipPosition:we},le),se),{},{value:Q,dataKey:c,startAngle:H,endAngle:J,payload:le,paddingAngle:ss(x)*C}),K})}return F}function aoe(e){var{showLabels:t,sectors:r,children:n}=e,i=D.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return D.createElement(Lae,{value:t?i:void 0},n)}function soe(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:o,animationDuration:u,animationEasing:d,activeShape:c,inactiveShape:h,onAnimationStart:m,onAnimationEnd:b}=t,x=gy(t,"recharts-pie-"),E=r.current,[C,T]=D.useState(!1),I=D.useCallback(()=>{typeof b=="function"&&b(),T(!1)},[b]),B=D.useCallback(()=>{typeof m=="function"&&m(),T(!0)},[m]);return D.createElement(aoe,{showLabels:!C,sectors:i},D.createElement(py,{animationId:x,begin:o,duration:u,isActive:a,easing:d,onAnimationStart:B,onAnimationEnd:I,key:x},U=>{var F,K=[],Z=i&&i[0],V=(F=Z==null?void 0:Z.startAngle)!==null&&F!==void 0?F:0;return i==null||i.forEach((Q,q)=>{var se=E&&E[q],G=q>0?Od(Q,"paddingAngle",0):0;if(se){var H=La(se.endAngle-se.startAngle,Q.endAngle-Q.startAngle,U),le=Qi(Qi({},Q),{},{startAngle:V+G,endAngle:V+H+G});K.push(le),V=le.endAngle}else{var{endAngle:J,startAngle:ie}=Q,ne=La(0,J-ie,U),fe=Qi(Qi({},Q),{},{startAngle:V+G,endAngle:V+ne+G});K.push(fe),V=fe.endAngle}}),r.current=K,D.createElement(ro,null,D.createElement(noe,{sectors:K,activeShape:c,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:n}))}),D.createElement(roe,{showLabels:!C,sectors:i,props:t}),t.children)}var ooe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:_s.area};function loe(e){var{id:t}=e,r=Ly(e,zse),{hide:n,className:i,rootTabIndex:a}=e,o=D.useMemo(()=>aS(e.children,j0),[e.children]),u=Jt(h=>tse(h,t,o)),d=D.useRef(null),c=On("recharts-pie",i);return n||u==null?(d.current=null,D.createElement(ro,{tabIndex:a,className:c})):D.createElement(ac,{zIndex:e.zIndex},D.createElement(Yse,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),D.createElement(ro,{tabIndex:a,className:c},D.createElement(soe,{props:Qi(Qi({},r),{},{sectors:u}),previousSectorsRef:d,id:t})))}function cS(e){var t=ls(e,ooe),{id:r}=t,n=Ly(t,qse),i=Jl(n);return D.createElement(ZD,{id:r,type:"pie"},a=>D.createElement(D.Fragment,null,D.createElement(Bse,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),D.createElement(Vse,jf({},n,{id:a})),D.createElement(loe,jf({},n,{id:a}))))}cS.displayName="Pie";function fT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(r),!0).forEach(function(n){coe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function coe(e,t,r){return(t=uoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uoe(e){var t=foe(e,"string");return typeof t=="symbol"?t:t+""}function foe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JD=0,doe={xAxis:{},yAxis:{},zAxis:{}},eL=Io({name:"cartesianAxis",initialState:doe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ci()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Ci()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ci()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ci()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Ci()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ci()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ci()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Ci()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ci()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a,o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&n===o[1]&&n!==i.width&&Math.abs(n-((a=o[0])!==null&&a!==void 0?a:0))<=1)return;var u=[...o,n].slice(-3);e.yAxis[r]=dT(dT({},i),{},{width:n,widthHistory:u})}}}}),{addXAxis:hoe,replaceXAxis:poe,removeXAxis:goe,addYAxis:moe,replaceYAxis:voe,removeYAxis:yoe,addZAxis:kme,replaceZAxis:Mme,removeZAxis:jme,updateYAxisWidth:boe}=eL.actions,xoe=eL.reducer,woe=Ke([Ua],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),_oe=Ke([woe,Du,Lu],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),tL=()=>Jt(_oe),hT=(e,t,r)=>{var n=r??e;if(!os(n))return Us(n,t,0)},Aoe=(e,t,r)=>{var n={},i=e.filter(Cy),a=e.filter(c=>c.stackId==null),o=i.reduce((c,h)=>{var m=c[h.stackId];return m==null&&(m=[]),m.push(h),c[h.stackId]=m,c},n),u=Object.entries(o).map(c=>{var h,[m,b]=c,x=b.map(C=>C.dataKey),E=hT(t,r,(h=b[0])===null||h===void 0?void 0:h.barSize);return{stackId:m,dataKeys:x,barSize:E}}),d=a.map(c=>{var h=[c.dataKey].filter(b=>b!=null),m=hT(t,r,c.barSize);return{stackId:void 0,dataKeys:h,barSize:m}});return[...u,...d]};function pT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pT(Object(r),!0).forEach(function(n){Soe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Soe(e,t,r){return(t=Eoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eoe(e){var t=Coe(e,"string");return typeof t=="symbol"?t:t+""}function Coe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Noe(e,t,r,n,i){var a,o=n.length;if(!(o<1)){var u=Us(e,r,0,!0),d,c=[];if(ln((a=n[0])===null||a===void 0?void 0:a.barSize)){var h=!1,m=r/o,b=n.reduce((B,U)=>B+(U.barSize||0),0);b+=(o-1)*u,b>=r&&(b-=(o-1)*u,u=0),b>=r&&m>0&&(h=!0,m*=.9,b=o*m);var x=(r-b)/2>>0,E={offset:x-u,size:0};d=n.reduce((B,U)=>{var F,K={stackId:U.stackId,dataKeys:U.dataKeys,position:{offset:E.offset+E.size+u,size:h?m:(F=U.barSize)!==null&&F!==void 0?F:0}},Z=[...B,K];return E=K.position,Z},c)}else{var C=Us(t,r,0,!0);r-2*C-(o-1)*u<=0&&(u=0);var T=(r-2*C-(o-1)*u)/o;T>1&&(T>>=0);var I=ln(i)?Math.min(T,i):T;d=n.reduce((B,U,F)=>[...B,{stackId:U.stackId,dataKeys:U.dataKeys,position:{offset:C+(T+u)*F+(T-I)/2,size:I}}],c)}return d}}var Ooe=(e,t,r,n,i,a,o)=>{var u=os(o)?t:o,d=Noe(r,n,i!==a?i:a,e,u);return i!==a&&d!=null&&(d=d.map(c=>pm(pm({},c),{},{position:pm(pm({},c.position),{},{offset:c.position.offset-i/2})}))),d},Toe=(e,t)=>{var r=AA(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}},Ioe=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function koe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&ln(e.zIndex)?e.zIndex:t}var rL=e=>{var{chartData:t}=e,r=li(),n=ko();return D.useEffect(()=>n?()=>{}:(r(_8(t)),()=>{r(_8(void 0))}),[t,r,n]),null},gT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},nL=Io({name:"brush",initialState:gT,reducers:{setBrushSettings(e,t){return t.payload==null?gT:t.payload}}}),{setBrushSettings:Rme}=nL.actions,Moe=nL.reducer;function joe(e){return(e%180+180)%180}var Roe=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=joe(i),o=a*Math.PI/180,u=Math.atan(n/r),d=o>u&&o<Math.PI-u?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},Poe={dots:[],areas:[],lines:[]},iL=Io({name:"referenceElements",initialState:Poe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Zl(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Zl(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Zl(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Pme,removeDot:Dme,addArea:Lme,removeArea:Bme,addLine:Fme,removeLine:Ume}=iL.actions,Doe=iL.reducer,Loe=D.createContext(void 0),Boe=e=>{var{children:t}=e,[r]=D.useState("".concat(ip("recharts"),"-clip")),n=tL();if(n==null)return null;var{x:i,y:a,width:o,height:u}=n;return D.createElement(Loe.Provider,{value:r},D.createElement("defs",null,D.createElement("clipPath",{id:r},D.createElement("rect",{x:i,y:a,height:u,width:o}))),t)};function aL(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function Foe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Roe(n,r)}function Uoe(e,t,r){var n=r==="width",{x:i,y:a,width:o,height:u}=e;return t===1?{start:n?i:a,end:n?i+o:a+u}:{start:n?i+o:a+u,end:n?i:a}}function yp(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function zoe(e,t){return aL(e,t+1)}function qoe(e,t,r,n,i){for(var a=(n||[]).slice(),{start:o,end:u}=t,d=0,c=1,h=o,m=function(){var E=n==null?void 0:n[d];if(E===void 0)return{v:aL(n,c)};var C=d,T,I=()=>(T===void 0&&(T=r(E,C)),T),B=E.coordinate,U=d===0||yp(e,B,I,h,u);U||(d=0,h=o,c+=1),U&&(h=B+e*(I()/2+i),d+=c)},b;c<=a.length;)if(b=m(),b)return b.v;return[]}function Hoe(e,t,r,n,i){var a=(n||[]).slice(),o=a.length;if(o===0)return[];for(var{start:u,end:d}=t,c=1;c<=o;c++){for(var h=(o-1)%c,m=u,b=!0,x=function(){var F=n[C];if(F==null)return 0;var K=C,Z,V=()=>(Z===void 0&&(Z=r(F,K)),Z),Q=F.coordinate,q=C===h||yp(e,Q,V,m,d);if(!q)return b=!1,1;q&&(m=Q+e*(V()/2+i))},E,C=h;C<o&&(E=x(),!(E!==0&&E===1));C+=c);if(b){for(var T=[],I=h;I<o;I+=c){var B=n[I];B!=null&&T.push(B)}return T}}return[]}function mT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ls(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(r),!0).forEach(function(n){Goe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Goe(e,t,r){return(t=Woe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Woe(e){var t=$oe(e,"string");return typeof t=="symbol"?t:t+""}function $oe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Voe(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:u}=t,{end:d}=t,c=function(b){var x=a[b];if(x==null)return 1;var E=x,C,T=()=>(C===void 0&&(C=r(x,b)),C);if(b===o-1){var I=e*(E.coordinate+e*T()/2-d);a[b]=E=Ls(Ls({},E),{},{tickCoord:I>0?E.coordinate-I*e:E.coordinate})}else a[b]=E=Ls(Ls({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var B=yp(e,E.tickCoord,T,u,d);B&&(d=E.tickCoord-e*(T()/2+i),a[b]=Ls(Ls({},E),{},{isShow:!0}))}},h=o-1;h>=0;h--)c(h);return a}function Yoe(e,t,r,n,i,a){var o=(n||[]).slice(),u=o.length,{start:d,end:c}=t;if(a){var h=n[u-1];if(h!=null){var m=r(h,u-1),b=e*(h.coordinate+e*m/2-c);if(o[u-1]=h=Ls(Ls({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate}),h.tickCoord!=null){var x=yp(e,h.tickCoord,()=>m,d,c);x&&(c=h.tickCoord-e*(m/2+i),o[u-1]=Ls(Ls({},h),{},{isShow:!0}))}}}for(var E=a?u-1:u,C=function(B){var U=o[B];if(U==null)return 1;var F=U,K,Z=()=>(K===void 0&&(K=r(U,B)),K);if(B===0){var V=e*(F.coordinate-e*Z()/2-d);o[B]=F=Ls(Ls({},F),{},{tickCoord:V<0?F.coordinate-V*e:F.coordinate})}else o[B]=F=Ls(Ls({},F),{},{tickCoord:F.coordinate});if(F.tickCoord!=null){var Q=yp(e,F.tickCoord,Z,d,c);Q&&(d=F.tickCoord+e*(Z()/2+i),o[B]=Ls(Ls({},F),{},{isShow:!0}))}},T=0;T<E;T++)C(T);return o}function uS(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:u,interval:d,tickFormatter:c,unit:h,angle:m}=e;if(!i||!i.length||!n)return[];if(Yt(d)||hy.isSsr){var b;return(b=zoe(i,Yt(d)?d:0))!==null&&b!==void 0?b:[]}var x=[],E=u==="top"||u==="bottom"?"width":"height",C=h&&E==="width"?q1(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},T=(K,Z)=>{var V=typeof c=="function"?c(K.value,Z):K.value;return E==="width"?Foe(q1(V,{fontSize:t,letterSpacing:r}),C,m):q1(V,{fontSize:t,letterSpacing:r})[E]},I=i[0],B=i[1],U=i.length>=2&&I!=null&&B!=null?ss(B.coordinate-I.coordinate):1,F=Uoe(a,U,E);return d==="equidistantPreserveStart"?qoe(U,F,T,i,o):d==="equidistantPreserveEnd"?Hoe(U,F,T,i,o):(d==="preserveStart"||d==="preserveStartEnd"?x=Yoe(U,F,T,i,o,d==="preserveStartEnd"):x=Voe(U,F,T,i,o),x.filter(K=>K.isShow))}var Xoe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>o&&(o=m.width)}});var u=r?r.getBoundingClientRect().width:0,d=i+a,c=o+d+u+(r?n:0);return Math.round(c)}return 0},Koe=["axisLine","width","height","className","hide","ticks","axisType"];function Zoe(e,t){if(e==null)return{};var r,n,i=Qoe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Qoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pd(){return Pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pd.apply(null,arguments)}function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ki(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(r),!0).forEach(function(n){Joe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Joe(e,t,r){return(t=ele(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ele(e){var t=tle(e,"string");return typeof t=="symbol"?t:t+""}function tle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Su={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:_s.axis};function rle(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var c=Ki(Ki(Ki({},d),Jl(u)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!o||a==="bottom"&&o);c=Ki(Ki({},c),{},{x1:t,y1:r+h*i,x2:t+n,y2:r+h*i})}else{var m=+(a==="left"&&!o||a==="right"&&o);c=Ki(Ki({},c),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+i})}return D.createElement("line",Pd({},c,{className:On("recharts-cartesian-axis-line",Od(u,"className"))}))}function nle(e,t,r,n,i,a,o,u,d){var c,h,m,b,x,E,C=u?-1:1,T=e.tickSize||o,I=Yt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=h=e.coordinate,b=r+ +!u*i,m=b-C*T,E=m-C*d,x=I;break;case"left":m=b=e.coordinate,h=t+ +!u*n,c=h-C*T,x=c-C*d,E=I;break;case"right":m=b=e.coordinate,h=t+ +u*n,c=h+C*T,x=c+C*d,E=I;break;default:c=h=e.coordinate,b=r+ +u*i,m=b+C*T,E=m+C*d,x=I;break}return{line:{x1:c,y1:m,x2:h,y2:b},tick:{x,y:E}}}function ile(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function ale(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function sle(e){var{option:t,tickProps:r,value:n}=e,i,a=On(r.className,"recharts-cartesian-axis-tick-value");if(D.isValidElement(t))i=D.cloneElement(t,Ki(Ki({},r),{},{className:a}));else if(typeof t=="function")i=t(Ki(Ki({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=On(o,$D(t))),i=D.createElement(Ry,Pd({},r,{className:o}),n)}return i}var ole=D.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:o,unit:u,padding:d,tickTextProps:c,orientation:h,mirror:m,x:b,y:x,width:E,height:C,tickSize:T,tickMargin:I,fontSize:B,letterSpacing:U,getTicksConfig:F,events:K,axisType:Z}=e,V=uS(Ki(Ki({},F),{},{ticks:r}),B,U),Q=ile(h,m),q=ale(h,m),se=Jl(F),G=np(n),H={};typeof i=="object"&&(H=i);var le=Ki(Ki({},se),{},{fill:"none"},H),J=V.map(fe=>Ki({entry:fe},nle(fe,b,x,E,C,h,T,m,I))),ie=J.map(fe=>{var{entry:we,line:Ie}=fe;return D.createElement(ro,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(we.value,"-").concat(we.coordinate,"-").concat(we.tickCoord)},i&&D.createElement("line",Pd({},le,Ie,{className:On("recharts-cartesian-axis-tick-line",Od(i,"className"))})))}),ne=J.map((fe,we)=>{var Ie,Me,{entry:pe,tick:X}=fe,de=Ki(Ki(Ki(Ki({verticalAnchor:q},se),{},{textAnchor:Q,stroke:"none",fill:a},X),{},{index:we,payload:pe,visibleTicksCount:V.length,tickFormatter:o,padding:d},c),{},{angle:(Ie=(Me=c==null?void 0:c.angle)!==null&&Me!==void 0?Me:se.angle)!==null&&Ie!==void 0?Ie:0}),me=Ki(Ki({},de),G);return D.createElement(ro,Pd({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(pe.value,"-").concat(pe.coordinate,"-").concat(pe.tickCoord)},Tp(K,pe,we)),n&&D.createElement(sle,{option:n,tickProps:me,value:"".concat(typeof o=="function"?o(pe.value,we):pe.value).concat(u||"")}))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(Z,"-ticks")},ne.length>0&&D.createElement(ac,{zIndex:_s.label},D.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(Z,"-tick-labels"),ref:t},ne)),ie.length>0&&D.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(Z,"-tick-lines")},ie))}),lle=D.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:u,axisType:d}=e,c=Zoe(e,Koe),[h,m]=D.useState(""),[b,x]=D.useState(""),E=D.useRef(null);D.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var T;return Xoe({ticks:E.current,label:(T=e.labelRef)===null||T===void 0?void 0:T.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var C=D.useCallback(T=>{if(T){var I=T.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=I;var B=I[0];if(B){var U=window.getComputedStyle(B),F=U.fontSize,K=U.letterSpacing;(F!==h||K!==b)&&(m(F),x(K))}}},[h,b]);return o||n!=null&&n<=0||i!=null&&i<=0?null:D.createElement(ac,{zIndex:e.zIndex},D.createElement(ro,{className:On("recharts-cartesian-axis",a)},D.createElement(rle,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Jl(e)}),D.createElement(ole,{ref:C,axisType:d,events:c,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:b,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),D.createElement(gae,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},D.createElement(Eae,{label:e.label,labelRef:e.labelRef}),e.children)))}),fS=D.forwardRef((e,t)=>{var r=ls(e,Su);return D.createElement(lle,Pd({},r,{ref:t}))});fS.displayName="CartesianAxis";var cle=["x1","y1","x2","y2","key"],ule=["offset"],fle=["xAxisId","yAxisId"],dle=["xAxisId","yAxisId"];function yT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(r),!0).forEach(function(n){hle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hle(e,t,r){return(t=ple(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ple(e){var t=gle(e,"string");return typeof t=="symbol"?t:t+""}function gle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wd.apply(null,arguments)}function x2(e,t){if(e==null)return{};var r,n,i=mle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vle=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:u}=e;return D.createElement("rect",{x:n,y:i,ry:u,width:a,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function sL(e){var{option:t,lineItemProps:r}=e,n;if(D.isValidElement(t))n=D.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:o,x2:u,y2:d,key:c}=r,h=x2(r,cle),m=(i=Jl(h))!==null&&i!==void 0?i:{},{offset:b}=m,x=x2(m,ule);n=D.createElement("line",wd({},x,{x1:a,y1:o,x2:u,y2:d,fill:"none",key:c}))}return n}function yle(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,u=x2(e,fle),d=i.map((c,h)=>{var m=Bs(Bs({},u),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(h),index:h});return D.createElement(sL,{key:"line-".concat(h),option:n,lineItemProps:m})});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function ble(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,u=x2(e,dle),d=i.map((c,h)=>{var m=Bs(Bs({},u),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(h),index:h});return D.createElement(sL,{option:n,lineItemProps:m,key:"line-".concat(h)})});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function xle(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length||u==null)return null;var c=u.map(m=>Math.round(m+i-i)).sort((m,b)=>m-b);i!==c[0]&&c.unshift(0);var h=c.map((m,b)=>{var x=c[b+1],E=x==null,C=E?i+o-m:x-m;if(C<=0)return null;var T=b%t.length;return D.createElement("rect",{key:"react-".concat(b),y:m,x:n,height:C,width:a,stroke:"none",fill:t[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function wle(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:u,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var c=d.map(m=>Math.round(m+i-i)).sort((m,b)=>m-b);i!==c[0]&&c.unshift(0);var h=c.map((m,b)=>{var x=c[b+1],E=x==null,C=E?i+o-m:x-m;if(C<=0)return null;var T=b%r.length;return D.createElement("rect",{key:"react-".concat(b),x:m,y:a,width:C,height:u,stroke:"none",fill:r[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var _le=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return Xj(uS(Bs(Bs(Bs({},Su),r),{},{ticks:Kj(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},Ale=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return Xj(uS(Bs(Bs(Bs({},Su),r),{},{ticks:Kj(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},Sle={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:_s.grid};function dS(e){var t=z3(),r=q3(),n=nR(),i=Bs(Bs({},ls(e,Sle)),{},{x:Yt(e.x)?e.x:n.left,y:Yt(e.y)?e.y:n.top,width:Yt(e.width)?e.width:n.width,height:Yt(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:o,x:u,y:d,width:c,height:h,syncWithTicks:m,horizontalValues:b,verticalValues:x}=i,E=ko(),C=Jt(q=>u8(q,"xAxis",a,E)),T=Jt(q=>u8(q,"yAxis",o,E));if(!Uc(c)||!Uc(h)||!Yt(u)||!Yt(d))return null;var I=i.verticalCoordinatesGenerator||_le,B=i.horizontalCoordinatesGenerator||Ale,{horizontalPoints:U,verticalPoints:F}=i;if((!U||!U.length)&&typeof B=="function"){var K=b&&b.length,Z=B({yAxis:T?Bs(Bs({},T),{},{ticks:K?b:T.ticks}):void 0,width:t??c,height:r??h,offset:n},K?!0:m);Wv(Array.isArray(Z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Z,"]")),Array.isArray(Z)&&(U=Z)}if((!F||!F.length)&&typeof I=="function"){var V=x&&x.length,Q=I({xAxis:C?Bs(Bs({},C),{},{ticks:V?x:C.ticks}):void 0,width:t??c,height:r??h,offset:n},V?!0:m);Wv(Array.isArray(Q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Q,"]")),Array.isArray(Q)&&(F=Q)}return D.createElement(ac,{zIndex:i.zIndex},D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(vle,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),D.createElement(xle,wd({},i,{horizontalPoints:U})),D.createElement(wle,wd({},i,{verticalPoints:F})),D.createElement(yle,wd({},i,{offset:n,horizontalPoints:U,xAxis:C,yAxis:T})),D.createElement(ble,wd({},i,{offset:n,verticalPoints:F,xAxis:C,yAxis:T}))))}dS.displayName="CartesianGrid";var Ele={},oL=Io({name:"errorBars",initialState:Ele,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:zme,replaceErrorBar:qme,removeErrorBar:Hme}=oL.actions,Cle=oL.reducer,Nle=["children"];function Ole(e,t){if(e==null)return{};var r,n,i=Tle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Tle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ile={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},kle=D.createContext(Ile);function Mle(e){var{children:t}=e,r=Ole(e,Nle);return D.createElement(kle.Provider,{value:r},t)}function lL(e,t){var r,n,i=Jt(c=>Uu(c,e)),a=Jt(c=>zu(c,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:rs.allowDataOverflow,u=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:ns.allowDataOverflow,d=o||u;return{needClip:d,needClipX:o,needClipY:u}}function jle(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=tL(),{needClipX:a,needClipY:o,needClip:u}=lL(t,r);if(!u||!i)return null;var{x:d,y:c,width:h,height:m}=i;return D.createElement("clipPath",{id:"clipPath-".concat(n)},D.createElement("rect",{x:a?d:d-h/2,y:o?c:c-m/2,width:a?h:h*2,height:o?m:m*2}))}var Xw={exports:{}},Kw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT;function Rle(){if(bT)return Kw;bT=1;var e=m0();function t(d,c){return d===c&&(d!==0||1/d===1/c)||d!==d&&c!==c}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,u=e.useDebugValue;return Kw.useSyncExternalStoreWithSelector=function(d,c,h,m,b){var x=i(null);if(x.current===null){var E={hasValue:!1,value:null};x.current=E}else E=x.current;x=o(function(){function T(K){if(!I){if(I=!0,B=K,K=m(K),b!==void 0&&E.hasValue){var Z=E.value;if(b(Z,K))return U=Z}return U=K}if(Z=U,r(B,K))return Z;var V=m(K);return b!==void 0&&b(Z,V)?(B=K,Z):(B=K,U=V)}var I=!1,B,U,F=h===void 0?null:h;return[function(){return T(c())},F===null?void 0:function(){return T(F())}]},[c,h,m,b]);var C=n(d,x[0],x[1]);return a(function(){E.hasValue=!0,E.value=C},[C]),u(C),C},Kw}var xT;function Ple(){return xT||(xT=1,Xw.exports=Rle()),Xw.exports}Ple();function Dle(e){e()}function Lle(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Dle(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var wT={notify(){},get:()=>[]};function Ble(e,t){let r,n=wT,i=0,a=!1;function o(C){h();const T=n.subscribe(C);let I=!1;return()=>{I||(I=!0,T(),m())}}function u(){n.notify()}function d(){E.onStateChange&&E.onStateChange()}function c(){return a}function h(){i++,r||(r=e.subscribe(d),n=Lle())}function m(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=wT)}function b(){a||(a=!0,h())}function x(){a&&(a=!1,m())}const E={addNestedSub:o,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:c,trySubscribe:b,tryUnsubscribe:x,getListeners:()=>n};return E}var Fle=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ule=Fle(),zle=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qle=zle(),Hle=()=>Ule||qle?D.useLayoutEffect:D.useEffect,Gle=Hle();function _T(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Wle(e,t){if(_T(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!_T(e[r[i]],t[r[i]]))return!1;return!0}var Zw=Symbol.for("react-redux-context"),Qw=typeof globalThis<"u"?globalThis:{};function $le(){if(!D.createContext)return{};const e=Qw[Zw]??(Qw[Zw]=new Map);let t=e.get(D.createContext);return t||(t=D.createContext(null),e.set(D.createContext,t)),t}var Vle=$le();function Yle(e){const{children:t,context:r,serverState:n,store:i}=e,a=D.useMemo(()=>{const d=Ble(i);return{store:i,subscription:d,getServerState:n?()=>n:void 0}},[i,n]),o=D.useMemo(()=>i.getState(),[i]);Gle(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,o]);const u=r||Vle;return D.createElement(u.Provider,{value:a},t)}var Xle=Yle,Kle=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Zle(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function hS(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(Kle.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Wle(e[n],t[n]))return!1}else if(!Zle(e[n],t[n]))return!1;return!0}function qd(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:JD}function Hd(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:JD}var Qle="Invariant failed";function Jle(e,t){throw new Error(Qle)}function R_(){return R_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R_.apply(null,arguments)}function w2(e){return D.createElement(XD,R_({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var ece=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Yt(t))return t;var a=Yt(n)||os(n);return a?t(n,i):(a||Jle(),r)}},tce=(e,t,r)=>r,rce=(e,t)=>t,$p=Ke([CA,rce],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),nce=Ke([$p],e=>e==null?void 0:e.maxBarSize),ice=(e,t,r,n)=>n,ace=Ke([Tn,CA,qd,Hd,tce],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),sce=(e,t,r)=>{var n=Tn(e),i=qd(e,t),a=Hd(e,t);if(!(i==null||a==null))return n==="horizontal"?O_(e,"yAxis",a,r):O_(e,"xAxis",i,r)},oce=(e,t)=>{var r=Tn(e),n=qd(e,t),i=Hd(e,t);if(!(n==null||i==null))return r==="horizontal"?c8(e,"xAxis",n):c8(e,"yAxis",i)},lce=Ke([ace,ute,oce],Aoe),cce=(e,t,r)=>{var n,i,a=$p(e,t);if(a==null)return 0;var o=qd(e,t),u=Hd(e,t);if(o==null||u==null)return 0;var d=Tn(e),c=bP(e),{maxBarSize:h}=a,m=os(h)?c:h,b,x;return d==="horizontal"?(b=g0(e,"xAxis",o,r),x=p0(e,"xAxis",o,r)):(b=g0(e,"yAxis",u,r),x=p0(e,"yAxis",u,r)),(n=(i=Gv(b,x,!0))!==null&&i!==void 0?i:m)!==null&&n!==void 0?n:0},cL=(e,t,r)=>{var n=Tn(e),i=qd(e,t),a=Hd(e,t);if(!(i==null||a==null)){var o,u;return n==="horizontal"?(o=g0(e,"xAxis",i,r),u=p0(e,"xAxis",i,r)):(o=g0(e,"yAxis",a,r),u=p0(e,"yAxis",a,r)),Gv(o,u)}},uce=Ke([lce,bP,cte,xP,cce,cL,nce],Ooe),fce=(e,t,r)=>{var n=qd(e,t);if(n!=null)return g0(e,"xAxis",n,r)},dce=(e,t,r)=>{var n=Hd(e,t);if(n!=null)return g0(e,"yAxis",n,r)},hce=(e,t,r)=>{var n=qd(e,t);if(n!=null)return p0(e,"xAxis",n,r)},pce=(e,t,r)=>{var n=Hd(e,t);if(n!=null)return p0(e,"yAxis",n,r)},gce=Ke([uce,$p],Ioe),mce=Ke([sce,$p],Toe),vce=Ke([Ua,B3,fce,dce,hce,pce,gce,Tn,tte,cL,mce,$p,ice],(e,t,r,n,i,a,o,u,d,c,h,m,b)=>{var{chartData:x,dataStartIndex:E,dataEndIndex:C}=d;if(!(m==null||o==null||t==null||u!=="horizontal"&&u!=="vertical"||r==null||n==null||i==null||a==null||c==null)){var{data:T}=m,I;if(T!=null&&T.length>0?I=T:I=x==null?void 0:x.slice(E,C+1),I!=null)return Wce({layout:u,barSettings:m,pos:o,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:h,displayedData:I,offset:e,cells:b,dataStartIndex:E})}}),yce=["index"];function P_(){return P_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P_.apply(null,arguments)}function bce(e,t){if(e==null)return{};var r,n,i=xce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uL=D.createContext(void 0),wce=e=>{var t=D.useContext(uL);if(t!=null)return t.stackId;if(e!=null)return XX(e)},_ce=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Ace=e=>{var t=D.useContext(uL);if(t!=null){var{stackId:r}=t;return"url(#".concat(_ce(r,e),")")}},fL=e=>{var{index:t}=e,r=bce(e,yce),n=Ace(t);return D.createElement(ro,P_({className:"recharts-bar-stack-layer",clipPath:n},r))},Sce=["onMouseEnter","onMouseLeave","onClick"],Ece=["value","background","tooltipPosition"],Cce=["id"],Nce=["onMouseEnter","onClick","onMouseLeave"];function ju(){return ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ju.apply(null,arguments)}function AT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(r),!0).forEach(function(n){Oce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oce(e,t,r){return(t=Tce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tce(e){var t=Ice(e,"string");return typeof t=="symbol"?t:t+""}function Ice(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _2(e,t){if(e==null)return{};var r,n,i=kce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Mce=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:iy(r,t),payload:e}]},jce=D.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:u,tooltipType:d,id:c}=e,h={dataDefinedOnItem:void 0,getPosition:_0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:iy(a,t),hide:o,type:d,color:i,unit:u,graphicalItemId:c}};return D.createElement(KD,{tooltipEntrySettings:h})});function Rce(e){var t=Jt(Rd),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:u,onClick:d}=a,c=_2(a,Sce),h=sS(o,n,a.id),m=oS(u),b=lS(d,n,a.id);if(!i||r==null)return null;var x=np(i);return D.createElement(ac,{zIndex:koe(i,_s.barBackground)},r.map((E,C)=>{var{value:T,background:I,tooltipPosition:B}=E,U=_2(E,Ece);if(!I)return null;var F=h(E,C),K=m(E,C),Z=b(E,C),V=eo(eo(eo(eo(eo({option:i,isActive:String(C)===t},U),{},{fill:"#eee"},I),x),Tp(c,E,C)),{},{onMouseEnter:F,onMouseLeave:K,onClick:Z,dataKey:n,index:C,className:"recharts-bar-background-rectangle"});return D.createElement(w2,ju({key:"background-bar-".concat(C)},V))}))}function Pce(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var o={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return eo(eo({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return D.createElement(Dae,{value:t?i:void 0},r)}function Dce(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:o}=e,u=Jt(Rd),d=Jt(ZA),c=r&&String(a)===u&&(d==null||o===d),h=c?r:t;return c?D.createElement(ac,{zIndex:_s.activeBar},D.createElement(fL,{index:a},D.createElement(w2,ju({},n,{name:String(n.name)},i,{isActive:c,option:h,index:a,dataKey:o})))):D.createElement(w2,ju({},n,{name:String(n.name)},i,{isActive:c,option:h,index:a,dataKey:o}))}function Lce(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return D.createElement(w2,ju({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function Bce(e){var t,{data:r,props:n}=e,i=(t=Jl(n))!==null&&t!==void 0?t:{},{id:a}=i,o=_2(i,Cce),{shape:u,dataKey:d,activeBar:c}=n,{onMouseEnter:h,onClick:m,onMouseLeave:b}=n,x=_2(n,Nce),E=sS(h,d,a),C=oS(b),T=lS(m,d,a);return r?D.createElement(D.Fragment,null,r.map((I,B)=>D.createElement(fL,ju({index:B,key:"rectangle-".concat(I==null?void 0:I.x,"-").concat(I==null?void 0:I.y,"-").concat(I==null?void 0:I.value,"-").concat(B),className:"recharts-bar-rectangle"},Tp(x,I,B),{onMouseEnter:E(I,B),onMouseLeave:C(I,B),onClick:T(I,B)}),c?D.createElement(Dce,{shape:u,activeBar:c,baseProps:o,entry:I,index:B,dataKey:d}):D.createElement(Lce,{shape:u,baseProps:o,entry:I,index:B,dataKey:d})))):null}function Fce(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:u,animationEasing:d,onAnimationEnd:c,onAnimationStart:h}=t,m=r.current,b=gy(t,"recharts-bar-"),[x,E]=D.useState(!1),C=!x,T=D.useCallback(()=>{typeof c=="function"&&c(),E(!1)},[c]),I=D.useCallback(()=>{typeof h=="function"&&h(),E(!0)},[h]);return D.createElement(Pce,{showLabels:C,rects:n},D.createElement(py,{animationId:b,begin:o,duration:u,isActive:a,easing:d,onAnimationEnd:T,onAnimationStart:I,key:b},B=>{var U=B===1?n:n==null?void 0:n.map((F,K)=>{var Z=m&&m[K];if(Z)return eo(eo({},F),{},{x:La(Z.x,F.x,B),y:La(Z.y,F.y,B),width:La(Z.width,F.width,B),height:La(Z.height,F.height,B)});if(i==="horizontal"){var V=La(0,F.height,B),Q=La(F.stackedBarStart,F.y,B);return eo(eo({},F),{},{y:Q,height:V})}var q=La(0,F.width,B),se=La(F.stackedBarStart,F.x,B);return eo(eo({},F),{},{width:q,x:se})});return B>0&&(r.current=U??null),U==null?null:D.createElement(ro,null,D.createElement(Bce,{props:t,data:U}))}),D.createElement(qD,{label:t.label}),t.children)}function Uce(e){var t=D.useRef(null);return D.createElement(Fce,{previousRectanglesRef:t,props:e})}var dL=0,zce=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:bi(e,t)}};class qce extends D.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:u,background:d,id:c}=this.props;if(t||r==null)return null;var h=On("recharts-bar",i),m=c;return D.createElement(ro,{className:h,id:c},u&&D.createElement("defs",null,D.createElement(jle,{clipPathId:m,xAxisId:a,yAxisId:o})),D.createElement(ro,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(m,")"):void 0},D.createElement(Rce,{data:r,dataKey:n,background:d,allOtherBarProps:this.props}),D.createElement(Uce,this.props)))}}var Hce={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:dL,xAxisId:0,yAxisId:0,zIndex:_s.bar};function Gce(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:u,animationDuration:d,animationEasing:c,isAnimationActive:h}=e,{needClip:m}=lL(t,r),b=A0(),x=ko(),E=aS(e.children,j0),C=Jt(B=>vce(B,e.id,x,E));if(b!=="vertical"&&b!=="horizontal")return null;var T,I=C==null?void 0:C[0];return I==null||I.height==null||I.width==null?T=0:T=b==="vertical"?I.height/2:I.width/2,D.createElement(Mle,{xAxisId:t,yAxisId:r,data:C,dataPointFormatter:zce,errorBarOffset:T},D.createElement(qce,ju({},e,{layout:b,needClip:m,data:C,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:u,animationDuration:d,animationEasing:c,isAnimationActive:h})))}function Wce(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:u,xAxisTicks:d,yAxisTicks:c,stackedData:h,displayedData:m,offset:b,cells:x,parentViewBox:E,dataStartIndex:C}=e,T=t==="horizontal"?u:o,I=h?T.scale.domain():null,B=KX({numericAxis:T}),U=T.scale.map(B);return m.map((F,K)=>{var Z,V,Q,q,se,G;if(h){var H=h[K+C];if(H==null)return null;Z=GX(H,I)}else Z=bi(F,r),Array.isArray(Z)||(Z=[B,Z]);var le=ece(n,dL)(Z[1],K);if(t==="horizontal"){var J,ie=u.scale.map(Z[0]),ne=u.scale.map(Z[1]);if(ie==null||ne==null)return null;V=l6({axis:o,ticks:d,bandSize:a,offset:i.offset,entry:F,index:K}),Q=(J=ne??ie)!==null&&J!==void 0?J:void 0,q=i.size;var fe=ie-ne;if(se=Bc(fe)?0:fe,G={x:V,y:b.top,width:q,height:b.height},Math.abs(le)>0&&Math.abs(se)<Math.abs(le)){var we=ss(se||le)*(Math.abs(le)-Math.abs(se));Q-=we,se+=we}}else{var Ie=o.scale.map(Z[0]),Me=o.scale.map(Z[1]);if(Ie==null||Me==null)return null;if(V=Ie,Q=l6({axis:u,ticks:c,bandSize:a,offset:i.offset,entry:F,index:K}),q=Me-Ie,se=i.size,G={x:b.left,y:Q,width:b.width,height:se},Math.abs(le)>0&&Math.abs(q)<Math.abs(le)){var pe=ss(q||le)*(Math.abs(le)-Math.abs(q));q+=pe}}if(V==null||Q==null||q==null||se==null)return null;var X=eo(eo({},F),{},{stackedBarStart:U,x:V,y:Q,width:q,height:se,value:h?Z:Z[1],payload:F,background:G,tooltipPosition:{x:V+q/2,y:Q+se/2},parentViewBox:E},x&&x[K]&&x[K].props);return X}).filter(Boolean)}function $ce(e){var t=ls(e,Hce),r=wce(t.stackId),n=ko();return D.createElement(ZD,{id:t.id,type:"bar"},i=>D.createElement(D.Fragment,null,D.createElement(Ase,{legendPayload:Mce(t)}),D.createElement(jce,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),D.createElement(Lse,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),D.createElement(ac,{zIndex:t.zIndex},D.createElement(Gce,ju({},t,{id:i})))))}var A2=D.memo($ce,hS);A2.displayName="Bar";var Vce=["domain","range"],Yce=["domain","range"];function ST(e,t){if(e==null)return{};var r,n,i=Xce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Xce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ET(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function hL(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=ST(e,Vce),{domain:a,range:o}=t,u=ST(t,Yce);return!ET(r,a)||!ET(n,o)?!1:hS(i,u)}var Kce=["type"],Zce=["dangerouslySetInnerHTML","ticks","scale"],Qce=["id","scale"];function D_(){return D_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D_.apply(null,arguments)}function CT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(r),!0).forEach(function(n){Jce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jce(e,t,r){return(t=eue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eue(e){var t=tue(e,"string");return typeof t=="symbol"?t:t+""}function tue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L_(e,t){if(e==null)return{};var r,n,i=rue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nue(e){var t=li(),r=D.useRef(null),n=iR(),{type:i}=e,a=L_(e,Kce),o=Sy(n,"xAxis",i),u=D.useMemo(()=>{if(o!=null)return NT(NT({},a),{},{type:o})},[a,o]);return D.useLayoutEffect(()=>{u!=null&&(r.current===null?t(hoe(u)):r.current!==u&&t(poe({prev:r.current,next:u})),r.current=u)},[u,t]),D.useLayoutEffect(()=>()=>{r.current&&(t(goe(r.current)),r.current=null)},[t]),null}var iue=e=>{var{xAxisId:t,className:r}=e,n=Jt(B3),i=ko(),a="xAxis",o=Jt(I=>JP(I,a,t,i)),u=Jt(I=>XP(I,t)),d=Jt(I=>ure(I,t)),c=Jt(I=>IP(I,t));if(u==null||d==null||c==null)return null;var{dangerouslySetInnerHTML:h,ticks:m,scale:b}=e,x=L_(e,Zce),{id:E,scale:C}=c,T=L_(c,Qce);return D.createElement(fS,D_({},x,T,{x:d.x,y:d.y,width:u.width,height:u.height,className:On("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o,axisType:a}))},aue={allowDataOverflow:rs.allowDataOverflow,allowDecimals:rs.allowDecimals,allowDuplicatedCategory:rs.allowDuplicatedCategory,angle:rs.angle,axisLine:Su.axisLine,height:rs.height,hide:!1,includeHidden:rs.includeHidden,interval:rs.interval,label:!1,minTickGap:rs.minTickGap,mirror:rs.mirror,orientation:rs.orientation,padding:rs.padding,reversed:rs.reversed,scale:rs.scale,tick:rs.tick,tickCount:rs.tickCount,tickLine:Su.tickLine,tickSize:Su.tickSize,type:rs.type,xAxisId:0},sue=e=>{var t=ls(e,aue);return D.createElement(D.Fragment,null,D.createElement(nue,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),D.createElement(iue,t))},pS=D.memo(sue,hL);pS.displayName="XAxis";var oue=["type"],lue=["dangerouslySetInnerHTML","ticks","scale"],cue=["id","scale"];function B_(){return B_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B_.apply(null,arguments)}function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(r),!0).forEach(function(n){uue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uue(e,t,r){return(t=fue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fue(e){var t=due(e,"string");return typeof t=="symbol"?t:t+""}function due(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F_(e,t){if(e==null)return{};var r,n,i=hue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pue(e){var t=li(),r=D.useRef(null),n=iR(),{type:i}=e,a=F_(e,oue),o=Sy(n,"yAxis",i),u=D.useMemo(()=>{if(o!=null)return TT(TT({},a),{},{type:o})},[o,a]);return D.useLayoutEffect(()=>{u!=null&&(r.current===null?t(moe(u)):r.current!==u&&t(voe({prev:r.current,next:u})),r.current=u)},[u,t]),D.useLayoutEffect(()=>()=>{r.current&&(t(yoe(r.current)),r.current=null)},[t]),null}function gue(e){var{yAxisId:t,className:r,width:n,label:i}=e,a=D.useRef(null),o=D.useRef(null),u=Jt(B3),d=ko(),c=li(),h="yAxis",m=Jt(Z=>KP(Z,t)),b=Jt(Z=>dre(Z,t)),x=Jt(Z=>JP(Z,h,t,d)),E=Jt(Z=>kP(Z,t));if(D.useLayoutEffect(()=>{if(!(n!=="auto"||!m||rS(i)||D.isValidElement(i)||E==null)){var Z=a.current;if(Z){var V=Z.getCalculatedWidth();Math.round(m.width)!==Math.round(V)&&c(boe({id:t,width:V}))}}},[x,m,c,i,t,n,E]),m==null||b==null||E==null)return null;var{dangerouslySetInnerHTML:C,ticks:T,scale:I}=e,B=F_(e,lue),{id:U,scale:F}=E,K=F_(E,cue);return D.createElement(fS,B_({},B,K,{ref:a,labelRef:o,x:b.x,y:b.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:m.width,height:m.height,className:On("recharts-".concat(h," ").concat(h),r),viewBox:u,ticks:x,axisType:h}))}var mue={allowDataOverflow:ns.allowDataOverflow,allowDecimals:ns.allowDecimals,allowDuplicatedCategory:ns.allowDuplicatedCategory,angle:ns.angle,axisLine:Su.axisLine,hide:!1,includeHidden:ns.includeHidden,interval:ns.interval,label:!1,minTickGap:ns.minTickGap,mirror:ns.mirror,orientation:ns.orientation,padding:ns.padding,reversed:ns.reversed,scale:ns.scale,tick:ns.tick,tickCount:ns.tickCount,tickLine:Su.tickLine,tickSize:Su.tickSize,type:ns.type,width:ns.width,yAxisId:0},vue=e=>{var t=ls(e,mue);return D.createElement(D.Fragment,null,D.createElement(pue,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),D.createElement(gue,t))},gS=D.memo(vue,hL);gS.displayName="YAxis";var yue=(e,t)=>t,mS=Ke([yue,Tn,NP,us,mD,qu,Nne,Ua],Rne),vS=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},pL=wl("mouseClick"),gL=kp();gL.startListening({actionCreator:pL,effect:(e,t)=>{var r=e.payload,n=mS(t.getState(),vS(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(Cre({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var U_=wl("mouseMove"),mL=kp(),gm=null;mL.startListening({actionCreator:U_,effect:(e,t)=>{var r=e.payload;gm!==null&&cancelAnimationFrame(gm);var n=vS(r);gm=requestAnimationFrame(()=>{var i=t.getState(),a=WA(i,i.tooltip.settings.shared);if(a==="axis"){var o=mS(i,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(oD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(sD())}gm=null})}});function bue(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var IT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},vL=Io({name:"rootProps",initialState:IT,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:IT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),xue=vL.reducer,{updateOptions:wue}=vL.actions,_ue=null,Aue={updatePolarOptions:(e,t)=>t.payload},yL=Io({name:"polarOptions",initialState:_ue,reducers:Aue}),{updatePolarOptions:Sue}=yL.actions,Eue=yL.reducer,bL=wl("keyDown"),xL=wl("focus"),yS=kp();yS.startListening({actionCreator:bL,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=$A(i,M0(r),qp(r),Gp(r)),u=o==null?-1:Number(o);if(!(!Number.isFinite(u)||u<0)){var d=qu(r);if(a==="Enter"){var c=g2(r,"axis","hover",String(i.index));t.dispatch(I_({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var h=mre(r),m=h==="left-to-right"?1:-1,b=a==="ArrowRight"?1:-1,x=u+b*m;if(!(d==null||x>=d.length||x<0)){var E=g2(r,"axis","hover",String(x));t.dispatch(I_({active:!0,activeIndex:x.toString(),activeCoordinate:E}))}}}}}});yS.startListening({actionCreator:xL,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=g2(r,"axis","hover",String(a));t.dispatch(I_({active:!0,activeIndex:a,activeCoordinate:o}))}}}});var vl=wl("externalEvent"),wL=kp(),Jw=new Map;wL.startListening({actionCreator:vl,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=Jw.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var u=t.getState(),d={activeCoordinate:dne(u),activeDataKey:ZA(u),activeIndex:Rd(u),activeLabel:bD(u),activeTooltipIndex:Rd(u),isTooltipActive:hne(u)};r(d,n)}finally{Jw.delete(i)}});Jw.set(i,o)}}});var Cue=Ke([I0],e=>e.tooltipItemPayloads),Nue=Ke([Cue,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(a=>a.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(t)}}}),_L=wl("touchMove"),AL=kp();AL.startListening({actionCreator:_L,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=WA(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var o=mS(n,vS({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(oD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var u,d=r.touches[0];if(document.elementFromPoint==null||d==null)return;var c=document.elementFromPoint(d.clientX,d.clientY);if(!c||!c.getAttribute)return;var h=c.getAttribute(Qj),m=(u=c.getAttribute(Jj))!==null&&u!==void 0?u:void 0,b=k0(n).find(C=>C.id===m);if(h==null||b==null||m==null)return;var{dataKey:x}=b,E=Nue(n,h,m);t.dispatch(aD({activeDataKey:x,activeIndex:h,activeCoordinate:E,activeGraphicalItemId:m}))}}}});var Oue=xj({brush:Moe,cartesianAxis:xoe,chartData:fie,errorBars:Cle,graphicalItems:Pse,layout:FX,legend:$K,options:sie,polarAxis:Yae,polarOptions:Eue,referenceElements:Doe,rootProps:xue,tooltip:Nre,zIndex:Yne}),Tue=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return uX({reducer:Oue,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([gL.middleware,mL.middleware,yS.middleware,wL.middleware,AL.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(Pj({type:"raf"}))},devTools:{serialize:{replacer:bue},name:"recharts-".concat(r)}})};function SL(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=ko(),a=D.useRef(null);if(i)return r;a.current==null&&(a.current=Tue(t,n));var o=k3;return D.createElement(Xle,{context:o,store:a.current},r)}function Iue(e){var{layout:t,margin:r}=e,n=li(),i=ko();return D.useEffect(()=>{i||(n(DX(t)),n(PX(r)))},[n,i,t,r]),null}var EL=D.memo(Iue,hS);function CL(e){var t=li();return D.useEffect(()=>{t(wue(e))},[t,e]),null}function kT(e){var{zIndex:t,isPanorama:r}=e,n=D.useRef(null),i=li();return D.useLayoutEffect(()=>(n.current&&i($ne({zIndex:t,element:n.current,isPanorama:r})),()=>{i(Vne({zIndex:t,isPanorama:r}))}),[i,t,r]),D.createElement("g",{tabIndex:-1,ref:n})}function MT(e){var{children:t,isPanorama:r}=e,n=Jt(Dne);if(!n||n.length===0)return t;var i=n.filter(o=>o<0),a=n.filter(o=>o>0);return D.createElement(D.Fragment,null,i.map(o=>D.createElement(kT,{key:o,zIndex:o,isPanorama:r})),t,a.map(o=>D.createElement(kT,{key:o,zIndex:o,isPanorama:r})))}var kue=["children"];function Mue(e,t){if(e==null)return{};var r,n,i=jue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function S2(){return S2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S2.apply(null,arguments)}var Rue={width:"100%",height:"100%",display:"block"},Pue=D.forwardRef((e,t)=>{var r=z3(),n=q3(),i=vR();if(!Uc(r)||!Uc(n))return null;var{children:a,otherAttributes:o,title:u,desc:d}=e,c,h;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0),D.createElement(w3,S2({},o,{title:u,desc:d,role:h,tabIndex:c,width:r,height:n,style:Rue,ref:t}),a)}),Due=e=>{var{children:t}=e,r=Jt(ly);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return D.createElement(w3,{width:n,height:i,x:o,y:a},t)},jT=D.forwardRef((e,t)=>{var{children:r}=e,n=Mue(e,kue),i=ko();return i?D.createElement(Due,null,D.createElement(MT,{isPanorama:!0},r)):D.createElement(Pue,S2({ref:t},n),D.createElement(MT,{isPanorama:!1},r))});function Lue(){var e=li(),[t,r]=D.useState(null),n=Jt(rK);return D.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;ln(a)&&a!==n&&e(BX(a))}},[t,e,n]),r}function RT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(r),!0).forEach(function(n){Fue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fue(e,t,r){return(t=Uue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uue(e){var t=zue(e,"string");return typeof t=="symbol"?t:t+""}function zue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function If(){return If=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},If.apply(null,arguments)}var que=()=>(xie(),null);function E2(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Hue=D.forwardRef((e,t)=>{var r,n,i=D.useRef(null),[a,o]=D.useState({containerWidth:E2((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:E2((n=e.style)===null||n===void 0?void 0:n.height)}),u=D.useCallback((c,h)=>{o(m=>{var b=Math.round(c),x=Math.round(h);return m.containerWidth===b&&m.containerHeight===x?m:{containerWidth:b,containerHeight:x}})},[]),d=D.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=c.getBoundingClientRect();u(h,m);var b=E=>{var C=E[0];if(C!=null){var{width:T,height:I}=C.contentRect;u(T,I)}},x=new ResizeObserver(b);x.observe(c),i.current=x}},[t,u]);return D.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[u]),D.createElement(D.Fragment,null,D.createElement(jp,{width:a.containerWidth,height:a.containerHeight}),D.createElement("div",If({ref:d},e)))}),Gue=D.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=D.useState({containerWidth:E2(r),containerHeight:E2(n)}),o=D.useCallback((d,c)=>{a(h=>{var m=Math.round(d),b=Math.round(c);return h.containerWidth===m&&h.containerHeight===b?h:{containerWidth:m,containerHeight:b}})},[]),u=D.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:c,height:h}=d.getBoundingClientRect();o(c,h)}},[t,o]);return D.createElement(D.Fragment,null,D.createElement(jp,{width:i.containerWidth,height:i.containerHeight}),D.createElement("div",If({ref:u},e)))}),Wue=D.forwardRef((e,t)=>{var{width:r,height:n}=e;return D.createElement(D.Fragment,null,D.createElement(jp,{width:r,height:n}),D.createElement("div",If({ref:t},e)))}),$ue=D.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?D.createElement(Gue,If({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?D.createElement(Wue,If({},e,{width:r,height:n,ref:t})):D.createElement(D.Fragment,null,D.createElement(jp,{width:r,height:n}),D.createElement("div",If({ref:t},e)))});function Vue(e){return e?Hue:$ue}var Yue=D.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:u,onMouseDown:d,onMouseEnter:c,onMouseLeave:h,onMouseMove:m,onMouseUp:b,onTouchEnd:x,onTouchMove:E,onTouchStart:C,style:T,width:I,responsive:B,dispatchTouchEvents:U=!0}=e,F=D.useRef(null),K=li(),[Z,V]=D.useState(null),[Q,q]=D.useState(null),se=Lue(),G=F3(),H=(G==null?void 0:G.width)>0?G.width:I,le=(G==null?void 0:G.height)>0?G.height:i,J=D.useCallback(Ce=>{se(Ce),typeof t=="function"&&t(Ce),V(Ce),q(Ce),Ce!=null&&(F.current=Ce)},[se,t,V,q]),ie=D.useCallback(Ce=>{K(pL(Ce)),K(vl({handler:a,reactEvent:Ce}))},[K,a]),ne=D.useCallback(Ce=>{K(U_(Ce)),K(vl({handler:c,reactEvent:Ce}))},[K,c]),fe=D.useCallback(Ce=>{K(sD()),K(vl({handler:h,reactEvent:Ce}))},[K,h]),we=D.useCallback(Ce=>{K(U_(Ce)),K(vl({handler:m,reactEvent:Ce}))},[K,m]),Ie=D.useCallback(()=>{K(xL())},[K]),Me=D.useCallback(Ce=>{K(bL(Ce.key))},[K]),pe=D.useCallback(Ce=>{K(vl({handler:o,reactEvent:Ce}))},[K,o]),X=D.useCallback(Ce=>{K(vl({handler:u,reactEvent:Ce}))},[K,u]),de=D.useCallback(Ce=>{K(vl({handler:d,reactEvent:Ce}))},[K,d]),me=D.useCallback(Ce=>{K(vl({handler:b,reactEvent:Ce}))},[K,b]),Ne=D.useCallback(Ce=>{K(vl({handler:C,reactEvent:Ce}))},[K,C]),xe=D.useCallback(Ce=>{U&&K(_L(Ce)),K(vl({handler:E,reactEvent:Ce}))},[K,U,E]),Re=D.useCallback(Ce=>{K(vl({handler:x,reactEvent:Ce}))},[K,x]),ze=Vue(B);return D.createElement(CD.Provider,{value:Z},D.createElement(B7.Provider,{value:Q},D.createElement(ze,{width:H??(T==null?void 0:T.width),height:le??(T==null?void 0:T.height),className:On("recharts-wrapper",n),style:Bue({position:"relative",cursor:"default",width:H,height:le},T),onClick:ie,onContextMenu:pe,onDoubleClick:X,onFocus:Ie,onKeyDown:Me,onMouseDown:de,onMouseEnter:ne,onMouseLeave:fe,onMouseMove:we,onMouseUp:me,onTouchEnd:Re,onTouchMove:xe,onTouchStart:Ne,ref:J},D.createElement(que,null),r)))}),Xue=["width","height","responsive","children","className","style","compact","title","desc"];function Kue(e,t){if(e==null)return{};var r,n,i=Zue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Zue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NL=D.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:o,style:u,compact:d,title:c,desc:h}=e,m=Kue(e,Xue),b=Jl(m);return d?D.createElement(D.Fragment,null,D.createElement(jp,{width:r,height:n}),D.createElement(jT,{otherAttributes:b,title:c,desc:h},a)):D.createElement(Yue,{className:o,style:u,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},D.createElement(jT,{otherAttributes:b,title:c,desc:h,ref:t},D.createElement(Boe,null,a)))});function z_(){return z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z_.apply(null,arguments)}var Que={top:5,right:5,bottom:5,left:5},Jue={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Que,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},efe=D.forwardRef(function(t,r){var n,i=ls(t.categoricalChartProps,Jue),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:c}=t,h={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return D.createElement(SL,{preloadedState:{options:h},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:a},D.createElement(rL,{chartData:c.data}),D.createElement(EL,{layout:i.layout,margin:i.margin}),D.createElement(CL,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),D.createElement(NL,z_({},i,{ref:r})))}),tfe=["axis","item"],OL=D.forwardRef((e,t)=>D.createElement(efe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tfe,tooltipPayloadSearcher:ND,categoricalChartProps:e,ref:t}));function rfe(e){var t=li();return D.useEffect(()=>{t(Sue(e))},[t,e]),null}var nfe=["layout"];function q_(){return q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q_.apply(null,arguments)}function ife(e,t){if(e==null)return{};var r,n,i=afe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function afe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sfe={top:5,right:5,bottom:5,left:5},TL={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:sfe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ofe=D.forwardRef(function(t,r){var n,i=ls(t.categoricalChartProps,TL),{layout:a}=i,o=ife(i,nfe),{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:c,tooltipPayloadSearcher:h}=t,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:c,tooltipPayloadSearcher:h,eventEmitter:void 0};return D.createElement(SL,{preloadedState:{options:m},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:u},D.createElement(rL,{chartData:i.data}),D.createElement(EL,{layout:a,margin:i.margin}),D.createElement(CL,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),D.createElement(rfe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),D.createElement(NL,q_({},o,{ref:r})))});function PT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(r),!0).forEach(function(n){lfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lfe(e,t,r){return(t=cfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cfe(e){var t=ufe(e,"string");return typeof t=="symbol"?t:t+""}function ufe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ffe=["item"],dfe=DT(DT({},TL),{},{layout:"centric",startAngle:0,endAngle:360}),IL=D.forwardRef((e,t)=>{var r=ls(e,dfe);return D.createElement(ofe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:ffe,tooltipPayloadSearcher:ND,categoricalChartProps:r,ref:t})});const mm=["#10b981","#3b82f6","#f59e0b"];function hfe(){const{user:e}=Fa(),[t,r]=D.useState(!0),[n,i]=D.useState(0),[a,o]=D.useState(0),[u,d]=D.useState(0),[c,h]=D.useState(0),[m,b]=D.useState([]),[x,E]=D.useState([]);D.useEffect(()=>{e&&C()},[e]);const C=async()=>{r(!0);try{const T=new Date,I=new Date(T.getFullYear(),T.getMonth(),1).toISOString(),B=new Date(T.getFullYear(),T.getMonth()+1,0).toISOString(),{data:U,error:F}=await qt.from("facturas").select("monto_total, estado, fecha_emision").gte("fecha_emision",I).lte("fecha_emision",B);if(!F&&U){const V=U.filter(q=>q.estado!=="anulada"),Q=V.reduce((q,se)=>q+Number(se.monto_total),0);i(Q),o(V.length>0?Q/V.length:0)}const{data:K,error:Z}=await qt.from("paquetes").select("bodega_id, bodegas(nombre), peso_lbs").gte("fecha_recepcion",I).lte("fecha_recepcion",B);if(!Z&&K){d(K.length);const V=new Map;let Q=0;K.forEach(se=>{var le;const G=((le=se.bodegas)==null?void 0:le.nombre)||"General";G.toLowerCase().includes("laredo")&&Q++,V.has(G)||V.set(G,{name:G,lbs:0,count:0});const H=V.get(G);H.lbs+=Number(se.peso_lbs||0),H.count+=1}),h(Q);const q=Array.from(V.values());E(q.map(se=>({name:se.name,value:se.count}))),b(q.map(se=>({name:se.name,LIBRAS:se.lbs})))}}catch(T){console.error("Dashboard calculation error:",T)}finally{r(!1)}};return t?S.jsx("div",{className:"flex h-[80vh] items-center justify-center",children:S.jsx(Fs,{className:"h-10 w-10 animate-spin text-blue-600"})}):S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Dashboard de Control"}),S.jsx("p",{className:"text-sm text-slate-500",children:"Resumen general de operaciones y finanzas."})]}),S.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{name:"Facturacin Mensual",icon:p7,value:`Q ${n.toFixed(2)}`},{name:"Ticket Promedio",icon:q2,value:`Q ${a.toFixed(2)}`},{name:"Paquetes Procesados",icon:kf,value:u.toString()},{name:"Carga Laredo (Tx)",icon:G2,value:c.toString()}].map(T=>S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("p",{className:"text-sm font-medium text-slate-500",children:T.name}),S.jsx("div",{className:"rounded-md bg-blue-50 p-2",children:S.jsx(T.icon,{className:"h-4 w-4 text-blue-600"})})]}),S.jsxs("div",{className:"mt-4",children:[S.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:T.value}),S.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Acumulado mes actual"})]})]},T.name))}),S.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[S.jsxs("div",{className:"col-span-2 rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[S.jsx("h2",{className:"text-base font-semibold text-slate-900 mb-4",children:"Volumen (Libras) por Bodega Matriz"}),S.jsx("div",{className:"h-80 w-full",children:m.length>0?S.jsx($v,{width:"100%",height:"100%",children:S.jsxs(OL,{data:m,margin:{top:10,right:10,left:0,bottom:0},children:[S.jsx(dS,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0"}),S.jsx(pS,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12},dy:10}),S.jsx(gS,{axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12}}),S.jsx(m2,{cursor:{fill:"#F1F5F9"},contentStyle:{borderRadius:"8px",border:"1px solid #E2E8F0",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),S.jsx(A2,{dataKey:"LIBRAS",fill:"#3b82f6",radius:[4,4,0,0],maxBarSize:60})]})}):S.jsx("div",{className:"h-full flex items-center justify-center text-slate-400 text-sm",children:"Sin datos suficientes este mes"})})]}),S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm flex flex-col",children:[S.jsx("h2",{className:"text-base font-semibold text-slate-900 mb-4",children:"Distribucin de Paquetes"}),S.jsx("div",{className:"h-64 w-full flex-1",children:x.length>0?S.jsx($v,{width:"100%",height:"100%",children:S.jsxs(IL,{children:[S.jsx(cS,{data:x,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",stroke:"none",children:x.map((T,I)=>S.jsx(j0,{fill:mm[I%mm.length]},`cell-${I}`))}),S.jsx(m2,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}})]})}):S.jsx("div",{className:"h-full flex items-center justify-center text-slate-400 text-sm",children:"Sin paquetes"})}),S.jsx("div",{className:"mt-4 flex flex-wrap justify-center gap-x-6 gap-y-2",children:x.map((T,I)=>S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:mm[I%mm.length]}}),S.jsxs("span",{className:"text-xs font-medium text-slate-600",children:[T.name," (",T.value,")"]})]},T.name))})]})]})]})}var Dt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Dt||(Dt={}));var LT=new Map([[Dt.QR_CODE,"QR_CODE"],[Dt.AZTEC,"AZTEC"],[Dt.CODABAR,"CODABAR"],[Dt.CODE_39,"CODE_39"],[Dt.CODE_93,"CODE_93"],[Dt.CODE_128,"CODE_128"],[Dt.DATA_MATRIX,"DATA_MATRIX"],[Dt.MAXICODE,"MAXICODE"],[Dt.ITF,"ITF"],[Dt.EAN_13,"EAN_13"],[Dt.EAN_8,"EAN_8"],[Dt.PDF_417,"PDF_417"],[Dt.RSS_14,"RSS_14"],[Dt.RSS_EXPANDED,"RSS_EXPANDED"],[Dt.UPC_A,"UPC_A"],[Dt.UPC_E,"UPC_E"],[Dt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),BT;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(BT||(BT={}));function pfe(e){return Object.values(Dt).includes(e)}var Rf;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Rf||(Rf={}));var Vl=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Rf.SCAN_TYPE_CAMERA,Rf.SCAN_TYPE_FILE],e})(),kL=(function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!LT.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,LT.get(t))},e})(),FT=(function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),H_;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(H_||(H_={}));var ML=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:H_.UNKWOWN_ERROR}},e})(),jL=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function Tc(e){return typeof e>"u"||e===null}function gfe(e,t,r){return e>r?r:e<t?t:e}var Kh=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),Bn=(function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e})(),UT=(function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e})(),RL=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),o=Object.keys(t),u=0,d=o;u<d.length;u++){var c=d[u];if(a.has(c))return r.logError("".concat(c," is not supported videoConstaints."),!0),!1}return!0},e})(),F1={exports:{}},mfe=F1.exports,zT;function vfe(){return zT||(zT=1,(function(e,t){(function(r,n){n(t)})(mfe,(function(r){function n(ee){return ee==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,l){ee.__proto__=l}||function(ee,l){for(var p in l)l.hasOwnProperty(p)&&(ee[p]=l[p])};function a(ee,l){i(ee,l);function p(){this.constructor=ee}ee.prototype=l===null?Object.create(l):(p.prototype=l.prototype,new p)}function o(ee,l){var p=Object.setPrototypeOf;p?p(ee,l):ee.__proto__=l}function u(ee,l){l===void 0&&(l=ee.constructor);var p=Error.captureStackTrace;p&&p(ee,l)}var d=(function(ee){a(l,ee);function l(p){var g=this.constructor,y=ee.call(this,p)||this;return Object.defineProperty(y,"name",{value:g.name,enumerable:!1}),o(y,g.prototype),u(y),y}return l})(Error);class c extends d{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}c.kind="Exception";class h extends c{}h.kind="ArgumentException";class m extends c{}m.kind="IllegalArgumentException";class b{constructor(l){if(this.binarizer=l,l===null)throw new m("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(l,p){return this.binarizer.getBlackRow(l,p)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(l,p,g,y){const w=this.binarizer.getLuminanceSource().crop(l,p,g,y);return new b(this.binarizer.createBinarizer(w))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new b(this.binarizer.createBinarizer(l))}rotateCounterClockwise45(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new b(this.binarizer.createBinarizer(l))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class x extends c{static getChecksumInstance(){return new x}}x.kind="ChecksumException";class E{constructor(l){this.source=l}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class C{static arraycopy(l,p,g,y,w){for(;w--;)g[y++]=l[p++]}static currentTimeMillis(){return Date.now()}}class T extends c{}T.kind="IndexOutOfBoundsException";class I extends T{constructor(l=void 0,p=void 0){super(p),this.index=l,this.message=p}}I.kind="ArrayIndexOutOfBoundsException";class B{static fill(l,p){for(let g=0,y=l.length;g<y;g++)l[g]=p}static fillWithin(l,p,g,y){B.rangeCheck(l.length,p,g);for(let w=p;w<g;w++)l[w]=y}static rangeCheck(l,p,g){if(p>g)throw new m("fromIndex("+p+") > toIndex("+g+")");if(p<0)throw new I(p);if(g>l)throw new I(g)}static asList(...l){return l}static create(l,p,g){return Array.from({length:l}).map(w=>Array.from({length:p}).fill(g))}static createInt32Array(l,p,g){return Array.from({length:l}).map(w=>Int32Array.from({length:p}).fill(g))}static equals(l,p){if(!l||!p||!l.length||!p.length||l.length!==p.length)return!1;for(let g=0,y=l.length;g<y;g++)if(l[g]!==p[g])return!1;return!0}static hashCode(l){if(l===null)return 0;let p=1;for(const g of l)p=31*p+g;return p}static fillUint8Array(l,p){for(let g=0;g!==l.length;g++)l[g]=p}static copyOf(l,p){return l.slice(0,p)}static copyOfUint8Array(l,p){if(l.length<=p){const g=new Uint8Array(p);return g.set(l),g}return l.slice(0,p)}static copyOfRange(l,p,g){const y=g-p,w=new Int32Array(y);return C.arraycopy(l,p,w,0,y),w}static binarySearch(l,p,g){g===void 0&&(g=B.numberComparator);let y=0,w=l.length-1;for(;y<=w;){const A=w+y>>1,O=g(p,l[A]);if(O>0)y=A+1;else if(O<0)w=A-1;else return A}return-y-1}static numberComparator(l,p){return l-p}}class U{static numberOfTrailingZeros(l){let p;if(l===0)return 32;let g=31;return p=l<<16,p!==0&&(g-=16,l=p),p=l<<8,p!==0&&(g-=8,l=p),p=l<<4,p!==0&&(g-=4,l=p),p=l<<2,p!==0&&(g-=2,l=p),g-(l<<1>>>31)}static numberOfLeadingZeros(l){if(l===0)return 32;let p=1;return l>>>16||(p+=16,l<<=16),l>>>24||(p+=8,l<<=8),l>>>28||(p+=4,l<<=4),l>>>30||(p+=2,l<<=2),p-=l>>>31,p}static toHexString(l){return l.toString(16)}static toBinaryString(l){return String(parseInt(String(l),2))}static bitCount(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),l=l+(l>>>4)&252645135,l=l+(l>>>8),l=l+(l>>>16),l&63}static truncDivision(l,p){return Math.trunc(l/p)}static parseInt(l,p=void 0){return parseInt(l,p)}}U.MIN_VALUE_32_BITS=-2147483648,U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class F{constructor(l,p){l===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=l,p==null?this.bits=F.makeArray(l):this.bits=p)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(l){if(l>this.bits.length*32){const p=F.makeArray(l);C.arraycopy(this.bits,0,p,0,this.bits.length),this.bits=p}}get(l){return(this.bits[Math.floor(l/32)]&1<<(l&31))!==0}set(l){this.bits[Math.floor(l/32)]|=1<<(l&31)}flip(l){this.bits[Math.floor(l/32)]^=1<<(l&31)}getNextSet(l){const p=this.size;if(l>=p)return p;const g=this.bits;let y=Math.floor(l/32),w=g[y];w&=~((1<<(l&31))-1);const A=g.length;for(;w===0;){if(++y===A)return p;w=g[y]}const O=y*32+U.numberOfTrailingZeros(w);return O>p?p:O}getNextUnset(l){const p=this.size;if(l>=p)return p;const g=this.bits;let y=Math.floor(l/32),w=~g[y];w&=~((1<<(l&31))-1);const A=g.length;for(;w===0;){if(++y===A)return p;w=~g[y]}const O=y*32+U.numberOfTrailingZeros(w);return O>p?p:O}setBulk(l,p){this.bits[Math.floor(l/32)]=p}setRange(l,p){if(p<l||l<0||p>this.size)throw new m;if(p===l)return;p--;const g=Math.floor(l/32),y=Math.floor(p/32),w=this.bits;for(let A=g;A<=y;A++){const O=A>g?0:l&31,L=(2<<(A<y?31:p&31))-(1<<O);w[A]|=L}}clear(){const l=this.bits.length,p=this.bits;for(let g=0;g<l;g++)p[g]=0}isRange(l,p,g){if(p<l||l<0||p>this.size)throw new m;if(p===l)return!0;p--;const y=Math.floor(l/32),w=Math.floor(p/32),A=this.bits;for(let O=y;O<=w;O++){const j=O>y?0:l&31,W=(2<<(O<w?31:p&31))-(1<<j)&4294967295;if((A[O]&W)!==(g?W:0))return!1}return!0}appendBit(l){this.ensureCapacity(this.size+1),l&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(l,p){if(p<0||p>32)throw new m("Num bits must be between 0 and 32");this.ensureCapacity(this.size+p);for(let g=p;g>0;g--)this.appendBit((l>>g-1&1)===1)}appendBitArray(l){const p=l.size;this.ensureCapacity(this.size+p);for(let g=0;g<p;g++)this.appendBit(l.get(g))}xor(l){if(this.size!==l.size)throw new m("Sizes don't match");const p=this.bits;for(let g=0,y=p.length;g<y;g++)p[g]^=l.bits[g]}toBytes(l,p,g,y){for(let w=0;w<y;w++){let A=0;for(let O=0;O<8;O++)this.get(l)&&(A|=1<<7-O),l++;p[g+w]=A}}getBitArray(){return this.bits}reverse(){const l=new Int32Array(this.bits.length),p=Math.floor((this.size-1)/32),g=p+1,y=this.bits;for(let w=0;w<g;w++){let A=y[w];A=A>>1&1431655765|(A&1431655765)<<1,A=A>>2&858993459|(A&858993459)<<2,A=A>>4&252645135|(A&252645135)<<4,A=A>>8&16711935|(A&16711935)<<8,A=A>>16&65535|(A&65535)<<16,l[p-w]=A}if(this.size!==g*32){const w=g*32-this.size;let A=l[0]>>>w;for(let O=1;O<g;O++){const j=l[O];A|=j<<32-w,l[O-1]=A,A=j>>>w}l[g-1]=A}this.bits=l}static makeArray(l){return new Int32Array(Math.floor((l+31)/32))}equals(l){if(!(l instanceof F))return!1;const p=l;return this.size===p.size&&B.equals(this.bits,p.bits)}hashCode(){return 31*this.size+B.hashCode(this.bits)}toString(){let l="";for(let p=0,g=this.size;p<g;p++)(p&7)===0&&(l+=" "),l+=this.get(p)?"X":".";return l}clone(){return new F(this.size,this.bits.slice())}}var K;(function(ee){ee[ee.OTHER=0]="OTHER",ee[ee.PURE_BARCODE=1]="PURE_BARCODE",ee[ee.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",ee[ee.TRY_HARDER=3]="TRY_HARDER",ee[ee.CHARACTER_SET=4]="CHARACTER_SET",ee[ee.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",ee[ee.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",ee[ee.ASSUME_GS1=7]="ASSUME_GS1",ee[ee.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",ee[ee.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",ee[ee.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(K||(K={}));var Z=K;class V extends c{static getFormatInstance(){return new V}}V.kind="FormatException";var Q;(function(ee){ee[ee.Cp437=0]="Cp437",ee[ee.ISO8859_1=1]="ISO8859_1",ee[ee.ISO8859_2=2]="ISO8859_2",ee[ee.ISO8859_3=3]="ISO8859_3",ee[ee.ISO8859_4=4]="ISO8859_4",ee[ee.ISO8859_5=5]="ISO8859_5",ee[ee.ISO8859_6=6]="ISO8859_6",ee[ee.ISO8859_7=7]="ISO8859_7",ee[ee.ISO8859_8=8]="ISO8859_8",ee[ee.ISO8859_9=9]="ISO8859_9",ee[ee.ISO8859_10=10]="ISO8859_10",ee[ee.ISO8859_11=11]="ISO8859_11",ee[ee.ISO8859_13=12]="ISO8859_13",ee[ee.ISO8859_14=13]="ISO8859_14",ee[ee.ISO8859_15=14]="ISO8859_15",ee[ee.ISO8859_16=15]="ISO8859_16",ee[ee.SJIS=16]="SJIS",ee[ee.Cp1250=17]="Cp1250",ee[ee.Cp1251=18]="Cp1251",ee[ee.Cp1252=19]="Cp1252",ee[ee.Cp1256=20]="Cp1256",ee[ee.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",ee[ee.UTF8=22]="UTF8",ee[ee.ASCII=23]="ASCII",ee[ee.Big5=24]="Big5",ee[ee.GB18030=25]="GB18030",ee[ee.EUC_KR=26]="EUC_KR"})(Q||(Q={}));class q{constructor(l,p,g,...y){this.valueIdentifier=l,this.name=g,typeof p=="number"?this.values=Int32Array.from([p]):this.values=p,this.otherEncodingNames=y,q.VALUE_IDENTIFIER_TO_ECI.set(l,this),q.NAME_TO_ECI.set(g,this);const w=this.values;for(let A=0,O=w.length;A!==O;A++){const j=w[A];q.VALUES_TO_ECI.set(j,this)}for(const A of y)q.NAME_TO_ECI.set(A,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(l){if(l<0||l>=900)throw new V("incorect value");const p=q.VALUES_TO_ECI.get(l);if(p===void 0)throw new V("incorect value");return p}static getCharacterSetECIByName(l){const p=q.NAME_TO_ECI.get(l);if(p===void 0)throw new V("incorect value");return p}equals(l){if(!(l instanceof q))return!1;const p=l;return this.getName()===p.getName()}}q.VALUE_IDENTIFIER_TO_ECI=new Map,q.VALUES_TO_ECI=new Map,q.NAME_TO_ECI=new Map,q.Cp437=new q(Q.Cp437,Int32Array.from([0,2]),"Cp437"),q.ISO8859_1=new q(Q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),q.ISO8859_2=new q(Q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),q.ISO8859_3=new q(Q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),q.ISO8859_4=new q(Q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),q.ISO8859_5=new q(Q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),q.ISO8859_6=new q(Q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),q.ISO8859_7=new q(Q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),q.ISO8859_8=new q(Q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),q.ISO8859_9=new q(Q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),q.ISO8859_10=new q(Q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),q.ISO8859_11=new q(Q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),q.ISO8859_13=new q(Q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),q.ISO8859_14=new q(Q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),q.ISO8859_15=new q(Q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),q.ISO8859_16=new q(Q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),q.SJIS=new q(Q.SJIS,20,"SJIS","Shift_JIS"),q.Cp1250=new q(Q.Cp1250,21,"Cp1250","windows-1250"),q.Cp1251=new q(Q.Cp1251,22,"Cp1251","windows-1251"),q.Cp1252=new q(Q.Cp1252,23,"Cp1252","windows-1252"),q.Cp1256=new q(Q.Cp1256,24,"Cp1256","windows-1256"),q.UnicodeBigUnmarked=new q(Q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),q.UTF8=new q(Q.UTF8,26,"UTF8","UTF-8"),q.ASCII=new q(Q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),q.Big5=new q(Q.Big5,28,"Big5"),q.GB18030=new q(Q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),q.EUC_KR=new q(Q.EUC_KR,30,"EUC_KR","EUC-KR");class se extends c{}se.kind="UnsupportedOperationException";class G{static decode(l,p){const g=this.encodingName(p);return this.customDecoder?this.customDecoder(l,g):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(g)?this.decodeFallback(l,g):new TextDecoder(g).decode(l)}static shouldDecodeOnFallback(l){return!G.isBrowser()&&l==="ISO-8859-1"}static encode(l,p){const g=this.encodingName(p);return this.customEncoder?this.customEncoder(l,g):typeof TextEncoder>"u"?this.encodeFallback(l):new TextEncoder().encode(l)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(l){return typeof l=="string"?l:l.getName()}static encodingCharacterSet(l){return l instanceof q?l:q.getCharacterSetECIByName(l)}static decodeFallback(l,p){const g=this.encodingCharacterSet(p);if(G.isDecodeFallbackSupported(g)){let y="";for(let w=0,A=l.length;w<A;w++){let O=l[w].toString(16);O.length<2&&(O="0"+O),y+="%"+O}return decodeURIComponent(y)}if(g.equals(q.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(l.buffer));throw new se(`Encoding ${this.encodingName(p)} not supported by fallback.`)}static isDecodeFallbackSupported(l){return l.equals(q.UTF8)||l.equals(q.ISO8859_1)||l.equals(q.ASCII)}static encodeFallback(l){const g=btoa(unescape(encodeURIComponent(l))).split(""),y=[];for(let w=0;w<g.length;w++)y.push(g[w].charCodeAt(0));return new Uint8Array(y)}}class H{static castAsNonUtf8Char(l,p=null){const g=p?p.getName():this.ISO88591;return G.decode(new Uint8Array([l]),g)}static guessEncoding(l,p){if(p!=null&&p.get(Z.CHARACTER_SET)!==void 0)return p.get(Z.CHARACTER_SET).toString();const g=l.length;let y=!0,w=!0,A=!0,O=0,j=0,L=0,W=0,te=0,oe=0,_e=0,Oe=0,je=0,Be=0,Ze=0;const ct=l.length>3&&l[0]===239&&l[1]===187&&l[2]===191;for(let ut=0;ut<g&&(y||w||A);ut++){const ot=l[ut]&255;A&&(O>0?(ot&128)===0?A=!1:O--:(ot&128)!==0&&((ot&64)===0?A=!1:(O++,(ot&32)===0?j++:(O++,(ot&16)===0?L++:(O++,(ot&8)===0?W++:A=!1))))),y&&(ot>127&&ot<160?y=!1:ot>159&&(ot<192||ot===215||ot===247)&&Ze++),w&&(te>0?ot<64||ot===127||ot>252?w=!1:te--:ot===128||ot===160||ot>239?w=!1:ot>160&&ot<224?(oe++,Oe=0,_e++,_e>je&&(je=_e)):ot>127?(te++,_e=0,Oe++,Oe>Be&&(Be=Oe)):(_e=0,Oe=0))}return A&&O>0&&(A=!1),w&&te>0&&(w=!1),A&&(ct||j+L+W>0)?H.UTF8:w&&(H.ASSUME_SHIFT_JIS||je>=3||Be>=3)?H.SHIFT_JIS:y&&w?je===2&&oe===2||Ze*10>=g?H.SHIFT_JIS:H.ISO88591:y?H.ISO88591:w?H.SHIFT_JIS:A?H.UTF8:H.PLATFORM_DEFAULT_ENCODING}static format(l,...p){let g=-1;function y(A,O,j,L,W,te){if(A==="%%")return"%";if(p[++g]===void 0)return;A=L?parseInt(L.substr(1)):void 0;let oe=W?parseInt(W.substr(1)):void 0,_e;switch(te){case"s":_e=p[g];break;case"c":_e=p[g][0];break;case"f":_e=parseFloat(p[g]).toFixed(A);break;case"p":_e=parseFloat(p[g]).toPrecision(A);break;case"e":_e=parseFloat(p[g]).toExponential(A);break;case"x":_e=parseInt(p[g]).toString(oe||16);break;case"d":_e=parseFloat(parseInt(p[g],oe||10).toPrecision(A)).toFixed(0);break}_e=typeof _e=="object"?JSON.stringify(_e):(+_e).toString(oe);let Oe=parseInt(j),je=j&&j[0]+""=="0"?"0":" ";for(;_e.length<Oe;)_e=O!==void 0?_e+je:je+_e;return _e}let w=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(w,y)}static getBytes(l,p){return G.encode(l,p)}static getCharCode(l,p=0){return l.charCodeAt(p)}static getCharAt(l){return String.fromCharCode(l)}}H.SHIFT_JIS=q.SJIS.getName(),H.GB2312="GB2312",H.ISO88591=q.ISO8859_1.getName(),H.EUC_JP="EUC_JP",H.UTF8=q.UTF8.getName(),H.PLATFORM_DEFAULT_ENCODING=H.UTF8,H.ASSUME_SHIFT_JIS=!1;class le{constructor(l=""){this.value=l}enableDecoding(l){return this.encoding=l,this}append(l){return typeof l=="string"?this.value+=l.toString():this.encoding?this.value+=H.castAsNonUtf8Char(l,this.encoding):this.value+=String.fromCharCode(l),this}appendChars(l,p,g){for(let y=p;p<p+g;y++)this.append(l[y]);return this}length(){return this.value.length}charAt(l){return this.value.charAt(l)}deleteCharAt(l){this.value=this.value.substr(0,l)+this.value.substring(l+1)}setCharAt(l,p){this.value=this.value.substr(0,l)+p+this.value.substr(l+1)}substring(l,p){return this.value.substring(l,p)}setLengthToZero(){this.value=""}toString(){return this.value}insert(l,p){this.value=this.value.substr(0,l)+p+this.value.substr(l+p.length)}}class J{constructor(l,p,g,y){if(this.width=l,this.height=p,this.rowSize=g,this.bits=y,p==null&&(p=l),this.height=p,l<1||p<1)throw new m("Both dimensions must be greater than 0");g==null&&(g=Math.floor((l+31)/32)),this.rowSize=g,y==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(l){const p=l.length,g=l[0].length,y=new J(g,p);for(let w=0;w<p;w++){const A=l[w];for(let O=0;O<g;O++)A[O]&&y.set(O,w)}return y}static parseFromString(l,p,g){if(l===null)throw new m("stringRepresentation cannot be null");const y=new Array(l.length);let w=0,A=0,O=-1,j=0,L=0;for(;L<l.length;)if(l.charAt(L)===`
`||l.charAt(L)==="\r"){if(w>A){if(O===-1)O=w-A;else if(w-A!==O)throw new m("row lengths do not match");A=w,j++}L++}else if(l.substring(L,L+p.length)===p)L+=p.length,y[w]=!0,w++;else if(l.substring(L,L+g.length)===g)L+=g.length,y[w]=!1,w++;else throw new m("illegal character encountered: "+l.substring(L));if(w>A){if(O===-1)O=w-A;else if(w-A!==O)throw new m("row lengths do not match");j++}const W=new J(O,j);for(let te=0;te<w;te++)y[te]&&W.set(Math.floor(te%O),Math.floor(te/O));return W}get(l,p){const g=p*this.rowSize+Math.floor(l/32);return(this.bits[g]>>>(l&31)&1)!==0}set(l,p){const g=p*this.rowSize+Math.floor(l/32);this.bits[g]|=1<<(l&31)&4294967295}unset(l,p){const g=p*this.rowSize+Math.floor(l/32);this.bits[g]&=~(1<<(l&31)&4294967295)}flip(l,p){const g=p*this.rowSize+Math.floor(l/32);this.bits[g]^=1<<(l&31)&4294967295}xor(l){if(this.width!==l.getWidth()||this.height!==l.getHeight()||this.rowSize!==l.getRowSize())throw new m("input matrix dimensions do not match");const p=new F(Math.floor(this.width/32)+1),g=this.rowSize,y=this.bits;for(let w=0,A=this.height;w<A;w++){const O=w*g,j=l.getRow(w,p).getBitArray();for(let L=0;L<g;L++)y[O+L]^=j[L]}}clear(){const l=this.bits,p=l.length;for(let g=0;g<p;g++)l[g]=0}setRegion(l,p,g,y){if(p<0||l<0)throw new m("Left and top must be nonnegative");if(y<1||g<1)throw new m("Height and width must be at least 1");const w=l+g,A=p+y;if(A>this.height||w>this.width)throw new m("The region must fit inside the matrix");const O=this.rowSize,j=this.bits;for(let L=p;L<A;L++){const W=L*O;for(let te=l;te<w;te++)j[W+Math.floor(te/32)]|=1<<(te&31)&4294967295}}getRow(l,p){p==null||p.getSize()<this.width?p=new F(this.width):p.clear();const g=this.rowSize,y=this.bits,w=l*g;for(let A=0;A<g;A++)p.setBulk(A*32,y[w+A]);return p}setRow(l,p){C.arraycopy(p.getBitArray(),0,this.bits,l*this.rowSize,this.rowSize)}rotate180(){const l=this.getWidth(),p=this.getHeight();let g=new F(l),y=new F(l);for(let w=0,A=Math.floor((p+1)/2);w<A;w++)g=this.getRow(w,g),y=this.getRow(p-1-w,y),g.reverse(),y.reverse(),this.setRow(w,y),this.setRow(p-1-w,g)}getEnclosingRectangle(){const l=this.width,p=this.height,g=this.rowSize,y=this.bits;let w=l,A=p,O=-1,j=-1;for(let L=0;L<p;L++)for(let W=0;W<g;W++){const te=y[L*g+W];if(te!==0){if(L<A&&(A=L),L>j&&(j=L),W*32<w){let oe=0;for(;(te<<31-oe&4294967295)===0;)oe++;W*32+oe<w&&(w=W*32+oe)}if(W*32+31>O){let oe=31;for(;!(te>>>oe);)oe--;W*32+oe>O&&(O=W*32+oe)}}}return O<w||j<A?null:Int32Array.from([w,A,O-w+1,j-A+1])}getTopLeftOnBit(){const l=this.rowSize,p=this.bits;let g=0;for(;g<p.length&&p[g]===0;)g++;if(g===p.length)return null;const y=g/l;let w=g%l*32;const A=p[g];let O=0;for(;(A<<31-O&4294967295)===0;)O++;return w+=O,Int32Array.from([w,y])}getBottomRightOnBit(){const l=this.rowSize,p=this.bits;let g=p.length-1;for(;g>=0&&p[g]===0;)g--;if(g<0)return null;const y=Math.floor(g/l);let w=Math.floor(g%l)*32;const A=p[g];let O=31;for(;!(A>>>O);)O--;return w+=O,Int32Array.from([w,y])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(l){if(!(l instanceof J))return!1;const p=l;return this.width===p.width&&this.height===p.height&&this.rowSize===p.rowSize&&B.equals(this.bits,p.bits)}hashCode(){let l=this.width;return l=31*l+this.width,l=31*l+this.height,l=31*l+this.rowSize,l=31*l+B.hashCode(this.bits),l}toString(l="X ",p="  ",g=`
`){return this.buildToString(l,p,g)}buildToString(l,p,g){let y=new le;for(let w=0,A=this.height;w<A;w++){for(let O=0,j=this.width;O<j;O++)y.append(this.get(O,w)?l:p);y.append(g)}return y.toString()}clone(){return new J(this.width,this.height,this.rowSize,this.bits.slice())}}class ie extends c{static getNotFoundInstance(){return new ie}}ie.kind="NotFoundException";class ne extends E{constructor(l){super(l),this.luminances=ne.EMPTY,this.buckets=new Int32Array(ne.LUMINANCE_BUCKETS)}getBlackRow(l,p){const g=this.getLuminanceSource(),y=g.getWidth();p==null||p.getSize()<y?p=new F(y):p.clear(),this.initArrays(y);const w=g.getRow(l,this.luminances),A=this.buckets;for(let j=0;j<y;j++)A[(w[j]&255)>>ne.LUMINANCE_SHIFT]++;const O=ne.estimateBlackPoint(A);if(y<3)for(let j=0;j<y;j++)(w[j]&255)<O&&p.set(j);else{let j=w[0]&255,L=w[1]&255;for(let W=1;W<y-1;W++){const te=w[W+1]&255;(L*4-j-te)/2<O&&p.set(W),j=L,L=te}}return p}getBlackMatrix(){const l=this.getLuminanceSource(),p=l.getWidth(),g=l.getHeight(),y=new J(p,g);this.initArrays(p);const w=this.buckets;for(let j=1;j<5;j++){const L=Math.floor(g*j/5),W=l.getRow(L,this.luminances),te=Math.floor(p*4/5);for(let oe=Math.floor(p/5);oe<te;oe++){const _e=W[oe]&255;w[_e>>ne.LUMINANCE_SHIFT]++}}const A=ne.estimateBlackPoint(w),O=l.getMatrix();for(let j=0;j<g;j++){const L=j*p;for(let W=0;W<p;W++)(O[L+W]&255)<A&&y.set(W,j)}return y}createBinarizer(l){return new ne(l)}initArrays(l){this.luminances.length<l&&(this.luminances=new Uint8ClampedArray(l));const p=this.buckets;for(let g=0;g<ne.LUMINANCE_BUCKETS;g++)p[g]=0}static estimateBlackPoint(l){const p=l.length;let g=0,y=0,w=0;for(let W=0;W<p;W++)l[W]>w&&(y=W,w=l[W]),l[W]>g&&(g=l[W]);let A=0,O=0;for(let W=0;W<p;W++){const te=W-y,oe=l[W]*te*te;oe>O&&(A=W,O=oe)}if(y>A){const W=y;y=A,A=W}if(A-y<=p/16)throw new ie;let j=A-1,L=-1;for(let W=A-1;W>y;W--){const te=W-y,oe=te*te*(A-W)*(g-l[W]);oe>L&&(j=W,L=oe)}return j<<ne.LUMINANCE_SHIFT}}ne.LUMINANCE_BITS=5,ne.LUMINANCE_SHIFT=8-ne.LUMINANCE_BITS,ne.LUMINANCE_BUCKETS=1<<ne.LUMINANCE_BITS,ne.EMPTY=Uint8ClampedArray.from([0]);class fe extends ne{constructor(l){super(l),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const l=this.getLuminanceSource(),p=l.getWidth(),g=l.getHeight();if(p>=fe.MINIMUM_DIMENSION&&g>=fe.MINIMUM_DIMENSION){const y=l.getMatrix();let w=p>>fe.BLOCK_SIZE_POWER;(p&fe.BLOCK_SIZE_MASK)!==0&&w++;let A=g>>fe.BLOCK_SIZE_POWER;(g&fe.BLOCK_SIZE_MASK)!==0&&A++;const O=fe.calculateBlackPoints(y,w,A,p,g),j=new J(p,g);fe.calculateThresholdForBlock(y,w,A,p,g,O,j),this.matrix=j}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(l){return new fe(l)}static calculateThresholdForBlock(l,p,g,y,w,A,O){const j=w-fe.BLOCK_SIZE,L=y-fe.BLOCK_SIZE;for(let W=0;W<g;W++){let te=W<<fe.BLOCK_SIZE_POWER;te>j&&(te=j);const oe=fe.cap(W,2,g-3);for(let _e=0;_e<p;_e++){let Oe=_e<<fe.BLOCK_SIZE_POWER;Oe>L&&(Oe=L);const je=fe.cap(_e,2,p-3);let Be=0;for(let ct=-2;ct<=2;ct++){const ut=A[oe+ct];Be+=ut[je-2]+ut[je-1]+ut[je]+ut[je+1]+ut[je+2]}const Ze=Be/25;fe.thresholdBlock(l,Oe,te,Ze,y,O)}}}static cap(l,p,g){return l<p?p:l>g?g:l}static thresholdBlock(l,p,g,y,w,A){for(let O=0,j=g*w+p;O<fe.BLOCK_SIZE;O++,j+=w)for(let L=0;L<fe.BLOCK_SIZE;L++)(l[j+L]&255)<=y&&A.set(p+L,g+O)}static calculateBlackPoints(l,p,g,y,w){const A=w-fe.BLOCK_SIZE,O=y-fe.BLOCK_SIZE,j=new Array(g);for(let L=0;L<g;L++){j[L]=new Int32Array(p);let W=L<<fe.BLOCK_SIZE_POWER;W>A&&(W=A);for(let te=0;te<p;te++){let oe=te<<fe.BLOCK_SIZE_POWER;oe>O&&(oe=O);let _e=0,Oe=255,je=0;for(let Ze=0,ct=W*y+oe;Ze<fe.BLOCK_SIZE;Ze++,ct+=y){for(let ut=0;ut<fe.BLOCK_SIZE;ut++){const ot=l[ct+ut]&255;_e+=ot,ot<Oe&&(Oe=ot),ot>je&&(je=ot)}if(je-Oe>fe.MIN_DYNAMIC_RANGE)for(Ze++,ct+=y;Ze<fe.BLOCK_SIZE;Ze++,ct+=y)for(let ut=0;ut<fe.BLOCK_SIZE;ut++)_e+=l[ct+ut]&255}let Be=_e>>fe.BLOCK_SIZE_POWER*2;if(je-Oe<=fe.MIN_DYNAMIC_RANGE&&(Be=Oe/2,L>0&&te>0)){const Ze=(j[L-1][te]+2*j[L][te-1]+j[L-1][te-1])/4;Oe<Ze&&(Be=Ze)}j[L][te]=Be}}return j}}fe.BLOCK_SIZE_POWER=3,fe.BLOCK_SIZE=1<<fe.BLOCK_SIZE_POWER,fe.BLOCK_SIZE_MASK=fe.BLOCK_SIZE-1,fe.MINIMUM_DIMENSION=fe.BLOCK_SIZE*5,fe.MIN_DYNAMIC_RANGE=24;class we{constructor(l,p){this.width=l,this.height=p}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(l,p,g,y){throw new se("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new se("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new se("This luminance source does not support rotation by 45 degrees.")}toString(){const l=new Uint8ClampedArray(this.width);let p=new le;for(let g=0;g<this.height;g++){const y=this.getRow(g,l);for(let w=0;w<this.width;w++){const A=y[w]&255;let O;A<64?O="#":A<128?O="+":A<192?O=".":O=" ",p.append(O)}p.append(`
`)}return p.toString()}}class Ie extends we{constructor(l){super(l.getWidth(),l.getHeight()),this.delegate=l}getRow(l,p){const g=this.delegate.getRow(l,p),y=this.getWidth();for(let w=0;w<y;w++)g[w]=255-(g[w]&255);return g}getMatrix(){const l=this.delegate.getMatrix(),p=this.getWidth()*this.getHeight(),g=new Uint8ClampedArray(p);for(let y=0;y<p;y++)g[y]=255-(l[y]&255);return g}isCropSupported(){return this.delegate.isCropSupported()}crop(l,p,g,y){return new Ie(this.delegate.crop(l,p,g,y))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ie(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ie(this.delegate.rotateCounterClockwise45())}}class Me extends we{constructor(l){super(l.width,l.height),this.canvas=l,this.tempCanvasElement=null,this.buffer=Me.makeBufferFromCanvasImageData(l)}static makeBufferFromCanvasImageData(l){const p=l.getContext("2d").getImageData(0,0,l.width,l.height);return Me.toGrayscaleBuffer(p.data,l.width,l.height)}static toGrayscaleBuffer(l,p,g){const y=new Uint8ClampedArray(p*g);for(let w=0,A=0,O=l.length;w<O;w+=4,A++){let j;if(l[w+3]===0)j=255;else{const W=l[w],te=l[w+1],oe=l[w+2];j=306*W+601*te+117*oe+512>>10}y[A]=j}return y}getRow(l,p){if(l<0||l>=this.getHeight())throw new m("Requested row is outside the image: "+l);const g=this.getWidth(),y=l*g;return p===null?p=this.buffer.slice(y,y+g):(p.length<g&&(p=new Uint8ClampedArray(g)),p.set(this.buffer.slice(y,y+g))),p}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(l,p,g,y){return super.crop(l,p,g,y),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const l=this.canvas.ownerDocument.createElement("canvas");l.width=this.canvas.width,l.height=this.canvas.height,this.tempCanvasElement=l}return this.tempCanvasElement}rotate(l){const p=this.getTempCanvasElement(),g=p.getContext("2d"),y=l*Me.DEGREE_TO_RADIANS,w=this.canvas.width,A=this.canvas.height,O=Math.ceil(Math.abs(Math.cos(y))*w+Math.abs(Math.sin(y))*A),j=Math.ceil(Math.abs(Math.sin(y))*w+Math.abs(Math.cos(y))*A);return p.width=O,p.height=j,g.translate(O/2,j/2),g.rotate(y),g.drawImage(this.canvas,w/-2,A/-2),this.buffer=Me.makeBufferFromCanvasImageData(p),this}invert(){return new Ie(this)}}Me.DEGREE_TO_RADIANS=Math.PI/180;class pe{constructor(l,p,g){this.deviceId=l,this.label=p,this.kind="videoinput",this.groupId=g||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var X=(globalThis||qg||self||window||void 0)&&(globalThis||qg||self||window||void 0).__awaiter||function(ee,l,p,g){function y(w){return w instanceof p?w:new p(function(A){A(w)})}return new(p||(p=Promise))(function(w,A){function O(W){try{L(g.next(W))}catch(te){A(te)}}function j(W){try{L(g.throw(W))}catch(te){A(te)}}function L(W){W.done?w(W.value):y(W.value).then(O,j)}L((g=g.apply(ee,l||[])).next())})};class de{constructor(l,p=500,g){this.reader=l,this.timeBetweenScansMillis=p,this._hints=g,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(l){this._timeBetweenDecodingAttempts=l<0?0:l}set hints(l){this._hints=l||null}get hints(){return this._hints}listVideoInputDevices(){return X(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const l=yield navigator.mediaDevices.enumerateDevices(),p=[];for(const g of l){const y=g.kind==="video"?"videoinput":g.kind;if(y!=="videoinput")continue;const w=g.deviceId||g.id,A=g.label||`Video device ${p.length+1}`,O=g.groupId,j={deviceId:w,label:A,kind:y,groupId:O};p.push(j)}return p})}getVideoInputDevices(){return X(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(p=>new pe(p.deviceId,p.label))})}findDeviceById(l){return X(this,void 0,void 0,function*(){const p=yield this.listVideoInputDevices();return p?p.find(g=>g.deviceId===l):null})}decodeFromInputVideoDevice(l,p){return X(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(l,p)})}decodeOnceFromVideoDevice(l,p){return X(this,void 0,void 0,function*(){this.reset();let g;l?g={deviceId:{exact:l}}:g={facingMode:"environment"};const y={video:g};return yield this.decodeOnceFromConstraints(y,p)})}decodeOnceFromConstraints(l,p){return X(this,void 0,void 0,function*(){const g=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeOnceFromStream(g,p)})}decodeOnceFromStream(l,p){return X(this,void 0,void 0,function*(){this.reset();const g=yield this.attachStreamToVideo(l,p);return yield this.decodeOnce(g)})}decodeFromInputVideoDeviceContinuously(l,p,g){return X(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(l,p,g)})}decodeFromVideoDevice(l,p,g){return X(this,void 0,void 0,function*(){let y;l?y={deviceId:{exact:l}}:y={facingMode:"environment"};const w={video:y};return yield this.decodeFromConstraints(w,p,g)})}decodeFromConstraints(l,p,g){return X(this,void 0,void 0,function*(){const y=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeFromStream(y,p,g)})}decodeFromStream(l,p,g){return X(this,void 0,void 0,function*(){this.reset();const y=yield this.attachStreamToVideo(l,p);return yield this.decodeContinuously(y,g)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(l,p){return X(this,void 0,void 0,function*(){const g=this.prepareVideoElement(p);return this.addVideoSource(g,l),this.videoElement=g,this.stream=l,yield this.playVideoOnLoadAsync(g),g})}playVideoOnLoadAsync(l){return new Promise((p,g)=>this.playVideoOnLoad(l,()=>p()))}playVideoOnLoad(l,p){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(l),l.addEventListener("ended",this.videoEndedListener),l.addEventListener("canplay",this.videoCanPlayListener),l.addEventListener("playing",p),this.tryPlayVideo(l)}isVideoPlaying(l){return l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2}tryPlayVideo(l){return X(this,void 0,void 0,function*(){if(this.isVideoPlaying(l)){console.warn("Trying to play video that is already playing.");return}try{yield l.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(l,p){const g=document.getElementById(l);if(!g)throw new h(`element with id '${l}' not found`);if(g.nodeName.toLowerCase()!==p.toLowerCase())throw new h(`element with id '${l}' must be an ${p} element`);return g}decodeFromImage(l,p){if(!l&&!p)throw new h("either imageElement with a src set or an url must be provided");return p&&!l?this.decodeFromImageUrl(p):this.decodeFromImageElement(l)}decodeFromVideo(l,p){if(!l&&!p)throw new h("Either an element with a src set or an URL must be provided");return p&&!l?this.decodeFromVideoUrl(p):this.decodeFromVideoElement(l)}decodeFromVideoContinuously(l,p,g){if(l===void 0&&p===void 0)throw new h("Either an element with a src set or an URL must be provided");return p&&!l?this.decodeFromVideoUrlContinuously(p,g):this.decodeFromVideoElementContinuously(l,g)}decodeFromImageElement(l){if(!l)throw new h("An image element must be provided.");this.reset();const p=this.prepareImageElement(l);this.imageElement=p;let g;return this.isImageLoaded(p)?g=this.decodeOnce(p,!1,!0):g=this._decodeOnLoadImage(p),g}decodeFromVideoElement(l){const p=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideo(p)}decodeFromVideoElementContinuously(l,p){const g=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideoContinuously(g,p)}_decodeFromVideoElementSetup(l){if(!l)throw new h("A video element must be provided.");this.reset();const p=this.prepareVideoElement(l);return this.videoElement=p,p}decodeFromImageUrl(l){if(!l)throw new h("An URL must be provided.");this.reset();const p=this.prepareImageElement();this.imageElement=p;const g=this._decodeOnLoadImage(p);return p.src=l,g}decodeFromVideoUrl(l){if(!l)throw new h("An URL must be provided.");this.reset();const p=this.prepareVideoElement(),g=this.decodeFromVideoElement(p);return p.src=l,g}decodeFromVideoUrlContinuously(l,p){if(!l)throw new h("An URL must be provided.");this.reset();const g=this.prepareVideoElement(),y=this.decodeFromVideoElementContinuously(g,p);return g.src=l,y}_decodeOnLoadImage(l){return new Promise((p,g)=>{this.imageLoadedListener=()=>this.decodeOnce(l,!1,!0).then(p,g),l.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(l){return X(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(l),yield this.decodeOnce(l)})}_decodeOnLoadVideoContinuously(l,p){return X(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(l),this.decodeContinuously(l,p)})}isImageLoaded(l){return!(!l.complete||l.naturalWidth===0)}prepareImageElement(l){let p;return typeof l>"u"&&(p=document.createElement("img"),p.width=200,p.height=200),typeof l=="string"&&(p=this.getMediaElement(l,"img")),l instanceof HTMLImageElement&&(p=l),p}prepareVideoElement(l){let p;return!l&&typeof document<"u"&&(p=document.createElement("video"),p.width=200,p.height=200),typeof l=="string"&&(p=this.getMediaElement(l,"video")),l instanceof HTMLVideoElement&&(p=l),p.setAttribute("autoplay","true"),p.setAttribute("muted","true"),p.setAttribute("playsinline","true"),p}decodeOnce(l,p=!0,g=!0){this._stopAsyncDecode=!1;const y=(w,A)=>{if(this._stopAsyncDecode){A(new ie("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const O=this.decode(l);w(O)}catch(O){const j=p&&O instanceof ie,W=(O instanceof x||O instanceof V)&&g;if(j||W)return setTimeout(y,this._timeBetweenDecodingAttempts,w,A);A(O)}};return new Promise((w,A)=>y(w,A))}decodeContinuously(l,p){this._stopContinuousDecode=!1;const g=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const y=this.decode(l);p(y,null),setTimeout(g,this.timeBetweenScansMillis)}catch(y){p(null,y);const w=y instanceof x||y instanceof V,A=y instanceof ie;(w||A)&&setTimeout(g,this._timeBetweenDecodingAttempts)}};g()}decode(l){const p=this.createBinaryBitmap(l);return this.decodeBitmap(p)}_isHTMLVideoElement(l){return l.videoWidth!==0}drawFrameOnCanvas(l,p,g){p||(p={sx:0,sy:0,sWidth:l.videoWidth,sHeight:l.videoHeight,dx:0,dy:0,dWidth:l.videoWidth,dHeight:l.videoHeight}),g||(g=this.captureCanvasContext),g.drawImage(l,p.sx,p.sy,p.sWidth,p.sHeight,p.dx,p.dy,p.dWidth,p.dHeight)}drawImageOnCanvas(l,p,g=this.captureCanvasContext){p||(p={sx:0,sy:0,sWidth:l.naturalWidth,sHeight:l.naturalHeight,dx:0,dy:0,dWidth:l.naturalWidth,dHeight:l.naturalHeight}),g||(g=this.captureCanvasContext),g.drawImage(l,p.sx,p.sy,p.sWidth,p.sHeight,p.dx,p.dy,p.dWidth,p.dHeight)}createBinaryBitmap(l){this.getCaptureCanvasContext(l),this._isHTMLVideoElement(l)?this.drawFrameOnCanvas(l):this.drawImageOnCanvas(l);const p=this.getCaptureCanvas(l),g=new Me(p),y=new fe(g);return new b(y)}getCaptureCanvasContext(l){if(!this.captureCanvasContext){const g=this.getCaptureCanvas(l).getContext("2d");this.captureCanvasContext=g}return this.captureCanvasContext}getCaptureCanvas(l){if(!this.captureCanvas){const p=this.createCaptureCanvas(l);this.captureCanvas=p}return this.captureCanvas}decodeBitmap(l){return this.reader.decode(l,this._hints)}createCaptureCanvas(l){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const p=document.createElement("canvas");let g,y;return typeof l<"u"&&(l instanceof HTMLVideoElement?(g=l.videoWidth,y=l.videoHeight):l instanceof HTMLImageElement&&(g=l.naturalWidth||l.width,y=l.naturalHeight||l.height)),p.style.width=g+"px",p.style.height=y+"px",p.width=g,p.height=y,p}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(l=>l.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(l,p){try{l.srcObject=p}catch{l.src=URL.createObjectURL(p)}}cleanVideoSource(l){try{l.srcObject=null}catch{l.src=""}this.videoElement.removeAttribute("src")}}class me{constructor(l,p,g=p==null?0:8*p.length,y,w,A=C.currentTimeMillis()){this.text=l,this.rawBytes=p,this.numBits=g,this.resultPoints=y,this.format=w,this.timestamp=A,this.text=l,this.rawBytes=p,g==null?this.numBits=p==null?0:8*p.length:this.numBits=g,this.resultPoints=y,this.format=w,this.resultMetadata=null,A==null?this.timestamp=C.currentTimeMillis():this.timestamp=A}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(l,p){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(l,p)}putAllMetadata(l){l!==null&&(this.resultMetadata===null?this.resultMetadata=l:this.resultMetadata=new Map(l))}addResultPoints(l){const p=this.resultPoints;if(p===null)this.resultPoints=l;else if(l!==null&&l.length>0){const g=new Array(p.length+l.length);C.arraycopy(p,0,g,0,p.length),C.arraycopy(l,0,g,p.length,l.length),this.resultPoints=g}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ne;(function(ee){ee[ee.AZTEC=0]="AZTEC",ee[ee.CODABAR=1]="CODABAR",ee[ee.CODE_39=2]="CODE_39",ee[ee.CODE_93=3]="CODE_93",ee[ee.CODE_128=4]="CODE_128",ee[ee.DATA_MATRIX=5]="DATA_MATRIX",ee[ee.EAN_8=6]="EAN_8",ee[ee.EAN_13=7]="EAN_13",ee[ee.ITF=8]="ITF",ee[ee.MAXICODE=9]="MAXICODE",ee[ee.PDF_417=10]="PDF_417",ee[ee.QR_CODE=11]="QR_CODE",ee[ee.RSS_14=12]="RSS_14",ee[ee.RSS_EXPANDED=13]="RSS_EXPANDED",ee[ee.UPC_A=14]="UPC_A",ee[ee.UPC_E=15]="UPC_E",ee[ee.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ne||(Ne={}));var xe=Ne,Re;(function(ee){ee[ee.OTHER=0]="OTHER",ee[ee.ORIENTATION=1]="ORIENTATION",ee[ee.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",ee[ee.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",ee[ee.ISSUE_NUMBER=4]="ISSUE_NUMBER",ee[ee.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",ee[ee.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",ee[ee.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",ee[ee.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",ee[ee.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",ee[ee.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Re||(Re={}));var ze=Re;class Ce{constructor(l,p,g,y,w=-1,A=-1){this.rawBytes=l,this.text=p,this.byteSegments=g,this.ecLevel=y,this.structuredAppendSequenceNumber=w,this.structuredAppendParity=A,this.numBits=l==null?0:8*l.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(l){this.numBits=l}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(l){this.errorsCorrected=l}getErasures(){return this.erasures}setErasures(l){this.erasures=l}getOther(){return this.other}setOther(l){this.other=l}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ge{exp(l){return this.expTable[l]}log(l){if(l===0)throw new m;return this.logTable[l]}static addOrSubtract(l,p){return l^p}}class Je{constructor(l,p){if(p.length===0)throw new m;this.field=l;const g=p.length;if(g>1&&p[0]===0){let y=1;for(;y<g&&p[y]===0;)y++;y===g?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(g-y),C.arraycopy(p,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=p}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);const p=this.coefficients;let g;if(l===1){g=0;for(let A=0,O=p.length;A!==O;A++){const j=p[A];g=Ge.addOrSubtract(g,j)}return g}g=p[0];const y=p.length,w=this.field;for(let A=1;A<y;A++)g=Ge.addOrSubtract(w.multiply(l,g),p[A]);return g}addOrSubtract(l){if(!this.field.equals(l.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero())return l;if(l.isZero())return this;let p=this.coefficients,g=l.coefficients;if(p.length>g.length){const A=p;p=g,g=A}let y=new Int32Array(g.length);const w=g.length-p.length;C.arraycopy(g,0,y,0,w);for(let A=w;A<g.length;A++)y[A]=Ge.addOrSubtract(p[A-w],g[A]);return new Je(this.field,y)}multiply(l){if(!this.field.equals(l.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero()||l.isZero())return this.field.getZero();const p=this.coefficients,g=p.length,y=l.coefficients,w=y.length,A=new Int32Array(g+w-1),O=this.field;for(let j=0;j<g;j++){const L=p[j];for(let W=0;W<w;W++)A[j+W]=Ge.addOrSubtract(A[j+W],O.multiply(L,y[W]))}return new Je(O,A)}multiplyScalar(l){if(l===0)return this.field.getZero();if(l===1)return this;const p=this.coefficients.length,g=this.field,y=new Int32Array(p),w=this.coefficients;for(let A=0;A<p;A++)y[A]=g.multiply(w[A],l);return new Je(g,y)}multiplyByMonomial(l,p){if(l<0)throw new m;if(p===0)return this.field.getZero();const g=this.coefficients,y=g.length,w=new Int32Array(y+l),A=this.field;for(let O=0;O<y;O++)w[O]=A.multiply(g[O],p);return new Je(A,w)}divide(l){if(!this.field.equals(l.field))throw new m("GenericGFPolys do not have same GenericGF field");if(l.isZero())throw new m("Divide by 0");const p=this.field;let g=p.getZero(),y=this;const w=l.getCoefficient(l.getDegree()),A=p.inverse(w);for(;y.getDegree()>=l.getDegree()&&!y.isZero();){const O=y.getDegree()-l.getDegree(),j=p.multiply(y.getCoefficient(y.getDegree()),A),L=l.multiplyByMonomial(O,j),W=p.buildMonomial(O,j);g=g.addOrSubtract(W),y=y.addOrSubtract(L)}return[g,y]}toString(){let l="";for(let p=this.getDegree();p>=0;p--){let g=this.getCoefficient(p);if(g!==0){if(g<0?(l+=" - ",g=-g):l.length>0&&(l+=" + "),p===0||g!==1){const y=this.field.log(g);y===0?l+="1":y===1?l+="a":(l+="a^",l+=y)}p!==0&&(p===1?l+="x":(l+="x^",l+=p))}}return l}}class qe extends c{}qe.kind="ArithmeticException";class lt extends Ge{constructor(l,p,g){super(),this.primitive=l,this.size=p,this.generatorBase=g;const y=new Int32Array(p);let w=1;for(let O=0;O<p;O++)y[O]=w,w*=2,w>=p&&(w^=l,w&=p-1);this.expTable=y;const A=new Int32Array(p);for(let O=0;O<p-1;O++)A[y[O]]=O;this.logTable=A,this.zero=new Je(this,Int32Array.from([0])),this.one=new Je(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,p){if(l<0)throw new m;if(p===0)return this.zero;const g=new Int32Array(l+1);return g[0]=p,new Je(this,g)}inverse(l){if(l===0)throw new qe;return this.expTable[this.size-this.logTable[l]-1]}multiply(l,p){return l===0||p===0?0:this.expTable[(this.logTable[l]+this.logTable[p])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+U.toHexString(this.primitive)+","+this.size+")"}equals(l){return l===this}}lt.AZTEC_DATA_12=new lt(4201,4096,1),lt.AZTEC_DATA_10=new lt(1033,1024,1),lt.AZTEC_DATA_6=new lt(67,64,1),lt.AZTEC_PARAM=new lt(19,16,1),lt.QR_CODE_FIELD_256=new lt(285,256,0),lt.DATA_MATRIX_FIELD_256=new lt(301,256,1),lt.AZTEC_DATA_8=lt.DATA_MATRIX_FIELD_256,lt.MAXICODE_FIELD_64=lt.AZTEC_DATA_6;class bt extends c{}bt.kind="ReedSolomonException";class ve extends c{}ve.kind="IllegalStateException";class wt{constructor(l){this.field=l}decode(l,p){const g=this.field,y=new Je(g,l),w=new Int32Array(p);let A=!0;for(let _e=0;_e<p;_e++){const Oe=y.evaluateAt(g.exp(_e+g.getGeneratorBase()));w[w.length-1-_e]=Oe,Oe!==0&&(A=!1)}if(A)return;const O=new Je(g,w),j=this.runEuclideanAlgorithm(g.buildMonomial(p,1),O,p),L=j[0],W=j[1],te=this.findErrorLocations(L),oe=this.findErrorMagnitudes(W,te);for(let _e=0;_e<te.length;_e++){const Oe=l.length-1-g.log(te[_e]);if(Oe<0)throw new bt("Bad error location");l[Oe]=lt.addOrSubtract(l[Oe],oe[_e])}}runEuclideanAlgorithm(l,p,g){if(l.getDegree()<p.getDegree()){const _e=l;l=p,p=_e}const y=this.field;let w=l,A=p,O=y.getZero(),j=y.getOne();for(;A.getDegree()>=(g/2|0);){let _e=w,Oe=O;if(w=A,O=j,w.isZero())throw new bt("r_{i-1} was zero");A=_e;let je=y.getZero();const Be=w.getCoefficient(w.getDegree()),Ze=y.inverse(Be);for(;A.getDegree()>=w.getDegree()&&!A.isZero();){const ct=A.getDegree()-w.getDegree(),ut=y.multiply(A.getCoefficient(A.getDegree()),Ze);je=je.addOrSubtract(y.buildMonomial(ct,ut)),A=A.addOrSubtract(w.multiplyByMonomial(ct,ut))}if(j=je.multiply(O).addOrSubtract(Oe),A.getDegree()>=w.getDegree())throw new ve("Division algorithm failed to reduce polynomial?")}const L=j.getCoefficient(0);if(L===0)throw new bt("sigmaTilde(0) was zero");const W=y.inverse(L),te=j.multiplyScalar(W),oe=A.multiplyScalar(W);return[te,oe]}findErrorLocations(l){const p=l.getDegree();if(p===1)return Int32Array.from([l.getCoefficient(1)]);const g=new Int32Array(p);let y=0;const w=this.field;for(let A=1;A<w.getSize()&&y<p;A++)l.evaluateAt(A)===0&&(g[y]=w.inverse(A),y++);if(y!==p)throw new bt("Error locator degree does not match number of roots");return g}findErrorMagnitudes(l,p){const g=p.length,y=new Int32Array(g),w=this.field;for(let A=0;A<g;A++){const O=w.inverse(p[A]);let j=1;for(let L=0;L<g;L++)if(A!==L){const W=w.multiply(p[L],O),te=(W&1)===0?W|1:W&-2;j=w.multiply(j,te)}y[A]=w.multiply(l.evaluateAt(O),w.inverse(j)),w.getGeneratorBase()!==0&&(y[A]=w.multiply(y[A],O))}return y}}var jt;(function(ee){ee[ee.UPPER=0]="UPPER",ee[ee.LOWER=1]="LOWER",ee[ee.MIXED=2]="MIXED",ee[ee.DIGIT=3]="DIGIT",ee[ee.PUNCT=4]="PUNCT",ee[ee.BINARY=5]="BINARY"})(jt||(jt={}));class _t{decode(l){this.ddata=l;let p=l.getBits(),g=this.extractBits(p),y=this.correctBits(g),w=_t.convertBoolArrayToByteArray(y),A=_t.getEncodedData(y),O=new Ce(w,A,null,null);return O.setNumBits(y.length),O}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let p=l.length,g=jt.UPPER,y=jt.UPPER,w="",A=0;for(;A<p;)if(y===jt.BINARY){if(p-A<5)break;let O=_t.readCode(l,A,5);if(A+=5,O===0){if(p-A<11)break;O=_t.readCode(l,A,11)+31,A+=11}for(let j=0;j<O;j++){if(p-A<8){A=p;break}const L=_t.readCode(l,A,8);w+=H.castAsNonUtf8Char(L),A+=8}y=g}else{let O=y===jt.DIGIT?4:5;if(p-A<O)break;let j=_t.readCode(l,A,O);A+=O;let L=_t.getCharacter(y,j);L.startsWith("CTRL_")?(g=y,y=_t.getTable(L.charAt(5)),L.charAt(6)==="L"&&(g=y)):(w+=L,y=g)}return w}static getTable(l){switch(l){case"L":return jt.LOWER;case"P":return jt.PUNCT;case"M":return jt.MIXED;case"D":return jt.DIGIT;case"B":return jt.BINARY;case"U":default:return jt.UPPER}}static getCharacter(l,p){switch(l){case jt.UPPER:return _t.UPPER_TABLE[p];case jt.LOWER:return _t.LOWER_TABLE[p];case jt.MIXED:return _t.MIXED_TABLE[p];case jt.PUNCT:return _t.PUNCT_TABLE[p];case jt.DIGIT:return _t.DIGIT_TABLE[p];default:throw new ve("Bad table")}}correctBits(l){let p,g;this.ddata.getNbLayers()<=2?(g=6,p=lt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(g=8,p=lt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(g=10,p=lt.AZTEC_DATA_10):(g=12,p=lt.AZTEC_DATA_12);let y=this.ddata.getNbDatablocks(),w=l.length/g;if(w<y)throw new V;let A=l.length%g,O=new Int32Array(w);for(let oe=0;oe<w;oe++,A+=g)O[oe]=_t.readCode(l,A,g);try{new wt(p).decode(O,w-y)}catch(oe){throw new V(oe)}let j=(1<<g)-1,L=0;for(let oe=0;oe<y;oe++){let _e=O[oe];if(_e===0||_e===j)throw new V;(_e===1||_e===j-1)&&L++}let W=new Array(y*g-L),te=0;for(let oe=0;oe<y;oe++){let _e=O[oe];if(_e===1||_e===j-1)W.fill(_e>1,te,te+g-1),te+=g-1;else for(let Oe=g-1;Oe>=0;--Oe)W[te++]=(_e&1<<Oe)!==0}return W}extractBits(l){let p=this.ddata.isCompact(),g=this.ddata.getNbLayers(),y=(p?11:14)+g*4,w=new Int32Array(y),A=new Array(this.totalBitsInLayer(g,p));if(p)for(let O=0;O<w.length;O++)w[O]=O;else{let O=y+1+2*U.truncDivision(U.truncDivision(y,2)-1,15),j=y/2,L=U.truncDivision(O,2);for(let W=0;W<j;W++){let te=W+U.truncDivision(W,15);w[j-W-1]=L-te-1,w[j+W]=L+te+1}}for(let O=0,j=0;O<g;O++){let L=(g-O)*4+(p?9:12),W=O*2,te=y-1-W;for(let oe=0;oe<L;oe++){let _e=oe*2;for(let Oe=0;Oe<2;Oe++)A[j+_e+Oe]=l.get(w[W+Oe],w[W+oe]),A[j+2*L+_e+Oe]=l.get(w[W+oe],w[te-Oe]),A[j+4*L+_e+Oe]=l.get(w[te-Oe],w[te-oe]),A[j+6*L+_e+Oe]=l.get(w[te-oe],w[W+Oe])}j+=L*8}return A}static readCode(l,p,g){let y=0;for(let w=p;w<p+g;w++)y<<=1,l[w]&&(y|=1);return y}static readByte(l,p){let g=l.length-p;return g>=8?_t.readCode(l,p,8):_t.readCode(l,p,g)<<8-g}static convertBoolArrayToByteArray(l){let p=new Uint8Array((l.length+7)/8);for(let g=0;g<p.length;g++)p[g]=_t.readByte(l,8*g);return p}totalBitsInLayer(l,p){return((p?88:112)+16*l)*l}}_t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],_t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],_t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],_t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],_t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class rt{constructor(){}static round(l){return l===NaN?0:l<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:l>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:l+(l<0?-.5:.5)|0}static distance(l,p,g,y){const w=l-g,A=p-y;return Math.sqrt(w*w+A*A)}static sum(l){let p=0;for(let g=0,y=l.length;g!==y;g++){const w=l[g];p+=w}return p}}class er{static floatToIntBits(l){return l}}er.MAX_VALUE=Number.MAX_SAFE_INTEGER;class at{constructor(l,p){this.x=l,this.y=p}getX(){return this.x}getY(){return this.y}equals(l){if(l instanceof at){const p=l;return this.x===p.x&&this.y===p.y}return!1}hashCode(){return 31*er.floatToIntBits(this.x)+er.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(l){const p=this.distance(l[0],l[1]),g=this.distance(l[1],l[2]),y=this.distance(l[0],l[2]);let w,A,O;if(g>=p&&g>=y?(A=l[0],w=l[1],O=l[2]):y>=g&&y>=p?(A=l[1],w=l[0],O=l[2]):(A=l[2],w=l[0],O=l[1]),this.crossProductZ(w,A,O)<0){const j=w;w=O,O=j}l[0]=w,l[1]=A,l[2]=O}static distance(l,p){return rt.distance(l.x,l.y,p.x,p.y)}static crossProductZ(l,p,g){const y=p.x,w=p.y;return(g.x-y)*(l.y-w)-(g.y-w)*(l.x-y)}}class ir{constructor(l,p){this.bits=l,this.points=p}getBits(){return this.bits}getPoints(){return this.points}}class ar extends ir{constructor(l,p,g,y,w){super(l,p),this.compact=g,this.nbDatablocks=y,this.nbLayers=w}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class vr{constructor(l,p,g,y){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),p==null&&(p=vr.INIT_SIZE),g==null&&(g=l.getWidth()/2|0),y==null&&(y=l.getHeight()/2|0);const w=p/2|0;if(this.leftInit=g-w,this.rightInit=g+w,this.upInit=y-w,this.downInit=y+w,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ie}detect(){let l=this.leftInit,p=this.rightInit,g=this.upInit,y=this.downInit,w=!1,A=!0,O=!1,j=!1,L=!1,W=!1,te=!1;const oe=this.width,_e=this.height;for(;A;){A=!1;let Oe=!0;for(;(Oe||!j)&&p<oe;)Oe=this.containsBlackPoint(g,y,p,!1),Oe?(p++,A=!0,j=!0):j||p++;if(p>=oe){w=!0;break}let je=!0;for(;(je||!L)&&y<_e;)je=this.containsBlackPoint(l,p,y,!0),je?(y++,A=!0,L=!0):L||y++;if(y>=_e){w=!0;break}let Be=!0;for(;(Be||!W)&&l>=0;)Be=this.containsBlackPoint(g,y,l,!1),Be?(l--,A=!0,W=!0):W||l--;if(l<0){w=!0;break}let Ze=!0;for(;(Ze||!te)&&g>=0;)Ze=this.containsBlackPoint(l,p,g,!0),Ze?(g--,A=!0,te=!0):te||g--;if(g<0){w=!0;break}A&&(O=!0)}if(!w&&O){const Oe=p-l;let je=null;for(let ut=1;je===null&&ut<Oe;ut++)je=this.getBlackPointOnSegment(l,y-ut,l+ut,y);if(je==null)throw new ie;let Be=null;for(let ut=1;Be===null&&ut<Oe;ut++)Be=this.getBlackPointOnSegment(l,g+ut,l+ut,g);if(Be==null)throw new ie;let Ze=null;for(let ut=1;Ze===null&&ut<Oe;ut++)Ze=this.getBlackPointOnSegment(p,g+ut,p-ut,g);if(Ze==null)throw new ie;let ct=null;for(let ut=1;ct===null&&ut<Oe;ut++)ct=this.getBlackPointOnSegment(p,y-ut,p-ut,y);if(ct==null)throw new ie;return this.centerEdges(ct,je,Ze,Be)}else throw new ie}getBlackPointOnSegment(l,p,g,y){const w=rt.round(rt.distance(l,p,g,y)),A=(g-l)/w,O=(y-p)/w,j=this.image;for(let L=0;L<w;L++){const W=rt.round(l+L*A),te=rt.round(p+L*O);if(j.get(W,te))return new at(W,te)}return null}centerEdges(l,p,g,y){const w=l.getX(),A=l.getY(),O=p.getX(),j=p.getY(),L=g.getX(),W=g.getY(),te=y.getX(),oe=y.getY(),_e=vr.CORR;return w<this.width/2?[new at(te-_e,oe+_e),new at(O+_e,j+_e),new at(L-_e,W-_e),new at(w+_e,A-_e)]:[new at(te+_e,oe+_e),new at(O+_e,j-_e),new at(L-_e,W+_e),new at(w-_e,A-_e)]}containsBlackPoint(l,p,g,y){const w=this.image;if(y){for(let A=l;A<=p;A++)if(w.get(A,g))return!0}else for(let A=l;A<=p;A++)if(w.get(g,A))return!0;return!1}}vr.INIT_SIZE=10,vr.CORR=1;class Br{static checkAndNudgePoints(l,p){const g=l.getWidth(),y=l.getHeight();let w=!0;for(let A=0;A<p.length&&w;A+=2){const O=Math.floor(p[A]),j=Math.floor(p[A+1]);if(O<-1||O>g||j<-1||j>y)throw new ie;w=!1,O===-1?(p[A]=0,w=!0):O===g&&(p[A]=g-1,w=!0),j===-1?(p[A+1]=0,w=!0):j===y&&(p[A+1]=y-1,w=!0)}w=!0;for(let A=p.length-2;A>=0&&w;A-=2){const O=Math.floor(p[A]),j=Math.floor(p[A+1]);if(O<-1||O>g||j<-1||j>y)throw new ie;w=!1,O===-1?(p[A]=0,w=!0):O===g&&(p[A]=g-1,w=!0),j===-1?(p[A+1]=0,w=!0):j===y&&(p[A+1]=y-1,w=!0)}}}class lr{constructor(l,p,g,y,w,A,O,j,L){this.a11=l,this.a21=p,this.a31=g,this.a12=y,this.a22=w,this.a32=A,this.a13=O,this.a23=j,this.a33=L}static quadrilateralToQuadrilateral(l,p,g,y,w,A,O,j,L,W,te,oe,_e,Oe,je,Be){const Ze=lr.quadrilateralToSquare(l,p,g,y,w,A,O,j);return lr.squareToQuadrilateral(L,W,te,oe,_e,Oe,je,Be).times(Ze)}transformPoints(l){const p=l.length,g=this.a11,y=this.a12,w=this.a13,A=this.a21,O=this.a22,j=this.a23,L=this.a31,W=this.a32,te=this.a33;for(let oe=0;oe<p;oe+=2){const _e=l[oe],Oe=l[oe+1],je=w*_e+j*Oe+te;l[oe]=(g*_e+A*Oe+L)/je,l[oe+1]=(y*_e+O*Oe+W)/je}}transformPointsWithValues(l,p){const g=this.a11,y=this.a12,w=this.a13,A=this.a21,O=this.a22,j=this.a23,L=this.a31,W=this.a32,te=this.a33,oe=l.length;for(let _e=0;_e<oe;_e++){const Oe=l[_e],je=p[_e],Be=w*Oe+j*je+te;l[_e]=(g*Oe+A*je+L)/Be,p[_e]=(y*Oe+O*je+W)/Be}}static squareToQuadrilateral(l,p,g,y,w,A,O,j){const L=l-g+w-O,W=p-y+A-j;if(L===0&&W===0)return new lr(g-l,w-g,l,y-p,A-y,p,0,0,1);{const te=g-w,oe=O-w,_e=y-A,Oe=j-A,je=te*Oe-oe*_e,Be=(L*Oe-oe*W)/je,Ze=(te*W-L*_e)/je;return new lr(g-l+Be*g,O-l+Ze*O,l,y-p+Be*y,j-p+Ze*j,p,Be,Ze,1)}}static quadrilateralToSquare(l,p,g,y,w,A,O,j){return lr.squareToQuadrilateral(l,p,g,y,w,A,O,j).buildAdjoint()}buildAdjoint(){return new lr(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(l){return new lr(this.a11*l.a11+this.a21*l.a12+this.a31*l.a13,this.a11*l.a21+this.a21*l.a22+this.a31*l.a23,this.a11*l.a31+this.a21*l.a32+this.a31*l.a33,this.a12*l.a11+this.a22*l.a12+this.a32*l.a13,this.a12*l.a21+this.a22*l.a22+this.a32*l.a23,this.a12*l.a31+this.a22*l.a32+this.a32*l.a33,this.a13*l.a11+this.a23*l.a12+this.a33*l.a13,this.a13*l.a21+this.a23*l.a22+this.a33*l.a23,this.a13*l.a31+this.a23*l.a32+this.a33*l.a33)}}class Ur extends Br{sampleGrid(l,p,g,y,w,A,O,j,L,W,te,oe,_e,Oe,je,Be,Ze,ct,ut){const ot=lr.quadrilateralToQuadrilateral(y,w,A,O,j,L,W,te,oe,_e,Oe,je,Be,Ze,ct,ut);return this.sampleGridWithTransform(l,p,g,ot)}sampleGridWithTransform(l,p,g,y){if(p<=0||g<=0)throw new ie;const w=new J(p,g),A=new Float32Array(2*p);for(let O=0;O<g;O++){const j=A.length,L=O+.5;for(let W=0;W<j;W+=2)A[W]=W/2+.5,A[W+1]=L;y.transformPoints(A),Br.checkAndNudgePoints(l,A);try{for(let W=0;W<j;W+=2)l.get(Math.floor(A[W]),Math.floor(A[W+1]))&&w.set(W/2,O)}catch{throw new ie}}return w}}class Cr{static setGridSampler(l){Cr.gridSampler=l}static getInstance(){return Cr.gridSampler}}Cr.gridSampler=new Ur;class Ot{constructor(l,p){this.x=l,this.y=p}toResultPoint(){return new at(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Tr{constructor(l){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=l}detect(){return this.detectMirror(!1)}detectMirror(l){let p=this.getMatrixCenter(),g=this.getBullsEyeCorners(p);if(l){let A=g[0];g[0]=g[2],g[2]=A}this.extractParameters(g);let y=this.sampleGrid(this.image,g[this.shift%4],g[(this.shift+1)%4],g[(this.shift+2)%4],g[(this.shift+3)%4]),w=this.getMatrixCornerPoints(g);return new ar(y,w,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(l){if(!this.isValidPoint(l[0])||!this.isValidPoint(l[1])||!this.isValidPoint(l[2])||!this.isValidPoint(l[3]))throw new ie;let p=2*this.nbCenterLayers,g=new Int32Array([this.sampleLine(l[0],l[1],p),this.sampleLine(l[1],l[2],p),this.sampleLine(l[2],l[3],p),this.sampleLine(l[3],l[0],p)]);this.shift=this.getRotation(g,p);let y=0;for(let A=0;A<4;A++){let O=g[(this.shift+A)%4];this.compact?(y<<=7,y+=O>>1&127):(y<<=10,y+=(O>>2&992)+(O>>1&31))}let w=this.getCorrectedParameterData(y,this.compact);this.compact?(this.nbLayers=(w>>6)+1,this.nbDataBlocks=(w&63)+1):(this.nbLayers=(w>>11)+1,this.nbDataBlocks=(w&2047)+1)}getRotation(l,p){let g=0;l.forEach((y,w,A)=>{let O=(y>>p-2<<1)+(y&1);g=(g<<3)+O}),g=((g&1)<<11)+(g>>1);for(let y=0;y<4;y++)if(U.bitCount(g^this.EXPECTED_CORNER_BITS[y])<=2)return y;throw new ie}getCorrectedParameterData(l,p){let g,y;p?(g=7,y=2):(g=10,y=4);let w=g-y,A=new Int32Array(g);for(let j=g-1;j>=0;--j)A[j]=l&15,l>>=4;try{new wt(lt.AZTEC_PARAM).decode(A,w)}catch{throw new ie}let O=0;for(let j=0;j<y;j++)O=(O<<4)+A[j];return O}getBullsEyeCorners(l){let p=l,g=l,y=l,w=l,A=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let te=this.getFirstDifferent(p,A,1,-1),oe=this.getFirstDifferent(g,A,1,1),_e=this.getFirstDifferent(y,A,-1,1),Oe=this.getFirstDifferent(w,A,-1,-1);if(this.nbCenterLayers>2){let je=this.distancePoint(Oe,te)*this.nbCenterLayers/(this.distancePoint(w,p)*(this.nbCenterLayers+2));if(je<.75||je>1.25||!this.isWhiteOrBlackRectangle(te,oe,_e,Oe))break}p=te,g=oe,y=_e,w=Oe,A=!A}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ie;this.compact=this.nbCenterLayers===5;let O=new at(p.getX()+.5,p.getY()-.5),j=new at(g.getX()+.5,g.getY()+.5),L=new at(y.getX()-.5,y.getY()+.5),W=new at(w.getX()-.5,w.getY()-.5);return this.expandSquare([O,j,L,W],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let l,p,g,y;try{let O=new vr(this.image).detect();l=O[0],p=O[1],g=O[2],y=O[3]}catch{let j=this.image.getWidth()/2,L=this.image.getHeight()/2;l=this.getFirstDifferent(new Ot(j+7,L-7),!1,1,-1).toResultPoint(),p=this.getFirstDifferent(new Ot(j+7,L+7),!1,1,1).toResultPoint(),g=this.getFirstDifferent(new Ot(j-7,L+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new Ot(j-7,L-7),!1,-1,-1).toResultPoint()}let w=rt.round((l.getX()+y.getX()+p.getX()+g.getX())/4),A=rt.round((l.getY()+y.getY()+p.getY()+g.getY())/4);try{let O=new vr(this.image,15,w,A).detect();l=O[0],p=O[1],g=O[2],y=O[3]}catch{l=this.getFirstDifferent(new Ot(w+7,A-7),!1,1,-1).toResultPoint(),p=this.getFirstDifferent(new Ot(w+7,A+7),!1,1,1).toResultPoint(),g=this.getFirstDifferent(new Ot(w-7,A+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new Ot(w-7,A-7),!1,-1,-1).toResultPoint()}return w=rt.round((l.getX()+y.getX()+p.getX()+g.getX())/4),A=rt.round((l.getY()+y.getY()+p.getY()+g.getY())/4),new Ot(w,A)}getMatrixCornerPoints(l){return this.expandSquare(l,2*this.nbCenterLayers,this.getDimension())}sampleGrid(l,p,g,y,w){let A=Cr.getInstance(),O=this.getDimension(),j=O/2-this.nbCenterLayers,L=O/2+this.nbCenterLayers;return A.sampleGrid(l,O,O,j,j,L,j,L,L,j,L,p.getX(),p.getY(),g.getX(),g.getY(),y.getX(),y.getY(),w.getX(),w.getY())}sampleLine(l,p,g){let y=0,w=this.distanceResultPoint(l,p),A=w/g,O=l.getX(),j=l.getY(),L=A*(p.getX()-l.getX())/w,W=A*(p.getY()-l.getY())/w;for(let te=0;te<g;te++)this.image.get(rt.round(O+te*L),rt.round(j+te*W))&&(y|=1<<g-te-1);return y}isWhiteOrBlackRectangle(l,p,g,y){let w=3;l=new Ot(l.getX()-w,l.getY()+w),p=new Ot(p.getX()-w,p.getY()-w),g=new Ot(g.getX()+w,g.getY()-w),y=new Ot(y.getX()+w,y.getY()+w);let A=this.getColor(y,l);if(A===0)return!1;let O=this.getColor(l,p);return O!==A||(O=this.getColor(p,g),O!==A)?!1:(O=this.getColor(g,y),O===A)}getColor(l,p){let g=this.distancePoint(l,p),y=(p.getX()-l.getX())/g,w=(p.getY()-l.getY())/g,A=0,O=l.getX(),j=l.getY(),L=this.image.get(l.getX(),l.getY()),W=Math.ceil(g);for(let oe=0;oe<W;oe++)O+=y,j+=w,this.image.get(rt.round(O),rt.round(j))!==L&&A++;let te=A/g;return te>.1&&te<.9?0:te<=.1===L?1:-1}getFirstDifferent(l,p,g,y){let w=l.getX()+g,A=l.getY()+y;for(;this.isValid(w,A)&&this.image.get(w,A)===p;)w+=g,A+=y;for(w-=g,A-=y;this.isValid(w,A)&&this.image.get(w,A)===p;)w+=g;for(w-=g;this.isValid(w,A)&&this.image.get(w,A)===p;)A+=y;return A-=y,new Ot(w,A)}expandSquare(l,p,g){let y=g/(2*p),w=l[0].getX()-l[2].getX(),A=l[0].getY()-l[2].getY(),O=(l[0].getX()+l[2].getX())/2,j=(l[0].getY()+l[2].getY())/2,L=new at(O+y*w,j+y*A),W=new at(O-y*w,j-y*A);w=l[1].getX()-l[3].getX(),A=l[1].getY()-l[3].getY(),O=(l[1].getX()+l[3].getX())/2,j=(l[1].getY()+l[3].getY())/2;let te=new at(O+y*w,j+y*A),oe=new at(O-y*w,j-y*A);return[L,te,W,oe]}isValid(l,p){return l>=0&&l<this.image.getWidth()&&p>0&&p<this.image.getHeight()}isValidPoint(l){let p=rt.round(l.getX()),g=rt.round(l.getY());return this.isValid(p,g)}distancePoint(l,p){return rt.distance(l.getX(),l.getY(),p.getX(),p.getY())}distanceResultPoint(l,p){return rt.distance(l.getX(),l.getY(),p.getX(),p.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(U.truncDivision(this.nbLayers-4,8)+1)+15}}class Ht{decode(l,p=null){let g=null,y=new Tr(l.getBlackMatrix()),w=null,A=null;try{let W=y.detectMirror(!1);w=W.getPoints(),this.reportFoundResultPoints(p,w),A=new _t().decode(W)}catch(W){g=W}if(A==null)try{let W=y.detectMirror(!0);w=W.getPoints(),this.reportFoundResultPoints(p,w),A=new _t().decode(W)}catch(W){throw g??W}let O=new me(A.getText(),A.getRawBytes(),A.getNumBits(),w,xe.AZTEC,C.currentTimeMillis()),j=A.getByteSegments();j!=null&&O.putMetadata(ze.BYTE_SEGMENTS,j);let L=A.getECLevel();return L!=null&&O.putMetadata(ze.ERROR_CORRECTION_LEVEL,L),O}reportFoundResultPoints(l,p){if(l!=null){let g=l.get(Z.NEED_RESULT_POINT_CALLBACK);g!=null&&p.forEach((y,w,A)=>{g.foundPossibleResultPoint(y)})}}reset(){}}class ci extends de{constructor(l=500){super(new Ht,l)}}class tr{decode(l,p){try{return this.doDecode(l,p)}catch{if(p&&p.get(Z.TRY_HARDER)===!0&&l.isRotateSupported()){const w=l.rotateCounterClockwise(),A=this.doDecode(w,p),O=A.getResultMetadata();let j=270;O!==null&&O.get(ze.ORIENTATION)===!0&&(j=j+O.get(ze.ORIENTATION)%360),A.putMetadata(ze.ORIENTATION,j);const L=A.getResultPoints();if(L!==null){const W=w.getHeight();for(let te=0;te<L.length;te++)L[te]=new at(W-L[te].getY()-1,L[te].getX())}return A}else throw new ie}}reset(){}doDecode(l,p){const g=l.getWidth(),y=l.getHeight();let w=new F(g);const A=p&&p.get(Z.TRY_HARDER)===!0,O=Math.max(1,y>>(A?8:5));let j;A?j=y:j=15;const L=Math.trunc(y/2);for(let W=0;W<j;W++){const te=Math.trunc((W+1)/2),oe=(W&1)===0,_e=L+O*(oe?te:-te);if(_e<0||_e>=y)break;try{w=l.getBlackRow(_e,w)}catch{continue}for(let Oe=0;Oe<2;Oe++){if(Oe===1&&(w.reverse(),p&&p.get(Z.NEED_RESULT_POINT_CALLBACK)===!0)){const je=new Map;p.forEach((Be,Ze)=>je.set(Ze,Be)),je.delete(Z.NEED_RESULT_POINT_CALLBACK),p=je}try{const je=this.decodeRow(_e,w,p);if(Oe===1){je.putMetadata(ze.ORIENTATION,180);const Be=je.getResultPoints();Be!==null&&(Be[0]=new at(g-Be[0].getX()-1,Be[0].getY()),Be[1]=new at(g-Be[1].getX()-1,Be[1].getY()))}return je}catch{}}}throw new ie}static recordPattern(l,p,g){const y=g.length;for(let L=0;L<y;L++)g[L]=0;const w=l.getSize();if(p>=w)throw new ie;let A=!l.get(p),O=0,j=p;for(;j<w;){if(l.get(j)!==A)g[O]++;else{if(++O===y)break;g[O]=1,A=!A}j++}if(!(O===y||O===y-1&&j===w))throw new ie}static recordPatternInReverse(l,p,g){let y=g.length,w=l.get(p);for(;p>0&&y>=0;)l.get(--p)!==w&&(y--,w=!w);if(y>=0)throw new ie;tr.recordPattern(l,p+1,g)}static patternMatchVariance(l,p,g){const y=l.length;let w=0,A=0;for(let L=0;L<y;L++)w+=l[L],A+=p[L];if(w<A)return Number.POSITIVE_INFINITY;const O=w/A;g*=O;let j=0;for(let L=0;L<y;L++){const W=l[L],te=p[L]*O,oe=W>te?W-te:te-W;if(oe>g)return Number.POSITIVE_INFINITY;j+=oe}return j/w}}class nt extends tr{static findStartPattern(l){const p=l.getSize(),g=l.getNextSet(0);let y=0,w=Int32Array.from([0,0,0,0,0,0]),A=g,O=!1;const j=6;for(let L=g;L<p;L++)if(l.get(L)!==O)w[y]++;else{if(y===j-1){let W=nt.MAX_AVG_VARIANCE,te=-1;for(let oe=nt.CODE_START_A;oe<=nt.CODE_START_C;oe++){const _e=tr.patternMatchVariance(w,nt.CODE_PATTERNS[oe],nt.MAX_INDIVIDUAL_VARIANCE);_e<W&&(W=_e,te=oe)}if(te>=0&&l.isRange(Math.max(0,A-(L-A)/2),A,!1))return Int32Array.from([A,L,te]);A+=w[0]+w[1],w=w.slice(2,w.length-1),w[y-1]=0,w[y]=0,y--}else y++;w[y]=1,O=!O}throw new ie}static decodeCode(l,p,g){tr.recordPattern(l,g,p);let y=nt.MAX_AVG_VARIANCE,w=-1;for(let A=0;A<nt.CODE_PATTERNS.length;A++){const O=nt.CODE_PATTERNS[A],j=this.patternMatchVariance(p,O,nt.MAX_INDIVIDUAL_VARIANCE);j<y&&(y=j,w=A)}if(w>=0)return w;throw new ie}decodeRow(l,p,g){const y=g&&g.get(Z.ASSUME_GS1)===!0,w=nt.findStartPattern(p),A=w[2];let O=0;const j=new Uint8Array(20);j[O++]=A;let L;switch(A){case nt.CODE_START_A:L=nt.CODE_CODE_A;break;case nt.CODE_START_B:L=nt.CODE_CODE_B;break;case nt.CODE_START_C:L=nt.CODE_CODE_C;break;default:throw new V}let W=!1,te=!1,oe="",_e=w[0],Oe=w[1];const je=Int32Array.from([0,0,0,0,0,0]);let Be=0,Ze=0,ct=A,ut=0,ot=!0,nr=!1,pr=!1;for(;!W;){const cl=te;switch(te=!1,Be=Ze,Ze=nt.decodeCode(p,je,Oe),j[O++]=Ze,Ze!==nt.CODE_STOP&&(ot=!0),Ze!==nt.CODE_STOP&&(ut++,ct+=ut*Ze),_e=Oe,Oe+=je.reduce((zf,jl)=>zf+jl,0),Ze){case nt.CODE_START_A:case nt.CODE_START_B:case nt.CODE_START_C:throw new V}switch(L){case nt.CODE_CODE_A:if(Ze<64)pr===nr?oe+=String.fromCharCode(32+Ze):oe+=String.fromCharCode(32+Ze+128),pr=!1;else if(Ze<96)pr===nr?oe+=String.fromCharCode(Ze-64):oe+=String.fromCharCode(Ze+64),pr=!1;else switch(Ze!==nt.CODE_STOP&&(ot=!1),Ze){case nt.CODE_FNC_1:y&&(oe.length===0?oe+="]C1":oe+="");break;case nt.CODE_FNC_2:case nt.CODE_FNC_3:break;case nt.CODE_FNC_4_A:!nr&&pr?(nr=!0,pr=!1):nr&&pr?(nr=!1,pr=!1):pr=!0;break;case nt.CODE_SHIFT:te=!0,L=nt.CODE_CODE_B;break;case nt.CODE_CODE_B:L=nt.CODE_CODE_B;break;case nt.CODE_CODE_C:L=nt.CODE_CODE_C;break;case nt.CODE_STOP:W=!0;break}break;case nt.CODE_CODE_B:if(Ze<96)pr===nr?oe+=String.fromCharCode(32+Ze):oe+=String.fromCharCode(32+Ze+128),pr=!1;else switch(Ze!==nt.CODE_STOP&&(ot=!1),Ze){case nt.CODE_FNC_1:y&&(oe.length===0?oe+="]C1":oe+="");break;case nt.CODE_FNC_2:case nt.CODE_FNC_3:break;case nt.CODE_FNC_4_B:!nr&&pr?(nr=!0,pr=!1):nr&&pr?(nr=!1,pr=!1):pr=!0;break;case nt.CODE_SHIFT:te=!0,L=nt.CODE_CODE_A;break;case nt.CODE_CODE_A:L=nt.CODE_CODE_A;break;case nt.CODE_CODE_C:L=nt.CODE_CODE_C;break;case nt.CODE_STOP:W=!0;break}break;case nt.CODE_CODE_C:if(Ze<100)Ze<10&&(oe+="0"),oe+=Ze;else switch(Ze!==nt.CODE_STOP&&(ot=!1),Ze){case nt.CODE_FNC_1:y&&(oe.length===0?oe+="]C1":oe+="");break;case nt.CODE_CODE_A:L=nt.CODE_CODE_A;break;case nt.CODE_CODE_B:L=nt.CODE_CODE_B;break;case nt.CODE_STOP:W=!0;break}break}cl&&(L=L===nt.CODE_CODE_A?nt.CODE_CODE_B:nt.CODE_CODE_A)}const qn=Oe-_e;if(Oe=p.getNextUnset(Oe),!p.isRange(Oe,Math.min(p.getSize(),Oe+(Oe-_e)/2),!1))throw new ie;if(ct-=ut*Be,ct%103!==Be)throw new x;const sa=oe.length;if(sa===0)throw new ie;sa>0&&ot&&(L===nt.CODE_CODE_C?oe=oe.substring(0,sa-2):oe=oe.substring(0,sa-1));const Bi=(w[1]+w[0])/2,mn=_e+qn/2,Fi=j.length,Ka=new Uint8Array(Fi);for(let cl=0;cl<Fi;cl++)Ka[cl]=j[cl];const Ml=[new at(Bi,l),new at(mn,l)];return new me(oe,Ka,0,Ml,xe.CODE_128,new Date().getTime())}}nt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],nt.MAX_AVG_VARIANCE=.25,nt.MAX_INDIVIDUAL_VARIANCE=.7,nt.CODE_SHIFT=98,nt.CODE_CODE_C=99,nt.CODE_CODE_B=100,nt.CODE_CODE_A=101,nt.CODE_FNC_1=102,nt.CODE_FNC_2=97,nt.CODE_FNC_3=96,nt.CODE_FNC_4_A=101,nt.CODE_FNC_4_B=100,nt.CODE_START_A=103,nt.CODE_START_B=104,nt.CODE_START_C=105,nt.CODE_STOP=106;class Rt extends tr{constructor(l=!1,p=!1){super(),this.usingCheckDigit=l,this.extendedMode=p,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,p,g){let y=this.counters;y.fill(0),this.decodeRowResult="";let w=Rt.findAsteriskPattern(p,y),A=p.getNextSet(w[1]),O=p.getSize(),j,L;do{Rt.recordPattern(p,A,y);let je=Rt.toNarrowWidePattern(y);if(je<0)throw new ie;j=Rt.patternToChar(je),this.decodeRowResult+=j,L=A;for(let Be of y)A+=Be;A=p.getNextSet(A)}while(j!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let W=0;for(let je of y)W+=je;let te=A-L-W;if(A!==O&&te*2<W)throw new ie;if(this.usingCheckDigit){let je=this.decodeRowResult.length-1,Be=0;for(let Ze=0;Ze<je;Ze++)Be+=Rt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ze));if(this.decodeRowResult.charAt(je)!==Rt.ALPHABET_STRING.charAt(Be%43))throw new x;this.decodeRowResult=this.decodeRowResult.substring(0,je)}if(this.decodeRowResult.length===0)throw new ie;let oe;this.extendedMode?oe=Rt.decodeExtended(this.decodeRowResult):oe=this.decodeRowResult;let _e=(w[1]+w[0])/2,Oe=L+W/2;return new me(oe,null,0,[new at(_e,l),new at(Oe,l)],xe.CODE_39,new Date().getTime())}static findAsteriskPattern(l,p){let g=l.getSize(),y=l.getNextSet(0),w=0,A=y,O=!1,j=p.length;for(let L=y;L<g;L++)if(l.get(L)!==O)p[w]++;else{if(w===j-1){if(this.toNarrowWidePattern(p)===Rt.ASTERISK_ENCODING&&l.isRange(Math.max(0,A-Math.floor((L-A)/2)),A,!1))return[A,L];A+=p[0]+p[1],p.copyWithin(0,2,2+w-1),p[w-1]=0,p[w]=0,w--}else w++;p[w]=1,O=!O}throw new ie}static toNarrowWidePattern(l){let p=l.length,g=0,y;do{let w=2147483647;for(let j of l)j<w&&j>g&&(w=j);g=w,y=0;let A=0,O=0;for(let j=0;j<p;j++){let L=l[j];L>g&&(O|=1<<p-1-j,y++,A+=L)}if(y===3){for(let j=0;j<p&&y>0;j++){let L=l[j];if(L>g&&(y--,L*2>=A))return-1}return O}}while(y>3);return-1}static patternToChar(l){for(let p=0;p<Rt.CHARACTER_ENCODINGS.length;p++)if(Rt.CHARACTER_ENCODINGS[p]===l)return Rt.ALPHABET_STRING.charAt(p);if(l===Rt.ASTERISK_ENCODING)return"*";throw new ie}static decodeExtended(l){let p=l.length,g="";for(let y=0;y<p;y++){let w=l.charAt(y);if(w==="+"||w==="$"||w==="%"||w==="/"){let A=l.charAt(y+1),O="\0";switch(w){case"+":if(A>="A"&&A<="Z")O=String.fromCharCode(A.charCodeAt(0)+32);else throw new V;break;case"$":if(A>="A"&&A<="Z")O=String.fromCharCode(A.charCodeAt(0)-64);else throw new V;break;case"%":if(A>="A"&&A<="E")O=String.fromCharCode(A.charCodeAt(0)-38);else if(A>="F"&&A<="J")O=String.fromCharCode(A.charCodeAt(0)-11);else if(A>="K"&&A<="O")O=String.fromCharCode(A.charCodeAt(0)+16);else if(A>="P"&&A<="T")O=String.fromCharCode(A.charCodeAt(0)+43);else if(A==="U")O="\0";else if(A==="V")O="@";else if(A==="W")O="`";else if(A==="X"||A==="Y"||A==="Z")O="";else throw new V;break;case"/":if(A>="A"&&A<="O")O=String.fromCharCode(A.charCodeAt(0)-32);else if(A==="Z")O=":";else throw new V;break}g+=O,y++}else g+=w}return g}}Rt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Rt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Rt.ASTERISK_ENCODING=148;class Bt extends tr{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(l,p,g){let y=this.decodeStart(p),w=this.decodeEnd(p),A=new le;Bt.decodeMiddle(p,y[1],w[0],A);let O=A.toString(),j=null;g!=null&&(j=g.get(Z.ALLOWED_LENGTHS)),j==null&&(j=Bt.DEFAULT_ALLOWED_LENGTHS);let L=O.length,W=!1,te=0;for(let Oe of j){if(L===Oe){W=!0;break}Oe>te&&(te=Oe)}if(!W&&L>te&&(W=!0),!W)throw new V;const oe=[new at(y[1],l),new at(w[0],l)];return new me(O,null,0,oe,xe.ITF,new Date().getTime())}static decodeMiddle(l,p,g,y){let w=new Int32Array(10),A=new Int32Array(5),O=new Int32Array(5);for(w.fill(0),A.fill(0),O.fill(0);p<g;){tr.recordPattern(l,p,w);for(let L=0;L<5;L++){let W=2*L;A[L]=w[W],O[L]=w[W+1]}let j=Bt.decodeDigit(A);y.append(j.toString()),j=this.decodeDigit(O),y.append(j.toString()),w.forEach(function(L){p+=L})}}decodeStart(l){let p=Bt.skipWhiteSpace(l),g=Bt.findGuardPattern(l,p,Bt.START_PATTERN);return this.narrowLineWidth=(g[1]-g[0])/4,this.validateQuietZone(l,g[0]),g}validateQuietZone(l,p){let g=this.narrowLineWidth*10;g=g<p?g:p;for(let y=p-1;g>0&&y>=0&&!l.get(y);y--)g--;if(g!==0)throw new ie}static skipWhiteSpace(l){const p=l.getSize(),g=l.getNextSet(0);if(g===p)throw new ie;return g}decodeEnd(l){l.reverse();try{let p=Bt.skipWhiteSpace(l),g;try{g=Bt.findGuardPattern(l,p,Bt.END_PATTERN_REVERSED[0])}catch(w){w instanceof ie&&(g=Bt.findGuardPattern(l,p,Bt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(l,g[0]);let y=g[0];return g[0]=l.getSize()-g[1],g[1]=l.getSize()-y,g}finally{l.reverse()}}static findGuardPattern(l,p,g){let y=g.length,w=new Int32Array(y),A=l.getSize(),O=!1,j=0,L=p;w.fill(0);for(let W=p;W<A;W++)if(l.get(W)!==O)w[j]++;else{if(j===y-1){if(tr.patternMatchVariance(w,g,Bt.MAX_INDIVIDUAL_VARIANCE)<Bt.MAX_AVG_VARIANCE)return[L,W];L+=w[0]+w[1],C.arraycopy(w,2,w,0,j-1),w[j-1]=0,w[j]=0,j--}else j++;w[j]=1,O=!O}throw new ie}static decodeDigit(l){let p=Bt.MAX_AVG_VARIANCE,g=-1,y=Bt.PATTERNS.length;for(let w=0;w<y;w++){let A=Bt.PATTERNS[w],O=tr.patternMatchVariance(l,A,Bt.MAX_INDIVIDUAL_VARIANCE);O<p?(p=O,g=w):O===p&&(g=-1)}if(g>=0)return g%10;throw new ie}}Bt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Bt.MAX_AVG_VARIANCE=.38,Bt.MAX_INDIVIDUAL_VARIANCE=.5,Bt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Bt.START_PATTERN=Int32Array.from([1,1,1,1]),Bt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ct extends tr{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(l){let p=!1,g,y=0,w=Int32Array.from([0,0,0]);for(;!p;){w=Int32Array.from([0,0,0]),g=Ct.findGuardPattern(l,y,!1,this.START_END_PATTERN,w);let A=g[0];y=g[1];let O=A-(y-A);O>=0&&(p=l.isRange(O,A,!1))}return g}static checkChecksum(l){return Ct.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let p=l.length;if(p===0)return!1;let g=parseInt(l.charAt(p-1),10);return Ct.getStandardUPCEANChecksum(l.substring(0,p-1))===g}static getStandardUPCEANChecksum(l){let p=l.length,g=0;for(let y=p-1;y>=0;y-=2){let w=l.charAt(y).charCodeAt(0)-48;if(w<0||w>9)throw new V;g+=w}g*=3;for(let y=p-2;y>=0;y-=2){let w=l.charAt(y).charCodeAt(0)-48;if(w<0||w>9)throw new V;g+=w}return(1e3-g)%10}static decodeEnd(l,p){return Ct.findGuardPattern(l,p,!1,Ct.START_END_PATTERN,new Int32Array(Ct.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(l,p,g,y){return this.findGuardPattern(l,p,g,y,new Int32Array(y.length))}static findGuardPattern(l,p,g,y,w){let A=l.getSize();p=g?l.getNextUnset(p):l.getNextSet(p);let O=0,j=p,L=y.length,W=g;for(let te=p;te<A;te++)if(l.get(te)!==W)w[O]++;else{if(O===L-1){if(tr.patternMatchVariance(w,y,Ct.MAX_INDIVIDUAL_VARIANCE)<Ct.MAX_AVG_VARIANCE)return Int32Array.from([j,te]);j+=w[0]+w[1];let oe=w.slice(2,w.length-1);for(let _e=0;_e<O-1;_e++)w[_e]=oe[_e];w[O-1]=0,w[O]=0,O--}else O++;w[O]=1,W=!W}throw new ie}static decodeDigit(l,p,g,y){this.recordPattern(l,g,p);let w=this.MAX_AVG_VARIANCE,A=-1,O=y.length;for(let j=0;j<O;j++){let L=y[j],W=tr.patternMatchVariance(p,L,Ct.MAX_INDIVIDUAL_VARIANCE);W<w&&(w=W,A=j)}if(A>=0)return A;throw new ie}}Ct.MAX_AVG_VARIANCE=.48,Ct.MAX_INDIVIDUAL_VARIANCE=.7,Ct.START_END_PATTERN=Int32Array.from([1,1,1]),Ct.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ct.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ct.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class cn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,p,g){let y=this.decodeRowStringBuffer,w=this.decodeMiddle(p,g,y),A=y.toString(),O=cn.parseExtensionString(A),j=[new at((g[0]+g[1])/2,l),new at(w,l)],L=new me(A,null,0,j,xe.UPC_EAN_EXTENSION,new Date().getTime());return O!=null&&L.putAllMetadata(O),L}decodeMiddle(l,p,g){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let w=l.getSize(),A=p[1],O=0;for(let L=0;L<5&&A<w;L++){let W=Ct.decodeDigit(l,y,A,Ct.L_AND_G_PATTERNS);g+=String.fromCharCode(48+W%10);for(let te of y)A+=te;W>=10&&(O|=1<<4-L),L!==4&&(A=l.getNextSet(A),A=l.getNextUnset(A))}if(g.length!==5)throw new ie;let j=this.determineCheckDigit(O);if(cn.extensionChecksum(g.toString())!==j)throw new ie;return A}static extensionChecksum(l){let p=l.length,g=0;for(let y=p-2;y>=0;y-=2)g+=l.charAt(y).charCodeAt(0)-48;g*=3;for(let y=p-1;y>=0;y-=2)g+=l.charAt(y).charCodeAt(0)-48;return g*=3,g%10}determineCheckDigit(l){for(let p=0;p<10;p++)if(l===this.CHECK_DIGIT_ENCODINGS[p])return p;throw new ie}static parseExtensionString(l){if(l.length!==5)return null;let p=cn.parseExtension5String(l);return p==null?null:new Map([[ze.SUGGESTED_PRICE,p]])}static parseExtension5String(l){let p;switch(l.charAt(0)){case"0":p="";break;case"5":p="$";break;case"9":switch(l){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}p="";break;default:p="";break}let g=parseInt(l.substring(1)),y=(g/100).toString(),w=g%100,A=w<10?"0"+w:w.toString();return p+y+"."+A}}class hr{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,p,g){let y=this.decodeRowStringBuffer,w=this.decodeMiddle(p,g,y),A=y.toString(),O=hr.parseExtensionString(A),j=[new at((g[0]+g[1])/2,l),new at(w,l)],L=new me(A,null,0,j,xe.UPC_EAN_EXTENSION,new Date().getTime());return O!=null&&L.putAllMetadata(O),L}decodeMiddle(l,p,g){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let w=l.getSize(),A=p[1],O=0;for(let j=0;j<2&&A<w;j++){let L=Ct.decodeDigit(l,y,A,Ct.L_AND_G_PATTERNS);g+=String.fromCharCode(48+L%10);for(let W of y)A+=W;L>=10&&(O|=1<<1-j),j!==1&&(A=l.getNextSet(A),A=l.getNextUnset(A))}if(g.length!==2)throw new ie;if(parseInt(g.toString())%4!==O)throw new ie;return A}static parseExtensionString(l){return l.length!==2?null:new Map([[ze.ISSUE_NUMBER,parseInt(l)]])}}class wr{static decodeRow(l,p,g){let y=Ct.findGuardPattern(p,g,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new cn().decodeRow(l,p,y)}catch{return new hr().decodeRow(l,p,y)}}}wr.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Xt extends Ct{constructor(){super(),this.decodeRowStringBuffer="",Xt.L_AND_G_PATTERNS=Xt.L_PATTERNS.map(l=>Int32Array.from(l));for(let l=10;l<20;l++){let p=Xt.L_PATTERNS[l-10],g=new Int32Array(p.length);for(let y=0;y<p.length;y++)g[y]=p[p.length-y-1];Xt.L_AND_G_PATTERNS[l]=g}}decodeRow(l,p,g){let y=Xt.findStartGuardPattern(p),w=g==null?null:g.get(Z.NEED_RESULT_POINT_CALLBACK);if(w!=null){const ot=new at((y[0]+y[1])/2,l);w.foundPossibleResultPoint(ot)}let A=this.decodeMiddle(p,y,this.decodeRowStringBuffer),O=A.rowOffset,j=A.resultString;if(w!=null){const ot=new at(O,l);w.foundPossibleResultPoint(ot)}let L=this.decodeEnd(p,O);if(w!=null){const ot=new at((L[0]+L[1])/2,l);w.foundPossibleResultPoint(ot)}let W=L[1],te=W+(W-L[0]);if(te>=p.getSize()||!p.isRange(W,te,!1))throw new ie;let oe=j.toString();if(oe.length<8)throw new V;if(!Xt.checkChecksum(oe))throw new x;let _e=(y[1]+y[0])/2,Oe=(L[1]+L[0])/2,je=this.getBarcodeFormat(),Be=[new at(_e,l),new at(Oe,l)],Ze=new me(oe,null,0,Be,je,new Date().getTime()),ct=0;try{let ot=wr.decodeRow(l,p,L[1]);Ze.putMetadata(ze.UPC_EAN_EXTENSION,ot.getText()),Ze.putAllMetadata(ot.getResultMetadata()),Ze.addResultPoints(ot.getResultPoints()),ct=ot.getText().length}catch{}let ut=g==null?null:g.get(Z.ALLOWED_EAN_EXTENSIONS);if(ut!=null){let ot=!1;for(let nr in ut)if(ct.toString()===nr){ot=!0;break}if(!ot)throw new ie}return Ze}decodeEnd(l,p){return Xt.findGuardPattern(l,p,!1,Xt.START_END_PATTERN,new Int32Array(Xt.START_END_PATTERN.length).fill(0))}static checkChecksum(l){return Xt.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let p=l.length;if(p===0)return!1;let g=parseInt(l.charAt(p-1),10);return Xt.getStandardUPCEANChecksum(l.substring(0,p-1))===g}static getStandardUPCEANChecksum(l){let p=l.length,g=0;for(let y=p-1;y>=0;y-=2){let w=l.charAt(y).charCodeAt(0)-48;if(w<0||w>9)throw new V;g+=w}g*=3;for(let y=p-2;y>=0;y-=2){let w=l.charAt(y).charCodeAt(0)-48;if(w<0||w>9)throw new V;g+=w}return(1e3-g)%10}}class _r extends Xt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,p,g){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let w=l.getSize(),A=p[1],O=0;for(let L=0;L<6&&A<w;L++){let W=Xt.decodeDigit(l,y,A,Xt.L_AND_G_PATTERNS);g+=String.fromCharCode(48+W%10);for(let te of y)A+=te;W>=10&&(O|=1<<5-L)}g=_r.determineFirstDigit(g,O),A=Xt.findGuardPattern(l,A,!0,Xt.MIDDLE_PATTERN,new Int32Array(Xt.MIDDLE_PATTERN.length).fill(0))[1];for(let L=0;L<6&&A<w;L++){let W=Xt.decodeDigit(l,y,A,Xt.L_PATTERNS);g+=String.fromCharCode(48+W);for(let te of y)A+=te}return{rowOffset:A,resultString:g}}getBarcodeFormat(){return xe.EAN_13}static determineFirstDigit(l,p){for(let g=0;g<10;g++)if(p===this.FIRST_DIGIT_ENCODINGS[g])return l=String.fromCharCode(48+g)+l,l;throw new ie}}_r.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Kt extends Xt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,p,g){const y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let w=l.getSize(),A=p[1];for(let j=0;j<4&&A<w;j++){let L=Xt.decodeDigit(l,y,A,Xt.L_PATTERNS);g+=String.fromCharCode(48+L);for(let W of y)A+=W}A=Xt.findGuardPattern(l,A,!0,Xt.MIDDLE_PATTERN,new Int32Array(Xt.MIDDLE_PATTERN.length).fill(0))[1];for(let j=0;j<4&&A<w;j++){let L=Xt.decodeDigit(l,y,A,Xt.L_PATTERNS);g+=String.fromCharCode(48+L);for(let W of y)A+=W}return{rowOffset:A,resultString:g}}getBarcodeFormat(){return xe.EAN_8}}class Yr extends Xt{constructor(){super(...arguments),this.ean13Reader=new _r}getBarcodeFormat(){return xe.UPC_A}decode(l,p){return this.maybeReturnResult(this.ean13Reader.decode(l))}decodeRow(l,p,g){return this.maybeReturnResult(this.ean13Reader.decodeRow(l,p,g))}decodeMiddle(l,p,g){return this.ean13Reader.decodeMiddle(l,p,g)}maybeReturnResult(l){let p=l.getText();if(p.charAt(0)==="0"){let g=new me(p.substring(1),null,null,l.getResultPoints(),xe.UPC_A);return l.getResultMetadata()!=null&&g.putAllMetadata(l.getResultMetadata()),g}else throw new ie}reset(){this.ean13Reader.reset()}}class ui extends Xt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(l,p,g){const y=this.decodeMiddleCounters.map(L=>L);y[0]=0,y[1]=0,y[2]=0,y[3]=0;const w=l.getSize();let A=p[1],O=0;for(let L=0;L<6&&A<w;L++){const W=ui.decodeDigit(l,y,A,ui.L_AND_G_PATTERNS);g+=String.fromCharCode(48+W%10);for(let te of y)A+=te;W>=10&&(O|=1<<5-L)}let j=ui.determineNumSysAndCheckDigit(g,O);return{rowOffset:A,resultString:j}}decodeEnd(l,p){return ui.findGuardPatternWithoutCounters(l,p,!0,ui.MIDDLE_END_PATTERN)}checkChecksum(l){return Xt.checkChecksum(ui.convertUPCEtoUPCA(l))}static determineNumSysAndCheckDigit(l,p){for(let g=0;g<=1;g++)for(let y=0;y<10;y++)if(p===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[g][y]){let w=String.fromCharCode(48+g),A=String.fromCharCode(48+y);return w+l+A}throw ie.getNotFoundInstance()}getBarcodeFormat(){return xe.UPC_E}static convertUPCEtoUPCA(l){const p=l.slice(1,7).split("").map(w=>w.charCodeAt(0)),g=new le;g.append(l.charAt(0));let y=p[5];switch(y){case 0:case 1:case 2:g.appendChars(p,0,2),g.append(y),g.append("0000"),g.appendChars(p,2,3);break;case 3:g.appendChars(p,0,3),g.append("00000"),g.appendChars(p,3,2);break;case 4:g.appendChars(p,0,4),g.append("00000"),g.append(p[4]);break;default:g.appendChars(p,0,5),g.append("0000"),g.append(y);break}return l.length>=8&&g.append(l.charAt(7)),g.toString()}}ui.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ui.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Pi extends tr{constructor(l){super();let p=l==null?null:l.get(Z.POSSIBLE_FORMATS),g=[];n(p)?(g.push(new _r),g.push(new Yr),g.push(new Kt),g.push(new ui)):(p.indexOf(xe.EAN_13)>-1&&g.push(new _r),p.indexOf(xe.UPC_A)>-1&&g.push(new Yr),p.indexOf(xe.EAN_8)>-1&&g.push(new Kt),p.indexOf(xe.UPC_E)>-1&&g.push(new ui)),this.readers=g}decodeRow(l,p,g){for(let y of this.readers)try{const w=y.decodeRow(l,p,g),A=w.getBarcodeFormat()===xe.EAN_13&&w.getText().charAt(0)==="0",O=g==null?null:g.get(Z.POSSIBLE_FORMATS),j=O==null||O.includes(xe.UPC_A);if(A&&j){const L=w.getRawBytes(),W=new me(w.getText().substring(1),L,L?L.length:null,w.getResultPoints(),xe.UPC_A);return W.putAllMetadata(w.getResultMetadata()),W}return w}catch{}throw new ie}reset(){for(let l of this.readers)l.reset()}}class In extends tr{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,p){for(let g=0;g<p.length;g++)if(tr.patternMatchVariance(l,p[g],In.MAX_INDIVIDUAL_VARIANCE)<In.MAX_AVG_VARIANCE)return g;throw new ie}static count(l){return rt.sum(new Int32Array(l))}static increment(l,p){let g=0,y=p[0];for(let w=1;w<l.length;w++)p[w]>y&&(y=p[w],g=w);l[g]++}static decrement(l,p){let g=0,y=p[0];for(let w=1;w<l.length;w++)p[w]<y&&(y=p[w],g=w);l[g]--}static isFinderPattern(l){let p=l[0]+l[1],g=p+l[2]+l[3],y=p/g;if(y>=In.MIN_FINDER_PATTERN_RATIO&&y<=In.MAX_FINDER_PATTERN_RATIO){let w=Number.MAX_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER;for(let O of l)O>A&&(A=O),O<w&&(w=O);return A<10*w}return!1}}In.MAX_AVG_VARIANCE=.2,In.MAX_INDIVIDUAL_VARIANCE=.45,In.MIN_FINDER_PATTERN_RATIO=9.5/12,In.MAX_FINDER_PATTERN_RATIO=12.5/14;class ea{constructor(l,p){this.value=l,this.checksumPortion=p}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(l){if(!(l instanceof ea))return!1;const p=l;return this.value===p.value&&this.checksumPortion===p.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Zt{constructor(l,p,g,y,w){this.value=l,this.startEnd=p,this.value=l,this.startEnd=p,this.resultPoints=new Array,this.resultPoints.push(new at(g,w)),this.resultPoints.push(new at(y,w))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(l){if(!(l instanceof Zt))return!1;const p=l;return this.value===p.value}hashCode(){return this.value}}class Di{constructor(){}static getRSSvalue(l,p,g){let y=0;for(let j of l)y+=j;let w=0,A=0,O=l.length;for(let j=0;j<O-1;j++){let L;for(L=1,A|=1<<j;L<l[j];L++,A&=~(1<<j)){let W=Di.combins(y-L-1,O-j-2);if(g&&A===0&&y-L-(O-j-1)>=O-j-1&&(W-=Di.combins(y-L-(O-j),O-j-2)),O-j-1>1){let te=0;for(let oe=y-L-(O-j-2);oe>p;oe--)te+=Di.combins(y-L-oe-1,O-j-3);W-=te*(O-1-j)}else y-L>p&&W--;w+=W}y-=L}return w}static combins(l,p){let g,y;l-p>p?(y=p,g=l-p):(y=l-p,g=p);let w=1,A=1;for(let O=l;O>g;O--)w*=O,A<=y&&(w/=A,A++);for(;A<=y;)w/=A,A++;return w}}class io{static buildBitArray(l){let p=l.length*2-1;l[l.length-1].getRightChar()==null&&(p-=1);let g=12*p,y=new F(g),w=0,O=l[0].getRightChar().getValue();for(let j=11;j>=0;--j)(O&1<<j)!=0&&y.set(w),w++;for(let j=1;j<l.length;++j){let L=l[j],W=L.getLeftChar().getValue();for(let te=11;te>=0;--te)(W&1<<te)!=0&&y.set(w),w++;if(L.getRightChar()!=null){let te=L.getRightChar().getValue();for(let oe=11;oe>=0;--oe)(te&1<<oe)!=0&&y.set(w),w++}}return y}}class Ti{constructor(l,p){p?this.decodedInformation=null:(this.finished=l,this.decodedInformation=p)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Aa{constructor(l){this.newPosition=l}getNewPosition(){return this.newPosition}}class zr extends Aa{constructor(l,p){super(l),this.value=p}getValue(){return this.value}isFNC1(){return this.value===zr.FNC1}}zr.FNC1="$";class Nn extends Aa{constructor(l,p,g){super(l),g?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=p}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class hn extends Aa{constructor(l,p,g){if(super(l),p<0||p>10||g<0||g>10)throw new V;this.firstDigit=p,this.secondDigit=g}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===hn.FNC1}isSecondDigitFNC1(){return this.secondDigit===hn.FNC1}isAnyFNC1(){return this.firstDigit===hn.FNC1||this.secondDigit===hn.FNC1}}hn.FNC1=10;class Nt{constructor(){}static parseFieldsInGeneralPurpose(l){if(!l)return null;if(l.length<2)throw new ie;let p=l.substring(0,2);for(let w of Nt.TWO_DIGIT_DATA_LENGTH)if(w[0]===p)return w[1]===Nt.VARIABLE_LENGTH?Nt.processVariableAI(2,w[2],l):Nt.processFixedAI(2,w[1],l);if(l.length<3)throw new ie;let g=l.substring(0,3);for(let w of Nt.THREE_DIGIT_DATA_LENGTH)if(w[0]===g)return w[1]===Nt.VARIABLE_LENGTH?Nt.processVariableAI(3,w[2],l):Nt.processFixedAI(3,w[1],l);for(let w of Nt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(w[0]===g)return w[1]===Nt.VARIABLE_LENGTH?Nt.processVariableAI(4,w[2],l):Nt.processFixedAI(4,w[1],l);if(l.length<4)throw new ie;let y=l.substring(0,4);for(let w of Nt.FOUR_DIGIT_DATA_LENGTH)if(w[0]===y)return w[1]===Nt.VARIABLE_LENGTH?Nt.processVariableAI(4,w[2],l):Nt.processFixedAI(4,w[1],l);throw new ie}static processFixedAI(l,p,g){if(g.length<l)throw new ie;let y=g.substring(0,l);if(g.length<l+p)throw new ie;let w=g.substring(l,l+p),A=g.substring(l+p),O="("+y+")"+w,j=Nt.parseFieldsInGeneralPurpose(A);return j==null?O:O+j}static processVariableAI(l,p,g){let y=g.substring(0,l),w;g.length<l+p?w=g.length:w=l+p;let A=g.substring(l,w),O=g.substring(w),j="("+y+")"+A,L=Nt.parseFieldsInGeneralPurpose(O);return L==null?j:j+L}}Nt.VARIABLE_LENGTH=[],Nt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Nt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Nt.VARIABLE_LENGTH,20],["22",Nt.VARIABLE_LENGTH,29],["30",Nt.VARIABLE_LENGTH,8],["37",Nt.VARIABLE_LENGTH,8],["90",Nt.VARIABLE_LENGTH,30],["91",Nt.VARIABLE_LENGTH,30],["92",Nt.VARIABLE_LENGTH,30],["93",Nt.VARIABLE_LENGTH,30],["94",Nt.VARIABLE_LENGTH,30],["95",Nt.VARIABLE_LENGTH,30],["96",Nt.VARIABLE_LENGTH,30],["97",Nt.VARIABLE_LENGTH,3],["98",Nt.VARIABLE_LENGTH,30],["99",Nt.VARIABLE_LENGTH,30]],Nt.THREE_DIGIT_DATA_LENGTH=[["240",Nt.VARIABLE_LENGTH,30],["241",Nt.VARIABLE_LENGTH,30],["242",Nt.VARIABLE_LENGTH,6],["250",Nt.VARIABLE_LENGTH,30],["251",Nt.VARIABLE_LENGTH,30],["253",Nt.VARIABLE_LENGTH,17],["254",Nt.VARIABLE_LENGTH,20],["400",Nt.VARIABLE_LENGTH,30],["401",Nt.VARIABLE_LENGTH,30],["402",17],["403",Nt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Nt.VARIABLE_LENGTH,20],["421",Nt.VARIABLE_LENGTH,15],["422",3],["423",Nt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Nt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Nt.VARIABLE_LENGTH,15],["391",Nt.VARIABLE_LENGTH,18],["392",Nt.VARIABLE_LENGTH,15],["393",Nt.VARIABLE_LENGTH,18],["703",Nt.VARIABLE_LENGTH,30]],Nt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Nt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Nt.VARIABLE_LENGTH,20],["8003",Nt.VARIABLE_LENGTH,30],["8004",Nt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Nt.VARIABLE_LENGTH,30],["8008",Nt.VARIABLE_LENGTH,12],["8018",18],["8020",Nt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Nt.VARIABLE_LENGTH,70],["8200",Nt.VARIABLE_LENGTH,70]];class xi{constructor(l){this.buffer=new le,this.information=l}decodeAllCodes(l,p){let g=p,y=null;do{let w=this.decodeGeneralPurposeField(g,y),A=Nt.parseFieldsInGeneralPurpose(w.getNewString());if(A!=null&&l.append(A),w.isRemaining()?y=""+w.getRemainingValue():y=null,g===w.getNewPosition())break;g=w.getNewPosition()}while(!0);return l.toString()}isStillNumeric(l){if(l+7>this.information.getSize())return l+4<=this.information.getSize();for(let p=l;p<l+3;++p)if(this.information.get(p))return!0;return this.information.get(l+3)}decodeNumeric(l){if(l+7>this.information.getSize()){let w=this.extractNumericValueFromBitArray(l,4);return w===0?new hn(this.information.getSize(),hn.FNC1,hn.FNC1):new hn(this.information.getSize(),w-1,hn.FNC1)}let p=this.extractNumericValueFromBitArray(l,7),g=(p-8)/11,y=(p-8)%11;return new hn(l+7,g,y)}extractNumericValueFromBitArray(l,p){return xi.extractNumericValueFromBitArray(this.information,l,p)}static extractNumericValueFromBitArray(l,p,g){let y=0;for(let w=0;w<g;++w)l.get(p+w)&&(y|=1<<g-w-1);return y}decodeGeneralPurposeField(l,p){this.buffer.setLengthToZero(),p!=null&&this.buffer.append(p),this.current.setPosition(l);let g=this.parseBlocks();return g!=null&&g.isRemaining()?new Nn(this.current.getPosition(),this.buffer.toString(),g.getRemainingValue()):new Nn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let l,p;do{let g=this.current.getPosition();if(this.current.isAlpha()?(p=this.parseAlphaBlock(),l=p.isFinished()):this.current.isIsoIec646()?(p=this.parseIsoIec646Block(),l=p.isFinished()):(p=this.parseNumericBlock(),l=p.isFinished()),!(g!==this.current.getPosition())&&!l)break}while(!l);return p.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let l=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFirstDigitFNC1()){let p;return l.isSecondDigitFNC1()?p=new Nn(this.current.getPosition(),this.buffer.toString()):p=new Nn(this.current.getPosition(),this.buffer.toString(),l.getSecondDigit()),new Ti(!0,p)}if(this.buffer.append(l.getFirstDigit()),l.isSecondDigitFNC1()){let p=new Nn(this.current.getPosition(),this.buffer.toString());return new Ti(!0,p)}this.buffer.append(l.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ti(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let l=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let p=new Nn(this.current.getPosition(),this.buffer.toString());return new Ti(!0,p)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ti(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let l=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let p=new Nn(this.current.getPosition(),this.buffer.toString());return new Ti(!0,p)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ti(!1)}isStillIsoIec646(l){if(l+5>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(l,5);if(p>=5&&p<16)return!0;if(l+7>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(l,7);if(g>=64&&g<116)return!0;if(l+8>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(l,8);return y>=232&&y<253}decodeIsoIec646(l){let p=this.extractNumericValueFromBitArray(l,5);if(p===15)return new zr(l+5,zr.FNC1);if(p>=5&&p<15)return new zr(l+5,"0"+(p-5));let g=this.extractNumericValueFromBitArray(l,7);if(g>=64&&g<90)return new zr(l+7,""+(g+1));if(g>=90&&g<116)return new zr(l+7,""+(g+7));let y=this.extractNumericValueFromBitArray(l,8),w;switch(y){case 232:w="!";break;case 233:w='"';break;case 234:w="%";break;case 235:w="&";break;case 236:w="'";break;case 237:w="(";break;case 238:w=")";break;case 239:w="*";break;case 240:w="+";break;case 241:w=",";break;case 242:w="-";break;case 243:w=".";break;case 244:w="/";break;case 245:w=":";break;case 246:w=";";break;case 247:w="<";break;case 248:w="=";break;case 249:w=">";break;case 250:w="?";break;case 251:w="_";break;case 252:w=" ";break;default:throw new V}return new zr(l+8,w)}isStillAlpha(l){if(l+5>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(l,5);if(p>=5&&p<16)return!0;if(l+6>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(l,6);return g>=16&&g<63}decodeAlphanumeric(l){let p=this.extractNumericValueFromBitArray(l,5);if(p===15)return new zr(l+5,zr.FNC1);if(p>=5&&p<15)return new zr(l+5,"0"+(p-5));let g=this.extractNumericValueFromBitArray(l,6);if(g>=32&&g<58)return new zr(l+6,""+(g+33));let y;switch(g){case 58:y="*";break;case 59:y=",";break;case 60:y="-";break;case 61:y=".";break;case 62:y="/";break;default:throw new ve("Decoding invalid alphanumeric value: "+g)}return new zr(l+6,y)}isAlphaTo646ToAlphaLatch(l){if(l+1>this.information.getSize())return!1;for(let p=0;p<5&&p+l<this.information.getSize();++p)if(p===2){if(!this.information.get(l+2))return!1}else if(this.information.get(l+p))return!1;return!0}isAlphaOr646ToNumericLatch(l){if(l+3>this.information.getSize())return!1;for(let p=l;p<l+3;++p)if(this.information.get(p))return!1;return!0}isNumericToAlphaNumericLatch(l){if(l+1>this.information.getSize())return!1;for(let p=0;p<4&&p+l<this.information.getSize();++p)if(this.information.get(l+p))return!1;return!0}}class pn{constructor(l){this.information=l,this.generalDecoder=new xi(l)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Hr extends pn{constructor(l){super(l)}encodeCompressedGtin(l,p){l.append("(01)");let g=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,p,g)}encodeCompressedGtinWithoutAI(l,p,g){for(let y=0;y<4;++y){let w=this.getGeneralDecoder().extractNumericValueFromBitArray(p+10*y,10);w/100===0&&l.append("0"),w/10===0&&l.append("0"),l.append(w)}Hr.appendCheckDigit(l,g)}static appendCheckDigit(l,p){let g=0;for(let y=0;y<13;y++){let w=l.charAt(y+p).charCodeAt(0)-48;g+=(y&1)===0?3*w:w}g=10-g%10,g===10&&(g=0),l.append(g)}}Hr.GTIN_SIZE=40;class fi extends Hr{constructor(l){super(l)}parseInformation(){let l=new le;l.append("(01)");let p=l.length(),g=this.getGeneralDecoder().extractNumericValueFromBitArray(fi.HEADER_SIZE,4);return l.append(g),this.encodeCompressedGtinWithoutAI(l,fi.HEADER_SIZE+4,p),this.getGeneralDecoder().decodeAllCodes(l,fi.HEADER_SIZE+44)}}fi.HEADER_SIZE=4;class da extends pn{constructor(l){super(l)}parseInformation(){let l=new le;return this.getGeneralDecoder().decodeAllCodes(l,da.HEADER_SIZE)}}da.HEADER_SIZE=5;class Sa extends Hr{constructor(l){super(l)}encodeCompressedWeight(l,p,g){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(p,g);this.addWeightCode(l,y);let w=this.checkWeight(y),A=1e5;for(let O=0;O<5;++O)w/A===0&&l.append("0"),A/=10;l.append(w)}}class ha extends Sa{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=ha.HEADER_SIZE+Sa.GTIN_SIZE+ha.WEIGHT_SIZE)throw new ie;let l=new le;return this.encodeCompressedGtin(l,ha.HEADER_SIZE),this.encodeCompressedWeight(l,ha.HEADER_SIZE+Sa.GTIN_SIZE,ha.WEIGHT_SIZE),l.toString()}}ha.HEADER_SIZE=5,ha.WEIGHT_SIZE=15;class zs extends ha{constructor(l){super(l)}addWeightCode(l,p){l.append("(3103)")}checkWeight(l){return l}}class qs extends ha{constructor(l){super(l)}addWeightCode(l,p){p<1e4?l.append("(3202)"):l.append("(3203)")}checkWeight(l){return l<1e4?l:l-1e4}}class ta extends Hr{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<ta.HEADER_SIZE+Hr.GTIN_SIZE)throw new ie;let l=new le;this.encodeCompressedGtin(l,ta.HEADER_SIZE);let p=this.getGeneralDecoder().extractNumericValueFromBitArray(ta.HEADER_SIZE+Hr.GTIN_SIZE,ta.LAST_DIGIT_SIZE);l.append("(392"),l.append(p),l.append(")");let g=this.getGeneralDecoder().decodeGeneralPurposeField(ta.HEADER_SIZE+Hr.GTIN_SIZE+ta.LAST_DIGIT_SIZE,null);return l.append(g.getNewString()),l.toString()}}ta.HEADER_SIZE=8,ta.LAST_DIGIT_SIZE=2;class kn extends Hr{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<kn.HEADER_SIZE+Hr.GTIN_SIZE)throw new ie;let l=new le;this.encodeCompressedGtin(l,kn.HEADER_SIZE);let p=this.getGeneralDecoder().extractNumericValueFromBitArray(kn.HEADER_SIZE+Hr.GTIN_SIZE,kn.LAST_DIGIT_SIZE);l.append("(393"),l.append(p),l.append(")");let g=this.getGeneralDecoder().extractNumericValueFromBitArray(kn.HEADER_SIZE+Hr.GTIN_SIZE+kn.LAST_DIGIT_SIZE,kn.FIRST_THREE_DIGITS_SIZE);g/100==0&&l.append("0"),g/10==0&&l.append("0"),l.append(g);let y=this.getGeneralDecoder().decodeGeneralPurposeField(kn.HEADER_SIZE+Hr.GTIN_SIZE+kn.LAST_DIGIT_SIZE+kn.FIRST_THREE_DIGITS_SIZE,null);return l.append(y.getNewString()),l.toString()}}kn.HEADER_SIZE=8,kn.LAST_DIGIT_SIZE=2,kn.FIRST_THREE_DIGITS_SIZE=10;class Xr extends Sa{constructor(l,p,g){super(l),this.dateCode=g,this.firstAIdigits=p}parseInformation(){if(this.getInformation().getSize()!=Xr.HEADER_SIZE+Xr.GTIN_SIZE+Xr.WEIGHT_SIZE+Xr.DATE_SIZE)throw new ie;let l=new le;return this.encodeCompressedGtin(l,Xr.HEADER_SIZE),this.encodeCompressedWeight(l,Xr.HEADER_SIZE+Xr.GTIN_SIZE,Xr.WEIGHT_SIZE),this.encodeCompressedDate(l,Xr.HEADER_SIZE+Xr.GTIN_SIZE+Xr.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,p){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(p,Xr.DATE_SIZE);if(g==38400)return;l.append("("),l.append(this.dateCode),l.append(")");let y=g%32;g/=32;let w=g%12+1;g/=12;let A=g;A/10==0&&l.append("0"),l.append(A),w/10==0&&l.append("0"),l.append(w),y/10==0&&l.append("0"),l.append(y)}addWeightCode(l,p){l.append("("),l.append(this.firstAIdigits),l.append(p/1e5),l.append(")")}checkWeight(l){return l%1e5}}Xr.HEADER_SIZE=8,Xr.WEIGHT_SIZE=20,Xr.DATE_SIZE=16;function il(ee){try{if(ee.get(1))return new fi(ee);if(!ee.get(2))return new da(ee);switch(xi.extractNumericValueFromBitArray(ee,1,4)){case 4:return new zs(ee);case 5:return new qs(ee)}switch(xi.extractNumericValueFromBitArray(ee,1,5)){case 12:return new ta(ee);case 13:return new kn(ee)}switch(xi.extractNumericValueFromBitArray(ee,1,7)){case 56:return new Xr(ee,"310","11");case 57:return new Xr(ee,"320","11");case 58:return new Xr(ee,"310","13");case 59:return new Xr(ee,"320","13");case 60:return new Xr(ee,"310","15");case 61:return new Xr(ee,"320","15");case 62:return new Xr(ee,"310","17");case 63:return new Xr(ee,"320","17")}}catch(l){throw console.log(l),new ve("unknown decoder: "+ee)}}class ra{constructor(l,p,g,y){this.leftchar=l,this.rightchar=p,this.finderpattern=g,this.maybeLast=y}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(l,p){return l instanceof ra?ra.equalsOrNull(l.leftchar,p.leftchar)&&ra.equalsOrNull(l.rightchar,p.rightchar)&&ra.equalsOrNull(l.finderpattern,p.finderpattern):!1}static equalsOrNull(l,p){return l===null?p===null:ra.equals(l,p)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Yn{constructor(l,p,g){this.pairs=l,this.rowNumber=p,this.wasReversed=g}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(l){return this.checkEqualitity(this,l)}toString(){return"{ "+this.pairs+" }"}equals(l,p){return l instanceof Yn?this.checkEqualitity(l,p)&&l.wasReversed===p.wasReversed:!1}checkEqualitity(l,p){if(!l||!p)return;let g;return l.forEach((y,w)=>{p.forEach(A=>{y.getLeftChar().getValue()===A.getLeftChar().getValue()&&y.getRightChar().getValue()===A.getRightChar().getValue()&&y.getFinderPatter().getValue()===A.getFinderPatter().getValue()&&(g=!0)})}),g}}class mt extends In{constructor(l){super(...arguments),this.pairs=new Array(mt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=l===!0}decodeRow(l,p,g){this.pairs.length=0,this.startFromEven=!1;try{return mt.constructResult(this.decodeRow2pairs(l,p))}catch(y){this.verbose&&console.log(y)}return this.pairs.length=0,this.startFromEven=!0,mt.constructResult(this.decodeRow2pairs(l,p))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(l,p){let g=!1;for(;!g;)try{this.pairs.push(this.retrieveNextPair(p,this.pairs,l))}catch(w){if(w instanceof ie){if(!this.pairs.length)throw new ie;g=!0}}if(this.checkChecksum())return this.pairs;let y;if(this.rows.length?y=!0:y=!1,this.storeRow(l,!1),y){let w=this.checkRowsBoolean(!1);if(w!=null||(w=this.checkRowsBoolean(!0),w!=null))return w}throw new ie}checkRowsBoolean(l){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,l&&(this.rows=this.rows.reverse());let p=null;try{p=this.checkRows(new Array,0)}catch(g){this.verbose&&console.log(g)}return l&&(this.rows=this.rows.reverse()),p}checkRows(l,p){for(let g=p;g<this.rows.length;g++){let y=this.rows[g];this.pairs.length=0;for(let A of l)this.pairs.push(A.getPairs());if(this.pairs.push(y.getPairs()),!mt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let w=new Array(l);w.push(y);try{return this.checkRows(w,g+1)}catch(A){this.verbose&&console.log(A)}}throw new ie}static isValidSequence(l){for(let p of mt.FINDER_PATTERN_SEQUENCES){if(l.length>p.length)continue;let g=!0;for(let y=0;y<l.length;y++)if(l[y].getFinderPattern().getValue()!=p[y]){g=!1;break}if(g)return!0}return!1}storeRow(l,p){let g=0,y=!1,w=!1;for(;g<this.rows.length;){let A=this.rows[g];if(A.getRowNumber()>l){w=A.isEquivalent(this.pairs);break}y=A.isEquivalent(this.pairs),g++}w||y||mt.isPartialRow(this.pairs,this.rows)||(this.rows.push(g,new Yn(this.pairs,l,p)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(l,p){for(let g of p)if(g.getPairs().length!==l.length){for(let y of g.getPairs())for(let w of l)if(ra.equals(y,w))break}}static isPartialRow(l,p){for(let g of p){let y=!0;for(let w of l){let A=!1;for(let O of g.getPairs())if(w.equals(O)){A=!0;break}if(!A){y=!1;break}}if(y)return!0}return!1}getRows(){return this.rows}static constructResult(l){let p=io.buildBitArray(l),y=il(p).parseInformation(),w=l[0].getFinderPattern().getResultPoints(),A=l[l.length-1].getFinderPattern().getResultPoints(),O=[w[0],w[1],A[0],A[1]];return new me(y,null,null,O,xe.RSS_EXPANDED,null)}checkChecksum(){let l=this.pairs.get(0),p=l.getLeftChar(),g=l.getRightChar();if(g==null)return!1;let y=g.getChecksumPortion(),w=2;for(let O=1;O<this.pairs.size();++O){let j=this.pairs.get(O);y+=j.getLeftChar().getChecksumPortion(),w++;let L=j.getRightChar();L!=null&&(y+=L.getChecksumPortion(),w++)}return y%=211,211*(w-4)+y==p.getValue()}static getNextSecondBar(l,p){let g;return l.get(p)?(g=l.getNextUnset(p),g=l.getNextSet(g)):(g=l.getNextSet(p),g=l.getNextUnset(g)),g}retrieveNextPair(l,p,g){let y=p.length%2==0;this.startFromEven&&(y=!y);let w,A=!0,O=-1;do this.findNextPair(l,p,O),w=this.parseFoundFinderPattern(l,g,y),w==null?O=mt.getNextSecondBar(l,this.startEnd[0]):A=!1;while(A);let j=this.decodeDataCharacter(l,w,y,!0);if(!this.isEmptyPair(p)&&p[p.length-1].mustBeLast())throw new ie;let L;try{L=this.decodeDataCharacter(l,w,y,!1)}catch(W){L=null,this.verbose&&console.log(W)}return new ra(j,L,w,!0)}isEmptyPair(l){return l.length===0}findNextPair(l,p,g){let y=this.getDecodeFinderCounters();y[0]=0,y[1]=0,y[2]=0,y[3]=0;let w=l.getSize(),A;g>=0?A=g:this.isEmptyPair(p)?A=0:A=p[p.length-1].getFinderPattern().getStartEnd()[1];let O=p.length%2!=0;this.startFromEven&&(O=!O);let j=!1;for(;A<w&&(j=!l.get(A),!!j);)A++;let L=0,W=A;for(let te=A;te<w;te++)if(l.get(te)!=j)y[L]++;else{if(L==3){if(O&&mt.reverseCounters(y),mt.isFinderPattern(y)){this.startEnd[0]=W,this.startEnd[1]=te;return}O&&mt.reverseCounters(y),W+=y[0]+y[1],y[0]=y[2],y[1]=y[3],y[2]=0,y[3]=0,L--}else L++;y[L]=1,j=!j}throw new ie}static reverseCounters(l){let p=l.length;for(let g=0;g<p/2;++g){let y=l[g];l[g]=l[p-g-1],l[p-g-1]=y}}parseFoundFinderPattern(l,p,g){let y,w,A;if(g){let L=this.startEnd[0]-1;for(;L>=0&&!l.get(L);)L--;L++,y=this.startEnd[0]-L,w=L,A=this.startEnd[1]}else w=this.startEnd[0],A=l.getNextUnset(this.startEnd[1]+1),y=A-this.startEnd[1];let O=this.getDecodeFinderCounters();C.arraycopy(O,0,O,1,O.length-1),O[0]=y;let j;try{j=this.parseFinderValue(O,mt.FINDER_PATTERNS)}catch{return null}return new Zt(j,[w,A],w,A,p)}decodeDataCharacter(l,p,g,y){let w=this.getDataCharacterCounters();for(let mn=0;mn<w.length;mn++)w[mn]=0;if(y)mt.recordPatternInReverse(l,p.getStartEnd()[0],w);else{mt.recordPattern(l,p.getStartEnd()[1],w);for(let mn=0,Fi=w.length-1;mn<Fi;mn++,Fi--){let Ka=w[mn];w[mn]=w[Fi],w[Fi]=Ka}}let A=17,O=rt.sum(new Int32Array(w))/A,j=(p.getStartEnd()[1]-p.getStartEnd()[0])/15;if(Math.abs(O-j)/j>.3)throw new ie;let L=this.getOddCounts(),W=this.getEvenCounts(),te=this.getOddRoundingErrors(),oe=this.getEvenRoundingErrors();for(let mn=0;mn<w.length;mn++){let Fi=1*w[mn]/O,Ka=Fi+.5;if(Ka<1){if(Fi<.3)throw new ie;Ka=1}else if(Ka>8){if(Fi>8.7)throw new ie;Ka=8}let Ml=mn/2;(mn&1)==0?(L[Ml]=Ka,te[Ml]=Fi-Ka):(W[Ml]=Ka,oe[Ml]=Fi-Ka)}this.adjustOddEvenCounts(A);let _e=4*p.getValue()+(g?0:2)+(y?0:1)-1,Oe=0,je=0;for(let mn=L.length-1;mn>=0;mn--){if(mt.isNotA1left(p,g,y)){let Fi=mt.WEIGHTS[_e][2*mn];je+=L[mn]*Fi}Oe+=L[mn]}let Be=0;for(let mn=W.length-1;mn>=0;mn--)if(mt.isNotA1left(p,g,y)){let Fi=mt.WEIGHTS[_e][2*mn+1];Be+=W[mn]*Fi}let Ze=je+Be;if((Oe&1)!=0||Oe>13||Oe<4)throw new ie;let ct=(13-Oe)/2,ut=mt.SYMBOL_WIDEST[ct],ot=9-ut,nr=Di.getRSSvalue(L,ut,!0),pr=Di.getRSSvalue(W,ot,!1),qn=mt.EVEN_TOTAL_SUBSET[ct],sa=mt.GSUM[ct],Bi=nr*qn+pr+sa;return new ea(Bi,Ze)}static isNotA1left(l,p,g){return!(l.getValue()==0&&p&&g)}adjustOddEvenCounts(l){let p=rt.sum(new Int32Array(this.getOddCounts())),g=rt.sum(new Int32Array(this.getEvenCounts())),y=!1,w=!1;p>13?w=!0:p<4&&(y=!0);let A=!1,O=!1;g>13?O=!0:g<4&&(A=!0);let j=p+g-l,L=(p&1)==1,W=(g&1)==0;if(j==1)if(L){if(W)throw new ie;w=!0}else{if(!W)throw new ie;O=!0}else if(j==-1)if(L){if(W)throw new ie;y=!0}else{if(!W)throw new ie;A=!0}else if(j==0){if(L){if(!W)throw new ie;p<g?(y=!0,O=!0):(w=!0,A=!0)}else if(W)throw new ie}else throw new ie;if(y){if(w)throw new ie;mt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&mt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),A){if(O)throw new ie;mt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}O&&mt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}mt.SYMBOL_WIDEST=[7,5,4,3,1],mt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],mt.GSUM=[0,348,1388,2948,3988],mt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],mt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],mt.FINDER_PAT_A=0,mt.FINDER_PAT_B=1,mt.FINDER_PAT_C=2,mt.FINDER_PAT_D=3,mt.FINDER_PAT_E=4,mt.FINDER_PAT_F=5,mt.FINDER_PATTERN_SEQUENCES=[[mt.FINDER_PAT_A,mt.FINDER_PAT_A],[mt.FINDER_PAT_A,mt.FINDER_PAT_B,mt.FINDER_PAT_B],[mt.FINDER_PAT_A,mt.FINDER_PAT_C,mt.FINDER_PAT_B,mt.FINDER_PAT_D],[mt.FINDER_PAT_A,mt.FINDER_PAT_E,mt.FINDER_PAT_B,mt.FINDER_PAT_D,mt.FINDER_PAT_C],[mt.FINDER_PAT_A,mt.FINDER_PAT_E,mt.FINDER_PAT_B,mt.FINDER_PAT_D,mt.FINDER_PAT_D,mt.FINDER_PAT_F],[mt.FINDER_PAT_A,mt.FINDER_PAT_E,mt.FINDER_PAT_B,mt.FINDER_PAT_D,mt.FINDER_PAT_E,mt.FINDER_PAT_F,mt.FINDER_PAT_F],[mt.FINDER_PAT_A,mt.FINDER_PAT_A,mt.FINDER_PAT_B,mt.FINDER_PAT_B,mt.FINDER_PAT_C,mt.FINDER_PAT_C,mt.FINDER_PAT_D,mt.FINDER_PAT_D],[mt.FINDER_PAT_A,mt.FINDER_PAT_A,mt.FINDER_PAT_B,mt.FINDER_PAT_B,mt.FINDER_PAT_C,mt.FINDER_PAT_C,mt.FINDER_PAT_D,mt.FINDER_PAT_E,mt.FINDER_PAT_E],[mt.FINDER_PAT_A,mt.FINDER_PAT_A,mt.FINDER_PAT_B,mt.FINDER_PAT_B,mt.FINDER_PAT_C,mt.FINDER_PAT_C,mt.FINDER_PAT_D,mt.FINDER_PAT_E,mt.FINDER_PAT_F,mt.FINDER_PAT_F],[mt.FINDER_PAT_A,mt.FINDER_PAT_A,mt.FINDER_PAT_B,mt.FINDER_PAT_B,mt.FINDER_PAT_C,mt.FINDER_PAT_D,mt.FINDER_PAT_D,mt.FINDER_PAT_E,mt.FINDER_PAT_E,mt.FINDER_PAT_F,mt.FINDER_PAT_F]],mt.MAX_PAIRS=11;class fs extends ea{constructor(l,p,g){super(l,p),this.count=0,this.finderPattern=g}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class rn extends In{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(l,p,g){const y=this.decodePair(p,!1,l,g);rn.addOrTally(this.possibleLeftPairs,y),p.reverse();let w=this.decodePair(p,!0,l,g);rn.addOrTally(this.possibleRightPairs,w),p.reverse();for(let A of this.possibleLeftPairs)if(A.getCount()>1){for(let O of this.possibleRightPairs)if(O.getCount()>1&&rn.checkChecksum(A,O))return rn.constructResult(A,O)}throw new ie}static addOrTally(l,p){if(p==null)return;let g=!1;for(let y of l)if(y.getValue()===p.getValue()){y.incrementCount(),g=!0;break}g||l.push(p)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(l,p){let g=4537077*l.getValue()+p.getValue(),y=new String(g).toString(),w=new le;for(let L=13-y.length;L>0;L--)w.append("0");w.append(y);let A=0;for(let L=0;L<13;L++){let W=w.charAt(L).charCodeAt(0)-48;A+=(L&1)===0?3*W:W}A=10-A%10,A===10&&(A=0),w.append(A.toString());let O=l.getFinderPattern().getResultPoints(),j=p.getFinderPattern().getResultPoints();return new me(w.toString(),null,0,[O[0],O[1],j[0],j[1]],xe.RSS_14,new Date().getTime())}static checkChecksum(l,p){let g=(l.getChecksumPortion()+16*p.getChecksumPortion())%79,y=9*l.getFinderPattern().getValue()+p.getFinderPattern().getValue();return y>72&&y--,y>8&&y--,g===y}decodePair(l,p,g,y){try{let w=this.findFinderPattern(l,p),A=this.parseFoundFinderPattern(l,g,p,w),O=y==null?null:y.get(Z.NEED_RESULT_POINT_CALLBACK);if(O!=null){let W=(w[0]+w[1])/2;p&&(W=l.getSize()-1-W),O.foundPossibleResultPoint(new at(W,g))}let j=this.decodeDataCharacter(l,A,!0),L=this.decodeDataCharacter(l,A,!1);return new fs(1597*j.getValue()+L.getValue(),j.getChecksumPortion()+4*L.getChecksumPortion(),A)}catch{return null}}decodeDataCharacter(l,p,g){let y=this.getDataCharacterCounters();for(let Be=0;Be<y.length;Be++)y[Be]=0;if(g)tr.recordPatternInReverse(l,p.getStartEnd()[0],y);else{tr.recordPattern(l,p.getStartEnd()[1]+1,y);for(let Be=0,Ze=y.length-1;Be<Ze;Be++,Ze--){let ct=y[Be];y[Be]=y[Ze],y[Ze]=ct}}let w=g?16:15,A=rt.sum(new Int32Array(y))/w,O=this.getOddCounts(),j=this.getEvenCounts(),L=this.getOddRoundingErrors(),W=this.getEvenRoundingErrors();for(let Be=0;Be<y.length;Be++){let Ze=y[Be]/A,ct=Math.floor(Ze+.5);ct<1?ct=1:ct>8&&(ct=8);let ut=Math.floor(Be/2);(Be&1)===0?(O[ut]=ct,L[ut]=Ze-ct):(j[ut]=ct,W[ut]=Ze-ct)}this.adjustOddEvenCounts(g,w);let te=0,oe=0;for(let Be=O.length-1;Be>=0;Be--)oe*=9,oe+=O[Be],te+=O[Be];let _e=0,Oe=0;for(let Be=j.length-1;Be>=0;Be--)_e*=9,_e+=j[Be],Oe+=j[Be];let je=oe+3*_e;if(g){if((te&1)!==0||te>12||te<4)throw new ie;let Be=(12-te)/2,Ze=rn.OUTSIDE_ODD_WIDEST[Be],ct=9-Ze,ut=Di.getRSSvalue(O,Ze,!1),ot=Di.getRSSvalue(j,ct,!0),nr=rn.OUTSIDE_EVEN_TOTAL_SUBSET[Be],pr=rn.OUTSIDE_GSUM[Be];return new ea(ut*nr+ot+pr,je)}else{if((Oe&1)!==0||Oe>10||Oe<4)throw new ie;let Be=(10-Oe)/2,Ze=rn.INSIDE_ODD_WIDEST[Be],ct=9-Ze,ut=Di.getRSSvalue(O,Ze,!0),ot=Di.getRSSvalue(j,ct,!1),nr=rn.INSIDE_ODD_TOTAL_SUBSET[Be],pr=rn.INSIDE_GSUM[Be];return new ea(ot*nr+ut+pr,je)}}findFinderPattern(l,p){let g=this.getDecodeFinderCounters();g[0]=0,g[1]=0,g[2]=0,g[3]=0;let y=l.getSize(),w=!1,A=0;for(;A<y&&(w=!l.get(A),p!==w);)A++;let O=0,j=A;for(let L=A;L<y;L++)if(l.get(L)!==w)g[O]++;else{if(O===3){if(In.isFinderPattern(g))return[j,L];j+=g[0]+g[1],g[0]=g[2],g[1]=g[3],g[2]=0,g[3]=0,O--}else O++;g[O]=1,w=!w}throw new ie}parseFoundFinderPattern(l,p,g,y){let w=l.get(y[0]),A=y[0]-1;for(;A>=0&&w!==l.get(A);)A--;A++;const O=y[0]-A,j=this.getDecodeFinderCounters(),L=new Int32Array(j.length);C.arraycopy(j,0,L,1,j.length-1),L[0]=O;const W=this.parseFinderValue(L,rn.FINDER_PATTERNS);let te=A,oe=y[1];return g&&(te=l.getSize()-1-te,oe=l.getSize()-1-oe),new Zt(W,[A,y[1]],te,oe,p)}adjustOddEvenCounts(l,p){let g=rt.sum(new Int32Array(this.getOddCounts())),y=rt.sum(new Int32Array(this.getEvenCounts())),w=!1,A=!1,O=!1,j=!1;l?(g>12?A=!0:g<4&&(w=!0),y>12?j=!0:y<4&&(O=!0)):(g>11?A=!0:g<5&&(w=!0),y>10?j=!0:y<4&&(O=!0));let L=g+y-p,W=(g&1)===(l?1:0),te=(y&1)===1;if(L===1)if(W){if(te)throw new ie;A=!0}else{if(!te)throw new ie;j=!0}else if(L===-1)if(W){if(te)throw new ie;w=!0}else{if(!te)throw new ie;O=!0}else if(L===0){if(W){if(!te)throw new ie;g<y?(w=!0,j=!0):(A=!0,O=!0)}else if(te)throw new ie}else throw new ie;if(w){if(A)throw new ie;In.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(A&&In.decrement(this.getOddCounts(),this.getOddRoundingErrors()),O){if(j)throw new ie;In.increment(this.getEvenCounts(),this.getOddRoundingErrors())}j&&In.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}rn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],rn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],rn.OUTSIDE_GSUM=[0,161,961,2015,2715],rn.INSIDE_GSUM=[0,336,1036,1516],rn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],rn.INSIDE_ODD_WIDEST=[2,4,6,8],rn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ha extends tr{constructor(l,p){super(),this.readers=[],this.verbose=p===!0;const g=l?l.get(Z.POSSIBLE_FORMATS):null,y=l&&l.get(Z.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;g?((g.includes(xe.EAN_13)||g.includes(xe.UPC_A)||g.includes(xe.EAN_8)||g.includes(xe.UPC_E))&&this.readers.push(new Pi(l)),g.includes(xe.CODE_39)&&this.readers.push(new Rt(y)),g.includes(xe.CODE_128)&&this.readers.push(new nt),g.includes(xe.ITF)&&this.readers.push(new Bt),g.includes(xe.RSS_14)&&this.readers.push(new rn),g.includes(xe.RSS_EXPANDED)&&this.readers.push(new mt(this.verbose))):(this.readers.push(new Pi(l)),this.readers.push(new Rt),this.readers.push(new Pi(l)),this.readers.push(new nt),this.readers.push(new Bt),this.readers.push(new rn),this.readers.push(new mt(this.verbose)))}decodeRow(l,p,g){for(let y=0;y<this.readers.length;y++)try{return this.readers[y].decodeRow(l,p,g)}catch{}throw new ie}reset(){this.readers.forEach(l=>l.reset())}}class Wc extends de{constructor(l=500,p){super(new Ha(p),l,p)}}class Kr{constructor(l,p,g){this.ecCodewords=l,this.ecBlocks=[p],g&&this.ecBlocks.push(g)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class $r{constructor(l,p){this.count=l,this.dataCodewords=p}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Fr{constructor(l,p,g,y,w,A){this.versionNumber=l,this.symbolSizeRows=p,this.symbolSizeColumns=g,this.dataRegionSizeRows=y,this.dataRegionSizeColumns=w,this.ecBlocks=A;let O=0;const j=A.getECCodewords(),L=A.getECBlocks();for(let W of L)O+=W.getCount()*(W.getDataCodewords()+j);this.totalCodewords=O}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(l,p){if((l&1)!==0||(p&1)!==0)throw new V;for(let g of Fr.VERSIONS)if(g.symbolSizeRows===l&&g.symbolSizeColumns===p)return g;throw new V}toString(){return""+this.versionNumber}static buildVersions(){return[new Fr(1,10,10,8,8,new Kr(5,new $r(1,3))),new Fr(2,12,12,10,10,new Kr(7,new $r(1,5))),new Fr(3,14,14,12,12,new Kr(10,new $r(1,8))),new Fr(4,16,16,14,14,new Kr(12,new $r(1,12))),new Fr(5,18,18,16,16,new Kr(14,new $r(1,18))),new Fr(6,20,20,18,18,new Kr(18,new $r(1,22))),new Fr(7,22,22,20,20,new Kr(20,new $r(1,30))),new Fr(8,24,24,22,22,new Kr(24,new $r(1,36))),new Fr(9,26,26,24,24,new Kr(28,new $r(1,44))),new Fr(10,32,32,14,14,new Kr(36,new $r(1,62))),new Fr(11,36,36,16,16,new Kr(42,new $r(1,86))),new Fr(12,40,40,18,18,new Kr(48,new $r(1,114))),new Fr(13,44,44,20,20,new Kr(56,new $r(1,144))),new Fr(14,48,48,22,22,new Kr(68,new $r(1,174))),new Fr(15,52,52,24,24,new Kr(42,new $r(2,102))),new Fr(16,64,64,14,14,new Kr(56,new $r(2,140))),new Fr(17,72,72,16,16,new Kr(36,new $r(4,92))),new Fr(18,80,80,18,18,new Kr(48,new $r(4,114))),new Fr(19,88,88,20,20,new Kr(56,new $r(4,144))),new Fr(20,96,96,22,22,new Kr(68,new $r(4,174))),new Fr(21,104,104,24,24,new Kr(56,new $r(6,136))),new Fr(22,120,120,18,18,new Kr(68,new $r(6,175))),new Fr(23,132,132,20,20,new Kr(62,new $r(8,163))),new Fr(24,144,144,22,22,new Kr(62,new $r(8,156),new $r(2,155))),new Fr(25,8,18,6,16,new Kr(7,new $r(1,5))),new Fr(26,8,32,6,14,new Kr(11,new $r(1,10))),new Fr(27,12,26,10,24,new Kr(14,new $r(1,16))),new Fr(28,12,36,10,16,new Kr(18,new $r(1,22))),new Fr(29,16,36,14,16,new Kr(24,new $r(1,32))),new Fr(30,16,48,14,22,new Kr(28,new $r(1,49)))]}}Fr.VERSIONS=Fr.buildVersions();class Ea{constructor(l){const p=l.getHeight();if(p<8||p>144||(p&1)!==0)throw new V;this.version=Ea.readVersion(l),this.mappingBitMatrix=this.extractDataRegion(l),this.readMappingMatrix=new J(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(l){const p=l.getHeight(),g=l.getWidth();return Fr.getVersionForDimensions(p,g)}readCodewords(){const l=new Int8Array(this.version.getTotalCodewords());let p=0,g=4,y=0;const w=this.mappingBitMatrix.getHeight(),A=this.mappingBitMatrix.getWidth();let O=!1,j=!1,L=!1,W=!1;do if(g===w&&y===0&&!O)l[p++]=this.readCorner1(w,A)&255,g-=2,y+=2,O=!0;else if(g===w-2&&y===0&&(A&3)!==0&&!j)l[p++]=this.readCorner2(w,A)&255,g-=2,y+=2,j=!0;else if(g===w+4&&y===2&&(A&7)===0&&!L)l[p++]=this.readCorner3(w,A)&255,g-=2,y+=2,L=!0;else if(g===w-2&&y===0&&(A&7)===4&&!W)l[p++]=this.readCorner4(w,A)&255,g-=2,y+=2,W=!0;else{do g<w&&y>=0&&!this.readMappingMatrix.get(y,g)&&(l[p++]=this.readUtah(g,y,w,A)&255),g-=2,y+=2;while(g>=0&&y<A);g+=1,y+=3;do g>=0&&y<A&&!this.readMappingMatrix.get(y,g)&&(l[p++]=this.readUtah(g,y,w,A)&255),g+=2,y-=2;while(g<w&&y>=0);g+=3,y+=1}while(g<w||y<A);if(p!==this.version.getTotalCodewords())throw new V;return l}readModule(l,p,g,y){return l<0&&(l+=g,p+=4-(g+4&7)),p<0&&(p+=y,l+=4-(y+4&7)),this.readMappingMatrix.set(p,l),this.mappingBitMatrix.get(p,l)}readUtah(l,p,g,y){let w=0;return this.readModule(l-2,p-2,g,y)&&(w|=1),w<<=1,this.readModule(l-2,p-1,g,y)&&(w|=1),w<<=1,this.readModule(l-1,p-2,g,y)&&(w|=1),w<<=1,this.readModule(l-1,p-1,g,y)&&(w|=1),w<<=1,this.readModule(l-1,p,g,y)&&(w|=1),w<<=1,this.readModule(l,p-2,g,y)&&(w|=1),w<<=1,this.readModule(l,p-1,g,y)&&(w|=1),w<<=1,this.readModule(l,p,g,y)&&(w|=1),w}readCorner1(l,p){let g=0;return this.readModule(l-1,0,l,p)&&(g|=1),g<<=1,this.readModule(l-1,1,l,p)&&(g|=1),g<<=1,this.readModule(l-1,2,l,p)&&(g|=1),g<<=1,this.readModule(0,p-2,l,p)&&(g|=1),g<<=1,this.readModule(0,p-1,l,p)&&(g|=1),g<<=1,this.readModule(1,p-1,l,p)&&(g|=1),g<<=1,this.readModule(2,p-1,l,p)&&(g|=1),g<<=1,this.readModule(3,p-1,l,p)&&(g|=1),g}readCorner2(l,p){let g=0;return this.readModule(l-3,0,l,p)&&(g|=1),g<<=1,this.readModule(l-2,0,l,p)&&(g|=1),g<<=1,this.readModule(l-1,0,l,p)&&(g|=1),g<<=1,this.readModule(0,p-4,l,p)&&(g|=1),g<<=1,this.readModule(0,p-3,l,p)&&(g|=1),g<<=1,this.readModule(0,p-2,l,p)&&(g|=1),g<<=1,this.readModule(0,p-1,l,p)&&(g|=1),g<<=1,this.readModule(1,p-1,l,p)&&(g|=1),g}readCorner3(l,p){let g=0;return this.readModule(l-1,0,l,p)&&(g|=1),g<<=1,this.readModule(l-1,p-1,l,p)&&(g|=1),g<<=1,this.readModule(0,p-3,l,p)&&(g|=1),g<<=1,this.readModule(0,p-2,l,p)&&(g|=1),g<<=1,this.readModule(0,p-1,l,p)&&(g|=1),g<<=1,this.readModule(1,p-3,l,p)&&(g|=1),g<<=1,this.readModule(1,p-2,l,p)&&(g|=1),g<<=1,this.readModule(1,p-1,l,p)&&(g|=1),g}readCorner4(l,p){let g=0;return this.readModule(l-3,0,l,p)&&(g|=1),g<<=1,this.readModule(l-2,0,l,p)&&(g|=1),g<<=1,this.readModule(l-1,0,l,p)&&(g|=1),g<<=1,this.readModule(0,p-2,l,p)&&(g|=1),g<<=1,this.readModule(0,p-1,l,p)&&(g|=1),g<<=1,this.readModule(1,p-1,l,p)&&(g|=1),g<<=1,this.readModule(2,p-1,l,p)&&(g|=1),g<<=1,this.readModule(3,p-1,l,p)&&(g|=1),g}extractDataRegion(l){const p=this.version.getSymbolSizeRows(),g=this.version.getSymbolSizeColumns();if(l.getHeight()!==p)throw new m("Dimension of bitMatrix must match the version size");const y=this.version.getDataRegionSizeRows(),w=this.version.getDataRegionSizeColumns(),A=p/y|0,O=g/w|0,j=A*y,L=O*w,W=new J(L,j);for(let te=0;te<A;++te){const oe=te*y;for(let _e=0;_e<O;++_e){const Oe=_e*w;for(let je=0;je<y;++je){const Be=te*(y+2)+1+je,Ze=oe+je;for(let ct=0;ct<w;++ct){const ut=_e*(w+2)+1+ct;if(l.get(ut,Be)){const ot=Oe+ct;W.set(ot,Ze)}}}}}return W}}class Hs{constructor(l,p){this.numDataCodewords=l,this.codewords=p}static getDataBlocks(l,p){const g=p.getECBlocks();let y=0;const w=g.getECBlocks();for(let je of w)y+=je.getCount();const A=new Array(y);let O=0;for(let je of w)for(let Be=0;Be<je.getCount();Be++){const Ze=je.getDataCodewords(),ct=g.getECCodewords()+Ze;A[O++]=new Hs(Ze,new Uint8Array(ct))}const L=A[0].codewords.length-g.getECCodewords(),W=L-1;let te=0;for(let je=0;je<W;je++)for(let Be=0;Be<O;Be++)A[Be].codewords[je]=l[te++];const oe=p.getVersionNumber()===24,_e=oe?8:O;for(let je=0;je<_e;je++)A[je].codewords[L-1]=l[te++];const Oe=A[0].codewords.length;for(let je=L;je<Oe;je++)for(let Be=0;Be<O;Be++){const Ze=oe?(Be+8)%O:Be,ct=oe&&Ze>7?je-1:je;A[Ze].codewords[ct]=l[te++]}if(te!==l.length)throw new m;return A}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ds{constructor(l){this.bytes=l,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(l){if(l<1||l>32||l>this.available())throw new m(""+l);let p=0,g=this.bitOffset,y=this.byteOffset;const w=this.bytes;if(g>0){const A=8-g,O=l<A?l:A,j=A-O,L=255>>8-O<<j;p=(w[y]&L)>>j,l-=O,g+=O,g===8&&(g=0,y++)}if(l>0){for(;l>=8;)p=p<<8|w[y]&255,y++,l-=8;if(l>0){const A=8-l,O=255>>A<<A;p=p<<l|(w[y]&O)>>A,g+=l}}return this.bitOffset=g,this.byteOffset=y,p}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var br;(function(ee){ee[ee.PAD_ENCODE=0]="PAD_ENCODE",ee[ee.ASCII_ENCODE=1]="ASCII_ENCODE",ee[ee.C40_ENCODE=2]="C40_ENCODE",ee[ee.TEXT_ENCODE=3]="TEXT_ENCODE",ee[ee.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",ee[ee.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",ee[ee.BASE256_ENCODE=6]="BASE256_ENCODE"})(br||(br={}));class As{static decode(l){const p=new ds(l),g=new le,y=new le,w=new Array;let A=br.ASCII_ENCODE;do if(A===br.ASCII_ENCODE)A=this.decodeAsciiSegment(p,g,y);else{switch(A){case br.C40_ENCODE:this.decodeC40Segment(p,g);break;case br.TEXT_ENCODE:this.decodeTextSegment(p,g);break;case br.ANSIX12_ENCODE:this.decodeAnsiX12Segment(p,g);break;case br.EDIFACT_ENCODE:this.decodeEdifactSegment(p,g);break;case br.BASE256_ENCODE:this.decodeBase256Segment(p,g,w);break;default:throw new V}A=br.ASCII_ENCODE}while(A!==br.PAD_ENCODE&&p.available()>0);return y.length()>0&&g.append(y.toString()),new Ce(l,g.toString(),w.length===0?null:w,null)}static decodeAsciiSegment(l,p,g){let y=!1;do{let w=l.readBits(8);if(w===0)throw new V;if(w<=128)return y&&(w+=128),p.append(String.fromCharCode(w-1)),br.ASCII_ENCODE;if(w===129)return br.PAD_ENCODE;if(w<=229){const A=w-130;A<10&&p.append("0"),p.append(""+A)}else switch(w){case 230:return br.C40_ENCODE;case 231:return br.BASE256_ENCODE;case 232:p.append("");break;case 233:case 234:break;case 235:y=!0;break;case 236:p.append("[)>05"),g.insert(0,"");break;case 237:p.append("[)>06"),g.insert(0,"");break;case 238:return br.ANSIX12_ENCODE;case 239:return br.TEXT_ENCODE;case 240:return br.EDIFACT_ENCODE;case 241:break;default:if(w!==254||l.available()!==0)throw new V;break}}while(l.available()>0);return br.ASCII_ENCODE}static decodeC40Segment(l,p){let g=!1;const y=[];let w=0;do{if(l.available()===8)return;const A=l.readBits(8);if(A===254)return;this.parseTwoBytes(A,l.readBits(8),y);for(let O=0;O<3;O++){const j=y[O];switch(w){case 0:if(j<3)w=j+1;else if(j<this.C40_BASIC_SET_CHARS.length){const L=this.C40_BASIC_SET_CHARS[j];g?(p.append(String.fromCharCode(L.charCodeAt(0)+128)),g=!1):p.append(L)}else throw new V;break;case 1:g?(p.append(String.fromCharCode(j+128)),g=!1):p.append(String.fromCharCode(j)),w=0;break;case 2:if(j<this.C40_SHIFT2_SET_CHARS.length){const L=this.C40_SHIFT2_SET_CHARS[j];g?(p.append(String.fromCharCode(L.charCodeAt(0)+128)),g=!1):p.append(L)}else switch(j){case 27:p.append("");break;case 30:g=!0;break;default:throw new V}w=0;break;case 3:g?(p.append(String.fromCharCode(j+224)),g=!1):p.append(String.fromCharCode(j+96)),w=0;break;default:throw new V}}}while(l.available()>0)}static decodeTextSegment(l,p){let g=!1,y=[],w=0;do{if(l.available()===8)return;const A=l.readBits(8);if(A===254)return;this.parseTwoBytes(A,l.readBits(8),y);for(let O=0;O<3;O++){const j=y[O];switch(w){case 0:if(j<3)w=j+1;else if(j<this.TEXT_BASIC_SET_CHARS.length){const L=this.TEXT_BASIC_SET_CHARS[j];g?(p.append(String.fromCharCode(L.charCodeAt(0)+128)),g=!1):p.append(L)}else throw new V;break;case 1:g?(p.append(String.fromCharCode(j+128)),g=!1):p.append(String.fromCharCode(j)),w=0;break;case 2:if(j<this.TEXT_SHIFT2_SET_CHARS.length){const L=this.TEXT_SHIFT2_SET_CHARS[j];g?(p.append(String.fromCharCode(L.charCodeAt(0)+128)),g=!1):p.append(L)}else switch(j){case 27:p.append("");break;case 30:g=!0;break;default:throw new V}w=0;break;case 3:if(j<this.TEXT_SHIFT3_SET_CHARS.length){const L=this.TEXT_SHIFT3_SET_CHARS[j];g?(p.append(String.fromCharCode(L.charCodeAt(0)+128)),g=!1):p.append(L),w=0}else throw new V;break;default:throw new V}}}while(l.available()>0)}static decodeAnsiX12Segment(l,p){const g=[];do{if(l.available()===8)return;const y=l.readBits(8);if(y===254)return;this.parseTwoBytes(y,l.readBits(8),g);for(let w=0;w<3;w++){const A=g[w];switch(A){case 0:p.append("\r");break;case 1:p.append("*");break;case 2:p.append(">");break;case 3:p.append(" ");break;default:if(A<14)p.append(String.fromCharCode(A+44));else if(A<40)p.append(String.fromCharCode(A+51));else throw new V;break}}}while(l.available()>0)}static parseTwoBytes(l,p,g){let y=(l<<8)+p-1,w=Math.floor(y/1600);g[0]=w,y-=w*1600,w=Math.floor(y/40),g[1]=w,g[2]=y-w*40}static decodeEdifactSegment(l,p){do{if(l.available()<=16)return;for(let g=0;g<4;g++){let y=l.readBits(6);if(y===31){const w=8-l.getBitOffset();w!==8&&l.readBits(w);return}(y&32)===0&&(y|=64),p.append(String.fromCharCode(y))}}while(l.available()>0)}static decodeBase256Segment(l,p,g){let y=1+l.getByteOffset();const w=this.unrandomize255State(l.readBits(8),y++);let A;if(w===0?A=l.available()/8|0:w<250?A=w:A=250*(w-249)+this.unrandomize255State(l.readBits(8),y++),A<0)throw new V;const O=new Uint8Array(A);for(let j=0;j<A;j++){if(l.available()<8)throw new V;O[j]=this.unrandomize255State(l.readBits(8),y++)}g.push(O);try{p.append(G.decode(O,H.ISO88591))}catch(j){throw new ve("Platform does not support required encoding: "+j.message)}}static unrandomize255State(l,p){const g=149*p%255+1,y=l-g;return y>=0?y:y+256}}As.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],As.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],As.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],As.TEXT_SHIFT2_SET_CHARS=As.C40_SHIFT2_SET_CHARS,As.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ao{constructor(){this.rsDecoder=new wt(lt.DATA_MATRIX_FIELD_256)}decode(l){const p=new Ea(l),g=p.getVersion(),y=p.readCodewords(),w=Hs.getDataBlocks(y,g);let A=0;for(let L of w)A+=L.getNumDataCodewords();const O=new Uint8Array(A),j=w.length;for(let L=0;L<j;L++){const W=w[L],te=W.getCodewords(),oe=W.getNumDataCodewords();this.correctErrors(te,oe);for(let _e=0;_e<oe;_e++)O[_e*j+L]=te[_e]}return As.decode(O)}correctErrors(l,p){const g=new Int32Array(l);try{this.rsDecoder.decode(g,l.length-p)}catch{throw new x}for(let y=0;y<p;y++)l[y]=g[y]}}class yn{constructor(l){this.image=l,this.rectangleDetector=new vr(this.image)}detect(){const l=this.rectangleDetector.detect();let p=this.detectSolid1(l);if(p=this.detectSolid2(p),p[3]=this.correctTopRight(p),!p[3])throw new ie;p=this.shiftToModuleCenter(p);const g=p[0],y=p[1],w=p[2],A=p[3];let O=this.transitionsBetween(g,A)+1,j=this.transitionsBetween(w,A)+1;(O&1)===1&&(O+=1),(j&1)===1&&(j+=1),4*O<7*j&&4*j<7*O&&(O=j=Math.max(O,j));let L=yn.sampleGrid(this.image,g,y,w,A,O,j);return new ir(L,[g,y,w,A])}static shiftPoint(l,p,g){let y=(p.getX()-l.getX())/(g+1),w=(p.getY()-l.getY())/(g+1);return new at(l.getX()+y,l.getY()+w)}static moveAway(l,p,g){let y=l.getX(),w=l.getY();return y<p?y-=1:y+=1,w<g?w-=1:w+=1,new at(y,w)}detectSolid1(l){let p=l[0],g=l[1],y=l[3],w=l[2],A=this.transitionsBetween(p,g),O=this.transitionsBetween(g,y),j=this.transitionsBetween(y,w),L=this.transitionsBetween(w,p),W=A,te=[w,p,g,y];return W>O&&(W=O,te[0]=p,te[1]=g,te[2]=y,te[3]=w),W>j&&(W=j,te[0]=g,te[1]=y,te[2]=w,te[3]=p),W>L&&(te[0]=y,te[1]=w,te[2]=p,te[3]=g),te}detectSolid2(l){let p=l[0],g=l[1],y=l[2],w=l[3],A=this.transitionsBetween(p,w),O=yn.shiftPoint(g,y,(A+1)*4),j=yn.shiftPoint(y,g,(A+1)*4),L=this.transitionsBetween(O,p),W=this.transitionsBetween(j,w);return L<W?(l[0]=p,l[1]=g,l[2]=y,l[3]=w):(l[0]=g,l[1]=y,l[2]=w,l[3]=p),l}correctTopRight(l){let p=l[0],g=l[1],y=l[2],w=l[3],A=this.transitionsBetween(p,w),O=this.transitionsBetween(g,w),j=yn.shiftPoint(p,g,(O+1)*4),L=yn.shiftPoint(y,g,(A+1)*4);A=this.transitionsBetween(j,w),O=this.transitionsBetween(L,w);let W=new at(w.getX()+(y.getX()-g.getX())/(A+1),w.getY()+(y.getY()-g.getY())/(A+1)),te=new at(w.getX()+(p.getX()-g.getX())/(O+1),w.getY()+(p.getY()-g.getY())/(O+1));if(!this.isValid(W))return this.isValid(te)?te:null;if(!this.isValid(te))return W;let oe=this.transitionsBetween(j,W)+this.transitionsBetween(L,W),_e=this.transitionsBetween(j,te)+this.transitionsBetween(L,te);return oe>_e?W:te}shiftToModuleCenter(l){let p=l[0],g=l[1],y=l[2],w=l[3],A=this.transitionsBetween(p,w)+1,O=this.transitionsBetween(y,w)+1,j=yn.shiftPoint(p,g,O*4),L=yn.shiftPoint(y,g,A*4);A=this.transitionsBetween(j,w)+1,O=this.transitionsBetween(L,w)+1,(A&1)===1&&(A+=1),(O&1)===1&&(O+=1);let W=(p.getX()+g.getX()+y.getX()+w.getX())/4,te=(p.getY()+g.getY()+y.getY()+w.getY())/4;p=yn.moveAway(p,W,te),g=yn.moveAway(g,W,te),y=yn.moveAway(y,W,te),w=yn.moveAway(w,W,te);let oe,_e;return j=yn.shiftPoint(p,g,O*4),j=yn.shiftPoint(j,w,A*4),oe=yn.shiftPoint(g,p,O*4),oe=yn.shiftPoint(oe,y,A*4),L=yn.shiftPoint(y,w,O*4),L=yn.shiftPoint(L,g,A*4),_e=yn.shiftPoint(w,y,O*4),_e=yn.shiftPoint(_e,p,A*4),[j,oe,L,_e]}isValid(l){return l.getX()>=0&&l.getX()<this.image.getWidth()&&l.getY()>0&&l.getY()<this.image.getHeight()}static sampleGrid(l,p,g,y,w,A,O){return Cr.getInstance().sampleGrid(l,A,O,.5,.5,A-.5,.5,A-.5,O-.5,.5,O-.5,p.getX(),p.getY(),w.getX(),w.getY(),y.getX(),y.getY(),g.getX(),g.getY())}transitionsBetween(l,p){let g=Math.trunc(l.getX()),y=Math.trunc(l.getY()),w=Math.trunc(p.getX()),A=Math.trunc(p.getY()),O=Math.abs(A-y)>Math.abs(w-g);if(O){let je=g;g=y,y=je,je=w,w=A,A=je}let j=Math.abs(w-g),L=Math.abs(A-y),W=-j/2,te=y<A?1:-1,oe=g<w?1:-1,_e=0,Oe=this.image.get(O?y:g,O?g:y);for(let je=g,Be=y;je!==w;je+=oe){let Ze=this.image.get(O?Be:je,O?je:Be);if(Ze!==Oe&&(_e++,Oe=Ze),W+=L,W>0){if(Be===A)break;Be+=te,W-=j}}return _e}}class Ss{constructor(){this.decoder=new ao}decode(l,p=null){let g,y;if(p!=null&&p.has(Z.PURE_BARCODE)){const L=Ss.extractPureBits(l.getBlackMatrix());g=this.decoder.decode(L),y=Ss.NO_POINTS}else{const L=new yn(l.getBlackMatrix()).detect();g=this.decoder.decode(L.getBits()),y=L.getPoints()}const w=g.getRawBytes(),A=new me(g.getText(),w,8*w.length,y,xe.DATA_MATRIX,C.currentTimeMillis()),O=g.getByteSegments();O!=null&&A.putMetadata(ze.BYTE_SEGMENTS,O);const j=g.getECLevel();return j!=null&&A.putMetadata(ze.ERROR_CORRECTION_LEVEL,j),A}reset(){}static extractPureBits(l){const p=l.getTopLeftOnBit(),g=l.getBottomRightOnBit();if(p==null||g==null)throw new ie;const y=this.moduleSize(p,l);let w=p[1];const A=g[1];let O=p[0];const L=(g[0]-O+1)/y,W=(A-w+1)/y;if(L<=0||W<=0)throw new ie;const te=y/2;w+=te,O+=te;const oe=new J(L,W);for(let _e=0;_e<W;_e++){const Oe=w+_e*y;for(let je=0;je<L;je++)l.get(O+je*y,Oe)&&oe.set(je,_e)}return oe}static moduleSize(l,p){const g=p.getWidth();let y=l[0];const w=l[1];for(;y<g&&p.get(y,w);)y++;if(y===g)throw new ie;const A=y-l[0];if(A===0)throw new ie;return A}}Ss.NO_POINTS=[];class Ca extends de{constructor(l=500){super(new Ss,l)}}var zn;(function(ee){ee[ee.L=0]="L",ee[ee.M=1]="M",ee[ee.Q=2]="Q",ee[ee.H=3]="H"})(zn||(zn={}));class Or{constructor(l,p,g){this.value=l,this.stringValue=p,this.bits=g,Or.FOR_BITS.set(g,this),Or.FOR_VALUE.set(l,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(l){switch(l){case"L":return Or.L;case"M":return Or.M;case"Q":return Or.Q;case"H":return Or.H;default:throw new h(l+"not available")}}toString(){return this.stringValue}equals(l){if(!(l instanceof Or))return!1;const p=l;return this.value===p.value}static forBits(l){if(l<0||l>=Or.FOR_BITS.size)throw new m;return Or.FOR_BITS.get(l)}}Or.FOR_BITS=new Map,Or.FOR_VALUE=new Map,Or.L=new Or(zn.L,"L",1),Or.M=new Or(zn.M,"M",0),Or.Q=new Or(zn.Q,"Q",3),Or.H=new Or(zn.H,"H",2);class di{constructor(l){this.errorCorrectionLevel=Or.forBits(l>>3&3),this.dataMask=l&7}static numBitsDiffering(l,p){return U.bitCount(l^p)}static decodeFormatInformation(l,p){const g=di.doDecodeFormatInformation(l,p);return g!==null?g:di.doDecodeFormatInformation(l^di.FORMAT_INFO_MASK_QR,p^di.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(l,p){let g=Number.MAX_SAFE_INTEGER,y=0;for(const w of di.FORMAT_INFO_DECODE_LOOKUP){const A=w[0];if(A===l||A===p)return new di(w[1]);let O=di.numBitsDiffering(l,A);O<g&&(y=w[1],g=O),l!==p&&(O=di.numBitsDiffering(p,A),O<g&&(y=w[1],g=O))}return g<=3?new di(y):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(l){if(!(l instanceof di))return!1;const p=l;return this.errorCorrectionLevel===p.errorCorrectionLevel&&this.dataMask===p.dataMask}}di.FORMAT_INFO_MASK_QR=21522,di.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class We{constructor(l,...p){this.ecCodewordsPerBlock=l,this.ecBlocks=p}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let l=0;const p=this.ecBlocks;for(const g of p)l+=g.getCount();return l}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class be{constructor(l,p){this.count=l,this.dataCodewords=p}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Tt{constructor(l,p,...g){this.versionNumber=l,this.alignmentPatternCenters=p,this.ecBlocks=g;let y=0;const w=g[0].getECCodewordsPerBlock(),A=g[0].getECBlocks();for(const O of A)y+=O.getCount()*(O.getDataCodewords()+w);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(l){return this.ecBlocks[l.getValue()]}static getProvisionalVersionForDimension(l){if(l%4!==1)throw new V;try{return this.getVersionForNumber((l-17)/4)}catch{throw new V}}static getVersionForNumber(l){if(l<1||l>40)throw new m;return Tt.VERSIONS[l-1]}static decodeVersionInformation(l){let p=Number.MAX_SAFE_INTEGER,g=0;for(let y=0;y<Tt.VERSION_DECODE_INFO.length;y++){const w=Tt.VERSION_DECODE_INFO[y];if(w===l)return Tt.getVersionForNumber(y+7);const A=di.numBitsDiffering(l,w);A<p&&(g=y+7,p=A)}return p<=3?Tt.getVersionForNumber(g):null}buildFunctionPattern(){const l=this.getDimensionForVersion(),p=new J(l);p.setRegion(0,0,9,9),p.setRegion(l-8,0,8,9),p.setRegion(0,l-8,9,8);const g=this.alignmentPatternCenters.length;for(let y=0;y<g;y++){const w=this.alignmentPatternCenters[y]-2;for(let A=0;A<g;A++)y===0&&(A===0||A===g-1)||y===g-1&&A===0||p.setRegion(this.alignmentPatternCenters[A]-2,w,5,5)}return p.setRegion(6,9,1,l-17),p.setRegion(9,6,l-17,1),this.versionNumber>6&&(p.setRegion(l-11,0,3,6),p.setRegion(0,l-11,6,3)),p}toString(){return""+this.versionNumber}}Tt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Tt.VERSIONS=[new Tt(1,new Int32Array(0),new We(7,new be(1,19)),new We(10,new be(1,16)),new We(13,new be(1,13)),new We(17,new be(1,9))),new Tt(2,Int32Array.from([6,18]),new We(10,new be(1,34)),new We(16,new be(1,28)),new We(22,new be(1,22)),new We(28,new be(1,16))),new Tt(3,Int32Array.from([6,22]),new We(15,new be(1,55)),new We(26,new be(1,44)),new We(18,new be(2,17)),new We(22,new be(2,13))),new Tt(4,Int32Array.from([6,26]),new We(20,new be(1,80)),new We(18,new be(2,32)),new We(26,new be(2,24)),new We(16,new be(4,9))),new Tt(5,Int32Array.from([6,30]),new We(26,new be(1,108)),new We(24,new be(2,43)),new We(18,new be(2,15),new be(2,16)),new We(22,new be(2,11),new be(2,12))),new Tt(6,Int32Array.from([6,34]),new We(18,new be(2,68)),new We(16,new be(4,27)),new We(24,new be(4,19)),new We(28,new be(4,15))),new Tt(7,Int32Array.from([6,22,38]),new We(20,new be(2,78)),new We(18,new be(4,31)),new We(18,new be(2,14),new be(4,15)),new We(26,new be(4,13),new be(1,14))),new Tt(8,Int32Array.from([6,24,42]),new We(24,new be(2,97)),new We(22,new be(2,38),new be(2,39)),new We(22,new be(4,18),new be(2,19)),new We(26,new be(4,14),new be(2,15))),new Tt(9,Int32Array.from([6,26,46]),new We(30,new be(2,116)),new We(22,new be(3,36),new be(2,37)),new We(20,new be(4,16),new be(4,17)),new We(24,new be(4,12),new be(4,13))),new Tt(10,Int32Array.from([6,28,50]),new We(18,new be(2,68),new be(2,69)),new We(26,new be(4,43),new be(1,44)),new We(24,new be(6,19),new be(2,20)),new We(28,new be(6,15),new be(2,16))),new Tt(11,Int32Array.from([6,30,54]),new We(20,new be(4,81)),new We(30,new be(1,50),new be(4,51)),new We(28,new be(4,22),new be(4,23)),new We(24,new be(3,12),new be(8,13))),new Tt(12,Int32Array.from([6,32,58]),new We(24,new be(2,92),new be(2,93)),new We(22,new be(6,36),new be(2,37)),new We(26,new be(4,20),new be(6,21)),new We(28,new be(7,14),new be(4,15))),new Tt(13,Int32Array.from([6,34,62]),new We(26,new be(4,107)),new We(22,new be(8,37),new be(1,38)),new We(24,new be(8,20),new be(4,21)),new We(22,new be(12,11),new be(4,12))),new Tt(14,Int32Array.from([6,26,46,66]),new We(30,new be(3,115),new be(1,116)),new We(24,new be(4,40),new be(5,41)),new We(20,new be(11,16),new be(5,17)),new We(24,new be(11,12),new be(5,13))),new Tt(15,Int32Array.from([6,26,48,70]),new We(22,new be(5,87),new be(1,88)),new We(24,new be(5,41),new be(5,42)),new We(30,new be(5,24),new be(7,25)),new We(24,new be(11,12),new be(7,13))),new Tt(16,Int32Array.from([6,26,50,74]),new We(24,new be(5,98),new be(1,99)),new We(28,new be(7,45),new be(3,46)),new We(24,new be(15,19),new be(2,20)),new We(30,new be(3,15),new be(13,16))),new Tt(17,Int32Array.from([6,30,54,78]),new We(28,new be(1,107),new be(5,108)),new We(28,new be(10,46),new be(1,47)),new We(28,new be(1,22),new be(15,23)),new We(28,new be(2,14),new be(17,15))),new Tt(18,Int32Array.from([6,30,56,82]),new We(30,new be(5,120),new be(1,121)),new We(26,new be(9,43),new be(4,44)),new We(28,new be(17,22),new be(1,23)),new We(28,new be(2,14),new be(19,15))),new Tt(19,Int32Array.from([6,30,58,86]),new We(28,new be(3,113),new be(4,114)),new We(26,new be(3,44),new be(11,45)),new We(26,new be(17,21),new be(4,22)),new We(26,new be(9,13),new be(16,14))),new Tt(20,Int32Array.from([6,34,62,90]),new We(28,new be(3,107),new be(5,108)),new We(26,new be(3,41),new be(13,42)),new We(30,new be(15,24),new be(5,25)),new We(28,new be(15,15),new be(10,16))),new Tt(21,Int32Array.from([6,28,50,72,94]),new We(28,new be(4,116),new be(4,117)),new We(26,new be(17,42)),new We(28,new be(17,22),new be(6,23)),new We(30,new be(19,16),new be(6,17))),new Tt(22,Int32Array.from([6,26,50,74,98]),new We(28,new be(2,111),new be(7,112)),new We(28,new be(17,46)),new We(30,new be(7,24),new be(16,25)),new We(24,new be(34,13))),new Tt(23,Int32Array.from([6,30,54,78,102]),new We(30,new be(4,121),new be(5,122)),new We(28,new be(4,47),new be(14,48)),new We(30,new be(11,24),new be(14,25)),new We(30,new be(16,15),new be(14,16))),new Tt(24,Int32Array.from([6,28,54,80,106]),new We(30,new be(6,117),new be(4,118)),new We(28,new be(6,45),new be(14,46)),new We(30,new be(11,24),new be(16,25)),new We(30,new be(30,16),new be(2,17))),new Tt(25,Int32Array.from([6,32,58,84,110]),new We(26,new be(8,106),new be(4,107)),new We(28,new be(8,47),new be(13,48)),new We(30,new be(7,24),new be(22,25)),new We(30,new be(22,15),new be(13,16))),new Tt(26,Int32Array.from([6,30,58,86,114]),new We(28,new be(10,114),new be(2,115)),new We(28,new be(19,46),new be(4,47)),new We(28,new be(28,22),new be(6,23)),new We(30,new be(33,16),new be(4,17))),new Tt(27,Int32Array.from([6,34,62,90,118]),new We(30,new be(8,122),new be(4,123)),new We(28,new be(22,45),new be(3,46)),new We(30,new be(8,23),new be(26,24)),new We(30,new be(12,15),new be(28,16))),new Tt(28,Int32Array.from([6,26,50,74,98,122]),new We(30,new be(3,117),new be(10,118)),new We(28,new be(3,45),new be(23,46)),new We(30,new be(4,24),new be(31,25)),new We(30,new be(11,15),new be(31,16))),new Tt(29,Int32Array.from([6,30,54,78,102,126]),new We(30,new be(7,116),new be(7,117)),new We(28,new be(21,45),new be(7,46)),new We(30,new be(1,23),new be(37,24)),new We(30,new be(19,15),new be(26,16))),new Tt(30,Int32Array.from([6,26,52,78,104,130]),new We(30,new be(5,115),new be(10,116)),new We(28,new be(19,47),new be(10,48)),new We(30,new be(15,24),new be(25,25)),new We(30,new be(23,15),new be(25,16))),new Tt(31,Int32Array.from([6,30,56,82,108,134]),new We(30,new be(13,115),new be(3,116)),new We(28,new be(2,46),new be(29,47)),new We(30,new be(42,24),new be(1,25)),new We(30,new be(23,15),new be(28,16))),new Tt(32,Int32Array.from([6,34,60,86,112,138]),new We(30,new be(17,115)),new We(28,new be(10,46),new be(23,47)),new We(30,new be(10,24),new be(35,25)),new We(30,new be(19,15),new be(35,16))),new Tt(33,Int32Array.from([6,30,58,86,114,142]),new We(30,new be(17,115),new be(1,116)),new We(28,new be(14,46),new be(21,47)),new We(30,new be(29,24),new be(19,25)),new We(30,new be(11,15),new be(46,16))),new Tt(34,Int32Array.from([6,34,62,90,118,146]),new We(30,new be(13,115),new be(6,116)),new We(28,new be(14,46),new be(23,47)),new We(30,new be(44,24),new be(7,25)),new We(30,new be(59,16),new be(1,17))),new Tt(35,Int32Array.from([6,30,54,78,102,126,150]),new We(30,new be(12,121),new be(7,122)),new We(28,new be(12,47),new be(26,48)),new We(30,new be(39,24),new be(14,25)),new We(30,new be(22,15),new be(41,16))),new Tt(36,Int32Array.from([6,24,50,76,102,128,154]),new We(30,new be(6,121),new be(14,122)),new We(28,new be(6,47),new be(34,48)),new We(30,new be(46,24),new be(10,25)),new We(30,new be(2,15),new be(64,16))),new Tt(37,Int32Array.from([6,28,54,80,106,132,158]),new We(30,new be(17,122),new be(4,123)),new We(28,new be(29,46),new be(14,47)),new We(30,new be(49,24),new be(10,25)),new We(30,new be(24,15),new be(46,16))),new Tt(38,Int32Array.from([6,32,58,84,110,136,162]),new We(30,new be(4,122),new be(18,123)),new We(28,new be(13,46),new be(32,47)),new We(30,new be(48,24),new be(14,25)),new We(30,new be(42,15),new be(32,16))),new Tt(39,Int32Array.from([6,26,54,82,110,138,166]),new We(30,new be(20,117),new be(4,118)),new We(28,new be(40,47),new be(7,48)),new We(30,new be(43,24),new be(22,25)),new We(30,new be(10,15),new be(67,16))),new Tt(40,Int32Array.from([6,30,58,86,114,142,170]),new We(30,new be(19,118),new be(6,119)),new We(28,new be(18,47),new be(31,48)),new We(30,new be(34,24),new be(34,25)),new We(30,new be(20,15),new be(61,16)))];var ri;(function(ee){ee[ee.DATA_MASK_000=0]="DATA_MASK_000",ee[ee.DATA_MASK_001=1]="DATA_MASK_001",ee[ee.DATA_MASK_010=2]="DATA_MASK_010",ee[ee.DATA_MASK_011=3]="DATA_MASK_011",ee[ee.DATA_MASK_100=4]="DATA_MASK_100",ee[ee.DATA_MASK_101=5]="DATA_MASK_101",ee[ee.DATA_MASK_110=6]="DATA_MASK_110",ee[ee.DATA_MASK_111=7]="DATA_MASK_111"})(ri||(ri={}));class pa{constructor(l,p){this.value=l,this.isMasked=p}unmaskBitMatrix(l,p){for(let g=0;g<p;g++)for(let y=0;y<p;y++)this.isMasked(g,y)&&l.flip(y,g)}}pa.values=new Map([[ri.DATA_MASK_000,new pa(ri.DATA_MASK_000,(ee,l)=>(ee+l&1)===0)],[ri.DATA_MASK_001,new pa(ri.DATA_MASK_001,(ee,l)=>(ee&1)===0)],[ri.DATA_MASK_010,new pa(ri.DATA_MASK_010,(ee,l)=>l%3===0)],[ri.DATA_MASK_011,new pa(ri.DATA_MASK_011,(ee,l)=>(ee+l)%3===0)],[ri.DATA_MASK_100,new pa(ri.DATA_MASK_100,(ee,l)=>(Math.floor(ee/2)+Math.floor(l/3)&1)===0)],[ri.DATA_MASK_101,new pa(ri.DATA_MASK_101,(ee,l)=>ee*l%6===0)],[ri.DATA_MASK_110,new pa(ri.DATA_MASK_110,(ee,l)=>ee*l%6<3)],[ri.DATA_MASK_111,new pa(ri.DATA_MASK_111,(ee,l)=>(ee+l+ee*l%3&1)===0)]]);class Gs{constructor(l){const p=l.getHeight();if(p<21||(p&3)!==1)throw new V;this.bitMatrix=l}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let l=0;for(let w=0;w<6;w++)l=this.copyBit(w,8,l);l=this.copyBit(7,8,l),l=this.copyBit(8,8,l),l=this.copyBit(8,7,l);for(let w=5;w>=0;w--)l=this.copyBit(8,w,l);const p=this.bitMatrix.getHeight();let g=0;const y=p-7;for(let w=p-1;w>=y;w--)g=this.copyBit(8,w,g);for(let w=p-8;w<p;w++)g=this.copyBit(w,8,g);if(this.parsedFormatInfo=di.decodeFormatInformation(l,g),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new V}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const l=this.bitMatrix.getHeight(),p=Math.floor((l-17)/4);if(p<=6)return Tt.getVersionForNumber(p);let g=0;const y=l-11;for(let A=5;A>=0;A--)for(let O=l-9;O>=y;O--)g=this.copyBit(O,A,g);let w=Tt.decodeVersionInformation(g);if(w!==null&&w.getDimensionForVersion()===l)return this.parsedVersion=w,w;g=0;for(let A=5;A>=0;A--)for(let O=l-9;O>=y;O--)g=this.copyBit(A,O,g);if(w=Tt.decodeVersionInformation(g),w!==null&&w.getDimensionForVersion()===l)return this.parsedVersion=w,w;throw new V}copyBit(l,p,g){return(this.isMirror?this.bitMatrix.get(p,l):this.bitMatrix.get(l,p))?g<<1|1:g<<1}readCodewords(){const l=this.readFormatInformation(),p=this.readVersion(),g=pa.values.get(l.getDataMask()),y=this.bitMatrix.getHeight();g.unmaskBitMatrix(this.bitMatrix,y);const w=p.buildFunctionPattern();let A=!0;const O=new Uint8Array(p.getTotalCodewords());let j=0,L=0,W=0;for(let te=y-1;te>0;te-=2){te===6&&te--;for(let oe=0;oe<y;oe++){const _e=A?y-1-oe:oe;for(let Oe=0;Oe<2;Oe++)w.get(te-Oe,_e)||(W++,L<<=1,this.bitMatrix.get(te-Oe,_e)&&(L|=1),W===8&&(O[j++]=L,W=0,L=0))}A=!A}if(j!==p.getTotalCodewords())throw new V;return O}remask(){if(this.parsedFormatInfo===null)return;const l=pa.values[this.parsedFormatInfo.getDataMask()],p=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,p)}setMirror(l){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=l}mirror(){const l=this.bitMatrix;for(let p=0,g=l.getWidth();p<g;p++)for(let y=p+1,w=l.getHeight();y<w;y++)l.get(p,y)!==l.get(y,p)&&(l.flip(y,p),l.flip(p,y))}}class jo{constructor(l,p){this.numDataCodewords=l,this.codewords=p}static getDataBlocks(l,p,g){if(l.length!==p.getTotalCodewords())throw new m;const y=p.getECBlocksForLevel(g);let w=0;const A=y.getECBlocks();for(const Oe of A)w+=Oe.getCount();const O=new Array(w);let j=0;for(const Oe of A)for(let je=0;je<Oe.getCount();je++){const Be=Oe.getDataCodewords(),Ze=y.getECCodewordsPerBlock()+Be;O[j++]=new jo(Be,new Uint8Array(Ze))}const L=O[0].codewords.length;let W=O.length-1;for(;W>=0&&O[W].codewords.length!==L;)W--;W++;const te=L-y.getECCodewordsPerBlock();let oe=0;for(let Oe=0;Oe<te;Oe++)for(let je=0;je<j;je++)O[je].codewords[Oe]=l[oe++];for(let Oe=W;Oe<j;Oe++)O[Oe].codewords[te]=l[oe++];const _e=O[0].codewords.length;for(let Oe=te;Oe<_e;Oe++)for(let je=0;je<j;je++){const Be=je<W?Oe:Oe+1;O[je].codewords[Be]=l[oe++]}return O}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Na;(function(ee){ee[ee.TERMINATOR=0]="TERMINATOR",ee[ee.NUMERIC=1]="NUMERIC",ee[ee.ALPHANUMERIC=2]="ALPHANUMERIC",ee[ee.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",ee[ee.BYTE=4]="BYTE",ee[ee.ECI=5]="ECI",ee[ee.KANJI=6]="KANJI",ee[ee.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",ee[ee.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",ee[ee.HANZI=9]="HANZI"})(Na||(Na={}));class rr{constructor(l,p,g,y){this.value=l,this.stringValue=p,this.characterCountBitsForVersions=g,this.bits=y,rr.FOR_BITS.set(y,this),rr.FOR_VALUE.set(l,this)}static forBits(l){const p=rr.FOR_BITS.get(l);if(p===void 0)throw new m;return p}getCharacterCountBits(l){const p=l.getVersionNumber();let g;return p<=9?g=0:p<=26?g=1:g=2,this.characterCountBitsForVersions[g]}getValue(){return this.value}getBits(){return this.bits}equals(l){if(!(l instanceof rr))return!1;const p=l;return this.value===p.value}toString(){return this.stringValue}}rr.FOR_BITS=new Map,rr.FOR_VALUE=new Map,rr.TERMINATOR=new rr(Na.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),rr.NUMERIC=new rr(Na.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),rr.ALPHANUMERIC=new rr(Na.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),rr.STRUCTURED_APPEND=new rr(Na.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),rr.BYTE=new rr(Na.BYTE,"BYTE",Int32Array.from([8,16,16]),4),rr.ECI=new rr(Na.ECI,"ECI",Int32Array.from([0,0,0]),7),rr.KANJI=new rr(Na.KANJI,"KANJI",Int32Array.from([8,10,12]),8),rr.FNC1_FIRST_POSITION=new rr(Na.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),rr.FNC1_SECOND_POSITION=new rr(Na.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),rr.HANZI=new rr(Na.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class _n{static decode(l,p,g,y){const w=new ds(l);let A=new le;const O=new Array;let j=-1,L=-1;try{let W=null,te=!1,oe;do{if(w.available()<4)oe=rr.TERMINATOR;else{const _e=w.readBits(4);oe=rr.forBits(_e)}switch(oe){case rr.TERMINATOR:break;case rr.FNC1_FIRST_POSITION:case rr.FNC1_SECOND_POSITION:te=!0;break;case rr.STRUCTURED_APPEND:if(w.available()<16)throw new V;j=w.readBits(8),L=w.readBits(8);break;case rr.ECI:const _e=_n.parseECIValue(w);if(W=q.getCharacterSetECIByValue(_e),W===null)throw new V;break;case rr.HANZI:const Oe=w.readBits(4),je=w.readBits(oe.getCharacterCountBits(p));Oe===_n.GB2312_SUBSET&&_n.decodeHanziSegment(w,A,je);break;default:const Be=w.readBits(oe.getCharacterCountBits(p));switch(oe){case rr.NUMERIC:_n.decodeNumericSegment(w,A,Be);break;case rr.ALPHANUMERIC:_n.decodeAlphanumericSegment(w,A,Be,te);break;case rr.BYTE:_n.decodeByteSegment(w,A,Be,W,O,y);break;case rr.KANJI:_n.decodeKanjiSegment(w,A,Be);break;default:throw new V}break}}while(oe!==rr.TERMINATOR)}catch{throw new V}return new Ce(l,A.toString(),O.length===0?null:O,g===null?null:g.toString(),j,L)}static decodeHanziSegment(l,p,g){if(g*13>l.available())throw new V;const y=new Uint8Array(2*g);let w=0;for(;g>0;){const A=l.readBits(13);let O=A/96<<8&4294967295|A%96;O<959?O+=41377:O+=42657,y[w]=O>>8&255,y[w+1]=O&255,w+=2,g--}try{p.append(G.decode(y,H.GB2312))}catch(A){throw new V(A)}}static decodeKanjiSegment(l,p,g){if(g*13>l.available())throw new V;const y=new Uint8Array(2*g);let w=0;for(;g>0;){const A=l.readBits(13);let O=A/192<<8&4294967295|A%192;O<7936?O+=33088:O+=49472,y[w]=O>>8,y[w+1]=O,w+=2,g--}try{p.append(G.decode(y,H.SHIFT_JIS))}catch(A){throw new V(A)}}static decodeByteSegment(l,p,g,y,w,A){if(8*g>l.available())throw new V;const O=new Uint8Array(g);for(let L=0;L<g;L++)O[L]=l.readBits(8);let j;y===null?j=H.guessEncoding(O,A):j=y.getName();try{p.append(G.decode(O,j))}catch(L){throw new V(L)}w.push(O)}static toAlphaNumericChar(l){if(l>=_n.ALPHANUMERIC_CHARS.length)throw new V;return _n.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,p,g,y){const w=p.length();for(;g>1;){if(l.available()<11)throw new V;const A=l.readBits(11);p.append(_n.toAlphaNumericChar(Math.floor(A/45))),p.append(_n.toAlphaNumericChar(A%45)),g-=2}if(g===1){if(l.available()<6)throw new V;p.append(_n.toAlphaNumericChar(l.readBits(6)))}if(y)for(let A=w;A<p.length();A++)p.charAt(A)==="%"&&(A<p.length()-1&&p.charAt(A+1)==="%"?p.deleteCharAt(A+1):p.setCharAt(A,""))}static decodeNumericSegment(l,p,g){for(;g>=3;){if(l.available()<10)throw new V;const y=l.readBits(10);if(y>=1e3)throw new V;p.append(_n.toAlphaNumericChar(Math.floor(y/100))),p.append(_n.toAlphaNumericChar(Math.floor(y/10)%10)),p.append(_n.toAlphaNumericChar(y%10)),g-=3}if(g===2){if(l.available()<7)throw new V;const y=l.readBits(7);if(y>=100)throw new V;p.append(_n.toAlphaNumericChar(Math.floor(y/10))),p.append(_n.toAlphaNumericChar(y%10))}else if(g===1){if(l.available()<4)throw new V;const y=l.readBits(4);if(y>=10)throw new V;p.append(_n.toAlphaNumericChar(y))}}static parseECIValue(l){const p=l.readBits(8);if((p&128)===0)return p&127;if((p&192)===128){const g=l.readBits(8);return(p&63)<<8&4294967295|g}if((p&224)===192){const g=l.readBits(16);return(p&31)<<16&4294967295|g}throw new V}}_n.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",_n.GB2312_SUBSET=1;class lc{constructor(l){this.mirrored=l}isMirrored(){return this.mirrored}applyMirroredCorrection(l){if(!this.mirrored||l===null||l.length<3)return;const p=l[0];l[0]=l[2],l[2]=p}}class Hu{constructor(){this.rsDecoder=new wt(lt.QR_CODE_FIELD_256)}decodeBooleanArray(l,p){return this.decodeBitMatrix(J.parseFromBooleanArray(l),p)}decodeBitMatrix(l,p){const g=new Gs(l);let y=null;try{return this.decodeBitMatrixParser(g,p)}catch(w){y=w}try{g.remask(),g.setMirror(!0),g.readVersion(),g.readFormatInformation(),g.mirror();const w=this.decodeBitMatrixParser(g,p);return w.setOther(new lc(!0)),w}catch(w){throw y!==null?y:w}}decodeBitMatrixParser(l,p){const g=l.readVersion(),y=l.readFormatInformation().getErrorCorrectionLevel(),w=l.readCodewords(),A=jo.getDataBlocks(w,g,y);let O=0;for(const W of A)O+=W.getNumDataCodewords();const j=new Uint8Array(O);let L=0;for(const W of A){const te=W.getCodewords(),oe=W.getNumDataCodewords();this.correctErrors(te,oe);for(let _e=0;_e<oe;_e++)j[L++]=te[_e]}return _n.decode(j,g,y,p)}correctErrors(l,p){const g=new Int32Array(l);try{this.rsDecoder.decode(g,l.length-p)}catch{throw new x}for(let y=0;y<p;y++)l[y]=g[y]}}class ga extends at{constructor(l,p,g){super(l,p),this.estimatedModuleSize=g}aboutEquals(l,p,g){if(Math.abs(p-this.getY())<=l&&Math.abs(g-this.getX())<=l){const y=Math.abs(l-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(l,p,g){const y=(this.getX()+p)/2,w=(this.getY()+l)/2,A=(this.estimatedModuleSize+g)/2;return new ga(y,w,A)}}class Ga{constructor(l,p,g,y,w,A,O){this.image=l,this.startX=p,this.startY=g,this.width=y,this.height=w,this.moduleSize=A,this.resultPointCallback=O,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const l=this.startX,p=this.height,g=this.width,y=l+g,w=this.startY+p/2,A=new Int32Array(3),O=this.image;for(let j=0;j<p;j++){const L=w+((j&1)===0?Math.floor((j+1)/2):-Math.floor((j+1)/2));A[0]=0,A[1]=0,A[2]=0;let W=l;for(;W<y&&!O.get(W,L);)W++;let te=0;for(;W<y;){if(O.get(W,L))if(te===1)A[1]++;else if(te===2){if(this.foundPatternCross(A)){const oe=this.handlePossibleCenter(A,L,W);if(oe!==null)return oe}A[0]=A[2],A[1]=1,A[2]=0,te=1}else A[++te]++;else te===1&&te++,A[te]++;W++}if(this.foundPatternCross(A)){const oe=this.handlePossibleCenter(A,L,y);if(oe!==null)return oe}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ie}static centerFromEnd(l,p){return p-l[2]-l[1]/2}foundPatternCross(l){const p=this.moduleSize,g=p/2;for(let y=0;y<3;y++)if(Math.abs(p-l[y])>=g)return!1;return!0}crossCheckVertical(l,p,g,y){const w=this.image,A=w.getHeight(),O=this.crossCheckStateCount;O[0]=0,O[1]=0,O[2]=0;let j=l;for(;j>=0&&w.get(p,j)&&O[1]<=g;)O[1]++,j--;if(j<0||O[1]>g)return NaN;for(;j>=0&&!w.get(p,j)&&O[0]<=g;)O[0]++,j--;if(O[0]>g)return NaN;for(j=l+1;j<A&&w.get(p,j)&&O[1]<=g;)O[1]++,j++;if(j===A||O[1]>g)return NaN;for(;j<A&&!w.get(p,j)&&O[2]<=g;)O[2]++,j++;if(O[2]>g)return NaN;const L=O[0]+O[1]+O[2];return 5*Math.abs(L-y)>=2*y?NaN:this.foundPatternCross(O)?Ga.centerFromEnd(O,j):NaN}handlePossibleCenter(l,p,g){const y=l[0]+l[1]+l[2],w=Ga.centerFromEnd(l,g),A=this.crossCheckVertical(p,w,2*l[1],y);if(!isNaN(A)){const O=(l[0]+l[1]+l[2])/3;for(const L of this.possibleCenters)if(L.aboutEquals(O,A,w))return L.combineEstimate(A,w,O);const j=new ga(w,A,O);this.possibleCenters.push(j),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(j)}return null}}class Ws extends at{constructor(l,p,g,y){super(l,p),this.estimatedModuleSize=g,this.count=y,y===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(l,p,g){if(Math.abs(p-this.getY())<=l&&Math.abs(g-this.getX())<=l){const y=Math.abs(l-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(l,p,g){const y=this.count+1,w=(this.count*this.getX()+p)/y,A=(this.count*this.getY()+l)/y,O=(this.count*this.estimatedModuleSize+g)/y;return new Ws(w,A,O,y)}}class Cl{constructor(l){this.bottomLeft=l[0],this.topLeft=l[1],this.topRight=l[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Mn{constructor(l,p){this.image=l,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=p}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const p=l!=null&&l.get(Z.TRY_HARDER)!==void 0,g=l!=null&&l.get(Z.PURE_BARCODE)!==void 0,y=this.image,w=y.getHeight(),A=y.getWidth();let O=Math.floor(3*w/(4*Mn.MAX_MODULES));(O<Mn.MIN_SKIP||p)&&(O=Mn.MIN_SKIP);let j=!1;const L=new Int32Array(5);for(let te=O-1;te<w&&!j;te+=O){L[0]=0,L[1]=0,L[2]=0,L[3]=0,L[4]=0;let oe=0;for(let _e=0;_e<A;_e++)if(y.get(_e,te))(oe&1)===1&&oe++,L[oe]++;else if((oe&1)===0)if(oe===4)if(Mn.foundPatternCross(L)){if(this.handlePossibleCenter(L,te,_e,g)===!0)if(O=2,this.hasSkipped===!0)j=this.haveMultiplyConfirmedCenters();else{const je=this.findRowSkip();je>L[2]&&(te+=je-L[2]-O,_e=A-1)}else{L[0]=L[2],L[1]=L[3],L[2]=L[4],L[3]=1,L[4]=0,oe=3;continue}oe=0,L[0]=0,L[1]=0,L[2]=0,L[3]=0,L[4]=0}else L[0]=L[2],L[1]=L[3],L[2]=L[4],L[3]=1,L[4]=0,oe=3;else L[++oe]++;else L[oe]++;Mn.foundPatternCross(L)&&this.handlePossibleCenter(L,te,A,g)===!0&&(O=L[0],this.hasSkipped&&(j=this.haveMultiplyConfirmedCenters()))}const W=this.selectBestPatterns();return at.orderBestPatterns(W),new Cl(W)}static centerFromEnd(l,p){return p-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let p=0;for(let w=0;w<5;w++){const A=l[w];if(A===0)return!1;p+=A}if(p<7)return!1;const g=p/7,y=g/2;return Math.abs(g-l[0])<y&&Math.abs(g-l[1])<y&&Math.abs(3*g-l[2])<3*y&&Math.abs(g-l[3])<y&&Math.abs(g-l[4])<y}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,p,g,y){const w=this.getCrossCheckStateCount();let A=0;const O=this.image;for(;l>=A&&p>=A&&O.get(p-A,l-A);)w[2]++,A++;if(l<A||p<A)return!1;for(;l>=A&&p>=A&&!O.get(p-A,l-A)&&w[1]<=g;)w[1]++,A++;if(l<A||p<A||w[1]>g)return!1;for(;l>=A&&p>=A&&O.get(p-A,l-A)&&w[0]<=g;)w[0]++,A++;if(w[0]>g)return!1;const j=O.getHeight(),L=O.getWidth();for(A=1;l+A<j&&p+A<L&&O.get(p+A,l+A);)w[2]++,A++;if(l+A>=j||p+A>=L)return!1;for(;l+A<j&&p+A<L&&!O.get(p+A,l+A)&&w[3]<g;)w[3]++,A++;if(l+A>=j||p+A>=L||w[3]>=g)return!1;for(;l+A<j&&p+A<L&&O.get(p+A,l+A)&&w[4]<g;)w[4]++,A++;if(w[4]>=g)return!1;const W=w[0]+w[1]+w[2]+w[3]+w[4];return Math.abs(W-y)<2*y&&Mn.foundPatternCross(w)}crossCheckVertical(l,p,g,y){const w=this.image,A=w.getHeight(),O=this.getCrossCheckStateCount();let j=l;for(;j>=0&&w.get(p,j);)O[2]++,j--;if(j<0)return NaN;for(;j>=0&&!w.get(p,j)&&O[1]<=g;)O[1]++,j--;if(j<0||O[1]>g)return NaN;for(;j>=0&&w.get(p,j)&&O[0]<=g;)O[0]++,j--;if(O[0]>g)return NaN;for(j=l+1;j<A&&w.get(p,j);)O[2]++,j++;if(j===A)return NaN;for(;j<A&&!w.get(p,j)&&O[3]<g;)O[3]++,j++;if(j===A||O[3]>=g)return NaN;for(;j<A&&w.get(p,j)&&O[4]<g;)O[4]++,j++;if(O[4]>=g)return NaN;const L=O[0]+O[1]+O[2]+O[3]+O[4];return 5*Math.abs(L-y)>=2*y?NaN:Mn.foundPatternCross(O)?Mn.centerFromEnd(O,j):NaN}crossCheckHorizontal(l,p,g,y){const w=this.image,A=w.getWidth(),O=this.getCrossCheckStateCount();let j=l;for(;j>=0&&w.get(j,p);)O[2]++,j--;if(j<0)return NaN;for(;j>=0&&!w.get(j,p)&&O[1]<=g;)O[1]++,j--;if(j<0||O[1]>g)return NaN;for(;j>=0&&w.get(j,p)&&O[0]<=g;)O[0]++,j--;if(O[0]>g)return NaN;for(j=l+1;j<A&&w.get(j,p);)O[2]++,j++;if(j===A)return NaN;for(;j<A&&!w.get(j,p)&&O[3]<g;)O[3]++,j++;if(j===A||O[3]>=g)return NaN;for(;j<A&&w.get(j,p)&&O[4]<g;)O[4]++,j++;if(O[4]>=g)return NaN;const L=O[0]+O[1]+O[2]+O[3]+O[4];return 5*Math.abs(L-y)>=y?NaN:Mn.foundPatternCross(O)?Mn.centerFromEnd(O,j):NaN}handlePossibleCenter(l,p,g,y){const w=l[0]+l[1]+l[2]+l[3]+l[4];let A=Mn.centerFromEnd(l,g),O=this.crossCheckVertical(p,Math.floor(A),l[2],w);if(!isNaN(O)&&(A=this.crossCheckHorizontal(Math.floor(A),Math.floor(O),l[2],w),!isNaN(A)&&(!y||this.crossCheckDiagonal(Math.floor(O),Math.floor(A),l[2],w)))){const j=w/7;let L=!1;const W=this.possibleCenters;for(let te=0,oe=W.length;te<oe;te++){const _e=W[te];if(_e.aboutEquals(j,O,A)){W[te]=_e.combineEstimate(O,A,j),L=!0;break}}if(!L){const te=new Ws(A,O,j);W.push(te),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(te)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let p=null;for(const g of this.possibleCenters)if(g.getCount()>=Mn.CENTER_QUORUM)if(p==null)p=g;else return this.hasSkipped=!0,Math.floor((Math.abs(p.getX()-g.getX())-Math.abs(p.getY()-g.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let l=0,p=0;const g=this.possibleCenters.length;for(const A of this.possibleCenters)A.getCount()>=Mn.CENTER_QUORUM&&(l++,p+=A.getEstimatedModuleSize());if(l<3)return!1;const y=p/g;let w=0;for(const A of this.possibleCenters)w+=Math.abs(A.getEstimatedModuleSize()-y);return w<=.05*p}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new ie;const p=this.possibleCenters;let g;if(l>3){let y=0,w=0;for(const j of this.possibleCenters){const L=j.getEstimatedModuleSize();y+=L,w+=L*L}g=y/l;let A=Math.sqrt(w/l-g*g);p.sort((j,L)=>{const W=Math.abs(L.getEstimatedModuleSize()-g),te=Math.abs(j.getEstimatedModuleSize()-g);return W<te?-1:W>te?1:0});const O=Math.max(.2*g,A);for(let j=0;j<p.length&&p.length>3;j++){const L=p[j];Math.abs(L.getEstimatedModuleSize()-g)>O&&(p.splice(j,1),j--)}}if(p.length>3){let y=0;for(const w of p)y+=w.getEstimatedModuleSize();g=y/p.length,p.sort((w,A)=>{if(A.getCount()===w.getCount()){const O=Math.abs(A.getEstimatedModuleSize()-g),j=Math.abs(w.getEstimatedModuleSize()-g);return O<j?1:O>j?-1:0}else return A.getCount()-w.getCount()}),p.splice(3)}return[p[0],p[1],p[2]]}}Mn.CENTER_QUORUM=2,Mn.MIN_SKIP=3,Mn.MAX_MODULES=57;class cr{constructor(l){this.image=l}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(l){this.resultPointCallback=l==null?null:l.get(Z.NEED_RESULT_POINT_CALLBACK);const g=new Mn(this.image,this.resultPointCallback).find(l);return this.processFinderPatternInfo(g)}processFinderPatternInfo(l){const p=l.getTopLeft(),g=l.getTopRight(),y=l.getBottomLeft(),w=this.calculateModuleSize(p,g,y);if(w<1)throw new ie("No pattern found in proccess finder.");const A=cr.computeDimension(p,g,y,w),O=Tt.getProvisionalVersionForDimension(A),j=O.getDimensionForVersion()-7;let L=null;if(O.getAlignmentPatternCenters().length>0){const _e=g.getX()-p.getX()+y.getX(),Oe=g.getY()-p.getY()+y.getY(),je=1-3/j,Be=Math.floor(p.getX()+je*(_e-p.getX())),Ze=Math.floor(p.getY()+je*(Oe-p.getY()));for(let ct=4;ct<=16;ct<<=1)try{L=this.findAlignmentInRegion(w,Be,Ze,ct);break}catch(ut){if(!(ut instanceof ie))throw ut}}const W=cr.createTransform(p,g,y,L,A),te=cr.sampleGrid(this.image,W,A);let oe;return L===null?oe=[y,p,g]:oe=[y,p,g,L],new ir(te,oe)}static createTransform(l,p,g,y,w){const A=w-3.5;let O,j,L,W;return y!==null?(O=y.getX(),j=y.getY(),L=A-3,W=L):(O=p.getX()-l.getX()+g.getX(),j=p.getY()-l.getY()+g.getY(),L=A,W=A),lr.quadrilateralToQuadrilateral(3.5,3.5,A,3.5,L,W,3.5,A,l.getX(),l.getY(),p.getX(),p.getY(),O,j,g.getX(),g.getY())}static sampleGrid(l,p,g){return Cr.getInstance().sampleGridWithTransform(l,g,g,p)}static computeDimension(l,p,g,y){const w=rt.round(at.distance(l,p)/y),A=rt.round(at.distance(l,g)/y);let O=Math.floor((w+A)/2)+7;switch(O&3){case 0:O++;break;case 2:O--;break;case 3:throw new ie("Dimensions could be not found.")}return O}calculateModuleSize(l,p,g){return(this.calculateModuleSizeOneWay(l,p)+this.calculateModuleSizeOneWay(l,g))/2}calculateModuleSizeOneWay(l,p){const g=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(p.getX()),Math.floor(p.getY())),y=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(p.getX()),Math.floor(p.getY()),Math.floor(l.getX()),Math.floor(l.getY()));return isNaN(g)?y/7:isNaN(y)?g/7:(g+y)/14}sizeOfBlackWhiteBlackRunBothWays(l,p,g,y){let w=this.sizeOfBlackWhiteBlackRun(l,p,g,y),A=1,O=l-(g-l);O<0?(A=l/(l-O),O=0):O>=this.image.getWidth()&&(A=(this.image.getWidth()-1-l)/(O-l),O=this.image.getWidth()-1);let j=Math.floor(p-(y-p)*A);return A=1,j<0?(A=p/(p-j),j=0):j>=this.image.getHeight()&&(A=(this.image.getHeight()-1-p)/(j-p),j=this.image.getHeight()-1),O=Math.floor(l+(O-l)*A),w+=this.sizeOfBlackWhiteBlackRun(l,p,O,j),w-1}sizeOfBlackWhiteBlackRun(l,p,g,y){const w=Math.abs(y-p)>Math.abs(g-l);if(w){let _e=l;l=p,p=_e,_e=g,g=y,y=_e}const A=Math.abs(g-l),O=Math.abs(y-p);let j=-A/2;const L=l<g?1:-1,W=p<y?1:-1;let te=0;const oe=g+L;for(let _e=l,Oe=p;_e!==oe;_e+=L){const je=w?Oe:_e,Be=w?_e:Oe;if(te===1===this.image.get(je,Be)){if(te===2)return rt.distance(_e,Oe,l,p);te++}if(j+=O,j>0){if(Oe===y)break;Oe+=W,j-=A}}return te===2?rt.distance(g+L,y,l,p):NaN}findAlignmentInRegion(l,p,g,y){const w=Math.floor(y*l),A=Math.max(0,p-w),O=Math.min(this.image.getWidth()-1,p+w);if(O-A<l*3)throw new ie("Alignment top exceeds estimated module size.");const j=Math.max(0,g-w),L=Math.min(this.image.getHeight()-1,g+w);if(L-j<l*3)throw new ie("Alignment bottom exceeds estimated module size.");return new Ga(this.image,A,j,O-A,L-j,l,this.resultPointCallback).find()}}class $s{constructor(){this.decoder=new Hu}getDecoder(){return this.decoder}decode(l,p){let g,y;if(p!=null&&p.get(Z.PURE_BARCODE)!==void 0){const j=$s.extractPureBits(l.getBlackMatrix());g=this.decoder.decodeBitMatrix(j,p),y=$s.NO_POINTS}else{const j=new cr(l.getBlackMatrix()).detect(p);g=this.decoder.decodeBitMatrix(j.getBits(),p),y=j.getPoints()}g.getOther()instanceof lc&&g.getOther().applyMirroredCorrection(y);const w=new me(g.getText(),g.getRawBytes(),void 0,y,xe.QR_CODE,void 0),A=g.getByteSegments();A!==null&&w.putMetadata(ze.BYTE_SEGMENTS,A);const O=g.getECLevel();return O!==null&&w.putMetadata(ze.ERROR_CORRECTION_LEVEL,O),g.hasStructuredAppend()&&(w.putMetadata(ze.STRUCTURED_APPEND_SEQUENCE,g.getStructuredAppendSequenceNumber()),w.putMetadata(ze.STRUCTURED_APPEND_PARITY,g.getStructuredAppendParity())),w}reset(){}static extractPureBits(l){const p=l.getTopLeftOnBit(),g=l.getBottomRightOnBit();if(p===null||g===null)throw new ie;const y=this.moduleSize(p,l);let w=p[1],A=g[1],O=p[0],j=g[0];if(O>=j||w>=A)throw new ie;if(A-w!==j-O&&(j=O+(A-w),j>=l.getWidth()))throw new ie;const L=Math.round((j-O+1)/y),W=Math.round((A-w+1)/y);if(L<=0||W<=0)throw new ie;if(W!==L)throw new ie;const te=Math.floor(y/2);w+=te,O+=te;const oe=O+Math.floor((L-1)*y)-j;if(oe>0){if(oe>te)throw new ie;O-=oe}const _e=w+Math.floor((W-1)*y)-A;if(_e>0){if(_e>te)throw new ie;w-=_e}const Oe=new J(L,W);for(let je=0;je<W;je++){const Be=w+Math.floor(je*y);for(let Ze=0;Ze<L;Ze++)l.get(O+Math.floor(Ze*y),Be)&&Oe.set(Ze,je)}return Oe}static moduleSize(l,p){const g=p.getHeight(),y=p.getWidth();let w=l[0],A=l[1],O=!0,j=0;for(;w<y&&A<g;){if(O!==p.get(w,A)){if(++j===5)break;O=!O}w++,A++}if(w===y||A===g)throw new ie;return(w-l[0])/7}}$s.NO_POINTS=new Array;class ur{PDF417Common(){}static getBitCountSum(l){return rt.sum(l)}static toIntArray(l){if(l==null||!l.length)return ur.EMPTY_INT_ARRAY;const p=new Int32Array(l.length);let g=0;for(const y of l)p[g++]=y;return p}static getCodeword(l){const p=B.binarySearch(ur.SYMBOL_TABLE,l&262143);return p<0?-1:(ur.CODEWORD_TABLE[p]-1)%ur.NUMBER_OF_CODEWORDS}}ur.NUMBER_OF_CODEWORDS=929,ur.MAX_CODEWORDS_IN_BARCODE=ur.NUMBER_OF_CODEWORDS-1,ur.MIN_ROWS_IN_BARCODE=3,ur.MAX_ROWS_IN_BARCODE=90,ur.MODULES_IN_CODEWORD=17,ur.MODULES_IN_STOP_PATTERN=18,ur.BARS_IN_MODULE=8,ur.EMPTY_INT_ARRAY=new Int32Array([]),ur.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ur.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Gu{constructor(l,p){this.bits=l,this.points=p}getBits(){return this.bits}getPoints(){return this.points}}class fr{static detectMultiple(l,p,g){let y=l.getBlackMatrix(),w=fr.detect(g,y);return w.length||(y=y.clone(),y.rotate180(),w=fr.detect(g,y)),new Gu(y,w)}static detect(l,p){const g=new Array;let y=0,w=0,A=!1;for(;y<p.getHeight();){const O=fr.findVertices(p,y,w);if(O[0]==null&&O[3]==null){if(!A)break;A=!1,w=0;for(const j of g)j[1]!=null&&(y=Math.trunc(Math.max(y,j[1].getY()))),j[3]!=null&&(y=Math.max(y,Math.trunc(j[3].getY())));y+=fr.ROW_STEP;continue}if(A=!0,g.push(O),!l)break;O[2]!=null?(w=Math.trunc(O[2].getX()),y=Math.trunc(O[2].getY())):(w=Math.trunc(O[4].getX()),y=Math.trunc(O[4].getY()))}return g}static findVertices(l,p,g){const y=l.getHeight(),w=l.getWidth(),A=new Array(8);return fr.copyToResult(A,fr.findRowsWithPattern(l,y,w,p,g,fr.START_PATTERN),fr.INDEXES_START_PATTERN),A[4]!=null&&(g=Math.trunc(A[4].getX()),p=Math.trunc(A[4].getY())),fr.copyToResult(A,fr.findRowsWithPattern(l,y,w,p,g,fr.STOP_PATTERN),fr.INDEXES_STOP_PATTERN),A}static copyToResult(l,p,g){for(let y=0;y<g.length;y++)l[g[y]]=p[y]}static findRowsWithPattern(l,p,g,y,w,A){const O=new Array(4);let j=!1;const L=new Int32Array(A.length);for(;y<p;y+=fr.ROW_STEP){let te=fr.findGuardPattern(l,w,y,g,!1,A,L);if(te!=null){for(;y>0;){const oe=fr.findGuardPattern(l,w,--y,g,!1,A,L);if(oe!=null)te=oe;else{y++;break}}O[0]=new at(te[0],y),O[1]=new at(te[1],y),j=!0;break}}let W=y+1;if(j){let te=0,oe=Int32Array.from([Math.trunc(O[0].getX()),Math.trunc(O[1].getX())]);for(;W<p;W++){const _e=fr.findGuardPattern(l,oe[0],W,g,!1,A,L);if(_e!=null&&Math.abs(oe[0]-_e[0])<fr.MAX_PATTERN_DRIFT&&Math.abs(oe[1]-_e[1])<fr.MAX_PATTERN_DRIFT)oe=_e,te=0;else{if(te>fr.SKIPPED_ROW_COUNT_MAX)break;te++}}W-=te+1,O[2]=new at(oe[0],W),O[3]=new at(oe[1],W)}return W-y<fr.BARCODE_MIN_HEIGHT&&B.fill(O,null),O}static findGuardPattern(l,p,g,y,w,A,O){B.fillWithin(O,0,O.length,0);let j=p,L=0;for(;l.get(j,g)&&j>0&&L++<fr.MAX_PIXEL_DRIFT;)j--;let W=j,te=0,oe=A.length;for(let _e=w;W<y;W++)if(l.get(W,g)!==_e)O[te]++;else{if(te===oe-1){if(fr.patternMatchVariance(O,A,fr.MAX_INDIVIDUAL_VARIANCE)<fr.MAX_AVG_VARIANCE)return new Int32Array([j,W]);j+=O[0]+O[1],C.arraycopy(O,2,O,0,te-1),O[te-1]=0,O[te]=0,te--}else te++;O[te]=1,_e=!_e}return te===oe-1&&fr.patternMatchVariance(O,A,fr.MAX_INDIVIDUAL_VARIANCE)<fr.MAX_AVG_VARIANCE?new Int32Array([j,W-1]):null}static patternMatchVariance(l,p,g){let y=l.length,w=0,A=0;for(let L=0;L<y;L++)w+=l[L],A+=p[L];if(w<A)return 1/0;let O=w/A;g*=O;let j=0;for(let L=0;L<y;L++){let W=l[L],te=p[L]*O,oe=W>te?W-te:te-W;if(oe>g)return 1/0;j+=oe}return j/w}}fr.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),fr.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),fr.MAX_AVG_VARIANCE=.42,fr.MAX_INDIVIDUAL_VARIANCE=.8,fr.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),fr.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),fr.MAX_PIXEL_DRIFT=3,fr.MAX_PATTERN_DRIFT=5,fr.SKIPPED_ROW_COUNT_MAX=25,fr.ROW_STEP=5,fr.BARCODE_MIN_HEIGHT=10;class Qr{constructor(l,p){if(p.length===0)throw new m;this.field=l;let g=p.length;if(g>1&&p[0]===0){let y=1;for(;y<g&&p[y]===0;)y++;y===g?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(g-y),C.arraycopy(p,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=p}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);if(l===1){let y=0;for(let w of this.coefficients)y=this.field.add(y,w);return y}let p=this.coefficients[0],g=this.coefficients.length;for(let y=1;y<g;y++)p=this.field.add(this.field.multiply(l,p),this.coefficients[y]);return p}add(l){if(!this.field.equals(l.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero())return l;if(l.isZero())return this;let p=this.coefficients,g=l.coefficients;if(p.length>g.length){let A=p;p=g,g=A}let y=new Int32Array(g.length),w=g.length-p.length;C.arraycopy(g,0,y,0,w);for(let A=w;A<g.length;A++)y[A]=this.field.add(p[A-w],g[A]);return new Qr(this.field,y)}subtract(l){if(!this.field.equals(l.field))throw new m("ModulusPolys do not have same ModulusGF field");return l.isZero()?this:this.add(l.negative())}multiply(l){return l instanceof Qr?this.multiplyOther(l):this.multiplyScalar(l)}multiplyOther(l){if(!this.field.equals(l.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero()||l.isZero())return new Qr(this.field,new Int32Array([0]));let p=this.coefficients,g=p.length,y=l.coefficients,w=y.length,A=new Int32Array(g+w-1);for(let O=0;O<g;O++){let j=p[O];for(let L=0;L<w;L++)A[O+L]=this.field.add(A[O+L],this.field.multiply(j,y[L]))}return new Qr(this.field,A)}negative(){let l=this.coefficients.length,p=new Int32Array(l);for(let g=0;g<l;g++)p[g]=this.field.subtract(0,this.coefficients[g]);return new Qr(this.field,p)}multiplyScalar(l){if(l===0)return new Qr(this.field,new Int32Array([0]));if(l===1)return this;let p=this.coefficients.length,g=new Int32Array(p);for(let y=0;y<p;y++)g[y]=this.field.multiply(this.coefficients[y],l);return new Qr(this.field,g)}multiplyByMonomial(l,p){if(l<0)throw new m;if(p===0)return new Qr(this.field,new Int32Array([0]));let g=this.coefficients.length,y=new Int32Array(g+l);for(let w=0;w<g;w++)y[w]=this.field.multiply(this.coefficients[w],p);return new Qr(this.field,y)}toString(){let l=new le;for(let p=this.getDegree();p>=0;p--){let g=this.getCoefficient(p);g!==0&&(g<0?(l.append(" - "),g=-g):l.length()>0&&l.append(" + "),(p===0||g!==1)&&l.append(g),p!==0&&(p===1?l.append("x"):(l.append("x^"),l.append(p))))}return l.toString()}}class $c{add(l,p){return(l+p)%this.modulus}subtract(l,p){return(this.modulus+l-p)%this.modulus}exp(l){return this.expTable[l]}log(l){if(l===0)throw new m;return this.logTable[l]}inverse(l){if(l===0)throw new qe;return this.expTable[this.modulus-this.logTable[l]-1]}multiply(l,p){return l===0||p===0?0:this.expTable[(this.logTable[l]+this.logTable[p])%(this.modulus-1)]}getSize(){return this.modulus}equals(l){return l===this}}class Ro extends $c{constructor(l,p){super(),this.modulus=l,this.expTable=new Int32Array(l),this.logTable=new Int32Array(l);let g=1;for(let y=0;y<l;y++)this.expTable[y]=g,g=g*p%l;for(let y=0;y<l-1;y++)this.logTable[this.expTable[y]]=y;this.zero=new Qr(this,new Int32Array([0])),this.one=new Qr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,p){if(l<0)throw new m;if(p===0)return this.zero;let g=new Int32Array(l+1);return g[0]=p,new Qr(this,g)}}Ro.PDF417_GF=new Ro(ur.NUMBER_OF_CODEWORDS,3);class Wa{constructor(){this.field=Ro.PDF417_GF}decode(l,p,g){let y=new Qr(this.field,l),w=new Int32Array(p),A=!1;for(let Oe=p;Oe>0;Oe--){let je=y.evaluateAt(this.field.exp(Oe));w[p-Oe]=je,je!==0&&(A=!0)}if(!A)return 0;let O=this.field.getOne();if(g!=null)for(const Oe of g){let je=this.field.exp(l.length-1-Oe),Be=new Qr(this.field,new Int32Array([this.field.subtract(0,je),1]));O=O.multiply(Be)}let j=new Qr(this.field,w),L=this.runEuclideanAlgorithm(this.field.buildMonomial(p,1),j,p),W=L[0],te=L[1],oe=this.findErrorLocations(W),_e=this.findErrorMagnitudes(te,W,oe);for(let Oe=0;Oe<oe.length;Oe++){let je=l.length-1-this.field.log(oe[Oe]);if(je<0)throw x.getChecksumInstance();l[je]=this.field.subtract(l[je],_e[Oe])}return oe.length}runEuclideanAlgorithm(l,p,g){if(l.getDegree()<p.getDegree()){let oe=l;l=p,p=oe}let y=l,w=p,A=this.field.getZero(),O=this.field.getOne();for(;w.getDegree()>=Math.round(g/2);){let oe=y,_e=A;if(y=w,A=O,y.isZero())throw x.getChecksumInstance();w=oe;let Oe=this.field.getZero(),je=y.getCoefficient(y.getDegree()),Be=this.field.inverse(je);for(;w.getDegree()>=y.getDegree()&&!w.isZero();){let Ze=w.getDegree()-y.getDegree(),ct=this.field.multiply(w.getCoefficient(w.getDegree()),Be);Oe=Oe.add(this.field.buildMonomial(Ze,ct)),w=w.subtract(y.multiplyByMonomial(Ze,ct))}O=Oe.multiply(A).subtract(_e).negative()}let j=O.getCoefficient(0);if(j===0)throw x.getChecksumInstance();let L=this.field.inverse(j),W=O.multiply(L),te=w.multiply(L);return[W,te]}findErrorLocations(l){let p=l.getDegree(),g=new Int32Array(p),y=0;for(let w=1;w<this.field.getSize()&&y<p;w++)l.evaluateAt(w)===0&&(g[y]=this.field.inverse(w),y++);if(y!==p)throw x.getChecksumInstance();return g}findErrorMagnitudes(l,p,g){let y=p.getDegree(),w=new Int32Array(y);for(let L=1;L<=y;L++)w[y-L]=this.field.multiply(L,p.getCoefficient(L));let A=new Qr(this.field,w),O=g.length,j=new Int32Array(O);for(let L=0;L<O;L++){let W=this.field.inverse(g[L]),te=this.field.subtract(0,l.evaluateAt(W)),oe=this.field.inverse(A.evaluateAt(W));j[L]=this.field.multiply(te,oe)}return j}}class hs{constructor(l,p,g,y,w){l instanceof hs?this.constructor_2(l):this.constructor_1(l,p,g,y,w)}constructor_1(l,p,g,y,w){const A=p==null||g==null,O=y==null||w==null;if(A&&O)throw new ie;A?(p=new at(0,y.getY()),g=new at(0,w.getY())):O&&(y=new at(l.getWidth()-1,p.getY()),w=new at(l.getWidth()-1,g.getY())),this.image=l,this.topLeft=p,this.bottomLeft=g,this.topRight=y,this.bottomRight=w,this.minX=Math.trunc(Math.min(p.getX(),g.getX())),this.maxX=Math.trunc(Math.max(y.getX(),w.getX())),this.minY=Math.trunc(Math.min(p.getY(),y.getY())),this.maxY=Math.trunc(Math.max(g.getY(),w.getY()))}constructor_2(l){this.image=l.image,this.topLeft=l.getTopLeft(),this.bottomLeft=l.getBottomLeft(),this.topRight=l.getTopRight(),this.bottomRight=l.getBottomRight(),this.minX=l.getMinX(),this.maxX=l.getMaxX(),this.minY=l.getMinY(),this.maxY=l.getMaxY()}static merge(l,p){return l==null?p:p==null?l:new hs(l.image,l.topLeft,l.bottomLeft,p.topRight,p.bottomRight)}addMissingRows(l,p,g){let y=this.topLeft,w=this.bottomLeft,A=this.topRight,O=this.bottomRight;if(l>0){let j=g?this.topLeft:this.topRight,L=Math.trunc(j.getY()-l);L<0&&(L=0);let W=new at(j.getX(),L);g?y=W:A=W}if(p>0){let j=g?this.bottomLeft:this.bottomRight,L=Math.trunc(j.getY()+p);L>=this.image.getHeight()&&(L=this.image.getHeight()-1);let W=new at(j.getX(),L);g?w=W:O=W}return new hs(this.image,y,w,A,O)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class so{constructor(l,p,g,y){this.columnCount=l,this.errorCorrectionLevel=y,this.rowCountUpperPart=p,this.rowCountLowerPart=g,this.rowCount=p+g}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class al{constructor(){this.buffer=""}static form(l,p){let g=-1;function y(A,O,j,L,W,te){if(A==="%%")return"%";if(p[++g]===void 0)return;A=L?parseInt(L.substr(1)):void 0;let oe=W?parseInt(W.substr(1)):void 0,_e;switch(te){case"s":_e=p[g];break;case"c":_e=p[g][0];break;case"f":_e=parseFloat(p[g]).toFixed(A);break;case"p":_e=parseFloat(p[g]).toPrecision(A);break;case"e":_e=parseFloat(p[g]).toExponential(A);break;case"x":_e=parseInt(p[g]).toString(oe||16);break;case"d":_e=parseFloat(parseInt(p[g],oe||10).toPrecision(A)).toFixed(0);break}_e=typeof _e=="object"?JSON.stringify(_e):(+_e).toString(oe);let Oe=parseInt(j),je=j&&j[0]+""=="0"?"0":" ";for(;_e.length<Oe;)_e=O!==void 0?_e+je:je+_e;return _e}let w=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(w,y)}format(l,...p){this.buffer+=al.form(l,p)}toString(){return this.buffer}}class ma{constructor(l){this.boundingBox=new hs(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let p=this.getCodeword(l);if(p!=null)return p;for(let g=1;g<ma.MAX_NEARBY_DISTANCE;g++){let y=this.imageRowToCodewordIndex(l)-g;if(y>=0&&(p=this.codewords[y],p!=null)||(y=this.imageRowToCodewordIndex(l)+g,y<this.codewords.length&&(p=this.codewords[y],p!=null)))return p}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,p){this.codewords[this.imageRowToCodewordIndex(l)]=p}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new al;let p=0;for(const g of this.codewords){if(g==null){l.format("%3d:    |   %n",p++);continue}l.format("%3d: %3d|%3d%n",p++,g.getRowNumber(),g.getValue())}return l.toString()}}ma.MAX_NEARBY_DISTANCE=5;class oo{constructor(){this.values=new Map}setValue(l){l=Math.trunc(l);let p=this.values.get(l);p==null&&(p=0),p++,this.values.set(l,p)}getValue(){let l=-1,p=new Array;for(const[g,y]of this.values.entries()){const w={getKey:()=>g,getValue:()=>y};w.getValue()>l?(l=w.getValue(),p=[],p.push(w.getKey())):w.getValue()===l&&p.push(w.getKey())}return ur.toIntArray(p)}getConfidence(l){return this.values.get(l)}}class Nl extends ma{constructor(l,p){super(l),this._isLeft=p}setRowNumbers(){for(let l of this.getCodewords())l!=null&&l.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(l){let p=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(p,l);let g=this.getBoundingBox(),y=this._isLeft?g.getTopLeft():g.getTopRight(),w=this._isLeft?g.getBottomLeft():g.getBottomRight(),A=this.imageRowToCodewordIndex(Math.trunc(y.getY())),O=this.imageRowToCodewordIndex(Math.trunc(w.getY())),j=-1,L=1,W=0;for(let te=A;te<O;te++){if(p[te]==null)continue;let oe=p[te],_e=oe.getRowNumber()-j;if(_e===0)W++;else if(_e===1)L=Math.max(L,W),W=1,j=oe.getRowNumber();else if(_e<0||oe.getRowNumber()>=l.getRowCount()||_e>te)p[te]=null;else{let Oe;L>2?Oe=(L-2)*_e:Oe=_e;let je=Oe>=te;for(let Be=1;Be<=Oe&&!je;Be++)je=p[te-Be]!=null;je?p[te]=null:(j=oe.getRowNumber(),W=1)}}}getRowHeights(){let l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);let p=new Int32Array(l.getRowCount());for(let g of this.getCodewords())if(g!=null){let y=g.getRowNumber();if(y>=p.length)continue;p[y]++}return p}adjustIncompleteIndicatorColumnRowNumbers(l){let p=this.getBoundingBox(),g=this._isLeft?p.getTopLeft():p.getTopRight(),y=this._isLeft?p.getBottomLeft():p.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(g.getY())),A=this.imageRowToCodewordIndex(Math.trunc(y.getY())),O=this.getCodewords(),j=-1;for(let L=w;L<A;L++){if(O[L]==null)continue;let W=O[L];W.setRowNumberAsRowIndicatorColumn();let te=W.getRowNumber()-j;te===0||(te===1?j=W.getRowNumber():W.getRowNumber()>=l.getRowCount()?O[L]=null:j=W.getRowNumber())}}getBarcodeMetadata(){let l=this.getCodewords(),p=new oo,g=new oo,y=new oo,w=new oo;for(let O of l){if(O==null)continue;O.setRowNumberAsRowIndicatorColumn();let j=O.getValue()%30,L=O.getRowNumber();switch(this._isLeft||(L+=2),L%3){case 0:g.setValue(j*3+1);break;case 1:w.setValue(j/3),y.setValue(j%3);break;case 2:p.setValue(j+1);break}}if(p.getValue().length===0||g.getValue().length===0||y.getValue().length===0||w.getValue().length===0||p.getValue()[0]<1||g.getValue()[0]+y.getValue()[0]<ur.MIN_ROWS_IN_BARCODE||g.getValue()[0]+y.getValue()[0]>ur.MAX_ROWS_IN_BARCODE)return null;let A=new so(p.getValue()[0],g.getValue()[0],y.getValue()[0],w.getValue()[0]);return this.removeIncorrectCodewords(l,A),A}removeIncorrectCodewords(l,p){for(let g=0;g<l.length;g++){let y=l[g];if(l[g]==null)continue;let w=y.getValue()%30,A=y.getRowNumber();if(A>p.getRowCount()){l[g]=null;continue}switch(this._isLeft||(A+=2),A%3){case 0:w*3+1!==p.getRowCountUpperPart()&&(l[g]=null);break;case 1:(Math.trunc(w/3)!==p.getErrorCorrectionLevel()||w%3!==p.getRowCountLowerPart())&&(l[g]=null);break;case 2:w+1!==p.getColumnCount()&&(l[g]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ni{constructor(l,p){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=l,this.barcodeColumnCount=l.getColumnCount(),this.boundingBox=p,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l=ur.MAX_CODEWORDS_IN_BARCODE,p;do p=l,l=this.adjustRowNumbersAndGetCount();while(l>0&&l<p);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(l){l!=null&&l.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let l=this.adjustRowNumbersByRow();if(l===0)return 0;for(let p=1;p<this.barcodeColumnCount+1;p++){let g=this.detectionResultColumns[p].getCodewords();for(let y=0;y<g.length;y++)g[y]!=null&&(g[y].hasValidRowNumber()||this.adjustRowNumbers(p,y,g))}return l}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let l=this.detectionResultColumns[0].getCodewords(),p=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let g=0;g<l.length;g++)if(l[g]!=null&&p[g]!=null&&l[g].getRowNumber()===p[g].getRowNumber())for(let y=1;y<=this.barcodeColumnCount;y++){let w=this.detectionResultColumns[y].getCodewords()[g];w!=null&&(w.setRowNumber(l[g].getRowNumber()),w.hasValidRowNumber()||(this.detectionResultColumns[y].getCodewords()[g]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let l=0,p=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let g=0;g<p.length;g++){if(p[g]==null)continue;let y=p[g].getRowNumber(),w=0;for(let A=this.barcodeColumnCount+1;A>0&&w<this.ADJUST_ROW_NUMBER_SKIP;A--){let O=this.detectionResultColumns[A].getCodewords()[g];O!=null&&(w=ni.adjustRowNumberIfValid(y,w,O),O.hasValidRowNumber()||l++)}}return l}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let l=0,p=this.detectionResultColumns[0].getCodewords();for(let g=0;g<p.length;g++){if(p[g]==null)continue;let y=p[g].getRowNumber(),w=0;for(let A=1;A<this.barcodeColumnCount+1&&w<this.ADJUST_ROW_NUMBER_SKIP;A++){let O=this.detectionResultColumns[A].getCodewords()[g];O!=null&&(w=ni.adjustRowNumberIfValid(y,w,O),O.hasValidRowNumber()||l++)}}return l}static adjustRowNumberIfValid(l,p,g){return g==null||g.hasValidRowNumber()||(g.isValidRowNumber(l)?(g.setRowNumber(l),p=0):++p),p}adjustRowNumbers(l,p,g){if(!this.detectionResultColumns[l-1])return;let y=g[p],w=this.detectionResultColumns[l-1].getCodewords(),A=w;this.detectionResultColumns[l+1]!=null&&(A=this.detectionResultColumns[l+1].getCodewords());let O=new Array(14);O[2]=w[p],O[3]=A[p],p>0&&(O[0]=g[p-1],O[4]=w[p-1],O[5]=A[p-1]),p>1&&(O[8]=g[p-2],O[10]=w[p-2],O[11]=A[p-2]),p<g.length-1&&(O[1]=g[p+1],O[6]=w[p+1],O[7]=A[p+1]),p<g.length-2&&(O[9]=g[p+2],O[12]=w[p+2],O[13]=A[p+2]);for(let j of O)if(ni.adjustRowNumber(y,j))return}static adjustRowNumber(l,p){return p==null?!1:p.hasValidRowNumber()&&p.getBucket()===l.getBucket()?(l.setRowNumber(p.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(l){this.boundingBox=l}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(l,p){this.detectionResultColumns[l]=p}getDetectionResultColumn(l){return this.detectionResultColumns[l]}toString(){let l=this.detectionResultColumns[0];l==null&&(l=this.detectionResultColumns[this.barcodeColumnCount+1]);let p=new al;for(let g=0;g<l.getCodewords().length;g++){p.format("CW %3d:",g);for(let y=0;y<this.barcodeColumnCount+2;y++){if(this.detectionResultColumns[y]==null){p.format("    |   ");continue}let w=this.detectionResultColumns[y].getCodewords()[g];if(w==null){p.format("    |   ");continue}p.format(" %3d|%3d",w.getRowNumber(),w.getValue())}p.format("%n")}return p.toString()}}class $a{constructor(l,p,g,y){this.rowNumber=$a.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(p),this.bucket=Math.trunc(g),this.value=Math.trunc(y)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==$a.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}$a.BARCODE_ROW_UNKNOWN=-1;class jn{static initialize(){for(let l=0;l<ur.SYMBOL_TABLE.length;l++){let p=ur.SYMBOL_TABLE[l],g=p&1;for(let y=0;y<ur.BARS_IN_MODULE;y++){let w=0;for(;(p&1)===g;)w+=1,p>>=1;g=p&1,jn.RATIOS_TABLE[l]||(jn.RATIOS_TABLE[l]=new Array(ur.BARS_IN_MODULE)),jn.RATIOS_TABLE[l][ur.BARS_IN_MODULE-y-1]=Math.fround(w/ur.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(l){let p=jn.getDecodedCodewordValue(jn.sampleBitCounts(l));return p!==-1?p:jn.getClosestDecodedValue(l)}static sampleBitCounts(l){let p=rt.sum(l),g=new Int32Array(ur.BARS_IN_MODULE),y=0,w=0;for(let A=0;A<ur.MODULES_IN_CODEWORD;A++){let O=p/(2*ur.MODULES_IN_CODEWORD)+A*p/ur.MODULES_IN_CODEWORD;w+l[y]<=O&&(w+=l[y],y++),g[y]++}return g}static getDecodedCodewordValue(l){let p=jn.getBitValue(l);return ur.getCodeword(p)===-1?-1:p}static getBitValue(l){let p=0;for(let g=0;g<l.length;g++)for(let y=0;y<l[g];y++)p=p<<1|(g%2===0?1:0);return Math.trunc(p)}static getClosestDecodedValue(l){let p=rt.sum(l),g=new Array(ur.BARS_IN_MODULE);if(p>1)for(let A=0;A<g.length;A++)g[A]=Math.fround(l[A]/p);let y=er.MAX_VALUE,w=-1;this.bSymbolTableReady||jn.initialize();for(let A=0;A<jn.RATIOS_TABLE.length;A++){let O=0,j=jn.RATIOS_TABLE[A];for(let L=0;L<ur.BARS_IN_MODULE;L++){let W=Math.fround(j[L]-g[L]);if(O+=Math.fround(W*W),O>=y)break}O<y&&(y=O,w=ur.SYMBOL_TABLE[A])}return w}}jn.bSymbolTableReady=!1,jn.RATIOS_TABLE=new Array(ur.SYMBOL_TABLE.length).map(ee=>new Array(ur.BARS_IN_MODULE));class lo{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(l){this.segmentIndex=l}getFileId(){return this.fileId}setFileId(l){this.fileId=l}getOptionalData(){return this.optionalData}setOptionalData(l){this.optionalData=l}isLastSegment(){return this.lastSegment}setLastSegment(l){this.lastSegment=l}getSegmentCount(){return this.segmentCount}setSegmentCount(l){this.segmentCount=l}getSender(){return this.sender||null}setSender(l){this.sender=l}getAddressee(){return this.addressee||null}setAddressee(l){this.addressee=l}getFileName(){return this.fileName}setFileName(l){this.fileName=l}getFileSize(){return this.fileSize}setFileSize(l){this.fileSize=l}getChecksum(){return this.checksum}setChecksum(l){this.checksum=l}getTimestamp(){return this.timestamp}setTimestamp(l){this.timestamp=l}}class Ol{static parseLong(l,p=void 0){return parseInt(l,p)}}class sl extends c{}sl.kind="NullPointerException";class Po{writeBytes(l){this.writeBytesOffset(l,0,l.length)}writeBytesOffset(l,p,g){if(l==null)throw new sl;if(p<0||p>l.length||g<0||p+g>l.length||p+g<0)throw new T;if(g===0)return;for(let y=0;y<g;y++)this.write(l[p+y])}flush(){}close(){}}class Do extends c{}class Tl extends Po{constructor(l=32){if(super(),this.count=0,l<0)throw new m("Negative initial size: "+l);this.buf=new Uint8Array(l)}ensureCapacity(l){l-this.buf.length>0&&this.grow(l)}grow(l){let g=this.buf.length<<1;if(g-l<0&&(g=l),g<0){if(l<0)throw new Do;g=U.MAX_VALUE}this.buf=B.copyOfUint8Array(this.buf,g)}write(l){this.ensureCapacity(this.count+1),this.buf[this.count]=l,this.count+=1}writeBytesOffset(l,p,g){if(p<0||p>l.length||g<0||p+g-l.length>0)throw new T;this.ensureCapacity(this.count+g),C.arraycopy(l,p,this.buf,this.count,g),this.count+=g}writeTo(l){l.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return B.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(l){return l?typeof l=="string"?this.toString_string(l):this.toString_number(l):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(l){return new String(this.buf).toString()}toString_number(l){return new String(this.buf).toString()}close(){}}var nn;(function(ee){ee[ee.ALPHA=0]="ALPHA",ee[ee.LOWER=1]="LOWER",ee[ee.MIXED=2]="MIXED",ee[ee.PUNCT=3]="PUNCT",ee[ee.ALPHA_SHIFT=4]="ALPHA_SHIFT",ee[ee.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(nn||(nn={}));function co(){if(typeof window<"u")return window.BigInt||null;if(typeof qg<"u")return qg.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Es;function Vs(ee){if(typeof Es>"u"&&(Es=co()),Es===null)throw new Error("BigInt is not supported!");return Es(ee)}function Lo(){let ee=[];ee[0]=Vs(1);let l=Vs(900);ee[1]=l;for(let p=2;p<16;p++)ee[p]=ee[p-1]*l;return ee}class et{static decode(l,p){let g=new le(""),y=q.ISO8859_1;g.enableDecoding(y);let w=1,A=l[w++],O=new lo;for(;w<l[0];){switch(A){case et.TEXT_COMPACTION_MODE_LATCH:w=et.textCompaction(l,w,g);break;case et.BYTE_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH_6:w=et.byteCompaction(A,l,y,w,g);break;case et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[w++]);break;case et.NUMERIC_COMPACTION_MODE_LATCH:w=et.numericCompaction(l,w,g);break;case et.ECI_CHARSET:q.getCharacterSetECIByValue(l[w++]);break;case et.ECI_GENERAL_PURPOSE:w+=2;break;case et.ECI_USER_DEFINED:w++;break;case et.BEGIN_MACRO_PDF417_CONTROL_BLOCK:w=et.decodeMacroBlock(l,w,O);break;case et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case et.MACRO_PDF417_TERMINATOR:throw new V;default:w--,w=et.textCompaction(l,w,g);break}if(w<l.length)A=l[w++];else throw V.getFormatInstance()}if(g.length()===0)throw V.getFormatInstance();let j=new Ce(null,g.toString(),null,p);return j.setOther(O),j}static decodeMacroBlock(l,p,g){if(p+et.NUMBER_OF_SEQUENCE_CODEWORDS>l[0])throw V.getFormatInstance();let y=new Int32Array(et.NUMBER_OF_SEQUENCE_CODEWORDS);for(let O=0;O<et.NUMBER_OF_SEQUENCE_CODEWORDS;O++,p++)y[O]=l[p];g.setSegmentIndex(U.parseInt(et.decodeBase900toBase10(y,et.NUMBER_OF_SEQUENCE_CODEWORDS)));let w=new le;p=et.textCompaction(l,p,w),g.setFileId(w.toString());let A=-1;for(l[p]===et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(A=p+1);p<l[0];)switch(l[p]){case et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(p++,l[p]){case et.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let O=new le;p=et.textCompaction(l,p+1,O),g.setFileName(O.toString());break;case et.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let j=new le;p=et.textCompaction(l,p+1,j),g.setSender(j.toString());break;case et.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let L=new le;p=et.textCompaction(l,p+1,L),g.setAddressee(L.toString());break;case et.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let W=new le;p=et.numericCompaction(l,p+1,W),g.setSegmentCount(U.parseInt(W.toString()));break;case et.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let te=new le;p=et.numericCompaction(l,p+1,te),g.setTimestamp(Ol.parseLong(te.toString()));break;case et.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let oe=new le;p=et.numericCompaction(l,p+1,oe),g.setChecksum(U.parseInt(oe.toString()));break;case et.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let _e=new le;p=et.numericCompaction(l,p+1,_e),g.setFileSize(Ol.parseLong(_e.toString()));break;default:throw V.getFormatInstance()}break;case et.MACRO_PDF417_TERMINATOR:p++,g.setLastSegment(!0);break;default:throw V.getFormatInstance()}if(A!==-1){let O=p-A;g.isLastSegment()&&O--,g.setOptionalData(B.copyOfRange(l,A,A+O))}return p}static textCompaction(l,p,g){let y=new Int32Array((l[0]-p)*2),w=new Int32Array((l[0]-p)*2),A=0,O=!1;for(;p<l[0]&&!O;){let j=l[p++];if(j<et.TEXT_COMPACTION_MODE_LATCH)y[A]=j/30,y[A+1]=j%30,A+=2;else switch(j){case et.TEXT_COMPACTION_MODE_LATCH:y[A++]=et.TEXT_COMPACTION_MODE_LATCH;break;case et.BYTE_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH_6:case et.NUMERIC_COMPACTION_MODE_LATCH:case et.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case et.MACRO_PDF417_TERMINATOR:p--,O=!0;break;case et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y[A]=et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,j=l[p++],w[A]=j,A++;break}}return et.decodeTextCompaction(y,w,A,g),p}static decodeTextCompaction(l,p,g,y){let w=nn.ALPHA,A=nn.ALPHA,O=0;for(;O<g;){let j=l[O],L="";switch(w){case nn.ALPHA:if(j<26)L=String.fromCharCode(65+j);else switch(j){case 26:L=" ";break;case et.LL:w=nn.LOWER;break;case et.ML:w=nn.MIXED;break;case et.PS:A=w,w=nn.PUNCT_SHIFT;break;case et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(p[O]);break;case et.TEXT_COMPACTION_MODE_LATCH:w=nn.ALPHA;break}break;case nn.LOWER:if(j<26)L=String.fromCharCode(97+j);else switch(j){case 26:L=" ";break;case et.AS:A=w,w=nn.ALPHA_SHIFT;break;case et.ML:w=nn.MIXED;break;case et.PS:A=w,w=nn.PUNCT_SHIFT;break;case et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(p[O]);break;case et.TEXT_COMPACTION_MODE_LATCH:w=nn.ALPHA;break}break;case nn.MIXED:if(j<et.PL)L=et.MIXED_CHARS[j];else switch(j){case et.PL:w=nn.PUNCT;break;case 26:L=" ";break;case et.LL:w=nn.LOWER;break;case et.AL:w=nn.ALPHA;break;case et.PS:A=w,w=nn.PUNCT_SHIFT;break;case et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(p[O]);break;case et.TEXT_COMPACTION_MODE_LATCH:w=nn.ALPHA;break}break;case nn.PUNCT:if(j<et.PAL)L=et.PUNCT_CHARS[j];else switch(j){case et.PAL:w=nn.ALPHA;break;case et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(p[O]);break;case et.TEXT_COMPACTION_MODE_LATCH:w=nn.ALPHA;break}break;case nn.ALPHA_SHIFT:if(w=A,j<26)L=String.fromCharCode(65+j);else switch(j){case 26:L=" ";break;case et.TEXT_COMPACTION_MODE_LATCH:w=nn.ALPHA;break}break;case nn.PUNCT_SHIFT:if(w=A,j<et.PAL)L=et.PUNCT_CHARS[j];else switch(j){case et.PAL:w=nn.ALPHA;break;case et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(p[O]);break;case et.TEXT_COMPACTION_MODE_LATCH:w=nn.ALPHA;break}break}L!==""&&y.append(L),O++}}static byteCompaction(l,p,g,y,w){let A=new Tl,O=0,j=0,L=!1;switch(l){case et.BYTE_COMPACTION_MODE_LATCH:let W=new Int32Array(6),te=p[y++];for(;y<p[0]&&!L;)switch(W[O++]=te,j=900*j+te,te=p[y++],te){case et.TEXT_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH:case et.NUMERIC_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH_6:case et.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case et.MACRO_PDF417_TERMINATOR:y--,L=!0;break;default:if(O%5===0&&O>0){for(let oe=0;oe<6;++oe)A.write(Number(Vs(j)>>Vs(8*(5-oe))));j=0,O=0}break}y===p[0]&&te<et.TEXT_COMPACTION_MODE_LATCH&&(W[O++]=te);for(let oe=0;oe<O;oe++)A.write(W[oe]);break;case et.BYTE_COMPACTION_MODE_LATCH_6:for(;y<p[0]&&!L;){let oe=p[y++];if(oe<et.TEXT_COMPACTION_MODE_LATCH)O++,j=900*j+oe;else switch(oe){case et.TEXT_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH:case et.NUMERIC_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH_6:case et.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case et.MACRO_PDF417_TERMINATOR:y--,L=!0;break}if(O%5===0&&O>0){for(let _e=0;_e<6;++_e)A.write(Number(Vs(j)>>Vs(8*(5-_e))));j=0,O=0}}break}return w.append(G.decode(A.toByteArray(),g)),y}static numericCompaction(l,p,g){let y=0,w=!1,A=new Int32Array(et.MAX_NUMERIC_CODEWORDS);for(;p<l[0]&&!w;){let O=l[p++];if(p===l[0]&&(w=!0),O<et.TEXT_COMPACTION_MODE_LATCH)A[y]=O,y++;else switch(O){case et.TEXT_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH_6:case et.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case et.MACRO_PDF417_TERMINATOR:p--,w=!0;break}(y%et.MAX_NUMERIC_CODEWORDS===0||O===et.NUMERIC_COMPACTION_MODE_LATCH||w)&&y>0&&(g.append(et.decodeBase900toBase10(A,y)),y=0)}return p}static decodeBase900toBase10(l,p){let g=Vs(0);for(let w=0;w<p;w++)g+=et.EXP900[p-w-1]*Vs(l[w]);let y=g.toString();if(y.charAt(0)!=="1")throw new V;return y.substring(1)}}et.TEXT_COMPACTION_MODE_LATCH=900,et.BYTE_COMPACTION_MODE_LATCH=901,et.NUMERIC_COMPACTION_MODE_LATCH=902,et.BYTE_COMPACTION_MODE_LATCH_6=924,et.ECI_USER_DEFINED=925,et.ECI_GENERAL_PURPOSE=926,et.ECI_CHARSET=927,et.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,et.MACRO_PDF417_TERMINATOR=922,et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,et.MAX_NUMERIC_CODEWORDS=15,et.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,et.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,et.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,et.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,et.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,et.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,et.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,et.PL=25,et.LL=27,et.AS=27,et.ML=28,et.AL=28,et.PS=29,et.PAL=29,et.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,et.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",et.EXP900=co()?Lo():[],et.NUMBER_OF_SEQUENCE_CODEWORDS=2;class P{constructor(){}static decode(l,p,g,y,w,A,O){let j=new hs(l,p,g,y,w),L=null,W=null,te;for(let Oe=!0;;Oe=!1){if(p!=null&&(L=P.getRowIndicatorColumn(l,j,p,!0,A,O)),y!=null&&(W=P.getRowIndicatorColumn(l,j,y,!1,A,O)),te=P.merge(L,W),te==null)throw ie.getNotFoundInstance();let je=te.getBoundingBox();if(Oe&&je!=null&&(je.getMinY()<j.getMinY()||je.getMaxY()>j.getMaxY()))j=je;else break}te.setBoundingBox(j);let oe=te.getBarcodeColumnCount()+1;te.setDetectionResultColumn(0,L),te.setDetectionResultColumn(oe,W);let _e=L!=null;for(let Oe=1;Oe<=oe;Oe++){let je=_e?Oe:oe-Oe;if(te.getDetectionResultColumn(je)!==void 0)continue;let Be;je===0||je===oe?Be=new Nl(j,je===0):Be=new ma(j),te.setDetectionResultColumn(je,Be);let Ze=-1,ct=Ze;for(let ut=j.getMinY();ut<=j.getMaxY();ut++){if(Ze=P.getStartColumn(te,je,ut,_e),Ze<0||Ze>j.getMaxX()){if(ct===-1)continue;Ze=ct}let ot=P.detectCodeword(l,j.getMinX(),j.getMaxX(),_e,Ze,ut,A,O);ot!=null&&(Be.setCodeword(ut,ot),ct=Ze,A=Math.min(A,ot.getWidth()),O=Math.max(O,ot.getWidth()))}}return P.createDecoderResult(te)}static merge(l,p){if(l==null&&p==null)return null;let g=P.getBarcodeMetadata(l,p);if(g==null)return null;let y=hs.merge(P.adjustBoundingBox(l),P.adjustBoundingBox(p));return new ni(g,y)}static adjustBoundingBox(l){if(l==null)return null;let p=l.getRowHeights();if(p==null)return null;let g=P.getMax(p),y=0;for(let O of p)if(y+=g-O,O>0)break;let w=l.getCodewords();for(let O=0;y>0&&w[O]==null;O++)y--;let A=0;for(let O=p.length-1;O>=0&&(A+=g-p[O],!(p[O]>0));O--);for(let O=w.length-1;A>0&&w[O]==null;O--)A--;return l.getBoundingBox().addMissingRows(y,A,l.isLeft())}static getMax(l){let p=-1;for(let g of l)p=Math.max(p,g);return p}static getBarcodeMetadata(l,p){let g;if(l==null||(g=l.getBarcodeMetadata())==null)return p==null?null:p.getBarcodeMetadata();let y;return p==null||(y=p.getBarcodeMetadata())==null?g:g.getColumnCount()!==y.getColumnCount()&&g.getErrorCorrectionLevel()!==y.getErrorCorrectionLevel()&&g.getRowCount()!==y.getRowCount()?null:g}static getRowIndicatorColumn(l,p,g,y,w,A){let O=new Nl(p,y);for(let j=0;j<2;j++){let L=j===0?1:-1,W=Math.trunc(Math.trunc(g.getX()));for(let te=Math.trunc(Math.trunc(g.getY()));te<=p.getMaxY()&&te>=p.getMinY();te+=L){let oe=P.detectCodeword(l,0,l.getWidth(),y,W,te,w,A);oe!=null&&(O.setCodeword(te,oe),y?W=oe.getStartX():W=oe.getEndX())}}return O}static adjustCodewordCount(l,p){let g=p[0][1],y=g.getValue(),w=l.getBarcodeColumnCount()*l.getBarcodeRowCount()-P.getNumberOfECCodeWords(l.getBarcodeECLevel());if(y.length===0){if(w<1||w>ur.MAX_CODEWORDS_IN_BARCODE)throw ie.getNotFoundInstance();g.setValue(w)}else y[0]!==w&&g.setValue(w)}static createDecoderResult(l){let p=P.createBarcodeMatrix(l);P.adjustCodewordCount(l,p);let g=new Array,y=new Int32Array(l.getBarcodeRowCount()*l.getBarcodeColumnCount()),w=[],A=new Array;for(let j=0;j<l.getBarcodeRowCount();j++)for(let L=0;L<l.getBarcodeColumnCount();L++){let W=p[j][L+1].getValue(),te=j*l.getBarcodeColumnCount()+L;W.length===0?g.push(te):W.length===1?y[te]=W[0]:(A.push(te),w.push(W))}let O=new Array(w.length);for(let j=0;j<O.length;j++)O[j]=w[j];return P.createDecoderResultFromAmbiguousValues(l.getBarcodeECLevel(),y,ur.toIntArray(g),ur.toIntArray(A),O)}static createDecoderResultFromAmbiguousValues(l,p,g,y,w){let A=new Int32Array(y.length),O=100;for(;O-- >0;){for(let j=0;j<A.length;j++)p[y[j]]=w[j][A[j]];try{return P.decodeCodewords(p,l,g)}catch(j){if(!(j instanceof x))throw j}if(A.length===0)throw x.getChecksumInstance();for(let j=0;j<A.length;j++)if(A[j]<w[j].length-1){A[j]++;break}else if(A[j]=0,j===A.length-1)throw x.getChecksumInstance()}throw x.getChecksumInstance()}static createBarcodeMatrix(l){let p=Array.from({length:l.getBarcodeRowCount()},()=>new Array(l.getBarcodeColumnCount()+2));for(let y=0;y<p.length;y++)for(let w=0;w<p[y].length;w++)p[y][w]=new oo;let g=0;for(let y of l.getDetectionResultColumns()){if(y!=null){for(let w of y.getCodewords())if(w!=null){let A=w.getRowNumber();if(A>=0){if(A>=p.length)continue;p[A][g].setValue(w.getValue())}}}g++}return p}static isValidBarcodeColumn(l,p){return p>=0&&p<=l.getBarcodeColumnCount()+1}static getStartColumn(l,p,g,y){let w=y?1:-1,A=null;if(P.isValidBarcodeColumn(l,p-w)&&(A=l.getDetectionResultColumn(p-w).getCodeword(g)),A!=null)return y?A.getEndX():A.getStartX();if(A=l.getDetectionResultColumn(p).getCodewordNearby(g),A!=null)return y?A.getStartX():A.getEndX();if(P.isValidBarcodeColumn(l,p-w)&&(A=l.getDetectionResultColumn(p-w).getCodewordNearby(g)),A!=null)return y?A.getEndX():A.getStartX();let O=0;for(;P.isValidBarcodeColumn(l,p-w);){p-=w;for(let j of l.getDetectionResultColumn(p).getCodewords())if(j!=null)return(y?j.getEndX():j.getStartX())+w*O*(j.getEndX()-j.getStartX());O++}return y?l.getBoundingBox().getMinX():l.getBoundingBox().getMaxX()}static detectCodeword(l,p,g,y,w,A,O,j){w=P.adjustCodewordStartColumn(l,p,g,y,w,A);let L=P.getModuleBitCount(l,p,g,y,w,A);if(L==null)return null;let W,te=rt.sum(L);if(y)W=w+te;else{for(let Oe=0;Oe<L.length/2;Oe++){let je=L[Oe];L[Oe]=L[L.length-1-Oe],L[L.length-1-Oe]=je}W=w,w=W-te}if(!P.checkCodewordSkew(te,O,j))return null;let oe=jn.getDecodedValue(L),_e=ur.getCodeword(oe);return _e===-1?null:new $a(w,W,P.getCodewordBucketNumber(oe),_e)}static getModuleBitCount(l,p,g,y,w,A){let O=w,j=new Int32Array(8),L=0,W=y?1:-1,te=y;for(;(y?O<g:O>=p)&&L<j.length;)l.get(O,A)===te?(j[L]++,O+=W):(L++,te=!te);return L===j.length||O===(y?g:p)&&L===j.length-1?j:null}static getNumberOfECCodeWords(l){return 2<<l}static adjustCodewordStartColumn(l,p,g,y,w,A){let O=w,j=y?-1:1;for(let L=0;L<2;L++){for(;(y?O>=p:O<g)&&y===l.get(O,A);){if(Math.abs(w-O)>P.CODEWORD_SKEW_SIZE)return w;O+=j}j=-j,y=!y}return O}static checkCodewordSkew(l,p,g){return p-P.CODEWORD_SKEW_SIZE<=l&&l<=g+P.CODEWORD_SKEW_SIZE}static decodeCodewords(l,p,g){if(l.length===0)throw V.getFormatInstance();let y=1<<p+1,w=P.correctErrors(l,g,y);P.verifyCodewordCount(l,y);let A=et.decode(l,""+p);return A.setErrorsCorrected(w),A.setErasures(g.length),A}static correctErrors(l,p,g){if(p!=null&&p.length>g/2+P.MAX_ERRORS||g<0||g>P.MAX_EC_CODEWORDS)throw x.getChecksumInstance();return P.errorCorrection.decode(l,g,p)}static verifyCodewordCount(l,p){if(l.length<4)throw V.getFormatInstance();let g=l[0];if(g>l.length)throw V.getFormatInstance();if(g===0)if(p<l.length)l[0]=l.length-p;else throw V.getFormatInstance()}static getBitCountForCodeword(l){let p=new Int32Array(8),g=0,y=p.length-1;for(;!((l&1)!==g&&(g=l&1,y--,y<0));)p[y]++,l>>=1;return p}static getCodewordBucketNumber(l){return l instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(l):this.getCodewordBucketNumber_number(l)}static getCodewordBucketNumber_number(l){return P.getCodewordBucketNumber(P.getBitCountForCodeword(l))}static getCodewordBucketNumber_Int32Array(l){return(l[0]-l[2]+l[4]-l[6]+9)%9}static toString(l){let p=new al;for(let g=0;g<l.length;g++){p.format("Row %2d: ",g);for(let y=0;y<l[g].length;y++){let w=l[g][y];w.getValue().length===0?p.format("        ",null):p.format("%4d(%2d)",w.getValue()[0],w.getConfidence(w.getValue()[0]))}p.format("%n")}return p.toString()}}P.CODEWORD_SKEW_SIZE=2,P.MAX_ERRORS=3,P.MAX_EC_CODEWORDS=512,P.errorCorrection=new Wa;class re{decode(l,p=null){let g=re.decode(l,p,!1);if(g==null||g.length===0||g[0]==null)throw ie.getNotFoundInstance();return g[0]}decodeMultiple(l,p=null){try{return re.decode(l,p,!0)}catch(g){throw g instanceof V||g instanceof x?ie.getNotFoundInstance():g}}static decode(l,p,g){const y=new Array,w=fr.detectMultiple(l,p,g);for(const A of w.getPoints()){const O=P.decode(w.getBits(),A[4],A[5],A[6],A[7],re.getMinCodewordWidth(A),re.getMaxCodewordWidth(A)),j=new me(O.getText(),O.getRawBytes(),void 0,A,xe.PDF_417);j.putMetadata(ze.ERROR_CORRECTION_LEVEL,O.getECLevel());const L=O.getOther();L!=null&&j.putMetadata(ze.PDF417_EXTRA_METADATA,L),y.push(j)}return y.map(A=>A)}static getMaxWidth(l,p){return l==null||p==null?0:Math.trunc(Math.abs(l.getX()-p.getX()))}static getMinWidth(l,p){return l==null||p==null?U.MAX_VALUE:Math.trunc(Math.abs(l.getX()-p.getX()))}static getMaxCodewordWidth(l){return Math.floor(Math.max(Math.max(re.getMaxWidth(l[0],l[4]),re.getMaxWidth(l[6],l[2])*ur.MODULES_IN_CODEWORD/ur.MODULES_IN_STOP_PATTERN),Math.max(re.getMaxWidth(l[1],l[5]),re.getMaxWidth(l[7],l[3])*ur.MODULES_IN_CODEWORD/ur.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(l){return Math.floor(Math.min(Math.min(re.getMinWidth(l[0],l[4]),re.getMinWidth(l[6],l[2])*ur.MODULES_IN_CODEWORD/ur.MODULES_IN_STOP_PATTERN),Math.min(re.getMinWidth(l[1],l[5]),re.getMinWidth(l[7],l[3])*ur.MODULES_IN_CODEWORD/ur.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ae extends c{}Ae.kind="ReaderException";class ke{constructor(l,p){this.verbose=l===!0,p&&this.setHints(p)}decode(l,p){return p&&this.setHints(p),this.decodeInternal(l)}decodeWithState(l){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(l)}setHints(l){this.hints=l;const p=!n(l)&&l.get(Z.TRY_HARDER)===!0,g=n(l)?null:l.get(Z.POSSIBLE_FORMATS),y=new Array;if(!n(g)){const w=g.some(A=>A===xe.UPC_A||A===xe.UPC_E||A===xe.EAN_13||A===xe.EAN_8||A===xe.CODABAR||A===xe.CODE_39||A===xe.CODE_93||A===xe.CODE_128||A===xe.ITF||A===xe.RSS_14||A===xe.RSS_EXPANDED);w&&!p&&y.push(new Ha(l,this.verbose)),g.includes(xe.QR_CODE)&&y.push(new $s),g.includes(xe.DATA_MATRIX)&&y.push(new Ss),g.includes(xe.AZTEC)&&y.push(new Ht),g.includes(xe.PDF_417)&&y.push(new re),w&&p&&y.push(new Ha(l,this.verbose))}y.length===0&&(p||y.push(new Ha(l,this.verbose)),y.push(new $s),y.push(new Ss),y.push(new Ht),y.push(new re),p&&y.push(new Ha(l,this.verbose))),this.readers=y}reset(){if(this.readers!==null)for(const l of this.readers)l.reset()}decodeInternal(l){if(this.readers===null)throw new Ae("No readers where selected, nothing can be read.");for(const p of this.readers)try{return p.decode(l,this.hints)}catch(g){if(g instanceof Ae)continue}throw new ie("No MultiFormat Readers were able to detect the code.")}}class Fe extends de{constructor(l=null,p=500){const g=new ke;g.setHints(l),super(g,p)}decodeBitmap(l){return this.reader.decodeWithState(l)}}class dt extends de{constructor(l=500){super(new re,l)}}class yt extends de{constructor(l=500){super(new $s,l)}}var Mt;(function(ee){ee[ee.ERROR_CORRECTION=0]="ERROR_CORRECTION",ee[ee.CHARACTER_SET=1]="CHARACTER_SET",ee[ee.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",ee[ee.MIN_SIZE=3]="MIN_SIZE",ee[ee.MAX_SIZE=4]="MAX_SIZE",ee[ee.MARGIN=5]="MARGIN",ee[ee.PDF417_COMPACT=6]="PDF417_COMPACT",ee[ee.PDF417_COMPACTION=7]="PDF417_COMPACTION",ee[ee.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",ee[ee.AZTEC_LAYERS=9]="AZTEC_LAYERS",ee[ee.QR_VERSION=10]="QR_VERSION"})(Mt||(Mt={}));var St=Mt;class yr{constructor(l){this.field=l,this.cachedGenerators=[],this.cachedGenerators.push(new Je(l,Int32Array.from([1])))}buildGenerator(l){const p=this.cachedGenerators;if(l>=p.length){let g=p[p.length-1];const y=this.field;for(let w=p.length;w<=l;w++){const A=g.multiply(new Je(y,Int32Array.from([1,y.exp(w-1+y.getGeneratorBase())])));p.push(A),g=A}}return p[l]}encode(l,p){if(p===0)throw new m("No error correction bytes");const g=l.length-p;if(g<=0)throw new m("No data bytes provided");const y=this.buildGenerator(p),w=new Int32Array(g);C.arraycopy(l,0,w,0,g);let A=new Je(this.field,w);A=A.multiplyByMonomial(p,1);const j=A.divide(y)[1].getCoefficients(),L=p-j.length;for(let W=0;W<L;W++)l[g+W]=0;C.arraycopy(j,0,l,g+L,j.length)}}class Pt{constructor(){}static applyMaskPenaltyRule1(l){return Pt.applyMaskPenaltyRule1Internal(l,!0)+Pt.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let p=0;const g=l.getArray(),y=l.getWidth(),w=l.getHeight();for(let A=0;A<w-1;A++){const O=g[A];for(let j=0;j<y-1;j++){const L=O[j];L===O[j+1]&&L===g[A+1][j]&&L===g[A+1][j+1]&&p++}}return Pt.N2*p}static applyMaskPenaltyRule3(l){let p=0;const g=l.getArray(),y=l.getWidth(),w=l.getHeight();for(let A=0;A<w;A++)for(let O=0;O<y;O++){const j=g[A];O+6<y&&j[O]===1&&j[O+1]===0&&j[O+2]===1&&j[O+3]===1&&j[O+4]===1&&j[O+5]===0&&j[O+6]===1&&(Pt.isWhiteHorizontal(j,O-4,O)||Pt.isWhiteHorizontal(j,O+7,O+11))&&p++,A+6<w&&g[A][O]===1&&g[A+1][O]===0&&g[A+2][O]===1&&g[A+3][O]===1&&g[A+4][O]===1&&g[A+5][O]===0&&g[A+6][O]===1&&(Pt.isWhiteVertical(g,O,A-4,A)||Pt.isWhiteVertical(g,O,A+7,A+11))&&p++}return p*Pt.N3}static isWhiteHorizontal(l,p,g){p=Math.max(p,0),g=Math.min(g,l.length);for(let y=p;y<g;y++)if(l[y]===1)return!1;return!0}static isWhiteVertical(l,p,g,y){g=Math.max(g,0),y=Math.min(y,l.length);for(let w=g;w<y;w++)if(l[w][p]===1)return!1;return!0}static applyMaskPenaltyRule4(l){let p=0;const g=l.getArray(),y=l.getWidth(),w=l.getHeight();for(let j=0;j<w;j++){const L=g[j];for(let W=0;W<y;W++)L[W]===1&&p++}const A=l.getHeight()*l.getWidth();return Math.floor(Math.abs(p*2-A)*10/A)*Pt.N4}static getDataMaskBit(l,p,g){let y,w;switch(l){case 0:y=g+p&1;break;case 1:y=g&1;break;case 2:y=p%3;break;case 3:y=(g+p)%3;break;case 4:y=Math.floor(g/2)+Math.floor(p/3)&1;break;case 5:w=g*p,y=(w&1)+w%3;break;case 6:w=g*p,y=(w&1)+w%3&1;break;case 7:w=g*p,y=w%3+(g+p&1)&1;break;default:throw new m("Invalid mask pattern: "+l)}return y===0}static applyMaskPenaltyRule1Internal(l,p){let g=0;const y=p?l.getHeight():l.getWidth(),w=p?l.getWidth():l.getHeight(),A=l.getArray();for(let O=0;O<y;O++){let j=0,L=-1;for(let W=0;W<w;W++){const te=p?A[O][W]:A[W][O];te===L?j++:(j>=5&&(g+=Pt.N1+(j-5)),j=1,L=te)}j>=5&&(g+=Pt.N1+(j-5))}return g}}Pt.N1=3,Pt.N2=3,Pt.N3=40,Pt.N4=10;class Gr{constructor(l,p){this.width=l,this.height=p;const g=new Array(p);for(let y=0;y!==p;y++)g[y]=new Uint8Array(l);this.bytes=g}getHeight(){return this.height}getWidth(){return this.width}get(l,p){return this.bytes[p][l]}getArray(){return this.bytes}setNumber(l,p,g){this.bytes[p][l]=g}setBoolean(l,p,g){this.bytes[p][l]=g?1:0}clear(l){for(const p of this.bytes)B.fill(p,l)}equals(l){if(!(l instanceof Gr))return!1;const p=l;if(this.width!==p.width||this.height!==p.height)return!1;for(let g=0,y=this.height;g<y;++g){const w=this.bytes[g],A=p.bytes[g];for(let O=0,j=this.width;O<j;++O)if(w[O]!==A[O])return!1}return!0}toString(){const l=new le;for(let p=0,g=this.height;p<g;++p){const y=this.bytes[p];for(let w=0,A=this.width;w<A;++w)switch(y[w]){case 0:l.append(" 0");break;case 1:l.append(" 1");break;default:l.append("  ");break}l.append(`
`)}return l.toString()}}class gn{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new le;return l.append(`<<
`),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append(`
 ecLevel: `),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append(`
 version: `),l.append(this.version?this.version.toString():"null"),l.append(`
 maskPattern: `),l.append(this.maskPattern.toString()),this.matrix?(l.append(`
 matrix:
`),l.append(this.matrix.toString())):l.append(`
 matrix: null
`),l.append(`>>
`),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<gn.NUM_MASK_PATTERNS}}gn.NUM_MASK_PATTERNS=8;class Ar extends c{}Ar.kind="WriterException";class Et{constructor(){}static clearMatrix(l){l.clear(255)}static buildMatrix(l,p,g,y,w){Et.clearMatrix(w),Et.embedBasicPatterns(g,w),Et.embedTypeInfo(p,y,w),Et.maybeEmbedVersionInfo(g,w),Et.embedDataBits(l,y,w)}static embedBasicPatterns(l,p){Et.embedPositionDetectionPatternsAndSeparators(p),Et.embedDarkDotAtLeftBottomCorner(p),Et.maybeEmbedPositionAdjustmentPatterns(l,p),Et.embedTimingPatterns(p)}static embedTypeInfo(l,p,g){const y=new F;Et.makeTypeInfoBits(l,p,y);for(let w=0,A=y.getSize();w<A;++w){const O=y.get(y.getSize()-1-w),j=Et.TYPE_INFO_COORDINATES[w],L=j[0],W=j[1];if(g.setBoolean(L,W,O),w<8){const te=g.getWidth()-w-1;g.setBoolean(te,8,O)}else{const oe=g.getHeight()-7+(w-8);g.setBoolean(8,oe,O)}}}static maybeEmbedVersionInfo(l,p){if(l.getVersionNumber()<7)return;const g=new F;Et.makeVersionInfoBits(l,g);let y=17;for(let w=0;w<6;++w)for(let A=0;A<3;++A){const O=g.get(y);y--,p.setBoolean(w,p.getHeight()-11+A,O),p.setBoolean(p.getHeight()-11+A,w,O)}}static embedDataBits(l,p,g){let y=0,w=-1,A=g.getWidth()-1,O=g.getHeight()-1;for(;A>0;){for(A===6&&(A-=1);O>=0&&O<g.getHeight();){for(let j=0;j<2;++j){const L=A-j;if(!Et.isEmpty(g.get(L,O)))continue;let W;y<l.getSize()?(W=l.get(y),++y):W=!1,p!==255&&Pt.getDataMaskBit(p,L,O)&&(W=!W),g.setBoolean(L,O,W)}O+=w}w=-w,O+=w,A-=2}if(y!==l.getSize())throw new Ar("Not all bits consumed: "+y+"/"+l.getSize())}static findMSBSet(l){return 32-U.numberOfLeadingZeros(l)}static calculateBCHCode(l,p){if(p===0)throw new m("0 polynomial");const g=Et.findMSBSet(p);for(l<<=g-1;Et.findMSBSet(l)>=g;)l^=p<<Et.findMSBSet(l)-g;return l}static makeTypeInfoBits(l,p,g){if(!gn.isValidMaskPattern(p))throw new Ar("Invalid mask pattern");const y=l.getBits()<<3|p;g.appendBits(y,5);const w=Et.calculateBCHCode(y,Et.TYPE_INFO_POLY);g.appendBits(w,10);const A=new F;if(A.appendBits(Et.TYPE_INFO_MASK_PATTERN,15),g.xor(A),g.getSize()!==15)throw new Ar("should not happen but we got: "+g.getSize())}static makeVersionInfoBits(l,p){p.appendBits(l.getVersionNumber(),6);const g=Et.calculateBCHCode(l.getVersionNumber(),Et.VERSION_INFO_POLY);if(p.appendBits(g,12),p.getSize()!==18)throw new Ar("should not happen but we got: "+p.getSize())}static isEmpty(l){return l===255}static embedTimingPatterns(l){for(let p=8;p<l.getWidth()-8;++p){const g=(p+1)%2;Et.isEmpty(l.get(p,6))&&l.setNumber(p,6,g),Et.isEmpty(l.get(6,p))&&l.setNumber(6,p,g)}}static embedDarkDotAtLeftBottomCorner(l){if(l.get(8,l.getHeight()-8)===0)throw new Ar;l.setNumber(8,l.getHeight()-8,1)}static embedHorizontalSeparationPattern(l,p,g){for(let y=0;y<8;++y){if(!Et.isEmpty(g.get(l+y,p)))throw new Ar;g.setNumber(l+y,p,0)}}static embedVerticalSeparationPattern(l,p,g){for(let y=0;y<7;++y){if(!Et.isEmpty(g.get(l,p+y)))throw new Ar;g.setNumber(l,p+y,0)}}static embedPositionAdjustmentPattern(l,p,g){for(let y=0;y<5;++y){const w=Et.POSITION_ADJUSTMENT_PATTERN[y];for(let A=0;A<5;++A)g.setNumber(l+A,p+y,w[A])}}static embedPositionDetectionPattern(l,p,g){for(let y=0;y<7;++y){const w=Et.POSITION_DETECTION_PATTERN[y];for(let A=0;A<7;++A)g.setNumber(l+A,p+y,w[A])}}static embedPositionDetectionPatternsAndSeparators(l){const p=Et.POSITION_DETECTION_PATTERN[0].length;Et.embedPositionDetectionPattern(0,0,l),Et.embedPositionDetectionPattern(l.getWidth()-p,0,l),Et.embedPositionDetectionPattern(0,l.getWidth()-p,l);const g=8;Et.embedHorizontalSeparationPattern(0,g-1,l),Et.embedHorizontalSeparationPattern(l.getWidth()-g,g-1,l),Et.embedHorizontalSeparationPattern(0,l.getWidth()-g,l);const y=7;Et.embedVerticalSeparationPattern(y,0,l),Et.embedVerticalSeparationPattern(l.getHeight()-y-1,0,l),Et.embedVerticalSeparationPattern(y,l.getHeight()-y,l)}static maybeEmbedPositionAdjustmentPatterns(l,p){if(l.getVersionNumber()<2)return;const g=l.getVersionNumber()-1,y=Et.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[g];for(let w=0,A=y.length;w!==A;w++){const O=y[w];if(O>=0)for(let j=0;j!==A;j++){const L=y[j];L>=0&&Et.isEmpty(p.get(L,O))&&Et.embedPositionAdjustmentPattern(L-2,O-2,p)}}}}Et.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Et.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Et.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Et.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Et.VERSION_INFO_POLY=7973,Et.TYPE_INFO_POLY=1335,Et.TYPE_INFO_MASK_PATTERN=21522;class Ii{constructor(l,p){this.dataBytes=l,this.errorCorrectionBytes=p}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ir{constructor(){}static calculateMaskPenalty(l){return Pt.applyMaskPenaltyRule1(l)+Pt.applyMaskPenaltyRule2(l)+Pt.applyMaskPenaltyRule3(l)+Pt.applyMaskPenaltyRule4(l)}static encode(l,p,g=null){let y=Ir.DEFAULT_BYTE_MODE_ENCODING;const w=g!==null&&g.get(St.CHARACTER_SET)!==void 0;w&&(y=g.get(St.CHARACTER_SET).toString());const A=this.chooseMode(l,y),O=new F;if(A===rr.BYTE&&(w||Ir.DEFAULT_BYTE_MODE_ENCODING!==y)){const ut=q.getCharacterSetECIByName(y);ut!==void 0&&this.appendECI(ut,O)}this.appendModeInfo(A,O);const j=new F;this.appendBytes(l,A,j,y);let L;if(g!==null&&g.get(St.QR_VERSION)!==void 0){const ut=Number.parseInt(g.get(St.QR_VERSION).toString(),10);L=Tt.getVersionForNumber(ut);const ot=this.calculateBitsNeeded(A,O,j,L);if(!this.willFit(ot,L,p))throw new Ar("Data too big for requested version")}else L=this.recommendVersion(p,A,O,j);const W=new F;W.appendBitArray(O);const te=A===rr.BYTE?j.getSizeInBytes():l.length;this.appendLengthInfo(te,L,A,W),W.appendBitArray(j);const oe=L.getECBlocksForLevel(p),_e=L.getTotalCodewords()-oe.getTotalECCodewords();this.terminateBits(_e,W);const Oe=this.interleaveWithECBytes(W,L.getTotalCodewords(),_e,oe.getNumBlocks()),je=new gn;je.setECLevel(p),je.setMode(A),je.setVersion(L);const Be=L.getDimensionForVersion(),Ze=new Gr(Be,Be),ct=this.chooseMaskPattern(Oe,p,L,Ze);return je.setMaskPattern(ct),Et.buildMatrix(Oe,p,L,ct,Ze),je.setMatrix(Ze),je}static recommendVersion(l,p,g,y){const w=this.calculateBitsNeeded(p,g,y,Tt.getVersionForNumber(1)),A=this.chooseVersion(w,l),O=this.calculateBitsNeeded(p,g,y,A);return this.chooseVersion(O,l)}static calculateBitsNeeded(l,p,g,y){return p.getSize()+l.getCharacterCountBits(y)+g.getSize()}static getAlphanumericCode(l){return l<Ir.ALPHANUMERIC_TABLE.length?Ir.ALPHANUMERIC_TABLE[l]:-1}static chooseMode(l,p=null){if(q.SJIS.getName()===p&&this.isOnlyDoubleByteKanji(l))return rr.KANJI;let g=!1,y=!1;for(let w=0,A=l.length;w<A;++w){const O=l.charAt(w);if(Ir.isDigit(O))g=!0;else if(this.getAlphanumericCode(O.charCodeAt(0))!==-1)y=!0;else return rr.BYTE}return y?rr.ALPHANUMERIC:g?rr.NUMERIC:rr.BYTE}static isOnlyDoubleByteKanji(l){let p;try{p=G.encode(l,q.SJIS)}catch{return!1}const g=p.length;if(g%2!==0)return!1;for(let y=0;y<g;y+=2){const w=p[y]&255;if((w<129||w>159)&&(w<224||w>235))return!1}return!0}static chooseMaskPattern(l,p,g,y){let w=Number.MAX_SAFE_INTEGER,A=-1;for(let O=0;O<gn.NUM_MASK_PATTERNS;O++){Et.buildMatrix(l,p,g,O,y);let j=this.calculateMaskPenalty(y);j<w&&(w=j,A=O)}return A}static chooseVersion(l,p){for(let g=1;g<=40;g++){const y=Tt.getVersionForNumber(g);if(Ir.willFit(l,y,p))return y}throw new Ar("Data too big")}static willFit(l,p,g){const y=p.getTotalCodewords(),A=p.getECBlocksForLevel(g).getTotalECCodewords(),O=y-A,j=(l+7)/8;return O>=j}static terminateBits(l,p){const g=l*8;if(p.getSize()>g)throw new Ar("data bits cannot fit in the QR Code"+p.getSize()+" > "+g);for(let A=0;A<4&&p.getSize()<g;++A)p.appendBit(!1);const y=p.getSize()&7;if(y>0)for(let A=y;A<8;A++)p.appendBit(!1);const w=l-p.getSizeInBytes();for(let A=0;A<w;++A)p.appendBits((A&1)===0?236:17,8);if(p.getSize()!==g)throw new Ar("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(l,p,g,y,w,A){if(y>=g)throw new Ar("Block ID too large");const O=l%g,j=g-O,L=Math.floor(l/g),W=L+1,te=Math.floor(p/g),oe=te+1,_e=L-te,Oe=W-oe;if(_e!==Oe)throw new Ar("EC bytes mismatch");if(g!==j+O)throw new Ar("RS blocks mismatch");if(l!==(te+_e)*j+(oe+Oe)*O)throw new Ar("Total bytes mismatch");y<j?(w[0]=te,A[0]=_e):(w[0]=oe,A[0]=Oe)}static interleaveWithECBytes(l,p,g,y){if(l.getSizeInBytes()!==g)throw new Ar("Number of bits and data bytes does not match");let w=0,A=0,O=0;const j=new Array;for(let W=0;W<y;++W){const te=new Int32Array(1),oe=new Int32Array(1);Ir.getNumDataBytesAndNumECBytesForBlockID(p,g,y,W,te,oe);const _e=te[0],Oe=new Uint8Array(_e);l.toBytes(8*w,Oe,0,_e);const je=Ir.generateECBytes(Oe,oe[0]);j.push(new Ii(Oe,je)),A=Math.max(A,_e),O=Math.max(O,je.length),w+=te[0]}if(g!==w)throw new Ar("Data bytes does not match offset");const L=new F;for(let W=0;W<A;++W)for(const te of j){const oe=te.getDataBytes();W<oe.length&&L.appendBits(oe[W],8)}for(let W=0;W<O;++W)for(const te of j){const oe=te.getErrorCorrectionBytes();W<oe.length&&L.appendBits(oe[W],8)}if(p!==L.getSizeInBytes())throw new Ar("Interleaving error: "+p+" and "+L.getSizeInBytes()+" differ.");return L}static generateECBytes(l,p){const g=l.length,y=new Int32Array(g+p);for(let A=0;A<g;A++)y[A]=l[A]&255;new yr(lt.QR_CODE_FIELD_256).encode(y,p);const w=new Uint8Array(p);for(let A=0;A<p;A++)w[A]=y[g+A];return w}static appendModeInfo(l,p){p.appendBits(l.getBits(),4)}static appendLengthInfo(l,p,g,y){const w=g.getCharacterCountBits(p);if(l>=1<<w)throw new Ar(l+" is bigger than "+((1<<w)-1));y.appendBits(l,w)}static appendBytes(l,p,g,y){switch(p){case rr.NUMERIC:Ir.appendNumericBytes(l,g);break;case rr.ALPHANUMERIC:Ir.appendAlphanumericBytes(l,g);break;case rr.BYTE:Ir.append8BitBytes(l,g,y);break;case rr.KANJI:Ir.appendKanjiBytes(l,g);break;default:throw new Ar("Invalid mode: "+p)}}static getDigit(l){return l.charCodeAt(0)-48}static isDigit(l){const p=Ir.getDigit(l);return p>=0&&p<=9}static appendNumericBytes(l,p){const g=l.length;let y=0;for(;y<g;){const w=Ir.getDigit(l.charAt(y));if(y+2<g){const A=Ir.getDigit(l.charAt(y+1)),O=Ir.getDigit(l.charAt(y+2));p.appendBits(w*100+A*10+O,10),y+=3}else if(y+1<g){const A=Ir.getDigit(l.charAt(y+1));p.appendBits(w*10+A,7),y+=2}else p.appendBits(w,4),y++}}static appendAlphanumericBytes(l,p){const g=l.length;let y=0;for(;y<g;){const w=Ir.getAlphanumericCode(l.charCodeAt(y));if(w===-1)throw new Ar;if(y+1<g){const A=Ir.getAlphanumericCode(l.charCodeAt(y+1));if(A===-1)throw new Ar;p.appendBits(w*45+A,11),y+=2}else p.appendBits(w,6),y++}}static append8BitBytes(l,p,g){let y;try{y=G.encode(l,g)}catch(w){throw new Ar(w)}for(let w=0,A=y.length;w!==A;w++){const O=y[w];p.appendBits(O,8)}}static appendKanjiBytes(l,p){let g;try{g=G.encode(l,q.SJIS)}catch(w){throw new Ar(w)}const y=g.length;for(let w=0;w<y;w+=2){const A=g[w]&255,O=g[w+1]&255,j=A<<8&4294967295|O;let L=-1;if(j>=33088&&j<=40956?L=j-33088:j>=57408&&j<=60351&&(L=j-49472),L===-1)throw new Ar("Invalid byte sequence");const W=(L>>8)*192+(L&255);p.appendBits(W,13)}}static appendECI(l,p){p.appendBits(rr.ECI.getBits(),4),p.appendBits(l.getValue(),8)}}Ir.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ir.DEFAULT_BYTE_MODE_ENCODING=q.UTF8.getName();class Xn{write(l,p,g,y=null){if(l.length===0)throw new m("Found empty contents");if(p<0||g<0)throw new m("Requested dimensions are too small: "+p+"x"+g);let w=Or.L,A=Xn.QUIET_ZONE_SIZE;y!==null&&(y.get(St.ERROR_CORRECTION)!==void 0&&(w=Or.fromString(y.get(St.ERROR_CORRECTION).toString())),y.get(St.MARGIN)!==void 0&&(A=Number.parseInt(y.get(St.MARGIN).toString(),10)));const O=Ir.encode(l,w,y);return this.renderResult(O,p,g,A)}writeToDom(l,p,g,y,w=null){typeof l=="string"&&(l=document.querySelector(l));const A=this.write(p,g,y,w);l&&l.appendChild(A)}renderResult(l,p,g,y){const w=l.getMatrix();if(w===null)throw new ve;const A=w.getWidth(),O=w.getHeight(),j=A+y*2,L=O+y*2,W=Math.max(p,j),te=Math.max(g,L),oe=Math.min(Math.floor(W/j),Math.floor(te/L)),_e=Math.floor((W-A*oe)/2),Oe=Math.floor((te-O*oe)/2),je=this.createSVGElement(W,te);for(let Be=0,Ze=Oe;Be<O;Be++,Ze+=oe)for(let ct=0,ut=_e;ct<A;ct++,ut+=oe)if(w.get(ct,Be)===1){const ot=this.createSvgRectElement(ut,Ze,oe,oe);je.appendChild(ot)}return je}createSVGElement(l,p){const g=document.createElementNS(Xn.SVG_NS,"svg");return g.setAttributeNS(null,"height",l.toString()),g.setAttributeNS(null,"width",p.toString()),g}createSvgRectElement(l,p,g,y){const w=document.createElementNS(Xn.SVG_NS,"rect");return w.setAttributeNS(null,"x",l.toString()),w.setAttributeNS(null,"y",p.toString()),w.setAttributeNS(null,"height",g.toString()),w.setAttributeNS(null,"width",y.toString()),w.setAttributeNS(null,"fill","#000000"),w}}Xn.QUIET_ZONE_SIZE=4,Xn.SVG_NS="http://www.w3.org/2000/svg";class Va{encode(l,p,g,y,w){if(l.length===0)throw new m("Found empty contents");if(p!==xe.QR_CODE)throw new m("Can only encode QR_CODE, but got "+p);if(g<0||y<0)throw new m(`Requested dimensions are too small: ${g}x${y}`);let A=Or.L,O=Va.QUIET_ZONE_SIZE;w!==null&&(w.get(St.ERROR_CORRECTION)!==void 0&&(A=Or.fromString(w.get(St.ERROR_CORRECTION).toString())),w.get(St.MARGIN)!==void 0&&(O=Number.parseInt(w.get(St.MARGIN).toString(),10)));const j=Ir.encode(l,A,w);return Va.renderResult(j,g,y,O)}static renderResult(l,p,g,y){const w=l.getMatrix();if(w===null)throw new ve;const A=w.getWidth(),O=w.getHeight(),j=A+y*2,L=O+y*2,W=Math.max(p,j),te=Math.max(g,L),oe=Math.min(Math.floor(W/j),Math.floor(te/L)),_e=Math.floor((W-A*oe)/2),Oe=Math.floor((te-O*oe)/2),je=new J(W,te);for(let Be=0,Ze=Oe;Be<O;Be++,Ze+=oe)for(let ct=0,ut=_e;ct<A;ct++,ut+=oe)w.get(ct,Be)===1&&je.setRegion(ut,Ze,oe,oe);return je}}Va.QUIET_ZONE_SIZE=4;class Ys{encode(l,p,g,y,w){let A;switch(p){case xe.QR_CODE:A=new Va;break;default:throw new m("No encoder available for format "+p)}return A.encode(l,p,g,y,w)}}class Li extends we{constructor(l,p,g,y,w,A,O,j){if(super(A,O),this.yuvData=l,this.dataWidth=p,this.dataHeight=g,this.left=y,this.top=w,y+A>p||w+O>g)throw new m("Crop rectangle does not fit within image data.");j&&this.reverseHorizontal(A,O)}getRow(l,p){if(l<0||l>=this.getHeight())throw new m("Requested row is outside the image: "+l);const g=this.getWidth();(p==null||p.length<g)&&(p=new Uint8ClampedArray(g));const y=(l+this.top)*this.dataWidth+this.left;return C.arraycopy(this.yuvData,y,p,0,g),p}getMatrix(){const l=this.getWidth(),p=this.getHeight();if(l===this.dataWidth&&p===this.dataHeight)return this.yuvData;const g=l*p,y=new Uint8ClampedArray(g);let w=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return C.arraycopy(this.yuvData,w,y,0,g),y;for(let A=0;A<p;A++){const O=A*l;C.arraycopy(this.yuvData,w,y,O,l),w+=this.dataWidth}return y}isCropSupported(){return!0}crop(l,p,g,y){return new Li(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+p,g,y,!1)}renderThumbnail(){const l=this.getWidth()/Li.THUMBNAIL_SCALE_FACTOR,p=this.getHeight()/Li.THUMBNAIL_SCALE_FACTOR,g=new Int32Array(l*p),y=this.yuvData;let w=this.top*this.dataWidth+this.left;for(let A=0;A<p;A++){const O=A*l;for(let j=0;j<l;j++){const L=y[w+j*Li.THUMBNAIL_SCALE_FACTOR]&255;g[O+j]=4278190080|L*65793}w+=this.dataWidth*Li.THUMBNAIL_SCALE_FACTOR}return g}getThumbnailWidth(){return this.getWidth()/Li.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Li.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,p){const g=this.yuvData;for(let y=0,w=this.top*this.dataWidth+this.left;y<p;y++,w+=this.dataWidth){const A=w+l/2;for(let O=w,j=w+l-1;O<A;O++,j--){const L=g[O];g[O]=g[j],g[j]=L}}}invert(){return new Ie(this)}}Li.THUMBNAIL_SCALE_FACTOR=2;class Il extends we{constructor(l,p,g,y,w,A,O){if(super(p,g),this.dataWidth=y,this.dataHeight=w,this.left=A,this.top=O,l.BYTES_PER_ELEMENT===4){const j=p*g,L=new Uint8ClampedArray(j);for(let W=0;W<j;W++){const te=l[W],oe=te>>16&255,_e=te>>7&510,Oe=te&255;L[W]=(oe+_e+Oe)/4&255}this.luminances=L}else this.luminances=l;if(y===void 0&&(this.dataWidth=p),w===void 0&&(this.dataHeight=g),A===void 0&&(this.left=0),O===void 0&&(this.top=0),this.left+p>this.dataWidth||this.top+g>this.dataHeight)throw new m("Crop rectangle does not fit within image data.")}getRow(l,p){if(l<0||l>=this.getHeight())throw new m("Requested row is outside the image: "+l);const g=this.getWidth();(p==null||p.length<g)&&(p=new Uint8ClampedArray(g));const y=(l+this.top)*this.dataWidth+this.left;return C.arraycopy(this.luminances,y,p,0,g),p}getMatrix(){const l=this.getWidth(),p=this.getHeight();if(l===this.dataWidth&&p===this.dataHeight)return this.luminances;const g=l*p,y=new Uint8ClampedArray(g);let w=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return C.arraycopy(this.luminances,w,y,0,g),y;for(let A=0;A<p;A++){const O=A*l;C.arraycopy(this.luminances,w,y,O,l),w+=this.dataWidth}return y}isCropSupported(){return!0}crop(l,p,g,y){return new Il(this.luminances,g,y,this.dataWidth,this.dataHeight,this.left+l,this.top+p)}invert(){return new Ie(this)}}class kl extends q{static forName(l){return this.getCharacterSetECIByName(l)}}class Cs{}Cs.ISO_8859_1=q.ISO8859_1;class Ns{isCompact(){return this.compact}setCompact(l){this.compact=l}getSize(){return this.size}setSize(l){this.size=l}getLayers(){return this.layers}setLayers(l){this.layers=l}getCodeWords(){return this.codeWords}setCodeWords(l){this.codeWords=l}getMatrix(){return this.matrix}setMatrix(l){this.matrix=l}}class ol{static singletonList(l){return[l]}static min(l,p){return l.sort(p)[0]}}class Bo{constructor(l){this.previous=l}getPrevious(){return this.previous}}class Kn extends Bo{constructor(l,p,g){super(l),this.value=p,this.bitCount=g}appendTo(l,p){l.appendBits(this.value,this.bitCount)}add(l,p){return new Kn(this,l,p)}addBinaryShift(l,p){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Kn(this,l,p)}toString(){let l=this.value&(1<<this.bitCount)-1;return l|=1<<this.bitCount,"<"+U.toBinaryString(l|1<<this.bitCount).substring(1)+">"}}class uo extends Kn{constructor(l,p,g){super(l,0,0),this.binaryShiftStart=p,this.binaryShiftByteCount=g}appendTo(l,p){for(let g=0;g<this.binaryShiftByteCount;g++)(g===0||g===31&&this.binaryShiftByteCount<=62)&&(l.appendBits(31,5),this.binaryShiftByteCount>62?l.appendBits(this.binaryShiftByteCount-31,16):g===0?l.appendBits(Math.min(this.binaryShiftByteCount,31),5):l.appendBits(this.binaryShiftByteCount-31,5)),l.appendBits(p[this.binaryShiftStart+g],8)}addBinaryShift(l,p){return new uo(this,l,p)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ll(ee,l,p){return new uo(ee,l,p)}function fo(ee,l,p){return new Kn(ee,l,p)}const ho=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ii=0,Os=1,na=2,cc=3,ai=4,Xs=new Kn(null,0,0),Ks=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Vc(ee){for(let l of ee)B.fill(l,-1);return ee[ii][ai]=0,ee[Os][ai]=0,ee[Os][ii]=28,ee[cc][ai]=0,ee[na][ai]=0,ee[na][ii]=15,ee}const Ts=Vc(B.createInt32Array(6,6));class ia{constructor(l,p,g,y){this.token=l,this.mode=p,this.binaryShiftByteCount=g,this.bitCount=y}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(l,p){let g=this.bitCount,y=this.token;if(l!==this.mode){let A=Ks[this.mode][l];y=fo(y,A&65535,A>>16),g+=A>>16}let w=l===na?4:5;return y=fo(y,p,w),new ia(y,l,0,g+w)}shiftAndAppend(l,p){let g=this.token,y=this.mode===na?4:5;return g=fo(g,Ts[this.mode][l],y),g=fo(g,p,5),new ia(g,this.mode,0,this.bitCount+y+5)}addBinaryShiftChar(l){let p=this.token,g=this.mode,y=this.bitCount;if(this.mode===ai||this.mode===na){let O=Ks[g][ii];p=fo(p,O&65535,O>>16),y+=O>>16,g=ii}let w=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,A=new ia(p,g,this.binaryShiftByteCount+1,y+w);return A.binaryShiftByteCount===2078&&(A=A.endBinaryShift(l+1)),A}endBinaryShift(l){if(this.binaryShiftByteCount===0)return this;let p=this.token;return p=ll(p,l-this.binaryShiftByteCount,this.binaryShiftByteCount),new ia(p,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(l){let p=this.bitCount+(Ks[this.mode][l.mode]>>16);return this.binaryShiftByteCount<l.binaryShiftByteCount?p+=ia.calculateBinaryShiftCost(l)-ia.calculateBinaryShiftCost(this):this.binaryShiftByteCount>l.binaryShiftByteCount&&l.binaryShiftByteCount>0&&(p+=10),p<=l.bitCount}toBitArray(l){let p=[];for(let y=this.endBinaryShift(l.length).token;y!==null;y=y.getPrevious())p.unshift(y);let g=new F;for(const y of p)y.appendTo(g,l);return g}toString(){return H.format("%s bits=%d bytes=%d",ho[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(l){return l.binaryShiftByteCount>62?21:l.binaryShiftByteCount>31?20:l.binaryShiftByteCount>0?10:0}}ia.INITIAL_STATE=new ia(Xs,ii,0,0);function Ya(ee){const l=H.getCharCode(" "),p=H.getCharCode("."),g=H.getCharCode(",");ee[ii][l]=1;const y=H.getCharCode("Z"),w=H.getCharCode("A");for(let oe=w;oe<=y;oe++)ee[ii][oe]=oe-w+2;ee[Os][l]=1;const A=H.getCharCode("z"),O=H.getCharCode("a");for(let oe=O;oe<=A;oe++)ee[Os][oe]=oe-O+2;ee[na][l]=1;const j=H.getCharCode("9"),L=H.getCharCode("0");for(let oe=L;oe<=j;oe++)ee[na][oe]=oe-L+2;ee[na][g]=12,ee[na][p]=13;const W=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let oe=0;oe<W.length;oe++)ee[cc][H.getCharCode(W[oe])]=oe;const te=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let oe=0;oe<te.length;oe++)H.getCharCode(te[oe])>0&&(ee[ai][H.getCharCode(te[oe])]=oe);return ee}const aa=Ya(B.createInt32Array(5,256));class Xa{constructor(l){this.text=l}encode(){const l=H.getCharCode(" "),p=H.getCharCode(`
`);let g=ol.singletonList(ia.INITIAL_STATE);for(let w=0;w<this.text.length;w++){let A,O=w+1<this.text.length?this.text[w+1]:0;switch(this.text[w]){case H.getCharCode("\r"):A=O===p?2:0;break;case H.getCharCode("."):A=O===l?3:0;break;case H.getCharCode(","):A=O===l?4:0;break;case H.getCharCode(":"):A=O===l?5:0;break;default:A=0}A>0?(g=Xa.updateStateListForPair(g,w,A),w++):g=this.updateStateListForChar(g,w)}return ol.min(g,(w,A)=>w.getBitCount()-A.getBitCount()).toBitArray(this.text)}updateStateListForChar(l,p){const g=[];for(let y of l)this.updateStateForChar(y,p,g);return Xa.simplifyStates(g)}updateStateForChar(l,p,g){let y=this.text[p]&255,w=aa[l.getMode()][y]>0,A=null;for(let O=0;O<=ai;O++){let j=aa[O][y];if(j>0){if(A==null&&(A=l.endBinaryShift(p)),!w||O===l.getMode()||O===na){const L=A.latchAndAppend(O,j);g.push(L)}if(!w&&Ts[l.getMode()][O]>=0){const L=A.shiftAndAppend(O,j);g.push(L)}}}if(l.getBinaryShiftByteCount()>0||aa[l.getMode()][y]===0){let O=l.addBinaryShiftChar(p);g.push(O)}}static updateStateListForPair(l,p,g){const y=[];for(let w of l)this.updateStateForPair(w,p,g,y);return this.simplifyStates(y)}static updateStateForPair(l,p,g,y){let w=l.endBinaryShift(p);if(y.push(w.latchAndAppend(ai,g)),l.getMode()!==ai&&y.push(w.shiftAndAppend(ai,g)),g===3||g===4){let A=w.latchAndAppend(na,16-g).latchAndAppend(na,1);y.push(A)}if(l.getBinaryShiftByteCount()>0){let A=l.addBinaryShiftChar(p).addBinaryShiftChar(p+1);y.push(A)}}static simplifyStates(l){let p=[];for(const g of l){let y=!0;for(const w of p){if(w.isBetterThanOrEqualTo(g)){y=!1;break}g.isBetterThanOrEqualTo(w)&&(p=p.filter(A=>A!==w))}y&&p.push(g)}return p}}class jr{constructor(){}static encodeBytes(l){return jr.encode(l,jr.DEFAULT_EC_PERCENT,jr.DEFAULT_AZTEC_LAYERS)}static encode(l,p,g){let y=new Xa(l).encode(),w=U.truncDivision(y.getSize()*p,100)+11,A=y.getSize()+w,O,j,L,W,te;if(g!==jr.DEFAULT_AZTEC_LAYERS){if(O=g<0,j=Math.abs(g),j>(O?jr.MAX_NB_BITS_COMPACT:jr.MAX_NB_BITS))throw new m(H.format("Illegal value %s for layers",g));L=jr.totalBitsInLayer(j,O),W=jr.WORD_SIZE[j];let ot=L-L%W;if(te=jr.stuffBits(y,W),te.getSize()+w>ot)throw new m("Data to large for user specified layer");if(O&&te.getSize()>W*64)throw new m("Data to large for user specified layer")}else{W=0,te=null;for(let ot=0;;ot++){if(ot>jr.MAX_NB_BITS)throw new m("Data too large for an Aztec code");if(O=ot<=3,j=O?ot+1:ot,L=jr.totalBitsInLayer(j,O),A>L)continue;(te==null||W!==jr.WORD_SIZE[j])&&(W=jr.WORD_SIZE[j],te=jr.stuffBits(y,W));let nr=L-L%W;if(!(O&&te.getSize()>W*64)&&te.getSize()+w<=nr)break}}let oe=jr.generateCheckWords(te,L,W),_e=te.getSize()/W,Oe=jr.generateModeMessage(O,j,_e),je=(O?11:14)+j*4,Be=new Int32Array(je),Ze;if(O){Ze=je;for(let ot=0;ot<Be.length;ot++)Be[ot]=ot}else{Ze=je+1+2*U.truncDivision(U.truncDivision(je,2)-1,15);let ot=U.truncDivision(je,2),nr=U.truncDivision(Ze,2);for(let pr=0;pr<ot;pr++){let qn=pr+U.truncDivision(pr,15);Be[ot-pr-1]=nr-qn-1,Be[ot+pr]=nr+qn+1}}let ct=new J(Ze);for(let ot=0,nr=0;ot<j;ot++){let pr=(j-ot)*4+(O?9:12);for(let qn=0;qn<pr;qn++){let sa=qn*2;for(let Bi=0;Bi<2;Bi++)oe.get(nr+sa+Bi)&&ct.set(Be[ot*2+Bi],Be[ot*2+qn]),oe.get(nr+pr*2+sa+Bi)&&ct.set(Be[ot*2+qn],Be[je-1-ot*2-Bi]),oe.get(nr+pr*4+sa+Bi)&&ct.set(Be[je-1-ot*2-Bi],Be[je-1-ot*2-qn]),oe.get(nr+pr*6+sa+Bi)&&ct.set(Be[je-1-ot*2-qn],Be[ot*2+Bi])}nr+=pr*8}if(jr.drawModeMessage(ct,O,Ze,Oe),O)jr.drawBullsEye(ct,U.truncDivision(Ze,2),5);else{jr.drawBullsEye(ct,U.truncDivision(Ze,2),7);for(let ot=0,nr=0;ot<U.truncDivision(je,2)-1;ot+=15,nr+=16)for(let pr=U.truncDivision(Ze,2)&1;pr<Ze;pr+=2)ct.set(U.truncDivision(Ze,2)-nr,pr),ct.set(U.truncDivision(Ze,2)+nr,pr),ct.set(pr,U.truncDivision(Ze,2)-nr),ct.set(pr,U.truncDivision(Ze,2)+nr)}let ut=new Ns;return ut.setCompact(O),ut.setSize(Ze),ut.setLayers(j),ut.setCodeWords(_e),ut.setMatrix(ct),ut}static drawBullsEye(l,p,g){for(let y=0;y<g;y+=2)for(let w=p-y;w<=p+y;w++)l.set(w,p-y),l.set(w,p+y),l.set(p-y,w),l.set(p+y,w);l.set(p-g,p-g),l.set(p-g+1,p-g),l.set(p-g,p-g+1),l.set(p+g,p-g),l.set(p+g,p-g+1),l.set(p+g,p+g-1)}static generateModeMessage(l,p,g){let y=new F;return l?(y.appendBits(p-1,2),y.appendBits(g-1,6),y=jr.generateCheckWords(y,28,4)):(y.appendBits(p-1,5),y.appendBits(g-1,11),y=jr.generateCheckWords(y,40,4)),y}static drawModeMessage(l,p,g,y){let w=U.truncDivision(g,2);if(p)for(let A=0;A<7;A++){let O=w-3+A;y.get(A)&&l.set(O,w-5),y.get(A+7)&&l.set(w+5,O),y.get(20-A)&&l.set(O,w+5),y.get(27-A)&&l.set(w-5,O)}else for(let A=0;A<10;A++){let O=w-5+A+U.truncDivision(A,5);y.get(A)&&l.set(O,w-7),y.get(A+10)&&l.set(w+7,O),y.get(29-A)&&l.set(O,w+7),y.get(39-A)&&l.set(w-7,O)}}static generateCheckWords(l,p,g){let y=l.getSize()/g,w=new yr(jr.getGF(g)),A=U.truncDivision(p,g),O=jr.bitsToWords(l,g,A);w.encode(O,A-y);let j=p%g,L=new F;L.appendBits(0,j);for(const W of Array.from(O))L.appendBits(W,g);return L}static bitsToWords(l,p,g){let y=new Int32Array(g),w,A;for(w=0,A=l.getSize()/p;w<A;w++){let O=0;for(let j=0;j<p;j++)O|=l.get(w*p+j)?1<<p-j-1:0;y[w]=O}return y}static getGF(l){switch(l){case 4:return lt.AZTEC_PARAM;case 6:return lt.AZTEC_DATA_6;case 8:return lt.AZTEC_DATA_8;case 10:return lt.AZTEC_DATA_10;case 12:return lt.AZTEC_DATA_12;default:throw new m("Unsupported word size "+l)}}static stuffBits(l,p){let g=new F,y=l.getSize(),w=(1<<p)-2;for(let A=0;A<y;A+=p){let O=0;for(let j=0;j<p;j++)(A+j>=y||l.get(A+j))&&(O|=1<<p-1-j);(O&w)===w?(g.appendBits(O&w,p),A--):(O&w)===0?(g.appendBits(O|1,p),A--):g.appendBits(O,p)}return g}static totalBitsInLayer(l,p){return((p?88:112)+16*l)*l}}jr.DEFAULT_EC_PERCENT=33,jr.DEFAULT_AZTEC_LAYERS=0,jr.MAX_NB_BITS=32,jr.MAX_NB_BITS_COMPACT=4,jr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Is{encode(l,p,g,y){return this.encodeWithHints(l,p,g,y,null)}encodeWithHints(l,p,g,y,w){let A=Cs.ISO_8859_1,O=jr.DEFAULT_EC_PERCENT,j=jr.DEFAULT_AZTEC_LAYERS;return w!=null&&(w.has(St.CHARACTER_SET)&&(A=kl.forName(w.get(St.CHARACTER_SET).toString())),w.has(St.ERROR_CORRECTION)&&(O=U.parseInt(w.get(St.ERROR_CORRECTION).toString())),w.has(St.AZTEC_LAYERS)&&(j=U.parseInt(w.get(St.AZTEC_LAYERS).toString()))),Is.encodeLayers(l,p,g,y,A,O,j)}static encodeLayers(l,p,g,y,w,A,O){if(p!==xe.AZTEC)throw new m("Can only encode AZTEC, but got "+p);let j=jr.encode(H.getBytes(l,w),A,O);return Is.renderResult(j,g,y)}static renderResult(l,p,g){let y=l.getMatrix();if(y==null)throw new ve;let w=y.getWidth(),A=y.getHeight(),O=Math.max(p,w),j=Math.max(g,A),L=Math.min(O/w,j/A),W=(O-w*L)/2,te=(j-A*L)/2,oe=new J(O,j);for(let _e=0,Oe=te;_e<A;_e++,Oe+=L)for(let je=0,Be=W;je<w;je++,Be+=L)y.get(je,_e)&&oe.setRegion(Be,Oe,L,L);return oe}}r.AbstractExpandedDecoder=pn,r.ArgumentException=h,r.ArithmeticException=qe,r.AztecCode=Ns,r.AztecCodeReader=Ht,r.AztecCodeWriter=Is,r.AztecDecoder=_t,r.AztecDetector=Tr,r.AztecDetectorResult=ar,r.AztecEncoder=jr,r.AztecHighLevelEncoder=Xa,r.AztecPoint=Ot,r.BarcodeFormat=xe,r.Binarizer=E,r.BinaryBitmap=b,r.BitArray=F,r.BitMatrix=J,r.BitSource=ds,r.BrowserAztecCodeReader=ci,r.BrowserBarcodeReader=Wc,r.BrowserCodeReader=de,r.BrowserDatamatrixCodeReader=Ca,r.BrowserMultiFormatReader=Fe,r.BrowserPDF417Reader=dt,r.BrowserQRCodeReader=yt,r.BrowserQRCodeSvgWriter=Xn,r.CharacterSetECI=q,r.ChecksumException=x,r.Code128Reader=nt,r.Code39Reader=Rt,r.DataMatrixDecodedBitStreamParser=As,r.DataMatrixReader=Ss,r.DecodeHintType=Z,r.DecoderResult=Ce,r.DefaultGridSampler=Ur,r.DetectorResult=ir,r.EAN13Reader=_r,r.EncodeHintType=St,r.Exception=c,r.FormatException=V,r.GenericGF=lt,r.GenericGFPoly=Je,r.GlobalHistogramBinarizer=ne,r.GridSampler=Br,r.GridSamplerInstance=Cr,r.HTMLCanvasElementLuminanceSource=Me,r.HybridBinarizer=fe,r.ITFReader=Bt,r.IllegalArgumentException=m,r.IllegalStateException=ve,r.InvertedLuminanceSource=Ie,r.LuminanceSource=we,r.MathUtils=rt,r.MultiFormatOneDReader=Ha,r.MultiFormatReader=ke,r.MultiFormatWriter=Ys,r.NotFoundException=ie,r.OneDReader=tr,r.PDF417DecodedBitStreamParser=et,r.PDF417DecoderErrorCorrection=Wa,r.PDF417Reader=re,r.PDF417ResultMetadata=lo,r.PerspectiveTransform=lr,r.PlanarYUVLuminanceSource=Li,r.QRCodeByteMatrix=Gr,r.QRCodeDataMask=pa,r.QRCodeDecodedBitStreamParser=_n,r.QRCodeDecoderErrorCorrectionLevel=Or,r.QRCodeDecoderFormatInformation=di,r.QRCodeEncoder=Ir,r.QRCodeEncoderQRCode=gn,r.QRCodeMaskUtil=Pt,r.QRCodeMatrixUtil=Et,r.QRCodeMode=rr,r.QRCodeReader=$s,r.QRCodeVersion=Tt,r.QRCodeWriter=Va,r.RGBLuminanceSource=Il,r.RSS14Reader=rn,r.RSSExpandedReader=mt,r.ReaderException=Ae,r.ReedSolomonDecoder=wt,r.ReedSolomonEncoder=yr,r.ReedSolomonException=bt,r.Result=me,r.ResultMetadataType=ze,r.ResultPoint=at,r.StringUtils=H,r.UnsupportedOperationException=se,r.VideoInputDevice=pe,r.WhiteRectangleDetector=vr,r.WriterException=Ar,r.ZXingArrays=B,r.ZXingCharset=kl,r.ZXingInteger=U,r.ZXingStandardCharsets=Cs,r.ZXingStringBuilder=le,r.ZXingStringEncoding=G,r.ZXingSystem=C,r.createAbstractExpandedDecoder=il,Object.defineProperty(r,"__esModule",{value:!0})}))})(F1,F1.exports)),F1.exports}var ji=vfe();const yfe=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var qT=(function(){function e(t,r,n){if(this.formatMap=new Map([[Dt.QR_CODE,ji.BarcodeFormat.QR_CODE],[Dt.AZTEC,ji.BarcodeFormat.AZTEC],[Dt.CODABAR,ji.BarcodeFormat.CODABAR],[Dt.CODE_39,ji.BarcodeFormat.CODE_39],[Dt.CODE_93,ji.BarcodeFormat.CODE_93],[Dt.CODE_128,ji.BarcodeFormat.CODE_128],[Dt.DATA_MATRIX,ji.BarcodeFormat.DATA_MATRIX],[Dt.MAXICODE,ji.BarcodeFormat.MAXICODE],[Dt.ITF,ji.BarcodeFormat.ITF],[Dt.EAN_13,ji.BarcodeFormat.EAN_13],[Dt.EAN_8,ji.BarcodeFormat.EAN_8],[Dt.PDF_417,ji.BarcodeFormat.PDF_417],[Dt.RSS_14,ji.BarcodeFormat.RSS_14],[Dt.RSS_EXPANDED,ji.BarcodeFormat.RSS_EXPANDED],[Dt.UPC_A,ji.BarcodeFormat.UPC_A],[Dt.UPC_E,ji.BarcodeFormat.UPC_E],[Dt.UPC_EAN_EXTENSION,ji.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!yfe)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),a=new Map;a.set(ji.DecodeHintType.POSSIBLE_FORMATS,i),a.set(ji.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var r=new ji.MultiFormatReader(this.verbose,this.hints),n=new ji.HTMLCanvasElementLuminanceSource(t),i=new ji.BinaryBitmap(new ji.HybridBinarizer(n)),a=r.decode(i);return{text:a.text,format:kL.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),bfe=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function u(h){try{c(n.next(h))}catch(m){o(m)}}function d(h){try{c(n.throw(h))}catch(m){o(m)}}function c(h){h.done?a(h.value):i(h.value).then(u,d)}c((n=n.apply(e,t||[])).next())})},xfe=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return d([c,h])}}function d(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(h){c=[6,h],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},HT=(function(){function e(t,r,n){if(this.formatMap=new Map([[Dt.QR_CODE,"qr_code"],[Dt.AZTEC,"aztec"],[Dt.CODABAR,"codabar"],[Dt.CODE_39,"code_39"],[Dt.CODE_93,"code_93"],[Dt.CODE_128,"code_128"],[Dt.DATA_MATRIX,"data_matrix"],[Dt.ITF,"itf"],[Dt.EAN_13,"ean_13"],[Dt.EAN_8,"ean_8"],[Dt.PDF_417,"pdf417"],[Dt.UPC_A,"upc_a"],[Dt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return bfe(this,void 0,void 0,function(){var r,n;return xfe(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:kL.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,a=t;i<a.length;i++){var o=a[i],u=o.boundingBox.width*o.boundingBox.height;u>n&&(n=u,r=o)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),GT=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function u(h){try{c(n.next(h))}catch(m){o(m)}}function d(h){try{c(n.throw(h))}catch(m){o(m)}}function c(h){h.done?a(h.value):i(h.value).then(u,d)}c((n=n.apply(e,t||[])).next())})},WT=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return d([c,h])}}function d(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(h){c=[6,h],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},wfe=(function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&HT.isSupported()?(this.primaryDecoder=new HT(t,n,i),this.secondaryDecoder=new qT(t,n,i)):this.primaryDecoder=new qT(t,n,i)}return e.prototype.decodeAsync=function(t){return GT(this,void 0,void 0,function(){var r;return WT(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return GT(this,void 0,void 0,function(){var r,n;return WT(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),bS=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),C2=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function u(h){try{c(n.next(h))}catch(m){o(m)}}function d(h){try{c(n.throw(h))}catch(m){o(m)}}function c(h){h.done?a(h.value):i(h.value).then(u,d)}c((n=n.apply(e,t||[])).next())})},N2=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return d([c,h])}}function d(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(h){c=[6,h],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},PL=(function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e})(),_fe=(function(e){bS(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(PL),Afe=(function(e){bS(t,e);function t(r){return e.call(this,"zoom",r)||this}return t})(_fe),Sfe=(function(e){bS(t,e);function t(r){return e.call(this,"torch",r)||this}return t})(PL),Efe=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new Afe(this.track)},e.prototype.torchFeature=function(){return new Sfe(this.track)},e})(),Cfe=(function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return C2(this,void 0,void 0,function(){var a,o;return N2(this,function(u){switch(u.label){case 0:return a=new e(t,r,i),n.aspectRatio?(o={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:u.sent(),u.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return C2(this,void 0,void 0,function(){return N2(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),a=i.length,o=0;t.mediaStream.getVideoTracks().forEach(function(u){t.mediaStream.removeTrack(u),u.stop(),++o,o>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new Efe(this.getFirstTrackOrFail())},e})(),Nfe=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return C2(this,void 0,void 0,function(){return N2(this,function(i){return[2,Cfe.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return C2(this,void 0,void 0,function(){var r,n;return N2(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e})(),$T=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function u(h){try{c(n.next(h))}catch(m){o(m)}}function d(h){try{c(n.throw(h))}catch(m){o(m)}}function c(h){h.done?a(h.value):i(h.value).then(u,d)}c((n=n.apply(e,t||[])).next())})},VT=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return d([c,h])}}function d(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(h){c=[6,h],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Ofe=(function(){function e(){}return e.failIfNotSupported=function(){return $T(this,void 0,void 0,function(){return VT(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return $T(this,void 0,void 0,function(){return VT(this,function(r){return[2,Nfe.create(t)]})})},e})(),Tfe=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function u(h){try{c(n.next(h))}catch(m){o(m)}}function d(h){try{c(n.throw(h))}catch(m){o(m)}}function c(h){h.done?a(h.value):i(h.value).then(u,d)}c((n=n.apply(e,t||[])).next())})},Ife=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return d([c,h])}}function d(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(h){c=[6,h],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},kfe=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Kh.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Kh.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return Tfe(this,void 0,void 0,function(){var t,r,n,i,a,o,u;return Ife(this,function(d){switch(d.label){case 0:return t=function(c){for(var h=c.getVideoTracks(),m=0,b=h;m<b.length;m++){var x=b[m];x.enabled=!1,x.stop(),c.removeTrack(x)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=d.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=d.sent(),i=[],a=0,o=n;a<o.length;a++)u=o[a],u.kind==="videoinput"&&i.push({id:u.deviceId,label:u.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(a){for(var o=[],u=0,d=a;u<d.length;u++){var c=d[u];c.kind==="video"&&o.push({id:c.id,label:c.label})}t(o)},i=MediaStreamTrack;i.getSources(n)})},e})(),Vi;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Vi||(Vi={}));var Mfe=(function(){function e(){this.state=Vi.NOT_STARTED,this.onGoingTransactionNewState=Vi.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Vi.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Vi.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Vi.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Vi.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Vi.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Vi.UNKNOWN:throw"Transition from unknown is not allowed";case Vi.NOT_STARTED:this.failIfNewStateIs(t,[Vi.PAUSED]);break;case Vi.SCANNING:break;case Vi.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),jfe=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Vi.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Vi.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Vi.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Vi.PAUSED},e})(),Rfe=(function(){function e(){}return e.create=function(){return new jfe(new Mfe)},e})(),Pfe=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Vo=(function(e){Pfe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(Vl),Dfe=(function(){function e(t,r){this.logger=r,this.fps=Vo.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Vo.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?RL.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Tc(this.qrbox)},e.create=function(t,r){return new e(t,r)},e})(),YT=(function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new jL(this.verbose),this.qrcode=new wfe(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Rfe.create()}return e.prototype.start=function(t,r,n,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var u=Dfe.create(r,this.logger);this.clearElement();var d=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?d=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var c=d,h=document.getElementById(this.elementId);h.clientWidth?h.clientWidth:Vo.DEFAULT_WIDTH,h.style.position="relative",this.shouldScan=!0,this.element=h;var m=this,b=this.stateManagerProxy.startTransition(Vi.SCANNING);return new Promise(function(x,E){var C=c?u.videoConstraints:m.createVideoConstraints(t);if(!C){b.cancel(),E("videoConstraints should be defined");return}var T={};(!c||u.aspectRatio)&&(T.aspectRatio=u.aspectRatio);var I={onRenderSurfaceReady:function(B,U){m.setupUi(B,U,u),m.isScanning=!0,m.foreverScan(u,n,o)}};Ofe.failIfNotSupported().then(function(B){B.create(C).then(function(U){return U.render(a.element,T,I).then(function(F){m.renderedCamera=F,b.execute(),x(null)}).catch(function(F){b.cancel(),E(F)})}).catch(function(U){b.cancel(),E(Kh.errorGettingUserMedia(U))})}).catch(function(B){b.cancel(),E(Kh.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Vi.PAUSED),this.showPausedState(),(Tc(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Vi.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Vi.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var a=document.getElementById(Vo.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Tc(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var u=o.width,d=o.height,c=document.getElementById(n.elementId),h=c.clientWidth?c.clientWidth:Vo.DEFAULT_WIDTH,m=Math.max(c.clientHeight?c.clientHeight:d,Vo.FILE_SCAN_MIN_HEIGHT),b=n.computeCanvasDrawConfig(u,d,h,m);if(r){var x=n.createCanvasElement(h,m,"qr-canvas-visible");x.style.display="inline-block",c.appendChild(x);var E=x.getContext("2d");if(!E)throw"Unable to get 2d context from canvas";E.canvas.width=h,E.canvas.height=m,E.drawImage(o,0,0,u,d,b.x,b.y,b.width,b.height)}var C=Vo.FILE_SCAN_HIDDEN_CANVAS_PADDING,T=Math.max(o.width,b.width),I=Math.max(o.height,b.height),B=T+2*C,U=I+2*C,F=n.createCanvasElement(B,U);c.appendChild(F);var K=F.getContext("2d");if(!K)throw"Unable to get 2d context from canvas";K.canvas.width=B,K.canvas.height=U,K.drawImage(o,0,0,u,d,C,C,T,I);try{n.qrcode.decodeRobustlyAsync(F).then(function(Z){i(FT.createFromQrcodeResult(Z))}).catch(a)}catch(Z){a("QR code parse error, error = ".concat(Z))}},o.onerror=a,o.onabort=a,o.onstalled=a,o.onsuspend=a,o.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return kfe.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!RL.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[Dt.QR_CODE,Dt.AZTEC,Dt.CODABAR,Dt.CODE_39,Dt.CODE_93,Dt.CODE_128,Dt.DATA_MATRIX,Dt.MAXICODE,Dt.ITF,Dt.EAN_13,Dt.EAN_8,Dt.PDF_417,Dt.RSS_14,Dt.RSS_EXPANDED,Dt.UPC_A,Dt.UPC_E,Dt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=t.formatsToSupport;i<a.length;i++){var o=a[i];pfe(o)?n.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Tc(t))return!0;if(!Tc(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Tc(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return Tc(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var o=this.toQrdimensions(t,r,a),u=function(c){if(c<Vo.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Vo.MIN_QR_BOX_SIZE,"px.")},d=function(c){return c>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),c=t),c};u(o.width),u(o.height),o.width=d(o.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=Tc(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,r,i);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=n.isShadedBoxEnabled()&&a.height<=r,u={x:0,y:0,width:t,height:r},d=o?this.getShadedRegionBounds(t,r,a):u,c=this.createCanvasElement(d.width,d.height),h={willReadFrequently:!0},m=c.getContext("2d",h);m.canvas.width=d.width,m.canvas.height=d.height,this.element.append(c),o&&this.possiblyInsertShadingElement(this.element,t,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=d,this.context=m,this.canvasElement=c},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=Kh.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,FT.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=Kh.codeParseError(i);return r(a,ML.createFrom(a)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),o=a.videoWidth/a.clientWidth,u=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var d=this.qrRegion.width*o,c=this.qrRegion.height*u,h=this.qrRegion.x*o,m=this.qrRegion.y*u;this.context.drawImage(a,h,m,d,c,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(x){!x&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){b()})):b()}).catch(function(x){i.logger.logError("Error happend while scanning context",x),b()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},a="exact",o=function(E){if(E in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(E,"'")},u=Object.keys(t);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var d=Object.keys(t)[0];if(d!==r&&d!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(d===r){var c=t.facingMode;if(typeof c=="string"){if(o(c))return{facingMode:c}}else if(typeof c=="object")if(a in c){if(o(c["".concat(a)]))return{facingMode:{exact:c["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var h=typeof c;throw"Invalid type of 'facingMode' = ".concat(h)}}else{var m=t.deviceId;if(typeof m=="string")return{deviceId:m};if(typeof m=="object"){if(a in m)return{deviceId:{exact:m["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var b=typeof m;throw"Invalid type of 'deviceId' = ".concat(b)}}}var x=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(x)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var a=(n-t)/2,o=(i-r)/2;return{x:a,y:o,width:t,height:r}}else{var u=t,d=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(d)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?Vo.BORDER_SHADER_MATCH_COLOR:Vo.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,a=r,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(a,"px"),o.style.display="none",o.id=Tc(n)?"qr-canvas":n,o},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var o=(r-i.width)/2,u=(n-i.height)/2;if(a.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(Vo.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var d=5,c=40;this.insertShaderBorders(a,c,d,-d,null,0,!0),this.insertShaderBorders(a,c,d,-d,null,0,!1),this.insertShaderBorders(a,c,d,null,-d,0,!0),this.insertShaderBorders(a,c,d,null,-d,0,!1),this.insertShaderBorders(a,d,c+d,-d,null,-d,!0),this.insertShaderBorders(a,d,c+d,null,-d,-d,!0),this.insertShaderBorders(a,d,c+d,-d,null,-d,!1),this.insertShaderBorders(a,d,c+d,null,-d,-d,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,r,n,i,a,o,u){var d=document.createElement("div");d.style.position="absolute",d.style.backgroundColor=Vo.BORDER_SHADER_DEFAULT_COLOR,d.style.width="".concat(r,"px"),d.style.height="".concat(n,"px"),i!==null&&(d.style.top="".concat(i,"px")),a!==null&&(d.style.bottom="".concat(a,"px")),u?d.style.left="".concat(o,"px"):d.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(d),t.appendChild(d)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),xS="data:image/svg+xml;base64,",Lfe=xS+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Bfe=xS+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",XT=xS+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Ffe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",KT=(function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e})(),Ufe=(function(){function e(){this.data=KT.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=KT.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e})(),zfe=(function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=UT.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var n=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(i);var a=document.createElement("a");a.innerText=UT.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e})(),qfe=(function(){function e(t,r){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=r,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=XT,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(n){return r.onHoverIn()},this.infoIcon.onmouseout=function(n){return r.onHoverOut()},this.infoIcon.onclick=function(n){return r.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Ffe,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=XT,this.infoIcon.style.opacity="0.6")},e})(),Hfe=(function(){function e(){var t=this;this.infoDiv=new zfe,this.infoIcon=new qfe(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e})(),Gfe=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function u(h){try{c(n.next(h))}catch(m){o(m)}}function d(h){try{c(n.throw(h))}catch(m){o(m)}}function c(h){h.done?a(h.value):i(h.value).then(u,d)}c((n=n.apply(e,t||[])).next())})},Wfe=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return d([c,h])}}function d(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(h){c=[6,h],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},ZT=(function(){function e(){}return e.hasPermissions=function(){return Gfe(this,void 0,void 0,function(){var t,r,n,i;return Wfe(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=a.sent(),r=0,n=t;r<n.length;r++)if(i=n[r],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},e})(),vf=(function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++){var n=r[t];if(e.isCameraScanType(n))return!0}return!1},e.isCameraScanType=function(t){return t===Rf.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Rf.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Vl.DEFAULT_SUPPORTED_SCAN_TYPE;var r=Vl.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var n=0,i=t;n<i.length;n++){var a=i[n];if(!Vl.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return t},e})(),Zo=(function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e})(),wu=(function(){function e(){}return e.createElement=function(t,r){var n=document.createElement(t);return n.id=r,n.classList.add(Zo.ALL_ELEMENT_CLASS),t==="button"&&n.setAttribute("type","button"),n},e})(),DL=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function u(h){try{c(n.next(h))}catch(m){o(m)}}function d(h){try{c(n.throw(h))}catch(m){o(m)}}function c(h){h.done?a(h.value):i(h.value).then(u,d)}c((n=n.apply(e,t||[])).next())})},LL=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return d([c,h])}}function d(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(h){c=[6,h],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},QT=(function(){function e(t,r,n){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=r,this.onTorchActionFailureCallback=n}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return DL(this,void 0,void 0,function(){var t,r;return LL(this,function(n){switch(n.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return r=n.sent(),this.propagateFailure(t,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,r){t===r?(this.buttonController.setText(r?Bn.torchOffButton():Bn.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},e.prototype.propagateFailure=function(t,r){var n=t?Bn.torchOnFailedMessage():Bn.torchOffFailedMessage();r&&(n+="; Error = "+r),this.onTorchActionFailureCallback(n)},e.prototype.reset=function(){this.isTorchOn=!1},e})(),$fe=(function(){function e(t,r){this.onTorchActionFailureCallback=r,this.torchButton=wu.createElement("button",Zo.TORCH_BUTTON_ID),this.torchController=new QT(t,this,r)}return e.prototype.render=function(t,r){var n=this;this.torchButton.innerText=Bn.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var i=this;this.torchButton.addEventListener("click",function(a){return DL(n,void 0,void 0,function(){return LL(this,function(o){switch(o.label){case 0:return[4,i.torchController.flipState()];case 1:return o.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(Zo.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(Zo.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(Zo.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(Zo.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new QT(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Bn.torchOnButton(),this.torchController.reset()},e.create=function(t,r,n,i){var a=new e(r,i);return a.render(t,n),a},e})(),Vfe=(function(){function e(t,r,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",t.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=wu.createElement("button",Zo.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(u){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=wu.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(u){if(!(u==null||u.target==null)){var d=u.target;if(!(d.files&&d.files.length===0)){var c=d.files,h=c[0],m=h.name;a.setImageNameToButton(m),n(h)}}});var o=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o),this.fileBasedScanRegion.addEventListener("dragenter",function(u){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(u){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(u){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(u){u.stopPropagation(),u.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var d=u.dataTransfer;if(d){var c=d.files;if(!c||c.length===0)return;for(var h=!1,m=0;m<c.length;++m){var b=c.item(m);if(b){var x=/image.*/;if(b.type.match(x)){h=!0;var E=b.name;a.setImageNameToButton(E),n(b),o.innerText=Bn.dragAndDropMessage();break}}}h||(o.innerText=Bn.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Bn.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var r=20;if(t.length>r){var n=t.substring(0,8),i=t.length,a=t.substring(i-8,i);t="".concat(n,"....").concat(a)}var o=Bn.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=o},e.prototype.setInitialValueToButton=function(){var t=Bn.fileSelectionChooseImage()+" - "+Bn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,n){var i=new e(t,r,n);return i},e})(),Yfe=(function(){function e(t){this.selectElement=wu.createElement("select",Zo.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var r=document.createElement("span");r.style.marginRight="10px";var n=this.cameras.length;if(n===0)throw new Error("No cameras found");if(n===1)r.style.display="none";else{var i=Bn.selectCamera();r.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var a=1,o=0,u=this.cameras;o<u.length;o++){var d=u[o],c=d.id,h=d.label==null?c:d.label;(!h||h==="")&&(h=[Bn.anonymousCameraPrefix(),a++].join(" "));var m=document.createElement("option");m.value=c,m.innerText=h,this.options.push(m),this.selectElement.appendChild(m)}r.appendChild(this.selectElement),t.appendChild(r)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var r=0,n=this.options;r<n.length;r++){var i=n[r];if(i.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var n=new e(r);return n.render(t),n},e})(),Xfe=(function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=wu.createElement("input",Zo.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var n=Bn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Bn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,r,n,i){this.rangeInput.min=t.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var n=new e;return n.render(t,r),n},e})(),Yo;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Yo||(Yo={}));function Kfe(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function Zfe(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var Qfe=(function(){function e(t,r,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(r),this.verbose=n===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new vf(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new jL(this.verbose),this.persistedDataManager=new Ufe,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,r){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,o){if(t)t(a,o);else{if(n.lastMatchFound===a)return;n.lastMatchFound=a,n.setHeaderMessage(Bn.lastMatch(a),Yo.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,o){r&&r(a,o)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new YT(this.getScanRegionId(),Zfe(this.config,this.verbose))},e.prototype.pause=function(t){(Tc(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,r=function(){var n=document.getElementById(t.elementId);n&&(n.innerHTML="",t.resetBasicLayout(n))};return this.html5Qrcode?new Promise(function(n,i){if(!t.html5Qrcode){n();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(a){if(!t.html5Qrcode){n();return}t.html5Qrcode.clear(),r(),n()}).catch(function(a){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",a),i(a)}):(t.html5Qrcode.clear(),r(),n())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Vl.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Vl.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Vl.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Vl.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Vl.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Vl.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Vl.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var r=document.createElement("div"),n=this.getScanRegionId();r.id=n,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",t.appendChild(r),vf.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),a=this.getDashboardId();i.id=a,i.style.width="100%",t.appendChild(i),this.setupInitialDashboard(i)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",t.appendChild(r);var n=new Hfe;n.renderInto(r);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",r.appendChild(i)},e.prototype.createSection=function(t){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",t.appendChild(r)},e.prototype.createCameraListUi=function(t,r,n){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(Bn.cameraPermissionRequesting());var a=function(){n||i.createPermissionButton(t,r)};YT.getCameras().then(function(o){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),o&&o.length>0?(t.removeChild(r),i.renderCameraSelection(o)):(i.setHeaderMessage(Bn.noCameraFound(),Yo.STATUS_WARNING),a())}).catch(function(o){i.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:a(),i.setHeaderMessage(o,Yo.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,r){var n=this,i=wu.createElement("button",this.getCameraPermissionButtonId());i.innerText=Bn.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,n.createCameraListUi(t,r,i)}),r.appendChild(i)},e.prototype.createPermissionsUi=function(t,r){var n=this;if(vf.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){ZT.hasPermissions().then(function(i){i?n.createCameraListUi(t,r):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(t,r))}).catch(function(i){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(t,r)});return}this.createPermissionButton(t,r)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");t.appendChild(r);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=vf.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(n);var i=document.createElement("div");i.style.textAlign="center",n.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,i),this.renderFileScanUi(r)},e.prototype.renderFileScanUi=function(t){var r=vf.isFileScanType(this.currentScanType),n=this,i=function(a){if(!n.html5Qrcode)throw"html5Qrcode not defined";vf.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(Bn.loadingImage()),n.html5Qrcode.scanFileV2(a,!0).then(function(o){n.resetHeaderMessage(),n.qrCodeSuccessCallback(o.decodedText,o)}).catch(function(o){n.setHeaderMessage(o,Yo.STATUS_WARNING),n.qrCodeErrorCallback(o,ML.createFrom(o))}))};this.fileSelectionUi=Vfe.create(t,r,i)},e.prototype.renderCameraSelection=function(t){var r=this,n=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var a=Xfe.create(i,!1),o=function(C){var T=C.zoomFeature();if(T.isSupported()){a.setOnCameraZoomValueChangeCallback(function(B){T.apply(B)});var I=1;r.config.defaultZoomValueIfSupported&&(I=r.config.defaultZoomValueIfSupported),I=gfe(I,T.min(),T.max()),a.setValues(T.min(),T.max(),I,T.step()),a.show()}},u=Yfe.create(i,t),d=document.createElement("span"),c=wu.createElement("button",Zo.CAMERA_START_BUTTON_ID);c.innerText=Bn.scanButtonStartScanningText(),d.appendChild(c);var h=wu.createElement("button",Zo.CAMERA_STOP_BUTTON_ID);h.innerText=Bn.scanButtonStopScanningText(),h.style.display="none",h.disabled=!0,d.appendChild(h);var m,b=function(C){if(!C.torchFeature().isSupported()){m&&m.hide();return}m?m.updateTorchCapability(C.torchFeature()):m=$fe.create(d,C.torchFeature(),{display:"none",marginLeft:"5px"},function(T){n.setHeaderMessage(T,Yo.STATUS_WARNING)}),m.show()};i.appendChild(d);var x=function(C){C||(c.style.display="none"),c.innerText=Bn.scanButtonStartScanningText(),c.style.opacity="1",c.disabled=!1,C&&(c.style.display="inline-block")};if(c.addEventListener("click",function(C){c.innerText=Bn.scanButtonScanningStarting(),u.disable(),c.disabled=!0,c.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var T=u.getValue();n.persistedDataManager.setLastUsedCameraId(T),n.html5Qrcode.start(T,Kfe(n.config),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then(function(I){h.disabled=!1,h.style.display="inline-block",x(!1);var B=n.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&b(B),r.config.showZoomSliderIfSupported===!0&&o(B)}).catch(function(I){n.showHideScanTypeSwapLink(!0),u.enable(),x(!0),n.setHeaderMessage(I,Yo.STATUS_WARNING)})}),u.hasSingleItem()&&c.click(),h.addEventListener("click",function(C){if(!n.html5Qrcode)throw"html5Qrcode not defined";h.disabled=!0,n.html5Qrcode.stop().then(function(T){r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),u.enable(),c.disabled=!1,h.style.display="none",c.style.display="inline-block",m&&(m.reset(),m.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),n.insertCameraScanImageToScanRegion()}).catch(function(T){h.disabled=!1,n.setHeaderMessage(T,Yo.STATUS_WARNING)})}),n.persistedDataManager.getLastUsedCameraId()){var E=n.persistedDataManager.getLastUsedCameraId();u.hasValue(E)?(u.setValue(E),c.click()):n.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,r=Bn.textIfCameraScanSelected(),n=Bn.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var o=wu.createElement("span",this.getDashboardSectionSwapLinkId());o.style.textDecoration="underline",o.style.cursor="pointer",o.innerText=vf.isCameraScanType(this.currentScanType)?r:n,o.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,vf.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),o.innerText=n,t.currentScanType=Rf.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),o.innerText=r,t.currentScanType=Rf.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),a.appendChild(o),i.appendChild(a)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){ZT.hasPermissions().then(function(n){if(n){var i=document.getElementById(r.getCameraPermissionButtonId());if(!i)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(n){r.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,r){r||(r=Yo.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=t,n.style.display="block",r){case Yo.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case Yo.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;case Yo.STATUS_DEFAULT:default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Lfe,this.cameraScanImage.alt=Bn.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Bfe,this.fileScanImage.alt=Bn.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Zo.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Zo.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e})();function Jfe({isOpen:e,onClose:t,onScan:r}){const n=D.useRef(null);return D.useEffect(()=>{if(e){const i=setTimeout(()=>{n.current=new Qfe("qr-reader-quick-entry",{fps:10,qrbox:{width:300,height:150},rememberLastUsedCamera:!0,supportedScanTypes:[]},!1),n.current.render(a=>{n.current&&n.current.pause(!0),r(a)},a=>{})},100);return()=>{clearTimeout(i),n.current&&n.current.clear().catch(a=>console.error("Failed to clear scanner",a))}}},[e,r]),e?S.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/80 backdrop-blur-sm p-4 animate-in fade-in",children:S.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden flex flex-col animate-in zoom-in-95",children:[S.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-100",children:[S.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[S.jsx(x7,{className:"h-5 w-5"}),S.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Escanear Cdigo / Gua"})]}),S.jsx("button",{onClick:t,className:"p-2 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-full transition-colors",children:S.jsx(Mf,{className:"h-5 w-5"})})]}),S.jsx("div",{className:"p-4 bg-slate-50 flex items-center justify-center",children:S.jsx("div",{id:"qr-reader-quick-entry",className:"w-full bg-white rounded-xl overflow-hidden shadow-sm border border-slate-200"})}),S.jsx("div",{className:"p-4 bg-white border-t border-slate-100 text-center text-sm text-slate-500",children:"Apunta la cmara al cdigo de barras del paquete. El escaneo suceder automticamente."})]})}):null}const e5=(e="",t="")=>({id:Math.random().toString(36).substring(7),tracking:"",cliente_id:"",bodega_id:e,transportista_id:t,peso_lbs:"",largo_in:"",ancho_in:"",alto_in:"",piezas:"1",valor_declarado:"",es_fragil:!1,reempaque:!1,notas:"",clientSearch:"",clientResults:[],isSearchingClient:!1,showClientDropdown:!1});function ede(){const{user:e}=Fa(),[t,r]=D.useState([]),[n,i]=D.useState([]),[a,o]=D.useState([]),[u,d]=D.useState(!1),[c,h]=D.useState(""),[m,b]=D.useState(""),[x,E]=D.useState(!1),[C,T]=D.useState(null);D.useEffect(()=>{I()},[]);async function I(){try{const[J,ie]=await Promise.all([qt.from("bodegas").select("id, nombre").eq("activo",!0),qt.from("transportistas").select("id, nombre").eq("activo",!0)]);let ne="",fe="";J.data&&J.data.length>0&&(r(J.data),ne=J.data[0].id,h(ne)),ie.data&&ie.data.length>0&&(i(ie.data),fe=ie.data[0].id,b(fe)),o([e5(ne,fe)])}catch(J){console.error("Error fetching catalogs:",J)}}const B=()=>{const J=a[a.length-1],ie=J?J.bodega_id:c,ne=J?J.transportista_id:m,fe=Math.random().toString(36).substring(7),we=e5(ie,ne);we.id=fe,o(Ie=>[...Ie,we]),setTimeout(()=>{const Ie=document.getElementById(`tracking-${fe}`);Ie&&Ie.focus()},50)},U=J=>{a.length!==1&&o(a.filter(ie=>ie.id!==J))},F=(J,ie,ne)=>{o(fe=>fe.map(we=>we.id===J?{...we,[ie]:ne}:we))},K=(J,ie)=>{F(J,"clientSearch",ie),F(J,"cliente_id",""),ie.length>=2?(F(J,"isSearchingClient",!0),setTimeout(()=>Z(J,ie),400)):(F(J,"clientResults",[]),F(J,"showClientDropdown",!1))},Z=async(J,ie)=>{try{const{data:ne,error:fe}=await qt.from("clientes").select("id, nombre, apellido, locker_id").or(`locker_id.ilike.%${ie}%,nombre.ilike.%${ie}%,apellido.ilike.%${ie}%`).eq("activo",!0).limit(8);!fe&&ne&&o(we=>we.map(Ie=>Ie.id===J?{...Ie,clientResults:ne,showClientDropdown:!0,isSearchingClient:!1}:Ie))}catch(ne){console.error("Search error:",ne)}},V=(J,ie)=>{o(ne=>ne.map(fe=>fe.id===J?{...fe,cliente_id:ie.id,clientSearch:`${ie.locker_id} - ${ie.nombre} ${ie.apellido}`,showClientDropdown:!1,clientResults:[]}:fe)),setTimeout(()=>{const ne=document.getElementById(`peso-${J}`);ne&&ne.focus()},50)},Q=(J,ie,ne,fe)=>{if(J.key==="Enter"){if(J.preventDefault(),ne==="tracking"){const we=document.getElementById(`client-${ie}`);we&&we.focus()}else if(ne==="client"){const we=document.getElementById(`peso-${ie}`);we&&we.focus()}else if(ne==="peso")if(fe===a.length-1)a[fe].tracking.trim()!==""&&B();else{const Ie=a[fe+1].id,Me=document.getElementById(`tracking-${Ie}`);Me&&Me.focus()}}},q=J=>{T(J),E(!0)},se=J=>{C&&(F(C,"tracking",J),E(!1),T(null),setTimeout(()=>{const ie=document.getElementById(`client-${C}`);ie&&ie.focus()},100))},G=J=>{setTimeout(()=>{F(J,"showClientDropdown",!1)},200)},H=async()=>{const J=a.filter(ie=>ie.tracking.trim()!==""&&ie.cliente_id!=="");if(J.length===0){alert("Debes completar al menos una fila con Tracking y Cliente vlido (casillero asignado).");return}try{d(!0);const ie=J.map(fe=>{let we=null;const Ie=parseFloat(fe.largo_in)||0,Me=parseFloat(fe.ancho_in)||0,pe=parseFloat(fe.alto_in)||0;return Ie>0&&Me>0&&pe>0&&(we=Ie*Me*pe/166),{tracking:fe.tracking.trim(),cliente_id:fe.cliente_id,bodega_id:fe.bodega_id||c,transportista_id:fe.transportista_id||m,peso_lbs:parseFloat(fe.peso_lbs)||null,largo_in:Ie||null,ancho_in:Me||null,alto_in:pe||null,peso_volumetrico:we,piezas:parseInt(fe.piezas)||1,valor_declarado:parseFloat(fe.valor_declarado)||null,es_fragil:fe.es_fragil,reempaque:fe.reempaque,notas:fe.notas,estado:"en_bodega",usuario_recepcion:(e==null?void 0:e.id)==="admin-001"?null:e==null?void 0:e.id}}),{error:ne}=await qt.from("paquetes").insert(ie);if(ne)throw ne;alert(`xito! ${ie.length} paquete(s) guardado(s) correctamente.`),o([e5(c,m)])}catch(ie){console.error("Error saving batch:",ie),alert("Error inesperado al guardar el lote: "+ie.message)}finally{d(!1)}},le=J=>{if(J===a.length-1){const ie=a[J];(ie.tracking!==""||ie.cliente_id!=="")&&B()}};return S.jsxs("div",{className:"space-y-6 max-w-[1400px] mx-auto pb-10",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Multi-Entry (Bulk)"}),S.jsxs("p",{className:"text-sm text-slate-500",children:["Ingreso masivo de paquetes en matriz optimizada para lectores ",S.jsx(CG,{className:"inline h-3 w-3 mx-0.5 text-slate-400"})," y cmara."]})]}),S.jsxs("div",{className:"flex gap-3",children:[S.jsxs("button",{onClick:B,className:"inline-flex items-center gap-2 rounded-md bg-white px-4 py-2 text-sm font-medium text-slate-700 shadow-sm ring-1 ring-inset ring-slate-300 hover:bg-slate-50",children:[S.jsx(w0,{className:"h-4 w-4"}),"Aadir Fila"]}),S.jsxs("button",{disabled:u,onClick:H,className:"inline-flex items-center gap-2 rounded-md bg-blue-600 px-6 py-2 text-sm font-bold text-white shadow-sm hover:bg-blue-500 disabled:opacity-50 transition-colors",children:[u?S.jsx(Fs,{className:"h-4 w-4 animate-spin"}):S.jsx(Cd,{className:"h-4 w-4"}),u?"Procesando...":"Guardar Lote Completo"]})]})]}),S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden",children:[S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[S.jsx("thead",{className:"bg-slate-50 text-slate-600 border-b border-slate-200",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-4 py-3 font-semibold w-12 text-center",children:"#"}),S.jsx("th",{className:"px-4 py-3 font-semibold w-40",children:"Bodega de Salida"}),S.jsxs("th",{className:"px-4 py-3 font-semibold min-w-[200px]",children:["Tracking Number ",S.jsx("span",{className:"text-red-500",children:"*"})]}),S.jsxs("th",{className:"px-4 py-3 font-semibold min-w-[240px]",children:["Cliente / Locker ",S.jsx("span",{className:"text-red-500",children:"*"})]}),S.jsx("th",{className:"px-4 py-3 font-semibold w-24",children:"Peso(lbs)"}),S.jsx("th",{className:"px-4 py-3 font-semibold w-36",children:"Dim(L,W,H)"}),S.jsx("th",{className:"px-4 py-3 font-semibold w-20",children:"Pz"}),S.jsx("th",{className:"px-4 py-3 font-semibold w-24",children:"Frgil/Re"}),S.jsx("th",{className:"px-4 py-3 font-semibold w-12 text-center"})]})}),S.jsx("tbody",{className:"divide-y divide-slate-100",children:a.map((J,ie)=>S.jsxs("tr",{className:"hover:bg-blue-50/10 transition-colors group",children:[S.jsx("td",{className:"px-4 py-2 text-center text-slate-400 font-medium",children:ie+1}),S.jsx("td",{className:"px-4 py-2",children:S.jsx("select",{value:J.bodega_id,onChange:ne=>F(J.id,"bodega_id",ne.target.value),className:"block w-full rounded-md border-0 py-1.5 px-2 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-xs",children:t.map(ne=>S.jsx("option",{value:ne.id,children:ne.nombre},ne.id))})}),S.jsx("td",{className:"px-4 py-2",children:S.jsxs("div",{className:"flex gap-1.5",children:[S.jsx("input",{id:`tracking-${J.id}`,type:"text",className:"block w-full rounded-md border-0 py-1.5 px-3 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 placeholder:text-slate-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm font-medium",placeholder:"Escanea o escribe...",value:J.tracking,onChange:ne=>{F(J.id,"tracking",ne.target.value),le(ie)},onKeyDown:ne=>Q(ne,J.id,"tracking",ie)}),S.jsx("button",{type:"button",onClick:()=>q(J.id),className:"p-1.5 rounded-md text-slate-400 hover:text-blue-600 hover:bg-blue-50 border border-slate-200",title:"Usar Cmara (Scan ptico)",children:S.jsx(x7,{className:"h-4 w-4"})})]})}),S.jsx("td",{className:"px-4 py-2",children:S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-y-0 left-0 pl-2 flex items-center pointer-events-none",children:S.jsx(Np,{className:"h-3 w-3 text-slate-400"})}),S.jsx("input",{id:`client-${J.id}`,type:"text",className:`block w-full rounded-md border-0 py-1.5 pl-7 pr-3 text-slate-900 shadow-sm ring-1 ring-inset focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm ${!J.cliente_id&&J.clientSearch?"ring-yellow-400":"ring-slate-300"}`,placeholder:"Buscar YBG...",value:J.clientSearch,onChange:ne=>K(J.id,ne.target.value),onBlur:()=>G(J.id),onKeyDown:ne=>Q(ne,J.id,"client",ie),autoComplete:"off"}),J.isSearchingClient&&S.jsx("div",{className:"absolute inset-y-0 right-0 pr-2 flex items-center pointer-events-none",children:S.jsx(Fs,{className:"h-3 w-3 text-slate-400 animate-spin"})}),J.showClientDropdown&&J.clientResults.length>0&&S.jsx("div",{className:"absolute z-50 w-full lg:w-[350px] mt-1 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none max-h-60 overflow-auto",children:S.jsx("ul",{className:"py-1",children:J.clientResults.map(ne=>S.jsx("li",{onMouseDown:()=>V(J.id,ne),className:"text-slate-900 hover:bg-blue-50 cursor-pointer select-none relative py-2 pl-3 pr-3 border-b border-slate-50 last:border-0",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"font-bold text-blue-700",children:ne.locker_id}),S.jsxs("span",{className:"text-sm text-slate-700 truncate",children:[ne.nombre," ",ne.apellido]})]})},ne.id))})})]})}),S.jsx("td",{className:"px-4 py-2",children:S.jsx("input",{id:`peso-${J.id}`,type:"number",step:"0.01",className:"block w-full rounded-md border-0 py-1.5 px-2 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-xs",placeholder:"0.00",value:J.peso_lbs,onChange:ne=>F(J.id,"peso_lbs",ne.target.value),onKeyDown:ne=>Q(ne,J.id,"peso",ie)})}),S.jsx("td",{className:"px-4 py-2",children:S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("input",{type:"number",className:"block w-1/3 rounded-md border-0 py-1.5 px-1.5 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-xs text-center",placeholder:"L",value:J.largo_in,onChange:ne=>F(J.id,"largo_in",ne.target.value),title:"Largo"}),S.jsx("input",{type:"number",className:"block w-1/3 rounded-md border-0 py-1.5 px-1.5 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-xs text-center",placeholder:"W",value:J.ancho_in,onChange:ne=>F(J.id,"ancho_in",ne.target.value),title:"Ancho"}),S.jsx("input",{type:"number",className:"block w-1/3 rounded-md border-0 py-1.5 px-1.5 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-xs text-center",placeholder:"H",value:J.alto_in,onChange:ne=>F(J.id,"alto_in",ne.target.value),title:"Alto"})]})}),S.jsx("td",{className:"px-4 py-2",children:S.jsx("input",{type:"number",min:"1",className:"block w-full rounded-md border-0 py-1.5 px-2 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-xs text-center",value:J.piezas,onChange:ne=>F(J.id,"piezas",ne.target.value)})}),S.jsx("td",{className:"px-4 py-2",children:S.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[S.jsxs("label",{title:"Frgil",className:"flex items-center cursor-pointer",children:[S.jsx("input",{type:"checkbox",className:"h-3.5 w-3.5 rounded border-slate-300 text-red-500 focus:ring-red-500 cursor-pointer",checked:J.es_fragil,onChange:ne=>F(J.id,"es_fragil",ne.target.checked)}),S.jsx("span",{className:"ml-1 text-[10px] uppercase text-slate-500 hidden sm:inline",children:"Fg"})]}),S.jsxs("label",{title:"Reempaque",className:"flex items-center cursor-pointer",children:[S.jsx("input",{type:"checkbox",className:"h-3.5 w-3.5 rounded border-slate-300 text-blue-600 focus:ring-blue-600 cursor-pointer",checked:J.reempaque,onChange:ne=>F(J.id,"reempaque",ne.target.checked)}),S.jsx("span",{className:"ml-1 text-[10px] uppercase text-slate-500 hidden sm:inline",children:"Rm"})]})]})}),S.jsx("td",{className:"px-4 py-2 text-center",children:S.jsx("button",{onClick:()=>U(J.id),disabled:a.length===1,className:"text-slate-400 hover:text-red-500 transition-colors disabled:opacity-30 disabled:hover:text-slate-400",title:"Eliminar fila",children:S.jsx(m3,{className:"h-4 w-4"})})})]},J.id))})]})}),S.jsxs("div",{className:"bg-slate-50 border-t border-slate-200 p-4 flex items-center justify-between",children:[S.jsxs("p",{className:"text-sm text-slate-500",children:["Mostrando ",S.jsx("span",{className:"font-medium text-slate-900",children:a.length})," fila(s) para captura de datos."]}),S.jsxs("p",{className:"text-sm text-slate-500",children:["Puedes conectar una pistola de cdigo de barras lser. El sistema usar la tecla ",S.jsx("kbd",{className:"font-mono bg-white border border-slate-300 px-1 rounded mx-1",children:"Enter"})," para saltar gilmente."]})]})]}),S.jsx(Jfe,{isOpen:x,onClose:()=>{E(!1),T(null)},onScan:se})]})}const BL=6048e5,tde=864e5,JT=Symbol.for("constructDateFrom");function tc(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&JT in e?e[JT](t):e instanceof Date?new e.constructor(t):new Date(t)}function El(e,t){return tc(t||e,e)}function rde(e,t,r){const n=El(e,r==null?void 0:r.in);if(isNaN(t))return tc(e,NaN);const i=n.getDate(),a=tc(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const o=a.getDate();return i>=o?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}let nde={};function By(){return nde}function bp(e,t){var u,d,c,h;const r=By(),n=(t==null?void 0:t.weekStartsOn)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((h=(c=r.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??0,i=El(e,t==null?void 0:t.in),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function O2(e,t){return bp(e,{...t,weekStartsOn:1})}function FL(e,t){const r=El(e,t==null?void 0:t.in),n=r.getFullYear(),i=tc(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=O2(i),o=tc(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const u=O2(o);return r.getTime()>=a.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function eI(e){const t=El(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function UL(e,...t){const r=tc.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function tI(e,t){const r=El(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function ide(e,t,r){const[n,i]=UL(r==null?void 0:r.in,e,t),a=tI(n),o=tI(i),u=+a-eI(a),d=+o-eI(o);return Math.round((u-d)/tde)}function ade(e,t){const r=FL(e,t),n=tc(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),O2(n)}function sde(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ode(e){return!(!sde(e)&&typeof e!="number"||isNaN(+El(e)))}function lde(e,t){const[r,n]=UL(e,t.start,t.end);return{start:r,end:n}}function cde(e,t){const{start:r,end:n}=lde(t==null?void 0:t.in,e);let i=+r>+n;const a=i?+r:+n,o=i?n:r;o.setHours(0,0,0,0),o.setDate(1);let u=1;const d=[];for(;+o<=a;)d.push(tc(r,o)),o.setMonth(o.getMonth()+u);return i?d.reverse():d}function ude(e,t){const r=El(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const fde={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dde=(e,t,r)=>{let n;const i=fde[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function t0(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const hde={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pde={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gde={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mde={date:t0({formats:hde,defaultWidth:"full"}),time:t0({formats:pde,defaultWidth:"full"}),dateTime:t0({formats:gde,defaultWidth:"full"})},vde={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yde=(e,t,r,n)=>vde[e];function Ic(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,u=r!=null&&r.width?String(r.width):o;i=e.formattingValues[u]||e.formattingValues[o]}else{const o=e.defaultWidth,u=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[u]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const bde={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xde={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_de={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ade={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Sde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ede=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Cde={ordinalNumber:Ede,era:Ic({values:bde,defaultWidth:"wide"}),quarter:Ic({values:xde,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ic({values:wde,defaultWidth:"wide"}),day:Ic({values:_de,defaultWidth:"wide"}),dayPeriod:Ic({values:Ade,defaultWidth:"wide",formattingValues:Sde,defaultFormattingWidth:"wide"})};function kc(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?Ode(u,m=>m.test(o)):Nde(u,m=>m.test(o));let c;c=e.valueCallback?e.valueCallback(d):d,c=r.valueCallback?r.valueCallback(c):c;const h=t.slice(o.length);return{value:c,rest:h}}}function Nde(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Ode(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function zL(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const u=t.slice(i.length);return{value:o,rest:u}}}const Tde=/^(\d+)(th|st|nd|rd)?/i,Ide=/\d+/i,kde={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mde={any:[/^b/i,/^(a|c)/i]},jde={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Rde={any:[/1/i,/2/i,/3/i,/4/i]},Pde={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Dde={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lde={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Bde={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Fde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ude={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zde={ordinalNumber:zL({matchPattern:Tde,parsePattern:Ide,valueCallback:e=>parseInt(e,10)}),era:kc({matchPatterns:kde,defaultMatchWidth:"wide",parsePatterns:Mde,defaultParseWidth:"any"}),quarter:kc({matchPatterns:jde,defaultMatchWidth:"wide",parsePatterns:Rde,defaultParseWidth:"any",valueCallback:e=>e+1}),month:kc({matchPatterns:Pde,defaultMatchWidth:"wide",parsePatterns:Dde,defaultParseWidth:"any"}),day:kc({matchPatterns:Lde,defaultMatchWidth:"wide",parsePatterns:Bde,defaultParseWidth:"any"}),dayPeriod:kc({matchPatterns:Fde,defaultMatchWidth:"any",parsePatterns:Ude,defaultParseWidth:"any"})},qde={code:"en-US",formatDistance:dde,formatLong:mde,formatRelative:yde,localize:Cde,match:zde,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Hde(e,t){const r=El(e,t==null?void 0:t.in);return ide(r,ude(r))+1}function Gde(e,t){const r=El(e,t==null?void 0:t.in),n=+O2(r)-+ade(r);return Math.round(n/BL)+1}function qL(e,t){var h,m,b,x;const r=El(e,t==null?void 0:t.in),n=r.getFullYear(),i=By(),a=(t==null?void 0:t.firstWeekContainsDate)??((m=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((x=(b=i.locale)==null?void 0:b.options)==null?void 0:x.firstWeekContainsDate)??1,o=tc((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const u=bp(o,t),d=tc((t==null?void 0:t.in)||e,0);d.setFullYear(n,0,a),d.setHours(0,0,0,0);const c=bp(d,t);return+r>=+u?n+1:+r>=+c?n:n-1}function Wde(e,t){var u,d,c,h;const r=By(),n=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(c=r.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??1,i=qL(e,t),a=tc((t==null?void 0:t.in)||e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),bp(a,t)}function $de(e,t){const r=El(e,t==null?void 0:t.in),n=+bp(r,t)-+Wde(r,t);return Math.round(n/BL)+1}function Ln(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const yf={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ln(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ln(r+1,2)},d(e,t){return Ln(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ln(e.getHours()%12||12,t.length)},H(e,t){return Ln(e.getHours(),t.length)},m(e,t){return Ln(e.getMinutes(),t.length)},s(e,t){return Ln(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Ln(i,t.length)}},Rh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rI={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return yf.y(e,t)},Y:function(e,t,r,n){const i=qL(e,n),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return Ln(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):Ln(a,t.length)},R:function(e,t){const r=FL(e);return Ln(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ln(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ln(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ln(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return yf.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ln(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=$de(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):Ln(i,t.length)},I:function(e,t,r){const n=Gde(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ln(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):yf.d(e,t)},D:function(e,t,r){const n=Hde(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ln(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ln(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ln(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Ln(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=Rh.noon:n===0?i=Rh.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=Rh.evening:n>=12?i=Rh.afternoon:n>=4?i=Rh.morning:i=Rh.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return yf.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):yf.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ln(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ln(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):yf.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):yf.s(e,t)},S:function(e,t){return yf.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return iI(n);case"XXXX":case"XX":return dd(n);case"XXXXX":case"XXX":default:return dd(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return iI(n);case"xxxx":case"xx":return dd(n);case"xxxxx":case"xxx":default:return dd(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+nI(n,":");case"OOOO":default:return"GMT"+dd(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+nI(n,":");case"zzzz":default:return"GMT"+dd(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Ln(n,t.length)},T:function(e,t,r){return Ln(+e,t.length)}};function nI(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+Ln(a,2)}function iI(e,t){return e%60===0?(e>0?"-":"+")+Ln(Math.abs(e)/60,2):dd(e,t)}function dd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Ln(Math.trunc(n/60),2),a=Ln(n%60,2);return r+i+t+a}const aI=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},HL=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Vde=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return aI(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",aI(n,t)).replace("{{time}}",HL(i,t))},Yde={p:HL,P:Vde},Xde=/^D+$/,Kde=/^Y+$/,Zde=["D","DD","YY","YYYY"];function Qde(e){return Xde.test(e)}function Jde(e){return Kde.test(e)}function ehe(e,t,r){const n=the(e,t,r);if(console.warn(n),Zde.includes(e))throw new RangeError(n)}function the(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const rhe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nhe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ihe=/^'([^]*?)'?$/,ahe=/''/g,she=/[a-zA-Z]/;function Eu(e,t,r){var h,m,b,x,E,C,T,I;const n=By(),i=(r==null?void 0:r.locale)??n.locale??qde,a=(r==null?void 0:r.firstWeekContainsDate)??((m=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((x=(b=n.locale)==null?void 0:b.options)==null?void 0:x.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((C=(E=r==null?void 0:r.locale)==null?void 0:E.options)==null?void 0:C.weekStartsOn)??n.weekStartsOn??((I=(T=n.locale)==null?void 0:T.options)==null?void 0:I.weekStartsOn)??0,u=El(e,r==null?void 0:r.in);if(!ode(u))throw new RangeError("Invalid time value");let d=t.match(nhe).map(B=>{const U=B[0];if(U==="p"||U==="P"){const F=Yde[U];return F(B,i.formatLong)}return B}).join("").match(rhe).map(B=>{if(B==="''")return{isToken:!1,value:"'"};const U=B[0];if(U==="'")return{isToken:!1,value:ohe(B)};if(rI[U])return{isToken:!0,value:B};if(U.match(she))throw new RangeError("Format string contains an unescaped latin alphabet character `"+U+"`");return{isToken:!1,value:B}});i.localize.preprocessor&&(d=i.localize.preprocessor(u,d));const c={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return d.map(B=>{if(!B.isToken)return B.value;const U=B.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Jde(U)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Qde(U))&&ehe(U,t,String(e));const F=rI[U[0]];return F(u,U,i.localize,c)}).join("")}function ohe(e){const t=e.match(ihe);return t?t[1].replace(ahe,"'"):e}function lhe(e,t,r){return rde(e,-5,r)}function che(){const[e,t]=D.useState(!0),[r,n]=D.useState(""),[i,a]=D.useState({}),[o,u]=D.useState({});D.useEffect(()=>{d()},[]);async function d(){t(!0);try{const{data:m,error:b}=await qt.from("paquetes").select(`
          id,
          tracking,
          peso_lbs,
          piezas,
          fecha_recepcion,
          transportistas(nombre),
          clientes(id, nombre, apellido, locker_id),
          bodegas(id, nombre)
        `).in("estado",["en_bodega","recibido"]).order("fecha_recepcion",{ascending:!1});if(b)throw b;if(m){const x=m.reduce((E,C)=>{var U,F;const T=((U=C.clientes)==null?void 0:U.locker_id)||"SIN_LOCKER",I=((F=C.bodegas)==null?void 0:F.id)||"SIN_BODEGA",B=`${T}_${I}`;return E[B]||(E[B]={cliente:C.clientes,bodega:C.bodegas,paquetes:[]}),E[B].paquetes.push(C),E},{});a(x)}}catch(m){console.error("Error fetching warehouse packages:",m)}finally{t(!1)}}const c=m=>{u(b=>({...b,[m]:!b[m]}))},h=Object.entries(i).filter(([m,b])=>{var B;const x=r.toLowerCase(),E=m.toLowerCase().includes(x),C=b.cliente?`${b.cliente.nombre} ${b.cliente.apellido}`.toLowerCase().includes(x):!1,T=(B=b.bodega)==null?void 0:B.nombre.toLowerCase().includes(x),I=b.paquetes.some(U=>U.tracking.toLowerCase().includes(x));return E||C||T||I});return S.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto pb-10",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Warehouse"}),S.jsx("p",{className:"text-sm text-slate-500",children:"Agrupacin temporal de paquetes por cliente y bodega."})]}),S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:S.jsx(Np,{className:"h-4 w-4 text-slate-400","aria-hidden":"true"})}),S.jsx("input",{type:"text",className:"block w-full rounded-full border-0 py-2 pl-10 pr-4 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 placeholder:text-slate-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6 min-w-[300px]",placeholder:"Buscar casillero, nombre, bodega o tracking...",value:r,onChange:m=>n(m.target.value)})]})]}),e?S.jsx("div",{className:"flex justify-center items-center py-20",children:S.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"})}):h.length===0?S.jsxs("div",{className:"text-center bg-white rounded-xl border border-slate-200 py-16 px-6 shadow-sm",children:[S.jsx(H2,{className:"mx-auto h-12 w-12 text-slate-300"}),S.jsx("h3",{className:"mt-4 text-sm font-semibold text-slate-900",children:"No hay paquetes en bodega"}),S.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Todos los paquetes han sido consolidados o la bsqueda no arroj resultados."})]}):S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:h.map(([m,b])=>{var C,T;const x=!!o[m],E=((C=b.cliente)==null?void 0:C.locker_id)||"SIN_LOCKER";return S.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden hover:shadow-md transition-shadow duration-200 flex flex-col",children:[S.jsxs("div",{className:"p-5 cursor-pointer flex-none select-none hover:bg-slate-50/50",onClick:()=>c(m),children:[S.jsx("div",{className:"flex items-start justify-between mb-3",children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-50 border border-blue-100 flex items-center justify-center flex-shrink-0",children:S.jsx(Dc,{className:"h-5 w-5 text-blue-600"})}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("h3",{className:"text-lg font-bold text-slate-900 transition-colors",children:E}),S.jsx("span",{className:"inline-flex items-center rounded-md bg-slate-100 px-2 py-0.5 text-[10px] font-bold text-slate-600 uppercase tracking-wider",children:((T=b.bodega)==null?void 0:T.nombre)||"Desconocida"})]}),b.cliente?S.jsxs("p",{className:"text-sm font-medium text-slate-600 mt-0.5",children:[b.cliente.nombre," ",b.cliente.apellido]}):S.jsx("p",{className:"text-sm text-red-500 font-medium mt-0.5",children:"Cliente Desconocido"})]})]})}),S.jsxs("div",{className:"flex items-center justify-between text-xs font-medium text-slate-500 uppercase tracking-wider border-t border-slate-100 pt-3",children:[S.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[S.jsx(kf,{className:"h-4 w-4"}),S.jsxs("span",{className:"font-bold",children:[b.paquetes.length," pz"]})]}),S.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[S.jsx("span",{children:x?"Ocultar":"Ver Contenido"}),x?S.jsx(eG,{className:"h-4 w-4"}):S.jsx(QH,{className:"h-4 w-4"})]})]})]}),x&&S.jsx("div",{className:"bg-slate-50 border-t border-slate-200 p-4 flex-1",children:S.jsx("div",{className:"space-y-3",children:b.paquetes.map(I=>{var B;return S.jsxs("div",{className:"bg-white rounded-lg p-3 border border-slate-200 shadow-sm flex flex-col gap-2",children:[S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(kf,{className:"h-4 w-4 text-slate-400"}),S.jsx("span",{className:"text-sm font-bold text-slate-800 break-all",children:I.tracking})]}),I.peso_lbs&&S.jsxs("span",{className:"text-xs font-semibold bg-slate-100 text-slate-600 rounded px-1.5 py-0.5 whitespace-nowrap",children:[I.peso_lbs," lbs"]})]}),S.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx(G2,{className:"h-3 w-3"}),S.jsx("span",{children:((B=I.transportistas)==null?void 0:B.nombre)||"Desconocido"})]}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx(tp,{className:"h-3 w-3"}),S.jsx("span",{children:I.fecha_recepcion?Eu(new Date(I.fecha_recepcion),"dd/MM/yyyy"):"N/A"})]})]})]},I.id)})})})]},m)})})]})}const uhe={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},fhe=(e,t,r)=>{let n;const i=uhe[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},dhe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},hhe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},phe={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ghe={date:t0({formats:dhe,defaultWidth:"full"}),time:t0({formats:hhe,defaultWidth:"full"}),dateTime:t0({formats:phe,defaultWidth:"full"})},mhe={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},vhe={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},yhe=(e,t,r,n)=>t.getHours()!==1?vhe[e]:mhe[e],bhe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},xhe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},whe={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},_he={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},Ahe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},She={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Ehe=(e,t)=>Number(e)+"",Che={ordinalNumber:Ehe,era:Ic({values:bhe,defaultWidth:"wide"}),quarter:Ic({values:xhe,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Ic({values:whe,defaultWidth:"wide"}),day:Ic({values:_he,defaultWidth:"wide"}),dayPeriod:Ic({values:Ahe,defaultWidth:"wide",formattingValues:She,defaultFormattingWidth:"wide"})},Nhe=/^(\d+)()?/i,Ohe=/\d+/i,The={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},Ihe={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},khe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Mhe={any:[/1/i,/2/i,/3/i,/4/i]},jhe={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Rhe={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Phe={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},Dhe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Lhe={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},Bhe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Fhe={ordinalNumber:zL({matchPattern:Nhe,parsePattern:Ohe,valueCallback:function(e){return parseInt(e,10)}}),era:kc({matchPatterns:The,defaultMatchWidth:"wide",parsePatterns:Ihe,defaultParseWidth:"any"}),quarter:kc({matchPatterns:khe,defaultMatchWidth:"wide",parsePatterns:Mhe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:kc({matchPatterns:jhe,defaultMatchWidth:"wide",parsePatterns:Rhe,defaultParseWidth:"any"}),day:kc({matchPatterns:Phe,defaultMatchWidth:"wide",parsePatterns:Dhe,defaultParseWidth:"any"}),dayPeriod:kc({matchPatterns:Lhe,defaultMatchWidth:"any",parsePatterns:Bhe,defaultParseWidth:"any"})},Vp={code:"es",formatDistance:fhe,formatLong:ghe,formatRelative:yhe,localize:Che,match:Fhe,options:{weekStartsOn:1,firstWeekContainsDate:1}};var vm={},N1={},ym={},sI;function nl(){if(sI)return ym;sI=1,Object.defineProperty(ym,"__esModule",{value:!0});function e(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}var t=function r(n,i){e(this,r),this.data=n,this.text=i.text||n,this.options=i};return ym.default=t,ym}var oI;function Uhe(){if(oI)return N1;oI=1,Object.defineProperty(N1,"__esModule",{value:!0}),N1.CODE39=void 0;var e=(function(){function C(T,I){for(var B=0;B<I.length;B++){var U=I[B];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(T,U.key,U)}}return function(T,I,B){return I&&C(T.prototype,I),B&&C(T,B),T}})(),t=nl(),r=n(t);function n(C){return C&&C.__esModule?C:{default:C}}function i(C,T){if(!(C instanceof T))throw new TypeError("Cannot call a class as a function")}function a(C,T){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:C}function o(C,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);C.prototype=Object.create(T&&T.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(C,T):C.__proto__=T)}var u=(function(C){o(T,C);function T(I,B){return i(this,T),I=I.toUpperCase(),B.mod43&&(I+=b(E(I))),a(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,I,B))}return e(T,[{key:"encode",value:function(){for(var B=h("*"),U=0;U<this.data.length;U++)B+=h(this.data[U])+"0";return B+=h("*"),{data:B,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),T})(r.default),d=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],c=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function h(C){return m(x(C))}function m(C){return c[C].toString(2)}function b(C){return d[C]}function x(C){return d.indexOf(C)}function E(C){for(var T=0,I=0;I<C.length;I++)T+=x(C[I]);return T=T%43,T}return N1.CODE39=u,N1}var ql={},bm={},xm={},$i={},lI;function Yp(){if(lI)return $i;lI=1,Object.defineProperty($i,"__esModule",{value:!0});var e;function t(d,c,h){return c in d?Object.defineProperty(d,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[c]=h,d}var r=$i.SET_A=0,n=$i.SET_B=1,i=$i.SET_C=2;$i.SHIFT=98;var a=$i.START_A=103,o=$i.START_B=104,u=$i.START_C=105;return $i.MODULO=103,$i.STOP=106,$i.FNC1=207,$i.SET_BY_CODE=(e={},t(e,a,r),t(e,o,n),t(e,u,i),e),$i.SWAP={101:r,100:n,99:i},$i.A_START_CHAR="",$i.B_START_CHAR="",$i.C_START_CHAR="",$i.A_CHARS="[\0-_-]",$i.B_CHARS="[ --]",$i.C_CHARS="(*[0-9]{2}*)",$i.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],$i}var cI;function Fy(){if(cI)return xm;cI=1,Object.defineProperty(xm,"__esModule",{value:!0});var e=(function(){function c(h,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,m,b){return m&&c(h.prototype,m),b&&c(h,b),h}})(),t=nl(),r=i(t),n=Yp();function i(c){return c&&c.__esModule?c:{default:c}}function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function o(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=(function(c){u(h,c);function h(m,b){a(this,h);var x=o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,m.substring(1),b));return x.bytes=m.split("").map(function(E){return E.charCodeAt(0)}),x}return e(h,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var b=this.bytes,x=b.shift()-105,E=n.SET_BY_CODE[x];if(E===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&b.unshift(n.FNC1);var C=h.next(b,1,E);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:h.getBar(x)+C.result+h.getBar((C.checksum+x)%n.MODULO)+h.getBar(n.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var b=this.options.ean128||!1;return typeof b=="string"&&(b=b.toLowerCase()==="true"),b}}],[{key:"getBar",value:function(b){return n.BARS[b]?n.BARS[b].toString():""}},{key:"correctIndex",value:function(b,x){if(x===n.SET_A){var E=b.shift();return E<32?E+64:E-32}else return x===n.SET_B?b.shift()-32:(b.shift()-48)*10+b.shift()-48}},{key:"next",value:function(b,x,E){if(!b.length)return{result:"",checksum:0};var C=void 0,T=void 0;if(b[0]>=200){T=b.shift()-105;var I=n.SWAP[T];I!==void 0?C=h.next(b,x+1,I):((E===n.SET_A||E===n.SET_B)&&T===n.SHIFT&&(b[0]=E===n.SET_A?b[0]>95?b[0]-96:b[0]:b[0]<32?b[0]+96:b[0]),C=h.next(b,x+1,E))}else T=h.correctIndex(b,E),C=h.next(b,x+1,E);var B=h.getBar(T),U=T*x;return{result:B+C.result,checksum:U+C.checksum}}}]),h})(r.default);return xm.default=d,xm}var wm={},uI;function zhe(){if(uI)return wm;uI=1,Object.defineProperty(wm,"__esModule",{value:!0});var e=Yp(),t=function(u){return u.match(new RegExp("^"+e.A_CHARS+"*"))[0].length},r=function(u){return u.match(new RegExp("^"+e.B_CHARS+"*"))[0].length},n=function(u){return u.match(new RegExp("^"+e.C_CHARS+"*"))[0]};function i(o,u){var d=u?e.A_CHARS:e.B_CHARS,c=o.match(new RegExp("^("+d+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(c)return c[1]+""+a(o.substring(c[1].length));var h=o.match(new RegExp("^"+d+"+"))[0];return h.length===o.length?o:h+String.fromCharCode(u?205:206)+i(o.substring(h.length),!u)}function a(o){var u=n(o),d=u.length;if(d===o.length)return o;o=o.substring(d);var c=t(o)>=r(o);return u+String.fromCharCode(c?206:205)+i(o,c)}return wm.default=function(o){var u=void 0,d=n(o).length;if(d>=2)u=e.C_START_CHAR+a(o);else{var c=t(o)>r(o);u=(c?e.A_START_CHAR:e.B_START_CHAR)+i(o,c)}return u.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(h,m){return""+m})},wm}var fI;function qhe(){if(fI)return bm;fI=1,Object.defineProperty(bm,"__esModule",{value:!0});var e=Fy(),t=i(e),r=zhe(),n=i(r);function i(c){return c&&c.__esModule?c:{default:c}}function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function o(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=(function(c){u(h,c);function h(m,b){if(a(this,h),/^[\x00-\x7F\xC8-\xD3]+$/.test(m))var x=o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,(0,n.default)(m),b));else var x=o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,m,b));return o(x)}return h})(t.default);return bm.default=d,bm}var _m={},dI;function Hhe(){if(dI)return _m;dI=1,Object.defineProperty(_m,"__esModule",{value:!0});var e=(function(){function c(h,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,m,b){return m&&c(h.prototype,m),b&&c(h,b),h}})(),t=Fy(),r=i(t),n=Yp();function i(c){return c&&c.__esModule?c:{default:c}}function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function o(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=(function(c){u(h,c);function h(m,b){return a(this,h),o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,n.A_START_CHAR+m,b))}return e(h,[{key:"valid",value:function(){return new RegExp("^"+n.A_CHARS+"+$").test(this.data)}}]),h})(r.default);return _m.default=d,_m}var Am={},hI;function Ghe(){if(hI)return Am;hI=1,Object.defineProperty(Am,"__esModule",{value:!0});var e=(function(){function c(h,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,m,b){return m&&c(h.prototype,m),b&&c(h,b),h}})(),t=Fy(),r=i(t),n=Yp();function i(c){return c&&c.__esModule?c:{default:c}}function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function o(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=(function(c){u(h,c);function h(m,b){return a(this,h),o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,n.B_START_CHAR+m,b))}return e(h,[{key:"valid",value:function(){return new RegExp("^"+n.B_CHARS+"+$").test(this.data)}}]),h})(r.default);return Am.default=d,Am}var Sm={},pI;function Whe(){if(pI)return Sm;pI=1,Object.defineProperty(Sm,"__esModule",{value:!0});var e=(function(){function c(h,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,m,b){return m&&c(h.prototype,m),b&&c(h,b),h}})(),t=Fy(),r=i(t),n=Yp();function i(c){return c&&c.__esModule?c:{default:c}}function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function o(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=(function(c){u(h,c);function h(m,b){return a(this,h),o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,n.C_START_CHAR+m,b))}return e(h,[{key:"valid",value:function(){return new RegExp("^"+n.C_CHARS+"+$").test(this.data)}}]),h})(r.default);return Sm.default=d,Sm}var gI;function $he(){if(gI)return ql;gI=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.CODE128C=ql.CODE128B=ql.CODE128A=ql.CODE128=void 0;var e=qhe(),t=d(e),r=Hhe(),n=d(r),i=Ghe(),a=d(i),o=Whe(),u=d(o);function d(c){return c&&c.__esModule?c:{default:c}}return ql.CODE128=t.default,ql.CODE128A=n.default,ql.CODE128B=a.default,ql.CODE128C=u.default,ql}var Js={},Em={},du={},mI;function Xp(){return mI||(mI=1,Object.defineProperty(du,"__esModule",{value:!0}),du.SIDE_BIN="101",du.MIDDLE_BIN="01010",du.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},du.EAN2_STRUCTURE=["LL","LG","GL","GG"],du.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],du.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),du}var Cm={},Nm={},vI;function Kp(){if(vI)return Nm;vI=1,Object.defineProperty(Nm,"__esModule",{value:!0});var e=Xp(),t=function(n,i,a){var o=n.split("").map(function(d,c){return e.BINARIES[i[c]]}).map(function(d,c){return d?d[n[c]]:""});if(a){var u=n.length-1;o=o.map(function(d,c){return c<u?d+a:d})}return o.join("")};return Nm.default=t,Nm}var yI;function GL(){if(yI)return Cm;yI=1,Object.defineProperty(Cm,"__esModule",{value:!0});var e=(function(){function m(b,x){for(var E=0;E<x.length;E++){var C=x[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,x,E){return x&&m(b.prototype,x),E&&m(b,E),b}})(),t=Xp(),r=Kp(),n=o(r),i=nl(),a=o(i);function o(m){return m&&m.__esModule?m:{default:m}}function u(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}function d(m,b){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:m}function c(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(m,b):m.__proto__=b)}var h=(function(m){c(b,m);function b(x,E){u(this,b);var C=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,x,E));return C.fontSize=!E.flat&&E.fontSize>E.width*10?E.width*10:E.fontSize,C.guardHeight=E.height+C.fontSize/2+E.textMargin,C}return e(b,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(E,C){return this.text.substr(E,C)}},{key:"leftEncode",value:function(E,C){return(0,n.default)(E,C)}},{key:"rightText",value:function(E,C){return this.text.substr(E,C)}},{key:"rightEncode",value:function(E,C){return(0,n.default)(E,C)}},{key:"encodeGuarded",value:function(){var E={fontSize:this.fontSize},C={height:this.guardHeight};return[{data:t.SIDE_BIN,options:C},{data:this.leftEncode(),text:this.leftText(),options:E},{data:t.MIDDLE_BIN,options:C},{data:this.rightEncode(),text:this.rightText(),options:E},{data:t.SIDE_BIN,options:C}]}},{key:"encodeFlat",value:function(){var E=[t.SIDE_BIN,this.leftEncode(),t.MIDDLE_BIN,this.rightEncode(),t.SIDE_BIN];return{data:E.join(""),text:this.text}}}]),b})(a.default);return Cm.default=h,Cm}var bI;function Vhe(){if(bI)return Em;bI=1,Object.defineProperty(Em,"__esModule",{value:!0});var e=(function(){function m(b,x){for(var E=0;E<x.length;E++){var C=x[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,x,E){return x&&m(b.prototype,x),E&&m(b,E),b}})(),t=function m(b,x,E){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,x);if(C===void 0){var T=Object.getPrototypeOf(b);return T===null?void 0:m(T,x,E)}else{if("value"in C)return C.value;var I=C.get;return I===void 0?void 0:I.call(E)}},r=Xp(),n=GL(),i=a(n);function a(m){return m&&m.__esModule?m:{default:m}}function o(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}function u(m,b){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:m}function d(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(m,b):m.__proto__=b)}var c=function(b){var x=b.substr(0,12).split("").map(function(E){return+E}).reduce(function(E,C,T){return T%2?E+C*3:E+C},0);return(10-x%10)%10},h=(function(m){d(b,m);function b(x,E){o(this,b),x.search(/^[0-9]{12}$/)!==-1&&(x+=c(x));var C=u(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,x,E));return C.lastChar=E.lastChar,C}return e(b,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===c(this.data)}},{key:"leftText",value:function(){return t(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var E=this.data.substr(1,6),C=r.EAN13_STRUCTURE[this.data[0]];return t(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"leftEncode",this).call(this,E,C)}},{key:"rightText",value:function(){return t(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var E=this.data.substr(7,6);return t(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"rightEncode",this).call(this,E,"RRRRRR")}},{key:"encodeGuarded",value:function(){var E=t(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(E.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(E.push({data:"00"}),E.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),E}}]),b})(i.default);return Em.default=h,Em}var Om={},xI;function Yhe(){if(xI)return Om;xI=1,Object.defineProperty(Om,"__esModule",{value:!0});var e=(function(){function h(m,b){for(var x=0;x<b.length;x++){var E=b[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(m,E.key,E)}}return function(m,b,x){return b&&h(m.prototype,b),x&&h(m,x),m}})(),t=function h(m,b,x){m===null&&(m=Function.prototype);var E=Object.getOwnPropertyDescriptor(m,b);if(E===void 0){var C=Object.getPrototypeOf(m);return C===null?void 0:h(C,b,x)}else{if("value"in E)return E.value;var T=E.get;return T===void 0?void 0:T.call(x)}},r=GL(),n=i(r);function i(h){return h&&h.__esModule?h:{default:h}}function a(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function o(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function u(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var d=function(m){var b=m.substr(0,7).split("").map(function(x){return+x}).reduce(function(x,E,C){return C%2?x+E:x+E*3},0);return(10-b%10)%10},c=(function(h){u(m,h);function m(b,x){return a(this,m),b.search(/^[0-9]{7}$/)!==-1&&(b+=d(b)),o(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,b,x))}return e(m,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===d(this.data)}},{key:"leftText",value:function(){return t(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var x=this.data.substr(0,4);return t(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"leftEncode",this).call(this,x,"LLLL")}},{key:"rightText",value:function(){return t(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var x=this.data.substr(4,4);return t(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"rightEncode",this).call(this,x,"RRRR")}}]),m})(n.default);return Om.default=c,Om}var Tm={},wI;function Xhe(){if(wI)return Tm;wI=1,Object.defineProperty(Tm,"__esModule",{value:!0});var e=(function(){function b(x,E){for(var C=0;C<E.length;C++){var T=E[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(x,T.key,T)}}return function(x,E,C){return E&&b(x.prototype,E),C&&b(x,C),x}})(),t=Xp(),r=Kp(),n=o(r),i=nl(),a=o(i);function o(b){return b&&b.__esModule?b:{default:b}}function u(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function d(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function c(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var h=function(x){var E=x.split("").map(function(C){return+C}).reduce(function(C,T,I){return I%2?C+T*9:C+T*3},0);return E%10},m=(function(b){c(x,b);function x(E,C){return u(this,x),d(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,E,C))}return e(x,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var C=t.EAN5_STRUCTURE[h(this.data)];return{data:"1011"+(0,n.default)(this.data,C,"01"),text:this.text}}}]),x})(a.default);return Tm.default=m,Tm}var Im={},_I;function Khe(){if(_I)return Im;_I=1,Object.defineProperty(Im,"__esModule",{value:!0});var e=(function(){function m(b,x){for(var E=0;E<x.length;E++){var C=x[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,x,E){return x&&m(b.prototype,x),E&&m(b,E),b}})(),t=Xp(),r=Kp(),n=o(r),i=nl(),a=o(i);function o(m){return m&&m.__esModule?m:{default:m}}function u(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}function d(m,b){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:m}function c(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(m,b):m.__proto__=b)}var h=(function(m){c(b,m);function b(x,E){return u(this,b),d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,x,E))}return e(b,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var E=t.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,n.default)(this.data,E,"01"),text:this.text}}}]),b})(a.default);return Im.default=h,Im}var O1={},AI;function WL(){if(AI)return O1;AI=1,Object.defineProperty(O1,"__esModule",{value:!0});var e=(function(){function m(b,x){for(var E=0;E<x.length;E++){var C=x[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,x,E){return x&&m(b.prototype,x),E&&m(b,E),b}})();O1.checksum=h;var t=Kp(),r=a(t),n=nl(),i=a(n);function a(m){return m&&m.__esModule?m:{default:m}}function o(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}function u(m,b){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:m}function d(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(m,b):m.__proto__=b)}var c=(function(m){d(b,m);function b(x,E){o(this,b),x.search(/^[0-9]{11}$/)!==-1&&(x+=h(x));var C=u(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,x,E));return C.displayValue=E.displayValue,E.fontSize>E.width*10?C.fontSize=E.width*10:C.fontSize=E.fontSize,C.guardHeight=E.height+C.fontSize/2+E.textMargin,C}return e(b,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==h(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var E="";return E+="101",E+=(0,r.default)(this.data.substr(0,6),"LLLLLL"),E+="01010",E+=(0,r.default)(this.data.substr(6,6),"RRRRRR"),E+="101",{data:E,text:this.text}}},{key:"guardedEncoding",value:function(){var E=[];return this.displayValue&&E.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),E.push({data:"101"+(0,r.default)(this.data[0],"L"),options:{height:this.guardHeight}}),E.push({data:(0,r.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),E.push({data:"01010",options:{height:this.guardHeight}}),E.push({data:(0,r.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),E.push({data:(0,r.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&E.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),E}}]),b})(i.default);function h(m){var b=0,x;for(x=1;x<11;x+=2)b+=parseInt(m[x]);for(x=0;x<11;x+=2)b+=parseInt(m[x])*3;return(10-b%10)%10}return O1.default=c,O1}var km={},SI;function Zhe(){if(SI)return km;SI=1,Object.defineProperty(km,"__esModule",{value:!0});var e=(function(){function E(C,T){for(var I=0;I<T.length;I++){var B=T[I];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(C,B.key,B)}}return function(C,T,I){return T&&E(C.prototype,T),I&&E(C,I),C}})(),t=Kp(),r=o(t),n=nl(),i=o(n),a=WL();function o(E){return E&&E.__esModule?E:{default:E}}function u(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}function d(E,C){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:E}function c(E,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(E,C):E.__proto__=C)}var h=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],m=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],b=(function(E){c(C,E);function C(T,I){u(this,C);var B=d(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,T,I));if(B.isValid=!1,T.search(/^[0-9]{6}$/)!==-1)B.middleDigits=T,B.upcA=x(T,"0"),B.text=I.text||""+B.upcA[0]+T+B.upcA[B.upcA.length-1],B.isValid=!0;else if(T.search(/^[01][0-9]{7}$/)!==-1)if(B.middleDigits=T.substring(1,T.length-1),B.upcA=x(B.middleDigits,T[0]),B.upcA[B.upcA.length-1]===T[T.length-1])B.isValid=!0;else return d(B);else return d(B);return B.displayValue=I.displayValue,I.fontSize>I.width*10?B.fontSize=I.width*10:B.fontSize=I.fontSize,B.guardHeight=I.height+B.fontSize/2+I.textMargin,B}return e(C,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var I="";return I+="101",I+=this.encodeMiddleDigits(),I+="010101",{data:I,text:this.text}}},{key:"guardedEncoding",value:function(){var I=[];return this.displayValue&&I.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),I.push({data:"101",options:{height:this.guardHeight}}),I.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),I.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&I.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),I}},{key:"encodeMiddleDigits",value:function(){var I=this.upcA[0],B=this.upcA[this.upcA.length-1],U=m[parseInt(B)][parseInt(I)];return(0,r.default)(this.middleDigits,U)}}]),C})(i.default);function x(E,C){for(var T=parseInt(E[E.length-1]),I=h[T],B="",U=0,F=0;F<I.length;F++){var K=I[F];K==="X"?B+=E[U++]:B+=K}return B=""+C+B,""+B+(0,a.checksum)(B)}return km.default=b,km}var EI;function Qhe(){if(EI)return Js;EI=1,Object.defineProperty(Js,"__esModule",{value:!0}),Js.UPCE=Js.UPC=Js.EAN2=Js.EAN5=Js.EAN8=Js.EAN13=void 0;var e=Vhe(),t=b(e),r=Yhe(),n=b(r),i=Xhe(),a=b(i),o=Khe(),u=b(o),d=WL(),c=b(d),h=Zhe(),m=b(h);function b(x){return x&&x.__esModule?x:{default:x}}return Js.EAN13=t.default,Js.EAN8=n.default,Js.EAN5=a.default,Js.EAN2=u.default,Js.UPC=c.default,Js.UPCE=m.default,Js}var sd={},Mm={},Ph={},CI;function Jhe(){return CI||(CI=1,Object.defineProperty(Ph,"__esModule",{value:!0}),Ph.START_BIN="1010",Ph.END_BIN="11101",Ph.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),Ph}var NI;function $L(){if(NI)return Mm;NI=1,Object.defineProperty(Mm,"__esModule",{value:!0});var e=(function(){function c(h,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,m,b){return m&&c(h.prototype,m),b&&c(h,b),h}})(),t=Jhe(),r=nl(),n=i(r);function i(c){return c&&c.__esModule?c:{default:c}}function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function o(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=(function(c){u(h,c);function h(){return a(this,h),o(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return e(h,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var b=this,x=this.data.match(/.{2}/g).map(function(E){return b.encodePair(E)}).join("");return{data:t.START_BIN+x+t.END_BIN,text:this.text}}},{key:"encodePair",value:function(b){var x=t.BINARIES[b[1]];return t.BINARIES[b[0]].split("").map(function(E,C){return(E==="1"?"111":"1")+(x[C]==="1"?"000":"0")}).join("")}}]),h})(n.default);return Mm.default=d,Mm}var jm={},OI;function e0e(){if(OI)return jm;OI=1,Object.defineProperty(jm,"__esModule",{value:!0});var e=(function(){function c(h,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,m,b){return m&&c(h.prototype,m),b&&c(h,b),h}})(),t=$L(),r=n(t);function n(c){return c&&c.__esModule?c:{default:c}}function i(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function a(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function o(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var u=function(h){var m=h.substr(0,13).split("").map(function(b){return parseInt(b,10)}).reduce(function(b,x,E){return b+x*(3-E%2*2)},0);return Math.ceil(m/10)*10-m},d=(function(c){o(h,c);function h(m,b){return i(this,h),m.search(/^[0-9]{13}$/)!==-1&&(m+=u(m)),a(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,m,b))}return e(h,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===u(this.data)}}]),h})(r.default);return jm.default=d,jm}var TI;function t0e(){if(TI)return sd;TI=1,Object.defineProperty(sd,"__esModule",{value:!0}),sd.ITF14=sd.ITF=void 0;var e=$L(),t=i(e),r=e0e(),n=i(r);function i(a){return a&&a.__esModule?a:{default:a}}return sd.ITF=t.default,sd.ITF14=n.default,sd}var Ho={},Rm={},II;function Zp(){if(II)return Rm;II=1,Object.defineProperty(Rm,"__esModule",{value:!0});var e=(function(){function c(h,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,m,b){return m&&c(h.prototype,m),b&&c(h,b),h}})(),t=nl(),r=n(t);function n(c){return c&&c.__esModule?c:{default:c}}function i(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function a(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function o(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var u=(function(c){o(h,c);function h(m,b){return i(this,h),a(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,m,b))}return e(h,[{key:"encode",value:function(){for(var b="110",x=0;x<this.data.length;x++){var E=parseInt(this.data[x]),C=E.toString(2);C=d(C,4-C.length);for(var T=0;T<C.length;T++)b+=C[T]=="0"?"100":"110"}return b+="1001",{data:b,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),h})(r.default);function d(c,h){for(var m=0;m<h;m++)c="0"+c;return c}return Rm.default=u,Rm}var Pm={},T1={},kI;function Uy(){if(kI)return T1;kI=1,Object.defineProperty(T1,"__esModule",{value:!0}),T1.mod10=e,T1.mod11=t;function e(r){for(var n=0,i=0;i<r.length;i++){var a=parseInt(r[i]);(i+r.length)%2===0?n+=a:n+=a*2%10+Math.floor(a*2/10)}return(10-n%10)%10}function t(r){for(var n=0,i=[2,3,4,5,6,7],a=0;a<r.length;a++){var o=parseInt(r[r.length-1-a]);n+=i[a%i.length]*o}return(11-n%11)%11}return T1}var MI;function r0e(){if(MI)return Pm;MI=1,Object.defineProperty(Pm,"__esModule",{value:!0});var e=Zp(),t=n(e),r=Uy();function n(d){return d&&d.__esModule?d:{default:d}}function i(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function a(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,m){return i(this,c),a(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h+(0,r.mod10)(h),m))}return c})(t.default);return Pm.default=u,Pm}var Dm={},jI;function n0e(){if(jI)return Dm;jI=1,Object.defineProperty(Dm,"__esModule",{value:!0});var e=Zp(),t=n(e),r=Uy();function n(d){return d&&d.__esModule?d:{default:d}}function i(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function a(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,m){return i(this,c),a(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h+(0,r.mod11)(h),m))}return c})(t.default);return Dm.default=u,Dm}var Lm={},RI;function i0e(){if(RI)return Lm;RI=1,Object.defineProperty(Lm,"__esModule",{value:!0});var e=Zp(),t=n(e),r=Uy();function n(d){return d&&d.__esModule?d:{default:d}}function i(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function a(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,m){return i(this,c),h+=(0,r.mod10)(h),h+=(0,r.mod10)(h),a(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h,m))}return c})(t.default);return Lm.default=u,Lm}var Bm={},PI;function a0e(){if(PI)return Bm;PI=1,Object.defineProperty(Bm,"__esModule",{value:!0});var e=Zp(),t=n(e),r=Uy();function n(d){return d&&d.__esModule?d:{default:d}}function i(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function a(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,m){return i(this,c),h+=(0,r.mod11)(h),h+=(0,r.mod10)(h),a(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h,m))}return c})(t.default);return Bm.default=u,Bm}var DI;function s0e(){if(DI)return Ho;DI=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.MSI1110=Ho.MSI1010=Ho.MSI11=Ho.MSI10=Ho.MSI=void 0;var e=Zp(),t=h(e),r=r0e(),n=h(r),i=n0e(),a=h(i),o=i0e(),u=h(o),d=a0e(),c=h(d);function h(m){return m&&m.__esModule?m:{default:m}}return Ho.MSI=t.default,Ho.MSI10=n.default,Ho.MSI11=a.default,Ho.MSI1010=u.default,Ho.MSI1110=c.default,Ho}var I1={},LI;function o0e(){if(LI)return I1;LI=1,Object.defineProperty(I1,"__esModule",{value:!0}),I1.pharmacode=void 0;var e=(function(){function d(c,h){for(var m=0;m<h.length;m++){var b=h[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(c,b.key,b)}}return function(c,h,m){return h&&d(c.prototype,h),m&&d(c,m),c}})(),t=nl(),r=n(t);function n(d){return d&&d.__esModule?d:{default:d}}function i(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function a(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,m){i(this,c);var b=a(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h,m));return b.number=parseInt(h,10),b}return e(c,[{key:"encode",value:function(){for(var m=this.number,b="";!isNaN(m)&&m!=0;)m%2===0?(b="11100"+b,m=(m-2)/2):(b="100"+b,m=(m-1)/2);return b=b.slice(0,-2),{data:b,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),c})(r.default);return I1.pharmacode=u,I1}var k1={},BI;function l0e(){if(BI)return k1;BI=1,Object.defineProperty(k1,"__esModule",{value:!0}),k1.codabar=void 0;var e=(function(){function d(c,h){for(var m=0;m<h.length;m++){var b=h[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(c,b.key,b)}}return function(c,h,m){return h&&d(c.prototype,h),m&&d(c,m),c}})(),t=nl(),r=n(t);function n(d){return d&&d.__esModule?d:{default:d}}function i(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function a(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,m){i(this,c),h.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(h="A"+h+"A");var b=a(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h.toUpperCase(),m));return b.text=b.options.text||b.text.replace(/[A-D]/g,""),b}return e(c,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var m=[],b=this.getEncodings(),x=0;x<this.data.length;x++)m.push(b[this.data.charAt(x)]),x!==this.data.length-1&&m.push("0");return{text:this.text,data:m.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),c})(r.default);return k1.codabar=u,k1}var od={},Fm={},Dh={},FI;function c0e(){return FI||(FI=1,Object.defineProperty(Dh,"__esModule",{value:!0}),Dh.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""],Dh.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],Dh.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),Dh}var UI;function VL(){if(UI)return Fm;UI=1,Object.defineProperty(Fm,"__esModule",{value:!0});var e=(function(){function c(h,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,m,b){return m&&c(h.prototype,m),b&&c(h,b),h}})(),t=c0e(),r=nl(),n=i(r);function i(c){return c&&c.__esModule?c:{default:c}}function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function o(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=(function(c){u(h,c);function h(m,b){return a(this,h),o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,m,b))}return e(h,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var b=this.data.split("").flatMap(function(T){return t.MULTI_SYMBOLS[T]||T}),x=b.map(function(T){return h.getEncoding(T)}).join(""),E=h.checksum(b,20),C=h.checksum(b.concat(E),15);return{text:this.text,data:h.getEncoding("")+x+h.getEncoding(E)+h.getEncoding(C)+h.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(b){return t.BINARIES[h.symbolValue(b)]}},{key:"getSymbol",value:function(b){return t.SYMBOLS[b]}},{key:"symbolValue",value:function(b){return t.SYMBOLS.indexOf(b)}},{key:"checksum",value:function(b,x){var E=b.slice().reverse().reduce(function(C,T,I){var B=I%x+1;return C+h.symbolValue(T)*B},0);return h.getSymbol(E%47)}}]),h})(n.default);return Fm.default=d,Fm}var Um={},zI;function u0e(){if(zI)return Um;zI=1,Object.defineProperty(Um,"__esModule",{value:!0});var e=(function(){function d(c,h){for(var m=0;m<h.length;m++){var b=h[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(c,b.key,b)}}return function(c,h,m){return h&&d(c.prototype,h),m&&d(c,m),c}})(),t=VL(),r=n(t);function n(d){return d&&d.__esModule?d:{default:d}}function i(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function a(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,m){return i(this,c),a(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h,m))}return e(c,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),c})(r.default);return Um.default=u,Um}var qI;function f0e(){if(qI)return od;qI=1,Object.defineProperty(od,"__esModule",{value:!0}),od.CODE93FullASCII=od.CODE93=void 0;var e=VL(),t=i(e),r=u0e(),n=i(r);function i(a){return a&&a.__esModule?a:{default:a}}return od.CODE93=t.default,od.CODE93FullASCII=n.default,od}var M1={},HI;function d0e(){if(HI)return M1;HI=1,Object.defineProperty(M1,"__esModule",{value:!0}),M1.GenericBarcode=void 0;var e=(function(){function d(c,h){for(var m=0;m<h.length;m++){var b=h[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(c,b.key,b)}}return function(c,h,m){return h&&d(c.prototype,h),m&&d(c,m),c}})(),t=nl(),r=n(t);function n(d){return d&&d.__esModule?d:{default:d}}function i(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function a(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,m){return i(this,c),a(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h,m))}return e(c,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),c})(r.default);return M1.GenericBarcode=u,M1}var GI;function h0e(){if(GI)return vm;GI=1,Object.defineProperty(vm,"__esModule",{value:!0});var e=Uhe(),t=$he(),r=Qhe(),n=t0e(),i=s0e(),a=o0e(),o=l0e(),u=f0e(),d=d0e();return vm.default={CODE39:e.CODE39,CODE128:t.CODE128,CODE128A:t.CODE128A,CODE128B:t.CODE128B,CODE128C:t.CODE128C,EAN13:r.EAN13,EAN8:r.EAN8,EAN5:r.EAN5,EAN2:r.EAN2,UPC:r.UPC,UPCE:r.UPCE,ITF14:n.ITF14,ITF:n.ITF,MSI:i.MSI,MSI10:i.MSI10,MSI11:i.MSI11,MSI1010:i.MSI1010,MSI1110:i.MSI1110,pharmacode:a.pharmacode,codabar:o.codabar,CODE93:u.CODE93,CODE93FullASCII:u.CODE93FullASCII,GenericBarcode:d.GenericBarcode},vm}var zm={},WI;function zy(){if(WI)return zm;WI=1,Object.defineProperty(zm,"__esModule",{value:!0});var e=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};return zm.default=function(t,r){return e({},t,r)},zm}var qm={},$I;function p0e(){if($I)return qm;$I=1,Object.defineProperty(qm,"__esModule",{value:!0}),qm.default=e;function e(t){var r=[];function n(i){if(Array.isArray(i))for(var a=0;a<i.length;a++)n(i[a]);else i.text=i.text||"",i.data=i.data||"",r.push(i)}return n(t),r}return qm}var Hm={},VI;function g0e(){if(VI)return Hm;VI=1,Object.defineProperty(Hm,"__esModule",{value:!0}),Hm.default=e;function e(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}return Hm}var Gm={},Wm={},$m={},YI;function YL(){if(YI)return $m;YI=1,Object.defineProperty($m,"__esModule",{value:!0}),$m.default=e;function e(t){var r=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in r)r.hasOwnProperty(n)&&(n=r[n],typeof t[n]=="string"&&(t[n]=parseInt(t[n],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}return $m}var Vm={},XI;function XL(){if(XI)return Vm;XI=1,Object.defineProperty(Vm,"__esModule",{value:!0});var e={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return Vm.default=e,Vm}var KI;function m0e(){if(KI)return Wm;KI=1,Object.defineProperty(Wm,"__esModule",{value:!0});var e=YL(),t=i(e),r=XL(),n=i(r);function i(o){return o&&o.__esModule?o:{default:o}}function a(o){var u={};for(var d in n.default)n.default.hasOwnProperty(d)&&(o.hasAttribute("jsbarcode-"+d.toLowerCase())&&(u[d]=o.getAttribute("jsbarcode-"+d.toLowerCase())),o.hasAttribute("data-"+d.toLowerCase())&&(u[d]=o.getAttribute("data-"+d.toLowerCase())));return u.value=o.getAttribute("jsbarcode-value")||o.getAttribute("data-value"),u=(0,t.default)(u),u}return Wm.default=a,Wm}var Ym={},Xm={},Go={},ZI;function KL(){if(ZI)return Go;ZI=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.getTotalWidthOfEncodings=Go.calculateEncodingAttributes=Go.getBarcodePadding=Go.getEncodingHeight=Go.getMaximumHeightOfEncodings=void 0;var e=zy(),t=r(e);function r(c){return c&&c.__esModule?c:{default:c}}function n(c,h){return h.height+(h.displayValue&&c.text.length>0?h.fontSize+h.textMargin:0)+h.marginTop+h.marginBottom}function i(c,h,m){if(m.displayValue&&h<c){if(m.textAlign=="center")return Math.floor((c-h)/2);if(m.textAlign=="left")return 0;if(m.textAlign=="right")return Math.floor(c-h)}return 0}function a(c,h,m){for(var b=0;b<c.length;b++){var x=c[b],E=(0,t.default)(h,x.options),C;E.displayValue?C=d(x.text,E,m):C=0;var T=x.data.length*E.width;x.width=Math.ceil(Math.max(C,T)),x.height=n(x,E),x.barcodePadding=i(C,T,E)}}function o(c){for(var h=0,m=0;m<c.length;m++)h+=c[m].width;return h}function u(c){for(var h=0,m=0;m<c.length;m++)c[m].height>h&&(h=c[m].height);return h}function d(c,h,m){var b;if(m)b=m;else if(typeof document<"u")b=document.createElement("canvas").getContext("2d");else return 0;b.font=h.fontOptions+" "+h.fontSize+"px "+h.font;var x=b.measureText(c);if(!x)return 0;var E=x.width;return E}return Go.getMaximumHeightOfEncodings=u,Go.getEncodingHeight=n,Go.getBarcodePadding=i,Go.calculateEncodingAttributes=a,Go.getTotalWidthOfEncodings=o,Go}var QI;function v0e(){if(QI)return Xm;QI=1,Object.defineProperty(Xm,"__esModule",{value:!0});var e=(function(){function u(d,c){for(var h=0;h<c.length;h++){var m=c[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,c,h){return c&&u(d.prototype,c),h&&u(d,h),d}})(),t=zy(),r=i(t),n=KL();function i(u){return u&&u.__esModule?u:{default:u}}function a(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}var o=(function(){function u(d,c,h){a(this,u),this.canvas=d,this.encodings=c,this.options=h}return e(u,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var c=0;c<this.encodings.length;c++){var h=(0,r.default)(this.options,this.encodings[c].options);this.drawCanvasBarcode(h,this.encodings[c]),this.drawCanvasText(h,this.encodings[c]),this.moveCanvasDrawing(this.encodings[c])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var c=this.canvas.getContext("2d");c.save(),(0,n.calculateEncodingAttributes)(this.encodings,this.options,c);var h=(0,n.getTotalWidthOfEncodings)(this.encodings),m=(0,n.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=h+this.options.marginLeft+this.options.marginRight,this.canvas.height=m,c.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(c.fillStyle=this.options.background,c.fillRect(0,0,this.canvas.width,this.canvas.height)),c.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(c,h){var m=this.canvas.getContext("2d"),b=h.data,x;c.textPosition=="top"?x=c.marginTop+c.fontSize+c.textMargin:x=c.marginTop,m.fillStyle=c.lineColor;for(var E=0;E<b.length;E++){var C=E*c.width+h.barcodePadding;b[E]==="1"?m.fillRect(C,x,c.width,c.height):b[E]&&m.fillRect(C,x,c.width,c.height*b[E])}}},{key:"drawCanvasText",value:function(c,h){var m=this.canvas.getContext("2d"),b=c.fontOptions+" "+c.fontSize+"px "+c.font;if(c.displayValue){var x,E;c.textPosition=="top"?E=c.marginTop+c.fontSize-c.textMargin:E=c.height+c.textMargin+c.marginTop+c.fontSize,m.font=b,c.textAlign=="left"||h.barcodePadding>0?(x=0,m.textAlign="left"):c.textAlign=="right"?(x=h.width-1,m.textAlign="right"):(x=h.width/2,m.textAlign="center"),m.fillText(h.text,x,E)}}},{key:"moveCanvasDrawing",value:function(c){var h=this.canvas.getContext("2d");h.translate(c.width,0)}},{key:"restoreCanvas",value:function(){var c=this.canvas.getContext("2d");c.restore()}}]),u})();return Xm.default=o,Xm}var Km={},JI;function y0e(){if(JI)return Km;JI=1,Object.defineProperty(Km,"__esModule",{value:!0});var e=(function(){function d(c,h){for(var m=0;m<h.length;m++){var b=h[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(c,b.key,b)}}return function(c,h,m){return h&&d(c.prototype,h),m&&d(c,m),c}})(),t=zy(),r=i(t),n=KL();function i(d){return d&&d.__esModule?d:{default:d}}function a(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}var o="http://www.w3.org/2000/svg",u=(function(){function d(c,h,m){a(this,d),this.svg=c,this.encodings=h,this.options=m,this.document=m.xmlDocument||document}return e(d,[{key:"render",value:function(){var h=this.options.marginLeft;this.prepareSVG();for(var m=0;m<this.encodings.length;m++){var b=this.encodings[m],x=(0,r.default)(this.options,b.options),E=this.createGroup(h,x.marginTop,this.svg);this.setGroupOptions(E,x),this.drawSvgBarcode(E,x,b),this.drawSVGText(E,x,b),h+=b.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,n.calculateEncodingAttributes)(this.encodings,this.options);var h=(0,n.getTotalWidthOfEncodings)(this.encodings),m=(0,n.getMaximumHeightOfEncodings)(this.encodings),b=h+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(b,m),this.options.background&&this.drawRect(0,0,b,m,this.svg).setAttribute("fill",this.options.background)}},{key:"drawSvgBarcode",value:function(h,m,b){var x=b.data,E;m.textPosition=="top"?E=m.fontSize+m.textMargin:E=0;for(var C=0,T=0,I=0;I<x.length;I++)T=I*m.width+b.barcodePadding,x[I]==="1"?C++:C>0&&(this.drawRect(T-m.width*C,E,m.width*C,m.height,h),C=0);C>0&&this.drawRect(T-m.width*(C-1),E,m.width*C,m.height,h)}},{key:"drawSVGText",value:function(h,m,b){var x=this.document.createElementNS(o,"text");if(m.displayValue){var E,C;x.setAttribute("font-family",m.font),x.setAttribute("font-size",m.fontSize),m.fontOptions.includes("bold")&&x.setAttribute("font-weight","bold"),m.fontOptions.includes("italic")&&x.setAttribute("font-style","italic"),m.textPosition=="top"?C=m.fontSize-m.textMargin:C=m.height+m.textMargin+m.fontSize,m.textAlign=="left"||b.barcodePadding>0?(E=0,x.setAttribute("text-anchor","start")):m.textAlign=="right"?(E=b.width-1,x.setAttribute("text-anchor","end")):(E=b.width/2,x.setAttribute("text-anchor","middle")),x.setAttribute("x",E),x.setAttribute("y",C),x.appendChild(this.document.createTextNode(b.text)),h.appendChild(x)}}},{key:"setSvgAttributes",value:function(h,m){var b=this.svg;b.setAttribute("width",h+"px"),b.setAttribute("height",m+"px"),b.setAttribute("x","0px"),b.setAttribute("y","0px"),b.setAttribute("viewBox","0 0 "+h+" "+m),b.setAttribute("xmlns",o),b.setAttribute("version","1.1")}},{key:"createGroup",value:function(h,m,b){var x=this.document.createElementNS(o,"g");return x.setAttribute("transform","translate("+h+", "+m+")"),b.appendChild(x),x}},{key:"setGroupOptions",value:function(h,m){h.setAttribute("fill",m.lineColor)}},{key:"drawRect",value:function(h,m,b,x,E){var C=this.document.createElementNS(o,"rect");return C.setAttribute("x",h),C.setAttribute("y",m),C.setAttribute("width",b),C.setAttribute("height",x),E.appendChild(C),C}}]),d})();return Km.default=u,Km}var Zm={},ek;function b0e(){if(ek)return Zm;ek=1,Object.defineProperty(Zm,"__esModule",{value:!0});var e=(function(){function n(i,a){for(var o=0;o<a.length;o++){var u=a[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(i,u.key,u)}}return function(i,a,o){return a&&n(i.prototype,a),o&&n(i,o),i}})();function t(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}var r=(function(){function n(i,a,o){t(this,n),this.object=i,this.encodings=a,this.options=o}return e(n,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),n})();return Zm.default=r,Zm}var tk;function x0e(){if(tk)return Ym;tk=1,Object.defineProperty(Ym,"__esModule",{value:!0});var e=v0e(),t=o(e),r=y0e(),n=o(r),i=b0e(),a=o(i);function o(u){return u&&u.__esModule?u:{default:u}}return Ym.default={CanvasRenderer:t.default,SVGRenderer:n.default,ObjectRenderer:a.default},Ym}var Lh={},rk;function ZL(){if(rk)return Lh;rk=1,Object.defineProperty(Lh,"__esModule",{value:!0});function e(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}function t(o,u){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:o}function r(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(o,u):o.__proto__=u)}var n=(function(o){r(u,o);function u(d,c){e(this,u);var h=t(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return h.name="InvalidInputException",h.symbology=d,h.input=c,h.message='"'+h.input+'" is not a valid input for '+h.symbology,h}return u})(Error),i=(function(o){r(u,o);function u(){e(this,u);var d=t(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return d.name="InvalidElementException",d.message="Not supported type to render on",d}return u})(Error),a=(function(o){r(u,o);function u(){e(this,u);var d=t(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return d.name="NoElementException",d.message="No element to render on.",d}return u})(Error);return Lh.InvalidInputException=n,Lh.InvalidElementException=i,Lh.NoElementException=a,Lh}var nk;function w0e(){if(nk)return Gm;nk=1,Object.defineProperty(Gm,"__esModule",{value:!0});var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},t=m0e(),r=o(t),n=x0e(),i=o(n),a=ZL();function o(h){return h&&h.__esModule?h:{default:h}}function u(h){if(typeof h=="string")return d(h);if(Array.isArray(h)){for(var m=[],b=0;b<h.length;b++)m.push(u(h[b]));return m}else{if(typeof HTMLCanvasElement<"u"&&h instanceof HTMLImageElement)return c(h);if(h&&h.nodeName&&h.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&h instanceof SVGElement)return{element:h,options:(0,r.default)(h),renderer:i.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&h instanceof HTMLCanvasElement)return{element:h,options:(0,r.default)(h),renderer:i.default.CanvasRenderer};if(h&&h.getContext)return{element:h,renderer:i.default.CanvasRenderer};if(h&&(typeof h>"u"?"undefined":e(h))==="object"&&!h.nodeName)return{element:h,renderer:i.default.ObjectRenderer};throw new a.InvalidElementException}}function d(h){var m=document.querySelectorAll(h);if(m.length!==0){for(var b=[],x=0;x<m.length;x++)b.push(u(m[x]));return b}}function c(h){var m=document.createElement("canvas");return{element:m,options:(0,r.default)(h),renderer:i.default.CanvasRenderer,afterRender:function(){h.setAttribute("src",m.toDataURL())}}}return Gm.default=u,Gm}var Qm={},ik;function _0e(){if(ik)return Qm;ik=1,Object.defineProperty(Qm,"__esModule",{value:!0});var e=(function(){function n(i,a){for(var o=0;o<a.length;o++){var u=a[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(i,u.key,u)}}return function(i,a,o){return a&&n(i.prototype,a),o&&n(i,o),i}})();function t(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}var r=(function(){function n(i){t(this,n),this.api=i}return e(n,[{key:"handleCatch",value:function(a){if(a.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw a.message;else throw a;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(a){try{var o=a.apply(void 0,arguments);return this.api._options.valid(!0),o}catch(u){return this.handleCatch(u),this.api}}}]),n})();return Qm.default=r,Qm}var t5,ak;function A0e(){if(ak)return t5;ak=1;var e=h0e(),t=I(e),r=zy(),n=I(r),i=p0e(),a=I(i),o=g0e(),u=I(o),d=w0e(),c=I(d),h=YL(),m=I(h),b=_0e(),x=I(b),E=ZL(),C=XL(),T=I(C);function I(q){return q&&q.__esModule?q:{default:q}}var B=function(){},U=function(se,G,H){var le=new B;if(typeof se>"u")throw Error("No element to render on was provided.");return le._renderProperties=(0,c.default)(se),le._encodings=[],le._options=T.default,le._errorHandler=new x.default(le),typeof G<"u"&&(H=H||{},H.format||(H.format=V()),le.options(H)[H.format](G,H).render()),le};U.getModule=function(q){return t.default[q]};for(var F in t.default)t.default.hasOwnProperty(F)&&K(t.default,F);function K(q,se){B.prototype[se]=B.prototype[se.toUpperCase()]=B.prototype[se.toLowerCase()]=function(G,H){var le=this;return le._errorHandler.wrapBarcodeCall(function(){H.text=typeof H.text>"u"?void 0:""+H.text;var J=(0,n.default)(le._options,H);J=(0,m.default)(J);var ie=q[se],ne=Z(G,ie,J);return le._encodings.push(ne),le})}}function Z(q,se,G){q=""+q;var H=new se(q,G);if(!H.valid())throw new E.InvalidInputException(H.constructor.name,q);var le=H.encode();le=(0,a.default)(le);for(var J=0;J<le.length;J++)le[J].options=(0,n.default)(G,le[J].options);return le}function V(){return t.default.CODE128?"CODE128":Object.keys(t.default)[0]}B.prototype.options=function(q){return this._options=(0,n.default)(this._options,q),this},B.prototype.blank=function(q){var se=new Array(q+1).join("0");return this._encodings.push({data:se}),this},B.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var q;for(var se in this._renderProperties){q=this._renderProperties[se];var G=(0,n.default)(this._options,q.options);G.format=="auto"&&(G.format=V()),this._errorHandler.wrapBarcodeCall(function(){var H=G.value,le=t.default[G.format.toUpperCase()],J=Z(H,le,G);Q(q,J,G)})}}},B.prototype.render=function(){if(!this._renderProperties)throw new E.NoElementException;if(Array.isArray(this._renderProperties))for(var q=0;q<this._renderProperties.length;q++)Q(this._renderProperties[q],this._encodings,this._options);else Q(this._renderProperties,this._encodings,this._options);return this},B.prototype._defaults=T.default;function Q(q,se,G){se=(0,a.default)(se);for(var H=0;H<se.length;H++)se[H].options=(0,n.default)(G,se[H].options),(0,u.default)(se[H].options);(0,u.default)(G);var le=q.renderer,J=new le(q.element,se,G);J.render(),q.afterRender&&q.afterRender()}return typeof window<"u"&&(window.JsBarcode=U),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(q,se){var G=[];return jQuery(this).each(function(){G.push(this)}),U(G,q,se)}),t5=U,t5}var S0e=A0e();const E0e=qc(S0e),C0e="modulepreload",N0e=function(e){return"/"+e},sk={},r5=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=o(r.map(c=>{if(c=N0e(c),c in sk)return;sk[c]=!0;const h=c.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const b=document.createElement("link");if(b.rel=h?"stylesheet":C0e,h||(b.as="script"),b.crossOrigin="",b.href=c,d&&b.setAttribute("nonce",d),document.head.appendChild(b),h)return new Promise((x,E)=>{b.addEventListener("load",x),b.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return i.then(o=>{for(const u of o||[])u.status==="rejected"&&a(u.reason);return t().catch(a)})};function Un(e){"@babel/helpers - typeof";return Un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Un(e)}var rc=Uint8Array,Jo=Uint16Array,wS=Int32Array,_S=new rc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),AS=new rc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ok=new rc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),QL=function(e,t){for(var r=new Jo(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new wS(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},JL=QL(_S,2),O0e=JL.b,G_=JL.r;O0e[28]=258,G_[258]=28;var T0e=QL(AS,0),lk=T0e.r,W_=new Jo(32768);for(var yi=0;yi<32768;++yi){var bf=(yi&43690)>>1|(yi&21845)<<1;bf=(bf&52428)>>2|(bf&13107)<<2,bf=(bf&61680)>>4|(bf&3855)<<4,W_[yi]=((bf&65280)>>8|(bf&255)<<8)>>1}var H1=(function(e,t,r){for(var n=e.length,i=0,a=new Jo(t);i<n;++i)e[i]&&++a[e[i]-1];var o=new Jo(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var u;if(r){u=new Jo(1<<t);var d=15-t;for(i=0;i<n;++i)if(e[i])for(var c=i<<4|e[i],h=t-e[i],m=o[e[i]-1]++<<h,b=m|(1<<h)-1;m<=b;++m)u[W_[m]>>d]=c}else for(u=new Jo(n),i=0;i<n;++i)e[i]&&(u[i]=W_[o[e[i]-1]++]>>15-e[i]);return u}),Dd=new rc(288);for(var yi=0;yi<144;++yi)Dd[yi]=8;for(var yi=144;yi<256;++yi)Dd[yi]=9;for(var yi=256;yi<280;++yi)Dd[yi]=7;for(var yi=280;yi<288;++yi)Dd[yi]=8;var T2=new rc(32);for(var yi=0;yi<32;++yi)T2[yi]=5;var I0e=H1(Dd,9,0),k0e=H1(T2,5,0),e9=function(e){return(e+7)/8|0},M0e=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new rc(e.subarray(t,r))},hu=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},j1=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},n5=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return{t:r9,l:0};if(i==1){var o=new rc(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(K,Z){return K.f-Z.f}),r.push({s:-1,f:25001});var u=r[0],d=r[1],c=0,h=1,m=2;for(r[0]={s:-1,f:u.f+d.f,l:u,r:d};h!=i-1;)u=r[r[c].f<r[m].f?c++:m++],d=r[c!=h&&r[c].f<r[m].f?c++:m++],r[h++]={s:-1,f:u.f+d.f,l:u,r:d};for(var b=a[0].s,n=1;n<i;++n)a[n].s>b&&(b=a[n].s);var x=new Jo(b+1),E=$_(r[h-1],x,0);if(E>t){var n=0,C=0,T=E-t,I=1<<T;for(a.sort(function(Z,V){return x[V.s]-x[Z.s]||Z.f-V.f});n<i;++n){var B=a[n].s;if(x[B]>t)C+=I-(1<<E-x[B]),x[B]=t;else break}for(C>>=T;C>0;){var U=a[n].s;x[U]<t?C-=1<<t-x[U]++-1:++n}for(;n>=0&&C;--n){var F=a[n].s;x[F]==t&&(--x[F],++C)}E=t}return{t:new rc(x),l:E}},$_=function(e,t,r){return e.s==-1?Math.max($_(e.l,t,r+1),$_(e.r,t,r+1)):t[e.s]=r},ck=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Jo(++t),n=0,i=e[0],a=1,o=function(d){r[n++]=d},u=1;u<=t;++u)if(e[u]==i&&u!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[u]}return{c:r.subarray(0,n),n:t}},R1=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},t9=function(e,t,r){var n=r.length,i=e9(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},uk=function(e,t,r,n,i,a,o,u,d,c,h){hu(t,h++,r),++i[256];for(var m=n5(i,15),b=m.t,x=m.l,E=n5(a,15),C=E.t,T=E.l,I=ck(b),B=I.c,U=I.n,F=ck(C),K=F.c,Z=F.n,V=new Jo(19),Q=0;Q<B.length;++Q)++V[B[Q]&31];for(var Q=0;Q<K.length;++Q)++V[K[Q]&31];for(var q=n5(V,7),se=q.t,G=q.l,H=19;H>4&&!se[ok[H-1]];--H);var le=c+5<<3,J=R1(i,Dd)+R1(a,T2)+o,ie=R1(i,b)+R1(a,C)+o+14+3*H+R1(V,se)+2*V[16]+3*V[17]+7*V[18];if(d>=0&&le<=J&&le<=ie)return t9(t,h,e.subarray(d,d+c));var ne,fe,we,Ie;if(hu(t,h,1+(ie<J)),h+=2,ie<J){ne=H1(b,x,0),fe=b,we=H1(C,T,0),Ie=C;var Me=H1(se,G,0);hu(t,h,U-257),hu(t,h+5,Z-1),hu(t,h+10,H-4),h+=14;for(var Q=0;Q<H;++Q)hu(t,h+3*Q,se[ok[Q]]);h+=3*H;for(var pe=[B,K],X=0;X<2;++X)for(var de=pe[X],Q=0;Q<de.length;++Q){var me=de[Q]&31;hu(t,h,Me[me]),h+=se[me],me>15&&(hu(t,h,de[Q]>>5&127),h+=de[Q]>>12)}}else ne=I0e,fe=Dd,we=k0e,Ie=T2;for(var Q=0;Q<u;++Q){var Ne=n[Q];if(Ne>255){var me=Ne>>18&31;j1(t,h,ne[me+257]),h+=fe[me+257],me>7&&(hu(t,h,Ne>>23&31),h+=_S[me]);var xe=Ne&31;j1(t,h,we[xe]),h+=Ie[xe],xe>3&&(j1(t,h,Ne>>5&8191),h+=AS[xe])}else j1(t,h,ne[Ne]),h+=fe[Ne]}return j1(t,h,ne[256]),h+fe[256]},j0e=new wS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),r9=new rc(0),R0e=function(e,t,r,n,i,a){var o=a.z||e.length,u=new rc(n+o+5*(1+Math.ceil(o/7e3))+i),d=u.subarray(n,u.length-i),c=a.l,h=(a.r||0)&7;if(t){h&&(d[0]=a.r>>3);for(var m=j0e[t-1],b=m>>13,x=m&8191,E=(1<<r)-1,C=a.p||new Jo(32768),T=a.h||new Jo(E+1),I=Math.ceil(r/3),B=2*I,U=function(bt){return(e[bt]^e[bt+1]<<I^e[bt+2]<<B)&E},F=new wS(25e3),K=new Jo(288),Z=new Jo(32),V=0,Q=0,q=a.i||0,se=0,G=a.w||0,H=0;q+2<o;++q){var le=U(q),J=q&32767,ie=T[le];if(C[J]=ie,T[le]=J,G<=q){var ne=o-q;if((V>7e3||se>24576)&&(ne>423||!c)){h=uk(e,d,0,F,K,Z,Q,se,H,q-H,h),se=V=Q=0,H=q;for(var fe=0;fe<286;++fe)K[fe]=0;for(var fe=0;fe<30;++fe)Z[fe]=0}var we=2,Ie=0,Me=x,pe=J-ie&32767;if(ne>2&&le==U(q-pe))for(var X=Math.min(b,ne)-1,de=Math.min(32767,q),me=Math.min(258,ne);pe<=de&&--Me&&J!=ie;){if(e[q+we]==e[q+we-pe]){for(var Ne=0;Ne<me&&e[q+Ne]==e[q+Ne-pe];++Ne);if(Ne>we){if(we=Ne,Ie=pe,Ne>X)break;for(var xe=Math.min(pe,Ne-2),Re=0,fe=0;fe<xe;++fe){var ze=q-pe+fe&32767,Ce=C[ze],Ge=ze-Ce&32767;Ge>Re&&(Re=Ge,ie=ze)}}}J=ie,ie=C[J],pe+=J-ie&32767}if(Ie){F[se++]=268435456|G_[we]<<18|lk[Ie];var Je=G_[we]&31,qe=lk[Ie]&31;Q+=_S[Je]+AS[qe],++K[257+Je],++Z[qe],G=q+we,++V}else F[se++]=e[q],++K[e[q]]}}for(q=Math.max(q,G);q<o;++q)F[se++]=e[q],++K[e[q]];h=uk(e,d,c,F,K,Z,Q,se,H,q-H,h),c||(a.r=h&7|d[h/8|0]<<3,h-=7,a.h=T,a.p=C,a.i=q,a.w=G)}else{for(var q=a.w||0;q<o+c;q+=65535){var lt=q+65535;lt>=o&&(d[h/8|0]=c,lt=o),h=t9(d,h+1,e.subarray(q,lt))}a.i=o}return M0e(u,0,n+e9(h)+i)},n9=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length|0,o=0;o!=a;){for(var u=Math.min(o+2655,a);o<u;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},P0e=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new rc(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return R0e(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},i9=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},D0e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=n9();i.p(t.dictionary),i9(e,2,i.d())}};function V_(e,t){t||(t={});var r=n9();r.p(e);var n=P0e(e,t,t.dictionary?6:2,4);return D0e(n,t),i9(n,n.length-4,r.d()),n}var L0e=typeof TextDecoder<"u"&&new TextDecoder,B0e=0;try{L0e.decode(r9,{stream:!0}),B0e=1}catch{}function F0e(e){if(Array.isArray(e))return e}function U0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){c=!0,i=h}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}function fk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function z0e(e,t){if(e){if(typeof e=="string")return fk(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fk(e,t):void 0}}function q0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dk(e,t){return F0e(e)||U0e(e,t)||z0e(e,t)||q0e()}function hk(e,t="utf8"){return new TextDecoder(t).decode(e)}const H0e=new TextEncoder;function G0e(e){return H0e.encode(e)}const W0e=1024*8,$0e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),i5={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class SS{constructor(t=W0e,r={}){Cn(this,"buffer");Cn(this,"byteLength");Cn(this,"byteOffset");Cn(this,"length");Cn(this,"offset");Cn(this,"lastWrittenByte");Cn(this,"littleEndian");Cn(this,"_data");Cn(this,"_mark");Cn(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,a=t.byteLength-i;let o=i;(ArrayBuffer.isView(t)||t instanceof SS)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=i5[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===$0e&&r!=="uint8"&&r!=="int8"){const u=new Uint8Array(this.buffer.slice(i,i+n));u.reverse();const d=new i5[r](u.buffer);return this.offset+=n,d.reverse(),d}const o=new i5[r](a);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return hk(this.readBytes(t))}decodeText(t=1,r="utf8"){return hk(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(G0e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function R0(e){let t=e.length;for(;--t>=0;)e[t]=0}const V0e=3,Y0e=258,a9=29,X0e=256,K0e=X0e+1+a9,s9=30,Z0e=512,Q0e=new Array((K0e+2)*2);R0(Q0e);const J0e=new Array(s9*2);R0(J0e);const e1e=new Array(Z0e);R0(e1e);const t1e=new Array(Y0e-V0e+1);R0(t1e);const r1e=new Array(a9);R0(r1e);const n1e=new Array(s9);R0(n1e);const i1e=(e,t,r,n)=>{let i=e&65535|0,a=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+t[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var Y_=i1e;const a1e=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},s1e=new Uint32Array(a1e()),o1e=(e,t,r,n)=>{const i=s1e,a=n+r;e^=-1;for(let o=n;o<a;o++)e=e>>>8^i[(e^t[o])&255];return e^-1};var Cc=o1e,X_={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},o9={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const l1e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var c1e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)l1e(r,n)&&(e[n]=r[n])}}return e},u1e=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,a=e.length;n<a;n++){let o=e[n];r.set(o,i),i+=o.length}return r},l9={assign:c1e,flattenChunks:u1e};let c9=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c9=!1}const xp=new Uint8Array(256);for(let e=0;e<256;e++)xp[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;xp[254]=xp[254]=1;var f1e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,a,o=e.length,u=0;for(i=0;i<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),u+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(u),a=0,i=0;a<u;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t};const d1e=(e,t)=>{if(t<65534&&e.subarray&&c9)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var h1e=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let o=e[n++];if(o<128){a[i++]=o;continue}let u=xp[o];if(u>4){a[i++]=65533,n+=u-1;continue}for(o&=u===2?31:u===3?15:7;u>1&&n<r;)o=o<<6|e[n++]&63,u--;if(u>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return d1e(a,i)},p1e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+xp[e[r]]>t?r:t},K_={string2buf:f1e,buf2string:h1e,utf8border:p1e};function g1e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var m1e=g1e;const Jm=16209,v1e=16191;var y1e=function(t,r){let n,i,a,o,u,d,c,h,m,b,x,E,C,T,I,B,U,F,K,Z,V,Q,q,se;const G=t.state;n=t.next_in,q=t.input,i=n+(t.avail_in-5),a=t.next_out,se=t.output,o=a-(r-t.avail_out),u=a+(t.avail_out-257),d=G.dmax,c=G.wsize,h=G.whave,m=G.wnext,b=G.window,x=G.hold,E=G.bits,C=G.lencode,T=G.distcode,I=(1<<G.lenbits)-1,B=(1<<G.distbits)-1;e:do{E<15&&(x+=q[n++]<<E,E+=8,x+=q[n++]<<E,E+=8),U=C[x&I];t:for(;;){if(F=U>>>24,x>>>=F,E-=F,F=U>>>16&255,F===0)se[a++]=U&65535;else if(F&16){K=U&65535,F&=15,F&&(E<F&&(x+=q[n++]<<E,E+=8),K+=x&(1<<F)-1,x>>>=F,E-=F),E<15&&(x+=q[n++]<<E,E+=8,x+=q[n++]<<E,E+=8),U=T[x&B];r:for(;;){if(F=U>>>24,x>>>=F,E-=F,F=U>>>16&255,F&16){if(Z=U&65535,F&=15,E<F&&(x+=q[n++]<<E,E+=8,E<F&&(x+=q[n++]<<E,E+=8)),Z+=x&(1<<F)-1,Z>d){t.msg="invalid distance too far back",G.mode=Jm;break e}if(x>>>=F,E-=F,F=a-o,Z>F){if(F=Z-F,F>h&&G.sane){t.msg="invalid distance too far back",G.mode=Jm;break e}if(V=0,Q=b,m===0){if(V+=c-F,F<K){K-=F;do se[a++]=b[V++];while(--F);V=a-Z,Q=se}}else if(m<F){if(V+=c+m-F,F-=m,F<K){K-=F;do se[a++]=b[V++];while(--F);if(V=0,m<K){F=m,K-=F;do se[a++]=b[V++];while(--F);V=a-Z,Q=se}}}else if(V+=m-F,F<K){K-=F;do se[a++]=b[V++];while(--F);V=a-Z,Q=se}for(;K>2;)se[a++]=Q[V++],se[a++]=Q[V++],se[a++]=Q[V++],K-=3;K&&(se[a++]=Q[V++],K>1&&(se[a++]=Q[V++]))}else{V=a-Z;do se[a++]=se[V++],se[a++]=se[V++],se[a++]=se[V++],K-=3;while(K>2);K&&(se[a++]=se[V++],K>1&&(se[a++]=se[V++]))}}else if((F&64)===0){U=T[(U&65535)+(x&(1<<F)-1)];continue r}else{t.msg="invalid distance code",G.mode=Jm;break e}break}}else if((F&64)===0){U=C[(U&65535)+(x&(1<<F)-1)];continue t}else if(F&32){G.mode=v1e;break e}else{t.msg="invalid literal/length code",G.mode=Jm;break e}break}}while(n<i&&a<u);K=E>>3,n-=K,E-=K<<3,x&=(1<<E)-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=a<u?257+(u-a):257-(a-u),G.hold=x,G.bits=E};const Bh=15,pk=852,gk=592,mk=0,a5=1,vk=2,b1e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),x1e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),w1e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),_1e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),A1e=(e,t,r,n,i,a,o,u)=>{const d=u.bits;let c=0,h=0,m=0,b=0,x=0,E=0,C=0,T=0,I=0,B=0,U,F,K,Z,V,Q=null,q;const se=new Uint16Array(Bh+1),G=new Uint16Array(Bh+1);let H=null,le,J,ie;for(c=0;c<=Bh;c++)se[c]=0;for(h=0;h<n;h++)se[t[r+h]]++;for(x=d,b=Bh;b>=1&&se[b]===0;b--);if(x>b&&(x=b),b===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,u.bits=1,0;for(m=1;m<b&&se[m]===0;m++);for(x<m&&(x=m),T=1,c=1;c<=Bh;c++)if(T<<=1,T-=se[c],T<0)return-1;if(T>0&&(e===mk||b!==1))return-1;for(G[1]=0,c=1;c<Bh;c++)G[c+1]=G[c]+se[c];for(h=0;h<n;h++)t[r+h]!==0&&(o[G[t[r+h]]++]=h);if(e===mk?(Q=H=o,q=20):e===a5?(Q=b1e,H=x1e,q=257):(Q=w1e,H=_1e,q=0),B=0,h=0,c=m,V=a,E=x,C=0,K=-1,I=1<<x,Z=I-1,e===a5&&I>pk||e===vk&&I>gk)return 1;for(;;){le=c-C,o[h]+1<q?(J=0,ie=o[h]):o[h]>=q?(J=H[o[h]-q],ie=Q[o[h]-q]):(J=96,ie=0),U=1<<c-C,F=1<<E,m=F;do F-=U,i[V+(B>>C)+F]=le<<24|J<<16|ie|0;while(F!==0);for(U=1<<c-1;B&U;)U>>=1;if(U!==0?(B&=U-1,B+=U):B=0,h++,--se[c]===0){if(c===b)break;c=t[r+o[h]]}if(c>x&&(B&Z)!==K){for(C===0&&(C=x),V+=m,E=c-C,T=1<<E;E+C<b&&(T-=se[E+C],!(T<=0));)E++,T<<=1;if(I+=1<<E,e===a5&&I>pk||e===vk&&I>gk)return 1;K=B&Z,i[K]=x<<24|E<<16|V-a|0}}return B!==0&&(i[V+B]=c-C<<24|64<<16|0),u.bits=x,0};var G1=A1e;const S1e=0,u9=1,f9=2,{Z_FINISH:yk,Z_BLOCK:E1e,Z_TREES:ev,Z_OK:Ld,Z_STREAM_END:C1e,Z_NEED_DICT:N1e,Z_STREAM_ERROR:Al,Z_DATA_ERROR:d9,Z_MEM_ERROR:h9,Z_BUF_ERROR:O1e,Z_DEFLATED:bk}=o9,qy=16180,xk=16181,wk=16182,_k=16183,Ak=16184,Sk=16185,Ek=16186,Ck=16187,Nk=16188,Ok=16189,I2=16190,pu=16191,s5=16192,Tk=16193,o5=16194,Ik=16195,kk=16196,Mk=16197,jk=16198,tv=16199,rv=16200,Rk=16201,Pk=16202,Dk=16203,Lk=16204,Bk=16205,l5=16206,Fk=16207,Uk=16208,Ei=16209,p9=16210,g9=16211,T1e=852,I1e=592,k1e=15,M1e=k1e,zk=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function j1e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Gd=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<qy||t.mode>g9?1:0},m9=e=>{if(Gd(e))return Al;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=qy,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(T1e),t.distcode=t.distdyn=new Int32Array(I1e),t.sane=1,t.back=-1,Ld},v9=e=>{if(Gd(e))return Al;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,m9(e)},y9=(e,t)=>{let r;if(Gd(e))return Al;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Al:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,v9(e))},b9=(e,t)=>{if(!e)return Al;const r=new j1e;e.state=r,r.strm=e,r.window=null,r.mode=qy;const n=y9(e,t);return n!==Ld&&(e.state=null),n},R1e=e=>b9(e,M1e);let qk=!0,c5,u5;const P1e=e=>{if(qk){c5=new Int32Array(512),u5=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(G1(u9,e.lens,0,288,c5,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;G1(f9,e.lens,0,32,u5,0,e.work,{bits:5}),qk=!1}e.lencode=c5,e.lenbits=9,e.distcode=u5,e.distbits=5},x9=(e,t,r,n)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},D1e=(e,t)=>{let r,n,i,a,o,u,d,c,h,m,b,x,E,C,T=0,I,B,U,F,K,Z,V,Q;const q=new Uint8Array(4);let se,G;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Gd(e)||!e.output||!e.input&&e.avail_in!==0)return Al;r=e.state,r.mode===pu&&(r.mode=s5),o=e.next_out,i=e.output,d=e.avail_out,a=e.next_in,n=e.input,u=e.avail_in,c=r.hold,h=r.bits,m=u,b=d,Q=Ld;e:for(;;)switch(r.mode){case qy:if(r.wrap===0){r.mode=s5;break}for(;h<16;){if(u===0)break e;u--,c+=n[a++]<<h,h+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,q[0]=c&255,q[1]=c>>>8&255,r.check=Cc(r.check,q,2,0),c=0,h=0,r.mode=xk;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=Ei;break}if((c&15)!==bk){e.msg="unknown compression method",r.mode=Ei;break}if(c>>>=4,h-=4,V=(c&15)+8,r.wbits===0&&(r.wbits=V),V>15||V>r.wbits){e.msg="invalid window size",r.mode=Ei;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=c&512?Ok:pu,c=0,h=0;break;case xk:for(;h<16;){if(u===0)break e;u--,c+=n[a++]<<h,h+=8}if(r.flags=c,(r.flags&255)!==bk){e.msg="unknown compression method",r.mode=Ei;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Ei;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(q[0]=c&255,q[1]=c>>>8&255,r.check=Cc(r.check,q,2,0)),c=0,h=0,r.mode=wk;case wk:for(;h<32;){if(u===0)break e;u--,c+=n[a++]<<h,h+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(q[0]=c&255,q[1]=c>>>8&255,q[2]=c>>>16&255,q[3]=c>>>24&255,r.check=Cc(r.check,q,4,0)),c=0,h=0,r.mode=_k;case _k:for(;h<16;){if(u===0)break e;u--,c+=n[a++]<<h,h+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(q[0]=c&255,q[1]=c>>>8&255,r.check=Cc(r.check,q,2,0)),c=0,h=0,r.mode=Ak;case Ak:if(r.flags&1024){for(;h<16;){if(u===0)break e;u--,c+=n[a++]<<h,h+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(q[0]=c&255,q[1]=c>>>8&255,r.check=Cc(r.check,q,2,0)),c=0,h=0}else r.head&&(r.head.extra=null);r.mode=Sk;case Sk:if(r.flags&1024&&(x=r.length,x>u&&(x=u),x&&(r.head&&(V=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+x),V)),r.flags&512&&r.wrap&4&&(r.check=Cc(r.check,n,x,a)),u-=x,a+=x,r.length-=x),r.length))break e;r.length=0,r.mode=Ek;case Ek:if(r.flags&2048){if(u===0)break e;x=0;do V=n[a+x++],r.head&&V&&r.length<65536&&(r.head.name+=String.fromCharCode(V));while(V&&x<u);if(r.flags&512&&r.wrap&4&&(r.check=Cc(r.check,n,x,a)),u-=x,a+=x,V)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Ck;case Ck:if(r.flags&4096){if(u===0)break e;x=0;do V=n[a+x++],r.head&&V&&r.length<65536&&(r.head.comment+=String.fromCharCode(V));while(V&&x<u);if(r.flags&512&&r.wrap&4&&(r.check=Cc(r.check,n,x,a)),u-=x,a+=x,V)break e}else r.head&&(r.head.comment=null);r.mode=Nk;case Nk:if(r.flags&512){for(;h<16;){if(u===0)break e;u--,c+=n[a++]<<h,h+=8}if(r.wrap&4&&c!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Ei;break}c=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=pu;break;case Ok:for(;h<32;){if(u===0)break e;u--,c+=n[a++]<<h,h+=8}e.adler=r.check=zk(c),c=0,h=0,r.mode=I2;case I2:if(r.havedict===0)return e.next_out=o,e.avail_out=d,e.next_in=a,e.avail_in=u,r.hold=c,r.bits=h,N1e;e.adler=r.check=1,r.mode=pu;case pu:if(t===E1e||t===ev)break e;case s5:if(r.last){c>>>=h&7,h-=h&7,r.mode=l5;break}for(;h<3;){if(u===0)break e;u--,c+=n[a++]<<h,h+=8}switch(r.last=c&1,c>>>=1,h-=1,c&3){case 0:r.mode=Tk;break;case 1:if(P1e(r),r.mode=tv,t===ev){c>>>=2,h-=2;break e}break;case 2:r.mode=kk;break;case 3:e.msg="invalid block type",r.mode=Ei}c>>>=2,h-=2;break;case Tk:for(c>>>=h&7,h-=h&7;h<32;){if(u===0)break e;u--,c+=n[a++]<<h,h+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Ei;break}if(r.length=c&65535,c=0,h=0,r.mode=o5,t===ev)break e;case o5:r.mode=Ik;case Ik:if(x=r.length,x){if(x>u&&(x=u),x>d&&(x=d),x===0)break e;i.set(n.subarray(a,a+x),o),u-=x,a+=x,d-=x,o+=x,r.length-=x;break}r.mode=pu;break;case kk:for(;h<14;){if(u===0)break e;u--,c+=n[a++]<<h,h+=8}if(r.nlen=(c&31)+257,c>>>=5,h-=5,r.ndist=(c&31)+1,c>>>=5,h-=5,r.ncode=(c&15)+4,c>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Ei;break}r.have=0,r.mode=Mk;case Mk:for(;r.have<r.ncode;){for(;h<3;){if(u===0)break e;u--,c+=n[a++]<<h,h+=8}r.lens[H[r.have++]]=c&7,c>>>=3,h-=3}for(;r.have<19;)r.lens[H[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,se={bits:r.lenbits},Q=G1(S1e,r.lens,0,19,r.lencode,0,r.work,se),r.lenbits=se.bits,Q){e.msg="invalid code lengths set",r.mode=Ei;break}r.have=0,r.mode=jk;case jk:for(;r.have<r.nlen+r.ndist;){for(;T=r.lencode[c&(1<<r.lenbits)-1],I=T>>>24,B=T>>>16&255,U=T&65535,!(I<=h);){if(u===0)break e;u--,c+=n[a++]<<h,h+=8}if(U<16)c>>>=I,h-=I,r.lens[r.have++]=U;else{if(U===16){for(G=I+2;h<G;){if(u===0)break e;u--,c+=n[a++]<<h,h+=8}if(c>>>=I,h-=I,r.have===0){e.msg="invalid bit length repeat",r.mode=Ei;break}V=r.lens[r.have-1],x=3+(c&3),c>>>=2,h-=2}else if(U===17){for(G=I+3;h<G;){if(u===0)break e;u--,c+=n[a++]<<h,h+=8}c>>>=I,h-=I,V=0,x=3+(c&7),c>>>=3,h-=3}else{for(G=I+7;h<G;){if(u===0)break e;u--,c+=n[a++]<<h,h+=8}c>>>=I,h-=I,V=0,x=11+(c&127),c>>>=7,h-=7}if(r.have+x>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Ei;break}for(;x--;)r.lens[r.have++]=V}}if(r.mode===Ei)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Ei;break}if(r.lenbits=9,se={bits:r.lenbits},Q=G1(u9,r.lens,0,r.nlen,r.lencode,0,r.work,se),r.lenbits=se.bits,Q){e.msg="invalid literal/lengths set",r.mode=Ei;break}if(r.distbits=6,r.distcode=r.distdyn,se={bits:r.distbits},Q=G1(f9,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,se),r.distbits=se.bits,Q){e.msg="invalid distances set",r.mode=Ei;break}if(r.mode=tv,t===ev)break e;case tv:r.mode=rv;case rv:if(u>=6&&d>=258){e.next_out=o,e.avail_out=d,e.next_in=a,e.avail_in=u,r.hold=c,r.bits=h,y1e(e,b),o=e.next_out,i=e.output,d=e.avail_out,a=e.next_in,n=e.input,u=e.avail_in,c=r.hold,h=r.bits,r.mode===pu&&(r.back=-1);break}for(r.back=0;T=r.lencode[c&(1<<r.lenbits)-1],I=T>>>24,B=T>>>16&255,U=T&65535,!(I<=h);){if(u===0)break e;u--,c+=n[a++]<<h,h+=8}if(B&&(B&240)===0){for(F=I,K=B,Z=U;T=r.lencode[Z+((c&(1<<F+K)-1)>>F)],I=T>>>24,B=T>>>16&255,U=T&65535,!(F+I<=h);){if(u===0)break e;u--,c+=n[a++]<<h,h+=8}c>>>=F,h-=F,r.back+=F}if(c>>>=I,h-=I,r.back+=I,r.length=U,B===0){r.mode=Bk;break}if(B&32){r.back=-1,r.mode=pu;break}if(B&64){e.msg="invalid literal/length code",r.mode=Ei;break}r.extra=B&15,r.mode=Rk;case Rk:if(r.extra){for(G=r.extra;h<G;){if(u===0)break e;u--,c+=n[a++]<<h,h+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Pk;case Pk:for(;T=r.distcode[c&(1<<r.distbits)-1],I=T>>>24,B=T>>>16&255,U=T&65535,!(I<=h);){if(u===0)break e;u--,c+=n[a++]<<h,h+=8}if((B&240)===0){for(F=I,K=B,Z=U;T=r.distcode[Z+((c&(1<<F+K)-1)>>F)],I=T>>>24,B=T>>>16&255,U=T&65535,!(F+I<=h);){if(u===0)break e;u--,c+=n[a++]<<h,h+=8}c>>>=F,h-=F,r.back+=F}if(c>>>=I,h-=I,r.back+=I,B&64){e.msg="invalid distance code",r.mode=Ei;break}r.offset=U,r.extra=B&15,r.mode=Dk;case Dk:if(r.extra){for(G=r.extra;h<G;){if(u===0)break e;u--,c+=n[a++]<<h,h+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Ei;break}r.mode=Lk;case Lk:if(d===0)break e;if(x=b-d,r.offset>x){if(x=r.offset-x,x>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Ei;break}x>r.wnext?(x-=r.wnext,E=r.wsize-x):E=r.wnext-x,x>r.length&&(x=r.length),C=r.window}else C=i,E=o-r.offset,x=r.length;x>d&&(x=d),d-=x,r.length-=x;do i[o++]=C[E++];while(--x);r.length===0&&(r.mode=rv);break;case Bk:if(d===0)break e;i[o++]=r.length,d--,r.mode=rv;break;case l5:if(r.wrap){for(;h<32;){if(u===0)break e;u--,c|=n[a++]<<h,h+=8}if(b-=d,e.total_out+=b,r.total+=b,r.wrap&4&&b&&(e.adler=r.check=r.flags?Cc(r.check,i,b,o-b):Y_(r.check,i,b,o-b)),b=d,r.wrap&4&&(r.flags?c:zk(c))!==r.check){e.msg="incorrect data check",r.mode=Ei;break}c=0,h=0}r.mode=Fk;case Fk:if(r.wrap&&r.flags){for(;h<32;){if(u===0)break e;u--,c+=n[a++]<<h,h+=8}if(r.wrap&4&&c!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Ei;break}c=0,h=0}r.mode=Uk;case Uk:Q=C1e;break e;case Ei:Q=d9;break e;case p9:return h9;case g9:default:return Al}return e.next_out=o,e.avail_out=d,e.next_in=a,e.avail_in=u,r.hold=c,r.bits=h,(r.wsize||b!==e.avail_out&&r.mode<Ei&&(r.mode<l5||t!==yk))&&x9(e,e.output,e.next_out,b-e.avail_out),m-=e.avail_in,b-=e.avail_out,e.total_in+=m,e.total_out+=b,r.total+=b,r.wrap&4&&b&&(e.adler=r.check=r.flags?Cc(r.check,i,b,e.next_out-b):Y_(r.check,i,b,e.next_out-b)),e.data_type=r.bits+(r.last?64:0)+(r.mode===pu?128:0)+(r.mode===tv||r.mode===o5?256:0),(m===0&&b===0||t===yk)&&Q===Ld&&(Q=O1e),Q},L1e=e=>{if(Gd(e))return Al;let t=e.state;return t.window&&(t.window=null),e.state=null,Ld},B1e=(e,t)=>{if(Gd(e))return Al;const r=e.state;return(r.wrap&2)===0?Al:(r.head=t,t.done=!1,Ld)},F1e=(e,t)=>{const r=t.length;let n,i,a;return Gd(e)||(n=e.state,n.wrap!==0&&n.mode!==I2)?Al:n.mode===I2&&(i=1,i=Y_(i,t,r,0),i!==n.check)?d9:(a=x9(e,t,r,r),a?(n.mode=p9,h9):(n.havedict=1,Ld))};var U1e=v9,z1e=y9,q1e=m9,H1e=R1e,G1e=b9,W1e=D1e,$1e=L1e,V1e=B1e,Y1e=F1e,X1e="pako inflate (from Nodeca project)",vu={inflateReset:U1e,inflateReset2:z1e,inflateResetKeep:q1e,inflateInit:H1e,inflateInit2:G1e,inflate:W1e,inflateEnd:$1e,inflateGetHeader:V1e,inflateSetDictionary:Y1e,inflateInfo:X1e};function K1e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Z1e=K1e;const w9=Object.prototype.toString,{Z_NO_FLUSH:Q1e,Z_FINISH:J1e,Z_OK:wp,Z_STREAM_END:f5,Z_NEED_DICT:d5,Z_STREAM_ERROR:epe,Z_DATA_ERROR:Hk,Z_MEM_ERROR:tpe}=o9;function Qp(e){this.options=l9.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m1e,this.strm.avail_out=0;let r=vu.inflateInit2(this.strm,t.windowBits);if(r!==wp)throw new Error(X_[r]);if(this.header=new Z1e,vu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=K_.string2buf(t.dictionary):w9.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=vu.inflateSetDictionary(this.strm,t.dictionary),r!==wp)))throw new Error(X_[r])}Qp.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,u;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?J1e:Q1e,w9.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=vu.inflate(r,o),a===d5&&i&&(a=vu.inflateSetDictionary(r,i),a===wp?a=vu.inflate(r,o):a===Hk&&(a=d5));r.avail_in>0&&a===f5&&r.state.wrap>0&&e[r.next_in]!==0;)vu.inflateReset(r),a=vu.inflate(r,o);switch(a){case epe:case Hk:case d5:case tpe:return this.onEnd(a),this.ended=!0,!1}if(u=r.avail_out,r.next_out&&(r.avail_out===0||a===f5))if(this.options.to==="string"){let d=K_.utf8border(r.output,r.next_out),c=r.next_out-d,h=K_.buf2string(r.output,d);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(d,d+c),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===wp&&u===0)){if(a===f5)return a=vu.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Qp.prototype.onData=function(e){this.chunks.push(e)};Qp.prototype.onEnd=function(e){e===wp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l9.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function rpe(e,t){const r=new Qp(t);if(r.push(e),r.err)throw r.msg||X_[r.err];return r.result}var npe=Qp,ipe=rpe,ape={Inflate:npe,inflate:ipe};const{Inflate:spe,inflate:ope}=ape;var Gk=spe,lpe=ope;const _9=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;_9[e]=t}const Wk=4294967295;function cpe(e,t,r){let n=e;for(let i=0;i<r;i++)n=_9[(n^t[i])&255]^n>>>8;return n}function upe(e,t){return(cpe(Wk,e,t)^Wk)>>>0}function $k(e,t,r){const n=e.readUint32(),i=upe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function A9(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function S9(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function E9(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function C9(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(r[a]>>1)&255;for(;a<n;a++)t[a]=e[a]+(t[a-i]+r[a]>>1)&255}}function N9(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+r[a]&255;for(;a<n;a++)t[a]=e[a]+fpe(t[a-i],r[a],r[a-i])&255}}function fpe(e,t,r){const n=e+t-r,i=Math.abs(n-e),a=Math.abs(n-t),o=Math.abs(n-r);return i<=a&&i<=o?e:a<=o?t:r}function dpe(e,t,r,n,i,a){switch(e){case 0:A9(t,r,i);break;case 1:S9(t,r,i,a);break;case 2:E9(t,r,n,i);break;case 3:C9(t,r,n,i,a);break;case 4:N9(t,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const hpe=new Uint16Array([255]),ppe=new Uint8Array(hpe.buffer),gpe=ppe[0]===255;function mpe(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(a/8)*i,d=new Uint8Array(n*r*u);let c=0;for(let h=0;h<7;h++){const m=o[h],b=Math.ceil((r-m.x)/m.xStep),x=Math.ceil((n-m.y)/m.yStep);if(b<=0||x<=0)continue;const E=b*u,C=new Uint8Array(E);for(let T=0;T<x;T++){const I=t[c++],B=t.subarray(c,c+E);c+=E;const U=new Uint8Array(E);dpe(I,B,U,C,E,u),C.set(U);for(let F=0;F<b;F++){const K=m.x+F*m.xStep,Z=m.y+T*m.yStep;if(!(K>=r||Z>=n))for(let V=0;V<u;V++)d[(Z*r+K)*u+V]=U[F*u+V]}}}if(a===16){const h=new Uint16Array(d.buffer);if(gpe)for(let m=0;m<h.length;m++)h[m]=vpe(h[m]);return h}else return d}function vpe(e){return(e&255)<<8|e>>8&255}const ype=new Uint16Array([255]),bpe=new Uint8Array(ype.buffer),xpe=bpe[0]===255,wpe=new Uint8Array(0);function Vk(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,o=Math.ceil(a/8)*i,u=Math.ceil(a/8*i*r),d=new Uint8Array(n*u);let c=wpe,h=0,m,b;for(let x=0;x<n;x++){switch(m=t.subarray(h+1,h+1+u),b=d.subarray(x*u,(x+1)*u),t[h]){case 0:A9(m,b,u);break;case 1:S9(m,b,u,o);break;case 2:E9(m,b,c,u);break;case 3:C9(m,b,c,u,o);break;case 4:N9(m,b,c,u,o);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}c=b,h+=u+1}if(a===16){const x=new Uint16Array(d.buffer);if(xpe)for(let E=0;E<x.length;E++)x[E]=_pe(x[E]);return x}else return d}function _pe(e){return(e&255)<<8|e>>8&255}const vv=Uint8Array.of(137,80,78,71,13,10,26,10);function Yk(e){if(!Ape(e.readBytes(vv.length)))throw new Error("wrong PNG signature")}function Ape(e){if(e.length<vv.length)return!1;for(let t=0;t<vv.length;t++)if(e[t]!==vv[t])return!1;return!0}const Spe="tEXt",Epe=0,O9=new TextDecoder("latin1");function Cpe(e){if(Ope(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Npe=/^[\u0000-\u00FF]*$/;function Ope(e){if(!Npe.test(e))throw new Error("invalid latin1 text")}function Tpe(e,t,r){const n=T9(t);e[n]=Ipe(t,r-n.length-1)}function T9(e){for(e.mark();e.readByte()!==Epe;);const t=e.offset;e.reset();const r=O9.decode(e.readBytes(t-e.offset-1));return e.skip(1),Cpe(r),r}function Ipe(e,t){return O9.decode(e.readBytes(t))}const Wo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},h5={UNKNOWN:-1,DEFLATE:0},Xk={UNKNOWN:-1,ADAPTIVE:0},p5={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},nv={NONE:0,BACKGROUND:1,PREVIOUS:2},g5={SOURCE:0,OVER:1};class kpe extends SS{constructor(r,n={}){super(r);Cn(this,"_checkCrc");Cn(this,"_inflator");Cn(this,"_png");Cn(this,"_apng");Cn(this,"_end");Cn(this,"_hasPalette");Cn(this,"_palette");Cn(this,"_hasTransparency");Cn(this,"_transparency");Cn(this,"_compressionMethod");Cn(this,"_filterMethod");Cn(this,"_interlaceMethod");Cn(this,"_colorType");Cn(this,"_isAnimated");Cn(this,"_numberOfFrames");Cn(this,"_numberOfPlays");Cn(this,"_frames");Cn(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new Gk,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=h5.UNKNOWN,this._filterMethod=Xk.UNKNOWN,this._interlaceMethod=p5.UNKNOWN,this._colorType=Wo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Yk(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(Yk(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Spe:Tpe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?$k(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?$k(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=Mpe(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Wo.GREYSCALE:i=1;break;case Wo.TRUECOLOUR:i=3;break;case Wo.INDEXED_COLOUR:i=1;break;case Wo.GREYSCALE_ALPHA:i=2;break;case Wo.TRUECOLOUR_ALPHA:i=4;break;case Wo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==h5.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Wo.GREYSCALE:case Wo.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Wo.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Wo.UNKNOWN:case Wo.GREYSCALE_ALPHA:case Wo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=T9(this),i=this.readUint8();if(i!==h5.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:lpe(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=Vk({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case nv.NONE:break;case nv.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const u=(a*r.width+o)*this._png.channels;for(let d=0;d<this._png.channels;d++)i.data[u+d]=0}break;case nv.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(o,u)=>{const d=((o+n.yOffset)*this._png.width+n.xOffset+u)*this._png.channels,c=(o*n.width+u)*this._png.channels;return{index:d,frameIndex:c}};switch(n.blendOp){case g5.SOURCE:for(let o=0;o<n.height;o++)for(let u=0;u<n.width;u++){const{index:d,frameIndex:c}=a(o,u);for(let h=0;h<this._png.channels;h++)r.data[d+h]=n.data[c+h]}break;case g5.OVER:for(let o=0;o<n.height;o++)for(let u=0;u<n.width;u++){const{index:d,frameIndex:c}=a(o,u);for(let h=0;h<this._png.channels;h++){const m=n.data[c+this._png.channels-1]/i,b=h%(this._png.channels-1)===0?1:n.data[c+h],x=Math.floor(m*b+(1-m)*r.data[d+h]);r.data[d+h]+=x}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==Xk.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===p5.NO_INTERLACE)this._png.data=Vk({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===p5.ADAM7)this._png.data=mpe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:nv.NONE,blendOp:g5.SOURCE,data:r}),this._inflator=new Gk,this._writingDataChunks=!1}}function Mpe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var Kk;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(Kk||(Kk={}));function jpe(e,t){return new kpe(e,t).decode()}var Mr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function m5(){Mr.console&&typeof Mr.console.log=="function"&&Mr.console.log.apply(Mr.console,arguments)}var ei={log:m5,warn:function(e){Mr.console&&(typeof Mr.console.warn=="function"?Mr.console.warn.apply(Mr.console,arguments):m5.call(null,arguments))},error:function(e){Mr.console&&(typeof Mr.console.error=="function"?Mr.console.error.apply(Mr.console,arguments):m5(e))}};function v5(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){hd(n.response,t,r)},n.onerror=function(){ei.error("could not download file")},n.send()}function Zk(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function iv(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var hd=Mr.saveAs||((typeof window>"u"?"undefined":Un(window))!=="object"||window!==Mr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Mr.URL||Mr.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?Zk(i.href)?v5(e,t,r):iv(i,i.target="_blank"):iv(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){iv(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(Zk(e))v5(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){iv(n)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:Un(a)!=="object"&&(ei.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return v5(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(Mr.HTMLElement)||Mr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":Un(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var h=u.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},u.readAsDataURL(e)}else{var d=Mr.URL||Mr.webkitURL,c=d.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){d.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function I9(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),d=this.g.toString(16),c=this.b.toString(16);return u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),c.length==1&&(c="0"+c),"#"+u+d+c}}var yv=Mr.atob.bind(Mr),Qk=Mr.btoa.bind(Mr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function y5(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=js(r,n,i,a,t[0],7,-680876936),a=js(a,r,n,i,t[1],12,-389564586),i=js(i,a,r,n,t[2],17,606105819),n=js(n,i,a,r,t[3],22,-1044525330),r=js(r,n,i,a,t[4],7,-176418897),a=js(a,r,n,i,t[5],12,1200080426),i=js(i,a,r,n,t[6],17,-1473231341),n=js(n,i,a,r,t[7],22,-45705983),r=js(r,n,i,a,t[8],7,1770035416),a=js(a,r,n,i,t[9],12,-1958414417),i=js(i,a,r,n,t[10],17,-42063),n=js(n,i,a,r,t[11],22,-1990404162),r=js(r,n,i,a,t[12],7,1804603682),a=js(a,r,n,i,t[13],12,-40341101),i=js(i,a,r,n,t[14],17,-1502002290),r=Rs(r,n=js(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Rs(a,r,n,i,t[6],9,-1069501632),i=Rs(i,a,r,n,t[11],14,643717713),n=Rs(n,i,a,r,t[0],20,-373897302),r=Rs(r,n,i,a,t[5],5,-701558691),a=Rs(a,r,n,i,t[10],9,38016083),i=Rs(i,a,r,n,t[15],14,-660478335),n=Rs(n,i,a,r,t[4],20,-405537848),r=Rs(r,n,i,a,t[9],5,568446438),a=Rs(a,r,n,i,t[14],9,-1019803690),i=Rs(i,a,r,n,t[3],14,-187363961),n=Rs(n,i,a,r,t[8],20,1163531501),r=Rs(r,n,i,a,t[13],5,-1444681467),a=Rs(a,r,n,i,t[2],9,-51403784),i=Rs(i,a,r,n,t[7],14,1735328473),r=Ps(r,n=Rs(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=Ps(a,r,n,i,t[8],11,-2022574463),i=Ps(i,a,r,n,t[11],16,1839030562),n=Ps(n,i,a,r,t[14],23,-35309556),r=Ps(r,n,i,a,t[1],4,-1530992060),a=Ps(a,r,n,i,t[4],11,1272893353),i=Ps(i,a,r,n,t[7],16,-155497632),n=Ps(n,i,a,r,t[10],23,-1094730640),r=Ps(r,n,i,a,t[13],4,681279174),a=Ps(a,r,n,i,t[0],11,-358537222),i=Ps(i,a,r,n,t[3],16,-722521979),n=Ps(n,i,a,r,t[6],23,76029189),r=Ps(r,n,i,a,t[9],4,-640364487),a=Ps(a,r,n,i,t[12],11,-421815835),i=Ps(i,a,r,n,t[15],16,530742520),r=Ds(r,n=Ps(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=Ds(a,r,n,i,t[7],10,1126891415),i=Ds(i,a,r,n,t[14],15,-1416354905),n=Ds(n,i,a,r,t[5],21,-57434055),r=Ds(r,n,i,a,t[12],6,1700485571),a=Ds(a,r,n,i,t[3],10,-1894986606),i=Ds(i,a,r,n,t[10],15,-1051523),n=Ds(n,i,a,r,t[1],21,-2054922799),r=Ds(r,n,i,a,t[8],6,1873313359),a=Ds(a,r,n,i,t[15],10,-30611744),i=Ds(i,a,r,n,t[6],15,-1560198380),n=Ds(n,i,a,r,t[13],21,1309151649),r=Ds(r,n,i,a,t[4],6,-145523070),a=Ds(a,r,n,i,t[11],10,-1120210379),i=Ds(i,a,r,n,t[2],15,718787259),n=Ds(n,i,a,r,t[9],21,-343485551),e[0]=Of(r,e[0]),e[1]=Of(n,e[1]),e[2]=Of(i,e[2]),e[3]=Of(a,e[3])}function Hy(e,t,r,n,i,a){return t=Of(Of(t,e),Of(n,a)),Of(t<<i|t>>>32-i,r)}function js(e,t,r,n,i,a,o){return Hy(t&r|~t&n,e,t,i,a,o)}function Rs(e,t,r,n,i,a,o){return Hy(t&n|r&~n,e,t,i,a,o)}function Ps(e,t,r,n,i,a,o){return Hy(t^r^n,e,t,i,a,o)}function Ds(e,t,r,n,i,a,o){return Hy(r^(t|~n),e,t,i,a,o)}function k9(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)y5(n,Rpe(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(y5(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,y5(n,i),n}function Rpe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var Jk="0123456789abcdef".split("");function Ppe(e){for(var t="",r=0;r<4;r++)t+=Jk[e>>8*r+4&15]+Jk[e>>8*r&15];return t}function Dpe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Z_(e){return k9(e).map(Dpe).join("")}var Lpe=(function(e){for(var t=0;t<e.length;t++)e[t]=Ppe(e[t]);return e.join("")})(k9("hello"))!="5d41402abc4b2a76b9719d911017c592";function Of(e,t){if(Lpe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Q_(e,t){var r,n,i,a;if(e!==r){for(var o=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),u=[],d=0;d<256;d++)u[d]=d;var c=0;for(d=0;d<256;d++){var h=u[d];c=(c+h+o.charCodeAt(d))%256,u[d]=u[c],u[c]=h}r=e,n=u}else u=n;var m=t.length,b=0,x=0,E="";for(d=0;d<m;d++)x=(x+(h=u[b=(b+1)%256]))%256,u[b]=u[x],u[x]=h,o=u[(u[b]+u[x])%256],E+=String.fromCharCode(t.charCodeAt(d)^o);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var eM={print:4,modify:8,copy:16,"annot-forms":32};function Wh(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(u){if(eM.perm!==void 0)throw new Error("Invalid permission: "+u);i+=eM[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=Z_(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Q_(this.encryptionKey,this.padding)}function $h(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function tM(e){if(Un(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var o=t[r][a];try{o[0].apply(e,n)}catch(u){Mr.console&&ei.error("jsPDF PubSub Error",u.message,u)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function k2(e){if(!(this instanceof k2))return new k2(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function M9(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function md(e,t,r,n,i){if(!(this instanceof md))return new md(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,M9.call(this,n,i)}function Zh(e,t,r,n,i){if(!(this instanceof Zh))return new Zh(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,M9.call(this,n,i)}function or(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],u=1,d=16,c="S",h=null;Un(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),u=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(d=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,b={},x={internal:{},__private__:{}};x.__private__.PubSub=tM;var E="1.3",C=x.__private__.getPdfVersion=function(){return E};x.__private__.setPdfVersion=function(P){E=P};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return T};var I=x.__private__.getPageFormat=function(P){return T[P]};i=i||"a4";var B="compat",U="advanced",F=B;function K(){this.saveGraphicsState(),ve(new Zt(Tr,0,0,-Tr,0,Lo()*Tr).toString()+" cm"),this.setFontSize(this.getFontSize()/Tr),c="n",F=U}function Z(){this.restoreGraphicsState(),c="S",F=B}var V=x.__private__.combineFontStyleAndFontWeight=function(P,re){if(P=="bold"&&re=="normal"||P=="bold"&&re==400||P=="normal"&&re=="italic"||P=="bold"&&re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return re&&(P=re==400||re==="normal"?P==="italic"?"italic":"normal":re!=700&&re!=="bold"||P!=="normal"?(re==700?"bold":re)+""+P:"bold"),P};x.advancedAPI=function(P){var re=F===B;return re&&K.call(this),typeof P!="function"||(P(this),re&&Z.call(this)),this},x.compatAPI=function(P){var re=F===U;return re&&Z.call(this),typeof P!="function"||(P(this),re&&K.call(this)),this},x.isAdvancedAPI=function(){return F===U};var Q,q=function(P){if(F!==U)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},se=x.roundToPrecision=x.__private__.roundToPrecision=function(P,re){var Ae=t||re;if(isNaN(P)||isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(Ae).replace(/0+$/,"")};Q=x.hpf=x.__private__.hpf=typeof d=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return se(P,d)}:d==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return se(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return se(P,16)};var G=x.f2=x.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return se(P,2)},H=x.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return se(P,3)},le=x.scale=x.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return F===B?P*Tr:F===U?P:void 0},J=function(P){return le((function(re){return F===B?Lo()-re:F===U?re:void 0})(P))};x.__private__.setPrecision=x.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(t=parseInt(P,10))};var ie,ne="00000000000000000000000000000000",fe=x.__private__.getFileId=function(){return ne},we=x.__private__.setFileId=function(P){return ne=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(zn=new Wh(h.userPermissions,h.userPassword,h.ownerPassword,ne)),ne};x.setFileId=function(P){return we(P),this},x.getFileId=function(){return fe()};var Ie=x.__private__.convertDateToPDFDate=function(P){var re=P.getTimezoneOffset(),Ae=re<0?"+":"-",ke=Math.floor(Math.abs(re/60)),Fe=Math.abs(re%60),dt=[Ae,me(ke),"'",me(Fe),"'"].join("");return["D:",P.getFullYear(),me(P.getMonth()+1),me(P.getDate()),me(P.getHours()),me(P.getMinutes()),me(P.getSeconds()),dt].join("")},Me=x.__private__.convertPDFDateToDate=function(P){var re=parseInt(P.substr(2,4),10),Ae=parseInt(P.substr(6,2),10)-1,ke=parseInt(P.substr(8,2),10),Fe=parseInt(P.substr(10,2),10),dt=parseInt(P.substr(12,2),10),yt=parseInt(P.substr(14,2),10);return new Date(re,Ae,ke,Fe,dt,yt,0)},pe=x.__private__.setCreationDate=function(P){var re;if(P===void 0&&(P=new Date),P instanceof Date)re=Ie(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");re=P}return ie=re},X=x.__private__.getCreationDate=function(P){var re=ie;return P==="jsDate"&&(re=Me(ie)),re};x.setCreationDate=function(P){return pe(P),this},x.getCreationDate=function(P){return X(P)};var de,me=x.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},Ne=x.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},xe=0,Re=[],ze=[],Ce=0,Ge=[],Je=[],qe=!1,lt=ze;x.__private__.setCustomOutputDestination=function(P){qe=!0,lt=P};var bt=function(P){qe||(lt=P)};x.__private__.resetCustomOutputDestination=function(){qe=!1,lt=ze};var ve=x.__private__.out=function(P){return P=P.toString(),Ce+=P.length+1,lt.push(P),lt},wt=x.__private__.write=function(P){return ve(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},jt=x.__private__.getArrayBuffer=function(P){for(var re=P.length,Ae=new ArrayBuffer(re),ke=new Uint8Array(Ae);re--;)ke[re]=P.charCodeAt(re);return Ae},_t=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return _t};var rt=e.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(P){return rt=F===U?P/Tr:P,this};var er,at=x.__private__.getFontSize=x.getFontSize=function(){return F===B?rt:rt*Tr},ir=e.R2L||!1;x.__private__.setR2L=x.setR2L=function(P){return ir=P,this},x.__private__.getR2L=x.getR2L=function(){return ir};var ar,vr=x.__private__.setZoomMode=function(P){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))er=P;else if(isNaN(P)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');er=P}else er=parseInt(P,10)};x.__private__.getZoomMode=function(){return er};var Br,lr=x.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');ar=P};x.__private__.getPageMode=function(){return ar};var Ur=x.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');Br=P};x.__private__.getLayoutMode=function(){return Br},x.__private__.setDisplayMode=x.setDisplayMode=function(P,re,Ae){return vr(P),Ur(re),lr(Ae),this};var Cr={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(P){if(Object.keys(Cr).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Cr[P]},x.__private__.getDocumentProperties=function(){return Cr},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(P){for(var re in Cr)Cr.hasOwnProperty(re)&&P[re]&&(Cr[re]=P[re]);return this},x.__private__.setDocumentProperty=function(P,re){if(Object.keys(Cr).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Cr[P]=re};var Ot,Tr,Ht,ci,tr,nt={},Rt={},Bt=[],Ct={},cn={},hr={},wr={},Xt=null,_r=0,Kt=[],Yr=new tM(x),ui=e.hotfixes||[],Pi={},In={},ea=[],Zt=function P(re,Ae,ke,Fe,dt,yt){if(!(this instanceof P))return new P(re,Ae,ke,Fe,dt,yt);isNaN(re)&&(re=1),isNaN(Ae)&&(Ae=0),isNaN(ke)&&(ke=0),isNaN(Fe)&&(Fe=1),isNaN(dt)&&(dt=0),isNaN(yt)&&(yt=0),this._matrix=[re,Ae,ke,Fe,dt,yt]};Object.defineProperty(Zt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(Zt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(Zt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(Zt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(Zt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(Zt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(Zt.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(Zt.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(Zt.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(Zt.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(Zt.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(Zt.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(Zt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Zt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Zt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Zt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Zt.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Q).join(P)},Zt.prototype.multiply=function(P){var re=P.sx*this.sx+P.shy*this.shx,Ae=P.sx*this.shy+P.shy*this.sy,ke=P.shx*this.sx+P.sy*this.shx,Fe=P.shx*this.shy+P.sy*this.sy,dt=P.tx*this.sx+P.ty*this.shx+this.tx,yt=P.tx*this.shy+P.ty*this.sy+this.ty;return new Zt(re,Ae,ke,Fe,dt,yt)},Zt.prototype.decompose=function(){var P=this.sx,re=this.shy,Ae=this.shx,ke=this.sy,Fe=this.tx,dt=this.ty,yt=Math.sqrt(P*P+re*re),Mt=(P/=yt)*Ae+(re/=yt)*ke;Ae-=P*Mt,ke-=re*Mt;var St=Math.sqrt(Ae*Ae+ke*ke);return Mt/=St,P*(ke/=St)<re*(Ae/=St)&&(P=-P,re=-re,Mt=-Mt,yt=-yt),{scale:new Zt(yt,0,0,St,0,0),translate:new Zt(1,0,0,1,Fe,dt),rotate:new Zt(P,re,-re,P,0,0),skew:new Zt(1,0,Mt,1,0,0)}},Zt.prototype.toString=function(P){return this.join(" ")},Zt.prototype.inversed=function(){var P=this.sx,re=this.shy,Ae=this.shx,ke=this.sy,Fe=this.tx,dt=this.ty,yt=1/(P*ke-re*Ae),Mt=ke*yt,St=-re*yt,yr=-Ae*yt,Pt=P*yt;return new Zt(Mt,St,yr,Pt,-Mt*Fe-yr*dt,-St*Fe-Pt*dt)},Zt.prototype.applyToPoint=function(P){var re=P.x*this.sx+P.y*this.shx+this.tx,Ae=P.x*this.shy+P.y*this.sy+this.ty;return new jn(re,Ae)},Zt.prototype.applyToRectangle=function(P){var re=this.applyToPoint(P),Ae=this.applyToPoint(new jn(P.x+P.w,P.y+P.h));return new lo(re.x,re.y,Ae.x-re.x,Ae.y-re.y)},Zt.prototype.clone=function(){var P=this.sx,re=this.shy,Ae=this.shx,ke=this.sy,Fe=this.tx,dt=this.ty;return new Zt(P,re,Ae,ke,Fe,dt)},x.Matrix=Zt;var Di=x.matrixMult=function(P,re){return re.multiply(P)},io=new Zt(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=io;var Ti=function(P,re){if(!cn[P]){var Ae=(re instanceof md?"Sh":"P")+(Object.keys(Ct).length+1).toString(10);re.id=Ae,cn[P]=Ae,Ct[Ae]=re,Yr.publish("addPattern",re)}};x.ShadingPattern=md,x.TilingPattern=Zh,x.addShadingPattern=function(P,re){return q("addShadingPattern()"),Ti(P,re),this},x.beginTilingPattern=function(P){q("beginTilingPattern()"),sl(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},x.endTilingPattern=function(P,re){q("endTilingPattern()"),re.stream=Je[de].join(`
`),Ti(P,re),Yr.publish("endTilingPattern",re),ea.pop().restore()};var Aa,zr=x.__private__.newObject=function(){var P=Nn();return hn(P,!0),P},Nn=x.__private__.newObjectDeferred=function(){return xe++,Re[xe]=function(){return Ce},xe},hn=function(P,re){return re=typeof re=="boolean"&&re,Re[P]=Ce,re&&ve(P+" 0 obj"),P},Nt=x.__private__.newAdditionalObject=function(){var P={objId:Nn(),content:""};return Ge.push(P),P},xi=Nn(),pn=Nn(),Hr=x.__private__.decodeColorString=function(P){var re=P.split(" ");if(re.length!==2||re[1]!=="g"&&re[1]!=="G")re.length!==5||re[4]!=="k"&&re[4]!=="K"||(re=[(1-re[0])*(1-re[3]),(1-re[1])*(1-re[3]),(1-re[2])*(1-re[3]),"r"]);else{var Ae=parseFloat(re[0]);re=[Ae,Ae,Ae,"r"]}for(var ke="#",Fe=0;Fe<3;Fe++)ke+=("0"+Math.floor(255*parseFloat(re[Fe])).toString(16)).slice(-2);return ke},fi=x.__private__.encodeColorString=function(P){var re;typeof P=="string"&&(P={ch1:P});var Ae=P.ch1,ke=P.ch2,Fe=P.ch3,dt=P.ch4,yt=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ae=="string"&&Ae.charAt(0)!=="#"){var Mt=new I9(Ae);if(Mt.ok)Ae=Mt.toHex();else if(!/^\d*\.?\d*$/.test(Ae))throw new Error('Invalid color "'+Ae+'" passed to jsPDF.encodeColorString.')}if(typeof Ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ae)&&(Ae="#"+Ae[1]+Ae[1]+Ae[2]+Ae[2]+Ae[3]+Ae[3]),typeof Ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ae)){var St=parseInt(Ae.substr(1),16);Ae=St>>16&255,ke=St>>8&255,Fe=255&St}if(ke===void 0||dt===void 0&&Ae===ke&&ke===Fe)re=typeof Ae=="string"?Ae+" "+yt[0]:P.precision===2?G(Ae/255)+" "+yt[0]:H(Ae/255)+" "+yt[0];else if(dt===void 0||Un(dt)==="object"){if(dt&&!isNaN(dt.a)&&dt.a===0)return["1.","1.","1.",yt[1]].join(" ");re=typeof Ae=="string"?[Ae,ke,Fe,yt[1]].join(" "):P.precision===2?[G(Ae/255),G(ke/255),G(Fe/255),yt[1]].join(" "):[H(Ae/255),H(ke/255),H(Fe/255),yt[1]].join(" ")}else re=typeof Ae=="string"?[Ae,ke,Fe,dt,yt[2]].join(" "):P.precision===2?[G(Ae),G(ke),G(Fe),G(dt),yt[2]].join(" "):[H(Ae),H(ke),H(Fe),H(dt),yt[2]].join(" ");return re},da=x.__private__.getFilters=function(){return o},Sa=x.__private__.putStream=function(P){var re=(P=P||{}).data||"",Ae=P.filters||da(),ke=P.alreadyAppliedFilters||[],Fe=P.addLength1||!1,dt=re.length,yt=P.objectId,Mt=function(Ii){return Ii};if(h!==null&&yt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Mt=zn.encryptor(yt,0));var St={};Ae===!0&&(Ae=["FlateEncode"]);var yr=P.additionalKeyValues||[],Pt=(St=or.API.processDataByFilters!==void 0?or.API.processDataByFilters(re,Ae):{data:re,reverseChain:[]}).reverseChain+(Array.isArray(ke)?ke.join(" "):ke.toString());if(St.data.length!==0&&(yr.push({key:"Length",value:St.data.length}),Fe===!0&&yr.push({key:"Length1",value:dt})),Pt.length!=0)if(Pt.split("/").length-1==1)yr.push({key:"Filter",value:Pt});else{yr.push({key:"Filter",value:"["+Pt+"]"});for(var Gr=0;Gr<yr.length;Gr+=1)if(yr[Gr].key==="DecodeParms"){for(var gn=[],Ar=0;Ar<St.reverseChain.split("/").length-1;Ar+=1)gn.push("null");gn.push(yr[Gr].value),yr[Gr].value="["+gn.join(" ")+"]"}}ve("<<");for(var Et=0;Et<yr.length;Et++)ve("/"+yr[Et].key+" "+yr[Et].value);ve(">>"),St.data.length!==0&&(ve("stream"),ve(Mt(St.data)),ve("endstream"))},ha=x.__private__.putPage=function(P){var re=P.number,Ae=P.data,ke=P.objId,Fe=P.contentsObjId;hn(ke,!0),ve("<</Type /Page"),ve("/Parent "+P.rootDictionaryObjId+" 0 R"),ve("/Resources "+P.resourceDictionaryObjId+" 0 R"),ve("/MediaBox ["+parseFloat(Q(P.mediaBox.bottomLeftX))+" "+parseFloat(Q(P.mediaBox.bottomLeftY))+" "+Q(P.mediaBox.topRightX)+" "+Q(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&ve("/CropBox ["+Q(P.cropBox.bottomLeftX)+" "+Q(P.cropBox.bottomLeftY)+" "+Q(P.cropBox.topRightX)+" "+Q(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&ve("/BleedBox ["+Q(P.bleedBox.bottomLeftX)+" "+Q(P.bleedBox.bottomLeftY)+" "+Q(P.bleedBox.topRightX)+" "+Q(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&ve("/TrimBox ["+Q(P.trimBox.bottomLeftX)+" "+Q(P.trimBox.bottomLeftY)+" "+Q(P.trimBox.topRightX)+" "+Q(P.trimBox.topRightY)+"]"),P.artBox!==null&&ve("/ArtBox ["+Q(P.artBox.bottomLeftX)+" "+Q(P.artBox.bottomLeftY)+" "+Q(P.artBox.topRightX)+" "+Q(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&ve("/UserUnit "+P.userUnit),Yr.publish("putPage",{objId:ke,pageContext:Kt[re],pageNumber:re,page:Ae}),ve("/Contents "+Fe+" 0 R"),ve(">>"),ve("endobj");var dt=Ae.join(`
`);return F===U&&(dt+=`
Q`),hn(Fe,!0),Sa({data:dt,filters:da(),objectId:Fe}),ve("endobj"),ke},zs=x.__private__.putPages=function(){var P,re,Ae=[];for(P=1;P<=_r;P++)Kt[P].objId=Nn(),Kt[P].contentsObjId=Nn();for(P=1;P<=_r;P++)Ae.push(ha({number:P,data:Je[P],objId:Kt[P].objId,contentsObjId:Kt[P].contentsObjId,mediaBox:Kt[P].mediaBox,cropBox:Kt[P].cropBox,bleedBox:Kt[P].bleedBox,trimBox:Kt[P].trimBox,artBox:Kt[P].artBox,userUnit:Kt[P].userUnit,rootDictionaryObjId:xi,resourceDictionaryObjId:pn}));hn(xi,!0),ve("<</Type /Pages");var ke="/Kids [";for(re=0;re<_r;re++)ke+=Ae[re]+" 0 R ";ve(ke+"]"),ve("/Count "+_r),ve(">>"),ve("endobj"),Yr.publish("postPutPages")},qs=function(P){Yr.publish("putFont",{font:P,out:ve,newObject:zr,putStream:Sa}),P.isAlreadyPutted!==!0&&(P.objectNumber=zr(),ve("<<"),ve("/Type /Font"),ve("/BaseFont /"+$h(P.postScriptName)),ve("/Subtype /Type1"),typeof P.encoding=="string"&&ve("/Encoding /"+P.encoding),ve("/FirstChar 32"),ve("/LastChar 255"),ve(">>"),ve("endobj"))},ta=function(P){P.objectNumber=zr();var re=[];re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Form"}),re.push({key:"BBox",value:"["+[Q(P.x),Q(P.y),Q(P.x+P.width),Q(P.y+P.height)].join(" ")+"]"}),re.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var Ae=P.pages[1].join(`
`);Sa({data:Ae,additionalKeyValues:re,objectId:P.objectNumber}),ve("endobj")},kn=function(P,re){re||(re=21);var Ae=zr(),ke=(function(yt,Mt){var St,yr=[],Pt=1/(Mt-1);for(St=0;St<1;St+=Pt)yr.push(St);if(yr.push(1),yt[0].offset!=0){var Gr={offset:0,color:yt[0].color};yt.unshift(Gr)}if(yt[yt.length-1].offset!=1){var gn={offset:1,color:yt[yt.length-1].color};yt.push(gn)}for(var Ar="",Et=0,Ii=0;Ii<yr.length;Ii++){for(St=yr[Ii];St>yt[Et+1].offset;)Et++;var Ir=yt[Et].offset,Xn=(St-Ir)/(yt[Et+1].offset-Ir),Va=yt[Et].color,Ys=yt[Et+1].color;Ar+=Ne(Math.round((1-Xn)*Va[0]+Xn*Ys[0]).toString(16))+Ne(Math.round((1-Xn)*Va[1]+Xn*Ys[1]).toString(16))+Ne(Math.round((1-Xn)*Va[2]+Xn*Ys[2]).toString(16))}return Ar.trim()})(P.colors,re),Fe=[];Fe.push({key:"FunctionType",value:"0"}),Fe.push({key:"Domain",value:"[0.0 1.0]"}),Fe.push({key:"Size",value:"["+re+"]"}),Fe.push({key:"BitsPerSample",value:"8"}),Fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Sa({data:ke,additionalKeyValues:Fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ae}),ve("endobj"),P.objectNumber=zr(),ve("<< /ShadingType "+P.type),ve("/ColorSpace /DeviceRGB");var dt="/Coords ["+Q(parseFloat(P.coords[0]))+" "+Q(parseFloat(P.coords[1]))+" ";P.type===2?dt+=Q(parseFloat(P.coords[2]))+" "+Q(parseFloat(P.coords[3])):dt+=Q(parseFloat(P.coords[2]))+" "+Q(parseFloat(P.coords[3]))+" "+Q(parseFloat(P.coords[4]))+" "+Q(parseFloat(P.coords[5])),ve(dt+="]"),P.matrix&&ve("/Matrix ["+P.matrix.toString()+"]"),ve("/Function "+Ae+" 0 R"),ve("/Extend [true true]"),ve(">>"),ve("endobj")},Xr=function(P,re){var Ae=Nn(),ke=zr();re.push({resourcesOid:Ae,objectOid:ke}),P.objectNumber=ke;var Fe=[];Fe.push({key:"Type",value:"/Pattern"}),Fe.push({key:"PatternType",value:"1"}),Fe.push({key:"PaintType",value:"1"}),Fe.push({key:"TilingType",value:"1"}),Fe.push({key:"BBox",value:"["+P.boundingBox.map(Q).join(" ")+"]"}),Fe.push({key:"XStep",value:Q(P.xStep)}),Fe.push({key:"YStep",value:Q(P.yStep)}),Fe.push({key:"Resources",value:Ae+" 0 R"}),P.matrix&&Fe.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),Sa({data:P.stream,additionalKeyValues:Fe,objectId:P.objectNumber}),ve("endobj")},il=function(P){for(var re in P.objectNumber=zr(),ve("<<"),P)switch(re){case"opacity":ve("/ca "+G(P[re]));break;case"stroke-opacity":ve("/CA "+G(P[re]))}ve(">>"),ve("endobj")},ra=function(P){hn(P.resourcesOid,!0),ve("<<"),ve("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var re in ve("/Font <<"),nt)nt.hasOwnProperty(re)&&(m===!1||m===!0&&b.hasOwnProperty(re))&&ve("/"+re+" "+nt[re].objectNumber+" 0 R");ve(">>")})(),(function(){if(Object.keys(Ct).length>0){for(var re in ve("/Shading <<"),Ct)Ct.hasOwnProperty(re)&&Ct[re]instanceof md&&Ct[re].objectNumber>=0&&ve("/"+re+" "+Ct[re].objectNumber+" 0 R");Yr.publish("putShadingPatternDict"),ve(">>")}})(),(function(re){if(Object.keys(Ct).length>0){for(var Ae in ve("/Pattern <<"),Ct)Ct.hasOwnProperty(Ae)&&Ct[Ae]instanceof x.TilingPattern&&Ct[Ae].objectNumber>=0&&Ct[Ae].objectNumber<re&&ve("/"+Ae+" "+Ct[Ae].objectNumber+" 0 R");Yr.publish("putTilingPatternDict"),ve(">>")}})(P.objectOid),(function(){if(Object.keys(hr).length>0){var re;for(re in ve("/ExtGState <<"),hr)hr.hasOwnProperty(re)&&hr[re].objectNumber>=0&&ve("/"+re+" "+hr[re].objectNumber+" 0 R");Yr.publish("putGStateDict"),ve(">>")}})(),(function(){for(var re in ve("/XObject <<"),Pi)Pi.hasOwnProperty(re)&&Pi[re].objectNumber>=0&&ve("/"+re+" "+Pi[re].objectNumber+" 0 R");Yr.publish("putXobjectDict"),ve(">>")})(),ve(">>"),ve("endobj")},Yn=function(P){Rt[P.fontName]=Rt[P.fontName]||{},Rt[P.fontName][P.fontStyle]=P.id},mt=function(P,re,Ae,ke,Fe){var dt={id:"F"+(Object.keys(nt).length+1).toString(10),postScriptName:P,fontName:re,fontStyle:Ae,encoding:ke,isStandardFont:Fe||!1,metadata:{}};return Yr.publish("addFont",{font:dt,instance:this}),nt[dt.id]=dt,Yn(dt),dt.id},fs=x.__private__.pdfEscape=x.pdfEscape=function(P,re){return(function(Ae,ke){var Fe,dt,yt,Mt,St,yr,Pt,Gr,gn;if(yt=(ke=ke||{}).sourceEncoding||"Unicode",St=ke.outputEncoding,(ke.autoencode||St)&&nt[Ot].metadata&&nt[Ot].metadata[yt]&&nt[Ot].metadata[yt].encoding&&(Mt=nt[Ot].metadata[yt].encoding,!St&&nt[Ot].encoding&&(St=nt[Ot].encoding),!St&&Mt.codePages&&(St=Mt.codePages[0]),typeof St=="string"&&(St=Mt[St]),St)){for(Pt=!1,yr=[],Fe=0,dt=Ae.length;Fe<dt;Fe++)(Gr=St[Ae.charCodeAt(Fe)])?yr.push(String.fromCharCode(Gr)):yr.push(Ae[Fe]),yr[Fe].charCodeAt(0)>>8&&(Pt=!0);Ae=yr.join("")}for(Fe=Ae.length;Pt===void 0&&Fe!==0;)Ae.charCodeAt(Fe-1)>>8&&(Pt=!0),Fe--;if(!Pt)return Ae;for(yr=ke.noBOM?[]:[254,255],Fe=0,dt=Ae.length;Fe<dt;Fe++){if((gn=(Gr=Ae.charCodeAt(Fe))>>8)>>8)throw new Error("Character at position "+Fe+" of string '"+Ae+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");yr.push(gn),yr.push(Gr-(gn<<8))}return String.fromCharCode.apply(void 0,yr)})(P,re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rn=x.__private__.beginPage=function(P){Je[++_r]=[],Kt[_r]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},Kr(_r),bt(Je[de])},Ha=function(P,re){var Ae,ke,Fe;switch(r=re||r,typeof P=="string"&&(Ae=I(P.toLowerCase()),Array.isArray(Ae)&&(ke=Ae[0],Fe=Ae[1])),Array.isArray(P)&&(ke=P[0]*Tr,Fe=P[1]*Tr),isNaN(ke)&&(ke=i[0],Fe=i[1]),(ke>14400||Fe>14400)&&(ei.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ke=Math.min(14400,ke),Fe=Math.min(14400,Fe)),i=[ke,Fe],r.substr(0,1)){case"l":Fe>ke&&(i=[Fe,ke]);break;case"p":ke>Fe&&(i=[Fe,ke])}rn(i),cr(Cl),ve(Wa),Nl!==0&&ve(Nl+" J"),ni!==0&&ve(ni+" j"),Yr.publish("addPage",{pageNumber:_r})},Wc=function(P){P>0&&P<=_r&&(Je.splice(P,1),Kt.splice(P,1),_r--,de>_r&&(de=_r),this.setPage(de))},Kr=function(P){P>0&&P<=_r&&(de=P)},$r=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return Je.length-1},Fr=function(P,re,Ae){var ke,Fe=void 0;return Ae=Ae||{},P=P!==void 0?P:nt[Ot].fontName,re=re!==void 0?re:nt[Ot].fontStyle,ke=P.toLowerCase(),Rt[ke]!==void 0&&Rt[ke][re]!==void 0?Fe=Rt[ke][re]:Rt[P]!==void 0&&Rt[P][re]!==void 0?Fe=Rt[P][re]:Ae.disableWarning===!1&&ei.warn("Unable to look up font label for font '"+P+"', '"+re+"'. Refer to getFontList() for available fonts."),Fe||Ae.noFallback||(Fe=Rt.times[re])==null&&(Fe=Rt.times.normal),Fe},Ea=x.__private__.putInfo=function(){var P=zr(),re=function(ke){return ke};for(var Ae in h!==null&&(re=zn.encryptor(P,0)),ve("<<"),ve("/Producer ("+fs(re("jsPDF "+or.version))+")"),Cr)Cr.hasOwnProperty(Ae)&&Cr[Ae]&&ve("/"+Ae.substr(0,1).toUpperCase()+Ae.substr(1)+" ("+fs(re(Cr[Ae]))+")");ve("/CreationDate ("+fs(re(ie))+")"),ve(">>"),ve("endobj")},Hs=x.__private__.putCatalog=function(P){var re=(P=P||{}).rootDictionaryObjId||xi;switch(zr(),ve("<<"),ve("/Type /Catalog"),ve("/Pages "+re+" 0 R"),er||(er="fullwidth"),er){case"fullwidth":ve("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ve("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ve("/OpenAction [3 0 R /Fit]");break;case"original":ve("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ae=""+er;Ae.substr(Ae.length-1)==="%"&&(er=parseInt(er)/100),typeof er=="number"&&ve("/OpenAction [3 0 R /XYZ null null "+G(er)+"]")}switch(Br||(Br="continuous"),Br){case"continuous":ve("/PageLayout /OneColumn");break;case"single":ve("/PageLayout /SinglePage");break;case"two":case"twoleft":ve("/PageLayout /TwoColumnLeft");break;case"tworight":ve("/PageLayout /TwoColumnRight")}ar&&ve("/PageMode /"+ar),Yr.publish("putCatalog"),ve(">>"),ve("endobj")},ds=x.__private__.putTrailer=function(){ve("trailer"),ve("<<"),ve("/Size "+(xe+1)),ve("/Root "+xe+" 0 R"),ve("/Info "+(xe-1)+" 0 R"),h!==null&&ve("/Encrypt "+zn.oid+" 0 R"),ve("/ID [ <"+ne+"> <"+ne+"> ]"),ve(">>")},br=x.__private__.putHeader=function(){ve("%PDF-"+E),ve("%")},As=x.__private__.putXRef=function(){var P="0000000000";ve("xref"),ve("0 "+(xe+1)),ve("0000000000 65535 f ");for(var re=1;re<=xe;re++)typeof Re[re]=="function"?ve((P+Re[re]()).slice(-10)+" 00000 n "):Re[re]!==void 0?ve((P+Re[re]).slice(-10)+" 00000 n "):ve("0000000000 00000 n ")},ao=x.__private__.buildDocument=function(){var P;xe=0,Ce=0,ze=[],Re=[],Ge=[],xi=Nn(),pn=Nn(),bt(ze),Yr.publish("buildDocument"),br(),zs(),(function(){Yr.publish("putAdditionalObjects");for(var Ae=0;Ae<Ge.length;Ae++){var ke=Ge[Ae];hn(ke.objId,!0),ve(ke.content),ve("endobj")}Yr.publish("postPutAdditionalObjects")})(),P=[],(function(){for(var Ae in nt)nt.hasOwnProperty(Ae)&&(m===!1||m===!0&&b.hasOwnProperty(Ae))&&qs(nt[Ae])})(),(function(){var Ae;for(Ae in hr)hr.hasOwnProperty(Ae)&&il(hr[Ae])})(),(function(){for(var Ae in Pi)Pi.hasOwnProperty(Ae)&&ta(Pi[Ae])})(),(function(Ae){var ke;for(ke in Ct)Ct.hasOwnProperty(ke)&&(Ct[ke]instanceof md?kn(Ct[ke]):Ct[ke]instanceof Zh&&Xr(Ct[ke],Ae))})(P),Yr.publish("putResources"),P.forEach(ra),ra({resourcesOid:pn,objectOid:Number.MAX_SAFE_INTEGER}),Yr.publish("postPutResources"),h!==null&&(zn.oid=zr(),ve("<<"),ve("/Filter /Standard"),ve("/V "+zn.v),ve("/R "+zn.r),ve("/U <"+zn.toHexString(zn.U)+">"),ve("/O <"+zn.toHexString(zn.O)+">"),ve("/P "+zn.P),ve(">>"),ve("endobj")),Ea(),Hs();var re=Ce;return As(),ds(),ve("startxref"),ve(""+re),ve("%%EOF"),bt(Je[de]),ze.join(`
`)},yn=x.__private__.getBlob=function(P){return new Blob([jt(P)],{type:"application/pdf"})},Ss=x.output=x.__private__.output=(Aa=function(P,re){switch(typeof(re=re||{})=="string"?re={filename:re}:re.filename=re.filename||"generated.pdf",P){case void 0:return ao();case"save":x.save(re.filename);break;case"arraybuffer":return jt(ao());case"blob":return yn(ao());case"bloburi":case"bloburl":if(Mr.URL!==void 0&&typeof Mr.URL.createObjectURL=="function")return Mr.URL&&Mr.URL.createObjectURL(yn(ao()))||void 0;ei.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ae="",ke=ao();try{Ae=Qk(ke)}catch{Ae=Qk(unescape(encodeURIComponent(ke)))}return"data:application/pdf;filename="+re.filename+";base64,"+Ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Mr)==="[object Window]"){var Fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",dt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';re.pdfObjectUrl&&(Fe=re.pdfObjectUrl,dt="");var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Fe+'"'+dt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(re)+");<\/script></body></html>",Mt=Mr.open();return Mt!==null&&Mt.document.write(yt),Mt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Mr)==="[object Window]"){var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+re.filename+'" width="500px" height="400px" /></body></html>',yr=Mr.open();if(yr!==null){yr.document.write(St);var Pt=this;yr.document.documentElement.querySelector("#pdfViewer").onload=function(){yr.document.title=re.filename,yr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Pt.output("bloburl"))}}return yr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Mr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",re)+'"></iframe></body></html>',gn=Mr.open();if(gn!==null&&(gn.document.write(Gr),gn.document.title=re.filename),gn||typeof safari>"u")return gn;break;case"datauri":case"dataurl":return Mr.document.location.href=this.output("datauristring",re);default:return null}},Aa.foo=function(){try{return Aa.apply(this,arguments)}catch(Ae){var P=Ae.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var re="Error in function "+P.split(`
`)[0].split("<")[0]+": "+Ae.message;if(!Mr.console)throw new Error(re);Mr.console.error(re,Ae),Mr.alert&&alert(re)}},Aa.foo.bar=Aa,Aa.foo),Ca=function(P){return Array.isArray(ui)===!0&&ui.indexOf(P)>-1};switch(n){case"pt":Tr=1;break;case"mm":Tr=72/25.4;break;case"cm":Tr=72/2.54;break;case"in":Tr=72;break;case"px":Tr=Ca("px_scaling")==1?.75:96/72;break;case"pc":case"em":Tr=12;break;case"ex":Tr=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Tr=n}var zn=null;pe(),we();var Or=x.__private__.getPageInfo=x.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Kt[P].objId,pageNumber:P,pageContext:Kt[P]}},di=x.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var re in Kt)if(Kt[re].objId===P)break;return Or(re)},We=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:Kt[de].objId,pageNumber:de,pageContext:Kt[de]}};x.addPage=function(){return Ha.apply(this,arguments),this},x.setPage=function(){return Kr.apply(this,arguments),bt.call(this,Je[de]),this},x.insertPage=function(P){return this.addPage(),this.movePage(de,P),this},x.movePage=function(P,re){var Ae,ke;if(P>re){Ae=Je[P],ke=Kt[P];for(var Fe=P;Fe>re;Fe--)Je[Fe]=Je[Fe-1],Kt[Fe]=Kt[Fe-1];Je[re]=Ae,Kt[re]=ke,this.setPage(re)}else if(P<re){Ae=Je[P],ke=Kt[P];for(var dt=P;dt<re;dt++)Je[dt]=Je[dt+1],Kt[dt]=Kt[dt+1];Je[re]=Ae,Kt[re]=ke,this.setPage(re)}return this},x.deletePage=function(){return Wc.apply(this,arguments),this},x.__private__.text=x.text=function(P,re,Ae,ke,Fe){var dt,yt,Mt,St,yr,Pt,Gr,gn,Ar,Et=(ke=ke||{}).scope||this;if(typeof P=="number"&&typeof re=="number"&&(typeof Ae=="string"||Array.isArray(Ae))){var Ii=Ae;Ae=re,re=P,P=Ii}if(arguments[3]instanceof Zt==0?(Mt=arguments[4],St=arguments[5],Un(Gr=arguments[3])==="object"&&Gr!==null||(typeof Mt=="string"&&(St=Mt,Mt=null),typeof Gr=="string"&&(St=Gr,Gr=null),typeof Gr=="number"&&(Mt=Gr,Gr=null),ke={flags:Gr,angle:Mt,align:St})):(q("The transform parameter of text() with a Matrix value"),Ar=Fe),isNaN(re)||isNaN(Ae)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return Et;var Ir,Xn="",Va=typeof ke.lineHeightFactor=="number"?ke.lineHeightFactor:Ws,Ys=Et.internal.scaleFactor;function Li(ct){return ct=ct.split("	").join(Array(ke.TabLen||9).join(" ")),fs(ct,Gr)}function Il(ct){for(var ut,ot=ct.concat(),nr=[],pr=ot.length;pr--;)typeof(ut=ot.shift())=="string"?nr.push(ut):Array.isArray(ct)&&(ut.length===1||ut[1]===void 0&&ut[2]===void 0)?nr.push(ut[0]):nr.push([ut[0],ut[1],ut[2]]);return nr}function kl(ct,ut){var ot;if(typeof ct=="string")ot=ut(ct)[0];else if(Array.isArray(ct)){for(var nr,pr,qn=ct.concat(),sa=[],Bi=qn.length;Bi--;)typeof(nr=qn.shift())=="string"?sa.push(ut(nr)[0]):Array.isArray(nr)&&typeof nr[0]=="string"&&(pr=ut(nr[0],nr[1],nr[2]),sa.push([pr[0],pr[1],pr[2]]));ot=sa}return ot}var Cs=!1,Ns=!0;if(typeof P=="string")Cs=!0;else if(Array.isArray(P)){var ol=P.concat();yt=[];for(var Bo,Kn=ol.length;Kn--;)(typeof(Bo=ol.shift())!="string"||Array.isArray(Bo)&&typeof Bo[0]!="string")&&(Ns=!1);Cs=Ns}if(Cs===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var uo=rt/Et.internal.scaleFactor,ll=uo*(Va-1);switch(ke.baseline){case"bottom":Ae-=ll;break;case"top":Ae+=uo-ll;break;case"hanging":Ae+=uo-2*ll;break;case"middle":Ae+=uo/2-ll}if((Pt=ke.maxWidth||0)>0&&(typeof P=="string"?P=Et.splitTextToSize(P,Pt):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(ct,ut){return ct.concat(Et.splitTextToSize(ut,Pt))},[]))),dt={text:P,x:re,y:Ae,options:ke,mutex:{pdfEscape:fs,activeFontKey:Ot,fonts:nt,activeFontSize:rt}},Yr.publish("preProcessText",dt),P=dt.text,Mt=(ke=dt.options).angle,Ar instanceof Zt==0&&Mt&&typeof Mt=="number"){Mt*=Math.PI/180,ke.rotationDirection===0&&(Mt=-Mt),F===U&&(Mt=-Mt);var fo=Math.cos(Mt),ho=Math.sin(Mt);Ar=new Zt(fo,ho,-ho,fo,0,0)}else Mt&&Mt instanceof Zt&&(Ar=Mt);F!==U||Ar||(Ar=io),(yr=ke.charSpace||ma)!==void 0&&(Xn+=Q(le(yr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(gn=ke.horizontalScale)!==void 0&&(Xn+=Q(100*gn)+` Tz
`),ke.lang;var ii=-1,Os=ke.renderingMode!==void 0?ke.renderingMode:ke.stroke,na=Et.internal.getCurrentPageInfo().pageContext;switch(Os){case 0:case!1:case"fill":ii=0;break;case 1:case!0:case"stroke":ii=1;break;case 2:case"fillThenStroke":ii=2;break;case 3:case"invisible":ii=3;break;case 4:case"fillAndAddForClipping":ii=4;break;case 5:case"strokeAndAddPathForClipping":ii=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ii=6;break;case 7:case"addToPathForClipping":ii=7}var cc=na.usedRenderingMode!==void 0?na.usedRenderingMode:-1;ii!==-1?Xn+=ii+` Tr
`:cc!==-1&&(Xn+=`0 Tr
`),ii!==-1&&(na.usedRenderingMode=ii),St=ke.align||"left";var ai,Xs=rt*Va,Ks=Et.internal.pageSize.getWidth(),Vc=nt[Ot];yr=ke.charSpace||ma,Pt=ke.maxWidth||0,Gr=Object.assign({autoencode:!0,noBOM:!0},ke.flags);var Ts=[],ia=function(ct){return Et.getStringUnitWidth(ct,{font:Vc,charSpace:yr,fontSize:rt,doKerning:!1})*rt/Ys};if(Object.prototype.toString.call(P)==="[object Array]"){var Ya;yt=Il(P),St!=="left"&&(ai=yt.map(ia));var aa,Xa=0;if(St==="right"){re-=ai[0],P=[],Kn=yt.length;for(var jr=0;jr<Kn;jr++)jr===0?(aa=fr(re),Ya=Qr(Ae)):(aa=le(Xa-ai[jr]),Ya=-Xs),P.push([yt[jr],aa,Ya]),Xa=ai[jr]}else if(St==="center"){re-=ai[0]/2,P=[],Kn=yt.length;for(var Is=0;Is<Kn;Is++)Is===0?(aa=fr(re),Ya=Qr(Ae)):(aa=le((Xa-ai[Is])/2),Ya=-Xs),P.push([yt[Is],aa,Ya]),Xa=ai[Is]}else if(St==="left"){P=[],Kn=yt.length;for(var ee=0;ee<Kn;ee++)P.push(yt[ee])}else if(St==="justify"&&Vc.encoding==="Identity-H"){P=[],Kn=yt.length,Pt=Pt!==0?Pt:Ks;for(var l=0,p=0;p<Kn;p++)if(Ya=p===0?Qr(Ae):-Xs,aa=p===0?fr(re):l,p<Kn-1){var g=le((Pt-ai[p])/(yt[p].split(" ").length-1)),y=yt[p].split(" ");P.push([y[0]+" ",aa,Ya]),l=0;for(var w=1;w<y.length;w++){var A=(ia(y[w-1]+" "+y[w])-ia(y[w]))*Ys+g;w==y.length-1?P.push([y[w],A,0]):P.push([y[w]+" ",A,0]),l-=A}}else P.push([yt[p],aa,Ya]);P.push(["",l,0])}else{if(St!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],Kn=yt.length,Pt=Pt!==0?Pt:Ks,p=0;p<Kn;p++){Ya=p===0?Qr(Ae):-Xs,aa=p===0?fr(re):0;var O=yt[p].split(" ").length-1,j=O>0?(Pt-ai[p])/O:0;p<Kn-1?Ts.push(Q(le(j))):Ts.push(0),P.push([yt[p],aa,Ya])}}}(typeof ke.R2L=="boolean"?ke.R2L:ir)===!0&&(P=kl(P,function(ct,ut,ot){return[ct.split("").reverse().join(""),ut,ot]})),dt={text:P,x:re,y:Ae,options:ke,mutex:{pdfEscape:fs,activeFontKey:Ot,fonts:nt,activeFontSize:rt}},Yr.publish("postProcessText",dt),P=dt.text,Ir=dt.mutex.isHex||!1;var L=nt[Ot].encoding;L!=="WinAnsiEncoding"&&L!=="StandardEncoding"||(P=kl(P,function(ct,ut,ot){return[Li(ct),ut,ot]})),yt=Il(P),P=[];for(var W,te,oe,_e=Array.isArray(yt[0])?1:0,Oe="",je=function(ct,ut,ot){var nr="";return ot instanceof Zt?(ot=typeof ke.angle=="number"?Di(ot,new Zt(1,0,0,1,ct,ut)):Di(new Zt(1,0,0,1,ct,ut),ot),F===U&&(ot=Di(new Zt(1,0,0,-1,0,0),ot)),nr=ot.join(" ")+` Tm
`):nr=Q(ct)+" "+Q(ut)+` Td
`,nr},Be=0;Be<yt.length;Be++){switch(Oe="",_e){case 1:oe=(Ir?"<":"(")+yt[Be][0]+(Ir?">":")"),W=parseFloat(yt[Be][1]),te=parseFloat(yt[Be][2]);break;case 0:oe=(Ir?"<":"(")+yt[Be]+(Ir?">":")"),W=fr(re),te=Qr(Ae)}Ts!==void 0&&Ts[Be]!==void 0&&(Oe=Ts[Be]+` Tw
`),Be===0?P.push(Oe+je(W,te,Ar)+oe):_e===0?P.push(Oe+oe):_e===1&&P.push(Oe+je(W,te,Ar)+oe)}P=_e===0?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var Ze=`BT
/`;return Ze+=Ot+" "+rt+` Tf
`,Ze+=Q(rt*Va)+` TL
`,Ze+=so+`
`,Ze+=Xn,Ze+=P,ve(Ze+="ET"),b[Ot]=!0,Et};var be=x.__private__.clip=x.clip=function(P){return ve(P==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return be("evenodd")},x.__private__.discardPath=x.discardPath=function(){return ve("n"),this};var Tt=x.__private__.isValidStyle=function(P){var re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(re=!0),re};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(P){return Tt(P)&&(c=P),this};var ri=x.__private__.getStyle=x.getStyle=function(P){var re=c;switch(P){case"D":case"S":re="S";break;case"F":re="f";break;case"FD":case"DF":re="B";break;case"f":case"f*":case"B":case"B*":re=P}return re},pa=x.close=function(){return ve("h"),this};x.stroke=function(){return ve("S"),this},x.fill=function(P){return Gs("f",P),this},x.fillEvenOdd=function(P){return Gs("f*",P),this},x.fillStroke=function(P){return Gs("B",P),this},x.fillStrokeEvenOdd=function(P){return Gs("B*",P),this};var Gs=function(P,re){Un(re)==="object"?rr(re,P):ve(P)},jo=function(P){P===null||F===U&&P===void 0||(P=ri(P),ve(P))};function Na(P,re,Ae,ke,Fe){var dt=new Zh(re||this.boundingBox,Ae||this.xStep,ke||this.yStep,this.gState,Fe||this.matrix);dt.stream=this.stream;var yt=P+"$$"+this.cloneIndex+++"$$";return Ti(yt,dt),dt}var rr=function(P,re){var Ae=cn[P.key],ke=Ct[Ae];if(ke instanceof md)ve("q"),ve(_n(re)),ke.gState&&x.setGState(ke.gState),ve(P.matrix.toString()+" cm"),ve("/"+Ae+" sh"),ve("Q");else if(ke instanceof Zh){var Fe=new Zt(1,0,0,-1,0,Lo());P.matrix&&(Fe=Fe.multiply(P.matrix||io),Ae=Na.call(ke,P.key,P.boundingBox,P.xStep,P.yStep,Fe).id),ve("q"),ve("/Pattern cs"),ve("/"+Ae+" scn"),ke.gState&&x.setGState(ke.gState),ve(re),ve("Q")}},_n=function(P){switch(P){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},lc=x.moveTo=function(P,re){return ve(Q(le(P))+" "+Q(J(re))+" m"),this},Hu=x.lineTo=function(P,re){return ve(Q(le(P))+" "+Q(J(re))+" l"),this},ga=x.curveTo=function(P,re,Ae,ke,Fe,dt){return ve([Q(le(P)),Q(J(re)),Q(le(Ae)),Q(J(ke)),Q(le(Fe)),Q(J(dt)),"c"].join(" ")),this};x.__private__.line=x.line=function(P,re,Ae,ke,Fe){if(isNaN(P)||isNaN(re)||isNaN(Ae)||isNaN(ke)||!Tt(Fe))throw new Error("Invalid arguments passed to jsPDF.line");return F===B?this.lines([[Ae-P,ke-re]],P,re,[1,1],Fe||"S"):this.lines([[Ae-P,ke-re]],P,re,[1,1]).stroke()},x.__private__.lines=x.lines=function(P,re,Ae,ke,Fe,dt){var yt,Mt,St,yr,Pt,Gr,gn,Ar,Et,Ii,Ir,Xn;if(typeof P=="number"&&(Xn=Ae,Ae=re,re=P,P=Xn),ke=ke||[1,1],dt=dt||!1,isNaN(re)||isNaN(Ae)||!Array.isArray(P)||!Array.isArray(ke)||!Tt(Fe)||typeof dt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(lc(re,Ae),yt=ke[0],Mt=ke[1],yr=P.length,Ii=re,Ir=Ae,St=0;St<yr;St++)(Pt=P[St]).length===2?(Ii=Pt[0]*yt+Ii,Ir=Pt[1]*Mt+Ir,Hu(Ii,Ir)):(Gr=Pt[0]*yt+Ii,gn=Pt[1]*Mt+Ir,Ar=Pt[2]*yt+Ii,Et=Pt[3]*Mt+Ir,Ii=Pt[4]*yt+Ii,Ir=Pt[5]*Mt+Ir,ga(Gr,gn,Ar,Et,Ii,Ir));return dt&&pa(),jo(Fe),this},x.path=function(P){for(var re=0;re<P.length;re++){var Ae=P[re],ke=Ae.c;switch(Ae.op){case"m":lc(ke[0],ke[1]);break;case"l":Hu(ke[0],ke[1]);break;case"c":ga.apply(this,ke);break;case"h":pa()}}return this},x.__private__.rect=x.rect=function(P,re,Ae,ke,Fe){if(isNaN(P)||isNaN(re)||isNaN(Ae)||isNaN(ke)||!Tt(Fe))throw new Error("Invalid arguments passed to jsPDF.rect");return F===B&&(ke=-ke),ve([Q(le(P)),Q(J(re)),Q(le(Ae)),Q(le(ke)),"re"].join(" ")),jo(Fe),this},x.__private__.triangle=x.triangle=function(P,re,Ae,ke,Fe,dt,yt){if(isNaN(P)||isNaN(re)||isNaN(Ae)||isNaN(ke)||isNaN(Fe)||isNaN(dt)||!Tt(yt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ae-P,ke-re],[Fe-Ae,dt-ke],[P-Fe,re-dt]],P,re,[1,1],yt,!0),this},x.__private__.roundedRect=x.roundedRect=function(P,re,Ae,ke,Fe,dt,yt){if(isNaN(P)||isNaN(re)||isNaN(Ae)||isNaN(ke)||isNaN(Fe)||isNaN(dt)||!Tt(yt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Mt=4/3*(Math.SQRT2-1);return Fe=Math.min(Fe,.5*Ae),dt=Math.min(dt,.5*ke),this.lines([[Ae-2*Fe,0],[Fe*Mt,0,Fe,dt-dt*Mt,Fe,dt],[0,ke-2*dt],[0,dt*Mt,-Fe*Mt,dt,-Fe,dt],[2*Fe-Ae,0],[-Fe*Mt,0,-Fe,-dt*Mt,-Fe,-dt],[0,2*dt-ke],[0,-dt*Mt,Fe*Mt,-dt,Fe,-dt]],P+Fe,re,[1,1],yt,!0),this},x.__private__.ellipse=x.ellipse=function(P,re,Ae,ke,Fe){if(isNaN(P)||isNaN(re)||isNaN(Ae)||isNaN(ke)||!Tt(Fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var dt=4/3*(Math.SQRT2-1)*Ae,yt=4/3*(Math.SQRT2-1)*ke;return lc(P+Ae,re),ga(P+Ae,re-yt,P+dt,re-ke,P,re-ke),ga(P-dt,re-ke,P-Ae,re-yt,P-Ae,re),ga(P-Ae,re+yt,P-dt,re+ke,P,re+ke),ga(P+dt,re+ke,P+Ae,re+yt,P+Ae,re),jo(Fe),this},x.__private__.circle=x.circle=function(P,re,Ae,ke){if(isNaN(P)||isNaN(re)||isNaN(Ae)||!Tt(ke))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,re,Ae,Ae,ke)},x.setFont=function(P,re,Ae){return Ae&&(re=V(re,Ae)),Ot=Fr(P,re,{disableWarning:!1}),this};var Ga=x.__private__.getFont=x.getFont=function(){return nt[Fr.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var P,re,Ae={};for(P in Rt)if(Rt.hasOwnProperty(P))for(re in Ae[P]=[],Rt[P])Rt[P].hasOwnProperty(re)&&Ae[P].push(re);return Ae},x.addFont=function(P,re,Ae,ke,Fe){var dt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&dt.indexOf(arguments[3])!==-1?Fe=arguments[3]:arguments[3]&&dt.indexOf(arguments[3])==-1&&(Ae=V(Ae,ke)),mt.call(this,P,re,Ae,Fe=Fe||"Identity-H")};var Ws,Cl=e.lineWidth||.200025,Mn=x.__private__.getLineWidth=x.getLineWidth=function(){return Cl},cr=x.__private__.setLineWidth=x.setLineWidth=function(P){return Cl=P,ve(Q(le(P))+" w"),this};x.__private__.setLineDash=or.API.setLineDash=or.API.setLineDashPattern=function(P,re){if(P=P||[],re=re||0,isNaN(re)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(Ae){return Q(le(Ae))}).join(" "),re=Q(le(re)),ve("["+P+"] "+re+" d"),this};var $s=x.__private__.getLineHeight=x.getLineHeight=function(){return rt*Ws};x.__private__.getLineHeight=x.getLineHeight=function(){return rt*Ws};var ur=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(Ws=P),this},Gu=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return Ws};ur(e.lineHeight);var fr=x.__private__.getHorizontalCoordinate=function(P){return le(P)},Qr=x.__private__.getVerticalCoordinate=function(P){return F===U?P:Kt[de].mediaBox.topRightY-Kt[de].mediaBox.bottomLeftY-le(P)},$c=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(P){return Q(fr(P))},Ro=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(P){return Q(Qr(P))},Wa=e.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return Hr(Wa)},x.__private__.setStrokeColor=x.setDrawColor=function(P,re,Ae,ke){return Wa=fi({ch1:P,ch2:re,ch3:Ae,ch4:ke,pdfColorType:"draw",precision:2}),ve(Wa),this};var hs=e.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return Hr(hs)},x.__private__.setFillColor=x.setFillColor=function(P,re,Ae,ke){return hs=fi({ch1:P,ch2:re,ch3:Ae,ch4:ke,pdfColorType:"fill",precision:2}),ve(hs),this};var so=e.textColor||"0 g",al=x.__private__.getTextColor=x.getTextColor=function(){return Hr(so)};x.__private__.setTextColor=x.setTextColor=function(P,re,Ae,ke){return so=fi({ch1:P,ch2:re,ch3:Ae,ch4:ke,pdfColorType:"text",precision:3}),this};var ma=e.charSpace,oo=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(ma||0)};x.__private__.setCharSpace=x.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ma=P,this};var Nl=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(P){var re=x.CapJoinStyles[P];if(re===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nl=re,ve(re+" J"),this};var ni=0;x.__private__.setLineJoin=x.setLineJoin=function(P){var re=x.CapJoinStyles[P];if(re===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ni=re,ve(re+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ve(Q(le(P))+" M"),this},x.GState=k2,x.setGState=function(P){(P=typeof P=="string"?hr[wr[P]]:$a(null,P)).equals(Xt)||(ve("/"+P.id+" gs"),Xt=P)};var $a=function(P,re){if(!P||!wr[P]){var Ae=!1;for(var ke in hr)if(hr.hasOwnProperty(ke)&&hr[ke].equals(re)){Ae=!0;break}if(Ae)re=hr[ke];else{var Fe="GS"+(Object.keys(hr).length+1).toString(10);hr[Fe]=re,re.id=Fe}return P&&(wr[P]=re.id),Yr.publish("addGState",re),re}};x.addGState=function(P,re){return $a(P,re),this},x.saveGraphicsState=function(){return ve("q"),Bt.push({key:Ot,size:rt,color:so}),this},x.restoreGraphicsState=function(){ve("Q");var P=Bt.pop();return Ot=P.key,rt=P.size,so=P.color,Xt=null,this},x.setCurrentTransformationMatrix=function(P){return ve(P.toString()+" cm"),this},x.comment=function(P){return ve("#"+P),this};var jn=function(P,re){var Ae=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ae},set:function(dt){isNaN(dt)||(Ae=parseFloat(dt))}});var ke=re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ke},set:function(dt){isNaN(dt)||(ke=parseFloat(dt))}});var Fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fe},set:function(dt){Fe=dt.toString()}}),this},lo=function(P,re,Ae,ke){jn.call(this,P,re),this.type="rect";var Fe=Ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fe},set:function(yt){isNaN(yt)||(Fe=parseFloat(yt))}});var dt=ke||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return dt},set:function(yt){isNaN(yt)||(dt=parseFloat(yt))}}),this},Ol=function(){this.page=_r,this.currentPage=de,this.pages=Je.slice(0),this.pagesContext=Kt.slice(0),this.x=Ht,this.y=ci,this.matrix=tr,this.width=Do(de),this.height=nn(de),this.outputDestination=lt,this.id="",this.objectNumber=-1};Ol.prototype.restore=function(){_r=this.page,de=this.currentPage,Kt=this.pagesContext,Je=this.pages,Ht=this.x,ci=this.y,tr=this.matrix,Tl(de,this.width),co(de,this.height),lt=this.outputDestination};var sl=function(P,re,Ae,ke,Fe){ea.push(new Ol),_r=de=0,Je=[],Ht=P,ci=re,tr=Fe,rn([Ae,ke])};for(var Po in x.beginFormObject=function(P,re,Ae,ke,Fe){return sl(P,re,Ae,ke,Fe),this},x.endFormObject=function(P){return(function(re){if(In[re])ea.pop().restore();else{var Ae=new Ol,ke="Xo"+(Object.keys(Pi).length+1).toString(10);Ae.id=ke,In[re]=ke,Pi[ke]=Ae,Yr.publish("addFormObject",Ae),ea.pop().restore()}})(P),this},x.doFormObject=function(P,re){var Ae=Pi[In[P]];return ve("q"),ve(re.toString()+" cm"),ve("/"+Ae.id+" Do"),ve("Q"),this},x.getFormObject=function(P){var re=Pi[In[P]];return{x:re.x,y:re.y,width:re.width,height:re.height,matrix:re.matrix}},x.save=function(P,re){return P=P||"generated.pdf",(re=re||{}).returnPromise=re.returnPromise||!1,re.returnPromise===!1?(hd(yn(ao()),P),typeof hd.unload=="function"&&Mr.setTimeout&&setTimeout(hd.unload,911),this):new Promise(function(Ae,ke){try{var Fe=hd(yn(ao()),P);typeof hd.unload=="function"&&Mr.setTimeout&&setTimeout(hd.unload,911),Ae(Fe)}catch(dt){ke(dt.message)}})},or.API)or.API.hasOwnProperty(Po)&&(Po==="events"&&or.API.events.length?(function(P,re){var Ae,ke,Fe;for(Fe=re.length-1;Fe!==-1;Fe--)Ae=re[Fe][0],ke=re[Fe][1],P.subscribe.apply(P,[Ae].concat(typeof ke=="function"?[ke]:ke))})(Yr,or.API.events):x[Po]=or.API[Po]);function Do(P){return Kt[P].mediaBox.topRightX-Kt[P].mediaBox.bottomLeftX}function Tl(P,re){Kt[P].mediaBox.topRightX=re+Kt[P].mediaBox.bottomLeftX}function nn(P){return Kt[P].mediaBox.topRightY-Kt[P].mediaBox.bottomLeftY}function co(P,re){Kt[P].mediaBox.topRightY=re+Kt[P].mediaBox.bottomLeftY}var Es=x.getPageWidth=function(P){return Do(P=P||de)/Tr},Vs=x.setPageWidth=function(P,re){Tl(P,re*Tr)},Lo=x.getPageHeight=function(P){return nn(P=P||de)/Tr},et=x.setPageHeight=function(P,re){co(P,re*Tr)};return x.internal={pdfEscape:fs,getStyle:ri,getFont:Ga,getFontSize:at,getCharSpace:oo,getTextColor:al,getLineHeight:$s,getLineHeightFactor:Gu,getLineWidth:Mn,write:wt,getHorizontalCoordinate:fr,getVerticalCoordinate:Qr,getCoordinateString:$c,getVerticalCoordinateString:Ro,collections:{},newObject:zr,newAdditionalObject:Nt,newObjectDeferred:Nn,newObjectDeferredBegin:hn,getFilters:da,putStream:Sa,events:Yr,scaleFactor:Tr,pageSize:{getWidth:function(){return Es(de)},setWidth:function(P){Vs(de,P)},getHeight:function(){return Lo(de)},setHeight:function(P){et(de,P)}},encryptionOptions:h,encryption:zn,getEncryptor:function(P){return h!==null?zn.encryptor(P,0):function(re){return re}},output:Ss,getNumberOfPages:$r,get pages(){return Je},out:ve,f2:G,f3:H,getPageInfo:Or,getPageInfoByObjId:di,getCurrentPageInfo:We,getPDFVersion:C,Point:jn,Rectangle:lo,Matrix:Zt,hasHotfix:Ca},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return Es(de)},set:function(P){Vs(de,P)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return Lo(de)},set:function(P){et(de,P)},enumerable:!0,configurable:!0}),(function(P){for(var re=0,Ae=_t.length;re<Ae;re++){var ke=mt.call(this,P[re][0],P[re][1],P[re][2],_t[re][3],!0);m===!1&&(b[ke]=!0);var Fe=P[re][0].split("-");Yn({id:ke,fontName:Fe[0],fontStyle:Fe[1]||""})}Yr.publish("addFonts",{fonts:nt,dictionary:Rt})}).call(x,_t),Ot="F1",Ha(i,r),Yr.publish("initialized"),x}Wh.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Wh.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Wh.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Wh.prototype.processOwnerPassword=function(e,t){return Q_(Z_(t).substr(0,5),e)},Wh.prototype.encryptor=function(e,t){var r=Z_(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Q_(r,n)}},k2.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Un(e)!==Un(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},or.API={events:[]},or.version="4.2.0";var Yi=or.API,ES=1,Wd=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Bd=function(e){return e.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var r=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(r.length===1?"0"+r:r)})},Dr=function(e){return e.toFixed(2)},xf=function(e){return e.toFixed(5)};Yi.__acroform__={};var Mo=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},rM=function(e){return e*ES},Oc=function(e){var t=new R9,r=$t.internal.getHeight(e)||0,n=$t.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Dr(n)),Number(Dr(r))],t},Bpe=Yi.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},Fpe=Yi.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Upe=Yi.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ca=Yi.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Upe(e,t-1)},ua=Yi.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Bpe(e,t-1)},fa=Yi.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Fpe(e,t-1)},zpe=Yi.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],u=e[3],d={};return d.lowerLeft_X=r(i)||0,d.lowerLeft_Y=n(a+u)||0,d.upperRight_X=r(i+o)||0,d.upperRight_Y=n(a)||0,[Number(Dr(d.lowerLeft_X)),Number(Dr(d.lowerLeft_Y)),Number(Dr(d.upperRight_X)),Number(Dr(d.upperRight_Y))]},qpe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=J_(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Dr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Oc(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},J_=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(G){return G.split(`
`)}):i.map(function(G){return[G]});var a=r,o=$t.internal.getHeight(e)||0;o=o<0?-o:o;var u=$t.internal.getWidth(e)||0;u=u<0?-u:u;var d=function(G,H,le){if(G+1<i.length){var J=H+" "+i[G+1][0];return av(J,e,le).width<=u-4}return!1};a++;e:for(;a>0;){t="",a--;var c,h,m=av("3",e,a).height,b=e.multiline?o-a:(o-m)/2,x=b+=2,E=0,C=0,T=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+av(t,e,a=12).width+", FieldWidth:"+u+`
`;break}for(var I="",B=0,U=0;U<i.length;U++)if(i.hasOwnProperty(U)){var F=!1;if(i[U].length!==1&&T!==i[U].length-1){if((m+2)*(B+2)+2>o)continue e;I+=i[U][T],F=!0,C=U,U--}else{I=(I+=i[U][T]+" ").substr(I.length-1)==" "?I.substr(0,I.length-1):I;var K=parseInt(U),Z=d(K,I,a),V=U>=i.length-1;if(Z&&!V){I+=" ",T=0;continue}if(Z||V){if(V)C=K;else if(e.multiline&&(m+2)*(B+2)+2>o)continue e}else{if(!e.multiline||(m+2)*(B+2)+2>o)continue e;C=K}}for(var Q="",q=E;q<=C;q++){var se=i[q];if(e.multiline){if(q===C){Q+=se[T]+" ",T=(T+1)%se.length;continue}if(q===E){Q+=se[se.length-1]+" ";continue}}Q+=se[0]+" "}switch(Q=Q.substr(Q.length-1)==" "?Q.substr(0,Q.length-1):Q,h=av(Q,e,a).width,e.textAlign){case"right":c=u-h-2;break;case"center":c=(u-h)/2;break;default:c=2}t+=Dr(c)+" "+Dr(x)+` Td
`,t+="("+Wd(Q)+`) Tj
`,t+=-Dr(c)+` 0 Td
`,x=-(a+2),h=0,E=F?C:C+1,B++,I=""}break}return n.text=t,n.fontSize=a,n},av=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},Hpe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Gpe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Wpe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(sc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Hpe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ES=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new P9,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&Gpe(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var u=n[o],d=[],c=u.Rect;if(u.Rect&&(u.Rect=zpe(u.Rect,i)),i.internal.newObjectDeferredBegin(u.objId,!0),u.DA=$t.createDefaultAppearanceStream(u),Un(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(d=u.getKeyValueListForStream()),u.Rect=c,u.hasAppearanceStream&&!u.appearanceStreamContent){var h=qpe(u);d.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(u.appearanceStreamContent){var m="";for(var b in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(b)){var x=u.appearanceStreamContent[b];if(m+="/"+b+" ",m+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var o in x)if(x.hasOwnProperty(o)){var E=x[o];typeof E=="function"&&(E=E.call(i,u)),m+="/"+o+" "+E+" ",i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E)}}else typeof(E=x)=="function"&&(E=E.call(i,u)),m+="/"+o+" "+E,i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E);m+=">>"}d.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:d,objectId:u.objId}),i.internal.out("endobj")}a&&(function(C,T){for(var I in C)if(C.hasOwnProperty(I)){var B=I,U=C[I];T.internal.newObjectDeferredBegin(U.objId,!0),Un(U)==="object"&&typeof U.putStream=="function"&&U.putStream(),delete C[B]}})(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},j9=Yi.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Un(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)==="/"?i+="/"+Bd(e[a].substr(1)):(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+Wd(n(e[a].toString()))+")")}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},b5=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Wd(n(e))+")"},Rc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Rc.prototype.toString=function(){return this.objId+" 0 R"},Rc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Rc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:j9(i,this.objId,this.scope)}):i instanceof Rc?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var R9=function(){Rc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Mo(R9,Rc);var P9=function(){Rc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Wd(r(e))+")"}},set:function(r){e=r}})};Mo(P9,Rc);var sc=function e(){Rc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute F supplied.');t=I}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ca(t,3)},set:function(I){I?this.F=ua(t,3):this.F=fa(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute Ff supplied.');r=I}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(I){n=I!==void 0?I:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(I){n[0]=I}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(I){n[1]=I}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(I){n[2]=I}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(I){n[3]=I}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(I){switch(I){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=I;break;default:throw new Error('Invalid value "'+I+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof M2)return;a="FieldObject"+e.FieldNum++}var I=function(B){return B};return this.scope&&(I=this.scope.internal.getEncryptor(this.objId)),"("+Wd(I(a))+")"},set:function(I){a=I.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(I){a=I}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(I){o=I}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(I){u=I}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(I){d=I}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/ES:c},set:function(I){c=I}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(I){h=I}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof M2||this instanceof Ed))return b5(m,this.objId,this.scope)},set:function(I){I=I.toString(),m=I}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof as==0?b5(b,this.objId,this.scope):b},set:function(I){I=I.toString(),b=this instanceof as==0?I.substr(0,1)==="("?Fh(I.substr(1,I.length-2)):Fh(I):I}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof as==1?Fh(b.substr(1,b.length-1)):b},set:function(I){I=I.toString(),b=this instanceof as==1?"/"+Bd(I):I}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(I){this.V=I}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof as==0?b5(x,this.objId,this.scope):x},set:function(I){I=I.toString(),x=this instanceof as==0?I.substr(0,1)==="("?Fh(I.substr(1,I.length-2)):Fh(I):I}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof as==1?Fh(x.substr(1,x.length-1)):x},set:function(I){I=I.toString(),x=this instanceof as==1?"/"+Bd(I):I}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return C},set:function(I){I=!!I,C=I}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(I){E=I}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,1)},set:function(I){I?this.Ff=ua(this.Ff,1):this.Ff=fa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,2)},set:function(I){I?this.Ff=ua(this.Ff,2):this.Ff=fa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,3)},set:function(I){I?this.Ff=ua(this.Ff,3):this.Ff=fa(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(I){if([0,1,2].indexOf(I)===-1)throw new Error('Invalid value "'+I+'" for attribute Q supplied.');T=I}}),Object.defineProperty(this,"textAlign",{get:function(){var I;switch(T){case 0:default:I="left";break;case 1:I="center";break;case 2:I="right"}return I},configurable:!0,enumerable:!0,set:function(I){switch(I){case"right":case 2:T=2;break;case"center":case 1:T=1;break;default:T=0}}})};Mo(sc,Rc);var r0=function(){sc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return j9(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=(function(a,o,u){u||(u=1);for(var d,c=[];d=o.exec(a);)c.push(d[u]);return c})(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,18)},set:function(r){r?this.Ff=ua(this.Ff,18):this.Ff=fa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ua(this.Ff,19):this.Ff=fa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,20)},set:function(r){r?(this.Ff=ua(this.Ff,20),t.sort()):this.Ff=fa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,22)},set:function(r){r?this.Ff=ua(this.Ff,22):this.Ff=fa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,23)},set:function(r){r?this.Ff=ua(this.Ff,23):this.Ff=fa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,27)},set:function(r){r?this.Ff=ua(this.Ff,27):this.Ff=fa(this.Ff,27)}}),this.hasAppearanceStream=!1};Mo(r0,sc);var n0=function(){r0.call(this),this.fontName="helvetica",this.combo=!1};Mo(n0,r0);var i0=function(){n0.call(this),this.combo=!0};Mo(i0,n0);var bv=function(){i0.call(this),this.edit=!0};Mo(bv,i0);var as=function(){sc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,15)},set:function(r){r?this.Ff=ua(this.Ff,15):this.Ff=fa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,16)},set:function(r){r?this.Ff=ua(this.Ff,16):this.Ff=fa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,17)},set:function(r){r?this.Ff=ua(this.Ff,17):this.Ff=fa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,26)},set:function(r){r?this.Ff=ua(this.Ff,26):this.Ff=fa(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Wd(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Un(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){var n=r==null?"":r.toString();n.substr(0,1)==="/"&&(n=n.substr(1)),e="/"+Bd(n)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+Bd(r)}})};Mo(as,sc);var xv=function(){as.call(this),this.pushButton=!0};Mo(xv,as);var a0=function(){as.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Mo(a0,as);var M2=function(){var e,t;sc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(u){return u};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+Wd(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Un(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){var a=i==null?"":i.toString();a.substr(0,1)==="/"&&(a=a.substr(1)),r="/"+Bd(a)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){var a=i==null?"":i.toString();a.substr(0,1)==="/"&&(a=a.substr(1)),r="/"+Bd(a)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Mo(M2,sc),a0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},a0.prototype.createOption=function(e){var t=new M2;return t.Parent=this,t.optionName=e,this.Kids.push(t),$pe.call(this.scope,t),t};var wv=function(){as.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$t.CheckBox.createAppearanceStream()};Mo(wv,as);var Ed=function(){sc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,13)},set:function(t){t?this.Ff=ua(this.Ff,13):this.Ff=fa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,21)},set:function(t){t?this.Ff=ua(this.Ff,21):this.Ff=fa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,23)},set:function(t){t?this.Ff=ua(this.Ff,23):this.Ff=fa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,24)},set:function(t){t?this.Ff=ua(this.Ff,24):this.Ff=fa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,25)},set:function(t){t?this.Ff=ua(this.Ff,25):this.Ff=fa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,26)},set:function(t){t?this.Ff=ua(this.Ff,26):this.Ff=fa(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Mo(Ed,sc);var _v=function(){Ed.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,14)},set:function(e){e?this.Ff=ua(this.Ff,14):this.Ff=fa(this.Ff,14)}}),this.password=!0};Mo(_v,Ed);var $t={CheckBox:{createAppearanceStream:function(){return{N:{On:$t.CheckBox.YesNormal},D:{On:$t.CheckBox.YesPushDown,Off:$t.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Oc(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=J_(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Dr($t.internal.getWidth(e))+" "+Dr($t.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Dr(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Oc(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=$t.internal.getHeight(e),o=$t.internal.getWidth(e),u=J_(e,e.caption);return i.push("1 g"),i.push("0 0 "+Dr(o)+" "+Dr(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Dr(o-1)+" "+Dr(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Dr(u.fontSize)+" Tf "+n),i.push(u.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Oc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Dr($t.internal.getWidth(e))+" "+Dr($t.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:$t.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=$t.RadioButton.Circle.YesNormal,t.D[e]=$t.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Oc(e);t.scope=e.scope;var r=[],n=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=$t.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+xf($t.internal.getWidth(e)/2)+" "+xf($t.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Oc(e);t.scope=e.scope;var r=[],n=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*$t.internal.Bezier_C).toFixed(5)),o=Number((n*$t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xf($t.internal.getWidth(e)/2)+" "+xf($t.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+xf($t.internal.getWidth(e)/2)+" "+xf($t.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Oc(e);t.scope=e.scope;var r=[],n=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*$t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xf($t.internal.getWidth(e)/2)+" "+xf($t.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:$t.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=$t.RadioButton.Cross.YesNormal,t.D[e]=$t.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Oc(e);t.scope=e.scope;var r=[],n=$t.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Dr($t.internal.getWidth(e)-2)+" "+Dr($t.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Dr(n.x1.x)+" "+Dr(n.x1.y)+" m"),r.push(Dr(n.x2.x)+" "+Dr(n.x2.y)+" l"),r.push(Dr(n.x4.x)+" "+Dr(n.x4.y)+" m"),r.push(Dr(n.x3.x)+" "+Dr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Oc(e);t.scope=e.scope;var r=$t.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Dr($t.internal.getWidth(e))+" "+Dr($t.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Dr($t.internal.getWidth(e)-2)+" "+Dr($t.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Dr(r.x1.x)+" "+Dr(r.x1.y)+" m"),n.push(Dr(r.x2.x)+" "+Dr(r.x2.y)+" l"),n.push(Dr(r.x4.x)+" "+Dr(r.x4.y)+" m"),n.push(Dr(r.x3.x)+" "+Dr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Oc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Dr($t.internal.getWidth(e))+" "+Dr($t.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};$t.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=$t.internal.getWidth(e),r=$t.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},$t.internal.getWidth=function(e){var t=0;return Un(e)==="object"&&(t=rM(e.Rect[2])),t},$t.internal.getHeight=function(e){var t=0;return Un(e)==="object"&&(t=rM(e.Rect[3])),t};var $pe=Yi.addField=function(e){if(Wpe(this,e),!(e instanceof sc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Yi.AcroFormChoiceField=r0,Yi.AcroFormListBox=n0,Yi.AcroFormComboBox=i0,Yi.AcroFormEditBox=bv,Yi.AcroFormButton=as,Yi.AcroFormPushButton=xv,Yi.AcroFormRadioButton=a0,Yi.AcroFormCheckBox=wv,Yi.AcroFormTextField=Ed,Yi.AcroFormPasswordField=_v,Yi.AcroFormAppearance=$t,Yi.AcroForm={ChoiceField:r0,ListBox:n0,ComboBox:i0,EditBox:bv,Button:as,PushButton:xv,RadioButton:a0,CheckBox:wv,TextField:Ed,PasswordField:_v,Appearance:$t},or.AcroForm={ChoiceField:r0,ListBox:n0,ComboBox:i0,EditBox:bv,Button:as,PushButton:xv,RadioButton:a0,CheckBox:wv,TextField:Ed,PasswordField:_v,Appearance:$t};or.AcroForm;function D9(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(G,H){var le,J,ie,ne,fe,we=r;if((H=H||r)==="RGBA"||G.data!==void 0&&G.data instanceof Uint8ClampedArray&&"height"in G&&"width"in G)return"RGBA";if(Z(G))for(fe in n)for(ie=n[fe],le=0;le<ie.length;le+=1){for(ne=!0,J=0;J<ie[le].length;J+=1)if(ie[le][J]!==void 0&&ie[le][J]!==G[J]){ne=!1;break}if(ne===!0){we=fe;break}}else for(fe in n)for(ie=n[fe],le=0;le<ie.length;le+=1){for(ne=!0,J=0;J<ie[le].length;J+=1)if(ie[le][J]!==void 0&&ie[le][J]!==G.charCodeAt(J)){ne=!1;break}if(ne===!0){we=fe;break}}return we===r&&H!==r&&(we=H),we},a=function G(H){for(var le=this.internal.write,J=this.internal.putStream,ie=(0,this.internal.getFilters)();ie.indexOf("FlateEncode")!==-1;)ie.splice(ie.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:H.width}),ne.push({key:"Height",value:H.height}),H.colorSpace===I.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===I.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)&&H.transparency.length>0){for(var fe="",we=0,Ie=H.transparency.length;we<Ie;we++)fe+=H.transparency[we]+" "+H.transparency[we]+" ";ne.push({key:"Mask",value:"["+fe+"]"})}H.sMask!==void 0&&ne.push({key:"SMask",value:H.objectId+1+" 0 R"});var Me=H.filter!==void 0?["/"+H.filter]:void 0;if(J({data:H.data,additionalKeyValues:ne,alreadyAppliedFilters:Me,objectId:H.objectId}),le("endobj"),"sMask"in H&&H.sMask!==void 0){var pe,X=(pe=H.sMaskBitsPerComponent)!==null&&pe!==void 0?pe:H.bitsPerComponent,de={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:X,data:H.sMask};"filter"in H&&(de.decodeParameters="/Predictor ".concat(H.predictor," /Colors 1 /BitsPerComponent ").concat(X," /Columns ").concat(H.width),de.filter=H.filter),G.call(this,de)}if(H.colorSpace===I.INDEXED){var me=this.internal.newObject();J({data:Q(new Uint8Array(H.palette)),objectId:me}),le("endobj")}},o=function(){var G=this.internal.collections[t+"images"];for(var H in G)a.call(this,G[H])},u=function(){var G,H=this.internal.collections[t+"images"],le=this.internal.write;for(var J in H)le("/I"+(G=H[J]).index,G.objectId,"0","R")},d=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",u))},c=function(){var G=this.internal.collections[t+"images"];return d.call(this),G},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},m=function(G){return typeof e["process"+G.toUpperCase()]=="function"},b=function(G){return Un(G)==="object"&&G.nodeType===1},x=function(G,H){if(G.nodeName==="IMG"&&G.hasAttribute("src")){var le=""+G.getAttribute("src");if(le.indexOf("data:image/")===0)return yv(unescape(le).split("base64,").pop());var J=e.loadFile(le,!0);if(J!==void 0)return J}if(G.nodeName==="CANVAS"){if(G.width===0||G.height===0)throw new Error("Given canvas must have data. Canvas width: "+G.width+", height: "+G.height);var ie;switch(H){case"PNG":ie="image/png";break;case"WEBP":ie="image/webp";break;default:ie="image/jpeg"}return yv(G.toDataURL(ie,1).split("base64,").pop())}},E=function(G){var H=this.internal.collections[t+"images"];if(H){for(var le in H)if(G===H[le].alias)return H[le]}},C=function(G,H,le){return G||H||(G=-96,H=-96),G<0&&(G=-1*le.width*72/G/this.internal.scaleFactor),H<0&&(H=-1*le.height*72/H/this.internal.scaleFactor),G===0&&(G=H*le.width/le.height),H===0&&(H=G*le.height/le.width),[G,H]},T=function(G,H,le,J,ie,ne){var fe=C.call(this,le,J,ie),we=this.internal.getCoordinateString,Ie=this.internal.getVerticalCoordinateString,Me=c.call(this);if(le=fe[0],J=fe[1],Me[ie.index]=ie,ne){ne*=Math.PI/180;var pe=Math.cos(ne),X=Math.sin(ne),de=function(Ne){return Ne.toFixed(4)},me=[de(pe),de(X),de(-1*X),de(pe),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,we(G),Ie(H+J),"cm"].join(" ")),this.internal.write(me.join(" ")),this.internal.write([we(le),"0","0",we(J),"0","0","cm"].join(" "))):this.internal.write([we(le),"0","0",we(J),we(G),Ie(H+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ie.index+" Do"),this.internal.write("Q")},I=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var B=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},U=e.__addimage__.sHashCode=function(G){var H,le,J=0;if(typeof G=="string")for(le=G.length,H=0;H<le;H++)J=(J<<5)-J+G.charCodeAt(H),J|=0;else if(Z(G))for(le=G.byteLength/2,H=0;H<le;H++)J=(J<<5)-J+G[H],J|=0;return J},F=e.__addimage__.validateStringAsBase64=function(G){(G=G||"").toString().trim();var H=!0;return G.length===0&&(H=!1),G.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(G.substr(0,G.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(G.substr(-2))===!1&&(H=!1),H},K=e.__addimage__.extractImageFromDataUrl=function(G){if(G==null||!(G=G.trim()).startsWith("data:"))return null;var H=G.indexOf(",");return H<0?null:G.substring(0,H).trim().endsWith("base64")?G.substring(H+1):null};e.__addimage__.isArrayBuffer=function(G){return G instanceof ArrayBuffer};var Z=e.__addimage__.isArrayBufferView=function(G){return G instanceof Int8Array||G instanceof Uint8Array||G instanceof Uint8ClampedArray||G instanceof Int16Array||G instanceof Uint16Array||G instanceof Int32Array||G instanceof Uint32Array||G instanceof Float32Array||G instanceof Float64Array},V=e.__addimage__.binaryStringToUint8Array=function(G){for(var H=G.length,le=new Uint8Array(H),J=0;J<H;J++)le[J]=G.charCodeAt(J);return le},Q=e.__addimage__.arrayBufferToBinaryString=function(G){for(var H="",le=Z(G)?G:new Uint8Array(G),J=0;J<le.length;J+=8192)H+=String.fromCharCode.apply(null,le.subarray(J,J+8192));return H};e.addImage=function(){var G,H,le,J,ie,ne,fe,we,Ie;if(typeof arguments[1]=="number"?(H=r,le=arguments[1],J=arguments[2],ie=arguments[3],ne=arguments[4],fe=arguments[5],we=arguments[6],Ie=arguments[7]):(H=arguments[1],le=arguments[2],J=arguments[3],ie=arguments[4],ne=arguments[5],fe=arguments[6],we=arguments[7],Ie=arguments[8]),Un(G=arguments[0])==="object"&&!b(G)&&"imageData"in G){var Me=G;G=Me.imageData,H=Me.format||H||r,le=Me.x||le||0,J=Me.y||J||0,ie=Me.w||Me.width||ie,ne=Me.h||Me.height||ne,fe=Me.alias||fe,we=Me.compression||we,Ie=Me.rotation||Me.angle||Ie}var pe=this.internal.getFilters();if(we===void 0&&pe.indexOf("FlateEncode")!==-1&&(we="SLOW"),isNaN(le)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var X=q.call(this,G,H,fe,we);return T.call(this,le,J,ie,ne,X,Ie),this};var q=function(G,H,le,J){var ie,ne,fe;if(typeof G=="string"&&i(G)===r){G=unescape(G);var we=se(G,!1);(we!==""||(we=e.loadFile(G,!0))!==void 0)&&(G=we)}if(b(G)&&(G=x(G,H)),H=i(G,H),!m(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((fe=le)==null||fe.length===0)&&(le=(function(Ie){return typeof Ie=="string"||Z(Ie)?U(Ie):Z(Ie.data)?U(Ie.data):null})(G)),(ie=E.call(this,le))||(G instanceof Uint8Array||H==="RGBA"||(ne=G,G=V(G)),ie=this["process"+H.toUpperCase()](G,h.call(this),le,(function(Ie){return Ie&&typeof Ie=="string"&&(Ie=Ie.toUpperCase()),Ie in e.image_compression?Ie:B.NONE})(J),ne)),!ie)throw new Error("An unknown error occurred whilst processing the image.");return ie},se=e.__addimage__.convertBase64ToBinaryString=function(G,H){H=typeof H!="boolean"||H;var le,J="";if(typeof G=="string"){var ie;le=(ie=K(G))!==null&&ie!==void 0?ie:G;try{J=yv(le)}catch(ne){if(H)throw F(le)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};e.getImageProperties=function(G){var H,le,J="";if(b(G)&&(G=x(G)),typeof G=="string"&&i(G)===r&&((J=se(G,!1))===""&&(J=e.loadFile(G)||""),G=J),le=i(G),!m(le))throw new Error("addImage does not support files of type '"+le+"', please ensure that a plugin for '"+le+"' support is added.");if(G instanceof Uint8Array||(G=V(G)),!(H=this["process"+le.toUpperCase()](G)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=le,H}})(or.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};or.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,o=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,h=!1,m=0;m<c.length&&!h;m++)switch((n=c[m]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var b=0;b<c.length;b++){n=c[b];var x=this.internal.pdfEscape,E=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var C=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),I=this.internal.getEncryptor(C.objId),B=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+u(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y)+"] ")+"/Contents ("+x(I(n.contents))+")",a+=" /Popup "+T.objId+" 0 R",a+=" /P "+d.objId+" 0 R",a+=" /T ("+x(I(B))+") >>",C.content=a;var U=C.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+u(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+u(n.bounds.y)+"] ")+" /Parent "+U,n.open&&(a+=" /Open true"),a+=" >>",T.content=a,this.internal.write(C.objId,"0 R",T.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+u(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y+n.bounds.h)+"] ";var F=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+x(E(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var K=this.annotations._nameMap[n.options.name];n.options.pageNumber=K.page,n.options.top=K.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+x(E(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var Z=u(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+Z+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,o){var u=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:d(r),y:c(n),w:d(r+i),h:c(n+a)},options:o,type:"link"})},e.textWithLink=function(r,n,i,a){var o,u,d=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){u=a.maxWidth;var h=this.splitTextToSize(r,u).length;o=Math.ceil(c*h)}else u=d,o=c;return this.text(r,n,i,a),i+=.2*c,a.align==="center"&&(n-=d/2),a.align==="right"&&(n-=d),this.link(n,i-c,u,o,a),d},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(or.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(C){return t[C.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(C){return typeof C=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(C)},u=e.__arabicParser__.isArabicEndLetter=function(C){return o(C)&&a(C)&&t[C.charCodeAt(0)].length<=2},d=e.__arabicParser__.isArabicAlfLetter=function(C){return o(C)&&i.indexOf(C.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(C){return o(C)&&a(C)&&t[C.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(C){return o(C)&&a(C)&&t[C.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(C){return o(C)&&a(C)&&t[C.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(C){return o(C)&&a(C)&&t[C.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(C){var T=0,I=r,B="",U=0;for(T=0;T<C.length;T+=1)I[C.charCodeAt(T)]!==void 0?(U++,typeof(I=I[C.charCodeAt(T)])=="number"&&(B+=String.fromCharCode(I),I=r,U=0),T===C.length-1&&(I=r,B+=C.charAt(T-(U-1)),T-=U-1,U=0)):(I=r,B+=C.charAt(T-U),T-=U,U=0);return B};e.__arabicParser__.isArabicDiacritic=function(C){return C!==void 0&&n[C.charCodeAt(0)]!==void 0};var b=e.__arabicParser__.getCorrectForm=function(C,T,I){return o(C)?a(C)===!1?-1:!c(C)||!o(T)&&!o(I)||!o(I)&&u(T)||u(C)&&!o(T)||u(C)&&d(T)||u(C)&&u(T)?0:h(C)&&o(T)&&!u(T)&&o(I)&&c(I)?3:u(C)||!o(I)?1:2:-1},x=function(C){var T=0,I=0,B=0,U="",F="",K="",Z=(C=C||"").split("\\s+"),V=[];for(T=0;T<Z.length;T+=1){for(V.push(""),I=0;I<Z[T].length;I+=1)U=Z[T][I],F=Z[T][I-1],K=Z[T][I+1],o(U)?(B=b(U,F,K),V[T]+=B!==-1?String.fromCharCode(t[U.charCodeAt(0)][B]):U):V[T]+=U;V[T]=m(V[T])}return V.join(" ")},E=e.__arabicParser__.processArabic=e.processArabic=function(){var C,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,I=[];if(Array.isArray(T)){var B=0;for(I=[],B=0;B<T.length;B+=1)Array.isArray(T[B])?I.push([x(T[B][0]),T[B][1],T[B][2]]):I.push([x(T[B])]);C=I}else C=x(T);return typeof arguments[0]=="string"?C:(arguments[0].text=C,arguments[0])};e.events.push(["preProcessText",E])})(or.API),or.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(u){r=u}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(u){n=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(u){a=u}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(u){o=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(or.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(C){d=C}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(C){c=C}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(C){h=C}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(C){m=C}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(C){b=C}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(C){x=C}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(C){E=C}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},e.getTextDimensions=function(d,c){n.call(this);var h=(c=c||{}).fontSize||this.getFontSize(),m=c.font||this.getFont(),b=c.scaleFactor||this.internal.scaleFactor,x=0,E=0,C=0,T=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var I=c.maxWidth;I>0?typeof d=="string"?d=this.splitTextToSize(d,I):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(U,F){return U.concat(T.splitTextToSize(F,I))},[])):d=Array.isArray(d)?d:[d];for(var B=0;B<d.length;B++)x<(C=this.getStringUnitWidth(d[B],{font:m})*h)&&(x=C);return x!==0&&(E=d.length),{w:x/=b,h:Math.max((E*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/b,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var d;d=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var c=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,b=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===d.lineNumber?(d.x=(c.x||0)+(c.width||0),d.y=c.y||0):c.y+c.height+d.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=m.top,x&&b&&(this.printHeaderRow(d.lineNumber,!0),d.y+=b[0].height)):d.y=c.y+c.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,r===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-h,d.y+h,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+h,{align:"center",baseline:"top",maxWidth:d.width-h-h}):this.text(d.text,d.x+h,d.y+h,{align:"left",baseline:"top",maxWidth:d.width-h-h})),this.internal.__cell__.lastCell=d,this};e.table=function(d,c,h,m,b){if(n.call(this),!h)throw new Error("No data for PDF table.");var x,E,C,T,I=[],B=[],U=[],F={},K={},Z=[],V=[],Q=(b=b||{}).autoSize||!1,q=b.printHeaders!==!1,se=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,G=b.margins||Object.assign({width:this.getPageWidth()},t),H=typeof b.padding=="number"?b.padding:3,le=b.headerBackgroundColor||"#c8c8c8",J=b.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=q,this.internal.__cell__.margins=G,this.internal.__cell__.table_font_size=se,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=le,this.internal.__cell__.headerTextColor=J,this.setFontSize(se),m==null)B=I=Object.keys(h[0]),U=I.map(function(){return"left"});else if(Array.isArray(m)&&Un(m[0])==="object")for(I=m.map(function(Me){return Me.name}),B=m.map(function(Me){return Me.prompt||Me.name||""}),U=m.map(function(Me){return Me.align||"left"}),x=0;x<m.length;x+=1)K[m[x].name]=.7499990551181103*m[x].width;else Array.isArray(m)&&typeof m[0]=="string"&&(B=I=m,U=I.map(function(){return"left"}));if(Q||Array.isArray(m)&&typeof m[0]=="string")for(x=0;x<I.length;x+=1){for(F[T=I[x]]=h.map(function(Me){return Me[T]}),this.setFont(void 0,"bold"),Z.push(this.getTextDimensions(B[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=F[T],this.setFont(void 0,"normal"),C=0;C<E.length;C+=1)Z.push(this.getTextDimensions(E[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);K[T]=Math.max.apply(null,Z)+H+H,Z=[]}if(q){var ie={};for(x=0;x<I.length;x+=1)ie[I[x]]={},ie[I[x]].text=B[x],ie[I[x]].align=U[x];var ne=u.call(this,ie,K);V=I.map(function(Me){return new a(d,c,K[Me],ne,ie[Me].text,void 0,ie[Me].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var fe=m.reduce(function(Me,pe){return Me[pe.name]=pe.align,Me},{});for(x=0;x<h.length;x+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:x,data:h[x]},this);var we=u.call(this,h[x],K);for(C=0;C<I.length;C+=1){var Ie=h[x][I[C]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:x,col:C,data:Ie},this),o.call(this,new a(d,c,K[I[C]],we,Ie,x+2,fe[I[C]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=c,this};var u=function(d,c){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(d).map(function(x){var E=d[x];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,c[x]-h-h)},this).map(function(x){return this.getLineHeightFactor()*x.length*m/b+h+h},this).reduce(function(x,E){return Math.max(x,E)},0)};e.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},e.printHeaderRow=function(d,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){h=this.internal.__cell__.tableHeaderRow[x].clone(),c&&(h.y=this.internal.__cell__.margins.top||0,b.push(h)),h.lineNumber=d;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(E)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),r=!1}})(or.API);var L9={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},B9=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],e3=D9(B9),F9=[100,200,300,400,500,600,700,800,900],Vpe=D9(F9);function x5(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(a){return L9[a=a||"normal"]?a:"normal"})(e.style),n=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(e.weight),i=(function(a){return typeof e3[a=a||"normal"]=="number"?a:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function nM(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var Ype={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},iM={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function aM(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function sM(e){return e.trimLeft()}function Xpe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Kpe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Uh,sv,oM,lM,cM,w5=["times"];function uM(e,t,r,n,i){var a=4,o=dM;switch(i){case or.API.image_compression.FAST:a=1,o=fM;break;case or.API.image_compression.MEDIUM:a=6,o=hM;break;case or.API.image_compression.SLOW:a=9,o=pM}e=(function(d,c,h,m){for(var b,x=d.length/c,E=new Uint8Array(d.length+x),C=[Zpe,fM,dM,hM,pM],T=0;T<x;T+=1){var I=T*c,B=d.subarray(I,I+c);if(m)E.set(m(B,h,b),I+T);else{for(var U=C.length,F=[],K=0;K<U;K+=1)F[K]=C[K](B,h,b);var Z=Jpe(F.concat());E.set(F[Z],I+T)}b=B}return E})(e,t,Math.ceil(r*n/8),o);var u=V_(e,{level:a});return or.API.__addimage__.arrayBufferToBinaryString(u)}function Zpe(e){var t=Array.apply([],e);return t.unshift(0),t}function fM(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=e[i-t]||0;n[i+1]=e[i]-a+256&255}return n}function dM(e,t,r){var n=e.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var o=r&&r[a]||0;i[a+1]=e[a]-o+256&255}return i}function hM(e,t,r){var n=e.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var o=e[a-t]||0,u=r&&r[a]||0;i[a+1]=e[a]+256-(o+u>>>1)&255}return i}function pM(e,t,r){var n=e.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var o=Qpe(e[a-t]||0,r&&r[a]||0,r&&r[a-t]||0);i[a+1]=e[a]-o+256&255}return i}function Qpe(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=i&&n<=a?e:i<=a?t:r}function Jpe(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function _5(e,t,r){var n=t*r,i=Math.floor(n/8),a=16-(n-8*i+r),o=(1<<r)-1;return U9(e,i)>>a&o}function gM(e,t,r,n){var i=r*n,a=Math.floor(i/8),o=16-(i-8*a+n),u=(1<<n)-1,d=(t&u)<<o;(function(c,h,m){if(h+1<c.byteLength)c.setUint16(h,m,!1);else{var b=m>>8&255;c.setUint8(h,b)}})(e,a,U9(e,a)&~(u<<o)&65535|d)}function U9(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function ege(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<1+(7&i);e[t++],e[t++];var u=null,d=null;a&&(u=t,d=o,t+=3*o);var c=!0,h=[],m=0,b=null,x=0,E=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,E=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((G=e[t++])>=0))throw Error("Invalid block size");if(G===0)break;t+=G}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var C=e[t++];m=e[t++]|e[t++]<<8,b=e[t++],1&C||(b=null),x=C>>2&7,t++;break;case 254:for(;;){if(!((G=e[t++])>=0))throw Error("Invalid block size");if(G===0)break;t+=G}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var T=e[t++]|e[t++]<<8,I=e[t++]|e[t++]<<8,B=e[t++]|e[t++]<<8,U=e[t++]|e[t++]<<8,F=e[t++],K=F>>6&1,Z=1<<1+(7&F),V=u,Q=d,q=!1;F>>7&&(q=!0,V=t,Q=Z,t+=3*Z);var se=t;for(t++;;){var G;if(!((G=e[t++])>=0))throw Error("Invalid block size");if(G===0)break;t+=G}h.push({x:T,y:I,width:B,height:U,has_local_palette:q,palette_offset:V,palette_size:Q,data_offset:se,data_length:t-se,transparent_index:b,interlaced:!!K,delay:m,disposal:x});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return E},this.frameInfo=function(H){if(H<0||H>=h.length)throw new Error("Frame index out of range.");return h[H]},this.decodeAndBlitFrameBGRA=function(H,le){var J=this.frameInfo(H),ie=J.width*J.height;if(ie>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var ne=new Uint8Array(ie);mM(e,J.data_offset,ne,ie);var fe=J.palette_offset,we=J.transparent_index;we===null&&(we=256);var Ie=J.width,Me=r-Ie,pe=Ie,X=4*(J.y*r+J.x),de=4*((J.y+J.height)*r+J.x),me=X,Ne=4*Me;J.interlaced===!0&&(Ne+=4*r*7);for(var xe=8,Re=0,ze=ne.length;Re<ze;++Re){var Ce=ne[Re];if(pe===0&&(pe=Ie,(me+=Ne)>=de&&(Ne=4*Me+4*r*(xe-1),me=X+(Ie+Me)*(xe<<1),xe>>=1)),Ce===we)me+=4;else{var Ge=e[fe+3*Ce],Je=e[fe+3*Ce+1],qe=e[fe+3*Ce+2];le[me++]=qe,le[me++]=Je,le[me++]=Ge,le[me++]=255}--pe}},this.decodeAndBlitFrameRGBA=function(H,le){var J=this.frameInfo(H),ie=J.width*J.height;if(ie>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var ne=new Uint8Array(ie);mM(e,J.data_offset,ne,ie);var fe=J.palette_offset,we=J.transparent_index;we===null&&(we=256);var Ie=J.width,Me=r-Ie,pe=Ie,X=4*(J.y*r+J.x),de=4*((J.y+J.height)*r+J.x),me=X,Ne=4*Me;J.interlaced===!0&&(Ne+=4*r*7);for(var xe=8,Re=0,ze=ne.length;Re<ze;++Re){var Ce=ne[Re];if(pe===0&&(pe=Ie,(me+=Ne)>=de&&(Ne=4*Me+4*r*(xe-1),me=X+(Ie+Me)*(xe<<1),xe>>=1)),Ce===we)me+=4;else{var Ge=e[fe+3*Ce],Je=e[fe+3*Ce+1],qe=e[fe+3*Ce+2];le[me++]=Ge,le[me++]=Je,le[me++]=qe,le[me++]=255}--pe}}}function mM(e,t,r,n){for(var i=e[t++],a=1<<i,o=a+1,u=o+1,d=i+1,c=(1<<d)-1,h=0,m=0,b=0,x=e[t++],E=new Int32Array(4096),C=null;;){for(;h<16&&x!==0;)m|=e[t++]<<h,h+=8,x===1?x=e[t++]:--x;if(h<d)break;var T=m&c;if(m>>=d,h-=d,T!==a){if(T===o)break;for(var I=T<u?T:C,B=0,U=I;U>a;)U=E[U]>>8,++B;var F=U;if(b+B+(I!==T?1:0)>n)return void ei.log("Warning, gif stream longer than expected.");r[b++]=F;var K=b+=B;for(I!==T&&(r[b++]=F),U=I;B--;)U=E[U],r[--K]=255&U,U>>=8;C!==null&&u<4096&&(E[u++]=C<<8|F,u>=c+1&&d<12&&(++d,c=c<<1|1)),C=T}else u=o+1,c=(1<<(d=i+1))-1,C=null}return b!==n&&ei.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function A5(e){var t,r,n,i,a,o=Math.floor,u=new Array(64),d=new Array(64),c=new Array(64),h=new Array(64),m=new Array(65535),b=new Array(65535),x=new Array(64),E=new Array(64),C=[],T=0,I=7,B=new Array(64),U=new Array(64),F=new Array(64),K=new Array(256),Z=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],G=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],le=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(X,de){for(var me=0,Ne=0,xe=new Array,Re=1;Re<=16;Re++){for(var ze=1;ze<=X[Re];ze++)xe[de[Ne]]=[],xe[de[Ne]][0]=me,xe[de[Ne]][1]=Re,Ne++,me++;me*=2}return xe}function fe(X){for(var de=X[0],me=X[1]-1;me>=0;)de&1<<me&&(T|=1<<I),me--,--I<0&&(T==255?(we(255),we(0)):we(T),I=7,T=0)}function we(X){C.push(X)}function Ie(X){we(X>>8&255),we(255&X)}function Me(X,de,me,Ne,xe){for(var Re,ze=xe[0],Ce=xe[240],Ge=(function(rt,er){var at,ir,ar,vr,Br,lr,Ur,Cr,Ot,Tr,Ht=0;for(Ot=0;Ot<8;++Ot){at=rt[Ht],ir=rt[Ht+1],ar=rt[Ht+2],vr=rt[Ht+3],Br=rt[Ht+4],lr=rt[Ht+5],Ur=rt[Ht+6];var ci=at+(Cr=rt[Ht+7]),tr=at-Cr,nt=ir+Ur,Rt=ir-Ur,Bt=ar+lr,Ct=ar-lr,cn=vr+Br,hr=vr-Br,wr=ci+cn,Xt=ci-cn,_r=nt+Bt,Kt=nt-Bt;rt[Ht]=wr+_r,rt[Ht+4]=wr-_r;var Yr=.707106781*(Kt+Xt);rt[Ht+2]=Xt+Yr,rt[Ht+6]=Xt-Yr;var ui=.382683433*((wr=hr+Ct)-(Kt=Rt+tr)),Pi=.5411961*wr+ui,In=1.306562965*Kt+ui,ea=.707106781*(_r=Ct+Rt),Zt=tr+ea,Di=tr-ea;rt[Ht+5]=Di+Pi,rt[Ht+3]=Di-Pi,rt[Ht+1]=Zt+In,rt[Ht+7]=Zt-In,Ht+=8}for(Ht=0,Ot=0;Ot<8;++Ot){at=rt[Ht],ir=rt[Ht+8],ar=rt[Ht+16],vr=rt[Ht+24],Br=rt[Ht+32],lr=rt[Ht+40],Ur=rt[Ht+48];var io=at+(Cr=rt[Ht+56]),Ti=at-Cr,Aa=ir+Ur,zr=ir-Ur,Nn=ar+lr,hn=ar-lr,Nt=vr+Br,xi=vr-Br,pn=io+Nt,Hr=io-Nt,fi=Aa+Nn,da=Aa-Nn;rt[Ht]=pn+fi,rt[Ht+32]=pn-fi;var Sa=.707106781*(da+Hr);rt[Ht+16]=Hr+Sa,rt[Ht+48]=Hr-Sa;var ha=.382683433*((pn=xi+hn)-(da=zr+Ti)),zs=.5411961*pn+ha,qs=1.306562965*da+ha,ta=.707106781*(fi=hn+zr),kn=Ti+ta,Xr=Ti-ta;rt[Ht+40]=Xr+zs,rt[Ht+24]=Xr-zs,rt[Ht+8]=kn+qs,rt[Ht+56]=kn-qs,Ht++}for(Ot=0;Ot<64;++Ot)Tr=rt[Ot]*er[Ot],x[Ot]=Tr>0?Tr+.5|0:Tr-.5|0;return x})(X,de),Je=0;Je<64;++Je)E[V[Je]]=Ge[Je];var qe=E[0]-me;me=E[0],qe==0?fe(Ne[0]):(fe(Ne[b[Re=32767+qe]]),fe(m[Re]));for(var lt=63;lt>0&&E[lt]==0;)lt--;if(lt==0)return fe(ze),me;for(var bt,ve=1;ve<=lt;){for(var wt=ve;E[ve]==0&&ve<=lt;)++ve;var jt=ve-wt;if(jt>=16){bt=jt>>4;for(var _t=1;_t<=bt;++_t)fe(Ce);jt&=15}Re=32767+E[ve],fe(xe[(jt<<4)+b[Re]]),fe(m[Re]),ve++}return lt!=63&&fe(ze),me}function pe(X){X=Math.min(Math.max(X,1),100),a!=X&&((function(de){for(var me=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ne=0;Ne<64;Ne++){var xe=o((me[Ne]*de+50)/100);xe=Math.min(Math.max(xe,1),255),u[V[Ne]]=xe}for(var Re=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ze=0;ze<64;ze++){var Ce=o((Re[ze]*de+50)/100);Ce=Math.min(Math.max(Ce,1),255),d[V[ze]]=Ce}for(var Ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Je=0,qe=0;qe<8;qe++)for(var lt=0;lt<8;lt++)c[Je]=1/(u[V[Je]]*Ge[qe]*Ge[lt]*8),h[Je]=1/(d[V[Je]]*Ge[qe]*Ge[lt]*8),Je++})(X<50?Math.floor(5e3/X):Math.floor(200-2*X)),a=X)}this.encode=function(X,de){de&&pe(de),C=new Array,T=0,I=7,Ie(65496),Ie(65504),Ie(16),we(74),we(70),we(73),we(70),we(0),we(1),we(1),we(0),Ie(1),Ie(1),we(0),we(0),(function(){Ie(65499),Ie(132),we(0);for(var ir=0;ir<64;ir++)we(u[ir]);we(1);for(var ar=0;ar<64;ar++)we(d[ar])})(),(function(ir,ar){Ie(65472),Ie(17),we(8),Ie(ar),Ie(ir),we(3),we(1),we(17),we(0),we(2),we(17),we(1),we(3),we(17),we(1)})(X.width,X.height),(function(){Ie(65476),Ie(418),we(0);for(var ir=0;ir<16;ir++)we(Q[ir+1]);for(var ar=0;ar<=11;ar++)we(q[ar]);we(16);for(var vr=0;vr<16;vr++)we(se[vr+1]);for(var Br=0;Br<=161;Br++)we(G[Br]);we(1);for(var lr=0;lr<16;lr++)we(H[lr+1]);for(var Ur=0;Ur<=11;Ur++)we(le[Ur]);we(17);for(var Cr=0;Cr<16;Cr++)we(J[Cr+1]);for(var Ot=0;Ot<=161;Ot++)we(ie[Ot])})(),Ie(65498),Ie(12),we(3),we(1),we(0),we(2),we(17),we(3),we(17),we(0),we(63),we(0);var me=0,Ne=0,xe=0;T=0,I=7,this.encode.displayName="_encode_";for(var Re,ze,Ce,Ge,Je,qe,lt,bt,ve,wt=X.data,jt=X.width,_t=X.height,rt=4*jt,er=0;er<_t;){for(Re=0;Re<rt;){for(Je=rt*er+Re,lt=-1,bt=0,ve=0;ve<64;ve++)qe=Je+(bt=ve>>3)*rt+(lt=4*(7&ve)),er+bt>=_t&&(qe-=rt*(er+1+bt-_t)),Re+lt>=rt&&(qe-=Re+lt-rt+4),ze=wt[qe++],Ce=wt[qe++],Ge=wt[qe++],B[ve]=(Z[ze]+Z[Ce+256|0]+Z[Ge+512|0]>>16)-128,U[ve]=(Z[ze+768|0]+Z[Ce+1024|0]+Z[Ge+1280|0]>>16)-128,F[ve]=(Z[ze+1280|0]+Z[Ce+1536|0]+Z[Ge+1792|0]>>16)-128;me=Me(B,c,me,t,n),Ne=Me(U,h,Ne,r,i),xe=Me(F,h,xe,r,i),Re+=32}er+=8}if(I>=0){var at=[];at[1]=I+1,at[0]=(1<<I+1)-1,fe(at)}return Ie(65497),new Uint8Array(C)},e=e||50,(function(){for(var X=String.fromCharCode,de=0;de<256;de++)K[de]=X(de)})(),t=ne(Q,q),r=ne(H,le),n=ne(se,G),i=ne(J,ie),(function(){for(var X=1,de=2,me=1;me<=15;me++){for(var Ne=X;Ne<de;Ne++)b[32767+Ne]=me,m[32767+Ne]=[],m[32767+Ne][1]=me,m[32767+Ne][0]=Ne;for(var xe=-(de-1);xe<=-X;xe++)b[32767+xe]=me,m[32767+xe]=[],m[32767+xe][1]=me,m[32767+xe][0]=de-1+xe;X<<=1,de<<=1}})(),(function(){for(var X=0;X<256;X++)Z[X]=19595*X,Z[X+256|0]=38470*X,Z[X+512|0]=7471*X+32768,Z[X+768|0]=-11059*X,Z[X+1024|0]=-21709*X,Z[X+1280|0]=32768*X+8421375,Z[X+1536|0]=-27439*X,Z[X+1792|0]=-5329*X})(),pe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Hl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vM(e){function t(q){if(!q)throw Error("assert :P")}function r(q,se,G){for(var H=0;4>H;H++)if(q[se+H]!=G.charCodeAt(H))return!0;return!1}function n(q,se,G,H,le){for(var J=0;J<le;J++)q[se+J]=G[H+J]}function i(q,se,G,H){for(var le=0;le<H;le++)q[se+le]=G}function a(q){return new Int32Array(q)}function o(q,se){for(var G=[],H=0;H<q;H++)G.push(new se);return G}function u(q,se){var G=[];return(function H(le,J,ie){for(var ne=ie[J],fe=0;fe<ne&&(le.push(ie.length>J+1?[]:new se),!(ie.length<J+1));fe++)H(le[fe],J+1,ie)})(G,0,q),G}var d=function(){var q=this;function se(N,M){for(var z=1<<M-1>>>0;N&z;)z>>>=1;return z?(N&z-1)+z:N}function G(N,M,z,$,ae){t(!($%z));do N[M+($-=z)]=ae;while(0<$)}function H(N,M,z,$,ae){if(t(2328>=ae),512>=ae)var ce=a(512);else if((ce=a(ae))==null)return 0;return(function(ue,ge,ye,Ee,Pe,Ve){var Se,Le,He=ge,st=1<<ye,$e=a(16),it=a(16);for(t(Pe!=0),t(Ee!=null),t(ue!=null),t(0<ye),Le=0;Le<Pe;++Le){if(15<Ee[Le])return 0;++$e[Ee[Le]]}if($e[0]==Pe)return 0;for(it[1]=0,Se=1;15>Se;++Se){if($e[Se]>1<<Se)return 0;it[Se+1]=it[Se]+$e[Se]}for(Le=0;Le<Pe;++Le)Se=Ee[Le],0<Ee[Le]&&(Ve[it[Se]++]=Le);if(it[15]==1)return(Ee=new le).g=0,Ee.value=Ve[0],G(ue,He,1,st,Ee),st;var ht,xt=-1,vt=st-1,Gt=0,It=1,kr=1,Ft=1<<ye;for(Le=0,Se=1,Pe=2;Se<=ye;++Se,Pe<<=1){if(It+=kr<<=1,0>(kr-=$e[Se]))return 0;for(;0<$e[Se];--$e[Se])(Ee=new le).g=Se,Ee.value=Ve[Le++],G(ue,He+Gt,Pe,Ft,Ee),Gt=se(Gt,Se)}for(Se=ye+1,Pe=2;15>=Se;++Se,Pe<<=1){if(It+=kr<<=1,0>(kr-=$e[Se]))return 0;for(;0<$e[Se];--$e[Se]){if(Ee=new le,(Gt&vt)!=xt){for(He+=Ft,ht=1<<(xt=Se)-ye;15>xt&&!(0>=(ht-=$e[xt]));)++xt,ht<<=1;st+=Ft=1<<(ht=xt-ye),ue[ge+(xt=Gt&vt)].g=ht+ye,ue[ge+xt].value=He-ge-xt}Ee.g=Se-ye,Ee.value=Ve[Le++],G(ue,He+(Gt>>ye),Pe,Ft,Ee),Gt=se(Gt,Se)}}return It!=2*it[15]-1?0:st})(N,M,z,$,ae,ce)}function le(){this.value=this.g=0}function J(){this.value=this.g=0}function ie(){this.G=o(5,le),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ia,J)}function ne(N,M,z,$){t(N!=null),t(M!=null),t(2147483648>$),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=M,N.pa=z,N.Jd=M,N.Yc=z+$,N.Zc=4<=$?z+$-4+1:z,ze(N)}function fe(N,M){for(var z=0;0<M--;)z|=Ge(N,128)<<M;return z}function we(N,M){var z=fe(N,M);return Ce(N)?-z:z}function Ie(N,M,z,$){var ae,ce=0;for(t(N!=null),t(M!=null),t(4294967288>$),N.Sb=$,N.Ra=0,N.u=0,N.h=0,4<$&&($=4),ae=0;ae<$;++ae)ce+=M[z+ae]<<8*ae;N.Ra=ce,N.bb=$,N.oa=M,N.pa=z}function Me(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<Xa-8>>>0,++N.bb,N.u-=8;Ne(N)&&(N.h=1,N.u=0)}function pe(N,M){if(t(0<=M),!N.h&&M<=aa){var z=me(N)&Ya[M];return N.u+=M,Me(N),z}return N.h=1,N.u=0}function X(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function de(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function me(N){return N.Ra>>>(N.u&Xa-1)>>>0}function Ne(N){return t(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>Xa}function xe(N,M){N.u=M,N.h=Ne(N)}function Re(N){N.u>=jr&&(t(N.u>=jr),Me(N))}function ze(N){t(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(t(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function Ce(N){return fe(N,1)}function Ge(N,M){var z=N.Ca;0>N.b&&ze(N);var $=N.b,ae=z*M>>>8,ce=(N.I>>>$>ae)+0;for(ce?(z-=ae,N.I-=ae+1<<$>>>0):z=ae+1,$=z,ae=0;256<=$;)ae+=8,$>>=8;return $=7^ae+Is[$],N.b-=$,N.Ca=(z<<$)-1,ce}function Je(N,M,z){N[M+0]=z>>24&255,N[M+1]=z>>16&255,N[M+2]=z>>8&255,N[M+3]=255&z}function qe(N,M){return N[M+0]|N[M+1]<<8}function lt(N,M){return qe(N,M)|N[M+2]<<16}function bt(N,M){return qe(N,M)|qe(N,M+2)<<16}function ve(N,M){var z=1<<M;return t(N!=null),t(0<M),N.X=a(z),N.X==null?0:(N.Mb=32-M,N.Xa=M,1)}function wt(N,M){t(N!=null),t(M!=null),t(N.Xa==M.Xa),n(M.X,0,N.X,0,1<<M.Xa)}function jt(){this.X=[],this.Xa=this.Mb=0}function _t(N,M,z,$){t(z!=null),t($!=null);var ae=z[0],ce=$[0];return ae==0&&(ae=(N*ce+M/2)/M),ce==0&&(ce=(M*ae+N/2)/N),0>=ae||0>=ce?0:(z[0]=ae,$[0]=ce,1)}function rt(N,M){return N+(1<<M)-1>>>M}function er(N,M){return((4278255360&N)+(4278255360&M)>>>0&4278255360)+((16711935&N)+(16711935&M)>>>0&16711935)>>>0}function at(N,M){q[M]=function(z,$,ae,ce,ue,ge,ye){var Ee;for(Ee=0;Ee<ue;++Ee){var Pe=q[N](ge[ye+Ee-1],ae,ce+Ee);ge[ye+Ee]=er(z[$+Ee],Pe)}}}function ir(){this.ud=this.hd=this.jd=0}function ar(N,M){return((4278124286&(N^M))>>>1)+(N&M)>>>0}function vr(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function Br(N,M){return vr(N+(N-M+.5>>1))}function lr(N,M,z){return Math.abs(M-z)-Math.abs(N-z)}function Ur(N,M,z,$,ae,ce,ue){for($=ce[ue-1],z=0;z<ae;++z)ce[ue+z]=$=er(N[M+z],$)}function Cr(N,M,z,$,ae){var ce;for(ce=0;ce<z;++ce){var ue=N[M+ce],ge=ue>>8&255,ye=16711935&(ye=(ye=16711935&ue)+((ge<<16)+ge));$[ae+ce]=(4278255360&ue)+ye>>>0}}function Ot(N,M){M.jd=255&N,M.hd=N>>8&255,M.ud=N>>16&255}function Tr(N,M,z,$,ae,ce){var ue;for(ue=0;ue<$;++ue){var ge=M[z+ue],ye=ge>>>8,Ee=ge,Pe=255&(Pe=(Pe=ge>>>16)+((N.jd<<24>>24)*(ye<<24>>24)>>>5));Ee=255&(Ee=(Ee+=(N.hd<<24>>24)*(ye<<24>>24)>>>5)+((N.ud<<24>>24)*(Pe<<24>>24)>>>5)),ae[ce+ue]=(4278255360&ge)+(Pe<<16)+Ee}}function Ht(N,M,z,$,ae){q[M]=function(ce,ue,ge,ye,Ee,Pe,Ve,Se,Le){for(ye=Ve;ye<Se;++ye)for(Ve=0;Ve<Le;++Ve)Ee[Pe++]=ae(ge[$(ce[ue++])])},q[N]=function(ce,ue,ge,ye,Ee,Pe,Ve){var Se=8>>ce.b,Le=ce.Ea,He=ce.K[0],st=ce.w;if(8>Se)for(ce=(1<<ce.b)-1,st=(1<<Se)-1;ue<ge;++ue){var $e,it=0;for($e=0;$e<Le;++$e)$e&ce||(it=$(ye[Ee++])),Pe[Ve++]=ae(He[it&st]),it>>=Se}else q["VP8LMapColor"+z](ye,Ee,He,st,Pe,Ve,ue,ge,Le)}}function ci(N,M,z,$,ae){for(z=M+z;M<z;){var ce=N[M++];$[ae++]=ce>>16&255,$[ae++]=ce>>8&255,$[ae++]=255&ce}}function tr(N,M,z,$,ae){for(z=M+z;M<z;){var ce=N[M++];$[ae++]=ce>>16&255,$[ae++]=ce>>8&255,$[ae++]=255&ce,$[ae++]=ce>>24&255}}function nt(N,M,z,$,ae){for(z=M+z;M<z;){var ce=(ue=N[M++])>>16&240|ue>>12&15,ue=240&ue|ue>>28&15;$[ae++]=ce,$[ae++]=ue}}function Rt(N,M,z,$,ae){for(z=M+z;M<z;){var ce=(ue=N[M++])>>16&248|ue>>13&7,ue=ue>>5&224|ue>>3&31;$[ae++]=ce,$[ae++]=ue}}function Bt(N,M,z,$,ae){for(z=M+z;M<z;){var ce=N[M++];$[ae++]=255&ce,$[ae++]=ce>>8&255,$[ae++]=ce>>16&255}}function Ct(N,M,z,$,ae,ce){if(ce==0)for(z=M+z;M<z;)Je($,((ce=N[M++])[0]>>24|ce[1]>>8&65280|ce[2]<<8&16711680|ce[3]<<24)>>>0),ae+=32;else n($,ae,N,M,z)}function cn(N,M){q[M][0]=q[N+"0"],q[M][1]=q[N+"1"],q[M][2]=q[N+"2"],q[M][3]=q[N+"3"],q[M][4]=q[N+"4"],q[M][5]=q[N+"5"],q[M][6]=q[N+"6"],q[M][7]=q[N+"7"],q[M][8]=q[N+"8"],q[M][9]=q[N+"9"],q[M][10]=q[N+"10"],q[M][11]=q[N+"11"],q[M][12]=q[N+"12"],q[M][13]=q[N+"13"],q[M][14]=q[N+"0"],q[M][15]=q[N+"0"]}function hr(N){return N==Vf||N==Kd||N==$u||N==Zd}function wr(){this.eb=[],this.size=this.A=this.fb=0}function Xt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function _r(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new wr,this.f.kb=new Xt,this.sd=null}function Kt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Yr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ui(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function Pi(N,M){var z=N.T,$=M.ba.f.RGBA,ae=$.eb,ce=$.fb+N.ka*$.A,ue=Ia[M.ba.S],ge=N.y,ye=N.O,Ee=N.f,Pe=N.N,Ve=N.ea,Se=N.W,Le=M.cc,He=M.dc,st=M.Mc,$e=M.Nc,it=N.ka,ht=N.ka+N.T,xt=N.U,vt=xt+1>>1;for(it==0?ue(ge,ye,null,null,Ee,Pe,Ve,Se,Ee,Pe,Ve,Se,ae,ce,null,null,xt):(ue(M.ec,M.fc,ge,ye,Le,He,st,$e,Ee,Pe,Ve,Se,ae,ce-$.A,ae,ce,xt),++z);it+2<ht;it+=2)Le=Ee,He=Pe,st=Ve,$e=Se,Pe+=N.Rc,Se+=N.Rc,ce+=2*$.A,ue(ge,(ye+=2*N.fa)-N.fa,ge,ye,Le,He,st,$e,Ee,Pe,Ve,Se,ae,ce-$.A,ae,ce,xt);return ye+=N.fa,N.j+ht<N.o?(n(M.ec,M.fc,ge,ye,xt),n(M.cc,M.dc,Ee,Pe,vt),n(M.Mc,M.Nc,Ve,Se,vt),z--):1&ht||ue(ge,ye,null,null,Ee,Pe,Ve,Se,Ee,Pe,Ve,Se,ae,ce+$.A,null,null,xt),z}function In(N,M,z){var $=N.F,ae=[N.J];if($!=null){var ce=N.U,ue=M.ba.S,ge=ue==$f||ue==$u;M=M.ba.f.RGBA;var ye=[0],Ee=N.ka;ye[0]=N.T,N.Kb&&(Ee==0?--ye[0]:(--Ee,ae[0]-=N.width),N.j+N.ka+N.T==N.o&&(ye[0]=N.o-N.j-Ee));var Pe=M.eb;Ee=M.fb+Ee*M.A,N=qf($,ae[0],N.width,ce,ye,Pe,Ee+(ge?0:3),M.A),t(z==ye),N&&hr(ue)&&jl(Pe,Ee,ge,ce,ye,M.A)}return 0}function ea(N){var M=N.ma,z=M.ba.S,$=11>z,ae=z==Qa||z==go||z==$f||z==Wu||z==12||hr(z);if(M.memory=null,M.Ib=null,M.Jb=null,M.Nd=null,!Ks(M.Oa,N,ae?11:12))return 0;if(ae&&hr(z)&&Il(),N.da)alert("todo:use_scaling");else{if($){if(M.Ib=ui,N.Kb){if(z=N.U+1>>1,M.memory=a(N.U+2*z),M.memory==null)return 0;M.ec=M.memory,M.fc=0,M.cc=M.ec,M.dc=M.fc+N.U,M.Mc=M.cc,M.Nc=M.dc+z,M.Ib=Pi,Il()}}else alert("todo:EmitYUV");ae&&(M.Jb=In,$&&Ys())}if($&&!mc){for(N=0;256>N;++N)ka[N]=89858*(N-128)+Xu>>wo,Wy[N]=-22014*(N-128)+Xu,tg[N]=-45773*(N-128),rh[N]=113618*(N-128)+Xu>>wo;for(N=Zc;N<gc;++N)M=76283*(N-16)+Xu>>wo,$y[N-Zc]=Ea(M,255),Vy[N-Zc]=Ea(M+8>>4,15);mc=1}return 1}function Zt(N){var M=N.ma,z=N.U,$=N.T;return t(!(1&N.ka)),0>=z||0>=$?0:(z=M.Ib(N,M),M.Jb!=null&&M.Jb(N,M,z),M.Dc+=z,1)}function Di(N){N.ma.memory=null}function io(N,M,z,$){return pe(N,8)!=47?0:(M[0]=pe(N,14)+1,z[0]=pe(N,14)+1,$[0]=pe(N,1),pe(N,3)!=0?0:!N.h)}function Ti(N,M){if(4>N)return N+1;var z=N-2>>1;return(2+(1&N)<<z)+pe(M,z)+1}function Aa(N,M){return 120<M?M-120:1<=(z=((z=vo[M-1])>>4)*N+(8-(15&z)))?z:1;var z}function zr(N,M,z){var $=me(z),ae=N[M+=255&$].g-8;return 0<ae&&(xe(z,z.u+8),$=me(z),M+=N[M].value,M+=$&(1<<ae)-1),xe(z,z.u+N[M].g),N[M].value}function Nn(N,M,z){return z.g+=N.g,z.value+=N.value<<M>>>0,t(8>=z.g),N.g}function hn(N,M,z){var $=N.xc;return t((M=$==0?0:N.vc[N.md*(z>>$)+(M>>$)])<N.Wb),N.Ya[M]}function Nt(N,M,z,$){var ae=N.ab,ce=N.c*M,ue=N.C;M=ue+M;var ge=z,ye=$;for($=N.Ta,z=N.Ua;0<ae--;){var Ee=N.gc[ae],Pe=ue,Ve=M,Se=ge,Le=ye,He=(ye=$,ge=z,Ee.Ea);switch(t(Pe<Ve),t(Ve<=Ee.nc),Ee.hc){case 2:p(Se,Le,(Ve-Pe)*He,ye,ge);break;case 0:var st=Pe,$e=Ve,it=ye,ht=ge,xt=(Ft=Ee).Ea;st==0&&(ee(Se,Le,null,null,1,it,ht),Ur(Se,Le+1,0,0,xt-1,it,ht+1),Le+=xt,ht+=xt,++st);for(var vt=1<<Ft.b,Gt=vt-1,It=rt(xt,Ft.b),kr=Ft.K,Ft=Ft.w+(st>>Ft.b)*It;st<$e;){var Zr=kr,Qn=Ft,Rr=1;for(l(Se,Le,it,ht-xt,1,it,ht);Rr<xt;){var kt=(Rr&~Gt)+vt;kt>xt&&(kt=xt),(0,O[Zr[Qn++]>>8&15])(Se,Le+ +Rr,it,ht+Rr-xt,kt-Rr,it,ht+Rr),Rr=kt}Le+=xt,ht+=xt,++st&Gt||(Ft+=It)}Ve!=Ee.nc&&n(ye,ge-He,ye,ge+(Ve-Pe-1)*He,He);break;case 1:for(He=Se,$e=Le,xt=(Se=Ee.Ea)-(ht=Se&~(it=(Le=1<<Ee.b)-1)),st=rt(Se,Ee.b),vt=Ee.K,Ee=Ee.w+(Pe>>Ee.b)*st;Pe<Ve;){for(Gt=vt,It=Ee,kr=new ir,Ft=$e+ht,Zr=$e+Se;$e<Ft;)Ot(Gt[It++],kr),j(kr,He,$e,Le,ye,ge),$e+=Le,ge+=Le;$e<Zr&&(Ot(Gt[It++],kr),j(kr,He,$e,xt,ye,ge),$e+=xt,ge+=xt),++Pe&it||(Ee+=st)}break;case 3:if(Se==ye&&Le==ge&&0<Ee.b){for($e=ye,Se=He=ge+(Ve-Pe)*He-(ht=(Ve-Pe)*rt(Ee.Ea,Ee.b)),Le=ye,it=ge,st=[],ht=(xt=ht)-1;0<=ht;--ht)st[ht]=Le[it+ht];for(ht=xt-1;0<=ht;--ht)$e[Se+ht]=st[ht];g(Ee,Pe,Ve,ye,He,ye,ge)}else g(Ee,Pe,Ve,Se,Le,ye,ge)}ge=$,ye=z}ye!=z&&n($,z,ge,ye,ce)}function xi(N,M){var z=N.V,$=N.Ba+N.c*N.C,ae=M-N.C;if(t(M<=N.l.o),t(16>=ae),0<ae){var ce=N.l,ue=N.Ta,ge=N.Ua,ye=ce.width;if(Nt(N,ae,z,$),ae=ge=[ge],t((z=N.C)<($=M)),t(ce.v<ce.va),$>ce.o&&($=ce.o),z<ce.j){var Ee=ce.j-z;z=ce.j,ae[0]+=Ee*ye}if(z>=$?z=0:(ae[0]+=4*ce.v,ce.ka=z-ce.j,ce.U=ce.va-ce.v,ce.T=$-z,z=1),z){if(ge=ge[0],11>(z=N.ca).S){var Pe=z.f.RGBA,Ve=($=z.S,ae=ce.U,ce=ce.T,Ee=Pe.eb,Pe.A),Se=ce;for(Pe=Pe.fb+N.Ma*Pe.A;0<Se--;){var Le=ue,He=ge,st=ae,$e=Ee,it=Pe;switch($){case Yd:L(Le,He,st,$e,it);break;case Qa:W(Le,He,st,$e,it);break;case Vf:W(Le,He,st,$e,it),jl($e,it,0,st,1,0);break;case Xd:_e(Le,He,st,$e,it);break;case go:Ct(Le,He,st,$e,it,1);break;case Kd:Ct(Le,He,st,$e,it,1),jl($e,it,0,st,1,0);break;case $f:Ct(Le,He,st,$e,it,0);break;case $u:Ct(Le,He,st,$e,it,0),jl($e,it,1,st,1,0);break;case Wu:te(Le,He,st,$e,it);break;case Zd:te(Le,He,st,$e,it),po($e,it,st,1,0);break;case uc:oe(Le,He,st,$e,it);break;default:t(0)}ge+=ye,Pe+=Ve}N.Ma+=ce}else alert("todo:EmitRescaledRowsYUVA");t(N.Ma<=z.height)}}N.C=M,t(N.C<=N.i)}function pn(N){var M;if(0<N.ua)return 0;for(M=0;M<N.Wb;++M){var z=N.Ya[M].G,$=N.Ya[M].H;if(0<z[1][$[1]+0].g||0<z[2][$[2]+0].g||0<z[3][$[3]+0].g)return 0}return 1}function Hr(N,M,z,$,ae,ce){if(N.Z!=0){var ue=N.qd,ge=N.rd;for(t(Pl[N.Z]!=null);M<z;++M)Pl[N.Z](ue,ge,$,ae,$,ae,ce),ue=$,ge=ae,ae+=ce;N.qd=ue,N.rd=ge}}function fi(N,M){var z=N.l.ma,$=z.Z==0||z.Z==1?N.l.j:N.C;if($=N.C<$?$:N.C,t(M<=N.l.o),M>$){var ae=N.l.width,ce=z.ca,ue=z.tb+ae*$,ge=N.V,ye=N.Ba+N.c*$,Ee=N.gc;t(N.ab==1),t(Ee[0].hc==3),w(Ee[0],$,M,ge,ye,ce,ue),Hr(z,$,M,ce,ue,ae)}N.C=N.Ma=M}function da(N,M,z,$,ae,ce,ue){var ge=N.$/$,ye=N.$%$,Ee=N.m,Pe=N.s,Ve=z+N.$,Se=Ve;ae=z+$*ae;var Le=z+$*ce,He=280+Pe.ua,st=N.Pb?ge:16777216,$e=0<Pe.ua?Pe.Wa:null,it=Pe.wc,ht=Ve<Le?hn(Pe,ye,ge):null;t(N.C<ce),t(Le<=ae);var xt=!1;e:for(;;){for(;xt||Ve<Le;){var vt=0;if(ge>=st){var Gt=Ve-z;t((st=N).Pb),st.wd=st.m,st.xd=Gt,0<st.s.ua&&wt(st.s.Wa,st.s.vb),st=ge+fc}if(ye&it||(ht=hn(Pe,ye,ge)),t(ht!=null),ht.Qb&&(M[Ve]=ht.qb,xt=!0),!xt)if(Re(Ee),ht.jc){vt=Ee,Gt=M;var It=Ve,kr=ht.pd[me(vt)&ia-1];t(ht.jc),256>kr.g?(xe(vt,vt.u+kr.g),Gt[It]=kr.value,vt=0):(xe(vt,vt.u+kr.g-256),t(256<=kr.value),vt=kr.value),vt==0&&(xt=!0)}else vt=zr(ht.G[0],ht.H[0],Ee);if(Ee.h)break;if(xt||256>vt){if(!xt)if(ht.nd)M[Ve]=(ht.qb|vt<<8)>>>0;else{if(Re(Ee),xt=zr(ht.G[1],ht.H[1],Ee),Re(Ee),Gt=zr(ht.G[2],ht.H[2],Ee),It=zr(ht.G[3],ht.H[3],Ee),Ee.h)break;M[Ve]=(It<<24|xt<<16|vt<<8|Gt)>>>0}if(xt=!1,++Ve,++ye>=$&&(ye=0,++ge,ue!=null&&ge<=ce&&!(ge%16)&&ue(N,ge),$e!=null))for(;Se<Ve;)vt=M[Se++],$e.X[(506832829*vt&4294967295)>>>$e.Mb]=vt}else if(280>vt){if(vt=Ti(vt-256,Ee),Gt=zr(ht.G[4],ht.H[4],Ee),Re(Ee),Gt=Aa($,Gt=Ti(Gt,Ee)),Ee.h)break;if(Ve-z<Gt||ae-Ve<vt)break e;for(It=0;It<vt;++It)M[Ve+It]=M[Ve+It-Gt];for(Ve+=vt,ye+=vt;ye>=$;)ye-=$,++ge,ue!=null&&ge<=ce&&!(ge%16)&&ue(N,ge);if(t(Ve<=ae),ye&it&&(ht=hn(Pe,ye,ge)),$e!=null)for(;Se<Ve;)vt=M[Se++],$e.X[(506832829*vt&4294967295)>>>$e.Mb]=vt}else{if(!(vt<He))break e;for(xt=vt-280,t($e!=null);Se<Ve;)vt=M[Se++],$e.X[(506832829*vt&4294967295)>>>$e.Mb]=vt;vt=Ve,t(!(xt>>>(Gt=$e).Xa)),M[vt]=Gt.X[xt],xt=!0}xt||t(Ee.h==Ne(Ee))}if(N.Pb&&Ee.h&&Ve<ae)t(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&wt(N.s.vb,N.s.Wa);else{if(Ee.h)break e;ue!=null&&ue(N,ge>ce?ce:ge),N.a=0,N.$=Ve-z}return 1}return N.a=3,0}function Sa(N){t(N!=null),N.vc=null,N.yc=null,N.Ya=null;var M=N.Wa;M!=null&&(M.X=null),N.vb=null,t(N!=null)}function ha(){var N=new yr;return N==null?null:(N.a=0,N.xb=D0,cn("Predictor","VP8LPredictors"),cn("Predictor","VP8LPredictors_C"),cn("PredictorAdd","VP8LPredictorsAdd"),cn("PredictorAdd","VP8LPredictorsAdd_C"),p=Cr,j=Tr,L=ci,W=tr,te=nt,oe=Rt,_e=Bt,q.VP8LMapColor32b=y,q.VP8LMapColor8b=A,N)}function zs(N,M,z,$,ae){var ce=1,ue=[N],ge=[M],ye=$.m,Ee=$.s,Pe=null,Ve=0;e:for(;;){if(z)for(;ce&&pe(ye,1);){var Se=ue,Le=ge,He=$,st=1,$e=He.m,it=He.gc[He.ab],ht=pe($e,2);if(He.Oc&1<<ht)ce=0;else{switch(He.Oc|=1<<ht,it.hc=ht,it.Ea=Se[0],it.nc=Le[0],it.K=[null],++He.ab,t(4>=He.ab),ht){case 0:case 1:it.b=pe($e,3)+2,st=zs(rt(it.Ea,it.b),rt(it.nc,it.b),0,He,it.K),it.K=it.K[0];break;case 3:var xt,vt=pe($e,8)+1,Gt=16<vt?0:4<vt?1:2<vt?2:3;if(Se[0]=rt(it.Ea,Gt),it.b=Gt,xt=st=zs(vt,1,0,He,it.K)){var It,kr=vt,Ft=it,Zr=1<<(8>>Ft.b),Qn=a(Zr);if(Qn==null)xt=0;else{var Rr=Ft.K[0],kt=Ft.w;for(Qn[0]=Ft.K[0][0],It=1;It<1*kr;++It)Qn[It]=er(Rr[kt+It],Qn[It-1]);for(;It<4*Zr;++It)Qn[It]=0;Ft.K[0]=null,Ft.K[0]=Qn,xt=1}}st=xt;break;case 2:break;default:t(0)}ce=st}}if(ue=ue[0],ge=ge[0],ce&&pe(ye,1)&&!(ce=1<=(Ve=pe(ye,4))&&11>=Ve)){$.a=3;break e}var At;if(At=ce)t:{var hi,xr,Lr,An=$,oa=ue,Ma=ge,Hn=Ve,Ui=z,Ja=An.m,zi=An.s,Wr=[null],un=1,pi=0,vn=yo[Hn];r:for(;;){if(Ui&&pe(Ja,1)){var la=pe(Ja,3)+2,gi=rt(oa,la),fn=rt(Ma,la),Mi=gi*fn;if(!zs(gi,fn,0,An,Wr))break r;for(Wr=Wr[0],zi.xc=la,hi=0;hi<Mi;++hi){var Sn=Wr[hi]>>8&65535;Wr[hi]=Sn,Sn>=un&&(un=Sn+1)}}if(Ja.h)break r;for(xr=0;5>xr;++xr){var qi=Xc[xr];!xr&&0<Hn&&(qi+=1<<Hn),pi<qi&&(pi=qi)}var Hi=o(un*vn,le),Rn=un,on=o(Rn,ie);if(on==null)var es=null;else t(65536>=Rn),es=on;var _i=a(pi);if(es==null||_i==null||Hi==null){An.a=1;break r}var dr=Hi;for(hi=Lr=0;hi<un;++hi){var gr=es[hi],dn=gr.G,ks=gr.H,_o=0,gs=1,Gi=0;for(xr=0;5>xr;++xr){qi=Xc[xr],dn[xr]=dr,ks[xr]=Lr,!xr&&0<Hn&&(qi+=1<<Hn);i:{var vc,yc=qi,ih=An,Gn=_i,B0=dr,F0=Lr,ah=0,Dl=ih.m,Yy=pe(Dl,1);if(i(Gn,0,0,yc),Yy){var U0=pe(Dl,1)+1,z0=pe(Dl,1),sh=pe(Dl,z0==0?1:8);Gn[sh]=1,U0==2&&(Gn[sh=pe(Dl,8)]=1);var va=1}else{var Ai=a(19),Zf=pe(Dl,4)+4;if(19<Zf){ih.a=3;var bc=0;break i}for(vc=0;vc<Zf;++vc)Ai[Yf[vc]]=pe(Dl,3);var Zu=void 0,Qc=void 0,fl=ih,oh=Ai,Qu=yc,lh=Gn,ch=0,Ll=fl.m,q0=8,H0=o(128,le);n:for(;H(H0,0,7,oh,19);){if(pe(Ll,1)){var rg=2+2*pe(Ll,3);if((Zu=2+pe(Ll,rg))>Qu)break n}else Zu=Qu;for(Qc=0;Qc<Qu&&Zu--;){Re(Ll);var G0=H0[0+(127&me(Ll))];xe(Ll,Ll.u+G0.g);var xc=G0.value;if(16>xc)lh[Qc++]=xc,xc!=0&&(q0=xc);else{var ng=xc==16,ig=xc-16,ag=Vu[ig],W0=pe(Ll,mo[ig])+ag;if(Qc+W0>Qu)break n;for(var sg=ng?q0:0;0<W0--;)lh[Qc++]=sg}}ch=1;break n}ch||(fl.a=3),va=ch}(va=va&&!Dl.h)&&(ah=H(B0,F0,8,Gn,yc)),va&&ah!=0?bc=ah:(ih.a=3,bc=0)}if(bc==0)break r;if(gs&&Qd[xr]==1&&(gs=dr[Lr].g==0),_o+=dr[Lr].g,Lr+=bc,3>=xr){var Jc,uh=_i[0];for(Jc=1;Jc<qi;++Jc)_i[Jc]>uh&&(uh=_i[Jc]);Gi+=uh}}if(gr.nd=gs,gr.Qb=0,gs&&(gr.qb=(dn[3][ks[3]+0].value<<24|dn[1][ks[1]+0].value<<16|dn[2][ks[2]+0].value)>>>0,_o==0&&256>dn[0][ks[0]+0].value&&(gr.Qb=1,gr.qb+=dn[0][ks[0]+0].value<<8)),gr.jc=!gr.Qb&&6>Gi,gr.jc){var Qf,dl=gr;for(Qf=0;Qf<ia;++Qf){var Bl=Qf,Fl=dl.pd[Bl],fh=dl.G[0][dl.H[0]+Bl];256<=fh.value?(Fl.g=fh.g+256,Fl.value=fh.value):(Fl.g=0,Fl.value=0,Bl>>=Nn(fh,8,Fl),Bl>>=Nn(dl.G[1][dl.H[1]+Bl],16,Fl),Bl>>=Nn(dl.G[2][dl.H[2]+Bl],0,Fl),Nn(dl.G[3][dl.H[3]+Bl],24,Fl))}}}zi.vc=Wr,zi.Wb=un,zi.Ya=es,zi.yc=Hi,At=1;break t}At=0}if(!(ce=At)){$.a=3;break e}if(0<Ve){if(Ee.ua=1<<Ve,!ve(Ee.Wa,Ve)){$.a=1,ce=0;break e}}else Ee.ua=0;var dh=$,eu=ue,og=ge,Ju=dh.s,ef=Ju.xc;if(dh.c=eu,dh.i=og,Ju.md=rt(eu,ef),Ju.wc=ef==0?-1:(1<<ef)-1,z){$.xb=dc;break e}if((Pe=a(ue*ge))==null){$.a=1,ce=0;break e}ce=(ce=da($,Pe,0,ue,ge,ge,null))&&!ye.h;break e}return ce?(ae!=null?ae[0]=Pe:(t(Pe==null),t(z)),$.$=0,z||Sa(Ee)):Sa(Ee),ce}function qs(N,M){var z=N.c*N.i,$=z+M+16*M;return t(N.c<=M),N.V=a($),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+z+M,1)}function ta(N,M){var z=N.C,$=M-z,ae=N.V,ce=N.Ba+N.c*z;for(t(M<=N.l.o);0<$;){var ue=16<$?16:$,ge=N.l.ma,ye=N.l.width,Ee=ye*ue,Pe=ge.ca,Ve=ge.tb+ye*z,Se=N.Ta,Le=N.Ua;Nt(N,ue,ae,ce),Zs(Se,Le,Pe,Ve,Ee),Hr(ge,z,z+ue,Pe,Ve,ye),$-=ue,ae+=ue*N.c,z+=ue}t(z==M),N.C=N.Ma=M}function kn(){this.ub=this.yd=this.td=this.Rb=0}function Xr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function il(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function ra(){this.Yb=(function(){var N=[];return(function M(z,$,ae){for(var ce=ae[$],ue=0;ue<ce&&(z.push(ae.length>$+1?[]:0),!(ae.length<$+1));ue++)M(z[ue],$+1,ae)})(N,0,[3,11]),N})()}function Yn(){this.jb=a(3),this.Wc=u([4,8],ra),this.Xc=u([4,17],ra)}function mt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function fs(){this.ld=this.La=this.dd=this.tc=0}function rn(){this.Na=this.la=0}function Ha(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Wc(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Kr(){this.uc=this.M=this.Nb=0,this.wa=Array(new fs),this.Y=0,this.ya=Array(new Wc),this.aa=0,this.l=new Hs}function $r(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Fr(){this.cb=this.a=0,this.sc="",this.m=new X,this.Od=new kn,this.Kc=new Xr,this.ed=new mt,this.Qa=new il,this.Ic=this.$c=this.Aa=0,this.D=new Kr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,X),this.ia=0,this.pb=o(4,Ha),this.Pa=new Yn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new $r),this.Hd=0,this.rb=Array(new rn),this.sb=0,this.wa=Array(new fs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Wc),this.L=this.aa=0,this.gd=u([4,2],fs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ea(N,M){return 0>N?0:N>M?M:N}function Hs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ds(){var N=new Fr;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,Qs||(Qs=yn)),N}function br(N,M,z){return N.a==0&&(N.a=M,N.sc=z,N.cb=0),0}function As(N,M,z){return 3<=z&&N[M+0]==157&&N[M+1]==1&&N[M+2]==42}function ao(N,M){if(N==null)return 0;if(N.a=0,N.sc="OK",M==null)return br(N,2,"null VP8Io passed to VP8GetHeaders()");var z=M.data,$=M.w,ae=M.ha;if(4>ae)return br(N,7,"Truncated header.");var ce=z[$+0]|z[$+1]<<8|z[$+2]<<16,ue=N.Od;if(ue.Rb=!(1&ce),ue.td=ce>>1&7,ue.yd=ce>>4&1,ue.ub=ce>>5,3<ue.td)return br(N,3,"Incorrect keyframe parameters.");if(!ue.yd)return br(N,4,"Frame not displayable.");$+=3,ae-=3;var ge=N.Kc;if(ue.Rb){if(7>ae)return br(N,7,"cannot parse picture header");if(!As(z,$,ae))return br(N,3,"Bad code word");ge.c=16383&(z[$+4]<<8|z[$+3]),ge.Td=z[$+4]>>6,ge.i=16383&(z[$+6]<<8|z[$+5]),ge.Ud=z[$+6]>>6,$+=7,ae-=7,N.za=ge.c+15>>4,N.Ub=ge.i+15>>4,M.width=ge.c,M.height=ge.i,M.Da=0,M.j=0,M.v=0,M.va=M.width,M.o=M.height,M.da=0,M.ib=M.width,M.hb=M.height,M.U=M.width,M.T=M.height,i((ce=N.Pa).jb,0,255,ce.jb.length),t((ce=N.Qa)!=null),ce.Cb=0,ce.Bb=0,ce.Fb=1,i(ce.Zb,0,0,ce.Zb.length),i(ce.Lb,0,0,ce.Lb)}if(ue.ub>ae)return br(N,7,"bad partition length");ne(ce=N.m,z,$,ue.ub),$+=ue.ub,ae-=ue.ub,ue.Rb&&(ge.Ld=Ce(ce),ge.Kd=Ce(ce)),ge=N.Qa;var ye,Ee=N.Pa;if(t(ce!=null),t(ge!=null),ge.Cb=Ce(ce),ge.Cb){if(ge.Bb=Ce(ce),Ce(ce)){for(ge.Fb=Ce(ce),ye=0;4>ye;++ye)ge.Zb[ye]=Ce(ce)?we(ce,7):0;for(ye=0;4>ye;++ye)ge.Lb[ye]=Ce(ce)?we(ce,6):0}if(ge.Bb)for(ye=0;3>ye;++ye)Ee.jb[ye]=Ce(ce)?fe(ce,8):255}else ge.Bb=0;if(ce.Ka)return br(N,3,"cannot parse segment header");if((ge=N.ed).zd=Ce(ce),ge.Tb=fe(ce,6),ge.wb=fe(ce,3),ge.Pc=Ce(ce),ge.Pc&&Ce(ce)){for(Ee=0;4>Ee;++Ee)Ce(ce)&&(ge.vd[Ee]=we(ce,6));for(Ee=0;4>Ee;++Ee)Ce(ce)&&(ge.od[Ee]=we(ce,6))}if(N.L=ge.Tb==0?0:ge.zd?1:2,ce.Ka)return br(N,3,"cannot parse filter header");var Pe=ae;if(ae=ye=$,$=ye+Pe,ge=Pe,N.Xb=(1<<fe(N.m,2))-1,Pe<3*(Ee=N.Xb))z=7;else{for(ye+=3*Ee,ge-=3*Ee,Pe=0;Pe<Ee;++Pe){var Ve=z[ae+0]|z[ae+1]<<8|z[ae+2]<<16;Ve>ge&&(Ve=ge),ne(N.Jc[+Pe],z,ye,Ve),ye+=Ve,ge-=Ve,ae+=3}ne(N.Jc[+Ee],z,ye,ge),z=ye<$?0:5}if(z!=0)return br(N,z,"cannot parse partitions");for(z=fe(ye=N.m,7),ae=Ce(ye)?we(ye,4):0,$=Ce(ye)?we(ye,4):0,ge=Ce(ye)?we(ye,4):0,Ee=Ce(ye)?we(ye,4):0,ye=Ce(ye)?we(ye,4):0,Pe=N.Qa,Ve=0;4>Ve;++Ve){if(Pe.Cb){var Se=Pe.Zb[Ve];Pe.Fb||(Se+=z)}else{if(0<Ve){N.pb[Ve]=N.pb[0];continue}Se=z}var Le=N.pb[Ve];Le.Sc[0]=bo[Ea(Se+ae,127)],Le.Sc[1]=xo[Ea(Se+0,127)],Le.Eb[0]=2*bo[Ea(Se+$,127)],Le.Eb[1]=101581*xo[Ea(Se+ge,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=bo[Ea(Se+Ee,117)],Le.Qc[1]=xo[Ea(Se+ye,127)],Le.lc=Se+ye}if(!ue.Rb)return br(N,4,"Not a key frame.");for(Ce(ce),ue=N.Pa,z=0;4>z;++z){for(ae=0;8>ae;++ae)for($=0;3>$;++$)for(ge=0;11>ge;++ge)Ee=Ge(ce,Zn[z][ae][$][ge])?fe(ce,8):eg[z][ae][$][ge],ue.Wc[z][ae].Yb[$][ge]=Ee;for(ae=0;17>ae;++ae)ue.Xc[z][ae]=ue.Wc[z][Jr[ae]]}return N.kc=Ce(ce),N.kc&&(N.Bd=fe(ce,8)),N.cb=1}function yn(N,M,z,$,ae,ce,ue){var ge=M[ae].Yb[z];for(z=0;16>ae;++ae){if(!Ge(N,ge[z+0]))return ae;for(;!Ge(N,ge[z+1]);)if(ge=M[++ae].Yb[0],z=0,ae==16)return 16;var ye=M[ae+1].Yb;if(Ge(N,ge[z+2])){var Ee=N,Pe=0;if(Ge(Ee,(Se=ge)[(Ve=z)+3]))if(Ge(Ee,Se[Ve+6])){for(ge=0,Ve=2*(Pe=Ge(Ee,Se[Ve+8]))+(Se=Ge(Ee,Se[Ve+9+Pe])),Pe=0,Se=Jp[Ve];Se[ge];++ge)Pe+=Pe+Ge(Ee,Se[ge]);Pe+=3+(8<<Ve)}else Ge(Ee,Se[Ve+7])?(Pe=7+2*Ge(Ee,165),Pe+=Ge(Ee,145)):Pe=5+Ge(Ee,159);else Pe=Ge(Ee,Se[Ve+4])?3+Ge(Ee,Se[Ve+5]):2;ge=ye[2]}else Pe=1,ge=ye[1];ye=ue+P0[ae],0>(Ee=N).b&&ze(Ee);var Ve,Se=Ee.b,Le=(Ve=Ee.Ca>>1)-(Ee.I>>Se)>>31;--Ee.b,Ee.Ca+=Le,Ee.Ca|=1,Ee.I-=(Ve+1&Le)<<Se,ce[ye]=((Pe^Le)-Le)*$[(0<ae)+0]}return 16}function Ss(N){var M=N.rb[N.sb-1];M.la=0,M.Na=0,i(N.zc,0,0,N.zc.length),N.ja=0}function Ca(N,M,z,$,ae){ae=N[M+z+32*$]+(ae>>3),N[M+z+32*$]=-256&ae?0>ae?0:255:ae}function zn(N,M,z,$,ae,ce){Ca(N,M,0,z,$+ae),Ca(N,M,1,z,$+ce),Ca(N,M,2,z,$-ce),Ca(N,M,3,z,$-ae)}function Or(N){return(20091*N>>16)+N}function di(N,M,z,$){var ae,ce=0,ue=a(16);for(ae=0;4>ae;++ae){var ge=N[M+0]+N[M+8],ye=N[M+0]-N[M+8],Ee=(35468*N[M+4]>>16)-Or(N[M+12]),Pe=Or(N[M+4])+(35468*N[M+12]>>16);ue[ce+0]=ge+Pe,ue[ce+1]=ye+Ee,ue[ce+2]=ye-Ee,ue[ce+3]=ge-Pe,ce+=4,M++}for(ae=ce=0;4>ae;++ae)ge=(N=ue[ce+0]+4)+ue[ce+8],ye=N-ue[ce+8],Ee=(35468*ue[ce+4]>>16)-Or(ue[ce+12]),Ca(z,$,0,0,ge+(Pe=Or(ue[ce+4])+(35468*ue[ce+12]>>16))),Ca(z,$,1,0,ye+Ee),Ca(z,$,2,0,ye-Ee),Ca(z,$,3,0,ge-Pe),ce++,$+=32}function We(N,M,z,$){var ae=N[M+0]+4,ce=35468*N[M+4]>>16,ue=Or(N[M+4]),ge=35468*N[M+1]>>16;zn(z,$,0,ae+ue,N=Or(N[M+1]),ge),zn(z,$,1,ae+ce,N,ge),zn(z,$,2,ae-ce,N,ge),zn(z,$,3,ae-ue,N,ge)}function be(N,M,z,$,ae){di(N,M,z,$),ae&&di(N,M+16,z,$+4)}function Tt(N,M,z,$){je(N,M+0,z,$,1),je(N,M+32,z,$+128,1)}function ri(N,M,z,$){var ae;for(N=N[M+0]+4,ae=0;4>ae;++ae)for(M=0;4>M;++M)Ca(z,$,M,ae,N)}function pa(N,M,z,$){N[M+0]&&ct(N,M+0,z,$),N[M+16]&&ct(N,M+16,z,$+4),N[M+32]&&ct(N,M+32,z,$+128),N[M+48]&&ct(N,M+48,z,$+128+4)}function Gs(N,M,z,$){var ae,ce=a(16);for(ae=0;4>ae;++ae){var ue=N[M+0+ae]+N[M+12+ae],ge=N[M+4+ae]+N[M+8+ae],ye=N[M+4+ae]-N[M+8+ae],Ee=N[M+0+ae]-N[M+12+ae];ce[0+ae]=ue+ge,ce[8+ae]=ue-ge,ce[4+ae]=Ee+ye,ce[12+ae]=Ee-ye}for(ae=0;4>ae;++ae)ue=(N=ce[0+4*ae]+3)+ce[3+4*ae],ge=ce[1+4*ae]+ce[2+4*ae],ye=ce[1+4*ae]-ce[2+4*ae],Ee=N-ce[3+4*ae],z[$+0]=ue+ge>>3,z[$+16]=Ee+ye>>3,z[$+32]=ue-ge>>3,z[$+48]=Ee-ye>>3,$+=64}function jo(N,M,z){var $,ae=M-32,ce=Za,ue=255-N[ae-1];for($=0;$<z;++$){var ge,ye=ce,Ee=ue+N[M-1];for(ge=0;ge<z;++ge)N[M+ge]=ye[Ee+N[ae+ge]];M+=32}}function Na(N,M){jo(N,M,4)}function rr(N,M){jo(N,M,8)}function _n(N,M){jo(N,M,16)}function lc(N,M){var z;for(z=0;16>z;++z)n(N,M+32*z,N,M-32,16)}function Hu(N,M){var z;for(z=16;0<z;--z)i(N,M,N[M-1],16),M+=32}function ga(N,M,z){var $;for($=0;16>$;++$)i(M,z+32*$,N,16)}function Ga(N,M){var z,$=16;for(z=0;16>z;++z)$+=N[M-1+32*z]+N[M+z-32];ga($>>5,N,M)}function Ws(N,M){var z,$=8;for(z=0;16>z;++z)$+=N[M-1+32*z];ga($>>4,N,M)}function Cl(N,M){var z,$=8;for(z=0;16>z;++z)$+=N[M+z-32];ga($>>4,N,M)}function Mn(N,M){ga(128,N,M)}function cr(N,M,z){return N+2*M+z+2>>2}function $s(N,M){var z,$=M-32;for($=new Uint8Array([cr(N[$-1],N[$+0],N[$+1]),cr(N[$+0],N[$+1],N[$+2]),cr(N[$+1],N[$+2],N[$+3]),cr(N[$+2],N[$+3],N[$+4])]),z=0;4>z;++z)n(N,M+32*z,$,0,$.length)}function ur(N,M){var z=N[M-1],$=N[M-1+32],ae=N[M-1+64],ce=N[M-1+96];Je(N,M+0,16843009*cr(N[M-1-32],z,$)),Je(N,M+32,16843009*cr(z,$,ae)),Je(N,M+64,16843009*cr($,ae,ce)),Je(N,M+96,16843009*cr(ae,ce,ce))}function Gu(N,M){var z,$=4;for(z=0;4>z;++z)$+=N[M+z-32]+N[M-1+32*z];for($>>=3,z=0;4>z;++z)i(N,M+32*z,$,4)}function fr(N,M){var z=N[M-1+0],$=N[M-1+32],ae=N[M-1+64],ce=N[M-1-32],ue=N[M+0-32],ge=N[M+1-32],ye=N[M+2-32],Ee=N[M+3-32];N[M+0+96]=cr($,ae,N[M-1+96]),N[M+1+96]=N[M+0+64]=cr(z,$,ae),N[M+2+96]=N[M+1+64]=N[M+0+32]=cr(ce,z,$),N[M+3+96]=N[M+2+64]=N[M+1+32]=N[M+0+0]=cr(ue,ce,z),N[M+3+64]=N[M+2+32]=N[M+1+0]=cr(ge,ue,ce),N[M+3+32]=N[M+2+0]=cr(ye,ge,ue),N[M+3+0]=cr(Ee,ye,ge)}function Qr(N,M){var z=N[M+1-32],$=N[M+2-32],ae=N[M+3-32],ce=N[M+4-32],ue=N[M+5-32],ge=N[M+6-32],ye=N[M+7-32];N[M+0+0]=cr(N[M+0-32],z,$),N[M+1+0]=N[M+0+32]=cr(z,$,ae),N[M+2+0]=N[M+1+32]=N[M+0+64]=cr($,ae,ce),N[M+3+0]=N[M+2+32]=N[M+1+64]=N[M+0+96]=cr(ae,ce,ue),N[M+3+32]=N[M+2+64]=N[M+1+96]=cr(ce,ue,ge),N[M+3+64]=N[M+2+96]=cr(ue,ge,ye),N[M+3+96]=cr(ge,ye,ye)}function $c(N,M){var z=N[M-1+0],$=N[M-1+32],ae=N[M-1+64],ce=N[M-1-32],ue=N[M+0-32],ge=N[M+1-32],ye=N[M+2-32],Ee=N[M+3-32];N[M+0+0]=N[M+1+64]=ce+ue+1>>1,N[M+1+0]=N[M+2+64]=ue+ge+1>>1,N[M+2+0]=N[M+3+64]=ge+ye+1>>1,N[M+3+0]=ye+Ee+1>>1,N[M+0+96]=cr(ae,$,z),N[M+0+64]=cr($,z,ce),N[M+0+32]=N[M+1+96]=cr(z,ce,ue),N[M+1+32]=N[M+2+96]=cr(ce,ue,ge),N[M+2+32]=N[M+3+96]=cr(ue,ge,ye),N[M+3+32]=cr(ge,ye,Ee)}function Ro(N,M){var z=N[M+0-32],$=N[M+1-32],ae=N[M+2-32],ce=N[M+3-32],ue=N[M+4-32],ge=N[M+5-32],ye=N[M+6-32],Ee=N[M+7-32];N[M+0+0]=z+$+1>>1,N[M+1+0]=N[M+0+64]=$+ae+1>>1,N[M+2+0]=N[M+1+64]=ae+ce+1>>1,N[M+3+0]=N[M+2+64]=ce+ue+1>>1,N[M+0+32]=cr(z,$,ae),N[M+1+32]=N[M+0+96]=cr($,ae,ce),N[M+2+32]=N[M+1+96]=cr(ae,ce,ue),N[M+3+32]=N[M+2+96]=cr(ce,ue,ge),N[M+3+64]=cr(ue,ge,ye),N[M+3+96]=cr(ge,ye,Ee)}function Wa(N,M){var z=N[M-1+0],$=N[M-1+32],ae=N[M-1+64],ce=N[M-1+96];N[M+0+0]=z+$+1>>1,N[M+2+0]=N[M+0+32]=$+ae+1>>1,N[M+2+32]=N[M+0+64]=ae+ce+1>>1,N[M+1+0]=cr(z,$,ae),N[M+3+0]=N[M+1+32]=cr($,ae,ce),N[M+3+32]=N[M+1+64]=cr(ae,ce,ce),N[M+3+64]=N[M+2+64]=N[M+0+96]=N[M+1+96]=N[M+2+96]=N[M+3+96]=ce}function hs(N,M){var z=N[M-1+0],$=N[M-1+32],ae=N[M-1+64],ce=N[M-1+96],ue=N[M-1-32],ge=N[M+0-32],ye=N[M+1-32],Ee=N[M+2-32];N[M+0+0]=N[M+2+32]=z+ue+1>>1,N[M+0+32]=N[M+2+64]=$+z+1>>1,N[M+0+64]=N[M+2+96]=ae+$+1>>1,N[M+0+96]=ce+ae+1>>1,N[M+3+0]=cr(ge,ye,Ee),N[M+2+0]=cr(ue,ge,ye),N[M+1+0]=N[M+3+32]=cr(z,ue,ge),N[M+1+32]=N[M+3+64]=cr($,z,ue),N[M+1+64]=N[M+3+96]=cr(ae,$,z),N[M+1+96]=cr(ce,ae,$)}function so(N,M){var z;for(z=0;8>z;++z)n(N,M+32*z,N,M-32,8)}function al(N,M){var z;for(z=0;8>z;++z)i(N,M,N[M-1],8),M+=32}function ma(N,M,z){var $;for($=0;8>$;++$)i(M,z+32*$,N,8)}function oo(N,M){var z,$=8;for(z=0;8>z;++z)$+=N[M+z-32]+N[M-1+32*z];ma($>>4,N,M)}function Nl(N,M){var z,$=4;for(z=0;8>z;++z)$+=N[M+z-32];ma($>>3,N,M)}function ni(N,M){var z,$=4;for(z=0;8>z;++z)$+=N[M-1+32*z];ma($>>3,N,M)}function $a(N,M){ma(128,N,M)}function jn(N,M,z){var $=N[M-z],ae=N[M+0],ce=3*(ae-$)+Rl[1020+N[M-2*z]-N[M+z]],ue=Wf[112+(ce+4>>3)];N[M-z]=Za[255+$+Wf[112+(ce+3>>3)]],N[M+0]=Za[255+ae-ue]}function lo(N,M,z,$){var ae=N[M+0],ce=N[M+z];return Oa[255+N[M-2*z]-N[M-z]]>$||Oa[255+ce-ae]>$}function Ol(N,M,z,$){return 4*Oa[255+N[M-z]-N[M+0]]+Oa[255+N[M-2*z]-N[M+z]]<=$}function sl(N,M,z,$,ae){var ce=N[M-3*z],ue=N[M-2*z],ge=N[M-z],ye=N[M+0],Ee=N[M+z],Pe=N[M+2*z],Ve=N[M+3*z];return 4*Oa[255+ge-ye]+Oa[255+ue-Ee]>$?0:Oa[255+N[M-4*z]-ce]<=ae&&Oa[255+ce-ue]<=ae&&Oa[255+ue-ge]<=ae&&Oa[255+Ve-Pe]<=ae&&Oa[255+Pe-Ee]<=ae&&Oa[255+Ee-ye]<=ae}function Po(N,M,z,$){var ae=2*$+1;for($=0;16>$;++$)Ol(N,M+$,z,ae)&&jn(N,M+$,z)}function Do(N,M,z,$){var ae=2*$+1;for($=0;16>$;++$)Ol(N,M+$*z,1,ae)&&jn(N,M+$*z,1)}function Tl(N,M,z,$){var ae;for(ae=3;0<ae;--ae)Po(N,M+=4*z,z,$)}function nn(N,M,z,$){var ae;for(ae=3;0<ae;--ae)Do(N,M+=4,z,$)}function co(N,M,z,$,ae,ce,ue,ge){for(ce=2*ce+1;0<ae--;){if(sl(N,M,z,ce,ue))if(lo(N,M,z,ge))jn(N,M,z);else{var ye=N,Ee=M,Pe=z,Ve=ye[Ee-2*Pe],Se=ye[Ee-Pe],Le=ye[Ee+0],He=ye[Ee+Pe],st=ye[Ee+2*Pe],$e=27*(ht=Rl[1020+3*(Le-Se)+Rl[1020+Ve-He]])+63>>7,it=18*ht+63>>7,ht=9*ht+63>>7;ye[Ee-3*Pe]=Za[255+ye[Ee-3*Pe]+ht],ye[Ee-2*Pe]=Za[255+Ve+it],ye[Ee-Pe]=Za[255+Se+$e],ye[Ee+0]=Za[255+Le-$e],ye[Ee+Pe]=Za[255+He-it],ye[Ee+2*Pe]=Za[255+st-ht]}M+=$}}function Es(N,M,z,$,ae,ce,ue,ge){for(ce=2*ce+1;0<ae--;){if(sl(N,M,z,ce,ue))if(lo(N,M,z,ge))jn(N,M,z);else{var ye=N,Ee=M,Pe=z,Ve=ye[Ee-Pe],Se=ye[Ee+0],Le=ye[Ee+Pe],He=Wf[112+(4+(st=3*(Se-Ve))>>3)],st=Wf[112+(st+3>>3)],$e=He+1>>1;ye[Ee-2*Pe]=Za[255+ye[Ee-2*Pe]+$e],ye[Ee-Pe]=Za[255+Ve+st],ye[Ee+0]=Za[255+Se-He],ye[Ee+Pe]=Za[255+Le-$e]}M+=$}}function Vs(N,M,z,$,ae,ce){co(N,M,z,1,16,$,ae,ce)}function Lo(N,M,z,$,ae,ce){co(N,M,1,z,16,$,ae,ce)}function et(N,M,z,$,ae,ce){var ue;for(ue=3;0<ue;--ue)Es(N,M+=4*z,z,1,16,$,ae,ce)}function P(N,M,z,$,ae,ce){var ue;for(ue=3;0<ue;--ue)Es(N,M+=4,1,z,16,$,ae,ce)}function re(N,M,z,$,ae,ce,ue,ge){co(N,M,ae,1,8,ce,ue,ge),co(z,$,ae,1,8,ce,ue,ge)}function Ae(N,M,z,$,ae,ce,ue,ge){co(N,M,1,ae,8,ce,ue,ge),co(z,$,1,ae,8,ce,ue,ge)}function ke(N,M,z,$,ae,ce,ue,ge){Es(N,M+4*ae,ae,1,8,ce,ue,ge),Es(z,$+4*ae,ae,1,8,ce,ue,ge)}function Fe(N,M,z,$,ae,ce,ue,ge){Es(N,M+4,1,ae,8,ce,ue,ge),Es(z,$+4,1,ae,8,ce,ue,ge)}function dt(){this.ba=new _r,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Yr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function yt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Mt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function St(){this.ua=0,this.Wa=new jt,this.vb=new jt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ie,this.yc=new le}function yr(){this.xb=this.a=0,this.l=new Hs,this.ca=new _r,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new de,this.Pb=0,this.wd=new de,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new St,this.ab=0,this.gc=o(4,Mt),this.Oc=0}function Pt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Hs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Gr(N,M,z,$,ae,ce,ue){for(N=N==null?0:N[M+0],M=0;M<ue;++M)ae[ce+M]=N+z[$+M]&255,N=ae[ce+M]}function gn(N,M,z,$,ae,ce,ue){var ge;if(N==null)Gr(null,null,z,$,ae,ce,ue);else for(ge=0;ge<ue;++ge)ae[ce+ge]=N[M+ge]+z[$+ge]&255}function Ar(N,M,z,$,ae,ce,ue){if(N==null)Gr(null,null,z,$,ae,ce,ue);else{var ge,ye=N[M+0],Ee=ye,Pe=ye;for(ge=0;ge<ue;++ge)Ee=Pe+(ye=N[M+ge])-Ee,Pe=z[$+ge]+(-256&Ee?0>Ee?0:255:Ee)&255,Ee=ye,ae[ce+ge]=Pe}}function Et(N,M,z,$){var ae=M.width,ce=M.o;if(t(N!=null&&M!=null),0>z||0>=$||z+$>ce)return null;if(!N.Cc){if(N.ga==null){var ue;if(N.ga=new Pt,(ue=N.ga==null)||(ue=M.width*M.o,t(N.Gb.length==0),N.Gb=a(ue),N.Uc=0,N.Gb==null?ue=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,ue=1),ue=!ue),!ue){ue=N.ga;var ge=N.Fa,ye=N.P,Ee=N.qc,Pe=N.mb,Ve=N.nb,Se=ye+1,Le=Ee-1,He=ue.l;if(t(ge!=null&&Pe!=null&&M!=null),Pl[0]=null,Pl[1]=Gr,Pl[2]=gn,Pl[3]=Ar,ue.ca=Pe,ue.tb=Ve,ue.c=M.width,ue.i=M.height,t(0<ue.c&&0<ue.i),1>=Ee)M=0;else if(ue.$a=3&ge[ye+0],ue.Z=ge[ye+0]>>2&3,ue.Lc=ge[ye+0]>>4&3,ye=ge[ye+0]>>6&3,0>ue.$a||1<ue.$a||4<=ue.Z||1<ue.Lc||ye)M=0;else if(He.put=Zt,He.ac=ea,He.bc=Di,He.ma=ue,He.width=M.width,He.height=M.height,He.Da=M.Da,He.v=M.v,He.va=M.va,He.j=M.j,He.o=M.o,ue.$a)e:{t(ue.$a==1),M=ha();t:for(;;){if(M==null){M=0;break e}if(t(ue!=null),ue.mc=M,M.c=ue.c,M.i=ue.i,M.l=ue.l,M.l.ma=ue,M.l.width=ue.c,M.l.height=ue.i,M.a=0,Ie(M.m,ge,Se,Le),!zs(ue.c,ue.i,1,M,null)||(M.ab==1&&M.gc[0].hc==3&&pn(M.s)?(ue.ic=1,ge=M.c*M.i,M.Ta=null,M.Ua=0,M.V=a(ge),M.Ba=0,M.V==null?(M.a=1,M=0):M=1):(ue.ic=0,M=qs(M,ue.c)),!M))break t;M=1;break e}ue.mc=null,M=0}else M=Le>=ue.c*ue.i;ue=!M}if(ue)return null;N.ga.Lc!=1?N.Ga=0:$=ce-z}t(N.ga!=null),t(z+$<=ce);e:{if(M=(ge=N.ga).c,ce=ge.l.o,ge.$a==0){if(Se=N.rc,Le=N.Vc,He=N.Fa,ye=N.P+1+z*M,Ee=N.mb,Pe=N.nb+z*M,t(ye<=N.P+N.qc),ge.Z!=0)for(t(Pl[ge.Z]!=null),ue=0;ue<$;++ue)Pl[ge.Z](Se,Le,He,ye,Ee,Pe,M),Se=Ee,Le=Pe,Pe+=M,ye+=M;else for(ue=0;ue<$;++ue)n(Ee,Pe,He,ye,M),Se=Ee,Le=Pe,Pe+=M,ye+=M;N.rc=Se,N.Vc=Le}else{if(t(ge.mc!=null),M=z+$,t((ue=ge.mc)!=null),t(M<=ue.i),ue.C>=M)M=1;else if(ge.ic||Ys(),ge.ic){ge=ue.V,Se=ue.Ba,Le=ue.c;var st=ue.i,$e=(He=1,ye=ue.$/Le,Ee=ue.$%Le,Pe=ue.m,Ve=ue.s,ue.$),it=Le*st,ht=Le*M,xt=Ve.wc,vt=$e<ht?hn(Ve,Ee,ye):null;t($e<=it),t(M<=st),t(pn(Ve));t:for(;;){for(;!Pe.h&&$e<ht;){if(Ee&xt||(vt=hn(Ve,Ee,ye)),t(vt!=null),Re(Pe),256>(st=zr(vt.G[0],vt.H[0],Pe)))ge[Se+$e]=st,++$e,++Ee>=Le&&(Ee=0,++ye<=M&&!(ye%16)&&fi(ue,ye));else{if(!(280>st)){He=0;break t}st=Ti(st-256,Pe);var Gt,It=zr(vt.G[4],vt.H[4],Pe);if(Re(Pe),!($e>=(It=Aa(Le,It=Ti(It,Pe)))&&it-$e>=st)){He=0;break t}for(Gt=0;Gt<st;++Gt)ge[Se+$e+Gt]=ge[Se+$e+Gt-It];for($e+=st,Ee+=st;Ee>=Le;)Ee-=Le,++ye<=M&&!(ye%16)&&fi(ue,ye);$e<ht&&Ee&xt&&(vt=hn(Ve,Ee,ye))}t(Pe.h==Ne(Pe))}fi(ue,ye>M?M:ye);break t}!He||Pe.h&&$e<it?(He=0,ue.a=Pe.h?5:3):ue.$=$e,M=He}else M=da(ue,ue.V,ue.Ba,ue.c,ue.i,M,ta);if(!M){$=0;break e}}z+$>=ce&&(N.Cc=1),$=1}if(!$)return null;if(N.Cc&&(($=N.ga)!=null&&($.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+z*ae}function Ii(N,M,z,$,ae,ce){for(;0<ae--;){var ue,ge=N,ye=M+(z?1:0),Ee=N,Pe=M+(z?0:3);for(ue=0;ue<$;++ue){var Ve=Ee[Pe+4*ue];Ve!=255&&(Ve*=32897,ge[ye+4*ue+0]=ge[ye+4*ue+0]*Ve>>23,ge[ye+4*ue+1]=ge[ye+4*ue+1]*Ve>>23,ge[ye+4*ue+2]=ge[ye+4*ue+2]*Ve>>23)}M+=ce}}function Ir(N,M,z,$,ae){for(;0<$--;){var ce;for(ce=0;ce<z;++ce){var ue=N[M+2*ce+0],ge=15&(Ee=N[M+2*ce+1]),ye=4369*ge,Ee=(240&Ee|Ee>>4)*ye>>16;N[M+2*ce+0]=(240&ue|ue>>4)*ye>>16&240|(15&ue|ue<<4)*ye>>16>>4&15,N[M+2*ce+1]=240&Ee|ge}M+=ae}}function Xn(N,M,z,$,ae,ce,ue,ge){var ye,Ee,Pe=255;for(Ee=0;Ee<ae;++Ee){for(ye=0;ye<$;++ye){var Ve=N[M+ye];ce[ue+4*ye]=Ve,Pe&=Ve}M+=z,ue+=ge}return Pe!=255}function Va(N,M,z,$,ae){var ce;for(ce=0;ce<ae;++ce)z[$+ce]=N[M+ce]>>8}function Ys(){jl=Ii,po=Ir,qf=Xn,Zs=Va}function Li(N,M,z){q[N]=function($,ae,ce,ue,ge,ye,Ee,Pe,Ve,Se,Le,He,st,$e,it,ht,xt){var vt,Gt=xt-1>>1,It=ge[ye+0]|Ee[Pe+0]<<16,kr=Ve[Se+0]|Le[He+0]<<16;t($!=null);var Ft=3*It+kr+131074>>2;for(M($[ae+0],255&Ft,Ft>>16,st,$e),ce!=null&&(Ft=3*kr+It+131074>>2,M(ce[ue+0],255&Ft,Ft>>16,it,ht)),vt=1;vt<=Gt;++vt){var Zr=ge[ye+vt]|Ee[Pe+vt]<<16,Qn=Ve[Se+vt]|Le[He+vt]<<16,Rr=It+Zr+kr+Qn+524296,kt=Rr+2*(Zr+kr)>>3;Ft=kt+It>>1,It=(Rr=Rr+2*(It+Qn)>>3)+Zr>>1,M($[ae+2*vt-1],255&Ft,Ft>>16,st,$e+(2*vt-1)*z),M($[ae+2*vt-0],255&It,It>>16,st,$e+(2*vt-0)*z),ce!=null&&(Ft=Rr+kr>>1,It=kt+Qn>>1,M(ce[ue+2*vt-1],255&Ft,Ft>>16,it,ht+(2*vt-1)*z),M(ce[ue+2*vt+0],255&It,It>>16,it,ht+(2*vt+0)*z)),It=Zr,kr=Qn}1&xt||(Ft=3*It+kr+131074>>2,M($[ae+xt-1],255&Ft,Ft>>16,st,$e+(xt-1)*z),ce!=null&&(Ft=3*kr+It+131074>>2,M(ce[ue+xt-1],255&Ft,Ft>>16,it,ht+(xt-1)*z)))}}function Il(){Ia[Yd]=Kc,Ia[Qa]=Yu,Ia[Xd]=L0,Ia[go]=eh,Ia[$f]=hc,Ia[Wu]=ul,Ia[uc]=pc,Ia[Vf]=Yu,Ia[Kd]=eh,Ia[$u]=hc,Ia[Zd]=ul}function kl(N){return N&-16384?0>N?0:255:N>>th}function Cs(N,M){return kl((19077*N>>8)+(26149*M>>8)-14234)}function Ns(N,M,z){return kl((19077*N>>8)-(6419*M>>8)-(13320*z>>8)+8708)}function ol(N,M){return kl((19077*N>>8)+(33050*M>>8)-17685)}function Bo(N,M,z,$,ae){$[ae+0]=Cs(N,z),$[ae+1]=Ns(N,M,z),$[ae+2]=ol(N,M)}function Kn(N,M,z,$,ae){$[ae+0]=ol(N,M),$[ae+1]=Ns(N,M,z),$[ae+2]=Cs(N,z)}function uo(N,M,z,$,ae){var ce=Ns(N,M,z);M=ce<<3&224|ol(N,M)>>3,$[ae+0]=248&Cs(N,z)|ce>>5,$[ae+1]=M}function ll(N,M,z,$,ae){var ce=240&ol(N,M)|15;$[ae+0]=240&Cs(N,z)|Ns(N,M,z)>>4,$[ae+1]=ce}function fo(N,M,z,$,ae){$[ae+0]=255,Bo(N,M,z,$,ae+1)}function ho(N,M,z,$,ae){Kn(N,M,z,$,ae),$[ae+3]=255}function ii(N,M,z,$,ae){Bo(N,M,z,$,ae),$[ae+3]=255}function Os(N,M,z){q[N]=function($,ae,ce,ue,ge,ye,Ee,Pe,Ve){for(var Se=Pe+(-2&Ve)*z;Pe!=Se;)M($[ae+0],ce[ue+0],ge[ye+0],Ee,Pe),M($[ae+1],ce[ue+0],ge[ye+0],Ee,Pe+z),ae+=2,++ue,++ye,Pe+=2*z;1&Ve&&M($[ae+0],ce[ue+0],ge[ye+0],Ee,Pe)}}function na(N,M,z){return z==0?N==0?M==0?6:5:M==0?4:0:z}function cc(N,M,z,$,ae){switch(N>>>30){case 3:je(M,z,$,ae,0);break;case 2:Be(M,z,$,ae);break;case 1:ct(M,z,$,ae)}}function ai(N,M){var z,$,ae=M.M,ce=M.Nb,ue=N.oc,ge=N.pc+40,ye=N.oc,Ee=N.pc+584,Pe=N.oc,Ve=N.pc+600;for(z=0;16>z;++z)ue[ge+32*z-1]=129;for(z=0;8>z;++z)ye[Ee+32*z-1]=129,Pe[Ve+32*z-1]=129;for(0<ae?ue[ge-1-32]=ye[Ee-1-32]=Pe[Ve-1-32]=129:(i(ue,ge-32-1,127,21),i(ye,Ee-32-1,127,9),i(Pe,Ve-32-1,127,9)),$=0;$<N.za;++$){var Se=M.ya[M.aa+$];if(0<$){for(z=-1;16>z;++z)n(ue,ge+32*z-4,ue,ge+32*z+12,4);for(z=-1;8>z;++z)n(ye,Ee+32*z-4,ye,Ee+32*z+4,4),n(Pe,Ve+32*z-4,Pe,Ve+32*z+4,4)}var Le=N.Gd,He=N.Hd+$,st=Se.ad,$e=Se.Hc;if(0<ae&&(n(ue,ge-32,Le[He].y,0,16),n(ye,Ee-32,Le[He].f,0,8),n(Pe,Ve-32,Le[He].ea,0,8)),Se.Za){var it=ue,ht=ge-32+16;for(0<ae&&($>=N.za-1?i(it,ht,Le[He].y[15],4):n(it,ht,Le[He+1].y,0,4)),z=0;4>z;z++)it[ht+128+z]=it[ht+256+z]=it[ht+384+z]=it[ht+0+z];for(z=0;16>z;++z,$e<<=2)it=ue,ht=ge+ki[z],wi[Se.Ob[z]](it,ht),cc($e,st,16*+z,it,ht)}else if(it=na($,ae,Se.Ob[0]),ps[it](ue,ge),$e!=0)for(z=0;16>z;++z,$e<<=2)cc($e,st,16*+z,ue,ge+ki[z]);for(z=Se.Gc,it=na($,ae,Se.Dd),Fo[it](ye,Ee),Fo[it](Pe,Ve),$e=st,it=ye,ht=Ee,255&(Se=0|z)&&(170&Se?Ze($e,256,it,ht):ut($e,256,it,ht)),Se=Pe,$e=Ve,255&(z>>=8)&&(170&z?Ze(st,320,Se,$e):ut(st,320,Se,$e)),ae<N.Ub-1&&(n(Le[He].y,0,ue,ge+480,16),n(Le[He].f,0,ye,Ee+224,8),n(Le[He].ea,0,Pe,Ve+224,8)),z=8*ce*N.B,Le=N.sa,He=N.ta+16*$+16*ce*N.R,st=N.qa,Se=N.ra+8*$+z,$e=N.Ha,it=N.Ia+8*$+z,z=0;16>z;++z)n(Le,He+z*N.R,ue,ge+32*z,16);for(z=0;8>z;++z)n(st,Se+z*N.B,ye,Ee+32*z,8),n($e,it+z*N.B,Pe,Ve+32*z,8)}}function Xs(N,M,z,$,ae,ce,ue,ge,ye){var Ee=[0],Pe=[0],Ve=0,Se=ye!=null?ye.kd:0,Le=ye??new yt;if(N==null||12>z)return 7;Le.data=N,Le.w=M,Le.ha=z,M=[M],z=[z],Le.gb=[Le.gb];e:{var He=M,st=z,$e=Le.gb;if(t(N!=null),t(st!=null),t($e!=null),$e[0]=0,12<=st[0]&&!r(N,He[0],"RIFF")){if(r(N,He[0]+8,"WEBP")){$e=3;break e}var it=bt(N,He[0]+4);if(12>it||4294967286<it){$e=3;break e}if(Se&&it>st[0]-8){$e=7;break e}$e[0]=it,He[0]+=12,st[0]-=12}$e=0}if($e!=0)return $e;for(it=0<Le.gb[0],z=z[0];;){e:{var ht=N;st=M,$e=z;var xt=Ee,vt=Pe,Gt=He=[0];if((Ft=Ve=[Ve])[0]=0,8>$e[0])$e=7;else{if(!r(ht,st[0],"VP8X")){if(bt(ht,st[0]+4)!=10){$e=3;break e}if(18>$e[0]){$e=7;break e}var It=bt(ht,st[0]+8),kr=1+lt(ht,st[0]+12);if(2147483648<=kr*(ht=1+lt(ht,st[0]+15))){$e=3;break e}Gt!=null&&(Gt[0]=It),xt!=null&&(xt[0]=kr),vt!=null&&(vt[0]=ht),st[0]+=18,$e[0]-=18,Ft[0]=1}$e=0}}if(Ve=Ve[0],He=He[0],$e!=0)return $e;if(st=!!(2&He),!it&&Ve)return 3;if(ce!=null&&(ce[0]=!!(16&He)),ue!=null&&(ue[0]=st),ge!=null&&(ge[0]=0),ue=Ee[0],He=Pe[0],Ve&&st&&ye==null){$e=0;break}if(4>z){$e=7;break}if(it&&Ve||!it&&!Ve&&!r(N,M[0],"ALPH")){z=[z],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{It=N,$e=M,it=z;var Ft=Le.gb;xt=Le.na,vt=Le.P,Gt=Le.Sa,kr=22,t(It!=null),t(it!=null),ht=$e[0];var Zr=it[0];for(t(xt!=null),t(Gt!=null),xt[0]=null,vt[0]=null,Gt[0]=0;;){if($e[0]=ht,it[0]=Zr,8>Zr){$e=7;break e}var Qn=bt(It,ht+4);if(4294967286<Qn){$e=3;break e}var Rr=8+Qn+1&-2;if(kr+=Rr,0<Ft&&kr>Ft){$e=3;break e}if(!r(It,ht,"VP8 ")||!r(It,ht,"VP8L")){$e=0;break e}if(Zr[0]<Rr){$e=7;break e}r(It,ht,"ALPH")||(xt[0]=It,vt[0]=ht+8,Gt[0]=Qn),ht+=Rr,Zr-=Rr}}if(z=z[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],$e!=0)break}z=[z],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(Ft=N,$e=M,it=z,xt=Le.gb[0],vt=Le.Ja,Gt=Le.xa,It=$e[0],ht=!r(Ft,It,"VP8 "),kr=!r(Ft,It,"VP8L"),t(Ft!=null),t(it!=null),t(vt!=null),t(Gt!=null),8>it[0])$e=7;else{if(ht||kr){if(Ft=bt(Ft,It+4),12<=xt&&Ft>xt-12){$e=3;break e}if(Se&&Ft>it[0]-8){$e=7;break e}vt[0]=Ft,$e[0]+=8,it[0]-=8,Gt[0]=kr}else Gt[0]=5<=it[0]&&Ft[It+0]==47&&!(Ft[It+4]>>5),vt[0]=it[0];$e=0}if(z=z[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],M=M[0],$e!=0)break;if(4294967286<Le.Ja)return 3;if(ge==null||st||(ge[0]=Le.xa?2:1),ue=[ue],He=[He],Le.xa){if(5>z){$e=7;break}ge=ue,Se=He,st=ce,N==null||5>z?N=0:5<=z&&N[M+0]==47&&!(N[M+4]>>5)?(it=[0],Ft=[0],xt=[0],Ie(vt=new de,N,M,z),io(vt,it,Ft,xt)?(ge!=null&&(ge[0]=it[0]),Se!=null&&(Se[0]=Ft[0]),st!=null&&(st[0]=xt[0]),N=1):N=0):N=0}else{if(10>z){$e=7;break}ge=He,N==null||10>z||!As(N,M+3,z-3)?N=0:(Se=N[M+0]|N[M+1]<<8|N[M+2]<<16,st=16383&(N[M+7]<<8|N[M+6]),N=16383&(N[M+9]<<8|N[M+8]),1&Se||3<(Se>>1&7)||!(Se>>4&1)||Se>>5>=Le.Ja||!st||!N?N=0:(ue&&(ue[0]=st),ge&&(ge[0]=N),N=1))}if(!N||(ue=ue[0],He=He[0],Ve&&(Ee[0]!=ue||Pe[0]!=He)))return 3;ye!=null&&(ye[0]=Le,ye.offset=M-ye.w,t(4294967286>M-ye.w),t(ye.offset==ye.ha-z));break}return $e==0||$e==7&&Ve&&ye==null?(ce!=null&&(ce[0]|=Le.na!=null&&0<Le.na.length),$!=null&&($[0]=ue),ae!=null&&(ae[0]=He),0):$e}function Ks(N,M,z){var $=M.width,ae=M.height,ce=0,ue=0,ge=$,ye=ae;if(M.Da=N!=null&&0<N.Da,M.Da&&(ge=N.cd,ye=N.bd,ce=N.v,ue=N.j,11>z||(ce&=-2,ue&=-2),0>ce||0>ue||0>=ge||0>=ye||ce+ge>$||ue+ye>ae))return 0;if(M.v=ce,M.j=ue,M.va=ce+ge,M.o=ue+ye,M.U=ge,M.T=ye,M.da=N!=null&&0<N.da,M.da){if(!_t(ge,ye,z=[N.ib],ce=[N.hb]))return 0;M.ib=z[0],M.hb=ce[0]}return M.ob=N!=null&&N.ob,M.Kb=N==null||!N.Sd,M.da&&(M.ob=M.ib<3*$/4&&M.hb<3*ae/4,M.Kb=0),1}function Vc(N){if(N==null)return 2;if(11>N.S){var M=N.f.RGBA;M.fb+=(N.height-1)*M.A,M.A=-M.A}else M=N.f.kb,N=N.height,M.O+=(N-1)*M.fa,M.fa=-M.fa,M.N+=(N-1>>1)*M.Ab,M.Ab=-M.Ab,M.W+=(N-1>>1)*M.Db,M.Db=-M.Db,M.F!=null&&(M.J+=(N-1)*M.lb,M.lb=-M.lb);return 0}function Ts(N,M,z,$){if($==null||0>=N||0>=M)return 2;if(z!=null){if(z.Da){var ae=z.cd,ce=z.bd,ue=-2&z.v,ge=-2&z.j;if(0>ue||0>ge||0>=ae||0>=ce||ue+ae>N||ge+ce>M)return 2;N=ae,M=ce}if(z.da){if(!_t(N,M,ae=[z.ib],ce=[z.hb]))return 2;N=ae[0],M=ce[0]}}$.width=N,$.height=M;e:{var ye=$.width,Ee=$.height;if(N=$.S,0>=ye||0>=Ee||!(N>=Yd&&13>N))N=2;else{if(0>=$.Rd&&$.sd==null){ue=ce=ae=M=0;var Pe=(ge=ye*nh[N])*Ee;if(11>N||(ce=(Ee+1)/2*(M=(ye+1)/2),N==12&&(ue=(ae=ye)*Ee)),(Ee=a(Pe+2*ce+ue))==null){N=1;break e}$.sd=Ee,11>N?((ye=$.f.RGBA).eb=Ee,ye.fb=0,ye.A=ge,ye.size=Pe):((ye=$.f.kb).y=Ee,ye.O=0,ye.fa=ge,ye.Fd=Pe,ye.f=Ee,ye.N=0+Pe,ye.Ab=M,ye.Cd=ce,ye.ea=Ee,ye.W=0+Pe+ce,ye.Db=M,ye.Ed=ce,N==12&&(ye.F=Ee,ye.J=0+Pe+2*ce),ye.Tc=ue,ye.lb=ae)}if(M=1,ae=$.S,ce=$.width,ue=$.height,ae>=Yd&&13>ae)if(11>ae)N=$.f.RGBA,M&=(ge=Math.abs(N.A))*(ue-1)+ce<=N.size,M&=ge>=ce*nh[ae],M&=N.eb!=null;else{N=$.f.kb,ge=(ce+1)/2,Pe=(ue+1)/2,ye=Math.abs(N.fa),Ee=Math.abs(N.Ab);var Ve=Math.abs(N.Db),Se=Math.abs(N.lb),Le=Se*(ue-1)+ce;M&=ye*(ue-1)+ce<=N.Fd,M&=Ee*(Pe-1)+ge<=N.Cd,M=(M&=Ve*(Pe-1)+ge<=N.Ed)&ye>=ce&Ee>=ge&Ve>=ge,M&=N.y!=null,M&=N.f!=null,M&=N.ea!=null,ae==12&&(M&=Se>=ce,M&=Le<=N.Tc,M&=N.F!=null)}else M=0;N=M?0:2}}return N!=0||z!=null&&z.fd&&(N=Vc($)),N}var ia=64,Ya=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],aa=24,Xa=32,jr=8,Is=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];at("Predictor0","PredictorAdd0"),q.Predictor0=function(){return 4278190080},q.Predictor1=function(N){return N},q.Predictor2=function(N,M,z){return M[z+0]},q.Predictor3=function(N,M,z){return M[z+1]},q.Predictor4=function(N,M,z){return M[z-1]},q.Predictor5=function(N,M,z){return ar(ar(N,M[z+1]),M[z+0])},q.Predictor6=function(N,M,z){return ar(N,M[z-1])},q.Predictor7=function(N,M,z){return ar(N,M[z+0])},q.Predictor8=function(N,M,z){return ar(M[z-1],M[z+0])},q.Predictor9=function(N,M,z){return ar(M[z+0],M[z+1])},q.Predictor10=function(N,M,z){return ar(ar(N,M[z-1]),ar(M[z+0],M[z+1]))},q.Predictor11=function(N,M,z){var $=M[z+0];return 0>=lr($>>24&255,N>>24&255,(M=M[z-1])>>24&255)+lr($>>16&255,N>>16&255,M>>16&255)+lr($>>8&255,N>>8&255,M>>8&255)+lr(255&$,255&N,255&M)?$:N},q.Predictor12=function(N,M,z){var $=M[z+0];return(vr((N>>24&255)+($>>24&255)-((M=M[z-1])>>24&255))<<24|vr((N>>16&255)+($>>16&255)-(M>>16&255))<<16|vr((N>>8&255)+($>>8&255)-(M>>8&255))<<8|vr((255&N)+(255&$)-(255&M)))>>>0},q.Predictor13=function(N,M,z){var $=M[z-1];return(Br((N=ar(N,M[z+0]))>>24&255,$>>24&255)<<24|Br(N>>16&255,$>>16&255)<<16|Br(N>>8&255,$>>8&255)<<8|Br(255&N,255&$))>>>0};var ee=q.PredictorAdd0;q.PredictorAdd1=Ur,at("Predictor2","PredictorAdd2"),at("Predictor3","PredictorAdd3"),at("Predictor4","PredictorAdd4"),at("Predictor5","PredictorAdd5"),at("Predictor6","PredictorAdd6"),at("Predictor7","PredictorAdd7"),at("Predictor8","PredictorAdd8"),at("Predictor9","PredictorAdd9"),at("Predictor10","PredictorAdd10"),at("Predictor11","PredictorAdd11"),at("Predictor12","PredictorAdd12"),at("Predictor13","PredictorAdd13");var l=q.PredictorAdd2;Ht("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),Ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var p,g=q.ColorIndexInverseTransform,y=q.MapARGB,w=q.VP8LColorIndexInverseTransformAlpha,A=q.MapAlpha,O=q.VP8LPredictorsAdd=[];O.length=16,(q.VP8LPredictors=[]).length=16,(q.VP8LPredictorsAdd_C=[]).length=16,(q.VP8LPredictors_C=[]).length=16;var j,L,W,te,oe,_e,Oe,je,Be,Ze,ct,ut,ot,nr,pr,qn,sa,Bi,mn,Fi,Ka,Ml,cl,zf,jl,po,qf,Zs,Yc=a(511),$d=a(2041),Hf=a(225),Gf=a(767),Vd=0,Rl=$d,Wf=Hf,Za=Gf,Oa=Yc,Yd=0,Qa=1,Xd=2,go=3,$f=4,Wu=5,uc=6,Vf=7,Kd=8,$u=9,Zd=10,mo=[2,3,7],Vu=[3,3,11],Xc=[280,256,256,256,40],Qd=[0,1,1,1,0],Yf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],vo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],yo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],fc=8,bo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],xo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qs=null,Jp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],P0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Jd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],eg=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ta=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Zn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Jr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ps=[],wi=[],Fo=[],dc=1,D0=2,Pl=[],Ia=[];Li("UpsampleRgbLinePair",Bo,3),Li("UpsampleBgrLinePair",Kn,3),Li("UpsampleRgbaLinePair",ii,4),Li("UpsampleBgraLinePair",ho,4),Li("UpsampleArgbLinePair",fo,4),Li("UpsampleRgba4444LinePair",ll,2),Li("UpsampleRgb565LinePair",uo,2);var Kc=q.UpsampleRgbLinePair,L0=q.UpsampleBgrLinePair,Yu=q.UpsampleRgbaLinePair,eh=q.UpsampleBgraLinePair,hc=q.UpsampleArgbLinePair,ul=q.UpsampleRgba4444LinePair,pc=q.UpsampleRgb565LinePair,wo=16,Xu=1<<wo-1,Zc=-227,gc=482,th=6,mc=0,ka=a(256),rh=a(256),tg=a(256),Wy=a(256),$y=a(gc-Zc),Vy=a(gc-Zc);Os("YuvToRgbRow",Bo,3),Os("YuvToBgrRow",Kn,3),Os("YuvToRgbaRow",ii,4),Os("YuvToBgraRow",ho,4),Os("YuvToArgbRow",fo,4),Os("YuvToRgba4444Row",ll,2),Os("YuvToRgb565Row",uo,2);var ki=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ku=[0,2,8],Xf=[8,7,6,4,4,2,2,2,1,1,1,1],Kf=1;this.WebPDecodeRGBA=function(N,M,z,$,ae){var ce=Qa,ue=new dt,ge=new _r;ue.ba=ge,ge.S=ce,ge.width=[ge.width],ge.height=[ge.height];var ye=ge.width,Ee=ge.height,Pe=new Kt;if(Pe==null||N==null)var Ve=2;else t(Pe!=null),Ve=Xs(N,M,z,Pe.width,Pe.height,Pe.Pd,Pe.Qd,Pe.format,null);if(Ve!=0?ye=0:(ye!=null&&(ye[0]=Pe.width[0]),Ee!=null&&(Ee[0]=Pe.height[0]),ye=1),ye){ge.width=ge.width[0],ge.height=ge.height[0],$!=null&&($[0]=ge.width),ae!=null&&(ae[0]=ge.height);e:{if($=new Hs,(ae=new yt).data=N,ae.w=M,ae.ha=z,ae.kd=1,M=[0],t(ae!=null),((N=Xs(ae.data,ae.w,ae.ha,null,null,null,M,null,ae))==0||N==7)&&M[0]&&(N=4),(M=N)==0){if(t(ue!=null),$.data=ae.data,$.w=ae.w+ae.offset,$.ha=ae.ha-ae.offset,$.put=Zt,$.ac=ea,$.bc=Di,$.ma=ue,ae.xa){if((N=ha())==null){ue=1;break e}if((function(Se,Le){var He=[0],st=[0],$e=[0];t:for(;;){if(Se==null)return 0;if(Le==null)return Se.a=2,0;if(Se.l=Le,Se.a=0,Ie(Se.m,Le.data,Le.w,Le.ha),!io(Se.m,He,st,$e)){Se.a=3;break t}if(Se.xb=D0,Le.width=He[0],Le.height=st[0],!zs(He[0],st[0],1,Se,null))break t;return 1}return t(Se.a!=0),0})(N,$)){if($=(M=Ts($.width,$.height,ue.Oa,ue.ba))==0){t:{$=N;r:for(;;){if($==null){$=0;break t}if(t($.s.yc!=null),t($.s.Ya!=null),t(0<$.s.Wb),t((z=$.l)!=null),t((ae=z.ma)!=null),$.xb!=0){if($.ca=ae.ba,$.tb=ae.tb,t($.ca!=null),!Ks(ae.Oa,z,go)){$.a=2;break r}if(!qs($,z.width)||z.da)break r;if((z.da||hr($.ca.S))&&Ys(),11>$.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),$.ca.f.kb.F!=null&&Ys()),$.Pb&&0<$.s.ua&&$.s.vb.X==null&&!ve($.s.vb,$.s.Wa.Xa)){$.a=1;break r}$.xb=0}if(!da($,$.V,$.Ba,$.c,$.i,z.o,xi))break r;ae.Dc=$.Ma,$=1;break t}t($.a!=0),$=0}$=!$}$&&(M=N.a)}else M=N.a}else{if((N=new ds)==null){ue=1;break e}if(N.Fa=ae.na,N.P=ae.P,N.qc=ae.Sa,ao(N,$)){if((M=Ts($.width,$.height,ue.Oa,ue.ba))==0){if(N.Aa=0,z=ue.Oa,t((ae=N)!=null),z!=null){if(0<(ye=0>(ye=z.Md)?0:100<ye?255:255*ye/100)){for(Ee=Pe=0;4>Ee;++Ee)12>(Ve=ae.pb[Ee]).lc&&(Ve.ia=ye*Xf[0>Ve.lc?0:Ve.lc]>>3),Pe|=Ve.ia;Pe&&(alert("todo:VP8InitRandom"),ae.ia=1)}ae.Ga=z.Id,100<ae.Ga?ae.Ga=100:0>ae.Ga&&(ae.Ga=0)}(function(Se,Le){if(Se==null)return 0;if(Le==null)return br(Se,2,"NULL VP8Io parameter in VP8Decode().");if(!Se.cb&&!ao(Se,Le))return 0;if(t(Se.cb),Le.ac==null||Le.ac(Le)){Le.ob&&(Se.L=0);var He=Ku[Se.L];if(Se.L==2?(Se.yb=0,Se.zb=0):(Se.yb=Le.v-He>>4,Se.zb=Le.j-He>>4,0>Se.yb&&(Se.yb=0),0>Se.zb&&(Se.zb=0)),Se.Va=Le.o+15+He>>4,Se.Hb=Le.va+15+He>>4,Se.Hb>Se.za&&(Se.Hb=Se.za),Se.Va>Se.Ub&&(Se.Va=Se.Ub),0<Se.L){var st=Se.ed;for(He=0;4>He;++He){var $e;if(Se.Qa.Cb){var it=Se.Qa.Lb[He];Se.Qa.Fb||(it+=st.Tb)}else it=st.Tb;for($e=0;1>=$e;++$e){var ht=Se.gd[He][$e],xt=it;if(st.Pc&&(xt+=st.vd[0],$e&&(xt+=st.od[0])),0<(xt=0>xt?0:63<xt?63:xt)){var vt=xt;0<st.wb&&(vt=4<st.wb?vt>>2:vt>>1)>9-st.wb&&(vt=9-st.wb),1>vt&&(vt=1),ht.dd=vt,ht.tc=2*xt+vt,ht.ld=40<=xt?2:15<=xt?1:0}else ht.tc=0;ht.La=$e}}}He=0}else br(Se,6,"Frame setup failed"),He=Se.a;if(He=He==0){if(He){Se.$c=0,0<Se.Aa||(Se.Ic=Kf);t:{He=Se.Ic,st=4*(vt=Se.za);var Gt=32*vt,It=vt+1,kr=0<Se.L?vt*(0<Se.Aa?2:1):0,Ft=(Se.Aa==2?2:1)*vt;if((ht=st+832+($e=3*(16*He+Ku[Se.L])/2*Gt)+(it=Se.Fa!=null&&0<Se.Fa.length?Se.Kc.c*Se.Kc.i:0))!=ht)He=0;else{if(ht>Se.Vb){if(Se.Vb=0,Se.Ec=a(ht),Se.Fc=0,Se.Ec==null){He=br(Se,1,"no memory during frame initialization.");break t}Se.Vb=ht}ht=Se.Ec,xt=Se.Fc,Se.Ac=ht,Se.Bc=xt,xt+=st,Se.Gd=o(Gt,$r),Se.Hd=0,Se.rb=o(It+1,rn),Se.sb=1,Se.wa=kr?o(kr,fs):null,Se.Y=0,Se.D.Nb=0,Se.D.wa=Se.wa,Se.D.Y=Se.Y,0<Se.Aa&&(Se.D.Y+=vt),t(!0),Se.oc=ht,Se.pc=xt,xt+=832,Se.ya=o(Ft,Wc),Se.aa=0,Se.D.ya=Se.ya,Se.D.aa=Se.aa,Se.Aa==2&&(Se.D.aa+=vt),Se.R=16*vt,Se.B=8*vt,vt=(Gt=Ku[Se.L])*Se.R,Gt=Gt/2*Se.B,Se.sa=ht,Se.ta=xt+vt,Se.qa=Se.sa,Se.ra=Se.ta+16*He*Se.R+Gt,Se.Ha=Se.qa,Se.Ia=Se.ra+8*He*Se.B+Gt,Se.$c=0,xt+=$e,Se.mb=it?ht:null,Se.nb=it?xt:null,t(xt+it<=Se.Fc+Se.Vb),Ss(Se),i(Se.Ac,Se.Bc,0,st),He=1}}if(He){if(Le.ka=0,Le.y=Se.sa,Le.O=Se.ta,Le.f=Se.qa,Le.N=Se.ra,Le.ea=Se.Ha,Le.Vd=Se.Ia,Le.fa=Se.R,Le.Rc=Se.B,Le.F=null,Le.J=0,!Vd){for(He=-255;255>=He;++He)Yc[255+He]=0>He?-He:He;for(He=-1020;1020>=He;++He)$d[1020+He]=-128>He?-128:127<He?127:He;for(He=-112;112>=He;++He)Hf[112+He]=-16>He?-16:15<He?15:He;for(He=-255;510>=He;++He)Gf[255+He]=0>He?0:255<He?255:He;Vd=1}Oe=Gs,je=be,Ze=Tt,ct=ri,ut=pa,Be=We,ot=Vs,nr=Lo,pr=re,qn=Ae,sa=et,Bi=P,mn=ke,Fi=Fe,Ka=Po,Ml=Do,cl=Tl,zf=nn,wi[0]=Gu,wi[1]=Na,wi[2]=$s,wi[3]=ur,wi[4]=fr,wi[5]=$c,wi[6]=Qr,wi[7]=Ro,wi[8]=hs,wi[9]=Wa,ps[0]=Ga,ps[1]=_n,ps[2]=lc,ps[3]=Hu,ps[4]=Ws,ps[5]=Cl,ps[6]=Mn,Fo[0]=oo,Fo[1]=rr,Fo[2]=so,Fo[3]=al,Fo[4]=ni,Fo[5]=Nl,Fo[6]=$a,He=1}else He=0}He&&(He=(function(Zr,Qn){for(Zr.M=0;Zr.M<Zr.Va;++Zr.M){var Rr,kt=Zr.Jc[Zr.M&Zr.Xb],At=Zr.m,hi=Zr;for(Rr=0;Rr<hi.za;++Rr){var xr=At,Lr=hi,An=Lr.Ac,oa=Lr.Bc+4*Rr,Ma=Lr.zc,Hn=Lr.ya[Lr.aa+Rr];if(Lr.Qa.Bb?Hn.$b=Ge(xr,Lr.Pa.jb[0])?2+Ge(xr,Lr.Pa.jb[2]):Ge(xr,Lr.Pa.jb[1]):Hn.$b=0,Lr.kc&&(Hn.Ad=Ge(xr,Lr.Bd)),Hn.Za=!Ge(xr,145)+0,Hn.Za){var Ui=Hn.Ob,Ja=0;for(Lr=0;4>Lr;++Lr){var zi,Wr=Ma[0+Lr];for(zi=0;4>zi;++zi){Wr=Ta[An[oa+zi]][Wr];for(var un=Jd[Ge(xr,Wr[0])];0<un;)un=Jd[2*un+Ge(xr,Wr[un])];Wr=-un,An[oa+zi]=Wr}n(Ui,Ja,An,oa,4),Ja+=4,Ma[0+Lr]=Wr}}else Wr=Ge(xr,156)?Ge(xr,128)?1:3:Ge(xr,163)?2:0,Hn.Ob[0]=Wr,i(An,oa,Wr,4),i(Ma,0,Wr,4);Hn.Dd=Ge(xr,142)?Ge(xr,114)?Ge(xr,183)?1:3:2:0}if(hi.m.Ka)return br(Zr,7,"Premature end-of-partition0 encountered.");for(;Zr.ja<Zr.za;++Zr.ja){if(hi=kt,xr=(At=Zr).rb[At.sb-1],An=At.rb[At.sb+At.ja],Rr=At.ya[At.aa+At.ja],oa=At.kc?Rr.Ad:0)xr.la=An.la=0,Rr.Za||(xr.Na=An.Na=0),Rr.Hc=0,Rr.Gc=0,Rr.ia=0;else{var pi,vn;if(xr=An,An=hi,oa=At.Pa.Xc,Ma=At.ya[At.aa+At.ja],Hn=At.pb[Ma.$b],Lr=Ma.ad,Ui=0,Ja=At.rb[At.sb-1],Wr=zi=0,i(Lr,Ui,0,384),Ma.Za)var la=0,gi=oa[3];else{un=a(16);var fn=xr.Na+Ja.Na;if(fn=Qs(An,oa[1],fn,Hn.Eb,0,un,0),xr.Na=Ja.Na=(0<fn)+0,1<fn)Oe(un,0,Lr,Ui);else{var Mi=un[0]+3>>3;for(un=0;256>un;un+=16)Lr[Ui+un]=Mi}la=1,gi=oa[0]}var Sn=15&xr.la,qi=15&Ja.la;for(un=0;4>un;++un){var Hi=1&qi;for(Mi=vn=0;4>Mi;++Mi)Sn=Sn>>1|(Hi=(fn=Qs(An,gi,fn=Hi+(1&Sn),Hn.Sc,la,Lr,Ui))>la)<<7,vn=vn<<2|(3<fn?3:1<fn?2:Lr[Ui+0]!=0),Ui+=16;Sn>>=4,qi=qi>>1|Hi<<7,zi=(zi<<8|vn)>>>0}for(gi=Sn,la=qi>>4,pi=0;4>pi;pi+=2){for(vn=0,Sn=xr.la>>4+pi,qi=Ja.la>>4+pi,un=0;2>un;++un){for(Hi=1&qi,Mi=0;2>Mi;++Mi)fn=Hi+(1&Sn),Sn=Sn>>1|(Hi=0<(fn=Qs(An,oa[2],fn,Hn.Qc,0,Lr,Ui)))<<3,vn=vn<<2|(3<fn?3:1<fn?2:Lr[Ui+0]!=0),Ui+=16;Sn>>=2,qi=qi>>1|Hi<<5}Wr|=vn<<4*pi,gi|=Sn<<4<<pi,la|=(240&qi)<<pi}xr.la=gi,Ja.la=la,Ma.Hc=zi,Ma.Gc=Wr,Ma.ia=43690&Wr?0:Hn.ia,oa=!(zi|Wr)}if(0<At.L&&(At.wa[At.Y+At.ja]=At.gd[Rr.$b][Rr.Za],At.wa[At.Y+At.ja].La|=!oa),hi.Ka)return br(Zr,7,"Premature end-of-file encountered.")}if(Ss(Zr),At=Qn,hi=1,Rr=(kt=Zr).D,xr=0<kt.L&&kt.M>=kt.zb&&kt.M<=kt.Va,kt.Aa==0)t:{if(Rr.M=kt.M,Rr.uc=xr,ai(kt,Rr),hi=1,Rr=(vn=kt.D).Nb,xr=(Wr=Ku[kt.L])*kt.R,An=Wr/2*kt.B,un=16*Rr*kt.R,Mi=8*Rr*kt.B,oa=kt.sa,Ma=kt.ta-xr+un,Hn=kt.qa,Lr=kt.ra-An+Mi,Ui=kt.Ha,Ja=kt.Ia-An+Mi,qi=(Sn=vn.M)==0,zi=Sn>=kt.Va-1,kt.Aa==2&&ai(kt,vn),vn.uc)for(Hi=(fn=kt).D.M,t(fn.D.uc),vn=fn.yb;vn<fn.Hb;++vn){la=vn,gi=Hi;var Rn=(on=(Gi=fn).D).Nb;pi=Gi.R;var on=on.wa[on.Y+la],es=Gi.sa,_i=Gi.ta+16*Rn*pi+16*la,dr=on.dd,gr=on.tc;if(gr!=0)if(t(3<=gr),Gi.L==1)0<la&&Ml(es,_i,pi,gr+4),on.La&&zf(es,_i,pi,gr),0<gi&&Ka(es,_i,pi,gr+4),on.La&&cl(es,_i,pi,gr);else{var dn=Gi.B,ks=Gi.qa,_o=Gi.ra+8*Rn*dn+8*la,gs=Gi.Ha,Gi=Gi.Ia+8*Rn*dn+8*la;Rn=on.ld,0<la&&(nr(es,_i,pi,gr+4,dr,Rn),qn(ks,_o,gs,Gi,dn,gr+4,dr,Rn)),on.La&&(Bi(es,_i,pi,gr,dr,Rn),Fi(ks,_o,gs,Gi,dn,gr,dr,Rn)),0<gi&&(ot(es,_i,pi,gr+4,dr,Rn),pr(ks,_o,gs,Gi,dn,gr+4,dr,Rn)),on.La&&(sa(es,_i,pi,gr,dr,Rn),mn(ks,_o,gs,Gi,dn,gr,dr,Rn))}}if(kt.ia&&alert("todo:DitherRow"),At.put!=null){if(vn=16*Sn,Sn=16*(Sn+1),qi?(At.y=kt.sa,At.O=kt.ta+un,At.f=kt.qa,At.N=kt.ra+Mi,At.ea=kt.Ha,At.W=kt.Ia+Mi):(vn-=Wr,At.y=oa,At.O=Ma,At.f=Hn,At.N=Lr,At.ea=Ui,At.W=Ja),zi||(Sn-=Wr),Sn>At.o&&(Sn=At.o),At.F=null,At.J=null,kt.Fa!=null&&0<kt.Fa.length&&vn<Sn&&(At.J=Et(kt,At,vn,Sn-vn),At.F=kt.mb,At.F==null&&At.F.length==0)){hi=br(kt,3,"Could not decode alpha data.");break t}vn<At.j&&(Wr=At.j-vn,vn=At.j,t(!(1&Wr)),At.O+=kt.R*Wr,At.N+=kt.B*(Wr>>1),At.W+=kt.B*(Wr>>1),At.F!=null&&(At.J+=At.width*Wr)),vn<Sn&&(At.O+=At.v,At.N+=At.v>>1,At.W+=At.v>>1,At.F!=null&&(At.J+=At.v),At.ka=vn-At.j,At.U=At.va-At.v,At.T=Sn-vn,hi=At.put(At))}Rr+1!=kt.Ic||zi||(n(kt.sa,kt.ta-xr,oa,Ma+16*kt.R,xr),n(kt.qa,kt.ra-An,Hn,Lr+8*kt.B,An),n(kt.Ha,kt.Ia-An,Ui,Ja+8*kt.B,An))}if(!hi)return br(Zr,6,"Output aborted.")}return 1})(Se,Le)),Le.bc!=null&&Le.bc(Le),He&=1}return He?(Se.cb=0,He):0})(N,$)||(M=N.a)}}else M=N.a}M==0&&ue.Oa!=null&&ue.Oa.fd&&(M=Vc(ue.ba))}ue=M}ce=ue!=0?null:11>ce?ge.f.RGBA.eb:ge.f.kb.y}else ce=null;return ce};var nh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(q,se){for(var G="",H=0;H<4;H++)G+=String.fromCharCode(q[se++]);return G}function h(q,se){return q[se+0]|q[se+1]<<8}function m(q,se){return(q[se+0]|q[se+1]<<8|q[se+2]<<16)>>>0}function b(q,se){return(q[se+0]|q[se+1]<<8|q[se+2]<<16|q[se+3]<<24)>>>0}new d;var x=[0],E=[0],C=[],T=new d,I=e,B=(function(q,se){var G={},H=0,le=!1,J=0,ie=0;if(G.frames=[],!(function(X,de){for(var me=0;me<4;me++)if(X[de+me]!="RIFF".charCodeAt(me))return!0;return!1})(q,se)){for(b(q,se+=4),se+=8;se<q.length;){var ne=c(q,se),fe=b(q,se+=4);se+=4;var we=fe+(1&fe);switch(ne){case"VP8 ":case"VP8L":G.frames[H]===void 0&&(G.frames[H]={}),(pe=G.frames[H]).src_off=le?ie:se-8,pe.src_size=J+fe+8,H++,le&&(le=!1,J=0,ie=0);break;case"VP8X":(pe=G.header={}).feature_flags=q[se];var Ie=se+4;pe.canvas_width=1+m(q,Ie),Ie+=3,pe.canvas_height=1+m(q,Ie),Ie+=3;break;case"ALPH":le=!0,J=we+8,ie=se-8;break;case"ANIM":(pe=G.header).bgcolor=b(q,se),Ie=se+4,pe.loop_count=h(q,Ie),Ie+=2;break;case"ANMF":var Me,pe;(pe=G.frames[H]={}).offset_x=2*m(q,se),se+=3,pe.offset_y=2*m(q,se),se+=3,pe.width=1+m(q,se),se+=3,pe.height=1+m(q,se),se+=3,pe.duration=m(q,se),se+=3,Me=q[se++],pe.dispose=1&Me,pe.blend=Me>>1&1}ne!="ANMF"&&(se+=we)}return G}})(I,0);B.response=I,B.rgbaoutput=!0,B.dataurl=!1;var U=B.header?B.header:null,F=B.frames?B.frames:null;if(U){U.loop_counter=U.loop_count,x=[U.canvas_height],E=[U.canvas_width];for(var K=0;K<F.length&&F[K].blend!=0;K++);}var Z=F[0],V=T.WebPDecodeRGBA(I,Z.src_off,Z.src_size,E,x);Z.rgba=V,Z.imgwidth=E[0],Z.imgheight=x[0];for(var Q=0;Q<E[0]*x[0]*4;Q++)C[Q]=V[Q];return this.width=E,this.height=x,this.data=C,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function tge(){var e,t=this.internal.__metadata__.metadata,r=unescape(encodeURIComponent(t));e=this.internal.__metadata__.rawXml?r:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+e.length+" >>"),this.internal.write("stream"),this.internal.write(e),this.internal.write("endstream"),this.internal.write("endobj")}function rge(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(e){var t,r,n,i,a,o,u,d,c,h=function(X){return X=X||{},this.isStrokeTransparent=X.isStrokeTransparent||!1,this.strokeOpacity=X.strokeOpacity||1,this.strokeStyle=X.strokeStyle||"#000000",this.fillStyle=X.fillStyle||"#000000",this.isFillTransparent=X.isFillTransparent||!1,this.fillOpacity=X.fillOpacity||1,this.font=X.font||"10px sans-serif",this.textBaseline=X.textBaseline||"alphabetic",this.textAlign=X.textAlign||"left",this.lineWidth=X.lineWidth||1,this.lineJoin=X.lineJoin||"miter",this.lineCap=X.lineCap||"butt",this.path=X.path||[],this.transform=X.transform!==void 0?X.transform.clone():new d,this.globalCompositeOperation=X.globalCompositeOperation||"normal",this.globalAlpha=X.globalAlpha||1,this.clip_path=X.clip_path||[],this.currentPoint=X.currentPoint||new o,this.miterLimit=X.miterLimit||10,this.lastPoint=X.lastPoint||new o,this.lineDashOffset=X.lineDashOffset||0,this.lineDash=X.lineDash||[],this.margin=X.margin||[0,0,0,0],this.prevPageLastElemOffset=X.prevPageLastElemOffset||0,this.ignoreClearRect=typeof X.ignoreClearRect!="boolean"||X.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,u=this.internal.Rectangle,d=this.internal.Matrix,c=new h}]);var m=function(X){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var de=X;Object.defineProperty(this,"pdf",{get:function(){return de}});var me=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return me},set:function(ve){me=!!ve}});var Ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ne},set:function(ve){Ne=!!ve}});var xe=0;Object.defineProperty(this,"posX",{get:function(){return xe},set:function(ve){isNaN(ve)||(xe=ve)}});var Re=0;Object.defineProperty(this,"posY",{get:function(){return Re},set:function(ve){isNaN(ve)||(Re=ve)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ve){var wt;typeof ve=="number"?wt=[ve,ve,ve,ve]:((wt=new Array(4))[0]=ve[0],wt[1]=ve.length>=2?ve[1]:wt[0],wt[2]=ve.length>=3?ve[2]:wt[0],wt[3]=ve.length>=4?ve[3]:wt[1]),c.margin=wt}});var ze=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ze},set:function(ve){ze=ve}});var Ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ce},set:function(ve){Ce=ve}});var Ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ge},set:function(ve){Ge=ve}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ve){ve instanceof h&&(c=ve)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ve){c.path=ve}});var Je=[];Object.defineProperty(this,"ctxStack",{get:function(){return Je},set:function(ve){Je=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var wt;wt=b(ve),this.ctx.fillStyle=wt.style,this.ctx.isFillTransparent=wt.a===0,this.ctx.fillOpacity=wt.a,this.pdf.setFillColor(wt.r,wt.g,wt.b,{a:wt.a}),this.pdf.setTextColor(wt.r,wt.g,wt.b,{a:wt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var wt=b(ve);this.ctx.strokeStyle=wt.style,this.ctx.isStrokeTransparent=wt.a===0,this.ctx.strokeOpacity=wt.a,wt.a===0?this.pdf.setDrawColor(255,255,255):(wt.a,this.pdf.setDrawColor(wt.r,wt.g,wt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var qe=null,lt=null,bt=null;Object.defineProperty(this,"fontFaces",{get:function(){return bt},set:function(ve){qe=null,lt=null,bt=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var wt;if(this.ctx.font=ve,(wt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ve))!==null){var jt=wt[1];wt[2];var _t=wt[3],rt=wt[4];wt[5];var er=wt[6],at=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(rt)[2];rt=Math.floor(at==="px"?parseFloat(rt)*this.pdf.internal.scaleFactor:at==="em"?parseFloat(rt)*this.pdf.getFontSize():parseFloat(rt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(rt);var ir=(function(Ht){var ci,tr,nt=[],Rt=Ht.trim();if(Rt==="")return w5;if(Rt in iM)return[iM[Rt]];for(;Rt!=="";){switch(tr=null,ci=(Rt=sM(Rt)).charAt(0)){case'"':case"'":tr=Xpe(Rt.substring(1),ci);break;default:tr=Kpe(Rt)}if(tr===null||(nt.push(tr[0]),(Rt=sM(tr[1]))!==""&&Rt.charAt(0)!==","))return w5;Rt=Rt.replace(/^,/,"")}return nt})(er);if(this.fontFaces){var ar=(function(Ht,ci){var tr=Ht.getFontList(),nt=JSON.stringify(tr);if(qe===null||lt!==nt){var Rt=(function(Bt){var Ct=[];return Object.keys(Bt).forEach(function(cn){Bt[cn].forEach(function(hr){var wr=null;switch(hr){case"bold":wr={family:cn,weight:"bold"};break;case"italic":wr={family:cn,style:"italic"};break;case"bolditalic":wr={family:cn,weight:"bold",style:"italic"};break;case"":case"normal":wr={family:cn}}wr!==null&&(wr.ref={name:cn,style:hr},Ct.push(wr))})}),Ct})(tr);qe=(function(Bt){for(var Ct={},cn=0;cn<Bt.length;++cn){var hr=x5(Bt[cn]),wr=hr.family,Xt=hr.stretch,_r=hr.style,Kt=hr.weight;Ct[wr]=Ct[wr]||{},Ct[wr][Xt]=Ct[wr][Xt]||{},Ct[wr][Xt][_r]=Ct[wr][Xt][_r]||{},Ct[wr][Xt][_r][Kt]=hr}return Ct})(Rt.concat(ci)),lt=nt}return qe})(this.pdf,this.fontFaces),vr=ir.map(function(Ht){return{family:Ht,stretch:"normal",weight:_t,style:jt}}),Br=(function(Ht,ci,tr){for(var nt=(tr=tr||{}).defaultFontFamily||"times",Rt=Object.assign({},Ype,tr.genericFontFamilies||{}),Bt=null,Ct=null,cn=0;cn<ci.length;++cn)if(Rt[(Bt=x5(ci[cn])).family]&&(Bt.family=Rt[Bt.family]),Ht.hasOwnProperty(Bt.family)){Ct=Ht[Bt.family];break}if(!(Ct=Ct||Ht[nt]))throw new Error("Could not find a font-family for the rule '"+aM(Bt)+"' and default family '"+nt+"'.");if(Ct=(function(hr,wr){if(wr[hr])return wr[hr];var Xt=e3[hr],_r=Xt<=e3.normal?-1:1,Kt=nM(wr,B9,Xt,_r);if(!Kt)throw new Error("Could not find a matching font-stretch value for "+hr);return Kt})(Bt.stretch,Ct),Ct=(function(hr,wr){if(wr[hr])return wr[hr];for(var Xt=L9[hr],_r=0;_r<Xt.length;++_r)if(wr[Xt[_r]])return wr[Xt[_r]];throw new Error("Could not find a matching font-style for "+hr)})(Bt.style,Ct),!(Ct=(function(hr,wr){if(wr[hr])return wr[hr];if(hr===400&&wr[500])return wr[500];if(hr===500&&wr[400])return wr[400];var Xt=Vpe[hr],_r=nM(wr,F9,Xt,hr<400?-1:1);if(!_r)throw new Error("Could not find a matching font-weight for value "+hr);return _r})(Bt.weight,Ct)))throw new Error("Failed to resolve a font for the rule '"+aM(Bt)+"'.");return Ct})(ar,vr);this.pdf.setFont(Br.ref.name,Br.ref.style)}else{var lr="";(_t==="bold"||parseInt(_t,10)>=700||jt==="bold")&&(lr="bold"),jt==="italic"&&(lr+="italic"),lr.length===0&&(lr="normal");for(var Ur="",Cr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ot=0;Ot<ir.length;Ot++){if(this.pdf.internal.getFont(ir[Ot],lr,{noFallback:!0,disableWarning:!0})!==void 0){Ur=ir[Ot];break}if(lr==="bolditalic"&&this.pdf.internal.getFont(ir[Ot],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ur=ir[Ot],lr="bold";else if(this.pdf.internal.getFont(ir[Ot],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ur=ir[Ot],lr="normal";break}}if(Ur===""){for(var Tr=0;Tr<ir.length;Tr++)if(Cr[ir[Tr]]){Ur=Cr[ir[Tr]];break}}Ur=Ur===""?"Times":Ur,this.pdf.setFont(Ur,lr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};m.prototype.setLineDash=function(X){this.lineDash=X},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){F.call(this,"fill",!1)},m.prototype.stroke=function(){F.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(X,de){if(isNaN(X)||isNaN(de))throw ei.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var me=this.ctx.transform.applyToPoint(new o(X,de));this.path.push({type:"mt",x:me.x,y:me.y}),this.ctx.lastPoint=new o(X,de)},m.prototype.closePath=function(){var X=new o(0,0),de=0;for(de=this.path.length-1;de!==-1;de--)if(this.path[de].type==="begin"&&Un(this.path[de+1])==="object"&&typeof this.path[de+1].x=="number"){X=new o(this.path[de+1].x,this.path[de+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(X.x,X.y)},m.prototype.lineTo=function(X,de){if(isNaN(X)||isNaN(de))throw ei.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var me=this.ctx.transform.applyToPoint(new o(X,de));this.path.push({type:"lt",x:me.x,y:me.y}),this.ctx.lastPoint=new o(me.x,me.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},m.prototype.quadraticCurveTo=function(X,de,me,Ne){if(isNaN(me)||isNaN(Ne)||isNaN(X)||isNaN(de))throw ei.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var xe=this.ctx.transform.applyToPoint(new o(me,Ne)),Re=this.ctx.transform.applyToPoint(new o(X,de));this.path.push({type:"qct",x1:Re.x,y1:Re.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new o(xe.x,xe.y)},m.prototype.bezierCurveTo=function(X,de,me,Ne,xe,Re){if(isNaN(xe)||isNaN(Re)||isNaN(X)||isNaN(de)||isNaN(me)||isNaN(Ne))throw ei.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ze=this.ctx.transform.applyToPoint(new o(xe,Re)),Ce=this.ctx.transform.applyToPoint(new o(X,de)),Ge=this.ctx.transform.applyToPoint(new o(me,Ne));this.path.push({type:"bct",x1:Ce.x,y1:Ce.y,x2:Ge.x,y2:Ge.y,x:ze.x,y:ze.y}),this.ctx.lastPoint=new o(ze.x,ze.y)},m.prototype.arc=function(X,de,me,Ne,xe,Re){if(isNaN(X)||isNaN(de)||isNaN(me)||isNaN(Ne)||isNaN(xe))throw ei.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Re=!!Re,!this.ctx.transform.isIdentity){var ze=this.ctx.transform.applyToPoint(new o(X,de));X=ze.x,de=ze.y;var Ce=this.ctx.transform.applyToPoint(new o(0,me)),Ge=this.ctx.transform.applyToPoint(new o(0,0));me=Math.sqrt(Math.pow(Ce.x-Ge.x,2)+Math.pow(Ce.y-Ge.y,2))}Math.abs(xe-Ne)>=2*Math.PI&&(Ne=0,xe=2*Math.PI),this.path.push({type:"arc",x:X,y:de,radius:me,startAngle:Ne,endAngle:xe,counterclockwise:Re})},m.prototype.arcTo=function(X,de,me,Ne,xe){throw new Error("arcTo not implemented.")},m.prototype.rect=function(X,de,me,Ne){if(isNaN(X)||isNaN(de)||isNaN(me)||isNaN(Ne))throw ei.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(X,de),this.lineTo(X+me,de),this.lineTo(X+me,de+Ne),this.lineTo(X,de+Ne),this.lineTo(X,de),this.lineTo(X+me,de),this.lineTo(X,de)},m.prototype.fillRect=function(X,de,me,Ne){if(isNaN(X)||isNaN(de)||isNaN(me)||isNaN(Ne))throw ei.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var xe={};this.lineCap!=="butt"&&(xe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(xe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(X,de,me,Ne),this.fill(),xe.hasOwnProperty("lineCap")&&(this.lineCap=xe.lineCap),xe.hasOwnProperty("lineJoin")&&(this.lineJoin=xe.lineJoin)}},m.prototype.strokeRect=function(X,de,me,Ne){if(isNaN(X)||isNaN(de)||isNaN(me)||isNaN(Ne))throw ei.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(X,de,me,Ne),this.stroke())},m.prototype.clearRect=function(X,de,me,Ne){if(isNaN(X)||isNaN(de)||isNaN(me)||isNaN(Ne))throw ei.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(X,de,me,Ne))},m.prototype.save=function(X){X=typeof X!="boolean"||X;for(var de=this.pdf.internal.getCurrentPageInfo().pageNumber,me=0;me<this.pdf.internal.getNumberOfPages();me++)this.pdf.setPage(me+1),this.pdf.internal.out("q");if(this.pdf.setPage(de),X){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ne=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ne}},m.prototype.restore=function(X){X=typeof X!="boolean"||X;for(var de=this.pdf.internal.getCurrentPageInfo().pageNumber,me=0;me<this.pdf.internal.getNumberOfPages();me++)this.pdf.setPage(me+1),this.pdf.internal.out("Q");this.pdf.setPage(de),X&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(X){var de,me,Ne,xe;if(X.isCanvasGradient===!0&&(X=X.getColor()),!X)return{r:0,g:0,b:0,a:0,style:X};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(X))de=0,me=0,Ne=0,xe=0;else{var Re=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(X);if(Re!==null)de=parseInt(Re[1]),me=parseInt(Re[2]),Ne=parseInt(Re[3]),xe=1;else if((Re=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(X))!==null)de=parseInt(Re[1]),me=parseInt(Re[2]),Ne=parseInt(Re[3]),xe=parseFloat(Re[4]);else{if(xe=1,typeof X=="string"&&X.charAt(0)!=="#"){var ze=new I9(X);X=ze.ok?ze.toHex():"#000000"}X.length===4?(de=X.substring(1,2),de+=de,me=X.substring(2,3),me+=me,Ne=X.substring(3,4),Ne+=Ne):(de=X.substring(1,3),me=X.substring(3,5),Ne=X.substring(5,7)),de=parseInt(de,16),me=parseInt(me,16),Ne=parseInt(Ne,16)}}return{r:de,g:me,b:Ne,a:xe,style:X}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(X,de,me,Ne){if(isNaN(de)||isNaN(me)||typeof X!="string")throw ei.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ne=isNaN(Ne)?void 0:Ne,!x.call(this)){var xe=we(this.ctx.transform.rotation),Re=this.ctx.transform.scaleX;H.call(this,{text:X,x:de,y:me,scale:Re,angle:xe,align:this.textAlign,maxWidth:Ne})}},m.prototype.strokeText=function(X,de,me,Ne){if(isNaN(de)||isNaN(me)||typeof X!="string")throw ei.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){Ne=isNaN(Ne)?void 0:Ne;var xe=we(this.ctx.transform.rotation),Re=this.ctx.transform.scaleX;H.call(this,{text:X,x:de,y:me,scale:Re,renderingMode:"stroke",angle:xe,align:this.textAlign,maxWidth:Ne})}},m.prototype.measureText=function(X){if(typeof X!="string")throw ei.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var de=this.pdf,me=this.pdf.internal.scaleFactor,Ne=de.internal.getFontSize(),xe=de.getStringUnitWidth(X)*Ne/de.internal.scaleFactor;return new function(Re){var ze=(Re=Re||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ze}}),this}({width:xe*=Math.round(96*me/72*1e4)/1e4})},m.prototype.scale=function(X,de){if(isNaN(X)||isNaN(de))throw ei.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var me=new d(X,0,0,de,0,0);this.ctx.transform=this.ctx.transform.multiply(me)},m.prototype.rotate=function(X){if(isNaN(X))throw ei.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var de=new d(Math.cos(X),Math.sin(X),-Math.sin(X),Math.cos(X),0,0);this.ctx.transform=this.ctx.transform.multiply(de)},m.prototype.translate=function(X,de){if(isNaN(X)||isNaN(de))throw ei.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var me=new d(1,0,0,1,X,de);this.ctx.transform=this.ctx.transform.multiply(me)},m.prototype.transform=function(X,de,me,Ne,xe,Re){if(isNaN(X)||isNaN(de)||isNaN(me)||isNaN(Ne)||isNaN(xe)||isNaN(Re))throw ei.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ze=new d(X,de,me,Ne,xe,Re);this.ctx.transform=this.ctx.transform.multiply(ze)},m.prototype.setTransform=function(X,de,me,Ne,xe,Re){X=isNaN(X)?1:X,de=isNaN(de)?0:de,me=isNaN(me)?0:me,Ne=isNaN(Ne)?1:Ne,xe=isNaN(xe)?0:xe,Re=isNaN(Re)?0:Re,this.ctx.transform=new d(X,de,me,Ne,xe,Re)};var C=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(X,de,me,Ne,xe,Re,ze,Ce,Ge){var Je=this.pdf.getImageProperties(X),qe=1,lt=1,bt=1,ve=1;Ne!==void 0&&Ce!==void 0&&(bt=Ce/Ne,ve=Ge/xe,qe=Je.width/Ne*Ce/Ne,lt=Je.height/xe*Ge/xe),Re===void 0&&(Re=de,ze=me,de=0,me=0),Ne!==void 0&&Ce===void 0&&(Ce=Ne,Ge=xe),Ne===void 0&&Ce===void 0&&(Ce=Je.width,Ge=Je.height);var wt=this.ctx.transform.decompose(),jt=we(wt.rotate.shx),_t=new d,rt=(_t=(_t=(_t=_t.multiply(wt.translate)).multiply(wt.skew)).multiply(wt.scale)).applyToRectangle(new u(Re-de*bt,ze-me*ve,Ne*qe,xe*lt));if(this.autoPaging){for(var er,at=T.call(this,rt),ir=[],ar=0;ar<at.length;ar+=1)ir.indexOf(at[ar])===-1&&ir.push(at[ar]);U(ir);for(var vr=ir[0],Br=ir[ir.length-1],lr=vr;lr<Br+1;lr++){this.pdf.setPage(lr);var Ur=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Cr=lr===1?this.posY+this.margin[0]:this.margin[0],Ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ht=lr===1?0:Ot+(lr-2)*Tr;if(this.ctx.clip_path.length!==0){var ci=this.path;er=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(er,this.posX+this.margin[3],-Ht+Cr+this.ctx.prevPageLastElemOffset),K.call(this,"fill",!0),this.path=ci}var tr=JSON.parse(JSON.stringify(rt));tr=B([tr],this.posX+this.margin[3],-Ht+Cr+this.ctx.prevPageLastElemOffset)[0];var nt=(lr>vr||lr<Br)&&C.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ur,Tr,null).clip().discardPath()),this.pdf.addImage(X,"JPEG",tr.x,tr.y,tr.w,tr.h,null,null,jt),nt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(X,"JPEG",rt.x,rt.y,rt.w,rt.h,null,null,jt)};var T=function(X,de,me){var Ne=[];de=de||this.pdf.internal.pageSize.width,me=me||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var xe=this.posY+this.ctx.prevPageLastElemOffset;switch(X.type){default:case"mt":case"lt":Ne.push(Math.floor((X.y+xe)/me)+1);break;case"arc":Ne.push(Math.floor((X.y+xe-X.radius)/me)+1),Ne.push(Math.floor((X.y+xe+X.radius)/me)+1);break;case"qct":var Re=Ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,X.x1,X.y1,X.x,X.y);Ne.push(Math.floor((Re.y+xe)/me)+1),Ne.push(Math.floor((Re.y+Re.h+xe)/me)+1);break;case"bct":var ze=Me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,X.x1,X.y1,X.x2,X.y2,X.x,X.y);Ne.push(Math.floor((ze.y+xe)/me)+1),Ne.push(Math.floor((ze.y+ze.h+xe)/me)+1);break;case"rect":Ne.push(Math.floor((X.y+xe)/me)+1),Ne.push(Math.floor((X.y+X.h+xe)/me)+1)}for(var Ce=0;Ce<Ne.length;Ce+=1)for(;this.pdf.internal.getNumberOfPages()<Ne[Ce];)I.call(this);return Ne},I=function(){var X=this.fillStyle,de=this.strokeStyle,me=this.font,Ne=this.lineCap,xe=this.lineWidth,Re=this.lineJoin;this.pdf.addPage(),this.fillStyle=X,this.strokeStyle=de,this.font=me,this.lineCap=Ne,this.lineWidth=xe,this.lineJoin=Re},B=function(X,de,me){for(var Ne=0;Ne<X.length;Ne++)switch(X[Ne].type){case"bct":X[Ne].x2+=de,X[Ne].y2+=me;case"qct":X[Ne].x1+=de,X[Ne].y1+=me;default:X[Ne].x+=de,X[Ne].y+=me}return X},U=function(X){return X.sort(function(de,me){return de-me})},F=function(X,de){var me=this.fillStyle,Ne=this.strokeStyle,xe=this.lineCap,Re=this.lineWidth,ze=Math.abs(Re*this.ctx.transform.scaleX),Ce=this.lineJoin;if(this.autoPaging){for(var Ge,Je,qe=JSON.parse(JSON.stringify(this.path)),lt=JSON.parse(JSON.stringify(this.path)),bt=[],ve=0;ve<lt.length;ve++)if(lt[ve].x!==void 0)for(var wt=T.call(this,lt[ve]),jt=0;jt<wt.length;jt+=1)bt.indexOf(wt[jt])===-1&&bt.push(wt[jt]);for(var _t=0;_t<bt.length;_t++)for(;this.pdf.internal.getNumberOfPages()<bt[_t];)I.call(this);U(bt);for(var rt=bt[0],er=bt[bt.length-1],at=rt;at<er+1;at++){this.pdf.setPage(at),this.fillStyle=me,this.strokeStyle=Ne,this.lineCap=xe,this.lineWidth=ze,this.lineJoin=Ce;var ir=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ar=at===1?this.posY+this.margin[0]:this.margin[0],vr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Br=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lr=at===1?0:vr+(at-2)*Br;if(this.ctx.clip_path.length!==0){var Ur=this.path;Ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(Ge,this.posX+this.margin[3],-lr+ar+this.ctx.prevPageLastElemOffset),K.call(this,X,!0),this.path=Ur}if(Je=JSON.parse(JSON.stringify(qe)),this.path=B(Je,this.posX+this.margin[3],-lr+ar+this.ctx.prevPageLastElemOffset),de===!1||at===0){var Cr=(at>rt||at<er)&&C.call(this);Cr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ir,Br,null).clip().discardPath()),K.call(this,X,de),Cr&&this.pdf.restoreGraphicsState()}this.lineWidth=Re}this.path=qe}else this.lineWidth=ze,K.call(this,X,de),this.lineWidth=Re},K=function(X,de){if((X!=="stroke"||de||!E.call(this))&&(X==="stroke"||de||!x.call(this))){for(var me,Ne,xe=[],Re=this.path,ze=0;ze<Re.length;ze++){var Ce=Re[ze];switch(Ce.type){case"begin":xe.push({begin:!0});break;case"close":xe.push({close:!0});break;case"mt":xe.push({start:Ce,deltas:[],abs:[]});break;case"lt":var Ge=xe.length;if(Re[ze-1]&&!isNaN(Re[ze-1].x)&&(me=[Ce.x-Re[ze-1].x,Ce.y-Re[ze-1].y],Ge>0)){for(;Ge>=0;Ge--)if(xe[Ge-1].close!==!0&&xe[Ge-1].begin!==!0){xe[Ge-1].deltas.push(me),xe[Ge-1].abs.push(Ce);break}}break;case"bct":me=[Ce.x1-Re[ze-1].x,Ce.y1-Re[ze-1].y,Ce.x2-Re[ze-1].x,Ce.y2-Re[ze-1].y,Ce.x-Re[ze-1].x,Ce.y-Re[ze-1].y],xe[xe.length-1].deltas.push(me);break;case"qct":var Je=Re[ze-1].x+2/3*(Ce.x1-Re[ze-1].x),qe=Re[ze-1].y+2/3*(Ce.y1-Re[ze-1].y),lt=Ce.x+2/3*(Ce.x1-Ce.x),bt=Ce.y+2/3*(Ce.y1-Ce.y),ve=Ce.x,wt=Ce.y;me=[Je-Re[ze-1].x,qe-Re[ze-1].y,lt-Re[ze-1].x,bt-Re[ze-1].y,ve-Re[ze-1].x,wt-Re[ze-1].y],xe[xe.length-1].deltas.push(me);break;case"arc":xe.push({deltas:[],abs:[],arc:!0}),Array.isArray(xe[xe.length-1].abs)&&xe[xe.length-1].abs.push(Ce)}}Ne=de?null:X==="stroke"?"stroke":"fill";for(var jt=!1,_t=0;_t<xe.length;_t++)if(xe[_t].arc)for(var rt=xe[_t].abs,er=0;er<rt.length;er++){var at=rt[er];at.type==="arc"?Q.call(this,at.x,at.y,at.radius,at.startAngle,at.endAngle,at.counterclockwise,void 0,de,!jt):le.call(this,at.x,at.y),jt=!0}else if(xe[_t].close===!0)this.pdf.internal.out("h"),jt=!1;else if(xe[_t].begin!==!0){var ir=xe[_t].start.x,ar=xe[_t].start.y;J.call(this,xe[_t].deltas,ir,ar),jt=!0}Ne&&q.call(this,Ne),de&&se.call(this)}},Z=function(X){var de=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,me=de*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return X-me;case"top":return X+de-me;case"hanging":return X+de-2*me;case"middle":return X+de/2-me;default:return X}},V=function(X){return X+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var X=function(){};return X.colorStops=[],X.addColorStop=function(de,me){this.colorStops.push([de,me])},X.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},X.isCanvasGradient=!0,X},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Q=function(X,de,me,Ne,xe,Re,ze,Ce,Ge){for(var Je=ne.call(this,me,Ne,xe,Re),qe=0;qe<Je.length;qe++){var lt=Je[qe];qe===0&&(Ge?G.call(this,lt.x1+X,lt.y1+de):le.call(this,lt.x1+X,lt.y1+de)),ie.call(this,X,de,lt.x2,lt.y2,lt.x3,lt.y3,lt.x4,lt.y4)}Ce?se.call(this):q.call(this,ze)},q=function(X){switch(X){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},se=function(){this.pdf.clip(),this.pdf.discardPath()},G=function(X,de){this.pdf.internal.out(r(X)+" "+n(de)+" m")},H=function(X){var de;switch(X.align){case"right":case"end":de="right";break;case"center":de="center";break;default:de="left"}var me,Ne,xe,Re=this.pdf.getTextDimensions(X.text),ze=Z.call(this,X.y),Ce=V.call(this,ze)-Re.h,Ge=this.ctx.transform.applyToPoint(new o(X.x,ze));if(this.autoPaging){var Je=this.ctx.transform.decompose(),qe=new d;qe=(qe=(qe=qe.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale);for(var lt=this.ctx.transform.applyToRectangle(new u(X.x,ze,Re.w,Re.h)),bt=qe.applyToRectangle(new u(X.x,Ce,Re.w,Re.h)),ve=T.call(this,bt),wt=[],jt=0;jt<ve.length;jt+=1)wt.indexOf(ve[jt])===-1&&wt.push(ve[jt]);U(wt);for(var _t=wt[0],rt=wt[wt.length-1],er=_t;er<rt+1;er++){this.pdf.setPage(er);var at=er===1?this.posY+this.margin[0]:this.margin[0],ir=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ar=this.pdf.internal.pageSize.height-this.margin[2],vr=ar-this.margin[0],Br=this.pdf.internal.pageSize.width-this.margin[1],lr=Br-this.margin[3],Ur=er===1?0:ir+(er-2)*vr;if(this.ctx.clip_path.length!==0){var Cr=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(me,this.posX+this.margin[3],-1*Ur+at),K.call(this,"fill",!0),this.path=Cr}var Ot=B([JSON.parse(JSON.stringify(bt))],this.posX+this.margin[3],-Ur+at+this.ctx.prevPageLastElemOffset)[0];X.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*X.scale),xe=this.lineWidth,this.lineWidth=xe*X.scale);var Tr=this.autoPaging!=="text";if(Tr||Ot.y+Ot.h<=ar){if(Tr||Ot.y>=at&&Ot.x<=Br){var Ht=Tr?X.text:this.pdf.splitTextToSize(X.text,X.maxWidth||Br-Ot.x)[0],ci=B([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-Ur+at+this.ctx.prevPageLastElemOffset)[0],tr=Tr&&(er>_t||er<rt)&&C.call(this);tr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lr,vr,null).clip().discardPath()),this.pdf.text(Ht,ci.x,ci.y,{angle:X.angle,align:de,renderingMode:X.renderingMode}),tr&&this.pdf.restoreGraphicsState()}}else Ot.y<ar&&(this.ctx.prevPageLastElemOffset+=ar-Ot.y);X.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=xe)}}else X.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*X.scale),xe=this.lineWidth,this.lineWidth=xe*X.scale),this.pdf.text(X.text,Ge.x+this.posX,Ge.y+this.posY,{angle:X.angle,align:de,renderingMode:X.renderingMode,maxWidth:X.maxWidth}),X.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=xe)},le=function(X,de,me,Ne){me=me||0,Ne=Ne||0,this.pdf.internal.out(r(X+me)+" "+n(de+Ne)+" l")},J=function(X,de,me){return this.pdf.lines(X,de,me,null,null)},ie=function(X,de,me,Ne,xe,Re,ze,Ce){this.pdf.internal.out([t(i(me+X)),t(a(Ne+de)),t(i(xe+X)),t(a(Re+de)),t(i(ze+X)),t(a(Ce+de)),"c"].join(" "))},ne=function(X,de,me,Ne){for(var xe=2*Math.PI,Re=Math.PI/2;de>me;)de-=xe;var ze=Math.abs(me-de);ze<xe&&Ne&&(ze=xe-ze);for(var Ce=[],Ge=Ne?-1:1,Je=de;ze>1e-5;){var qe=Je+Ge*Math.min(ze,Re);Ce.push(fe.call(this,X,Je,qe)),ze-=Math.abs(qe-Je),Je=qe}return Ce},fe=function(X,de,me){var Ne=(me-de)/2,xe=X*Math.cos(Ne),Re=X*Math.sin(Ne),ze=xe,Ce=-Re,Ge=ze*ze+Ce*Ce,Je=Ge+ze*xe+Ce*Re,qe=4/3*(Math.sqrt(2*Ge*Je)-Je)/(ze*Re-Ce*xe),lt=ze-qe*Ce,bt=Ce+qe*ze,ve=lt,wt=-bt,jt=Ne+de,_t=Math.cos(jt),rt=Math.sin(jt);return{x1:X*Math.cos(de),y1:X*Math.sin(de),x2:lt*_t-bt*rt,y2:lt*rt+bt*_t,x3:ve*_t-wt*rt,y3:ve*rt+wt*_t,x4:X*Math.cos(me),y4:X*Math.sin(me)}},we=function(X){return 180*X/Math.PI},Ie=function(X,de,me,Ne,xe,Re){var ze=X+.5*(me-X),Ce=de+.5*(Ne-de),Ge=xe+.5*(me-xe),Je=Re+.5*(Ne-Re),qe=Math.min(X,xe,ze,Ge),lt=Math.max(X,xe,ze,Ge),bt=Math.min(de,Re,Ce,Je),ve=Math.max(de,Re,Ce,Je);return new u(qe,bt,lt-qe,ve-bt)},Me=function(X,de,me,Ne,xe,Re,ze,Ce){var Ge,Je,qe,lt,bt,ve,wt,jt,_t,rt,er,at,ir,ar,vr=me-X,Br=Ne-de,lr=xe-me,Ur=Re-Ne,Cr=ze-xe,Ot=Ce-Re;for(Je=0;Je<41;Je++)_t=(wt=(qe=X+(Ge=Je/40)*vr)+Ge*((bt=me+Ge*lr)-qe))+Ge*(bt+Ge*(xe+Ge*Cr-bt)-wt),rt=(jt=(lt=de+Ge*Br)+Ge*((ve=Ne+Ge*Ur)-lt))+Ge*(ve+Ge*(Re+Ge*Ot-ve)-jt),Je==0?(er=_t,at=rt,ir=_t,ar=rt):(er=Math.min(er,_t),at=Math.min(at,rt),ir=Math.max(ir,_t),ar=Math.max(ar,rt));return new u(Math.round(er),Math.round(at),Math.round(ir-er),Math.round(ar-at))},pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var X,de,me=(X=this.ctx.lineDash,de=this.ctx.lineDashOffset,JSON.stringify({lineDash:X,lineDashOffset:de}));this.prevLineDash!==me&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=me)}}})(or.API),(function(e){var t=function(o){var u,d,c,h,m,b,x,E,C,T;for(d=[],c=0,h=(o+=u="\0\0\0\0".slice(o.length%4||4)).length;h>c;c+=4)(m=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(b=(m=((m=((m=((m=(m-(T=m%85))/85)-(C=m%85))/85)-(E=m%85))/85)-(x=m%85))/85)%85,d.push(b+33,x+33,E+33,C+33,T+33)):d.push(122);return(function(I,B){for(var U=B;U>0;U--)I.pop()})(d,u.length),String.fromCharCode.apply(String,d)+"~>"},r=function(o){var u,d,c,h,m,b=String,x="length",E=255,C="charCodeAt",T="slice",I="replace";for(o[T](-2),o=o[T](0,-2)[I](/\s/g,"")[I]("z","!!!!!"),c=[],h=0,m=(o+=u="uuuuu"[T](o[x]%5||5))[x];m>h;h+=5)d=52200625*(o[C](h)-33)+614125*(o[C](h+1)-33)+7225*(o[C](h+2)-33)+85*(o[C](h+3)-33)+(o[C](h+4)-33),c.push(E&d>>24,E&d>>16,E&d>>8,E&d);return(function(B,U){for(var F=U;F>0;F--)B.pop()})(c,u[x]),b.fromCharCode.apply(b,c)},n=function(o){return o.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),u.test(o)===!1)return"";for(var d="",c=0;c<o.length;c+=2)d+=String.fromCharCode("0x"+(o[c]+o[c+1]));return d},a=function(o){for(var u=new Uint8Array(o.length),d=o.length;d--;)u[d]=o.charCodeAt(d);return(u=V_(u)).reduce(function(c,h){return c+String.fromCharCode(h)},"")};e.processDataByFilters=function(o,u){var d=0,c=o||"",h=[];for(typeof(u=u||[])=="string"&&(u=[u]),d=0;d<u.length;d+=1)switch(u[d]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[d]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}})(or.API),(function(e){e.loadFile=function(t,r,n){return(function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var u=void 0;try{u=(function(d,c,h){var m=new XMLHttpRequest,b=0,x=function(E){var C=E.length,T=[],I=String.fromCharCode;for(b=0;b<C;b+=1)T.push(I(255&E.charCodeAt(b)));return T.join("")};if(m.open("GET",d,!c),m.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(m.onload=function(){m.status===200?h(x(this.responseText)):h(void 0)}),m.send(null),c&&m.status===200)return x(m.responseText)})(i,a,o)}catch{}return u})(t,r,n)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile})(or.API),(function(e){function t(){return(Mr.html2canvas?Promise.resolve(Mr.html2canvas):r5(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function r(){return(Mr.DOMPurify?Promise.resolve(Mr.DOMPurify):r5(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var n=function(u){var d=Un(u);return d==="undefined"?"undefined":d==="string"||u instanceof String?"string":d==="number"||u instanceof Number?"number":d==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":d==="object"?"object":"unknown"},i=function(u,d){var c=document.createElement(u);for(var h in d.className&&(c.className=d.className),d.innerHTML&&d.dompurify&&(c.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)c.style[h]=d.style[h];return c},a=function u(d,c){for(var h=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),m=d.firstChild;m;m=m.nextSibling)c!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(u(m,c));return d.nodeType===1&&(d.nodeName==="CANVAS"?(h.width=d.width,h.height=d.height,h.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(h.value=d.value),h.addEventListener("load",function(){h.scrollTop=d.scrollTop,h.scrollLeft=d.scrollLeft},!0)),h},o=function u(d){var c=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),h=u.convert(Promise.resolve(),c);return(h=h.setProgress(1,u,1,[u])).set(d)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(u,d){return u.__proto__=d||o.prototype,u},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(u,d){return this.then(function(){switch(d=d||(function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),d){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:u,dompurify:c})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},o.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(d){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,d(this.prop.container,c)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(d){var c=this.opt.jsPDF,h=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var x=0;x<h.length;++x){var E=h[x],C=E.src.find(function(T){return T.format==="truetype"});C&&c.addFont(C.url,E.ref.name,E.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,c.context2d.save(!0),d(this.prop.container,b)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(u,d,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(u,d):this.outputPdf(u,d)},o.prototype.outputPdf=function(u,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,d)})},o.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},o.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(u){if(n(u)!=="object")return this;var d=Object.keys(u||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=u[c]};switch(c){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[c]=u[c]}}},this);return this.then(function(){return this.thenList(d)})},o.prototype.get=function(u,d){return this.then(function(){var c=u in o.template.prop?this.prop[u]:this.opt[u];return d?d(c):c})},o.prototype.setMargin=function(u){return this.then(function(){switch(n(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},o.prototype.setPageSize=function(u){function d(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(u=u||or.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:d(u.inner.width,u.k),height:d(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},o.prototype.setProgress=function(u,d,c,h){return u!=null&&(this.progress.val=u),d!=null&&(this.progress.state=d),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(u,d,c,h){return this.setProgress(u?this.progress.val+u:null,d||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},o.prototype.then=function(u,d){var c=this;return this.thenCore(u,d,function(h,m){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(b){return c.updateProgress(null,h),b}).then(h,m).then(function(b){return c.updateProgress(1),b})})},o.prototype.thenCore=function(u,d,c){c=c||Promise.prototype.then;var h=this;u&&(u=u.bind(h)),d&&(d=d.bind(h));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:o.convert(Object.assign({},h),Promise.prototype),b=c.call(m,u,d);return o.convert(b,h.__proto__)},o.prototype.thenExternal=function(u,d){return Promise.prototype.then.call(this,u,d)},o.prototype.thenList=function(u){var d=this;return u.forEach(function(c){d=d.thenCore(c)}),d},o.prototype.catch=function(u){u&&(u=u.bind(this));var d=Promise.prototype.catch.call(this,u);return o.convert(d,this)},o.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},o.prototype.error=function(u){return this.then(function(){throw new Error(u)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,or.getPageSize=function(u,d,c){if(Un(u)==="object"){var h=u;u=h.orientation,d=h.unit||d,c=h.format||c}d=d||"mm",c=c||"a4",u=(""+(u||"P")).toLowerCase();var m,b=(""+c).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+d}var E,C=0,T=0;if(x.hasOwnProperty(b))C=x[b][1]/m,T=x[b][0]/m;else try{C=c[1],T=c[0]}catch{throw new Error("Invalid format: "+c)}if(u==="p"||u==="portrait")u="p",T>C&&(E=T,T=C,C=E);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",C>T&&(E=T,T=C,C=E)}return{width:T,height:C,unit:d,k:m,orientation:u}},e.html=function(u,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(x5):null;var c=new o(d);return d.worker?c:c.from(u).doCallback()}})(or.API),or.API.addJS=function(e){var t,r,n=(function(i){for(var a="",o=0;o<i.length;o++){var u=i[o];if(u==="("||u===")"){for(var d=0,c=o-1;c>=0&&i[c]==="\\";c--)d++;a+=d%2==0?"\\"+u:u}else a+=u}return a})(e);return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&r!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],u=n.exec(o);if(u!=null){var d=u[1];r.internal.newObjectDeferredBegin(d,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,h=[];for(a=0;a<c;a++){var m=r.internal.newObject();h.push(m);var b=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var x=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<h.length;a++)r.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+x+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var u=this.count=this.count_r({count:0},o);if(u>0&&this.line("/Count "+u),o.options&&o.options.pageNumber){var d=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])})(or.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,o,u){var d,c=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,d=(function(m){for(var b,x=256*m.charCodeAt(4)+m.charCodeAt(5),E=m.length,C={width:0,height:0,numcomponents:1},T=4;T<E;T+=2){if(T+=x,t.indexOf(m.charCodeAt(T+1))!==-1){b=256*m.charCodeAt(T+5)+m.charCodeAt(T+6),C={width:256*m.charCodeAt(T+7)+m.charCodeAt(T+8),height:b,numcomponents:m.charCodeAt(T+9)};break}x=256*m.charCodeAt(T+2)+m.charCodeAt(T+3)}return C})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),d.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}h={data:r,width:d.width,height:d.height,colorSpace:u,bitsPerComponent:8,filter:c,index:n,alias:i}}return h}})(or.API),or.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=jpe(e,{checkCrc:!0}),o=a.width,u=a.height,d=a.channels,c=a.palette,h=a.depth;i=c&&d===1?(function(Q){for(var q=Q.width,se=Q.height,G=Q.data,H=Q.palette,le=Q.depth,J=!1,ie=[],ne=[],fe=void 0,we=!1,Ie=0,Me=0;Me<H.length;Me++){var pe=dk(H[Me],4),X=pe[0],de=pe[1],me=pe[2],Ne=pe[3];ie.push(X,de,me),Ne!=null&&(Ne===0?(Ie++,ne.length<1&&ne.push(Me)):Ne<255&&(we=!0))}if(we||Ie>1){J=!0,ne=void 0;var xe=q*se;fe=new Uint8Array(xe);for(var Re=new DataView(G.buffer),ze=0;ze<xe;ze++){var Ce=_5(Re,ze,le),Ge=dk(H[Ce],4)[3];fe[ze]=Ge}}else Ie===0&&(ne=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:J?8:void 0,colorBytes:G,alphaBytes:fe,needSMask:J,palette:ie,mask:ne}})(a):d===2||d===4?(function(Q){for(var q=Q.data,se=Q.width,G=Q.height,H=Q.channels,le=Q.depth,J=H===2?"DeviceGray":"DeviceRGB",ie=H-1,ne=se*G,fe=ie,we=ne*fe,Ie=1*ne,Me=Math.ceil(we*le/8),pe=Math.ceil(Ie*le/8),X=new Uint8Array(Me),de=new Uint8Array(pe),me=new DataView(q.buffer),Ne=new DataView(X.buffer),xe=new DataView(de.buffer),Re=!1,ze=0;ze<ne;ze++){for(var Ce=ze*H,Ge=0;Ge<fe;Ge++)gM(Ne,_5(me,Ce+Ge,le),ze*fe+Ge,le);var Je=_5(me,Ce+fe,le);Je<(1<<le)-1&&(Re=!0),gM(xe,Je,1*ze,le)}return{colorSpace:J,colorsPerPixel:ie,sMaskBitsPerComponent:Re?le:void 0,colorBytes:X,alphaBytes:de,needSMask:Re}})(a):(function(Q){var q=Q.data,se=Q.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:se,colorsPerPixel:se==="DeviceGray"?1:3,colorBytes:q instanceof Uint16Array?(function(G){for(var H=G.length,le=new Uint8Array(2*H),J=new DataView(le.buffer,le.byteOffset,le.byteLength),ie=0;ie<H;ie++)J.setUint16(2*ie,G[ie],!1);return le})(q):q,needSMask:!1}})(a);var m,b,x,E=i,C=E.colorSpace,T=E.colorsPerPixel,I=E.sMaskBitsPerComponent,B=E.colorBytes,U=E.alphaBytes,F=E.needSMask,K=E.palette,Z=E.mask,V=null;return n!==or.API.image_compression.NONE&&typeof V_=="function"?(V=(function(Q){var q;switch(Q){case or.API.image_compression.FAST:q=11;break;case or.API.image_compression.MEDIUM:q=13;break;case or.API.image_compression.SLOW:q=14;break;default:q=12}return q})(n),m=this.decode.FLATE_DECODE,b="/Predictor ".concat(V," /Colors ").concat(T," /BitsPerComponent ").concat(h," /Columns ").concat(o),e=uM(B,Math.ceil(o*T*h/8),T,h,n),F&&(x=uM(U,Math.ceil(o*I/8),1,I,n))):(m=void 0,b=void 0,e=B,F&&(x=U)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(x&&this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),{alias:r,data:e,index:t,filter:m,decodeParameters:b,transparency:Z,palette:K,sMask:x,predictor:V,width:o,height:u,bitsPerComponent:h,sMaskBitsPerComponent:I,colorSpace:C}}},(function(e){e.processGIF89A=function(t,r,n,i){var a=new ege(t),o=a.width,u=a.height,d=[];a.decodeAndBlitFrameRGBA(0,d);var c={data:d,width:o,height:u},h=new A5(100).encode(c,100);return e.processJPEG.call(this,h,r,n,i)},e.processGIF87A=e.processGIF89A})(or.API),Hl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Hl.prototype.parseBGR=function(){this.pos=this.offset;var e="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[e]()}catch(r){ei.log("bit decode error:"+r)}},Hl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,u=0;u<8&&8*i+u<this.width;u++){var d=this.palette[a>>7-u&1];this.data[o+4*u]=d.blue,this.data[o+4*u+1]=d.green,this.data[o+4*u+2]=d.red,this.data[o+4*u+3]=255}r!==0&&(this.pos+=4-r)}},Hl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,u=a>>4,d=15&a,c=this.palette[u];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[d],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Hl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Hl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,u=(a>>5&t)/t*255|0,d=(a>>10&t)/t*255|0,c=a>>15?255:0,h=n*this.width*4+4*i;this.data[h]=d,this.data[h+1]=u,this.data[h+2]=o,this.data[h+3]=c}this.pos+=e}},Hl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&t)/t*255|0,d=(o>>5&r)/r*255|0,c=(o>>11)/t*255|0,h=i*this.width*4+4*a;this.data[h]=c,this.data[h+1]=d,this.data[h+2]=u,this.data[h+3]=255}this.pos+=e}},Hl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Hl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*r;this.data[u]=a,this.data[u+1]=i,this.data[u+2]=n,this.data[u+3]=o}},Hl.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,i){var a=new Hl(t,!1),o=a.width,u=a.height,d={data:a.getData(),width:o,height:u},c=new A5(100).encode(d,100);return e.processJPEG.call(this,c,r,n,i)}})(or.API),vM.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,i){var a=new vM(t),o=a.width,u=a.height,d={data:a.getData(),width:o,height:u},c=new A5(100).encode(d,100);return e.processJPEG.call(this,c,r,n,i)}})(or.API),or.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),u=0,d=0,c=0;c<i;c+=4){var h=n[c],m=n[c+1],b=n[c+2],x=n[c+3];a[u++]=h,a[u++]=m,a[u++]=b,o[d++]=x}var E=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:E,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},or.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Uh=or.API,sv=Uh.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:i.metadata.Unicode.widths,d=u.fof?u.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,h=c.fof?c.fof:1,m=t.doKerning!==!1,b=0,x=e.length,E=0,C=u[0]||d,T=[];for(r=0;r<x;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?T.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(b=m&&Un(c[n])==="object"&&!isNaN(parseInt(c[n][E],10))?c[n][E]/h:0,T.push((u[n]||C)/d+b)),E=n;return T},oM=Uh.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Uh.processArabic&&(e=Uh.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:sv.apply(this,arguments).reduce(function(a,o){return a+o},0)},lM=function(e,t,r,n){for(var i=[],a=0,o=e.length,u=0;a!==o&&u+t[a]<r;)u+=t[a],a++;i.push(e.slice(0,a));var d=a;for(u=0;a!==o;)u+t[a]>n&&(i.push(e.slice(d,a)),u=0,d=a),u+=t[a],a++;return d!==a&&i.push(e.slice(d,a)),i},cM=function(e,t,r){r||(r={});var n,i,a,o,u,d,c,h=[],m=[h],b=r.textIndent||0,x=0,E=0,C=e.split(" "),T=sv.apply(this,[" ",r])[0];if(d=r.lineIndent===-1?C[0].length+2:r.lineIndent||0){var I=Array(d).join(" "),B=[];C.map(function(F){(F=F.split(/\s*\n/)).length>1?B=B.concat(F.map(function(K,Z){return(Z&&K.length?`
`:"")+K})):B.push(F[0])}),C=B,d=oM.apply(this,[I,r])}for(a=0,o=C.length;a<o;a++){var U=0;if(n=C[a],d&&n[0]==`
`&&(n=n.substr(1),U=1),b+x+(E=(i=sv.apply(this,[n,r])).reduce(function(F,K){return F+K},0))>t||U){if(E>t){for(u=lM.apply(this,[n,i,t-(b+x),t]),h.push(u.shift()),h=[u.pop()];u.length;)m.push([u.shift()]);E=i.slice(n.length-(h[0]?h[0].length:0)).reduce(function(F,K){return F+K},0)}else h=[n];m.push(h),b=E+d,x=T}else h.push(n),b+=x+E,x=T}return c=d?function(F,K){return(K?I:"")+F.join(" ")}:function(F){return F.join(" ")},m.map(c)},Uh.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle),b="Unicode";return m.metadata[b]?{widths:m.metadata[b].widths||{0:1},kerning:m.metadata[b].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var u,d,c=[];for(u=0,d=n.length;u<d;u++)c=c.concat(cM.apply(this,[n[u],o,a]));return c},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=t[a],i[t[a]]=r[a];var o=function(b){return"0x"+parseInt(b,10).toString(16)},u=e.__fontmetrics__.compress=function(b){var x,E,C,T,I=["{"];for(var B in b){if(x=b[B],isNaN(parseInt(B,10))?E="'"+B+"'":(B=parseInt(B,10),E=(E=o(B).slice(2)).slice(0,-1)+i[E.slice(-1)]),typeof x=="number")x<0?(C=o(x).slice(3),T="-"):(C=o(x).slice(2),T=""),C=T+C.slice(0,-1)+i[C.slice(-1)];else{if(Un(x)!=="object")throw new Error("Don't know what to do with value type "+Un(x)+".");C=u(x)}I.push(E+C)}return I.push("}"),I.join("")},d=e.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,E,C,T,I={},B=1,U=I,F=[],K="",Z="",V=b.length-1,Q=1;Q<V;Q+=1)(T=b[Q])=="'"?x?(C=x.join(""),x=void 0):x=[]:x?x.push(T):T=="{"?(F.push([U,C]),U={},C=void 0):T=="}"?((E=F.pop())[0][E[1]]=U,C=void 0,U=E[0]):T=="-"?B=-1:C===void 0?n.hasOwnProperty(T)?(K+=n[T],C=parseInt(K,16)*B,B=1,K=""):K+=T:n.hasOwnProperty(T)?(Z+=n[T],U[C]=parseInt(Z,16)*B,B=1,C=void 0,Z=""):Z+=T;return I},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},m={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(b){var x=b.font,E=m.Unicode[x.postScriptName];E&&(x.metadata.Unicode={},x.metadata.Unicode.widths=E.widths,x.metadata.Unicode.kerning=E.kerning);var C=h.Unicode[x.postScriptName];C&&(x.metadata.Unicode.encoding=C,x.encoding=C.codePages[0])}])})(or.API),(function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(yv(u)),o.metadata=e.API.TTFFont.open(u),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])})(or),or.API.addSvgAsImage=function(e,t,r,n,i,a,o,u){if(isNaN(t)||isNaN(r))throw ei.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw ei.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=n,d.height=i;var c=d.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(Mr.canvg?Promise.resolve(Mr.canvg):r5(()=>import("./index.es-6lZvVWOu.js"),[])).catch(function(b){return Promise.reject(new Error("Could not load canvg: "+b))}).then(function(b){return b.default?b.default:b}).then(function(b){return b.fromString(c,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(h)}).then(function(){m.addImage(d.toDataURL("image/jpeg",1),t,r,n,i,o,u)})},or.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},or.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(o),d=[],c=0,h=0,m=0;function b(E,C){var T,I=!1;for(T=0;T<E.length;T+=1)E[T]===C&&(I=!0);return I}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var x=u.length;for(m=0;m<x;m+=1)r[u[m]].value=r[u[m]].defaultValue,r[u[m]].explicitSet=!1}if(Un(e)==="object"){for(i in e)if(a=e[i],b(u,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&b(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(c=0;c<a.length;c+=1)if(n=!0,a[c].length===1&&typeof a[c][0]=="number")d.push(String(a[c]-1));else if(a[c].length>1){for(h=0;h<a[c].length;h+=1)typeof a[c][h]!="number"&&(n=!1);n===!0&&d.push([a[c][0]-1,a[c][1]-1].join(" "))}r[i].value="["+d.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,C=[];for(E in r)r[E].explicitSet===!0&&(r[E].type==="name"?C.push("/"+E+" /"+r[E].value):C.push("/"+E+" "+r[E].value));C.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+C.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},or.API.addMetadata=function(e,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:e,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",rge),this.internal.events.subscribe("postPutResources",tge)),this},(function(e){var t=e.API,r=t.pdfEscape16=function(a,o){for(var u,d=o.metadata.Unicode.widths,c=["","0","00","000","0000"],h=[""],m=0,b=a.length;m<b;++m){if(u=o.metadata.characterToGlyph(a.charCodeAt(m)),o.metadata.glyIdsUsed.push(u),o.metadata.toUnicode[u]=a.charCodeAt(m),d.indexOf(u)==-1&&(d.push(u),d.push([parseInt(o.metadata.widthOfGlyph(u),10)])),u=="0")return h.join("");u=u.toString(16),h.push(c[4-u.length],u)}return h.join("")},n=function(a){var o,u,d,c,h,m,b;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],m=0,b=(u=Object.keys(a).sort(function(x,E){return x-E})).length;m<b;m++)o=u[m],d.length>=100&&(h+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(c=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),d.push("<"+o+"><"+c+">"));return d.length&&(h+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var u=o.font,d=o.out,c=o.newObject,h=o.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="Identity-H"){for(var m=u.metadata.Unicode.widths,b=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),x="",E=0;E<b.length;E++)x+=String.fromCharCode(b[E]);var C=c();h({data:x,addLength1:!0,objectId:C}),d("endobj");var T=c();h({data:n(u.metadata.toUnicode),addLength1:!0,objectId:T}),d("endobj");var I=c();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+$h(u.fontName)),d("/FontFile2 "+C+" 0 R"),d("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),d("/Flags "+u.metadata.flags),d("/StemV "+u.metadata.stemV),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d(">>"),d("endobj");var B=c();d("<<"),d("/Type /Font"),d("/BaseFont /"+$h(u.fontName)),d("/FontDescriptor "+I+" 0 R"),d("/W "+e.API.PDFObject.convert(m)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+u.encoding+")"),d(">>"),d(">>"),d("endobj"),u.objectNumber=c(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+T+" 0 R"),d("/BaseFont /"+$h(u.fontName)),d("/Encoding /"+u.encoding),d("/DescendantFonts ["+B+" 0 R]"),d(">>"),d("endobj"),u.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var u=o.font,d=o.out,c=o.newObject,h=o.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var m=u.metadata.rawData,b="",x=0;x<m.length;x++)b+=String.fromCharCode(m[x]);var E=c();h({data:b,addLength1:!0,objectId:E}),d("endobj");var C=c();h({data:n(u.metadata.toUnicode),addLength1:!0,objectId:C}),d("endobj");var T=c();d("<<"),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d("/StemV "+u.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+E+" 0 R"),d("/Flags 96"),d("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),d("/FontName /"+$h(u.fontName)),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d(">>"),d("endobj"),u.objectNumber=c();for(var I=0;I<u.metadata.hmtx.widths.length;I++)u.metadata.hmtx.widths[I]=parseInt(u.metadata.hmtx.widths[I]*(1e3/u.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+C+" 0 R/BaseFont/"+$h(u.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),d("endobj"),u.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,u=a.text||"",d=a.x,c=a.y,h=a.options||{},m=a.mutex||{},b=m.pdfEscape,x=m.activeFontKey,E=m.fonts,C=x,T="",I=0,B="",U=E[C].encoding;if(E[C].encoding!=="Identity-H")return{text:u,x:d,y:c,options:h,mutex:m};for(B=u,C=x,Array.isArray(u)&&(B=u[0]),I=0;I<B.length;I+=1)E[C].metadata.hasOwnProperty("cmap")&&(o=E[C].metadata.cmap.unicode.codeMap[B[I].charCodeAt(0)]),o||B[I].charCodeAt(0)<256&&E[C].metadata.hasOwnProperty("Unicode")?T+=B[I]:T+="";var F="";return parseInt(C.slice(1))<14||U==="WinAnsiEncoding"?F=b(T,C).split("").map(function(K){return K.charCodeAt(0).toString(16)}).join(""):U==="Identity-H"&&(F=r(T,E[C])),m.isHex=!0,{text:F,x:d,y:c,options:h,mutex:m}};t.events.push(["postProcessText",function(a){var o=a.text||"",u=[],d={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?u.push([i(Object.assign({},d,{text:o[c][0]})).text,o[c][1],o[c][2]]):u.push(i(Object.assign({},d,{text:o[c]})).text);a.text=u}else a.text=i(Object.assign({},d,{text:o})).text}])})(or),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(or.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,o,u,d,c,h,m=t,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},C={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],I=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),B=!1,U=0;this.__bidiEngine__={};var F=function(G){var H=G.charCodeAt(),le=H>>8,J=C[le];return J!==void 0?m[256*J+(255&H)]:le===252||le===253?"AL":I.test(le)?"L":le===8?"R":"N"},K=function(G){for(var H,le=0;le<G.length;le++){if((H=F(G.charAt(le)))==="L")return!1;if(H==="R")return!0}return!1},Z=function(G,H,le,J){var ie,ne,fe,we,Ie=H[J];switch(Ie){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":B=!1;break;case"N":case"AN":break;case"EN":B&&(Ie="AN");break;case"AL":B=!0,Ie="R";break;case"WS":case"BN":Ie="N";break;case"CS":J<1||J+1>=H.length||(ie=le[J-1])!=="EN"&&ie!=="AN"||(ne=H[J+1])!=="EN"&&ne!=="AN"?Ie="N":B&&(ne="AN"),Ie=ne===ie?ne:"N";break;case"ES":Ie=(ie=J>0?le[J-1]:"B")==="EN"&&J+1<H.length&&H[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&le[J-1]==="EN"){Ie="EN";break}if(B){Ie="N";break}for(fe=J+1,we=H.length;fe<we&&H[fe]==="ET";)fe++;Ie=fe<we&&H[fe]==="EN"?"EN":"N";break;case"NSM":if(o&&!u){for(we=H.length,fe=J+1;fe<we&&H[fe]==="NSM";)fe++;if(fe<we){var Me=G[J],pe=Me>=1425&&Me<=2303||Me===64286;if(ie=H[fe],pe&&(ie==="R"||ie==="AL")){Ie="R";break}}}Ie=J<1||(ie=H[J-1])==="B"?"N":le[J-1];break;case"B":B=!1,i=!0,Ie=U;break;case"S":a=!0,Ie="N"}return Ie},V=function(G,H,le){var J=G.split("");return le&&Q(J,le,{hiLevel:U}),J.reverse(),H&&H.reverse(),J.join("")},Q=function(G,H,le){var J,ie,ne,fe,we,Ie=-1,Me=G.length,pe=0,X=[],de=U?x:b,me=[];for(B=!1,i=!1,a=!1,ie=0;ie<Me;ie++)me[ie]=F(G[ie]);for(ne=0;ne<Me;ne++){if(we=pe,X[ne]=Z(G,me,X,ne),J=240&(pe=de[we][E[X[ne]]]),pe&=15,H[ne]=fe=de[pe][5],J>0)if(J===16){for(ie=Ie;ie<ne;ie++)H[ie]=1;Ie=-1}else Ie=-1;if(de[pe][6])Ie===-1&&(Ie=ne);else if(Ie>-1){for(ie=Ie;ie<ne;ie++)H[ie]=fe;Ie=-1}me[ne]==="B"&&(H[ne]=0),le.hiLevel|=fe}a&&(function(Ne,xe,Re){for(var ze=0;ze<Re;ze++)if(Ne[ze]==="S"){xe[ze]=U;for(var Ce=ze-1;Ce>=0&&Ne[Ce]==="WS";Ce--)xe[Ce]=U}})(me,H,Me)},q=function(G,H,le,J,ie){if(!(ie.hiLevel<G)){if(G===1&&U===1&&!i)return H.reverse(),void(le&&le.reverse());for(var ne,fe,we,Ie,Me=H.length,pe=0;pe<Me;){if(J[pe]>=G){for(we=pe+1;we<Me&&J[we]>=G;)we++;for(Ie=pe,fe=we-1;Ie<fe;Ie++,fe--)ne=H[Ie],H[Ie]=H[fe],H[fe]=ne,le&&(ne=le[Ie],le[Ie]=le[fe],le[fe]=ne);pe=we}pe++}}},se=function(G,H,le){var J=G.split(""),ie={hiLevel:U};return le||(le=[]),Q(J,le,ie),(function(ne,fe,we){if(we.hiLevel!==0&&h)for(var Ie,Me=0;Me<ne.length;Me++)fe[Me]===1&&(Ie=T.indexOf(ne[Me]))>=0&&(ne[Me]=T[Ie+1])})(J,le,ie),q(2,J,H,le,ie),q(1,J,H,le,ie),J.join("")};return this.__bidiEngine__.doBidiReorder=function(G,H,le){if((function(ie,ne){if(ne)for(var fe=0;fe<ie.length;fe++)ne[fe]=fe;u===void 0&&(u=K(ie)),c===void 0&&(c=K(ie))})(G,H),o||!d||c)if(o&&d&&u^c)U=u?1:0,G=V(G,H,le);else if(!o&&d&&c)U=u?1:0,G=se(G,H,le),G=V(G,H);else if(!o||u||d||c){if(o&&!d&&u^c)G=V(G,H),u?(U=0,G=se(G,H,le)):(U=1,G=se(G,H,le),G=V(G,H));else if(o&&u&&!d&&c)U=1,G=se(G,H,le),G=V(G,H);else if(!o&&!d&&u^c){var J=h;u?(U=1,G=se(G,H,le),U=0,h=!1,G=se(G,H,le),h=J):(U=0,G=se(G,H,le),G=V(G,H),U=1,h=!1,G=se(G,H,le),h=J,G=V(G,H))}}else U=0,G=se(G,H,le);else U=u?1:0,G=se(G,H,le);return G},this.__bidiEngine__.setOptions=function(G){G&&(o=G.isInputVisual,d=G.isOutputVisual,u=G.isInputRtl,c=G.isOutputRtl,h=G.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var u=0;for(o=[],u=0;u<i.length;u+=1)Object.prototype.toString.call(i[u])==="[object Array]"?o.push([r.doBidiReorder(i[u][0]),i[u][1],i[u][2]]):o.push([r.doBidiReorder(i[u])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(or),or.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Pf(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new vge(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new nge(this.contents),this.head=new age(this),this.name=new uge(this),this.cmap=new z9(this),this.toUnicode={},this.hhea=new sge(this),this.maxp=new fge(this),this.hmtx=new dge(this),this.post=new lge(this),this.os2=new oge(this),this.loca=new mge(this),this.glyf=new hge(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,u,d,c;for(c=[],o=0,u=(d=this.bbox).length;o<u;o++)t=d[o],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,o,u;for(o=0,a=0,u=(t=""+t).length;0<=u?a<u:a>u;a=0<=u?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var oc,Pf=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,o,u,d;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),u=this.readByte(),d=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^u)+(255^d)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*o+256*u+d},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e})(),nge=(function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,o,u,d,c,h,m,b,x,E,C;for(C in x=Object.keys(r).length,d=Math.log(2),m=16*Math.floor(Math.log(x)/d),o=Math.floor(m/d),h=16*x-m,(i=new Pf).writeInt(this.scalarType),i.writeShort(x),i.writeShort(m),i.writeShort(o),i.writeShort(h),a=16*x,c=i.pos+a,u=null,E=[],r)for(b=r[C],i.writeString(C),i.writeInt(e(b)),i.writeInt(c),i.writeInt(b.length),E=E.concat(b),C==="head"&&(u=c),c+=b.length;c%4;)E.push(0),c++;return i.write(E),n=2981146554-e(i.data),i.pos=u+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,o;for(r=q9.call(r);r.length%4;)r.push(0);for(a=new Pf(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},t})(),ige={}.hasOwnProperty,Gc=function(e,t){for(var r in t)ige.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};oc=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var age=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gc(e,oc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Pf).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),yM=(function(){function e(t,r){var n,i,a,o,u,d,c,h,m,b,x,E,C,T,I,B,U;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=t.readByte();break;case 4:for(x=t.readUInt16(),b=x/2,t.pos+=6,a=(function(){var F,K;for(K=[],d=F=0;0<=b?F<b:F>b;d=0<=b?++F:--F)K.push(t.readUInt16());return K})(),t.pos+=2,C=(function(){var F,K;for(K=[],d=F=0;0<=b?F<b:F>b;d=0<=b?++F:--F)K.push(t.readUInt16());return K})(),c=(function(){var F,K;for(K=[],d=F=0;0<=b?F<b:F>b;d=0<=b?++F:--F)K.push(t.readUInt16());return K})(),h=(function(){var F,K;for(K=[],d=F=0;0<=b?F<b:F>b;d=0<=b?++F:--F)K.push(t.readUInt16());return K})(),i=(this.length-t.pos+this.offset)/2,u=(function(){var F,K;for(K=[],d=F=0;0<=i?F<i:F>i;d=0<=i?++F:--F)K.push(t.readUInt16());return K})(),d=I=0,U=a.length;I<U;d=++I)for(T=a[d],n=B=E=C[d];E<=T?B<=T:B>=T;n=E<=T?++B:--B)h[d]===0?o=n+c[d]:(o=u[h[d]/2+(n-E)-(b-d)]||0)!==0&&(o+=c[d]),this.codeMap[n]=65535&o}t.pos=m}return e.encode=function(t,r){var n,i,a,o,u,d,c,h,m,b,x,E,C,T,I,B,U,F,K,Z,V,Q,q,se,G,H,le,J,ie,ne,fe,we,Ie,Me,pe,X,de,me,Ne,xe,Re,ze,Ce,Ge,Je,qe;switch(J=new Pf,o=Object.keys(t).sort(function(lt,bt){return lt-bt}),r){case"macroman":for(C=0,T=(function(){var lt=[];for(E=0;E<256;++E)lt.push(0);return lt})(),B={0:0},a={},ie=0,Ie=o.length;ie<Ie;ie++)B[Ce=t[i=o[ie]]]==null&&(B[Ce]=++C),a[i]={old:t[i],new:B[t[i]]},T[i]=B[t[i]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(T),{charMap:a,subtable:J.data,maxGlyphID:C+1};case"unicode":for(H=[],m=[],U=0,B={},n={},I=c=null,ne=0,Me=o.length;ne<Me;ne++)B[K=t[i=o[ne]]]==null&&(B[K]=++U),n[i]={old:K,new:B[K]},u=B[K]-i,I!=null&&u===c||(I&&m.push(I),H.push(i),c=u),I=i;for(I&&m.push(I),m.push(65535),H.push(65535),se=2*(q=H.length),Q=2*Math.pow(Math.log(q)/Math.LN2,2),b=Math.log(Q/2)/Math.LN2,V=2*q-Q,d=[],Z=[],x=[],E=fe=0,pe=H.length;fe<pe;E=++fe){if(G=H[E],h=m[E],G===65535){d.push(0),Z.push(0);break}if(G-(le=n[G].new)>=32768)for(d.push(0),Z.push(2*(x.length+q-E)),i=we=G;G<=h?we<=h:we>=h;i=G<=h?++we:--we)x.push(n[i].new);else d.push(le-G),Z.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*q+2*x.length),J.writeUInt16(0),J.writeUInt16(se),J.writeUInt16(Q),J.writeUInt16(b),J.writeUInt16(V),Re=0,X=m.length;Re<X;Re++)i=m[Re],J.writeUInt16(i);for(J.writeUInt16(0),ze=0,de=H.length;ze<de;ze++)i=H[ze],J.writeUInt16(i);for(Ge=0,me=d.length;Ge<me;Ge++)u=d[Ge],J.writeUInt16(u);for(Je=0,Ne=Z.length;Je<Ne;Je++)F=Z[Je],J.writeUInt16(F);for(qe=0,xe=x.length;qe<xe;qe++)C=x[qe],J.writeUInt16(C);return{charMap:n,subtable:J.data,maxGlyphID:U+1}}},e})(),z9=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gc(e,oc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new yM(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=yM.encode(t,r),(i=new Pf).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e})(),sge=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gc(e,oc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),oge=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gc(e,oc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),lge=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gc(e,oc),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,u,d;for(d=[],a=o=0,u=this.file.maxp.numGlyphs;0<=u?o<u:o>u;a=0<=u?++o:--o)d.push(t.readUInt32());return d}).call(this)}},e})(),cge=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},uge=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gc(e,oc),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,a,o,u,d,c,h,m,b;for(t.pos=this.offset,t.readShort(),r=t.readShort(),u=t.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(d={},a=h=0,m=n.length;h<m;a=++h)i=n[a],t.pos=i.offset,c=t.readString(i.length),o=new cge(c,i),d[b=i.nameID]==null&&(d[b]=[]),d[i.nameID].push(o);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e})(),fge=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gc(e,oc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),dge=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gc(e,oc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,a,o,u,d;for(t.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,h;for(h=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)h.push(t.readInt16());return h})(),this.widths=(function(){var c,h,m,b;for(b=[],c=0,h=(m=this.metrics).length;c<h;c++)a=m[c],b.push(a.advance);return b}).call(this),n=this.widths[this.widths.length-1],d=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)d.push(this.widths.push(n));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),q9=[].slice,hge=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gc(e,oc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,a,o,u,d,c,h,m;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(u=new Pf(r.read(i))).readShort(),c=u.readShort(),m=u.readShort(),d=u.readShort(),h=u.readShort(),this.cache[t]=o===-1?new gge(u,c,m,d,h):new pge(u,o,c,m,d,h),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,a,o,u,d;for(o=[],a=[],u=0,d=r.length;u<d;u++)i=t[r[u]],a.push(o.length),i&&(o=o.concat(i.encode(n)));return a.push(o.length),{table:o,offsets:a}},e})(),pge=(function(){function e(t,r,n,i,a,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),gge=(function(){function e(t,r,n,i,a){var o,u;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;u=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&u;)o.pos+=1&u?4:2,128&u?o.pos+=8:64&u?o.pos+=4:8&u&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Pf(q9.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),mge=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gc(e,oc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<n.length;++o)if(n[o]=i,a<r.length&&r[a]==o){++a,n[o]=i;var u=this.offsets[o],d=this.offsets[o+1]-u;d>0&&(i+=d)}for(var c=new Array(4*n.length),h=0;h<n.length;++h)c[4*h+3]=255&n[h],c[4*h+2]=(65280&n[h])>>8,c[4*h+1]=(16711680&n[h])>>16,c[4*h]=(4278190080&n[h])>>24;return c},e})(),vge=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,o,u,d;for(i={},o=0,u=t.length;o<u;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in d=this.glyphsFor(r))n=d[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,o,u,d,c,h,m,b,x,E,C,T,I;for(i in n=z9.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),x={0:0},I=n.charMap)x[(d=I[i]).old]=d.new;for(E in b=n.maxGlyphID,o)E in x||(x[E]=b++);return h=(function(B){var U,F;for(U in F={},B)F[B[U]]=U;return F})(x),m=Object.keys(h).sort(function(B,U){return B-U}),C=(function(){var B,U,F;for(F=[],B=0,U=m.length;B<U;B++)u=m[B],F.push(h[u]);return F})(),a=this.font.glyf.encode(o,C,x),c=this.font.loca.encode(a.offsets,C),T={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},e})();or.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,o;if(Array.isArray(r))return"["+(function(){var u,d,c;for(c=[],u=0,d=r.length;u<d;u++)n=r[u],c.push(t.convert(n));return c})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)o=r[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+r},t})();function yge({isOpen:e,onClose:t,paquete:r}){const[n,i]=D.useState(r),[a,o]=D.useState(!1),[u,d]=D.useState(!1),c=D.useRef(null);D.useEffect(()=>{i(r),o(!1)},[r]),D.useEffect(()=>{if(e&&c.current&&n.trackingOriginal)try{E0e(c.current,n.trackingOriginal,{format:"CODE128",lineColor:"#000",width:2,height:50,displayValue:!1,margin:0})}catch{console.error("Barcode generation failed for:",n.trackingOriginal)}},[e,n.trackingOriginal,a]);const h=async()=>{d(!0);try{const m=new or({orientation:"portrait",unit:"mm",format:[101.6,152.4]});if(m.setFont("helvetica"),m.setFontSize(10),m.setFont("helvetica","bold"),m.text("YOUBOX LOGISTICS",5,10),m.setFontSize(8),m.setFont("helvetica","normal"),m.text("Miami Processing Center, FL",5,14),m.setFontSize(24),m.setFont("helvetica","bold"),m.text(n.bodegaDestino,96,14,{align:"right"}),m.setLineWidth(.5),m.line(5,18,96,18),m.setFontSize(10),m.setFont("helvetica","normal"),m.text("SHIP TO:",5,25),m.setFontSize(36),m.setFont("helvetica","bold"),m.text(n.clienteCasillero||"N/A",5,40),m.setFontSize(14),m.text((n.clienteNombre||"CLIENTE NO ASIGNADO").toUpperCase(),5,50),m.line(5,56,96,56),m.setFontSize(12),m.setFont("helvetica","bold"),m.text(`PIEZAS: ${n.piezas}`,5,65),m.text(`PESO: ${n.pesoLbs} LBS`,50,65),m.setFontSize(10),m.setFont("helvetica","normal"),m.text(`REMITENTE: ${n.remitenteInfo||"NO ESPECIFICADO"}`,5,75),m.line(5,82,96,82),c.current){const b=new XMLSerializer().serializeToString(c.current),x=document.createElement("canvas"),E=x.getContext("2d"),C=new Image;C.onload=()=>{if(x.width=C.width,x.height=C.height,E){E.fillStyle="white",E.fillRect(0,0,x.width,x.height),E.drawImage(C,0,0);const T=x.toDataURL("image/png");m.addImage(T,"PNG",10,95,80,25),m.setFontSize(11),m.setFont("helvetica","bold"),m.text(n.trackingOriginal,50.8,125,{align:"center"}),m.autoPrint();const I=m.output("bloburl");window.open(I,"_blank"),d(!1)}},C.src="data:image/svg+xml;base64,"+btoa(b)}else d(!1)}catch(m){console.error(m),alert("Error al generar PDF de la etiqueta."),d(!1)}};return e?S.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/80 backdrop-blur-sm p-4 animate-in fade-in",children:S.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col animate-in zoom-in-95",children:[S.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-100",children:[S.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[S.jsx(IC,{className:"h-5 w-5"}),S.jsx("h2",{className:"text-lg font-bold text-slate-800",children:'Generar Etiqueta 4x6"'})]}),S.jsx("button",{onClick:t,className:"p-2 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-full transition-colors",children:S.jsx(Mf,{className:"h-5 w-5"})})]}),S.jsxs("div",{className:"p-6 bg-slate-50 flex-1 overflow-y-auto",children:[S.jsx("div",{className:"hidden",children:S.jsx("svg",{ref:c})}),a?S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"bg-blue-50 text-blue-800 p-3 rounded-md text-sm mb-4",children:["Estas modificaciones solo aplicarn a la ",S.jsx("strong",{children:"impresin fsica"})," de la etiqueta, no alteran la base de datos oficial."]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Tracking (Cdigo de Barras)"}),S.jsx("input",{type:"text",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",value:n.trackingOriginal,onChange:m=>i({...n,trackingOriginal:m.target.value})})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Casillero (Grande)"}),S.jsx("input",{type:"text",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm font-bold uppercase",value:n.clienteCasillero,onChange:m=>i({...n,clienteCasillero:m.target.value})})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Destino (Sucursal)"}),S.jsx("input",{type:"text",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm uppercase",value:n.bodegaDestino,onChange:m=>i({...n,bodegaDestino:m.target.value})})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Nombre Cliente"}),S.jsx("input",{type:"text",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",value:n.clienteNombre,onChange:m=>i({...n,clienteNombre:m.target.value})})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Peso (Lbs)"}),S.jsx("input",{type:"number",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",value:n.pesoLbs,onChange:m=>i({...n,pesoLbs:Number(m.target.value)})})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Piezas"}),S.jsx("input",{type:"number",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",value:n.piezas,onChange:m=>i({...n,piezas:Number(m.target.value)})})]})]}),S.jsxs("button",{onClick:()=>o(!1),className:"w-full flex justify-center items-center gap-2 px-4 py-2 mt-2 border border-transparent text-sm font-medium rounded-md text-white bg-slate-800 hover:bg-slate-700",children:[S.jsx(Cd,{className:"h-4 w-4"}),"Guardar Borrador"]})]}):S.jsxs("div",{className:"bg-white border text-center border-slate-300 rounded-lg p-6 shadow-sm mx-auto max-w-[320px] aspect-[4/6] flex flex-col relative group",children:[S.jsx("button",{onClick:()=>o(!0),className:"absolute top-2 right-2 p-2 bg-white/80 hover:bg-slate-100 rounded-md text-slate-400 hover:text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity",title:"Modificar Informacin",children:S.jsx(KG,{className:"h-4 w-4"})}),S.jsxs("div",{className:"flex justify-between items-start mb-2",children:[S.jsxs("div",{className:"text-left",children:[S.jsx("p",{className:"text-[10px] font-bold",children:"YOUBOX LOGISTICS"}),S.jsx("p",{className:"text-[8px] text-slate-500",children:"Miami, FL"})]}),S.jsx("h3",{className:"text-xl font-bold bg-slate-100 px-2 py-0.5 rounded",children:n.bodegaDestino})]}),S.jsx("hr",{className:"my-2 border-slate-200 border-2"}),S.jsxs("div",{className:"text-left mt-2 flex-1",children:[S.jsx("p",{className:"text-[10px] text-slate-500",children:"SHIP TO:"}),S.jsx("h2",{className:"text-4xl font-black mt-1 leading-none",children:n.clienteCasillero||"N/A"}),S.jsx("p",{className:"text-sm font-bold mt-2 truncate w-full",children:n.clienteNombre.toUpperCase()})]}),S.jsx("hr",{className:"my-2 border-slate-200"}),S.jsxs("div",{className:"flex justify-between text-xs font-bold my-2 px-2",children:[S.jsxs("p",{children:["PZ: ",n.piezas]}),S.jsxs("p",{children:["WT: ",n.pesoLbs," LBS"]})]}),S.jsxs("div",{className:"mb-4 text-center mx-auto bg-white p-2 border border-slate-100 rounded",children:[S.jsx("div",{className:"w-full h-12 bg-slate-900 mx-auto",style:{backgroundImage:"repeating-linear-gradient(90deg, transparent, transparent 2px, white 2px, white 4px)",backgroundSize:"10px 100%"}}),S.jsx("p",{className:"text-xs font-mono font-bold mt-1 tracking-widest",children:n.trackingOriginal.substring(0,25)})]})]})]}),S.jsxs("div",{className:"p-4 bg-white border-t border-slate-100 flex gap-3",children:[S.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-50",children:"Cancelar"}),S.jsxs("button",{onClick:h,disabled:u||a,className:"flex-1 inline-flex justify-center items-center gap-2 px-4 py-2 text-sm font-bold text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50",children:[u?S.jsx(Fs,{className:"h-4 w-4 animate-spin"}):S.jsx(IC,{className:"h-4 w-4"}),u?"Procesando...":"Mandat Imprimir"]})]})]})}):null}const bM={recibido:{label:"Recibido",color:"bg-blue-100 text-blue-700 ring-blue-600/20"},en_bodega:{label:"En Bodega",color:"bg-purple-100 text-purple-700 ring-purple-600/20"},listo_consolidar:{label:"Listo Consolidar",color:"bg-indigo-100 text-indigo-700 ring-indigo-600/20"},consolidado:{label:"Consolidado",color:"bg-amber-100 text-amber-700 ring-amber-600/20"},en_transito:{label:"En Trnsito",color:"bg-orange-100 text-orange-700 ring-orange-600/20"},entregado:{label:"Entregado",color:"bg-green-100 text-green-700 ring-green-600/20"},devuelto:{label:"Devuelto",color:"bg-red-100 text-red-700 ring-red-600/20"},perdido:{label:"Perdido",color:"bg-slate-100 text-slate-700 ring-slate-600/20"}};function bge(){const{user:e,isAdmin:t}=Fa(),[r,n]=D.useState([]),[i,a]=D.useState(!0),[o,u]=D.useState(null);D.useEffect(()=>{d()},[e]);async function d(){if(e)try{a(!0);let c=qt.from("paquetes").select(`
          id, tracking, peso_lbs, estado, fecha_recepcion,
          bodegas (nombre),
          clientes (nombre, apellido, locker_id),
          transportistas (nombre)
        `).order("fecha_recepcion",{ascending:!1});t||(c=c.eq("cliente_id",e.id));const{data:h,error:m}=await c;if(m)throw m;n(h||[])}catch(c){console.error("Error fetching paquetes:",c)}finally{a(!1)}}return S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:t?"Control de Inventario":"Mis Paquetes"}),S.jsx("p",{className:"text-sm text-slate-500",children:t?"Gestin de paquetes en almacn (Warehouses).":"Rastrea el estado de tus compras."})]}),S.jsxs("div",{className:"flex gap-3",children:[S.jsxs("button",{className:"inline-flex items-center gap-2 rounded-md bg-white px-4 py-2 text-sm font-medium text-slate-700 shadow-sm ring-1 ring-inset ring-slate-300 hover:bg-slate-50",children:[S.jsx(bG,{className:"h-4 w-4"}),"Filtros"]}),t&&S.jsxs("button",{className:"inline-flex items-center gap-2 rounded-md bg-white px-4 py-2 text-sm font-medium text-slate-700 shadow-sm ring-1 ring-inset ring-slate-300 hover:bg-slate-50",children:[S.jsx(g7,{className:"h-4 w-4"}),"Exportar"]})]})]}),S.jsx("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden",children:S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[S.jsx("thead",{className:"bg-slate-50",children:S.jsxs("tr",{children:[S.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-slate-900 sm:pl-6",children:"Tracking / Envo"}),t&&S.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900",children:"Cliente"}),S.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900",children:"Ingreso"}),S.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900",children:"Peso"}),S.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900",children:"Ubicacin"}),S.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900",children:"Estatus"}),t&&S.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:S.jsx("span",{className:"sr-only",children:"Acciones"})})]})}),S.jsx("tbody",{className:"divide-y divide-slate-200 bg-white",children:i?S.jsx("tr",{children:S.jsx("td",{colSpan:7,className:"py-16 text-center text-slate-500 text-sm",children:"Cargando paquetes..."})}):r.length===0?S.jsx("tr",{children:S.jsx("td",{colSpan:7,className:"py-16 text-center",children:S.jsxs("div",{className:"flex flex-col items-center gap-2 text-slate-400",children:[S.jsx(H2,{className:"h-10 w-10 text-slate-300"}),S.jsx("p",{className:"text-sm font-medium text-slate-500",children:"No hay paquetes registrados"}),S.jsx("p",{className:"text-xs",children:"Los paquetes aparecern aqu cuando lleguen a nuestras bodegas."})]})})}):r.map(c=>{var h,m,b,x,E,C,T;return S.jsxs("tr",{className:"hover:bg-slate-50",children:[S.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 sm:pl-6",children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"rounded-md bg-blue-50 p-2",children:S.jsx(kf,{className:"h-4 w-4 text-blue-600"})}),S.jsxs("div",{children:[S.jsx("div",{className:"font-medium text-slate-900 text-sm",children:c.tracking}),S.jsx("div",{className:"text-xs text-slate-500",children:((h=c.transportistas)==null?void 0:h.nombre)||"Carrier"})]})]})}),t&&S.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600",children:[(m=c.clientes)==null?void 0:m.nombre," ",(b=c.clientes)==null?void 0:b.apellido," ",S.jsx("br",{}),S.jsx("span",{className:"text-xs text-blue-600 font-medium",children:(x=c.clientes)==null?void 0:x.locker_id})]}),S.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600",children:c.fecha_recepcion?Eu(new Date(c.fecha_recepcion),"dd MMM yyyy",{locale:Vp}):"N/A"}),S.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600 font-medium",children:[c.peso_lbs," lbs"]}),S.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600",children:((E=c.bodegas)==null?void 0:E.nombre)||"Bodega General"}),S.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm",children:S.jsx("span",{className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset ${((C=bM[c.estado])==null?void 0:C.color)||"bg-slate-50 text-slate-600 ring-slate-500/10"}`,children:((T=bM[c.estado])==null?void 0:T.label)||c.estado})}),t&&S.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:S.jsxs("div",{className:"flex items-center justify-end gap-3",children:[S.jsx("button",{onClick:()=>{var I,B,U,F,K;return u({remitenteInfo:((I=c.transportistas)==null?void 0:I.nombre)||"",trackingOriginal:c.tracking,clienteCasillero:((B=c.clientes)==null?void 0:B.locker_id)||"",clienteNombre:`${((U=c.clientes)==null?void 0:U.nombre)||""} ${((F=c.clientes)==null?void 0:F.apellido)||""}`.trim(),bodegaDestino:((K=c.bodegas)==null?void 0:K.nombre)||"General",pesoLbs:c.peso_lbs,piezas:1})},className:"text-slate-400 hover:text-blue-600 transition-colors",title:"Imprimir Etiqueta",children:S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),S.jsx("path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6"}),S.jsx("rect",{x:"6",y:"14",width:"12",height:"8",rx:"1"})]})}),S.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:"Editar"})]})})]},c.id)})})]})})}),o&&S.jsx(yge,{isOpen:!!o,onClose:()=>u(null),paquete:o})]})}const xM=["Creado","En trnsito","SAT","Pago de Impuestos","Oficina Quetzaltenango","Entregado","ALERTA","SEGURO","Update Mobile"];function xge({consolidacionId:e,codigoMaster:t,onClose:r,onUpdate:n}){const{user:i}=Fa(),[a,o]=D.useState([]),[u,d]=D.useState(!0),[c,h]=D.useState(!1),[m,b]=D.useState(xM[0]),[x,E]=D.useState(new Date().toISOString().split("T")[0]),[C,T]=D.useState(""),[I,B]=D.useState(""),[U,F]=D.useState(!1),[K,Z]=D.useState(!1);D.useEffect(()=>{V()},[e]);async function V(){d(!0);try{const{data:se,error:G}=await qt.from("historial_consolidaciones").select("*, usuarios(nombre, apellido)").eq("consolidacion_id",e).order("fecha_evento",{ascending:!1}).order("created_at",{ascending:!1});if(G)throw G;o(se||[])}catch(se){console.error("Error fetching tracking history:",se)}finally{d(!1)}}const Q=async se=>{if(se.preventDefault(),!m||!x){alert("Completar campos obligatorios (Fecha y Estado).");return}h(!0);try{const{error:G}=await qt.from("historial_consolidaciones").insert([{consolidacion_id:e,estado:m,ciudad:C||null,comentario:I||null,notificar_wa:U,notificar_email:K,creado_por:i==null?void 0:i.id,fecha_evento:new Date(x).toISOString()}]);if(G)throw G;const le={Creado:"abierta","En trnsito":"en_transito",Entregado:"entregada"}[m]||"en_transito";await qt.from("consolidaciones").update({estado:le}).eq("id",e);const{data:J}=await qt.from("consolidacion_paquetes").select("paquete_id").eq("consolidacion_id",e);if(J&&J.length>0){const ie=J.map(we=>we.paquete_id);let ne="";m==="Creado"?ne="consolidado":["En trnsito","SAT","Pago de Impuestos","Oficina Quetzaltenango"].includes(m)?ne="en_transito":m==="Entregado"&&(ne="entregado"),ne&&await qt.from("paquetes").update({estado:ne}).in("id",ie);const fe=ie.map(we=>({paquete_id:we,estado_anterior:"Actualizacin Automtica",estado_nuevo:ne||"en_transito",usuario_id:i==null?void 0:i.id,notas:`[Actualizacin de Contenedor Master ${t}] - ${m}${C?` en ${C}`:""}. ${I||""}`.trim()}));if(await qt.from("historial_estados").insert(fe),K){const{data:we}=await qt.from("paquetes").select("cliente_id, clientes(nombre, apellido)").in("id",ie);if(we){const Ie=new Map;we.forEach(pe=>{pe.cliente_id&&pe.clientes&&!Ie.has(pe.cliente_id)&&Ie.set(pe.cliente_id,pe.clientes)});const Me=Array.from(Ie.entries());if(Me.length>0){const pe=Me.map(([X,de])=>({cliente_id:X,tipo:"email",asunto:`Actualizacin de Envo - Master ${t}`,mensaje:`Hola ${de.nombre},

Tu paquete perteneciente al viaje ${t} ha sido actualizado al siguiente estado: **${m}**${C?` en ${C}`:""}.

${I?"Nota: "+I:""}

Gracias por confiar en nosotros.`,estado:"pendiente"}));await qt.from("notificaciones").insert(pe)}}}}T(""),B(""),F(!1),Z(!1),await V(),n()}catch(G){alert("Error guardando estatus: "+G.message),console.error(G)}finally{h(!1)}},q=se=>{switch(se){case"Creado":return S.jsx(p3,{className:"h-5 w-5 text-blue-500"});case"En trnsito":return S.jsx(G2,{className:"h-5 w-5 text-blue-500"});case"SAT":return S.jsx(h3,{className:"h-5 w-5 text-orange-500"});case"Pago de Impuestos":return S.jsx(z5,{className:"h-5 w-5 text-indigo-500"});case"Oficina Quetzaltenango":return S.jsx(Dc,{className:"h-5 w-5 text-teal-600"});case"Entregado":return S.jsx(HG,{className:"h-5 w-5 text-green-600"});case"ALERTA":return S.jsx(CW,{className:"h-5 w-5 text-red-500"});case"SEGURO":return S.jsx(z5,{className:"h-5 w-5 text-blue-700"});case"Update Mobile":return S.jsx(gW,{className:"h-5 w-5 text-slate-600"});default:return S.jsx(TC,{className:"h-5 w-5 text-slate-400"})}};return S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:S.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-5xl max-h-[90vh] flex flex-col overflow-hidden animate-in zoom-in-95 duration-200",children:[S.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100 bg-slate-50",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-xl font-bold text-slate-800 tracking-tight",children:"Estatus de Consolidado"}),S.jsxs("p",{className:"text-sm text-slate-500 font-medium mt-0.5",children:["Master: ",S.jsx("span",{className:"text-blue-600 font-bold",children:t})]})]}),S.jsx("button",{onClick:r,className:"p-2 text-slate-400 hover:bg-slate-200 hover:text-slate-600 rounded-full transition-colors",children:S.jsx(Mf,{className:"h-5 w-5"})})]}),S.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[S.jsxs("div",{className:"w-full md:w-1/2 p-6 overflow-y-auto border-r border-slate-100 bg-white",children:[S.jsxs("div",{className:"mb-6 pb-2 border-b border-slate-100 flex items-center gap-2",children:[S.jsx("div",{className:"p-1.5 bg-blue-100 text-blue-600 rounded-lg",children:S.jsx(lW,{className:"h-4 w-4"})}),S.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Nuevo Estatus"})]}),S.jsxs("form",{onSubmit:Q,className:"space-y-5",children:[S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"space-y-1.5",children:[S.jsxs("label",{className:"text-sm font-semibold text-slate-700 flex items-center gap-1.5 hover:text-blue-600 cursor-pointer group",children:[S.jsx(tp,{className:"h-3.5 w-3.5 text-slate-400 group-hover:text-blue-500"})," Fecha ",S.jsx("span",{className:"text-red-500",children:"*"})]}),S.jsx("input",{type:"date",required:!0,value:x,onChange:se=>E(se.target.value),className:"block w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm h-10 px-3"})]}),S.jsxs("div",{className:"space-y-1.5",children:[S.jsxs("label",{className:"text-sm font-semibold text-slate-700 flex items-center gap-1.5",children:["Estado ",S.jsx("span",{className:"text-red-500",children:"*"})]}),S.jsx("select",{required:!0,value:m,onChange:se=>b(se.target.value),className:"block w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm font-medium h-10 px-3 bg-slate-50",children:xM.map(se=>S.jsx("option",{value:se,children:se},se))})]})]}),S.jsxs("div",{className:"space-y-1.5",children:[S.jsxs("label",{className:"text-sm font-semibold text-slate-700 flex items-center gap-1.5",children:[S.jsx(Dc,{className:"h-3.5 w-3.5 text-slate-400"})," Ciudad / Ubicacin"]}),S.jsx("input",{type:"text",placeholder:"Ej. Aduana Tecn Umn",value:C,onChange:se=>T(se.target.value),className:"block w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm h-10 px-3",list:"ciudades-sugeridas"}),S.jsxs("datalist",{id:"ciudades-sugeridas",children:[S.jsx("option",{value:"Laredo, TX"}),S.jsx("option",{value:"Tapachula"}),S.jsx("option",{value:"Ciudad de Guatemala"}),S.jsx("option",{value:"Quetzaltenango"})]})]}),S.jsxs("div",{className:"space-y-1.5",children:[S.jsxs("label",{className:"text-sm font-semibold text-slate-700 flex items-center gap-1.5",children:[S.jsx(zG,{className:"h-3.5 w-3.5 text-slate-400"})," Comentario"]}),S.jsx("textarea",{rows:3,value:I,onChange:se=>B(se.target.value),placeholder:"Instrucciones, notas de aduana o detalles del atraso...",className:"block w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-3 resize-none"})]}),S.jsxs("div",{className:"pt-2",children:[S.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"Notificaciones a Clientes"}),S.jsxs("div",{className:"space-y-3 bg-slate-50 p-4 rounded-xl border border-slate-100",children:[S.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[S.jsx("input",{type:"checkbox",checked:U,onChange:se=>F(se.target.checked),className:"h-4 w-4 rounded border-slate-300 text-green-600 focus:ring-green-600"}),S.jsxs("span",{className:"text-sm font-medium text-slate-700 group-hover:text-green-700 transition-colors",children:["Enviar notificacin por ",S.jsx("b",{children:"WhatsApp"})]})]}),S.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[S.jsx("input",{type:"checkbox",checked:K,onChange:se=>Z(se.target.checked),className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-600"}),S.jsxs("span",{className:"text-sm font-medium text-slate-700 group-hover:text-blue-700 transition-colors",children:["Enviar notificacin por ",S.jsx("b",{children:"Correo Automtico"})]})]})]})]}),S.jsx("div",{className:"pt-4",children:S.jsx("button",{type:"submit",disabled:c,className:"w-full inline-flex justify-center items-center gap-2 rounded-xl bg-blue-600 px-4 py-3 text-sm font-bold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Registrando Estatus...":"Aadir Estatus"})})]})]}),S.jsxs("div",{className:"w-full md:w-1/2 bg-slate-50 overflow-y-auto p-6 relative",children:[S.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-6 sticky top-0 bg-slate-50/90 backdrop-blur z-10 pb-2",children:"Lnea de Tiempo Operativa"}),u?S.jsx("div",{className:"flex justify-center py-20",children:S.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"})}):a.length===0?S.jsxs("div",{className:"text-center py-16 px-4",children:[S.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-slate-200 flex items-center justify-center mb-3",children:S.jsx(TC,{className:"h-6 w-6 text-slate-400"})}),S.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"No se han registrado movimientos todava."})]}):S.jsx("div",{className:"flow-root",children:S.jsx("ul",{role:"list",className:"-mb-8",children:a.map((se,G)=>S.jsx("li",{children:S.jsxs("div",{className:"relative pb-8",children:[G!==a.length-1?S.jsx("span",{className:"absolute left-5 top-5 -ml-px h-full w-0.5 bg-slate-200","aria-hidden":"true"}):null,S.jsxs("div",{className:"relative flex items-start space-x-3",children:[S.jsx("div",{className:`relative px-1 ${G===0?"bg-blue-50":"bg-slate-50"} rounded-full ring-8 ring-white flex h-8 w-8 items-center justify-center shadow-sm`,children:q(se.estado)}),S.jsxs("div",{className:"min-w-0 flex-1 bg-white p-4 rounded-xl border border-slate-200 shadow-sm ml-2 relative group",children:[S.jsxs("div",{className:"text-sm mb-1",children:[S.jsx("span",{className:"font-bold text-slate-900 mr-2",children:se.estado}),se.ciudad&&S.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-slate-100 px-2 py-0.5 text-xs font-semibold text-slate-700",children:[S.jsx(Dc,{className:"h-3 w-3"})," ",se.ciudad]})]}),se.comentario&&S.jsxs("p",{className:"mt-2 text-sm text-slate-600 leading-relaxed bg-slate-50 p-2.5 rounded-lg border border-slate-100 italic",children:['"',se.comentario,'"']}),S.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-slate-400 font-medium",children:[S.jsxs("span",{className:"flex items-center gap-1",children:[S.jsx(tp,{className:"h-3.5 w-3.5"}),Eu(new Date(se.fecha_evento||se.created_at),"dd MMM yyyy 'a las' HH:mm")]}),S.jsxs("span",{children:["por ",se.usuarios?`${se.usuarios.nombre} ${se.usuarios.apellido}`:"Sistema"]})]})]})]})]})},se.id))})})]})]})]})})}function wge({isOpen:e,onClose:t,onSuccess:r,consolidacionId:n,bodegaId:i}){const{user:a}=Fa(),[o,u]=D.useState(!1),[d,c]=D.useState(!1),[h,m]=D.useState([]),[b,x]=D.useState([]),[E,C]=D.useState(!0);D.useEffect(()=>{e&&n&&i?I():T()},[e,n,i]);const T=()=>{m([]),x([]),C(!0)},I=async()=>{u(!0);try{const{data:F,error:K}=await qt.from("tarifas").select("id, nombre_servicio, tarifa_q, tipo_cobro").eq("bodega_id",i).eq("activa",!0);if(K)throw K;const Z=F||[];x(Z);const{data:V,error:Q}=await qt.from("consolidacion_paquetes").select("paquete_id").eq("consolidacion_id",n);if(Q)throw Q;if(!V||V.length===0){m([]),u(!1);return}const q=V.map(J=>J.paquete_id),{data:se,error:G}=await qt.from("paquetes").select("id, peso_lbs, cliente_id, clientes(id, nombre, apellido, locker_id, email)").in("id",q);if(G)throw G;const H=new Map;se.forEach(J=>{if(!J.cliente_id||!J.clientes)return;const ie=J.cliente_id;H.has(ie)||H.set(ie,{cliente:J.clientes,paquetes:[],totalLbs:0,tarifaAplicada:null,totalQ:0});const ne=H.get(ie);ne.paquetes.push(J),ne.totalLbs+=Number(J.peso_lbs)||0});const le=Array.from(H.values()).map(J=>{let ie=null,ne=0;return Z.length>0&&(ie=Z.find(fe=>fe.tipo_cobro==="por_libra")||Z[0],ie.tipo_cobro==="por_libra"?ne=ie.tarifa_q*(J.totalLbs>0?J.totalLbs:1):ie.tipo_cobro==="fijo"?ne=ie.tarifa_q:ie.tipo_cobro==="por_paquete"&&(ne=ie.tarifa_q*J.paquetes.length)),{...J,tarifaAplicada:ie,totalQ:ne}});m(le)}catch(F){console.error("Error cargando previsualizacin:",F),alert("Ocurri un error leyendo los paquetes de la consolidacin.")}finally{u(!1)}},B=async()=>{var F,K;if(h.length!==0){c(!0);try{let Z=0;for(const V of h){if(V.totalQ<=0)continue;const Q=`FAC-${Math.random().toString(36).substring(2,8).toUpperCase()}`,q=await qt.from("facturas").insert([{numero:Q,cliente_id:V.cliente.id,consolidacion_id:n,monto_subtotal:V.totalQ,monto_total:V.totalQ,estado:"pendiente",moneda:"GTQ",creado_por:(F=a==null?void 0:a.id)!=null&&F.includes("-")&&a.id.length>15?a.id:null,notas:`Factura masiva por importacin de ${V.paquetes.length} paquete(s) consolidado(s).`}]).select().single();if(q.error)throw q.error;const se=q.data,G=await qt.from("conceptos_factura").insert([{factura_id:se.id,descripcion:`Servicio de Logstica (${((K=V.tarifaAplicada)==null?void 0:K.nombre_servicio)||"Genrico"}) - ${V.totalLbs.toFixed(2)} lbs agrupadas.`,cantidad:1,precio_unitario:V.totalQ,subtotal:V.totalQ}]);if(G.error)throw G.error;E&&V.cliente.email&&await qt.from("notificaciones").insert([{cliente_id:V.cliente.id,tipo:"email",asunto:"Nueva Factura Generada - Lote Consolidado",mensaje:`Hola ${V.cliente.nombre}, hemos generado tu factura ${Q} por procesar ${V.paquetes.length} paquete(s) por un monto de Q${V.totalQ.toFixed(2)}. Puedes revisar tu portal para realizar el pago.`,estado:"pendiente"}]),Z++}alert(`Facturacin Masiva Completada! Se generaron ${Z} facturas.`),r(),t()}catch(Z){console.error(Z),alert("Error al generar las facturas: "+Z.message)}finally{c(!1)}}};if(!e)return null;const U=h.reduce((F,K)=>F+K.totalQ,0);return S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",children:S.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in-95",children:[S.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200",children:[S.jsxs("div",{children:[S.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[S.jsx(o0,{className:"h-5 w-5 text-blue-600"}),"Facturacin Masiva por Consolidado"]}),S.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Auto-clculo agrupando paquetes y tarifas asociadas al origen"})]}),S.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:text-slate-600 rounded-full hover:bg-slate-100 transition-colors",children:S.jsx(Mf,{className:"h-5 w-5"})})]}),S.jsx("div",{className:"p-6 flex-1 overflow-y-auto bg-slate-50/50",children:o?S.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[S.jsx(Fs,{className:"h-10 w-10 text-blue-600 animate-spin mb-4"}),S.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Calculando e indexando paquetes..."})]}):h.length===0?S.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-slate-200",children:[S.jsx(kf,{className:"h-12 w-12 text-slate-300 mx-auto mb-3"}),S.jsx("p",{className:"text-slate-900 font-semibold",children:"Consolidado sin paquetes."}),S.jsx("p",{className:"text-slate-500 text-sm",children:"No hay paquetes asociados o los clientes no son legibles."})]}):S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[S.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center gap-4",children:[S.jsx("div",{className:"bg-indigo-100 p-3 rounded-lg text-indigo-600",children:S.jsx(v3,{className:"h-6 w-6"})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Clientes"}),S.jsx("p",{className:"text-2xl font-black text-slate-900",children:h.length})]})]}),S.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center gap-4",children:[S.jsx("div",{className:"bg-sky-100 p-3 rounded-lg text-sky-600",children:S.jsx(kf,{className:"h-6 w-6"})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Total Cajas"}),S.jsx("p",{className:"text-2xl font-black text-slate-900",children:h.reduce((F,K)=>F+K.paquetes.length,0)})]})]}),S.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center gap-4",children:[S.jsx("div",{className:"bg-emerald-100 p-3 rounded-lg text-emerald-600",children:S.jsx(o0,{className:"h-6 w-6"})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Facturacin Bruta"}),S.jsxs("p",{className:"text-2xl font-black text-slate-900",children:["Q",U.toFixed(2)]})]})]})]}),S.jsx("div",{className:"bg-white border text-sm border-slate-200 rounded-xl overflow-hidden shadow-sm",children:S.jsxs("table",{className:"w-full text-left",children:[S.jsx("thead",{className:"bg-slate-100 text-slate-600 border-b border-slate-200",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-4 py-3 font-semibold",children:"Casillero y Cliente"}),S.jsx("th",{className:"px-4 py-3 font-semibold text-center",children:"Cajas (Lbs)"}),S.jsx("th",{className:"px-4 py-3 font-semibold",children:"Tarifa Sugerida"}),S.jsx("th",{className:"px-4 py-3 font-semibold text-right",children:"Monto a Facturar"})]})}),S.jsx("tbody",{className:"divide-y divide-slate-100",children:h.map((F,K)=>S.jsxs("tr",{className:"hover:bg-slate-50/50",children:[S.jsxs("td",{className:"px-4 py-3",children:[S.jsx("p",{className:"font-bold text-slate-900",children:F.cliente.locker_id}),S.jsxs("p",{className:"text-xs text-slate-500",children:[F.cliente.nombre," ",F.cliente.apellido]})]}),S.jsxs("td",{className:"px-4 py-3 text-center",children:[S.jsxs("p",{className:"font-medium text-slate-800",children:[F.paquetes.length," Pz"]}),S.jsxs("p",{className:"text-xs text-slate-500",children:[F.totalLbs.toFixed(2)," Lbs"]})]}),S.jsx("td",{className:"px-4 py-3",children:F.tarifaAplicada?S.jsxs(S.Fragment,{children:[S.jsx("p",{className:"font-medium text-slate-800 text-xs inline-flex items-center px-2 py-0.5 rounded-md bg-slate-200",children:F.tarifaAplicada.nombre_servicio}),S.jsxs("p",{className:"text-[10px] text-slate-500 mt-1",children:["Q",F.tarifaAplicada.tarifa_q," - ",F.tarifaAplicada.tipo_cobro]})]}):S.jsx("span",{className:"text-red-500 text-xs font-medium",children:"Asignacin Manual Requerida"})}),S.jsx("td",{className:"px-4 py-3 text-right",children:S.jsxs("span",{className:"font-bold bg-green-100 text-green-800 px-2 py-1 rounded-md border border-green-200",children:["Q",F.totalQ.toFixed(2)]})})]},K))})]})})]})}),S.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 bg-white flex justify-between items-center",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("input",{type:"checkbox",id:"sendEmailBulk",checked:E,onChange:F=>C(F.target.checked),className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-600"}),S.jsx("label",{htmlFor:"sendEmailBulk",className:"text-sm text-slate-700 font-medium cursor-pointer",children:"Enviar avisos por correo"})]}),S.jsxs("div",{className:"flex gap-3",children:[S.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium rounded-md text-slate-700 bg-white border border-slate-300 hover:bg-slate-50",children:"Cancelar"}),S.jsxs("button",{onClick:B,disabled:d||o||h.length===0,className:"inline-flex items-center gap-2 px-6 py-2 text-sm font-bold rounded-md text-white bg-blue-600 hover:bg-blue-500 disabled:opacity-50",children:[d?S.jsx(Fs,{className:"h-4 w-4 animate-spin"}):S.jsx(Cd,{className:"h-4 w-4"}),d?"Generando recibos...":"Generar y Facturar Todo"]})]})]})]})})}function _ge(){const[e,t]=D.useState([]),[r,n]=D.useState(!0),[i,a]=D.useState(""),[o,u]=D.useState(null),[d,c]=D.useState(""),[h,m]=D.useState(!1),[b,x]=D.useState(""),[E,C]=D.useState(""),{user:T,isAdmin:I}=Fa();D.useEffect(()=>{B()},[]);async function B(){n(!0);try{const{data:V,error:Q}=await qt.from("consolidaciones").select(`
          id, codigo, estado, peso_total_lbs, created_at,
          bodegas(id, nombre),
          zonas(id, nombre),
          consolidacion_paquetes(count)
        `).order("created_at",{ascending:!1});if(Q)throw Q;const q=(V||[]).map(se=>{var G,H;return{id:se.id,codigo:se.codigo,estado:se.estado,peso_total_lbs:se.peso_total_lbs,created_at:se.created_at,bodegas:Array.isArray(se.bodegas)?se.bodegas[0]:se.bodegas,zonas:Array.isArray(se.zonas)?se.zonas[0]:se.zonas,paquetes_count:Array.isArray(se.consolidacion_paquetes)?((G=se.consolidacion_paquetes[0])==null?void 0:G.count)||0:((H=se.consolidacion_paquetes)==null?void 0:H.count)||0}});t(q)}catch(V){console.error("Error fetching consolidaciones:",V)}finally{n(!1)}}const U=(V,Q)=>{u(V),c(Q)},F=(V,Q)=>{x(V),C(Q),m(!0)},K=V=>{switch(V){case"abierta":return"bg-blue-100 text-blue-800 border-blue-200";case"en_transito":return"bg-amber-100 text-amber-800 border-amber-200";case"entregada":return"bg-emerald-100 text-emerald-800 border-emerald-200";default:return"bg-slate-100 text-slate-800 border-slate-200"}},Z=e.filter(V=>V.codigo.toLowerCase().includes(i.toLowerCase())||V.estado.toLowerCase().includes(i.toLowerCase()));return S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[S.jsxs("div",{className:"relative w-full sm:w-96",children:[S.jsx(Np,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),S.jsx("input",{type:"text",placeholder:"Buscar por cdigo de Consolidado o Estatus...",value:i,onChange:V=>a(V.target.value),className:"h-9 w-full rounded-md border border-slate-300 bg-white pl-9 pr-4 text-sm outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})]}),S.jsx("button",{onClick:B,className:"text-sm font-medium text-blue-600 hover:text-blue-800 transition-colors",children:"Refrescar Lista"})]}),S.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:r?S.jsxs("div",{className:"flex justify-center flex-col items-center py-20 px-4",children:[S.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-600 border-t-transparent mb-4"}),S.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Cargando bitcora maestra..."})]}):Z.length===0?S.jsxs("div",{className:"text-center py-20 px-4",children:[S.jsx(rp,{className:"h-12 w-12 text-slate-300 mx-auto mb-4"}),S.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"No hay consolidados"}),S.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Todava no has agrupado ningn envo maestro."})]}):S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[S.jsx("thead",{className:"bg-slate-50",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Detalle del Consolidado"}),S.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Ruta"}),S.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Estatus Actual"}),S.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Carga"}),S.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Acciones"})]})}),S.jsx("tbody",{className:"bg-white divide-y divide-slate-100",children:Z.map(V=>{var Q,q,se;return S.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[S.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"h-10 w-10 shrink-0 flex items-center justify-center rounded-lg bg-indigo-50 border border-indigo-100 text-indigo-600",children:S.jsx(G2,{className:"h-5 w-5"})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm font-bold text-slate-900",children:V.codigo}),S.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1 mt-0.5",children:[S.jsx(tp,{className:"h-3 w-3"}),Eu(new Date(V.created_at),"dd MMM yyyy",{locale:Vp})]})]})]})}),S.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.jsxs("div",{className:"flex flex-col text-sm text-slate-600 space-y-1",children:[S.jsxs("span",{className:"flex items-center gap-1.5",children:[S.jsx(Dc,{className:"h-3 w-3 text-slate-400"})," ",S.jsx("b",{children:"Origen:"})," ",((Q=V.bodegas)==null?void 0:Q.nombre)||"N/A"]}),S.jsxs("span",{className:"flex items-center gap-1.5",children:[S.jsx(Dc,{className:"h-3 w-3 text-slate-400"})," ",S.jsx("b",{children:"Destino:"})," ",((q=V.zonas)==null?void 0:q.nombre)||"N/A"]})]})}),S.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:S.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold border uppercase tracking-wide ${K(V.estado)}`,children:V.estado.replace("_"," ")})}),S.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:[S.jsxs("p",{className:"text-sm font-bold text-slate-800",children:[V.paquetes_count," Paquetes"]}),S.jsxs("p",{className:"text-xs font-medium text-slate-500",children:[(se=V.peso_total_lbs)==null?void 0:se.toFixed(2)," lbs"]})]}),S.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:S.jsxs("div",{className:"flex items-center justify-end gap-2",children:[I&&V.bodegas&&S.jsxs("button",{onClick:()=>F(V.id,V.bodegas.id),className:"inline-flex items-center gap-1.5 text-emerald-600 bg-emerald-50 border border-emerald-100 hover:bg-emerald-600 hover:text-white px-3 py-1.5 rounded-lg transition-colors font-bold shadow-sm",title:"Generar Facturas",children:[S.jsx(rp,{className:"h-4 w-4"})," Facturar Lote"]}),S.jsxs("button",{onClick:()=>U(V.id,V.codigo),className:"inline-flex items-center gap-1.5 text-blue-600 bg-blue-50 border border-blue-100 hover:bg-blue-600 hover:text-white px-3 py-1.5 rounded-lg transition-colors font-bold shadow-sm",children:[S.jsx(pG,{className:"h-4 w-4"})," Tracking Master"]})]})})]},V.id)})})]})})}),o&&S.jsx(xge,{consolidacionId:o,codigoMaster:d,onClose:()=>u(null),onUpdate:B}),h&&S.jsx(wge,{isOpen:h,onClose:()=>m(!1),onSuccess:()=>{B()},consolidacionId:b,bodegaId:E})]})}function Age(){const{user:e}=Fa(),[t,r]=D.useState("create"),[n,i]=D.useState([]),[a,o]=D.useState([]),[u,d]=D.useState([]),[c,h]=D.useState(!0),[m,b]=D.useState(!1),[x,E]=D.useState(""),[C,T]=D.useState({nombre_alternativo:"",origen_id:"",destino_id:""}),[I,B]=D.useState(new Set);D.useEffect(()=>{U()},[]);async function U(){h(!0);try{const[G,H,le]=await Promise.all([qt.from("bodegas").select("id, nombre").eq("activo",!0),qt.from("zonas").select("id, nombre").eq("activo",!0),qt.from("paquetes").select("id, tracking, peso_lbs, peso_volumetrico, piezas, clientes(nombre, apellido, locker_id), bodegas(id, nombre)").in("estado",["en_bodega","recibido"]).order("fecha_recepcion",{ascending:!1})]);G.data&&(i(G.data),G.data.length>0&&T(J=>({...J,origen_id:G.data[0].id}))),H.data&&(o(H.data),H.data.length>0&&T(J=>({...J,destino_id:H.data[0].id}))),le.data&&d(le.data)}catch(G){console.error("Error fetching data for consolidation:",G)}finally{h(!1)}}const F=G=>{G.target.name==="origen_id"&&I.size>0&&B(new Set),T({...C,[G.target.name]:G.target.value})},K=D.useMemo(()=>{const G=x.toLowerCase();return u.filter(H=>{var J,ie,ne,fe;return C.origen_id&&((J=H.bodegas)==null?void 0:J.id)!==C.origen_id?!1:`${(ie=H.clientes)==null?void 0:ie.locker_id} ${(ne=H.clientes)==null?void 0:ne.nombre} ${(fe=H.clientes)==null?void 0:fe.apellido}`.toLowerCase().includes(G)||H.tracking.toLowerCase().includes(G)})},[u,x,C.origen_id]),Z=G=>{const H=new Set(I);H.has(G)?H.delete(G):H.add(G),B(H)},V=()=>{I.size===K.length&&K.length>0?B(new Set):B(new Set(K.map(G=>G.id)))},Q=D.useMemo(()=>{let G=0,H=0;return I.forEach(le=>{const J=u.find(ie=>ie.id===le);J&&(G+=Number(J.peso_lbs)||0,H+=Number(J.peso_volumetrico)||0)}),{cantidad:I.size,peso:G,volumen:H}},[I,u]),q=async()=>{if(I.size===0){alert("Debes seleccionar al menos un paquete.");return}if(!C.origen_id||!C.destino_id){alert("Origen y Destino son obligatorios.");return}try{b(!0);const H=`CON-${new Date().toISOString().slice(0,10).replace(/-/g,"")}-${Math.floor(1e3+Math.random()*9e3)}`,le={codigo:C.nombre_alternativo||H,bodega_id:C.origen_id,zona_destino_id:C.destino_id,estado:"abierta",peso_total_lbs:Q.peso,notas:`Consolidacin generada por ${(e==null?void 0:e.nombre)||"Operador"}`},{data:J,error:ie}=await qt.from("consolidaciones").insert([le]).select().single();if(ie||!J)throw ie;const ne=J.id,fe=Array.from(I),we=fe.map(Me=>({consolidacion_id:ne,paquete_id:Me})),{error:Ie}=await qt.from("consolidacion_paquetes").insert(we);if(Ie)throw Ie;for(const Me of fe)await qt.from("paquetes").update({estado:"consolidado"}).eq("id",Me);alert("Consolidacin creada con xito. Los paquetes ahora estn listos para envo."),T(Me=>({...Me,nombre_alternativo:""})),B(new Set),U()}catch(G){console.error("Error creating consolidation:",G),alert("Hubo un error al crear la consolidacin: "+(G.message||"Desconocido"))}finally{b(!1)}},se=K.length>0&&I.size===K.length;return S.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto pb-10",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Mdulo de Consolidacin"}),S.jsx("p",{className:"text-sm text-slate-500",children:"Agrupa envos y administra el Tracking Maestro."})]}),S.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[S.jsx("button",{onClick:()=>r("create"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="create"?"bg-white shadow-sm text-blue-600":"text-slate-600 hover:text-slate-900"}`,children:"Crear Consolidado"}),S.jsxs("button",{onClick:()=>r("list"),className:`flex items-center gap-2 px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="list"?"bg-white shadow-sm text-blue-600":"text-slate-600 hover:text-slate-900"}`,children:[S.jsx(sG,{className:"h-4 w-4"})," Tracking Master"]})]})]}),t==="create"?S.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-12",children:[S.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"Detalles del Envo"}),S.jsxs("button",{onClick:U,className:"inline-flex items-center gap-1.5 rounded-md bg-white px-2.5 py-1.5 text-xs font-medium text-slate-600 shadow-sm ring-1 ring-inset ring-slate-300 hover:bg-slate-50",children:[S.jsx("span",{className:"sr-only",children:"Refrescar"}),""]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nombre Alternativo (Gua Master)"}),S.jsx("input",{type:"text",name:"nombre_alternativo",value:C.nombre_alternativo,onChange:F,className:"block w-full rounded-md border-0 py-2 px-3 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",placeholder:"Dejar vaco para auto-generar"})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Origen"}),S.jsx("select",{name:"origen_id",value:C.origen_id,onChange:F,className:"block w-full rounded-md border-0 py-2 px-3 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",children:n.map(G=>S.jsx("option",{value:G.id,children:G.nombre},G.id))})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Destino"}),S.jsx("select",{name:"destino_id",value:C.destino_id,onChange:F,className:"block w-full rounded-md border-0 py-2 px-3 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",children:a.map(G=>S.jsx("option",{value:G.id,children:G.nombre},G.id))})]})]})]}),S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-6 shadow-sm",children:[S.jsx("h3",{className:"text-sm font-medium text-slate-900 mb-4",children:"Resumen de Consolidacin"}),S.jsxs("dl",{className:"space-y-3 text-sm text-slate-600",children:[S.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200",children:[S.jsx("dt",{children:"Paquetes seleccionados:"}),S.jsx("dd",{className:"font-bold text-blue-600 text-base",children:Q.cantidad})]}),S.jsxs("div",{className:"flex justify-between py-1",children:[S.jsx("dt",{children:"Peso total estimado:"}),S.jsxs("dd",{className:"font-medium text-slate-900",children:[Q.peso.toFixed(2)," lbs"]})]}),S.jsxs("div",{className:"flex justify-between py-1",children:[S.jsx("dt",{children:"Volumen total estimado:"}),S.jsxs("dd",{className:"font-medium text-slate-900",children:[Q.volumen.toFixed(2)," ft"]})]})]}),S.jsxs("button",{onClick:q,disabled:I.size===0||m,className:"mt-6 w-full flex items-center justify-center gap-2 rounded-md bg-slate-900 px-3 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-900 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[m?S.jsx(Fs,{className:"h-4 w-4 animate-spin"}):S.jsx(rp,{className:"h-4 w-4"}),m?"Procesando...":"Crear Consolidado"]})]})]}),S.jsx("div",{className:"lg:col-span-8",children:S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm h-full flex flex-col min-h-[500px]",children:[S.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center justify-between gap-4 bg-slate-50 rounded-t-xl",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"Paquetes Disponibles"}),S.jsxs("span",{className:"inline-flex items-center rounded-md bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700 ring-1 ring-inset ring-blue-700/10",children:[u.length," en bodega"]})]}),S.jsxs("div",{className:"relative w-full sm:w-72",children:[S.jsx(Np,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),S.jsx("input",{type:"text",value:x,onChange:G=>E(G.target.value),placeholder:"Buscar por cliente o tracking...",className:"h-9 w-full rounded-md border border-slate-300 bg-white pl-9 pr-4 text-sm outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-shadow"})]})]}),S.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3 border-b border-slate-200 bg-slate-50 text-xs font-medium text-slate-500 uppercase tracking-wider",children:[S.jsx("div",{className:"col-span-1 flex items-center",children:S.jsx("button",{onClick:V,className:"text-slate-400 hover:text-blue-600 focus:outline-none",children:se?S.jsx(kC,{className:"h-5 w-5 text-blue-600"}):S.jsx(MC,{className:"h-5 w-5"})})}),S.jsx("div",{className:"col-span-5",children:"Detalle del Paquete"}),S.jsx("div",{className:"col-span-4",children:"Cliente / Casillero"}),S.jsx("div",{className:"col-span-2 text-right",children:"Peso (lbs)"})]}),S.jsx("div",{className:"flex-1 overflow-y-auto",children:c?S.jsx("div",{className:"flex justify-center py-20",children:S.jsx(Fs,{className:"h-8 w-8 animate-spin text-blue-600"})}):K.length===0?S.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-20 px-4",children:[S.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-slate-50 mb-4",children:S.jsx(rp,{className:"h-8 w-8 text-slate-300"})}),S.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:x?"No hay resultados para tu bsqueda":"No hay paquetes en bodega"}),S.jsx("p",{className:"mt-1 text-sm text-slate-500 max-w-sm",children:x?"Intenta usar otros trminos.":"Todos los paquetes disponibles ya han sido consolidados o empacados."})]}):S.jsx("div",{className:"divide-y divide-slate-100",children:K.map(G=>{var le,J,ie;const H=I.has(G.id);return S.jsxs("div",{onClick:()=>Z(G.id),className:`grid grid-cols-12 gap-4 px-6 py-4 items-center cursor-pointer transition-colors hover:bg-slate-50 ${H?"bg-blue-50/30":""}`,children:[S.jsx("div",{className:"col-span-1",children:H?S.jsx(kC,{className:"h-5 w-5 text-blue-600"}):S.jsx(MC,{className:"h-5 w-5 text-slate-300"})}),S.jsxs("div",{className:"col-span-5 flex items-center gap-3 overflow-hidden",children:[S.jsx("div",{className:`flex h-10 w-10 shrink-0 items-center justify-center rounded-lg border ${H?"bg-blue-100 border-blue-200":"bg-white border-slate-200"}`,children:S.jsx(kf,{className:`h-5 w-5 ${H?"text-blue-600":"text-slate-400"}`})}),S.jsxs("div",{className:"min-w-0",children:[S.jsx("p",{className:"truncate text-sm font-semibold text-slate-900",title:G.tracking,children:G.tracking}),S.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:[G.piezas||1," ",G.piezas===1?"pieza":"piezas"]})]})]}),S.jsxs("div",{className:"col-span-4 min-w-0",children:[S.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[S.jsx(Dc,{className:"h-3 w-3 text-slate-400 shrink-0"}),S.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:((le=G.clientes)==null?void 0:le.locker_id)||"N/A"})]}),S.jsxs("p",{className:"text-xs text-slate-500 truncate",children:[(J=G.clientes)==null?void 0:J.nombre," ",(ie=G.clientes)==null?void 0:ie.apellido]})]}),S.jsx("div",{className:"col-span-2 text-right",children:S.jsx("span",{className:"inline-flex items-center rounded-md bg-slate-100 px-2 py-1 text-xs font-medium text-slate-700 ring-1 ring-inset ring-slate-200",children:G.peso_lbs?`${Number(G.peso_lbs).toFixed(2)} lbs`:"-"})})]},G.id)})})}),K.length>0&&S.jsxs("div",{className:"p-4 border-t border-slate-200 bg-slate-50 rounded-b-xl flex items-center justify-between text-sm text-slate-500",children:[S.jsxs("span",{children:["Mostrando ",K.length," paquetes"]}),I.size>0&&S.jsxs("span",{className:"font-medium text-blue-600",children:[I.size," seleccionados"]})]})]})})]}):S.jsx(_ge,{})]})}function Sge({isOpen:e,onClose:t,onSuccess:r}){const{user:n}=Fa(),[i,a]=D.useState(!1),[o,u]=D.useState([]),[d,c]=D.useState([]),[h,m]=D.useState([]),[b,x]=D.useState(""),[E,C]=D.useState(""),[T,I]=D.useState([]),[B,U]=D.useState(!0);D.useEffect(()=>{e?K():F()},[e]),D.useEffect(()=>{E?Z(E):m([])},[E]);const F=()=>{x(""),C(""),I([]),U(!0)},K=async()=>{try{const[H,le]=await Promise.all([qt.from("clientes").select("id, nombre, apellido, locker_id, email").eq("activo",!0).order("nombre"),qt.from("bodegas").select("id, nombre").eq("activo",!0).order("nombre")]);H.data&&u(H.data),le.data&&c(le.data)}catch(H){console.error("Error fetching initial data for invoice",H)}},Z=async H=>{try{const{data:le}=await qt.from("tarifas").select("id, nombre_servicio, tarifa_q, tipo_cobro").eq("bodega_id",H).eq("activa",!0);le&&m(le)}catch(le){console.error("Error fetching tarifas",le)}},V=()=>{I([...T,{id:crypto.randomUUID(),descripcion:"",cantidad:1,precio_unitario:0}])},Q=H=>{I(T.filter(le=>le.id!==H))},q=(H,le,J)=>{I(T.map(ie=>{if(ie.id===H){const ne={...ie,[le]:J};if(le==="descripcion"){const fe=h.find(we=>we.nombre_servicio===J);fe&&(ne.precio_unitario=fe.tarifa_q)}return ne}return ie}))},se=()=>T.reduce((H,le)=>H+le.cantidad*le.precio_unitario,0),G=async()=>{if(!b||T.length===0){alert("Seleccione un cliente y agregue al menos un concepto.");return}if(T.some(H=>!H.descripcion||H.cantidad<=0||H.precio_unitario<0)){alert("Revise que todos los conceptos tengan descripcin, cantidad vlida y precio vlido.");return}a(!0);try{const H=`FAC-${Math.random().toString(36).substring(2,8).toUpperCase()}`,le=se(),{data:J,error:ie}=await qt.from("facturas").insert([{numero:H,cliente_id:b,monto_subtotal:le,monto_total:le,moneda:"GTQ",estado:"pendiente",creado_por:n==null?void 0:n.id}]).select().single();if(ie)throw ie;const ne=T.map(we=>({factura_id:J.id,descripcion:we.descripcion,cantidad:we.cantidad,precio_unitario:we.precio_unitario,subtotal:we.cantidad*we.precio_unitario})),{error:fe}=await qt.from("conceptos_factura").insert(ne);if(fe)throw fe;if(B){const we=o.find(Ie=>Ie.id===b);we!=null&&we.email&&await qt.from("notificaciones").insert([{cliente_id:b,tipo:"email",asunto:`Nueva Factura Generada - ${H}`,mensaje:`Se ha generado una nueva factura por el monto de Q${le.toFixed(2)}. Por favor ingrese a su portal para revisar detalles o contactarnos para el pago.`,estado:"pendiente"}])}r(),t()}catch(H){console.error(H),alert("Error al generar la factura: "+H.message)}finally{a(!1)}};return e?S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",children:S.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in-95",children:[S.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200",children:[S.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Generar Factura Manual"}),S.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:text-slate-600 rounded-full hover:bg-slate-100 transition-colors",children:S.jsx(Mf,{className:"h-5 w-5"})})]}),S.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-6",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Cliente *"}),S.jsxs("select",{value:b,onChange:H=>x(H.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[S.jsx("option",{value:"",children:"-- Seleccionar Cliente --"}),o.map(H=>S.jsxs("option",{value:H.id,children:[H.locker_id," - ",H.nombre," ",H.apellido]},H.id))]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Cargar Tarifas de Bodega"}),S.jsxs("select",{value:E,onChange:H=>C(H.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[S.jsx("option",{value:"",children:"-- Sin Bodega / Cargos Manuales --"}),d.map(H=>S.jsx("option",{value:H.id,children:H.nombre},H.id))]})]})]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Conceptos (Cargos) *"}),S.jsxs("button",{type:"button",onClick:V,className:"inline-flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-700",children:[S.jsx(w0,{className:"h-3 w-3"})," Agregar Elemento"]})]}),S.jsxs("div",{className:"space-y-3",children:[T.map((H,le)=>S.jsxs("div",{className:"flex gap-3 items-start bg-slate-50 p-3 rounded-lg border border-slate-200",children:[S.jsx("div",{className:"flex-1",children:S.jsx("input",{type:"text",placeholder:"Descripcin o Seleccionar Tarifa",value:H.descripcion,onChange:J=>q(H.id,"descripcion",J.target.value),list:"tarifas-list",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})}),S.jsx("div",{className:"w-24",children:S.jsx("input",{type:"number",min:"0.01",step:"0.01",placeholder:"Cant.",value:H.cantidad,onChange:J=>q(H.id,"cantidad",parseFloat(J.target.value)),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})}),S.jsx("div",{className:"w-32",children:S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:S.jsx("span",{className:"text-slate-500 sm:text-sm",children:"Q"})}),S.jsx("input",{type:"number",min:"0",step:"0.01",placeholder:"Precio",value:H.precio_unitario,onChange:J=>q(H.id,"precio_unitario",parseFloat(J.target.value)),className:"w-full rounded-md border-slate-300 pl-7 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]})}),S.jsx("div",{className:"w-24 text-right flex flex-col justify-center py-2",children:S.jsxs("span",{className:"text-sm font-semibold text-slate-700",children:["Q",(H.cantidad*H.precio_unitario).toFixed(2)]})}),S.jsx("button",{onClick:()=>Q(H.id),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",children:S.jsx(m3,{className:"h-4 w-4"})})]},H.id)),T.length===0&&S.jsx("div",{className:"text-center py-4 text-sm text-slate-500 border-2 border-dashed border-slate-200 rounded-lg",children:"No hay conceptos agregados."})]}),S.jsx("datalist",{id:"tarifas-list",children:h.map(H=>S.jsxs("option",{value:H.nombre_servicio,children:["Q",H.tarifa_q," (",H.tipo_cobro.replace("_"," "),")"]},H.id))})]}),S.jsxs("div",{className:"flex justify-between items-center bg-blue-50 p-4 rounded-xl border border-blue-100",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("input",{type:"checkbox",id:"sendEmail",checked:B,onChange:H=>U(H.target.checked),className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-600"}),S.jsx("label",{htmlFor:"sendEmail",className:"text-sm text-slate-700 font-medium",children:"Enviar Notificacin por Correo al Cliente"})]}),S.jsxs("div",{className:"text-right",children:[S.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Monto Total"}),S.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["Q",se().toFixed(2)]})]})]})]}),S.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 bg-slate-50 flex justify-end gap-3",children:[S.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium rounded-md text-slate-700 bg-white border border-slate-300 hover:bg-slate-50",children:"Cancelar"}),S.jsxs("button",{onClick:G,disabled:i||T.length===0||!b,className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-bold rounded-md text-white bg-blue-600 hover:bg-blue-500 disabled:opacity-50",children:[i?S.jsx(Fs,{className:"h-4 w-4 animate-spin"}):S.jsx(Cd,{className:"h-4 w-4"}),"Guardar Factura"]})]})]})}):null}function Ege({isOpen:e,onClose:t,onSuccess:r,facturaId:n,facturaTotal:i,facturaNumero:a}){const{user:o}=Fa(),[u,d]=D.useState(!1),[c,h]=D.useState(i.toString()),[m,b]=D.useState("transferencia"),[x,E]=D.useState(""),[C,T]=D.useState(""),I=async()=>{if(!c||isNaN(Number(c))||Number(c)<=0){alert("Ingrese un monto vlido mayor a 0.");return}d(!0);try{const B=parseFloat(c),{error:U}=await qt.from("pagos").insert([{factura_id:n,monto:B,metodo:m,referencia:x,estado:"verificado",verificado_por:o==null?void 0:o.id,notas:C}]);if(U)throw U;const{error:F}=await qt.from("facturas").update({estado:"verificado"}).eq("id",n);if(F)throw F;r(),t()}catch(B){console.error(B),alert("Error al registrar pago: "+B.message)}finally{d(!1)}};return e?S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",children:S.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md flex flex-col overflow-hidden animate-in fade-in zoom-in-95",children:[S.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200",children:[S.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[S.jsx(p3,{className:"h-5 w-5 text-green-500"})," Registrar Pago"]}),S.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:text-slate-600 rounded-full hover:bg-slate-100 transition-colors",children:S.jsx(Mf,{className:"h-5 w-5"})})]}),S.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[S.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 mb-4",children:[S.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Factura a Pagar"}),S.jsxs("div",{className:"flex justify-between items-center mt-1",children:[S.jsx("span",{className:"font-bold text-slate-900",children:a}),S.jsxs("span",{className:"font-bold text-blue-600",children:["Total: Q",i.toFixed(2)]})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Monto Recibido (Q) *"}),S.jsx("input",{type:"number",step:"0.01",required:!0,value:c,onChange:B=>h(B.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Mtodo de Pago *"}),S.jsxs("select",{value:m,onChange:B=>b(B.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm",children:[S.jsx("option",{value:"transferencia",children:"Transferencia Bancaria"}),S.jsx("option",{value:"deposito",children:"Depsito Fsico"}),S.jsx("option",{value:"efectivo",children:"Efectivo"}),S.jsx("option",{value:"tarjeta",children:"Link / Tarjeta"}),S.jsx("option",{value:"otro",children:"Otro"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nmero de Referencia / Boleta"}),S.jsx("input",{type:"text",placeholder:"Ej. AB-123456",value:x,onChange:B=>E(B.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notas u Observaciones"}),S.jsx("textarea",{rows:2,value:C,onChange:B=>T(B.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm"})]})]}),S.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 bg-slate-50 flex justify-end gap-3",children:[S.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium rounded-md text-slate-700 bg-white border border-slate-300 hover:bg-slate-50",children:"Cancelar"}),S.jsxs("button",{onClick:I,disabled:u,className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-bold rounded-md text-white bg-green-600 hover:bg-green-500 disabled:opacity-50",children:[u?S.jsx(Fs,{className:"h-4 w-4 animate-spin"}):S.jsx(Cd,{className:"h-4 w-4"}),"Confirmar Pago"]})]})]})}):null}function H9(e,t,r,n,i){n=n||{};var a=1.15,o=i.internal.scaleFactor,u=i.internal.getFontSize()/o,d=i.getLineHeightFactor?i.getLineHeightFactor():a,c=u*d,h=/\r\n|\r|\n/g,m="",b=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(m=typeof e=="string"?e.split(h):e,b=m.length||1),r+=u*(2-a),n.valign==="middle"?r-=b/2*c:n.valign==="bottom"&&(r-=b*c),n.halign==="center"||n.halign==="right"){var x=u;if(n.halign==="center"&&(x*=.5),m&&b>=1){for(var E=0;E<m.length;E++)i.text(m[E],t-i.getStringUnitWidth(m[E])*x,r),r+=c;return i}t-=i.getStringUnitWidth(e)*x}return n.halign==="justify"?i.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(e,t,r),i}var wM={},s0=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:wM=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,i,a;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),u=o.fontStyle,d=o.fontName;if(t.font&&(d=t.font),t.fontStyle){u=t.fontStyle;var c=this.getFontList()[d];c&&c.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),u=c[0])}if(this.jsPDFDocument.setFont(d,u),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var h=e.unifyColor(t.fillColor);h&&(n=this.jsPDFDocument).setFillColor.apply(n,h),h=e.unifyColor(t.textColor),h&&(i=this.jsPDFDocument).setTextColor.apply(i,h),h=e.unifyColor(t.lineColor),h&&(a=this.jsPDFDocument).setDrawColor.apply(a,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,i,a){return this.jsPDFDocument.rect(t,r,n,i,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return wM||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),t3=function(e,t){return t3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},t3(e,t)};function G9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");t3(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var W9=(function(e){G9(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t})(Array);function Cge(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Nge(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function j2(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],i=n.map(function(a){return r.getTextWidth(a)}).reduce(function(a,o){return Math.max(a,o)},0);return i}function $9(e,t,r,n){var i=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:a});var o=V9(i,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,o)}function V9(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function Gy(e,t){var r,n,i,a;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(i=e.right)!==null&&i!==void 0?i:t,bottom:(a=e.bottom)!==null&&a!==void 0?a:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function Y9(e,t){var r=Gy(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function Oge(e,t,r,n,i){var a={},o=1.3333333333333333,u=S5(t,function(U){return i.getComputedStyle(U).backgroundColor});u!=null&&(a.fillColor=u);var d=S5(t,function(U){return i.getComputedStyle(U).color});d!=null&&(a.textColor=d);var c=Ige(n,r);c&&(a.cellPadding=c);var h="borderTopColor",m=o*r,b=n.borderTopWidth;if(n.borderBottomWidth===b&&n.borderRightWidth===b&&n.borderLeftWidth===b){var x=(parseFloat(b)||0)/m;x&&(a.lineWidth=x)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/m,right:(parseFloat(n.borderRightWidth)||0)/m,bottom:(parseFloat(n.borderBottomWidth)||0)/m,left:(parseFloat(n.borderLeftWidth)||0)/m},a.lineWidth.top||(a.lineWidth.right?h="borderRightColor":a.lineWidth.bottom?h="borderBottomColor":a.lineWidth.left&&(h="borderLeftColor"));var E=S5(t,function(U){return i.getComputedStyle(U)[h]});E!=null&&(a.lineColor=E);var C=["left","right","center","justify"];C.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),C=["middle","bottom","top"],C.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var T=parseInt(n.fontSize||"");isNaN(T)||(a.fontSize=T/o);var I=Tge(n);I&&(a.fontStyle=I);var B=(n.fontFamily||"").toLowerCase();return e.indexOf(B)!==-1&&(a.font=B),a}function Tge(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function S5(e,t){var r=X9(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function X9(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:X9(e.parentElement,t):r}function Ige(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=r.map(function(u){return parseInt(u||"0")/n}),o=Gy(a,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function K9(e,t,r,n,i){var a,o;n===void 0&&(n=!1),i===void 0&&(i=!1);var u;typeof t=="string"?u=r.document.querySelector(t):u=t;var d=Object.keys(e.getFontList()),c=e.scaleFactor(),h=[],m=[],b=[];if(!u)return console.error("Html table could not be found with input: ",t),{head:h,body:m,foot:b};for(var x=0;x<u.rows.length;x++){var E=u.rows[x],C=(o=(a=E==null?void 0:E.parentElement)===null||a===void 0?void 0:a.tagName)===null||o===void 0?void 0:o.toLowerCase(),T=kge(d,c,r,E,n,i);T&&(C==="thead"?h.push(T):C==="tfoot"?b.push(T):m.push(T))}return{head:h,body:m,foot:b}}function kge(e,t,r,n,i,a){for(var o=new W9(n),u=0;u<n.cells.length;u++){var d=n.cells[u],c=r.getComputedStyle(d);if(i||c.display!=="none"){var h=void 0;a&&(h=Oge(e,d,t,c,r)),o.push({rowSpan:d.rowSpan,colSpan:d.colSpan,styles:h,_element:d,content:Mge(d)})}}var m=r.getComputedStyle(n);if(o.length>0&&(i||m.display!=="none"))return o}function Mge(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function jge(e,t,r){for(var n=0,i=[e,t,r];n<i.length;n++){var a=i[n];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function _u(e,t,r,n,i){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),o=1;o<arguments.length;o++){var u=arguments[o];if(u!=null)for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(a[d]=u[d])}return a}function Z9(e,t){var r=new s0(e),n=r.getDocumentOptions(),i=r.getGlobalOptions();jge(i,n,t);var a=_u({},i,n,t),o;typeof window<"u"&&(o=window);var u=Rge(i,n,t),d=Pge(i,n,t),c=Dge(r,a),h=Bge(r,a,o);return{id:t.tableId,content:h,hooks:d,styles:u,settings:c}}function Rge(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(d){if(d==="columnStyles"){var c=e[d],h=t[d],m=r[d];n.columnStyles=_u({},c,h,m)}else{var b=[e,t,r],x=b.map(function(E){return E[d]||{}});n[d]=_u({},x[0],x[1],x[2])}},a=0,o=Object.keys(n);a<o.length;a++){var u=o[a];i(u)}return n}function Pge(e,t,r){for(var n=[e,t,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,o=n;a<o.length;a++){var u=o[a];u.didParseCell&&i.didParseCell.push(u.didParseCell),u.willDrawCell&&i.willDrawCell.push(u.willDrawCell),u.didDrawCell&&i.didDrawCell.push(u.didDrawCell),u.willDrawPage&&i.willDrawPage.push(u.willDrawPage),u.didDrawPage&&i.didDrawPage.push(u.didDrawPage)}return i}function Dge(e,t){var r,n,i,a,o,u,d,c,h,m,b,x,E=Gy(t.margin,40/e.scaleFactor()),C=(r=Lge(e,t.startY))!==null&&r!==void 0?r:E.top,T;t.showFoot===!0?T="everyPage":t.showFoot===!1?T="never":T=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var I;t.showHead===!0?I="everyPage":t.showHead===!1?I="never":I=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var B=(a=t.useCss)!==null&&a!==void 0?a:!1,U=t.theme||(B?"plain":"striped"),F=!!t.horizontalPageBreak,K=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(u=t.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:B,theme:U,startY:C,margin:E,pageBreak:(d=t.pageBreak)!==null&&d!==void 0?d:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:I,showFoot:T,tableLineWidth:(m=t.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(b=t.tableLineColor)!==null&&b!==void 0?b:200,horizontalPageBreak:F,horizontalPageBreakRepeat:K,horizontalPageBreakBehaviour:(x=t.horizontalPageBreakBehaviour)!==null&&x!==void 0?x:"afterAllRows"}}function Lge(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),i=e.pageNumber(),a=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;a=o===i}return typeof t=="number"?t:(t==null||t===!1)&&a&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function Bge(e,t,r){var n=t.head||[],i=t.body||[],a=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var u=K9(e,t.html,r,o,t.useCss)||{};n=u.head||n,i=u.body||n,a=u.foot||n}else console.error("Cannot parse html in non browser environment")}var d=t.columns||Fge(n,i,a);return{columns:d,head:n,body:i,foot:a}}function Fge(e,t,r){var n=e[0]||t[0]||r[0]||[],i=[];return Object.keys(n).filter(function(a){return a!=="_element"}).forEach(function(a){var o=1,u;Array.isArray(n)?u=n[parseInt(a)]:u=n[a],typeof u=="object"&&!Array.isArray(u)&&(o=(u==null?void 0:u.colSpan)||1);for(var d=0;d<o;d++){var c=void 0;Array.isArray(n)?c=i.length:c=a+(d>0?"_".concat(d):"");var h={dataKey:c};i.push(h)}}),i}var r3=(function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e})(),Uge=(function(e){G9(t,e);function t(r,n,i,a,o,u){var d=e.call(this,r,n,u)||this;return d.cell=i,d.row=a,d.column=o,d.section=a.section,d}return t})(r3),zge=(function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,i,a,o){for(var u=0,d=r;u<d.length;u++){var c=d[u],h=new Uge(t,this,n,i,a,o),m=c(h)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],m)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var a=i[n];a(new r3(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var a=i[n];a(new r3(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e})(),Q9=(function(){function e(t,r,n,i,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof W9&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,i){var a;return Math.max(n,((a=r.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(i,a){var o=n.cells[a.index];if(!o)return 0;var u=r.getLineHeight(o.styles.fontSize),d=o.padding("vertical"),c=d+u;return c>i?c:i},0)},e})(),J9=(function(){function e(t,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=a!=null?""+a:"",u=/\r\n|\r|\n/g;this.text=o.split(u)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*r,a=n*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=Gy(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e})(),qge=(function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,i=t.allRows();n<i.length;n++){var a=i[n],o=a.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e})();function Hge(e,t){Gge(e,t);var r=[],n=0;t.columns.forEach(function(a){var o=a.getMaxCustomCellWidth(t);o?a.width=o:(a.width=a.wrappedWidth,r.push(a)),n+=a.width});var i=t.getWidth(e.pageSize().width)-n;i&&(i=n3(r,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=n3(r,i,function(a){return a.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/e.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),$ge(t),Vge(t,e),Wge(t)}function Gge(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,i=Y9(e,t);t.allRows().forEach(function(a){for(var o=0,u=t.columns;o<u.length;o++){var d=u[o],c=a.cells[d.index];if(c){var h=t.hooks.didParseCell;t.callCellHooks(e,h,c,a,d,null);var m=c.padding("horizontal");c.contentWidth=j2(c.text,c.styles,e)+m;var b=j2(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=b+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>i?(c.minWidth=i,c.wrappedWidth=i):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var x=10/r;c.minWidth=c.styles.minCellWidth||x,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(a){for(var o=0,u=t.columns;o<u.length;o++){var d=u[o],c=a.cells[d.index];if(c&&c.colSpan===1)d.wrappedWidth=Math.max(d.wrappedWidth,c.wrappedWidth),d.minWidth=Math.max(d.minWidth,c.minWidth),d.minReadableWidth=Math.max(d.minReadableWidth,c.minReadableWidth);else{var h=t.styles.columnStyles[d.dataKey]||t.styles.columnStyles[d.index]||{},m=h.cellWidth||h.minCellWidth;m&&typeof m=="number"&&(d.minWidth=m,d.wrappedWidth=m)}c&&(c.colSpan>1&&!d.minWidth&&(d.minWidth=c.minWidth),c.colSpan>1&&!d.wrappedWidth&&(d.wrappedWidth=c.minWidth))}})}function n3(e,t,r){for(var n=t,i=e.reduce(function(x,E){return x+E.wrappedWidth},0),a=0;a<e.length;a++){var o=e[a],u=o.wrappedWidth/i,d=n*u,c=o.width+d,h=r(o),m=c<h?h:c;t-=m-o.width,o.width=m}if(t=Math.round(t*1e10)/1e10,t){var b=e.filter(function(x){return t<0?x.width>r(x):!0});b.length&&(t=n3(b,t,r))}return t}function Wge(e){for(var t={},r=1,n=e.allRows(),i=0;i<n.length;i++)for(var a=n[i],o=0,u=e.columns;o<u.length;o++){var d=u[o],c=t[d.index];if(r>1)r--,delete a.cells[d.index];else if(c)c.cell.height+=a.height,r=c.cell.colSpan,delete a.cells[d.index],c.left--,c.left<=1&&delete t[d.index];else{var h=a.cells[d.index];if(!h)continue;if(h.height=a.height,h.rowSpan>1){var m=n.length-i,b=h.rowSpan>m?m:h.rowSpan;t[d.index]={cell:h,left:b,row:a}}}}}function $ge(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],i=null,a=0,o=0,u=0;u<e.columns.length;u++){var d=e.columns[u];if(o-=1,o>1&&e.columns[u+1])a+=d.width,delete n.cells[d.index];else if(i){var c=i;delete n.cells[d.index],i=null,c.width=d.width+a}else{var c=n.cells[d.index];if(!c)continue;if(o=c.colSpan,a=0,c.colSpan>1){i=c,a+=d.width;continue}c.width=d.width+a}}}function Vge(e,t){for(var r={count:0,height:0},n=0,i=e.allRows();n<i.length;n++){for(var a=i[n],o=0,u=e.columns;o<u.length;o++){var d=u[o],c=a.cells[d.index];if(c){t.applyStyles(c.styles,!0);var h=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,h+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=_M(c.text,h,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=_M(c.text,h,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var m=c.styles.overflow(c.text,h);typeof m=="string"?c.text=[m]:c.text=m}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var b=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<b*c.rowSpan?r={height:b,count:c.rowSpan}:r&&r.count>0&&r.height>b&&(b=r.height),b>a.height&&(a.height=b)}}r.count--}}function _M(e,t,r,n,i){return e.map(function(a){return Yge(a,t,r,n,i)})}function Yge(e,t,r,n,i){var a=1e4*n.scaleFactor();if(t=Math.ceil(t*a)/a,t>=j2(e,r,n))return e;for(;t<j2(e+i,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+i}function eB(e,t){var r=new s0(e),n=Xge(t,r.scaleFactor()),i=new zge(t,n);return Hge(r,i),r.applyStyles(r.userStyles),i}function Xge(e,t){var r=e.content,n=Zge(r.columns);if(r.head.length===0){var i=AM(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=AM(n,"foot");i&&r.foot.push(i)}var a=e.settings.theme,o=e.styles;return{columns:n,head:E5("head",r.head,n,o,a,t),body:E5("body",r.body,n,o,a,t),foot:E5("foot",r.foot,n,o,a,t)}}function E5(e,t,r,n,i,a){var o={},u=t.map(function(d,c){for(var h=0,m={},b=0,x=0,E=0,C=r;E<C.length;E++){var T=C[E];if(o[T.index]==null||o[T.index].left===0)if(x===0){var I=void 0;Array.isArray(d)?I=d[T.index-b-h]:I=d[T.dataKey];var B={};typeof I=="object"&&!Array.isArray(I)&&(B=(I==null?void 0:I.styles)||{});var U=Qge(e,T,c,i,n,a,B),F=new J9(I,U,e);m[T.dataKey]=F,m[T.index]=F,x=F.colSpan-1,o[T.index]={left:F.rowSpan-1,times:x}}else x--,b++;else o[T.index].left--,x=o[T.index].times,h++}return new Q9(d,c,e,m)});return u}function AM(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var i=Kge(t,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function Kge(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function Zge(e){return e.map(function(t,r){var n,i;return typeof t=="object"?i=(n=t.dataKey)!==null&&n!==void 0?n:r:i=r,new qge(i,t,r)})}function Qge(e,t,r,n,i,a,o){var u=Nge(n),d;e==="head"?d=i.headStyles:e==="body"?d=i.bodyStyles:e==="foot"&&(d=i.footStyles);var c=_u({},u.table,u[e],i.styles,d),h=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},m=e==="body"?h:{},b=e==="body"&&r%2===0?_u({},u.alternateRow,i.alternateRowStyles):{},x=Cge(a),E=_u({},x,c,b,m);return _u(E,o)}function Jge(e,t,r){var n;r===void 0&&(r={});var i=Y9(e,t),a=new Map,o=[],u=[],d=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?d=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(d=[t.settings.horizontalPageBreakRepeat]),d.forEach(function(b){var x=t.columns.find(function(E){return E.dataKey===b||E.index===b});x&&!a.has(x.index)&&(a.set(x.index,!0),o.push(x.index),u.push(t.columns[x.index]),i-=x.wrappedWidth)});for(var c=!0,h=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;h<t.columns.length;){if(a.has(h)){h++;continue}var m=t.columns[h].wrappedWidth;if(c||i>=m)c=!1,o.push(h),u.push(t.columns[h]),i-=m;else break;h++}return{colIndexes:o,columns:u,lastIndex:h-1}}function eme(e,t){for(var r=[],n=0;n<t.columns.length;n++){var i=Jge(e,t,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function tB(e,t){var r=t.settings,n=r.startY,i=r.margin,a={x:i.left,y:n},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),u=n+i.bottom+o;if(r.pageBreak==="avoid"){var d=t.body,c=d.reduce(function(b,x){return b+x.height},0);u+=c}var h=new s0(e);(r.pageBreak==="always"||r.startY!=null&&u>h.pageSize().height)&&(nB(h),a.y=i.top),t.callWillDrawPageHooks(h,a);var m=_u({},a);t.startPageNumber=h.pageNumber(),r.horizontalPageBreak?tme(h,t,m,a):(h.applyStyles(h.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(b){return Ru(h,t,b,a,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(b,x){var E=x===t.body.length-1;R2(h,t,b,E,m,a,t.columns)}),h.applyStyles(h.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(b){return Ru(h,t,b,a,t.columns)})),$9(h,t,m,a),t.callEndPageHooks(h,a),t.finalY=a.y,e.lastAutoTable=t,h.applyStyles(h.userStyles)}function tme(e,t,r,n){var i=eme(e,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(c,h){e.applyStyles(e.userStyles),h>0?W1(e,t,r,n,c.columns,!0):SM(e,t,n,c.columns),rme(e,t,r,n,c.columns),C5(e,t,n,c.columns)});else for(var o=-1,u=i[0],d=function(){var c=o;if(u){e.applyStyles(e.userStyles);var h=u.columns;o>=0?W1(e,t,r,n,h,!0):SM(e,t,n,h),c=EM(e,t,o+1,n,h),C5(e,t,n,h)}var m=c-o;i.slice(1).forEach(function(b){e.applyStyles(e.userStyles),W1(e,t,r,n,b.columns,!0),EM(e,t,o+1,n,b.columns,m),C5(e,t,n,b.columns)}),o=c};o<t.body.length-1;)d()}function SM(e,t,r,n){var i=t.settings;e.applyStyles(e.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(a){return Ru(e,t,a,r,n)})}function rme(e,t,r,n,i){e.applyStyles(e.userStyles),t.body.forEach(function(a,o){var u=o===t.body.length-1;R2(e,t,a,u,r,n,i)})}function EM(e,t,r,n,i,a){e.applyStyles(e.userStyles),a=a??t.body.length;var o=Math.min(r+a,t.body.length),u=-1;return t.body.slice(r,o).forEach(function(d,c){var h=r+c===t.body.length-1,m=rB(e,t,h,n);d.canEntireRowFit(m,i)&&(Ru(e,t,d,n,i),u=r+c)}),u}function C5(e,t,r,n){var i=t.settings;e.applyStyles(e.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(a){return Ru(e,t,a,r,n)})}function nme(e,t,r){var n=r.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),a=Math.floor((t-i)/n);return Math.max(0,a)}function ime(e,t,r,n){var i={};e.spansMultiplePages=!0,e.height=0;for(var a=0,o=0,u=r.columns;o<u.length;o++){var d=u[o],c=e.cells[d.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var h=new J9(c.raw,c.styles,c.section);h=_u(h,c),h.text=[];var m=nme(c,t,n);c.text.length>m&&(h.text=c.text.splice(m,c.text.length));var b=n.scaleFactor(),x=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(b,x),c.contentHeight>=t&&(c.contentHeight=t,h.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),h.contentHeight=h.getContentHeight(b,x),h.contentHeight>a&&(a=h.contentHeight),i[d.index]=h}}var E=new Q9(e.raw,-1,e.section,i,!0);E.height=a;for(var C=0,T=r.columns;C<T.length;C++){var d=T[C],h=E.cells[d.index];h&&(h.height=E.height);var c=e.cells[d.index];c&&(c.height=e.height)}return E}function ame(e,t,r,n){var i=e.pageSize().height,a=n.settings.margin,o=a.top+a.bottom,u=i-o;t.section==="body"&&(u-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var d=t.getMinimumRowHeight(n.columns,e),c=d<r;if(d>u)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var h=t.hasRowSpan(n.columns),m=t.getMaxCellHeight(n.columns)>u;return m?(h&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||n.settings.rowPageBreak==="avoid")}function R2(e,t,r,n,i,a,o){var u=rB(e,t,n,a);if(r.canEntireRowFit(u,o))Ru(e,t,r,a,o);else if(ame(e,r,u,t)){var d=ime(r,u,t,e);Ru(e,t,r,a,o),W1(e,t,i,a,o),R2(e,t,d,n,i,a,o)}else W1(e,t,i,a,o),R2(e,t,r,n,i,a,o)}function Ru(e,t,r,n,i){n.x=t.settings.margin.left;for(var a=0,o=i;a<o.length;a++){var u=o[a],d=r.cells[u.index];if(!d){n.x+=u.width;continue}e.applyStyles(d.styles),d.x=n.x,d.y=n.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,d,r,u,n);if(c===!1){n.x+=u.width;continue}sme(e,d,n);var h=d.getTextPos();H9(d.text,h.x,h.y,{halign:d.styles.halign,valign:d.styles.valign,maxWidth:Math.ceil(d.width-d.padding("left")-d.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,d,r,u,n),n.x+=u.width}n.y+=r.height}function sme(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=V9(n.lineWidth,n.fillColor);i&&e.rect(t.x,r.y,t.width,t.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),ome(e,t,r,n.lineWidth))}function ome(e,t,r,n){var i,a,o,u;n.top&&(i=r.x,a=r.y,o=r.x+t.width,u=r.y,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),d(n.top,i,a,o,u)),n.bottom&&(i=r.x,a=r.y+t.height,o=r.x+t.width,u=r.y+t.height,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),d(n.bottom,i,a,o,u)),n.left&&(i=r.x,a=r.y,o=r.x,u=r.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(u+=.5*n.bottom),d(n.left,i,a,o,u)),n.right&&(i=r.x+t.width,a=r.y,o=r.x+t.width,u=r.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(u+=.5*n.bottom),d(n.right,i,a,o,u));function d(c,h,m,b,x){e.getDocument().setLineWidth(c),e.getDocument().line(h,m,b,x,"S")}}function rB(e,t,r,n){var i=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&r)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-i}function W1(e,t,r,n,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(u){return Ru(e,t,u,n,i)}),t.callEndPageHooks(e,n);var o=t.settings.margin;$9(e,t,r,n),nB(e),t.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(u){return Ru(e,t,u,n,i)}),e.applyStyles(e.userStyles))}function nB(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function lme(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],i=Z9(this,n),a=eB(this,i);return tB(this,a),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,i){H9(t,r,n,i,this)},e.API.autoTableSetDefaults=function(t){return s0.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){s0.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new s0(this),a=K9(i,t,window,r,!1),o=a.head,u=a.body,d=((n=o[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:d,rows:u,data:u}}}var N5;function cme(e,t){var r=Z9(e,t),n=eB(e,r);tB(e,n)}try{if(typeof window<"u"&&window){var CM=window,NM=CM.jsPDF||((N5=CM.jspdf)===null||N5===void 0?void 0:N5.jsPDF);NM&&lme(NM)}}catch(e){console.error("Could not apply autoTable plugin",e)}const ume=async e=>{var t,r,n,i,a;try{const{data:o,error:u}=await qt.from("conceptos_factura").select("*").eq("factura_id",e.id).order("created_at",{ascending:!0});if(u)throw u;const d=new or;d.setFontSize(22),d.setFont("helvetica","bold"),d.setTextColor(37,99,235),d.text("YOUBOX GT",14,22),d.setFontSize(10),d.setFont("helvetica","normal"),d.setTextColor(100,116,139),d.text("Logstica y Casilleros Internacionales",14,28),d.text("PBX: +502 0000-0000",14,33),d.text("hola@youbox.gt",14,38),d.setFontSize(16),d.setFont("helvetica","bold"),d.setTextColor(15,23,42),d.text("FACTURA",150,22),d.setFontSize(10),d.setFont("helvetica","normal"),d.text(`No. de Recibo: ${e.numero}`,150,28),d.text(`Fecha: ${Eu(new Date(e.fecha_emision),"dd MMM yyyy",{locale:Vp})}`,150,33);const c=e.estado==="verificado"?"PAGADA":e.estado.toUpperCase();d.setFont("helvetica","bold"),d.setTextColor(e.estado==="verificado"?22:217,e.estado==="verificado"?163:119,e.estado==="verificado"?74:6),d.text(`Estado: ${c}`,150,38),d.setDrawColor(226,232,240),d.setLineWidth(.5),d.line(14,45,196,45),d.setFontSize(11),d.setFont("helvetica","bold"),d.setTextColor(15,23,42),d.text("Facturar a:",14,55),d.setFontSize(10),d.setFont("helvetica","normal"),d.setTextColor(71,85,105),d.text(`Cliente: ${((t=e==null?void 0:e.clientes)==null?void 0:t.nombre)||""} ${((r=e==null?void 0:e.clientes)==null?void 0:r.apellido)||""}`,14,62),d.text(`Casillero: ${((n=e==null?void 0:e.clientes)==null?void 0:n.locker_id)||"N/A"}`,14,67),d.text(`NIT: ${((i=e==null?void 0:e.clientes)==null?void 0:i.nit)||"C/F"}`,14,72),(a=e.clientes)!=null&&a.direccion_entrega&&d.text(`Direccin: ${e.clientes.direccion_entrega}`,14,77);const h=(o||[]).map((b,x)=>[x+1,b.descripcion,b.cantidad,`${e.moneda} ${b.precio_unitario.toFixed(2)}`,`${e.moneda} ${b.subtotal.toFixed(2)}`]);cme(d,{startY:85,head:[["#","Descripcin / Cargo","Cant.","Precio Unitario","Subtotal"]],body:h,theme:"striped",headStyles:{fillColor:[37,99,235],textColor:255,fontStyle:"bold"},styles:{fontSize:9,cellPadding:4},columnStyles:{0:{cellWidth:10,halign:"center"},1:{cellWidth:80},2:{cellWidth:20,halign:"center"},3:{cellWidth:35,halign:"right"},4:{cellWidth:35,halign:"right"}}});const m=d.lastAutoTable.finalY+10;d.setFontSize(12),d.setFont("helvetica","bold"),d.setTextColor(15,23,42),d.text("Total a Pagar:",130,m),d.setFontSize(14),d.text(`${e.moneda} ${e.monto_total.toFixed(2)}`,160,m),d.setFontSize(9),d.setFont("helvetica","normal"),d.setTextColor(148,163,184),d.text("Gracias por su preferencia.",105,280,{align:"center"}),d.text("Este documento es un comprobante de servicio de envo internacional.",105,285,{align:"center"}),d.save(`${e.numero}.pdf`)}catch(o){console.error("Error generating PDF:",o),alert("Ocurri un error al tratar de generar el PDF de la factura.")}},OM={pendiente:{label:"Pendiente",color:"bg-amber-100 text-amber-700 ring-amber-600/20"},verificado:{label:"Pagada",color:"bg-green-100 text-green-700 ring-green-600/20"},anulado:{label:"Anulada",color:"bg-red-100 text-red-700 ring-red-600/20"},devuelto:{label:"Devuelta",color:"bg-slate-100 text-slate-700 ring-slate-600/20"}};function fme(){const{user:e,isAdmin:t}=Fa(),[r,n]=D.useState([]),[i,a]=D.useState(!0),[o,u]=D.useState(!1),[d,c]=D.useState(!1),[h,m]=D.useState(null);D.useEffect(()=>{b()},[e]);async function b(){if(e)try{a(!0);let I=qt.from("facturas").select(`
          id, numero, monto_total, moneda, estado, fecha_emision,
          clientes (nombre, apellido, locker_id, nit, direccion_entrega)
        `).order("fecha_emision",{ascending:!1});t||(I=I.eq("cliente_id",e.id));const{data:B,error:U}=await I;if(U)throw U;n(B||[])}catch(I){console.error("Error fetching facturas:",I)}finally{a(!1)}}const x=I=>{m(I),c(!0)},E=r.filter(I=>I.estado==="pendiente").length,C=r.filter(I=>I.estado==="verificado").length,T=r.filter(I=>["anulado","devuelto"].includes(I.estado)).length;return S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:t?"Facturacin y Pagos":"Mis Facturas"}),S.jsx("p",{className:"text-sm text-slate-500",children:t?"Gestin del ciclo de pagos y facturacin.":"Historial de tus facturas y cobros de envos."})]}),t&&S.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-500",children:[S.jsx(q2,{className:"h-4 w-4"}),"Generar Factura"]})]}),S.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3 mb-6",children:[S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[S.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Facturas Pendientes"}),S.jsx("p",{className:"text-2xl font-semibold text-slate-800 mt-1",children:i?"...":E})]}),S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[S.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Pagos Completados"}),S.jsx("p",{className:"text-2xl font-semibold text-slate-800 mt-1",children:i?"...":C})]}),S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[S.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Anuladas / Devueltas"}),S.jsx("p",{className:"text-2xl font-semibold text-slate-800 mt-1",children:i?"...":T})]})]}),S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden",children:[S.jsx("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between bg-slate-50",children:S.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"ltimas Facturas"})}),S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[S.jsx("thead",{className:"bg-white",children:S.jsxs("tr",{children:[S.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-slate-900 sm:pl-6",children:"Factura"}),t&&S.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900",children:"Cliente"}),S.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900",children:"Fecha"}),S.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900",children:"Monto"}),S.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900",children:"Estado"}),S.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:S.jsx("span",{className:"sr-only",children:"Acciones"})})]})}),S.jsx("tbody",{className:"divide-y divide-slate-200 bg-white",children:i?S.jsx("tr",{children:S.jsx("td",{colSpan:t?6:5,className:"py-16 text-center text-slate-500 text-sm",children:"Cargando facturas..."})}):r.length===0?S.jsx("tr",{children:S.jsx("td",{colSpan:t?6:5,className:"py-16 text-center",children:S.jsxs("div",{className:"flex flex-col items-center gap-2 text-slate-400",children:[S.jsx(H2,{className:"h-10 w-10 text-slate-300"}),S.jsx("p",{className:"text-sm font-medium text-slate-500",children:"No hay facturas registradas"}),S.jsx("p",{className:"text-xs",children:"Las facturas aparecern aqu cuando sean generadas por sistema."})]})})}):r.map(I=>{var B,U,F,K;return S.jsxs("tr",{className:"hover:bg-slate-50",children:[S.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 sm:pl-6 font-medium text-slate-900",children:I.numero}),t&&S.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600",children:[(B=I.clientes)==null?void 0:B.nombre," ",(U=I.clientes)==null?void 0:U.apellido]}),S.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600",children:I.fecha_emision?Eu(new Date(I.fecha_emision),"dd MMM yyyy",{locale:Vp}):"N/A"}),S.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-900 font-medium",children:[I.moneda," ",I.monto_total]}),S.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm",children:S.jsx("span",{className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset ${((F=OM[I.estado])==null?void 0:F.color)||"bg-slate-50 text-slate-600"}`,children:((K=OM[I.estado])==null?void 0:K.label)||I.estado})}),S.jsxs("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:[t&&I.estado==="pendiente"&&S.jsxs("button",{onClick:()=>x(I),className:"text-green-600 hover:text-green-900 mr-4 inline-flex items-center gap-1",children:[S.jsx(g3,{className:"h-4 w-4"})," Registrar Pago"]}),S.jsxs("button",{onClick:()=>ume(I),className:"text-slate-600 hover:text-blue-600 inline-flex items-center gap-1 transition-colors",children:[S.jsx(g7,{className:"h-4 w-4"})," PDF"]})]})]},I.id)})})]})})]}),S.jsx(Sge,{isOpen:o,onClose:()=>u(!1),onSuccess:b}),h&&S.jsx(Ege,{isOpen:d,onClose:()=>{c(!1),m(null)},onSuccess:b,facturaId:h.id,facturaTotal:h.monto_total,facturaNumero:h.numero})]})}function dme(){return S.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Configuracin del Sistema"}),S.jsx("p",{className:"text-sm text-slate-500",children:"Administra la arquitectura de datos y preferencias de YOUBOX GT."})]}),S.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm hover:border-blue-500 transition-colors cursor-pointer group",children:[S.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-50 flex items-center justify-center mb-4 group-hover:bg-blue-50 transition-colors",children:S.jsx(v3,{className:"h-5 w-5 text-blue-600 group-hover:text-blue-600 transition-colors"})}),S.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Jerarqua de Usuarios"}),S.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Gestiona roles: Admin, Clientes (Locker), Agentes y Transportistas."})]}),S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm hover:border-blue-500 transition-colors cursor-pointer group",children:[S.jsx("div",{className:"h-10 w-10 rounded-lg bg-indigo-50 flex items-center justify-center mb-4 group-hover:bg-blue-50 transition-colors",children:S.jsx(b7,{className:"h-5 w-5 text-indigo-600 group-hover:text-blue-600 transition-colors"})}),S.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Estructura Geogrfica"}),S.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Tablas maestras de Pases, Regiones, Ciudades y Puertos para rutas."})]}),S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm hover:border-blue-500 transition-colors cursor-pointer group",children:[S.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-50 flex items-center justify-center mb-4",children:S.jsx(o0,{className:"h-5 w-5 text-blue-600"})}),S.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Motor de Tarifas"}),S.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Configuracin de costos por Guas, Warehouse y servicios adicionales."})]}),S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm hover:border-blue-500 transition-colors cursor-pointer group",children:[S.jsx("div",{className:"h-10 w-10 rounded-lg bg-amber-50 flex items-center justify-center mb-4 group-hover:bg-blue-50 transition-colors",children:S.jsx(d7,{className:"h-5 w-5 text-amber-600 group-hover:text-blue-600 transition-colors"})}),S.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Notificaciones WhatsApp"}),S.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Configura plantillas y alertas automatizadas para clientes."})]}),S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm hover:border-blue-500 transition-colors cursor-pointer group",children:[S.jsx("div",{className:"h-10 w-10 rounded-lg bg-purple-50 flex items-center justify-center mb-4 group-hover:bg-blue-50 transition-colors",children:S.jsx(YG,{className:"h-5 w-5 text-purple-600 group-hover:text-blue-600 transition-colors"})}),S.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Personalizacin y Marca"}),S.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Etiquetas trmicas, formatos Excel y despliegues visuales."})]})]})]})}function hme(){const{user:e}=Fa(),[t,r]=D.useState([]),[n,i]=D.useState([]),[a,o]=D.useState(!0),[u,d]=D.useState(null),[c,h]=D.useState(null),[m,b]=D.useState(""),[x,E]=D.useState(!1),[C,T]=D.useState(!1),[I,B]=D.useState({bodega_id:"",nombre_servicio:"",tipo_cobro:"por_libra",tarifa_q:""});D.useEffect(()=>{U()},[]);async function U(){o(!0);try{const{data:q,error:se}=await qt.from("bodegas").select("id, nombre");if(se)throw se;i(q||[]);const{data:G,error:H}=await qt.from("tarifas").select(`
          *,
          bodegas ( id, nombre )
        `).order("nombre_servicio");if(H)throw H;r(G||[])}catch(q){console.error("Error fetching tariffs:",q)}finally{o(!1)}}const F=q=>{h(q.id),b(q.tarifa_q.toString())},K=async q=>{if(!m||isNaN(Number(m))){alert("Por favor ingrese un nmero vlido.");return}d(q.id);try{const se=parseFloat(m),{error:G}=await qt.from("tarifas").update({tarifa_q:se}).eq("id",q.id);if(G)throw G;r(t.map(H=>H.id===q.id?{...H,tarifa_q:se}:H)),h(null)}catch(se){console.error(se),alert("Error guardando la tarifa: "+se.message)}finally{d(null)}},Z=async q=>{if(q.preventDefault(),!I.bodega_id||!I.nombre_servicio||!I.tarifa_q){alert("Completar todos los campos obligatorios.");return}T(!0);try{const se={bodega_id:I.bodega_id,nombre_servicio:I.nombre_servicio,tipo_cobro:I.tipo_cobro,tarifa_q:parseFloat(I.tarifa_q),activa:!0},{data:G,error:H}=await qt.from("tarifas").insert([se]).select("*, bodegas (id, nombre)").single();if(H)throw H;G&&r([...t,G]),E(!1),B({bodega_id:n.length>0?n[0].id:"",nombre_servicio:"",tipo_cobro:"por_libra",tarifa_q:""})}catch(se){console.error(se),alert("Error creando tarifa: "+se.message)}finally{T(!1)}},V=q=>new Intl.NumberFormat("es-GT",{style:"currency",currency:"GTQ"}).format(q),Q=n.map(q=>({bodega:q,items:t.filter(se=>se.bodega_id===q.id)})).filter(q=>q.items.length>0||n.length>0);return S.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto pb-10",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Motor de Tarifas"}),S.jsx("p",{className:"text-sm text-slate-500",children:"Configura los precios de fletes por libra o por paquete segn cada Origen."})]}),S.jsxs("button",{onClick:()=>{E(!x),!I.bodega_id&&n.length>0&&B(q=>({...q,bodega_id:n[0].id}))},className:"inline-flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-blue-600 transition-colors",children:[x?S.jsx(Mf,{className:"h-4 w-4"}):S.jsx(w0,{className:"h-4 w-4"}),x?"Cancelar":"Agregar Tarifa"]})]}),x&&S.jsxs("div",{className:"bg-white border rounded-xl shadow-sm border-slate-200 p-5 animate-in fade-in slide-in-from-top-4",children:[S.jsxs("h3",{className:"font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[S.jsx(o0,{className:"h-4 w-4 text-blue-500"})," Nueva Configuracin de Tarifa"]}),S.jsxs("form",{onSubmit:Z,className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[S.jsxs("div",{className:"md:col-span-1",children:[S.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Bodega (Origen)"}),S.jsx("select",{required:!0,value:I.bodega_id,onChange:q=>B({...I,bodega_id:q.target.value}),className:"block w-full rounded-md border-0 py-1.5 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-blue-600 sm:text-sm",children:n.map(q=>S.jsx("option",{value:q.id,children:q.nombre},q.id))})]}),S.jsxs("div",{className:"md:col-span-1",children:[S.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Servicio (Ej. Shein)"}),S.jsx("input",{required:!0,type:"text",placeholder:"Nombre servicio",value:I.nombre_servicio,onChange:q=>B({...I,nombre_servicio:q.target.value}),className:"block w-full rounded-md border-0 py-1.5 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-blue-600 sm:text-sm"})]}),S.jsxs("div",{className:"md:col-span-1",children:[S.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Tipo de Cobro"}),S.jsxs("select",{required:!0,value:I.tipo_cobro,onChange:q=>B({...I,tipo_cobro:q.target.value}),className:"block w-full rounded-md border-0 py-1.5 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-blue-600 sm:text-sm",children:[S.jsx("option",{value:"por_libra",children:"Por Libra"}),S.jsx("option",{value:"por_paquete",children:"Por Paquete/Pieza"})]})]}),S.jsxs("div",{className:"md:col-span-1",children:[S.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Costo (Q)"}),S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:S.jsx("span",{className:"text-slate-400 font-semibold text-xs",children:"Q"})}),S.jsx("input",{required:!0,type:"number",step:"0.01",min:"0",value:I.tarifa_q,onChange:q=>B({...I,tarifa_q:q.target.value}),className:"block w-full rounded-md border-0 py-1.5 pl-8 pr-3 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-blue-600 sm:text-sm",placeholder:"0.00"})]})]}),S.jsx("div",{className:"md:col-span-1",children:S.jsxs("button",{type:"submit",disabled:C,className:"w-full inline-flex justify-center items-center gap-2 rounded-md bg-slate-900 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 disabled:opacity-70",children:[C?S.jsx(Fs,{className:"h-4 w-4 animate-spin"}):S.jsx(Cd,{className:"h-4 w-4"}),"Guardar"]})})]})]}),a?S.jsx("div",{className:"flex justify-center h-40 items-center",children:S.jsx(Fs,{className:"h-8 w-8 text-blue-500 animate-spin"})}):S.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 lg:gap-8 gap-6",children:Q.map(q=>S.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[S.jsxs("div",{className:"bg-slate-50 px-5 py-4 border-b border-slate-200 flex items-center gap-3",children:[S.jsx("div",{className:"p-2 bg-blue-100/50 rounded-lg text-blue-600",children:S.jsx(Dc,{className:"h-5 w-5"})}),S.jsxs("h2",{className:"text-lg font-bold text-slate-800 tracking-tight",children:["Bodega ",q.bodega.nombre]})]}),S.jsx("ul",{className:"divide-y divide-slate-100",children:q.items.length===0?S.jsx("li",{className:"p-5 flex justify-center text-slate-400 text-sm",children:"No hay tarifas configuradas aqu."}):q.items.map(se=>S.jsxs("li",{className:"p-5 flex items-center justify-between hover:bg-slate-50/50 transition-colors",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[se.tipo_cobro==="por_libra"?S.jsx(o0,{className:"h-4 w-4 text-slate-400"}):S.jsx(kf,{className:"h-4 w-4 text-slate-400"}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm font-semibold text-slate-900",children:se.nombre_servicio}),S.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["Cobro ",se.tipo_cobro.replace("_"," ")]})]})]}),S.jsx("div",{className:"flex items-center gap-4",children:c===se.id?S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsxs("div",{className:"relative w-24",children:[S.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-2 text-slate-500 font-semibold text-xs",children:"Q"}),S.jsx("input",{type:"number",autoFocus:!0,step:"any",value:m,onChange:G=>b(G.target.value),className:"block w-full rounded-md border-0 py-1 pl-6 pr-2 text-slate-900 shadow-sm ring-1 ring-inset ring-blue-500 sm:text-sm font-bold"})]}),S.jsx("button",{onClick:()=>K(se),disabled:u===se.id,className:"p-1 rounded bg-blue-50 text-blue-600 hover:bg-blue-100 disabled:opacity-50",title:"Guardar",children:u===se.id?S.jsx(Fs,{className:"h-4 w-4 animate-spin"}):S.jsx(Cd,{className:"h-4 w-4"})}),S.jsx("button",{onClick:()=>h(null),className:"p-1 rounded bg-slate-50 text-slate-500 hover:bg-slate-200",title:"Cancelar",children:S.jsx(Mf,{className:"h-4 w-4"})})]}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"text-right",children:S.jsx("span",{className:"text-base font-bold text-slate-800",children:V(se.tarifa_q)})}),S.jsx("button",{onClick:()=>F(se),className:"p-1.5 rounded-md text-slate-400 hover:text-blue-600 hover:bg-blue-50 transition-colors",title:"Editar Tarifa",children:S.jsx(QG,{className:"h-4 w-4"})})]})})]},se.id))})]},q.bodega.id))})]})}function pme(){const[e,t]=D.useState([]),[r,n]=D.useState([]),[i,a]=D.useState([]),[o,u]=D.useState(!0),[d,c]=D.useState(!1),[h,m]=D.useState(!1),[b,x]=D.useState({nombre:"",apellido:"",email:"",telefono:"",rol_id:"",sucursal_id:"",password:""});D.useEffect(()=>{T(),C(),E()},[]);async function E(){try{const{data:F,error:K}=await qt.from("sucursales").select("id, nombre").eq("activa",!0).order("nombre");if(K)throw K;a(F||[]),F&&F.length>0&&x(Z=>({...Z,sucursal_id:F[0].id}))}catch(F){console.error("Error fetching sucursales:",F)}}async function C(){try{const{data:F,error:K}=await qt.from("roles").select("id, nombre");if(K)throw K;n(F||[]),F&&F.length>0&&!b.rol_id&&x(Z=>({...Z,rol_id:F[0].id}))}catch(F){console.error("Error fetching roles:",F)}}async function T(){try{u(!0);const{data:F,error:K}=await qt.from("usuarios").select("*, roles ( nombre ), sucursales ( nombre )").order("created_at",{ascending:!1});if(K)throw K;t(F||[])}catch(F){console.error("Error fetching users:",F)}finally{u(!1)}}async function I(F){var K,Z;F.preventDefault();try{m(!0);const{data:V,error:Q}=await qt.from("usuarios").insert([{nombre:b.nombre,apellido:b.apellido,email:b.email.toLowerCase(),telefono:b.telefono,rol_id:b.rol_id,sucursal_id:b.sucursal_id,password_hash:b.password,activo:!0}]);if(Q)throw Q;c(!1),x({nombre:"",apellido:"",email:"",telefono:"",rol_id:((K=r[0])==null?void 0:K.id)||"",sucursal_id:((Z=i[0])==null?void 0:Z.id)||"",password:""}),T()}catch(V){console.error("Error creating user:",V),alert(V.message||"Error al crear usuario. Verifica que el correo no est duplicado.")}finally{m(!1)}}async function B(F){const K=prompt("Ingresa la nueva contrasea temporal para este usuario:");if(K)try{const{error:Z}=await qt.from("usuarios").update({password_hash:K}).eq("id",F);if(Z)throw Z;alert("Contrasea actualizada exitosamente.")}catch{alert("Error al actualizar la contrasea.")}}async function U(F,K){try{const{error:Z}=await qt.from("usuarios").update({activo:!K}).eq("id",F);if(Z)throw Z;T()}catch{alert("Error al cambiar estado.")}}return S.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Equipo de Trabajo (Staff)"}),S.jsx("p",{className:"text-sm text-slate-500",children:"Gestin de jerarqua de usuarios y permisos administrativos."})]}),S.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-500",children:[S.jsx(w0,{className:"h-4 w-4"}),"Aadir Miembro"]})]}),S.jsx("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden",children:S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[S.jsx("thead",{className:"bg-slate-50",children:S.jsxs("tr",{children:[S.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-slate-900 sm:pl-6",children:"Usuario"}),S.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900",children:"Contacto"}),S.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900",children:"Rol & Sucursal"}),S.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900",children:"Estado"}),S.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:S.jsx("span",{className:"sr-only",children:"Acciones"})})]})}),S.jsx("tbody",{className:"divide-y divide-slate-200 bg-white",children:o?S.jsx("tr",{children:S.jsx("td",{colSpan:5,className:"py-16 text-center text-slate-500 text-sm",children:"Cargando equipo..."})}):e.length===0?S.jsx("tr",{children:S.jsx("td",{colSpan:5,className:"py-16 text-center text-slate-500 text-sm",children:"No hay miembros configurados en el equipo."})}):e.map(F=>{var K,Z;return S.jsxs("tr",{className:"hover:bg-slate-50",children:[S.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 sm:pl-6",children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsxs("div",{className:"h-10 w-10 shrink-0 rounded-full bg-slate-100 flex items-center justify-center text-slate-600 font-bold",children:[F.nombre[0],F.apellido?F.apellido[0]:""]}),S.jsxs("div",{children:[S.jsxs("div",{className:"font-medium text-slate-900",children:[F.nombre," ",F.apellido]}),F.email==="admin@youbox.gt"&&S.jsx("div",{className:"text-xs text-blue-600 font-medium tracking-wide",children:"MASTER O SUPERADMIN"})]})]})}),S.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-500",children:[S.jsxs("div",{className:"flex items-center gap-1.5",children:[S.jsx(y7,{className:"w-3.5 h-3.5"})," ",F.email]}),F.telefono&&S.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[S.jsx(eW,{className:"w-3.5 h-3.5"})," ",F.telefono]})]}),S.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600 space-y-2",children:[S.jsx("div",{children:S.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full px-2.5 py-0.5 text-xs font-medium bg-indigo-50 text-indigo-700 ring-1 ring-inset ring-indigo-600/20 capitalize",children:[S.jsx(z5,{className:"w-3.5 h-3.5"}),((K=F.roles)==null?void 0:K.nombre)||"Sin Rol"]})}),((Z=F.sucursales)==null?void 0:Z.nombre)&&S.jsx("div",{children:S.jsx("span",{className:"inline-flex items-center gap-1.5 rounded-full px-2.5 py-0.5 text-xs font-medium bg-emerald-50 text-emerald-700 ring-1 ring-inset ring-emerald-600/20",children:F.sucursales.nombre})})]}),S.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600",children:S.jsx("button",{onClick:()=>U(F.id,F.activo),className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset transition-colors ${F.activo?"bg-green-50 text-green-700 ring-green-600/20 hover:bg-green-100":"bg-slate-100 text-slate-700 ring-slate-600/20 hover:bg-slate-200"}`,children:F.activo?"Activo":"Suspendido"})}),S.jsxs("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:[S.jsx("button",{onClick:()=>B(F.id),className:"text-slate-400 hover:text-blue-600 mr-4",title:"Cambiar Contrasea",children:S.jsx(SG,{className:"w-4 h-4"})}),F.email!=="admin@youbox.gt"&&S.jsx("button",{className:"text-slate-400 hover:text-red-600",title:"Eliminar Permanente",children:S.jsx(m3,{className:"w-4 h-4"})})]})]},F.id)})})]})})}),d&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:S.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden",children:[S.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center gap-3",children:[S.jsx(hW,{className:"w-5 h-5 text-blue-600"}),S.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Crear Miembro del Equipo"})]}),S.jsxs("form",{onSubmit:I,className:"p-6 space-y-4",children:[S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nombre"}),S.jsx("input",{required:!0,type:"text",value:b.nombre,onChange:F=>x({...b,nombre:F.target.value}),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm p-2 border"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Apellido"}),S.jsx("input",{type:"text",value:b.apellido,onChange:F=>x({...b,apellido:F.target.value}),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm p-2 border"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Correo Electrnico"}),S.jsx("input",{required:!0,type:"email",value:b.email,onChange:F=>x({...b,email:F.target.value}),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm p-2 border"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Contrasea de Ingreso"}),S.jsx("input",{required:!0,type:"text",value:b.password,onChange:F=>x({...b,password:F.target.value}),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm p-2 border",placeholder:"Contrasea temporal"})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Telfono"}),S.jsx("input",{type:"text",value:b.telefono,onChange:F=>x({...b,telefono:F.target.value}),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm p-2 border"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Rol / Jerarqua"}),S.jsx("select",{required:!0,value:b.rol_id,onChange:F=>x({...b,rol_id:F.target.value}),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm p-2 border capitalize",children:r.map(F=>S.jsx("option",{value:F.id,children:F.nombre},F.id))})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Asignacin de Sucursal"}),S.jsx("select",{required:!0,value:b.sucursal_id,onChange:F=>x({...b,sucursal_id:F.target.value}),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm p-2 border",children:i.map(F=>S.jsx("option",{value:F.id,children:F.nombre},F.id))})]}),S.jsxs("div",{className:"pt-4 flex gap-3 justify-end",children:[S.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 rounded-md ring-1 ring-inset ring-slate-300",children:"Cancelar"}),S.jsxs("button",{type:"submit",disabled:h,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md disabled:opacity-50 flex items-center gap-2",children:[h&&S.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[S.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),S.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardar Perfil"]})]})]})]})})]})}function gme(){const[e,t]=D.useState([]),[r,n]=D.useState(!0),[i,a]=D.useState(!1),[o,u]=D.useState(!1),[d,c]=D.useState({nombre:"",prefijo_casillero:""});D.useEffect(()=>{h()},[]);const h=async()=>{n(!0);const{data:x,error:E}=await qt.from("sucursales").select("*").order("created_at",{ascending:!0});E||t(x||[]),n(!1)},m=async x=>{x.preventDefault(),u(!0);try{const{error:E}=await qt.from("sucursales").insert([{nombre:d.nombre,prefijo_casillero:d.prefijo_casillero.toUpperCase(),activa:!0}]);if(E)throw E;c({nombre:"",prefijo_casillero:""}),a(!1),h()}catch(E){alert(E.message||"Error al crear la sucursal.")}finally{u(!1)}},b=async(x,E)=>{const{error:C}=await qt.from("sucursales").update({activa:!E}).eq("id",x);C||h()};return S.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Agencias y Sucursales"}),S.jsx("p",{className:"text-sm text-slate-500",children:"Administra las ubicaciones fsicas y sus prefijos de casillero."})]}),S.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-500",children:[S.jsx(w0,{className:"h-4 w-4"}),"Aadir Sucursal"]})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r?S.jsx("div",{className:"col-span-full py-12 text-center text-slate-500 text-sm",children:"Cargando sucursales..."}):e.map(x=>S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm flex flex-col items-center text-center",children:[S.jsx("div",{className:"h-16 w-16 bg-blue-50 text-blue-600 rounded-2xl flex items-center justify-center mb-4",children:S.jsx(h3,{className:"h-8 w-8"})}),S.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-1",children:x.nombre}),S.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-full px-3 py-1 text-xs font-bold bg-amber-100 text-amber-800 tracking-widest mt-2 mb-6",children:["PREFIJO: ",x.prefijo_casillero,"-"]}),S.jsx("button",{onClick:()=>b(x.id,x.activa),className:`w-full py-2 rounded-lg text-sm font-medium transition-colors ${x.activa?"bg-green-50 text-green-700 hover:bg-green-100":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:x.activa?"Activa y Operando":"Sucursal Inactiva"})]},x.id))}),i&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:S.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-sm overflow-hidden",children:[S.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center gap-3",children:[S.jsx(Dc,{className:"w-5 h-5 text-blue-600"}),S.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Nueva Sucursal"})]}),S.jsxs("form",{onSubmit:m,className:"p-6 space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nombre de la Sede"}),S.jsx("input",{required:!0,type:"text",placeholder:"Ej. Agencia Tapachula",value:d.nombre,onChange:x=>c({...d,nombre:x.target.value}),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm p-2 border"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Prefijo de Casillero"}),S.jsx("input",{required:!0,type:"text",placeholder:"Ej. YBT",maxLength:4,value:d.prefijo_casillero,onChange:x=>c({...d,prefijo_casillero:x.target.value.replace(/[^A-Za-z]/g,"").toUpperCase()}),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm p-2 border font-mono uppercase"}),S.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Sugerido: 3 a 4 letras. Ej: YBQ (Quich)."})]}),S.jsxs("div",{className:"pt-4 flex gap-3 justify-end",children:[S.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 rounded-md ring-1 ring-inset ring-slate-300",children:"Cancelar"}),S.jsx("button",{type:"submit",disabled:o||!d.nombre||!d.prefijo_casillero,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md disabled:opacity-50",children:o?"Guardando...":"Guardar Sede"})]})]})]})})]})}function mme(){const{login:e}=Fa(),t=Ap(),[r,n]=D.useState(""),[i,a]=D.useState(""),[o,u]=D.useState(!1),[d,c]=D.useState(""),[h,m]=D.useState(!1),b=async x=>{if(x.preventDefault(),!r||!i){c("Completa todos los campos.");return}c(""),m(!0);const E=await e(r,i);if(m(!1),E.error){c(E.error);return}t("/")};return S.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-blue-950 flex items-center justify-center p-4",children:[S.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[S.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 rounded-full bg-blue-500/10 blur-3xl"}),S.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 rounded-full bg-blue-500/10 blur-3xl"})]}),S.jsxs("div",{className:"relative w-full max-w-md",children:[S.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl",children:[S.jsxs("div",{className:"flex flex-col items-center mb-8",children:[S.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-blue-500 shadow-lg shadow-blue-500/30 mb-4",children:S.jsx(ep,{className:"h-8 w-8 text-white"})}),S.jsx("h1",{className:"text-3xl font-black text-white tracking-tight",children:"YOUBOX GT"}),S.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Sistema de Gestin de Paquetes"})]}),S.jsx("h2",{className:"text-xl font-bold text-white mb-6 text-center",children:"Iniciar Sesin"}),d&&S.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-lg bg-red-500/15 border border-red-500/30 px-4 py-3 text-sm text-red-300",children:[S.jsx(h7,{className:"h-4 w-4 shrink-0"}),d]}),S.jsxs("form",{onSubmit:b,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Usuario o Correo"}),S.jsx("input",{type:"text",value:r,onChange:x=>n(x.target.value),className:"w-full rounded-lg bg-white/10 border border-white/15 px-4 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"admin o tu@correo.com",autoFocus:!0})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Contrasea"}),S.jsxs("div",{className:"relative",children:[S.jsx("input",{type:o?"text":"password",value:i,onChange:x=>a(x.target.value),className:"w-full rounded-lg bg-white/10 border border-white/15 px-4 py-2.5 pr-10 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"Contrasea"}),S.jsx("button",{type:"button",onClick:()=>u(!o),className:"absolute right-3 top-2.5 text-slate-400 hover:text-white transition-colors",children:o?S.jsx(m7,{className:"h-4 w-4"}):S.jsx(v7,{className:"h-4 w-4"})})]})]}),S.jsxs("button",{type:"submit",disabled:h,className:"w-full flex items-center justify-center gap-2 rounded-lg bg-blue-500 hover:bg-blue-400 disabled:opacity-60 disabled:cursor-not-allowed text-white font-semibold py-2.5 transition-all shadow-lg shadow-blue-500/20 text-sm mt-2",children:[h?S.jsx("span",{className:"h-4 w-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):S.jsx(MG,{className:"h-4 w-4"}),h?"Ingresando...":"Ingresar"]})]}),S.jsx("div",{className:"mt-6 text-center",children:S.jsxs("p",{className:"text-slate-400 text-sm",children:["No tienes cuenta?"," ",S.jsx(Ep,{to:"/register",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Crear cuenta de cliente"})]})})]}),S.jsx("p",{className:"text-center text-slate-600 text-xs mt-6",children:" 2025 YOUBOX GT  Todos los derechos reservados"})]})]})}const vme=["Salario","Luz","Agua","Renta","Internet","Proveedores","Otros"];function yme(){const{user:e}=Fa(),[t,r]=D.useState([]),[n,i]=D.useState([]),[a,o]=D.useState("all"),[u,d]=D.useState(!0),[c,h]=D.useState(!1),[m,b]=D.useState(!1),x=TM.useRef(null),[E,C]=D.useState({categoria:"Renta",concepto:"",monto_q:"",fecha_pago:new Date().toISOString().split("T")[0],numero_cuenta:"",notas:"",sucursal_id:""}),[T,I]=D.useState(null),[B,U]=D.useState(null);D.useEffect(()=>{F()},[]),D.useEffect(()=>{K()},[a,e==null?void 0:e.sucursal_id]);async function F(){if((e==null?void 0:e.role)==="admin"){const{data:q}=await qt.from("sucursales").select("id, nombre").eq("activa",!0).order("nombre");q&&(i(q),q.length>0&&C(se=>({...se,sucursal_id:q[0].id})))}else e!=null&&e.sucursal_id&&C(q=>({...q,sucursal_id:e.sucursal_id}))}async function K(){d(!0);try{let q=qt.from("gastos_financieros").select("*, sucursales(nombre)").order("fecha_pago",{ascending:!1});(e==null?void 0:e.role)!=="admin"&&(e!=null&&e.sucursal_id)?q=q.eq("sucursal_id",e.sucursal_id):(e==null?void 0:e.role)==="admin"&&a!=="all"&&(q=q.eq("sucursal_id",a));const{data:se,error:G}=await q;if(G)throw G;r(se||[])}catch(q){console.error("Error fetching expenses:",q)}finally{d(!1)}}const Z=q=>{if(q.target.files&&q.target.files[0]){const se=q.target.files[0];if(I(se),se.type.startsWith("image/")){const G=new FileReader;G.onloadend=()=>{U(G.result)},G.readAsDataURL(se)}else U(null)}},V=async q=>{if(q.preventDefault(),!E.monto_q||!E.concepto){alert("Debes indicar al menos un Concepto y Monto.");return}h(!0);let se=null;try{if(T){b(!0);const le=T.name.split(".").pop(),J=`${Date.now()}_${Math.random().toString(36).substring(7)}.${le}`,ie=`${(e==null?void 0:e.id)||"sys"}/${J}`,{error:ne,data:fe}=await qt.storage.from("recibos_gastos").upload(ie,T);if(ne)throw ne;if(fe){const{data:we}=qt.storage.from("recibos_gastos").getPublicUrl(fe.path);se=we.publicUrl}b(!1)}const G={categoria:E.categoria,concepto:E.concepto,monto_q:parseFloat(E.monto_q),fecha_pago:E.fecha_pago,numero_cuenta:E.numero_cuenta,notas:E.notas,recibo_url:se,sucursal_id:E.sucursal_id||null,estado:"verificado",registrado_por:(e==null?void 0:e.id)==="admin-001"?null:e==null?void 0:e.id},{error:H}=await qt.from("gastos_financieros").insert([G]);if(H)throw H;alert("Gasto registrado exitosamente!"),C({categoria:"Renta",concepto:"",monto_q:"",fecha_pago:new Date().toISOString().split("T")[0],numero_cuenta:"",notas:"",sucursal_id:(e==null?void 0:e.role)==="admin"&&n.length>0?n[0].id:(e==null?void 0:e.sucursal_id)||""}),I(null),U(null),x.current&&(x.current.value=""),K()}catch(G){console.error(G),alert("Error guardando el gasto: "+G.message),b(!1)}finally{h(!1)}},Q=q=>new Intl.NumberFormat("es-GT",{style:"currency",currency:"GTQ"}).format(q);return S.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto pb-10",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Control de Gastos"}),S.jsx("p",{className:"text-sm text-slate-500",children:"Registra y verifica pagos de renta, salarios, proveedores y ms."})]}),(e==null?void 0:e.role)==="admin"&&S.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-2 rounded-lg border border-slate-200 shadow-sm",children:[S.jsx(uv,{className:"h-4 w-4 text-slate-400"}),S.jsxs("select",{value:a,onChange:q=>o(q.target.value),className:"bg-transparent border-none text-sm font-medium text-slate-700 outline-none focus:ring-0 cursor-pointer",children:[S.jsx("option",{value:"all",children:"Todas las Sedes"}),n.map(q=>S.jsx("option",{value:q.id,children:q.nombre},q.id))]})]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[S.jsxs("div",{className:"lg:col-span-1 border border-slate-200 bg-white rounded-xl shadow-sm p-6 space-y-5 h-fit",children:[S.jsxs("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[S.jsx(U5,{className:"h-5 w-5 text-blue-500"}),"Nuevo Gasto"]}),S.jsxs("form",{onSubmit:V,className:"space-y-4",children:[S.jsxs("div",{className:"space-y-1",children:[S.jsxs("label",{className:"text-sm font-medium text-slate-700",children:["Categora ",S.jsx("span",{className:"text-red-500",children:"*"})]}),S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:S.jsx(bW,{className:"h-4 w-4 text-slate-400"})}),S.jsx("select",{required:!0,value:E.categoria,onChange:q=>C({...E,categoria:q.target.value}),className:"block w-full rounded-md border-0 py-2 pl-10 pr-3 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-blue-600 sm:text-sm sm:leading-6",children:vme.map(q=>S.jsx("option",{value:q,children:q},q))})]})]}),(e==null?void 0:e.role)==="admin"&&n.length>0&&S.jsxs("div",{className:"space-y-1",children:[S.jsxs("label",{className:"text-sm font-medium text-slate-700",children:["Sucursal ",S.jsx("span",{className:"text-red-500",children:"*"})]}),S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:S.jsx(uv,{className:"h-4 w-4 text-slate-400"})}),S.jsx("select",{required:!0,value:E.sucursal_id,onChange:q=>C({...E,sucursal_id:q.target.value}),className:"block w-full rounded-md border-0 py-2 pl-10 pr-3 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-blue-600 sm:text-sm sm:leading-6",children:n.map(q=>S.jsx("option",{value:q.id,children:q.nombre},q.id))})]})]}),S.jsxs("div",{className:"space-y-1",children:[S.jsxs("label",{className:"text-sm font-medium text-slate-700",children:["Concepto / Referencia ",S.jsx("span",{className:"text-red-500",children:"*"})]}),S.jsx("input",{required:!0,type:"text",placeholder:"Ej. Renta Febrero Almacn B",value:E.concepto,onChange:q=>C({...E,concepto:q.target.value}),className:"block w-full rounded-md border-0 py-2 px-3 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-blue-600 sm:text-sm sm:leading-6"})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"space-y-1",children:[S.jsxs("label",{className:"text-sm font-medium text-slate-700",children:["Monto (GTQ) ",S.jsx("span",{className:"text-red-500",children:"*"})]}),S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:S.jsx("span",{className:"text-slate-400 font-semibold text-sm",children:"Q"})}),S.jsx("input",{required:!0,type:"number",step:"0.01",min:"0",placeholder:"0.00",value:E.monto_q,onChange:q=>C({...E,monto_q:q.target.value}),className:"block w-full rounded-md border-0 py-2 pl-9 pr-3 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-blue-600 sm:text-sm sm:leading-6"})]})]}),S.jsxs("div",{className:"space-y-1",children:[S.jsxs("label",{className:"text-sm font-medium text-slate-700",children:["Fecha de Pago ",S.jsx("span",{className:"text-red-500",children:"*"})]}),S.jsx("input",{required:!0,type:"date",value:E.fecha_pago,onChange:q=>C({...E,fecha_pago:q.target.value}),className:"block w-full rounded-md border-0 py-2 px-3 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-blue-600 sm:text-sm sm:leading-6"})]})]}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("label",{className:"text-sm font-medium text-slate-700",children:"N Cuenta o Cheque (Opcional)"}),S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:S.jsx(uv,{className:"h-4 w-4 text-slate-400"})}),S.jsx("input",{type:"text",placeholder:"Ej. Cheque Bi #010101",value:E.numero_cuenta,onChange:q=>C({...E,numero_cuenta:q.target.value}),className:"block w-full rounded-md border-0 py-2 pl-10 pr-3 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-blue-600 sm:text-sm sm:leading-6"})]})]}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Comprobante de Pago (Recibo)"}),S.jsx("div",{className:"mt-2 flex justify-center rounded-lg border border-dashed border-slate-300 px-6 py-4 hover:bg-slate-50 transition-colors",children:S.jsxs("div",{className:"text-center",children:[B?S.jsx("img",{src:B,alt:"Preview",className:"mx-auto h-24 object-contain mb-2 rounded border border-slate-200"}):S.jsx(TW,{className:"mx-auto h-8 w-8 text-slate-300 mb-2"}),S.jsx("div",{className:"flex text-sm leading-6 text-slate-600 justify-center",children:S.jsxs("label",{htmlFor:"recibo-upload",className:"relative cursor-pointer rounded-md font-semibold text-blue-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-600 hover:text-blue-500",children:[S.jsx("span",{children:T?"Cambiar archivo":"Subir archivo"}),S.jsx("input",{id:"recibo-upload",ref:x,type:"file",className:"sr-only",accept:"image/*,application/pdf",onChange:Z})]})}),S.jsx("p",{className:"text-xs leading-5 text-slate-500",children:T?T.name:"PNG, JPG, PDF hasta 5MB"})]})})]}),S.jsxs("button",{type:"submit",disabled:c,className:"mt-6 w-full flex justify-center items-center gap-2 rounded-md bg-slate-900 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-900 disabled:opacity-50",children:[c?S.jsx(Fs,{className:"h-4 w-4 animate-spin"}):S.jsx(w0,{className:"h-4 w-4"}),c?m?"Subiendo recibo...":"Guardando...":"Registrar Gasto Verificado"]})]})]}),S.jsxs("div",{className:"lg:col-span-2 border border-slate-200 bg-white rounded-xl shadow-sm overflow-hidden flex flex-col",children:[S.jsx("div",{className:"border-b border-slate-200 px-6 py-4 bg-slate-50",children:S.jsxs("h2",{className:"text-base font-semibold text-slate-900 flex items-center gap-2",children:[S.jsx(p3,{className:"h-5 w-5 text-emerald-500"}),"Pagos Verificados"]})}),S.jsx("div",{className:"flex-1 overflow-auto p-0",children:u?S.jsx("div",{className:"flex justify-center items-center h-40",children:S.jsx(Fs,{className:"h-8 w-8 text-blue-500 animate-spin"})}):t.length===0?S.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center h-full",children:[S.jsx(U5,{className:"h-10 w-10 text-slate-300 mb-3"}),S.jsx("h3",{className:"text-sm font-medium text-slate-900",children:"No hay gastos registrados"}),S.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Registra aqu los primeros gastos del negocio."})]}):S.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[S.jsx("thead",{className:"bg-white border-b border-slate-200 sticky top-0 z-10",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-6 py-3 font-semibold text-slate-900",children:"Fecha"}),S.jsx("th",{className:"px-6 py-3 font-semibold text-slate-900",children:"Concepto"}),S.jsx("th",{className:"px-6 py-3 font-semibold text-slate-900",children:"Categora"}),S.jsx("th",{className:"px-6 py-3 font-semibold text-slate-900 text-right",children:"Monto"}),S.jsx("th",{className:"px-6 py-3 font-semibold text-slate-900",children:"N Cuenta/Ref"}),S.jsx("th",{className:"px-6 py-3 font-semibold text-slate-900 text-center",children:"Recibo"})]})}),S.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(q=>{var se;return S.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[S.jsx("td",{className:"px-6 py-3 text-slate-500",children:new Date(q.fecha_pago).toLocaleDateString("es-ES")}),S.jsx("td",{className:"px-6 py-3 font-medium text-slate-900",children:q.concepto}),S.jsxs("td",{className:"px-6 py-3",children:[S.jsx("span",{className:"inline-flex items-center rounded-md bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700 ring-1 ring-inset ring-blue-700/10",children:q.categoria}),((se=q.sucursales)==null?void 0:se.nombre)&&S.jsx("span",{className:"ml-2 inline-flex items-center rounded-md bg-emerald-50 px-2 py-1 text-xs font-medium text-emerald-700 ring-1 ring-inset ring-emerald-700/10 hidden sm:inline-flex",children:q.sucursales.nombre})]}),S.jsx("td",{className:"px-6 py-3 font-bold text-slate-800 text-right",children:Q(q.monto_q)}),S.jsx("td",{className:"px-6 py-3 text-slate-500 font-mono text-xs",children:q.numero_cuenta||"------"}),S.jsx("td",{className:"px-6 py-3 text-center",children:q.recibo_url?S.jsx("a",{href:q.recibo_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center p-1.5 rounded-full bg-slate-100 text-slate-500 hover:text-blue-600 hover:bg-blue-50 transition-colors",title:"Ver Recibo",children:S.jsx(wG,{className:"h-4 w-4"})}):S.jsx("span",{className:"text-slate-300 text-xs",children:"-"})})]},q.id)})})]})})]})]})]})}function bme(){const{register:e}=Fa(),t=Ap(),[r,n]=D.useState("form"),[i,a]=D.useState(null),[o,u]=D.useState({nombre:"",apellido:"",email:"",telefono:"",password:"",confirmPassword:"",sucursal_id:""}),[d,c]=D.useState([]),[h,m]=D.useState(!1),[b,x]=D.useState(""),[E,C]=D.useState(!1),[T,I]=D.useState(!1);D.useEffect(()=>{(async()=>{const{data:Q}=await qt.from("sucursales").select("*").eq("activa",!0).order("nombre");Q&&(c(Q),Q.length>0&&u(q=>({...q,sucursal_id:Q[0].id})))})()},[]);const B=V=>{u(Q=>({...Q,[V.target.name]:V.target.value}))},U=async V=>{if(V.preventDefault(),x(""),!o.nombre||!o.apellido||!o.email||!o.telefono||!o.password){x("Completa todos los campos obligatorios.");return}if(o.password!==o.confirmPassword){x("Las contraseas no coinciden.");return}if(o.password.length<6){x("La contrasea debe tener al menos 6 caracteres.");return}if(!o.sucursal_id){x("Por favor selecciona una sucursal.");return}const Q=d.find(se=>se.id===o.sucursal_id);C(!0);const q=await e({nombre:o.nombre,apellido:o.apellido,email:o.email,telefono:o.telefono,password:o.password,sucursal_id:Q==null?void 0:Q.id,sucursal_prefix:Q==null?void 0:Q.prefijo_casillero});if(C(!1),q.error){x(q.error);return}if(q.user){const se={nombre:q.user.nombre,locker_id:q.user.locker_id,email:q.user.email,telefono:o.telefono};a(se),n("success")}},F=()=>{if(!i)return;const V=encodeURIComponent(yx(i.locker_id)),Q=i.telefono.replace(/\D/g,"");window.open(`https://wa.me/${Q}?text=${V}`,"_blank")},K=()=>{if(!i)return;const V=encodeURIComponent(`Bienvenido a YOUBOX GT! Tu casillero es ${i.locker_id}`),Q=encodeURIComponent(yx(i.locker_id));window.open(`mailto:${i.email}?subject=${V}&body=${Q}`,"_blank")},Z=()=>{i&&(navigator.clipboard.writeText(yx(i.locker_id)),I(!0),setTimeout(()=>I(!1),2e3))};return r==="success"&&i?S.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-blue-950 flex items-center justify-center p-4",children:[S.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[S.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 rounded-full bg-blue-500/10 blur-3xl"}),S.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 rounded-full bg-blue-500/10 blur-3xl"})]}),S.jsx("div",{className:"relative w-full max-w-2xl",children:S.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl",children:[S.jsxs("div",{className:"text-center mb-8",children:[S.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-blue-500 shadow-lg shadow-blue-500/30 mx-auto mb-4",children:S.jsx(nG,{className:"h-8 w-8 text-white"})}),S.jsx("h1",{className:"text-2xl font-black text-white",children:"Cuenta Creada Exitosamente"}),S.jsxs("p",{className:"text-slate-300 mt-1",children:["Bienvenido/a, ",S.jsx("span",{className:"text-blue-400 font-bold",children:i.nombre})]}),S.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 bg-blue-500/20 border border-blue-500/40 rounded-full px-5 py-2",children:[S.jsx("span",{className:"text-slate-300 text-sm",children:"Tu casillero:"}),S.jsx("span",{className:"text-blue-300 font-black text-lg tracking-widest",children:i.locker_id})]})]}),S.jsxs("div",{className:"space-y-3 mb-6",children:[S.jsx("h3",{className:"text-white font-semibold text-sm uppercase tracking-wider mb-3",children:"Tus 3 Direcciones de Recepcion"}),S.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[S.jsx("p",{className:"text-blue-400 font-bold text-sm mb-2",children:" Greensboro, NC  Via Maritima"}),S.jsxs("div",{className:"text-slate-300 text-sm space-y-0.5 font-mono",children:[S.jsxs("p",{children:[S.jsx("span",{className:"text-slate-500",children:"Nombre:"})," YBG ",i.nombre," ",i.locker_id]}),S.jsxs("p",{children:[S.jsx("span",{className:"text-slate-500",children:"Dir:"})," 4100 Tulsa Dr"]}),S.jsxs("p",{children:[S.jsx("span",{className:"text-slate-500",children:"Suite/Apt:"})," ",i.locker_id]}),S.jsxs("p",{children:[S.jsx("span",{className:"text-slate-500",children:"Ciudad:"})," Greensboro, NC 27406"]}),S.jsxs("p",{children:[S.jsx("span",{className:"text-slate-500",children:"Tel:"})," 3365496890"]})]})]}),S.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[S.jsx("p",{className:"text-blue-400 font-bold text-sm mb-2",children:" Laredo, TX  Via Terrestre"}),S.jsxs("div",{className:"text-slate-300 text-sm space-y-0.5 font-mono",children:[S.jsxs("p",{children:[S.jsx("span",{className:"text-slate-500",children:"Nombre:"})," YBG ",i.nombre," ",i.locker_id]}),S.jsxs("p",{children:[S.jsx("span",{className:"text-slate-500",children:"Dir:"})," 1900 Justo Penn St"]}),S.jsxs("p",{children:[S.jsx("span",{className:"text-slate-500",children:"Suite/Apt:"})," ",i.locker_id]}),S.jsxs("p",{children:[S.jsx("span",{className:"text-slate-500",children:"Ciudad:"})," Laredo, TX 78041"]}),S.jsxs("p",{children:[S.jsx("span",{className:"text-slate-500",children:"Tel:"})," 7572437074"]})]})]}),S.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[S.jsx("p",{className:"text-amber-400 font-bold text-sm mb-2",children:" Tapachula, Chiapas  Via Terrestre Mexico"}),S.jsxs("div",{className:"text-slate-300 text-sm space-y-0.5 font-mono",children:[S.jsxs("p",{children:[S.jsx("span",{className:"text-slate-500",children:"Nombre:"})," YBG ",i.nombre," ",i.locker_id]}),S.jsxs("p",{children:[S.jsx("span",{className:"text-slate-500",children:"Dir:"})," Calle El Carmen Manzana 6 Casa 4"]}),S.jsxs("p",{children:[S.jsx("span",{className:"text-slate-500",children:"Ref:"})," Infonavit El Carmen + ",i.locker_id]}),S.jsxs("p",{children:[S.jsx("span",{className:"text-slate-500",children:"Ciudad:"})," Tapachula, Chiapas CP 30799"]}),S.jsxs("p",{children:[S.jsx("span",{className:"text-slate-500",children:"Tel:"})," 9621210423"]})]})]})]}),S.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[S.jsxs("button",{onClick:F,className:"flex flex-col items-center gap-2 rounded-xl border border-green-500/30 bg-green-500/15 p-3 text-green-400 hover:bg-green-500/25 transition-colors text-xs font-medium",children:[S.jsx(FG,{className:"h-5 w-5"}),"Enviar WhatsApp"]}),S.jsxs("button",{onClick:K,className:"flex flex-col items-center gap-2 rounded-xl border border-blue-500/30 bg-blue-500/15 p-3 text-blue-400 hover:bg-blue-500/25 transition-colors text-xs font-medium",children:[S.jsx(y7,{className:"h-5 w-5"}),"Enviar Email"]}),S.jsxs("button",{onClick:Z,className:"flex flex-col items-center gap-2 rounded-xl border border-white/15 bg-white/5 p-3 text-slate-300 hover:bg-white/10 transition-colors text-xs font-medium",children:[S.jsx(cG,{className:"h-5 w-5"}),T?"Copiado!":"Copiar Info"]})]}),S.jsx("button",{onClick:()=>t("/"),className:"w-full rounded-lg bg-blue-500 hover:bg-blue-400 text-white font-semibold py-2.5 transition-all shadow-lg shadow-blue-500/20 text-sm",children:"Ir al Panel Principal"})]})})]}):S.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-blue-950 flex items-center justify-center p-4",children:[S.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[S.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 rounded-full bg-blue-500/10 blur-3xl"}),S.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 rounded-full bg-blue-500/10 blur-3xl"})]}),S.jsx("div",{className:"relative w-full max-w-lg",children:S.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl",children:[S.jsxs("div",{className:"flex flex-col items-center mb-6",children:[S.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-2xl bg-blue-500 shadow-lg shadow-blue-500/30 mb-3",children:S.jsx(ep,{className:"h-7 w-7 text-white"})}),S.jsx("h1",{className:"text-2xl font-black text-white tracking-tight",children:"YOUBOX GT"}),S.jsx("p",{className:"text-slate-400 text-sm",children:"Crear cuenta de cliente"})]}),b&&S.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-lg bg-red-500/15 border border-red-500/30 px-4 py-3 text-sm text-red-300",children:[S.jsx(h7,{className:"h-4 w-4 shrink-0"}),b]}),S.jsxs("form",{onSubmit:U,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-1.5 flex items-center gap-1.5",children:[S.jsx(Dc,{className:"h-4 w-4 text-emerald-400"}),"En qu Sucursal recoges tus paquetes? *"]}),S.jsx("select",{name:"sucursal_id",value:o.sucursal_id,onChange:B,className:"w-full rounded-lg bg-emerald-500/10 border border-emerald-500/30 px-3 py-2.5 text-white outline-none focus:border-emerald-400 focus:ring-1 focus:ring-emerald-400 transition-colors text-sm font-medium",children:d.map(V=>S.jsx("option",{value:V.id,className:"bg-slate-800",children:V.nombre},V.id))})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Nombre *"}),S.jsx("input",{name:"nombre",value:o.nombre,onChange:B,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"Juan"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Apellido *"}),S.jsx("input",{name:"apellido",value:o.apellido,onChange:B,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"Perez"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Correo Electronico *"}),S.jsx("input",{name:"email",type:"email",value:o.email,onChange:B,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"tu@correo.com"})]}),S.jsxs("div",{children:[S.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:["WhatsApp / Telefono * ",S.jsx("span",{className:"text-slate-500 font-normal",children:"(con codigo de pais)"})]}),S.jsx("input",{name:"telefono",value:o.telefono,onChange:B,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"50255551234"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Contrasena *"}),S.jsxs("div",{className:"relative",children:[S.jsx("input",{name:"password",type:h?"text":"password",value:o.password,onChange:B,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 pr-10 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"Minimo 6 caracteres"}),S.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-3 top-2.5 text-slate-400 hover:text-white",children:h?S.jsx(m7,{className:"h-4 w-4"}):S.jsx(v7,{className:"h-4 w-4"})})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Confirmar Contrasena *"}),S.jsx("input",{name:"confirmPassword",type:"password",value:o.confirmPassword,onChange:B,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"Repite tu contrasena"})]}),S.jsxs("div",{className:"rounded-lg border border-blue-500/25 bg-blue-500/10 px-4 py-3 text-sm",children:[S.jsx("p",{className:"text-blue-400 font-medium",children:"Tu casillero se asignara automaticamente"}),S.jsx("p",{className:"text-slate-400 text-xs mt-0.5",children:"Recibiras tu numero de casillero unico (YBG4000+) al crear tu cuenta."})]}),S.jsxs("button",{type:"submit",disabled:E,className:"w-full flex items-center justify-center gap-2 rounded-lg bg-blue-500 hover:bg-blue-400 disabled:opacity-60 disabled:cursor-not-allowed text-white font-semibold py-2.5 transition-all shadow-lg shadow-blue-500/20 text-sm",children:[E?S.jsx("span",{className:"h-4 w-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):S.jsx(kW,{className:"h-4 w-4"}),E?"Creando cuenta...":"Crear Cuenta Gratis"]})]}),S.jsx("div",{className:"mt-4 text-center",children:S.jsxs("p",{className:"text-slate-400 text-sm",children:["Ya tienes cuenta?"," ",S.jsx(Ep,{to:"/login",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Iniciar sesion"})]})})]})})]})}const ov=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d","#ffc658"];function xme(){const[e,t]=D.useState(!0),[r,n]=D.useState([]),[i,a]=D.useState([]),{user:o}=Fa(),[u,d]=D.useState([]),[c,h]=D.useState("all"),[m,b]=D.useState({ingresosMesActual:0,gastosMesActual:0,balanceMesActual:0});D.useEffect(()=>{(o==null?void 0:o.role)==="admin"&&x()},[o]),D.useEffect(()=>{E()},[c,o]);const x=async()=>{const{data:T}=await qt.from("sucursales").select("id, nombre").eq("activa",!0).order("nombre");T&&d(T)},E=async()=>{t(!0);try{const T=new Date,I=lhe(T,5);let B=qt.from("facturas").select("monto_total, fecha_emision, clientes!inner(sucursal_id)").eq("estado","verificado").gte("fecha_emision",I.toISOString()),U=qt.from("gastos_financieros").select("monto_q, fecha_pago, categoria").eq("estado","verificado").gte("fecha_pago",I.toISOString());(o==null?void 0:o.role)!=="admin"&&(o!=null&&o.sucursal_id)?(B=B.eq("clientes.sucursal_id",o.sucursal_id),U=U.eq("sucursal_id",o.sucursal_id)):(o==null?void 0:o.role)==="admin"&&c!=="all"&&(B=B.eq("clientes.sucursal_id",c),U=U.eq("sucursal_id",c));const{data:F,error:K}=await B;if(K)throw K;const{data:Z,error:V}=await U;if(V)throw V;const Q=cde({start:I,end:T}),q=new Map;Q.forEach(ne=>{const fe=Eu(ne,"yyyy-MM");q.set(fe,{mes:Eu(ne,"MMM yyyy",{locale:Vp}).toUpperCase(),ingresos:0,gastos:0,balance:0,sortKey:fe})});const se=Eu(T,"yyyy-MM");let G=0,H=0;F==null||F.forEach(ne=>{const fe=ne.fecha_emision.substring(0,7);if(q.has(fe)){const we=q.get(fe);we.ingresos+=Number(ne.monto_total),fe===se&&(G+=Number(ne.monto_total))}});const le=new Map;Z==null||Z.forEach(ne=>{const fe=ne.fecha_pago.substring(0,7);if(q.has(fe)){const we=q.get(fe);we.gastos+=Number(ne.monto_q),fe===se&&(H+=Number(ne.monto_q))}if(fe===se){const we=ne.categoria||"Otros";le.set(we,(le.get(we)||0)+Number(ne.monto_q))}});const J=Array.from(q.values()).map(ne=>({...ne,balance:ne.ingresos-ne.gastos})).sort((ne,fe)=>ne.sortKey.localeCompare(fe.sortKey)),ie=Array.from(le.entries()).map(([ne,fe])=>({name:ne,value:fe}));n(J),a(ie),b({ingresosMesActual:G,gastosMesActual:H,balanceMesActual:G-H})}catch(T){console.error("Error fetching report data",T),alert("Hubo un error al cargar las grficas financieras.")}finally{t(!1)}},C=T=>new Intl.NumberFormat("es-GT",{style:"currency",currency:"GTQ",minimumFractionDigits:0}).format(T);return e?S.jsx("div",{className:"flex h-[80vh] items-center justify-center",children:S.jsx(Fs,{className:"h-8 w-8 animate-spin text-blue-600"})}):S.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto pb-10",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Dashboard Financiero"}),S.jsx("p",{className:"text-sm text-slate-500",children:"Mtricas clave e historial de utilidad de los ltimos 6 meses."})]}),(o==null?void 0:o.role)==="admin"&&S.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-2 rounded-lg border border-slate-200 shadow-sm",children:[S.jsx(uv,{className:"h-4 w-4 text-slate-400"}),S.jsxs("select",{value:c,onChange:T=>h(T.target.value),className:"bg-transparent border-none text-sm font-medium text-slate-700 outline-none focus:ring-0 cursor-pointer",children:[S.jsx("option",{value:"all",children:"Todas las Sedes"}),u.map(T=>S.jsx("option",{value:T.id,children:T.nombre},T.id))]})]})]}),S.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm flex items-center gap-4",children:[S.jsx("div",{className:"rounded-full bg-emerald-100 p-3",children:S.jsx(SW,{className:"h-6 w-6 text-emerald-600"})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Ingresos (Este Mes)"}),S.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:C(m.ingresosMesActual)})]})]}),S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm flex items-center gap-4",children:[S.jsx("div",{className:"rounded-full bg-red-100 p-3",children:S.jsx(_W,{className:"h-6 w-6 text-red-600"})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Gastos (Este Mes)"}),S.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:C(m.gastosMesActual)})]})]}),S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm flex items-center gap-4",children:[S.jsx("div",{className:`rounded-full p-3 ${m.balanceMesActual>=0?"bg-blue-100":"bg-orange-100"}`,children:S.jsx(p7,{className:`h-6 w-6 ${m.balanceMesActual>=0?"text-blue-600":"text-orange-600"}`})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Utilidad (Neta)"}),S.jsx("p",{className:`text-2xl font-semibold ${m.balanceMesActual>=0?"text-blue-600":"text-orange-600"}`,children:C(m.balanceMesActual)})]})]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[S.jsxs("div",{className:"lg:col-span-2 rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[S.jsxs("h2",{className:"text-base font-semibold text-slate-900 mb-6 flex items-center gap-2",children:[S.jsx(tp,{className:"h-5 w-5 text-blue-500"}),"Ingresos vs Egresos (ltimos 6 meses)"]}),S.jsx("div",{className:"h-[350px] w-full",children:S.jsx($v,{width:"100%",height:"100%",children:S.jsxs(OL,{data:r,margin:{top:20,right:30,left:20,bottom:5},children:[S.jsx(dS,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0"}),S.jsx(pS,{dataKey:"mes",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12},dy:10}),S.jsx(gS,{axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12},tickFormatter:T=>`Q${T}`}),S.jsx(m2,{formatter:T=>C(T),cursor:{fill:"#F1F5F9"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),S.jsx(mR,{wrapperStyle:{paddingTop:"20px"}}),S.jsx(A2,{dataKey:"ingresos",name:"Ingresos",fill:"#10B981",radius:[4,4,0,0],maxBarSize:50}),S.jsx(A2,{dataKey:"gastos",name:"Gastos",fill:"#EF4444",radius:[4,4,0,0],maxBarSize:50})]})})})]}),S.jsxs("div",{className:"lg:col-span-1 rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[S.jsx("h2",{className:"text-base font-semibold text-slate-900 mb-6",children:"Distribucin de Gastos (Mes Actual)"}),i.length===0?S.jsx("div",{className:"h-[300px] flex items-center justify-center text-slate-400 text-sm",children:"No hay gastos registrados este mes."}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"h-[250px] w-full",children:S.jsx($v,{width:"100%",height:"100%",children:S.jsxs(IL,{children:[S.jsx(cS,{data:i,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:5,dataKey:"value",children:i.map((T,I)=>S.jsx(j0,{fill:ov[I%ov.length]},`cell-${I}`))}),S.jsx(m2,{formatter:T=>C(T)})]})})}),S.jsx("div",{className:"mt-4 space-y-2",children:i.map((T,I)=>S.jsxs("div",{className:"flex justify-between items-center text-sm",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ov[I%ov.length]}}),S.jsx("span",{className:"text-slate-600",children:T.name})]}),S.jsx("span",{className:"font-semibold text-slate-900",children:C(T.value)})]},T.name))})]})]})]})]})}function wme({children:e}){const{user:t,loading:r}=Fa();return r?S.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:S.jsx("div",{className:"h-8 w-8 border-2 border-blue-400/30 border-t-blue-400 rounded-full animate-spin"})}):t?S.jsx(S.Fragment,{children:e}):S.jsx(wf,{to:"/login",replace:!0})}function Nc({children:e}){const{user:t}=Fa();return(t==null?void 0:t.role)!=="admin"&&(t==null?void 0:t.role)!=="operador"&&(t==null?void 0:t.role)!=="facturador"?S.jsx(wf,{to:"/inventory",replace:!0}):S.jsx(S.Fragment,{children:e})}function _me(){const{user:e}=Fa(),t=e&&e.role==="cliente";return S.jsxs(AU,{children:[S.jsx(Pa,{path:"/login",element:e?S.jsx(wf,{to:"/",replace:!0}):S.jsx(mme,{})}),S.jsx(Pa,{path:"/register",element:e?S.jsx(wf,{to:"/",replace:!0}):S.jsx(bme,{})}),S.jsxs(Pa,{path:"/",element:S.jsx(wme,{children:S.jsx(S$,{})}),children:[S.jsx(Pa,{index:!0,element:t?S.jsx(wf,{to:"/inventory",replace:!0}):S.jsx(hfe,{})}),S.jsx(Pa,{path:"entry",element:S.jsx(Nc,{children:S.jsx(ede,{})})}),S.jsx(Pa,{path:"warehouse",element:S.jsx(Nc,{children:S.jsx(che,{})})}),S.jsx(Pa,{path:"inventory",element:S.jsx(bge,{})}),S.jsx(Pa,{path:"consolidation",element:S.jsx(Nc,{children:S.jsx(Age,{})})}),S.jsx(Pa,{path:"billing",element:S.jsx(fme,{})}),S.jsx(Pa,{path:"settings",element:S.jsx(Nc,{children:S.jsx(dme,{})})}),S.jsx(Pa,{path:"tariffs",element:S.jsx(Nc,{children:S.jsx(hme,{})})}),S.jsx(Pa,{path:"users",element:S.jsx(Nc,{children:S.jsx(pme,{})})}),S.jsx(Pa,{path:"branches",element:S.jsx(Nc,{children:S.jsx(gme,{})})}),S.jsx(Pa,{path:"expenses",element:S.jsx(Nc,{children:S.jsx(yme,{})})}),S.jsx(Pa,{path:"reports",element:S.jsx(Nc,{children:S.jsx(xme,{})})}),S.jsx(Pa,{path:"payments",element:S.jsx(wf,{to:"/billing",replace:!0})}),S.jsx(Pa,{path:"geography",element:S.jsx(Nc,{children:S.jsx(wf,{to:"/settings",replace:!0})})})]}),S.jsx(Pa,{path:"*",element:S.jsx(wf,{to:"/",replace:!0})})]})}function Ame(){return S.jsx(VU,{children:S.jsx(LH,{children:S.jsx(_me,{})})})}AF.createRoot(document.getElementById("root")).render(S.jsx(D.StrictMode,{children:S.jsx(Ame,{})}));export{Un as _,qg as c,qc as g};
