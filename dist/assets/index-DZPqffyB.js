var MF=Object.defineProperty;var PF=(e,t,r)=>t in e?MF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Nn=(e,t,r)=>PF(e,typeof t!="symbol"?t+"":t,r);function RF(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Vm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lx={exports:{}},w1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nN;function DF(){if(nN)return w1;nN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var u in a)u!=="key"&&(i[u]=a[u])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:o,ref:a!==void 0?a:null,props:i}}return w1.Fragment=t,w1.jsx=r,w1.jsxs=r,w1}var aN;function LF(){return aN||(aN=1,lx.exports=DF()),lx.exports}var b=LF(),cx={exports:{}},Rr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iN;function BF(){if(iN)return Rr;iN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function y(oe){return oe===null||typeof oe!="object"?null:(oe=x&&oe[x]||oe["@@iterator"],typeof oe=="function"?oe:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,T={};function j(oe,Y,le){this.props=oe,this.context=Y,this.refs=T,this.updater=le||E}j.prototype.isReactComponent={},j.prototype.setState=function(oe,Y){if(typeof oe!="object"&&typeof oe!="function"&&oe!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,oe,Y,"setState")},j.prototype.forceUpdate=function(oe){this.updater.enqueueForceUpdate(this,oe,"forceUpdate")};function D(){}D.prototype=j.prototype;function F(oe,Y,le){this.props=oe,this.context=Y,this.refs=T,this.updater=le||E}var U=F.prototype=new D;U.constructor=F,N(U,j.prototype),U.isPureReactComponent=!0;var Z=Array.isArray;function X(){}var $={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function q(oe,Y,le){var me=le.ref;return{$$typeof:e,type:oe,key:Y,ref:me!==void 0?me:null,props:le}}function se(oe,Y){return q(oe.type,Y,oe.props)}function H(oe){return typeof oe=="object"&&oe!==null&&oe.$$typeof===e}function G(oe){var Y={"=":"=0",":":"=2"};return"$"+oe.replace(/[=:]/g,function(le){return Y[le]})}var ue=/\/+/g;function J(oe,Y){return typeof oe=="object"&&oe!==null&&oe.key!=null?G(""+oe.key):Y.toString(36)}function ae(oe){switch(oe.status){case"fulfilled":return oe.value;case"rejected":throw oe.reason;default:switch(typeof oe.status=="string"?oe.then(X,X):(oe.status="pending",oe.then(function(Y){oe.status==="pending"&&(oe.status="fulfilled",oe.value=Y)},function(Y){oe.status==="pending"&&(oe.status="rejected",oe.reason=Y)})),oe.status){case"fulfilled":return oe.value;case"rejected":throw oe.reason}}throw oe}function re(oe,Y,le,me,Ce){var we=typeof oe;(we==="undefined"||we==="boolean")&&(oe=null);var Me=!1;if(oe===null)Me=!0;else switch(we){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(oe.$$typeof){case e:case t:Me=!0;break;case h:return Me=oe._init,re(Me(oe._payload),Y,le,me,Ce)}}if(Me)return Ce=Ce(oe),Me=me===""?"."+J(oe,0):me,Z(Ce)?(le="",Me!=null&&(le=Me.replace(ue,"$&/")+"/"),re(Ce,Y,le,"",function(Ge){return Ge})):Ce!=null&&(H(Ce)&&(Ce=se(Ce,le+(Ce.key==null||oe&&oe.key===Ce.key?"":(""+Ce.key).replace(ue,"$&/")+"/")+Me)),Y.push(Ce)),1;Me=0;var ze=me===""?".":me+":";if(Z(oe))for(var Te=0;Te<oe.length;Te++)me=oe[Te],we=ze+J(me,Te),Me+=re(me,Y,le,we,Ce);else if(Te=y(oe),typeof Te=="function")for(oe=Te.call(oe),Te=0;!(me=oe.next()).done;)me=me.value,we=ze+J(me,Te++),Me+=re(me,Y,le,we,Ce);else if(we==="object"){if(typeof oe.then=="function")return re(ae(oe),Y,le,me,Ce);throw Y=String(oe),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(oe).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Me}function he(oe,Y,le){if(oe==null)return oe;var me=[],Ce=0;return re(oe,me,"","",function(we){return Y.call(le,we,Ce++)}),me}function Se(oe){if(oe._status===-1){var Y=oe._result;Y=Y(),Y.then(function(le){(oe._status===0||oe._status===-1)&&(oe._status=1,oe._result=le)},function(le){(oe._status===0||oe._status===-1)&&(oe._status=2,oe._result=le)}),oe._status===-1&&(oe._status=0,oe._result=Y)}if(oe._status===1)return oe._result.default;throw oe._result}var pe=typeof reportError=="function"?reportError:function(oe){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof oe=="object"&&oe!==null&&typeof oe.message=="string"?String(oe.message):String(oe),error:oe});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",oe);return}console.error(oe)},be={map:he,forEach:function(oe,Y,le){he(oe,function(){Y.apply(this,arguments)},le)},count:function(oe){var Y=0;return he(oe,function(){Y++}),Y},toArray:function(oe){return he(oe,function(Y){return Y})||[]},only:function(oe){if(!H(oe))throw Error("React.Children.only expected to receive a single React element child.");return oe}};return Rr.Activity=g,Rr.Children=be,Rr.Component=j,Rr.Fragment=r,Rr.Profiler=a,Rr.PureComponent=F,Rr.StrictMode=n,Rr.Suspense=d,Rr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Rr.__COMPILER_RUNTIME={__proto__:null,c:function(oe){return $.H.useMemoCache(oe)}},Rr.cache=function(oe){return function(){return oe.apply(null,arguments)}},Rr.cacheSignal=function(){return null},Rr.cloneElement=function(oe,Y,le){if(oe==null)throw Error("The argument must be a React element, but you passed "+oe+".");var me=N({},oe.props),Ce=oe.key;if(Y!=null)for(we in Y.key!==void 0&&(Ce=""+Y.key),Y)!Q.call(Y,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&Y.ref===void 0||(me[we]=Y[we]);var we=arguments.length-2;if(we===1)me.children=le;else if(1<we){for(var Me=Array(we),ze=0;ze<we;ze++)Me[ze]=arguments[ze+2];me.children=Me}return q(oe.type,Ce,me)},Rr.createContext=function(oe){return oe={$$typeof:o,_currentValue:oe,_currentValue2:oe,_threadCount:0,Provider:null,Consumer:null},oe.Provider=oe,oe.Consumer={$$typeof:i,_context:oe},oe},Rr.createElement=function(oe,Y,le){var me,Ce={},we=null;if(Y!=null)for(me in Y.key!==void 0&&(we=""+Y.key),Y)Q.call(Y,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ce[me]=Y[me]);var Me=arguments.length-2;if(Me===1)Ce.children=le;else if(1<Me){for(var ze=Array(Me),Te=0;Te<Me;Te++)ze[Te]=arguments[Te+2];Ce.children=ze}if(oe&&oe.defaultProps)for(me in Me=oe.defaultProps,Me)Ce[me]===void 0&&(Ce[me]=Me[me]);return q(oe,we,Ce)},Rr.createRef=function(){return{current:null}},Rr.forwardRef=function(oe){return{$$typeof:u,render:oe}},Rr.isValidElement=H,Rr.lazy=function(oe){return{$$typeof:h,_payload:{_status:-1,_result:oe},_init:Se}},Rr.memo=function(oe,Y){return{$$typeof:c,type:oe,compare:Y===void 0?null:Y}},Rr.startTransition=function(oe){var Y=$.T,le={};$.T=le;try{var me=oe(),Ce=$.S;Ce!==null&&Ce(le,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(X,pe)}catch(we){pe(we)}finally{Y!==null&&le.types!==null&&(Y.types=le.types),$.T=Y}},Rr.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Rr.use=function(oe){return $.H.use(oe)},Rr.useActionState=function(oe,Y,le){return $.H.useActionState(oe,Y,le)},Rr.useCallback=function(oe,Y){return $.H.useCallback(oe,Y)},Rr.useContext=function(oe){return $.H.useContext(oe)},Rr.useDebugValue=function(){},Rr.useDeferredValue=function(oe,Y){return $.H.useDeferredValue(oe,Y)},Rr.useEffect=function(oe,Y){return $.H.useEffect(oe,Y)},Rr.useEffectEvent=function(oe){return $.H.useEffectEvent(oe)},Rr.useId=function(){return $.H.useId()},Rr.useImperativeHandle=function(oe,Y,le){return $.H.useImperativeHandle(oe,Y,le)},Rr.useInsertionEffect=function(oe,Y){return $.H.useInsertionEffect(oe,Y)},Rr.useLayoutEffect=function(oe,Y){return $.H.useLayoutEffect(oe,Y)},Rr.useMemo=function(oe,Y){return $.H.useMemo(oe,Y)},Rr.useOptimistic=function(oe,Y){return $.H.useOptimistic(oe,Y)},Rr.useReducer=function(oe,Y,le){return $.H.useReducer(oe,Y,le)},Rr.useRef=function(oe){return $.H.useRef(oe)},Rr.useState=function(oe){return $.H.useState(oe)},Rr.useSyncExternalStore=function(oe,Y,le){return $.H.useSyncExternalStore(oe,Y,le)},Rr.useTransition=function(){return $.H.useTransition()},Rr.version="19.2.4",Rr}var sN;function S0(){return sN||(sN=1,cx.exports=BF()),cx.exports}var R=S0();const VI=Wc(R),FF=RF({__proto__:null,default:VI},[R]);var ux={exports:{}},_1={},fx={exports:{}},dx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oN;function UF(){return oN||(oN=1,(function(e){function t(re,he){var Se=re.length;re.push(he);e:for(;0<Se;){var pe=Se-1>>>1,be=re[pe];if(0<a(be,he))re[pe]=he,re[Se]=be,Se=pe;else break e}}function r(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var he=re[0],Se=re.pop();if(Se!==he){re[0]=Se;e:for(var pe=0,be=re.length,oe=be>>>1;pe<oe;){var Y=2*(pe+1)-1,le=re[Y],me=Y+1,Ce=re[me];if(0>a(le,Se))me<be&&0>a(Ce,le)?(re[pe]=Ce,re[me]=Se,pe=me):(re[pe]=le,re[Y]=Se,pe=Y);else if(me<be&&0>a(Ce,Se))re[pe]=Ce,re[me]=Se,pe=me;else break e}}return he}function a(re,he){var Se=re.sortIndex-he.sortIndex;return Se!==0?Se:re.id-he.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var d=[],c=[],h=1,g=null,x=3,y=!1,E=!1,N=!1,T=!1,j=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function U(re){for(var he=r(c);he!==null;){if(he.callback===null)n(c);else if(he.startTime<=re)n(c),he.sortIndex=he.expirationTime,t(d,he);else break;he=r(c)}}function Z(re){if(N=!1,U(re),!E)if(r(d)!==null)E=!0,X||(X=!0,G());else{var he=r(c);he!==null&&ae(Z,he.startTime-re)}}var X=!1,$=-1,Q=5,q=-1;function se(){return T?!0:!(e.unstable_now()-q<Q)}function H(){if(T=!1,X){var re=e.unstable_now();q=re;var he=!0;try{e:{E=!1,N&&(N=!1,D($),$=-1),y=!0;var Se=x;try{t:{for(U(re),g=r(d);g!==null&&!(g.expirationTime>re&&se());){var pe=g.callback;if(typeof pe=="function"){g.callback=null,x=g.priorityLevel;var be=pe(g.expirationTime<=re);if(re=e.unstable_now(),typeof be=="function"){g.callback=be,U(re),he=!0;break t}g===r(d)&&n(d),U(re)}else n(d);g=r(d)}if(g!==null)he=!0;else{var oe=r(c);oe!==null&&ae(Z,oe.startTime-re),he=!1}}break e}finally{g=null,x=Se,y=!1}he=void 0}}finally{he?G():X=!1}}}var G;if(typeof F=="function")G=function(){F(H)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,J=ue.port2;ue.port1.onmessage=H,G=function(){J.postMessage(null)}}else G=function(){j(H,0)};function ae(re,he){$=j(function(){re(e.unstable_now())},he)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(re){switch(x){case 1:case 2:case 3:var he=3;break;default:he=x}var Se=x;x=he;try{return re()}finally{x=Se}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(re,he){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var Se=x;x=re;try{return he()}finally{x=Se}},e.unstable_scheduleCallback=function(re,he,Se){var pe=e.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?pe+Se:pe):Se=pe,re){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=Se+be,re={id:h++,callback:he,priorityLevel:re,startTime:Se,expirationTime:be,sortIndex:-1},Se>pe?(re.sortIndex=Se,t(c,re),r(d)===null&&re===r(c)&&(N?(D($),$=-1):N=!0,ae(Z,Se-pe))):(re.sortIndex=be,t(d,re),E||y||(E=!0,X||(X=!0,G()))),re},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(re){var he=x;return function(){var Se=x;x=he;try{return re.apply(this,arguments)}finally{x=Se}}}})(dx)),dx}var lN;function zF(){return lN||(lN=1,fx.exports=UF()),fx.exports}var hx={exports:{}},Is={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cN;function qF(){if(cN)return Is;cN=1;var e=S0();function t(d){var c="https://react.dev/errors/"+d;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(d,c,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:c,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,c){if(d==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Is.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Is.createPortal=function(d,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return i(d,c,null,h)},Is.flushSync=function(d){var c=o.T,h=n.p;try{if(o.T=null,n.p=2,d)return d()}finally{o.T=c,n.p=h,n.d.f()}},Is.preconnect=function(d,c){typeof d=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,n.d.C(d,c))},Is.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Is.preinit=function(d,c){if(typeof d=="string"&&c&&typeof c.as=="string"){var h=c.as,g=u(h,c.crossOrigin),x=typeof c.integrity=="string"?c.integrity:void 0,y=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;h==="style"?n.d.S(d,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:y}):h==="script"&&n.d.X(d,{crossOrigin:g,integrity:x,fetchPriority:y,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Is.preinitModule=function(d,c){if(typeof d=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var h=u(c.as,c.crossOrigin);n.d.M(d,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&n.d.M(d)},Is.preload=function(d,c){if(typeof d=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var h=c.as,g=u(h,c.crossOrigin);n.d.L(d,h,{crossOrigin:g,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Is.preloadModule=function(d,c){if(typeof d=="string")if(c){var h=u(c.as,c.crossOrigin);n.d.m(d,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else n.d.m(d)},Is.requestFormReset=function(d){n.d.r(d)},Is.unstable_batchedUpdates=function(d,c){return d(c)},Is.useFormState=function(d,c,h){return o.H.useFormState(d,c,h)},Is.useFormStatus=function(){return o.H.useHostTransitionStatus()},Is.version="19.2.4",Is}var uN;function YI(){if(uN)return hx.exports;uN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hx.exports=qF(),hx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fN;function HF(){if(fN)return _1;fN=1;var e=zF(),t=S0(),r=YI();function n(s){var f="https://react.dev/errors/"+s;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+s+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function i(s){var f=s,v=s;if(s.alternate)for(;f.return;)f=f.return;else{s=f;do f=s,(f.flags&4098)!==0&&(v=f.return),s=f.return;while(s)}return f.tag===3?v:null}function o(s){if(s.tag===13){var f=s.memoizedState;if(f===null&&(s=s.alternate,s!==null&&(f=s.memoizedState)),f!==null)return f.dehydrated}return null}function u(s){if(s.tag===31){var f=s.memoizedState;if(f===null&&(s=s.alternate,s!==null&&(f=s.memoizedState)),f!==null)return f.dehydrated}return null}function d(s){if(i(s)!==s)throw Error(n(188))}function c(s){var f=s.alternate;if(!f){if(f=i(s),f===null)throw Error(n(188));return f!==s?null:s}for(var v=s,S=f;;){var k=v.return;if(k===null)break;var P=k.alternate;if(P===null){if(S=k.return,S!==null){v=S;continue}break}if(k.child===P.child){for(P=k.child;P;){if(P===v)return d(k),s;if(P===S)return d(k),f;P=P.sibling}throw Error(n(188))}if(v.return!==S.return)v=k,S=P;else{for(var K=!1,ge=k.child;ge;){if(ge===v){K=!0,v=k,S=P;break}if(ge===S){K=!0,S=k,v=P;break}ge=ge.sibling}if(!K){for(ge=P.child;ge;){if(ge===v){K=!0,v=P,S=k;break}if(ge===S){K=!0,S=P,v=k;break}ge=ge.sibling}if(!K)throw Error(n(189))}}if(v.alternate!==S)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?s:f}function h(s){var f=s.tag;if(f===5||f===26||f===27||f===6)return s;for(s=s.child;s!==null;){if(f=h(s),f!==null)return f;s=s.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),F=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function G(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var ue=Symbol.for("react.client.reference");function J(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===ue?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case j:return"Profiler";case T:return"StrictMode";case Z:return"Suspense";case X:return"SuspenseList";case q:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case F:return s.displayName||"Context";case D:return(s._context.displayName||"Context")+".Consumer";case U:var f=s.render;return s=s.displayName,s||(s=f.displayName||f.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case $:return f=s.displayName||null,f!==null?f:J(s.type)||"Memo";case Q:f=s._payload,s=s._init;try{return J(s(f))}catch{}}return null}var ae=Array.isArray,re=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se={pending:!1,data:null,method:null,action:null},pe=[],be=-1;function oe(s){return{current:s}}function Y(s){0>be||(s.current=pe[be],pe[be]=null,be--)}function le(s,f){be++,pe[be]=s.current,s.current=f}var me=oe(null),Ce=oe(null),we=oe(null),Me=oe(null);function ze(s,f){switch(le(we,f),le(Ce,s),le(me,null),f.nodeType){case 9:case 11:s=(s=f.documentElement)&&(s=s.namespaceURI)?NE(s):0;break;default:if(s=f.tagName,f=f.namespaceURI)f=NE(f),s=CE(f,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Y(me),le(me,s)}function Te(){Y(me),Y(Ce),Y(we)}function Ge(s){s.memoizedState!==null&&le(Me,s);var f=me.current,v=CE(f,s.type);f!==v&&(le(Ce,s),le(me,v))}function Je(s){Ce.current===s&&(Y(me),Y(Ce)),Me.current===s&&(Y(Me),v1._currentValue=Se)}var qe,lt;function yt(s){if(qe===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);qe=f&&f[1]||"",lt=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qe+s+lt}var ye=!1;function wt(s,f){if(!s||ye)return"";ye=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(f){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(tt){var Qe=tt}Reflect.construct(s,[],mt)}else{try{mt.call()}catch(tt){Qe=tt}s.call(mt.prototype)}}else{try{throw Error()}catch(tt){Qe=tt}(mt=s())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(tt){if(tt&&Qe&&typeof tt.stack=="string")return[tt.stack,Qe.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=S.DetermineComponentFrameRoot(),K=P[0],ge=P[1];if(K&&ge){var ke=K.split(`
`),Xe=ge.split(`
`);for(k=S=0;S<ke.length&&!ke[S].includes("DetermineComponentFrameRoot");)S++;for(;k<Xe.length&&!Xe[k].includes("DetermineComponentFrameRoot");)k++;if(S===ke.length||k===Xe.length)for(S=ke.length-1,k=Xe.length-1;1<=S&&0<=k&&ke[S]!==Xe[k];)k--;for(;1<=S&&0<=k;S--,k--)if(ke[S]!==Xe[k]){if(S!==1||k!==1)do if(S--,k--,0>k||ke[S]!==Xe[k]){var ft=`
`+ke[S].replace(" at new "," at ");return s.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",s.displayName)),ft}while(1<=S&&0<=k);break}}}finally{ye=!1,Error.prepareStackTrace=v}return(v=s?s.displayName||s.name:"")?yt(v):""}function Rt(s,f){switch(s.tag){case 26:case 27:case 5:return yt(s.type);case 16:return yt("Lazy");case 13:return s.child!==f&&f!==null?yt("Suspense Fallback"):yt("Suspense");case 19:return yt("SuspenseList");case 0:case 15:return wt(s.type,!1);case 11:return wt(s.type.render,!1);case 1:return wt(s.type,!0);case 31:return yt("Activity");default:return""}}function _t(s){try{var f="",v=null;do f+=Rt(s,v),v=s,s=s.return;while(s);return f}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}var rt=Object.prototype.hasOwnProperty,er=e.unstable_scheduleCallback,it=e.unstable_cancelCallback,ar=e.unstable_shouldYield,ir=e.unstable_requestPaint,vr=e.unstable_now,Br=e.unstable_getCurrentPriorityLevel,lr=e.unstable_ImmediatePriority,Ur=e.unstable_UserBlockingPriority,Nr=e.unstable_NormalPriority,Tt=e.unstable_LowPriority,Tr=e.unstable_IdlePriority,Ht=e.log,ca=e.unstable_setDisableYieldValue,tr=null,nt=null;function Dt(s){if(typeof Ht=="function"&&ca(s),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(tr,s)}catch{}}var Ft=Math.clz32?Math.clz32:hr,Ct=Math.log,cn=Math.LN2;function hr(s){return s>>>=0,s===0?32:31-(Ct(s)/cn|0)|0}var wr=256,Xt=262144,_r=4194304;function Kt(s){var f=s&42;if(f!==0)return f;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Yr(s,f,v){var S=s.pendingLanes;if(S===0)return 0;var k=0,P=s.suspendedLanes,K=s.pingedLanes;s=s.warmLanes;var ge=S&134217727;return ge!==0?(S=ge&~P,S!==0?k=Kt(S):(K&=ge,K!==0?k=Kt(K):v||(v=ge&~s,v!==0&&(k=Kt(v))))):(ge=S&~P,ge!==0?k=Kt(ge):K!==0?k=Kt(K):v||(v=S&~s,v!==0&&(k=Kt(v)))),k===0?0:f!==0&&f!==k&&(f&P)===0&&(P=k&-k,v=f&-f,P>=v||P===32&&(v&4194048)!==0)?f:k}function ua(s,f){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&f)===0}function Ra(s,f){switch(s){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jn(){var s=_r;return _r<<=1,(_r&62914560)===0&&(_r=4194304),s}function ti(s){for(var f=[],v=0;31>v;v++)f.push(s);return f}function Zt(s,f){s.pendingLanes|=f,f!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Da(s,f,v,S,k,P){var K=s.pendingLanes;s.pendingLanes=v,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=v,s.entangledLanes&=v,s.errorRecoveryDisabledLanes&=v,s.shellSuspendCounter=0;var ge=s.entanglements,ke=s.expirationTimes,Xe=s.hiddenUpdates;for(v=K&~v;0<v;){var ft=31-Ft(v),mt=1<<ft;ge[ft]=0,ke[ft]=-1;var Qe=Xe[ft];if(Qe!==null)for(Xe[ft]=null,ft=0;ft<Qe.length;ft++){var tt=Qe[ft];tt!==null&&(tt.lane&=-536870913)}v&=~mt}S!==0&&ao(s,S,0),P!==0&&k===0&&s.tag!==0&&(s.suspendedLanes|=P&~(K&~f))}function ao(s,f,v){s.pendingLanes|=f,s.suspendedLanes&=~f;var S=31-Ft(f);s.entangledLanes|=f,s.entanglements[S]=s.entanglements[S]|1073741824|v&261930}function Ta(s,f){var v=s.entangledLanes|=f;for(s=s.entanglements;v;){var S=31-Ft(v),k=1<<S;k&f|s[S]&f&&(s[S]|=f),v&=~k}}function Ei(s,f){var v=f&-f;return v=(v&42)!==0?1:zr(v),(v&(s.suspendedLanes|f))!==0?0:v}function zr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Cn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function hn(){var s=he.p;return s!==0?s:(s=window.event,s===void 0?32:KE(s.type))}function Ot(s,f){var v=he.p;try{return he.p=s,f()}finally{he.p=v}}var xa=Math.random().toString(36).slice(2),pn="__reactFiber$"+xa,Hr="__reactProps$"+xa,fa="__reactContainer$"+xa,pi="__reactEvents$"+xa,Ni="__reactListeners$"+xa,mi="__reactHandles$"+xa,Us="__reactResources$"+xa,zs="__reactMarker$"+xa;function ri(s){delete s[pn],delete s[Hr],delete s[pi],delete s[Ni],delete s[mi]}function kn(s){var f=s[pn];if(f)return f;for(var v=s.parentNode;v;){if(f=v[fa]||v[pn]){if(v=f.alternate,f.child!==null||v!==null&&v.child!==null)for(s=PE(s);s!==null;){if(v=s[pn])return v;s=PE(s)}return f}s=v,v=s.parentNode}return null}function Xr(s){if(s=s[pn]||s[fa]){var f=s.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return s}return null}function sl(s){var f=s.tag;if(f===5||f===26||f===27||f===6)return s.stateNode;throw Error(n(33))}function ni(s){var f=s[Us];return f||(f=s[Us]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Yn(s){s[zs]=!0}var gt=new Set,fs={};function rn(s,f){Hi(s,f),Hi(s+"Capture",f)}function Hi(s,f){for(fs[s]=f,s=0;s<f.length;s++)gt.add(f[s])}var Yc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kr={},Wr={};function Fr(s){return rt.call(Wr,s)?!0:rt.call(Kr,s)?!1:Yc.test(s)?Wr[s]=!0:(Kr[s]=!0,!1)}function Ci(s,f,v){if(Fr(f))if(v===null)s.removeAttribute(f);else{switch(typeof v){case"undefined":case"function":case"symbol":s.removeAttribute(f);return;case"boolean":var S=f.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){s.removeAttribute(f);return}}s.setAttribute(f,""+v)}}function qs(s,f,v){if(v===null)s.removeAttribute(f);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(f);return}s.setAttribute(f,""+v)}}function ds(s,f,v,S){if(S===null)s.removeAttribute(v);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(v);return}s.setAttributeNS(f,v,""+S)}}function yr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ss(s){var f=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function io(s,f,v){var S=Object.getOwnPropertyDescriptor(s.constructor.prototype,f);if(!s.hasOwnProperty(f)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var k=S.get,P=S.set;return Object.defineProperty(s,f,{configurable:!0,get:function(){return k.call(this)},set:function(K){v=""+K,P.call(this,K)}}),Object.defineProperty(s,f,{enumerable:S.enumerable}),{getValue:function(){return v},setValue:function(K){v=""+K},stopTracking:function(){s._valueTracker=null,delete s[f]}}}}function bn(s){if(!s._valueTracker){var f=Ss(s)?"checked":"value";s._valueTracker=io(s,f,""+s[f])}}function As(s){if(!s)return!1;var f=s._valueTracker;if(!f)return!0;var v=f.getValue(),S="";return s&&(S=Ss(s)?s.checked?"true":"false":s.value),s=S,s!==v?(f.setValue(s),!0):!1}function Oi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var zn=/[\n"\\]/g;function Or(s){return s.replace(zn,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function da(s,f,v,S,k,P,K,ge){s.name="",K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?s.type=K:s.removeAttribute("type"),f!=null?K==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+yr(f)):s.value!==""+yr(f)&&(s.value=""+yr(f)):K!=="submit"&&K!=="reset"||s.removeAttribute("value"),f!=null?_e(s,K,yr(f)):v!=null?_e(s,K,yr(v)):S!=null&&s.removeAttribute("value"),k==null&&P!=null&&(s.defaultChecked=!!P),k!=null&&(s.checked=k&&typeof k!="function"&&typeof k!="symbol"),ge!=null&&typeof ge!="function"&&typeof ge!="symbol"&&typeof ge!="boolean"?s.name=""+yr(ge):s.removeAttribute("name")}function $e(s,f,v,S,k,P,K,ge){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(s.type=P),f!=null||v!=null){if(!(P!=="submit"&&P!=="reset"||f!=null)){bn(s);return}v=v!=null?""+yr(v):"",f=f!=null?""+yr(f):v,ge||f===s.value||(s.value=f),s.defaultValue=f}S=S??k,S=typeof S!="function"&&typeof S!="symbol"&&!!S,s.checked=ge?s.checked:!!S,s.defaultChecked=!!S,K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(s.name=K),bn(s)}function _e(s,f,v){f==="number"&&Oi(s.ownerDocument)===s||s.defaultValue===""+v||(s.defaultValue=""+v)}function jt(s,f,v,S){if(s=s.options,f){f={};for(var k=0;k<v.length;k++)f["$"+v[k]]=!0;for(v=0;v<s.length;v++)k=f.hasOwnProperty("$"+s[v].value),s[v].selected!==k&&(s[v].selected=k),k&&S&&(s[v].defaultSelected=!0)}else{for(v=""+yr(v),f=null,k=0;k<s.length;k++){if(s[k].value===v){s[k].selected=!0,S&&(s[k].defaultSelected=!0);return}f!==null||s[k].disabled||(f=s[k])}f!==null&&(f.selected=!0)}}function ra(s,f,v){if(f!=null&&(f=""+yr(f),f!==s.value&&(s.value=f),v==null)){s.defaultValue!==f&&(s.defaultValue=f);return}s.defaultValue=v!=null?""+yr(v):""}function gi(s,f,v,S){if(f==null){if(S!=null){if(v!=null)throw Error(n(92));if(ae(S)){if(1<S.length)throw Error(n(93));S=S[0]}v=S}v==null&&(v=""),f=v}v=yr(f),s.defaultValue=v,S=s.textContent,S===v&&S!==""&&S!==null&&(s.value=S),bn(s)}function Hs(s,f){if(f){var v=s.firstChild;if(v&&v===s.lastChild&&v.nodeType===3){v.nodeValue=f;return}}s.textContent=f}var Po=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ti(s,f,v){var S=f.indexOf("--")===0;v==null||typeof v=="boolean"||v===""?S?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="":S?s.setProperty(f,v):typeof v!="number"||v===0||Po.has(f)?f==="float"?s.cssFloat=v:s[f]=(""+v).trim():s[f]=v+"px"}function rr(s,f,v){if(f!=null&&typeof f!="object")throw Error(n(62));if(s=s.style,v!=null){for(var S in v)!v.hasOwnProperty(S)||f!=null&&f.hasOwnProperty(S)||(S.indexOf("--")===0?s.setProperty(S,""):S==="float"?s.cssFloat="":s[S]="");for(var k in f)S=f[k],f.hasOwnProperty(k)&&v[k]!==S&&Ti(s,k,S)}else for(var P in f)f.hasOwnProperty(P)&&Ti(s,P,f[P])}function _n(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$u=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vi(s){return $u.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Gi(){}var Gs=null;function jl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var In=null,cr=null;function $s(s){var f=Xr(s);if(f&&(s=f.stateNode)){var v=s[Hr]||null;e:switch(s=f.stateNode,f.type){case"input":if(da(s,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name),f=v.name,v.type==="radio"&&f!=null){for(v=s;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll('input[name="'+Or(""+f)+'"][type="radio"]'),f=0;f<v.length;f++){var S=v[f];if(S!==s&&S.form===s.form){var k=S[Hr]||null;if(!k)throw Error(n(90));da(S,k.value,k.defaultValue,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name)}}for(f=0;f<v.length;f++)S=v[f],S.form===s.form&&As(S)}break e;case"textarea":ra(s,v.value,v.defaultValue);break e;case"select":f=v.value,f!=null&&jt(s,!!v.multiple,f,!1)}}}var ur=!1;function Wu(s,f,v){if(ur)return s(f,v);ur=!0;try{var S=s(f);return S}finally{if(ur=!1,(In!==null||cr!==null)&&(Em(),In&&(f=In,s=cr,cr=In=null,$s(f),s)))for(f=0;f<s.length;f++)$s(s[f])}}function fr(s,f){var v=s.stateNode;if(v===null)return null;var S=v[Hr]||null;if(S===null)return null;v=S[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(s=s.type,S=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!S;break e;default:s=!1}if(s)return null;if(v&&typeof v!="function")throw Error(n(231,f,typeof v));return v}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xc=!1;if(Qr)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){Xc=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{Xc=!1}var $i=null,hs=null,so=null;function ol(){if(so)return so;var s,f=hs,v=f.length,S,k="value"in $i?$i.value:$i.textContent,P=k.length;for(s=0;s<v&&f[s]===k[s];s++);var K=v-s;for(S=1;S<=K&&f[v-S]===k[P-S];S++);return so=k.slice(s,1<S?1-S:void 0)}function bi(s){var f=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&f===13&&(s=13)):s=f,s===10&&(s=13),32<=s||s===13?s:0}function oo(){return!0}function kl(){return!1}function na(s){function f(v,S,k,P,K){this._reactName=v,this._targetInst=k,this.type=S,this.nativeEvent=P,this.target=K,this.currentTarget=null;for(var ge in s)s.hasOwnProperty(ge)&&(v=s[ge],this[ge]=v?v(P):P[ge]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?oo:kl,this.isPropagationStopped=kl,this}return g(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=oo)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=oo)},persist:function(){},isPersistent:oo}),f}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mn=na(Wi),lo=g({},Wi,{view:0,detail:0}),Il=na(lo),ll,Do,Lo,Ml=g({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:br,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Lo&&(Lo&&s.type==="mousemove"?(ll=s.screenX-Lo.screenX,Do=s.screenY-Lo.screenY):Do=ll=0,Lo=s),ll)},movementY:function(s){return"movementY"in s?s.movementY:Do}}),nn=na(Ml),co=g({},Ml,{dataTransfer:0}),Es=na(co),Ws=g({},lo,{relatedTarget:0}),Bo=na(Ws),et=g({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),L=na(et),ne=g({},Wi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ee=na(ne),Ie=g({},Wi,{data:0}),Fe=na(Ie),dt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Et(s){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(s):(s=Pt[s])?!!f[s]:!1}function br(){return Et}var Lt=g({},lo,{key:function(s){if(s.key){var f=dt[s.key]||s.key;if(f!=="Unidentified")return f}return s.type==="keypress"?(s=bi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?bt[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:br,charCode:function(s){return s.type==="keypress"?bi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?bi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Gr=na(Lt),mn=g({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sr=na(mn),Nt=g({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:br}),ja=na(Nt),jr=g({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xn=na(jr),Vi=g({},Ml,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Vs=na(Vi),La=g({},Wi,{newState:0,oldState:0}),Pl=na(La),Rl=[9,13,27,32],Ns=Qr&&"CompositionEvent"in window,Cs=null;Qr&&"documentMode"in document&&(Cs=document.documentMode);var cl=Qr&&"TextEvent"in window&&!Cs,Fo=Qr&&(!Ns||Cs&&8<Cs&&11>=Cs),Kn=" ",uo=!1;function ul(s,f){switch(s){case"keyup":return Rl.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ho=!1;function aa(s,f){switch(s){case"compositionend":return fo(f);case"keypress":return f.which!==32?null:(uo=!0,Kn);case"textInput":return s=f.data,s===Kn&&uo?null:s;default:return null}}function Os(s,f){if(ho)return s==="compositionend"||!Ns&&ul(s,f)?(s=ol(),so=hs=$i=null,ho=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Fo&&f.locale!=="ko"?null:f.data;default:return null}}var ai={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hc(s){var f=s&&s.nodeName&&s.nodeName.toLowerCase();return f==="input"?!!ai[s.type]:f==="textarea"}function ia(s,f,v,S){In?cr?cr.push(S):cr=[S]:In=S,f=Im(f,"onChange"),0<f.length&&(v=new Mn("onChange","change",null,v,S),s.push({event:v,listeners:f}))}var Ys=null,Xs=null;function Kc(s){xE(s,0)}function Ts(s){var f=sl(s);if(As(f))return s}function ii(s,f){if(s==="change")return f}var Yi=!1;if(Qr){var si;if(Qr){var Xi="oninput"in document;if(!Xi){var Mr=document.createElement("div");Mr.setAttribute("oninput","return;"),Xi=typeof Mr.oninput=="function"}si=Xi}else si=!1;Yi=si&&(!document.documentMode||9<document.documentMode)}function js(){Ys&&(Ys.detachEvent("onpropertychange",ee),Xs=Ys=null)}function ee(s){if(s.propertyName==="value"&&Ts(Xs)){var f=[];ia(f,Xs,s,jl(s)),Wu(Kc,f)}}function l(s,f,v){s==="focusin"?(js(),Ys=f,Xs=v,Ys.attachEvent("onpropertychange",ee)):s==="focusout"&&js()}function p(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ts(Xs)}function m(s,f){if(s==="click")return Ts(f)}function w(s,f){if(s==="input"||s==="change")return Ts(f)}function _(s,f){return s===f&&(s!==0||1/s===1/f)||s!==s&&f!==f}var A=typeof Object.is=="function"?Object.is:_;function O(s,f){if(A(s,f))return!0;if(typeof s!="object"||s===null||typeof f!="object"||f===null)return!1;var v=Object.keys(s),S=Object.keys(f);if(v.length!==S.length)return!1;for(S=0;S<v.length;S++){var k=v[S];if(!rt.call(f,k)||!A(s[k],f[k]))return!1}return!0}function M(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function B(s,f){var v=M(s);s=0;for(var S;v;){if(v.nodeType===3){if(S=s+v.textContent.length,s<=f&&S>=f)return{node:v,offset:f-s};s=S}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=M(v)}}function W(s,f){return s&&f?s===f?!0:s&&s.nodeType===3?!1:f&&f.nodeType===3?W(s,f.parentNode):"contains"in s?s.contains(f):s.compareDocumentPosition?!!(s.compareDocumentPosition(f)&16):!1:!1}function te(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var f=Oi(s.document);f instanceof s.HTMLIFrameElement;){try{var v=typeof f.contentWindow.location.href=="string"}catch{v=!1}if(v)s=f.contentWindow;else break;f=Oi(s.document)}return f}function ce(s){var f=s&&s.nodeName&&s.nodeName.toLowerCase();return f&&(f==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||f==="textarea"||s.contentEditable==="true")}var Ae=Qr&&"documentMode"in document&&11>=document.documentMode,je=null,Pe=null,Be=null,Ze=!1;function ct(s,f,v){var S=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;Ze||je==null||je!==Oi(S)||(S=je,"selectionStart"in S&&ce(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),Be&&O(Be,S)||(Be=S,S=Im(Pe,"onSelect"),0<S.length&&(f=new Mn("onSelect","select",null,f,v),s.push({event:f,listeners:S}),f.target=je)))}function ut(s,f){var v={};return v[s.toLowerCase()]=f.toLowerCase(),v["Webkit"+s]="webkit"+f,v["Moz"+s]="moz"+f,v}var ot={animationend:ut("Animation","AnimationEnd"),animationiteration:ut("Animation","AnimationIteration"),animationstart:ut("Animation","AnimationStart"),transitionrun:ut("Transition","TransitionRun"),transitionstart:ut("Transition","TransitionStart"),transitioncancel:ut("Transition","TransitionCancel"),transitionend:ut("Transition","TransitionEnd")},nr={},pr={};Qr&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete ot.animationend.animation,delete ot.animationiteration.animation,delete ot.animationstart.animation),"TransitionEvent"in window||delete ot.transitionend.transition);function qn(s){if(nr[s])return nr[s];if(!ot[s])return s;var f=ot[s],v;for(v in f)if(f.hasOwnProperty(v)&&v in pr)return nr[s]=f[v];return s}var oi=qn("animationend"),Ba=qn("animationiteration"),gn=qn("animationstart"),Fa=qn("transitionrun"),Ki=qn("transitionstart"),Dl=qn("transitioncancel"),fl=qn("transitionend"),Gf=new Map,Ll="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ll.push("scrollEnd");function po(s,f){Gf.set(s,f),rn(f,[s])}var $f=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Ks=[],Zc=0,Jd=0;function Wf(){for(var s=Zc,f=Jd=Zc=0;f<s;){var v=Ks[f];Ks[f++]=null;var S=Ks[f];Ks[f++]=null;var k=Ks[f];Ks[f++]=null;var P=Ks[f];if(Ks[f++]=null,S!==null&&k!==null){var K=S.pending;K===null?k.next=k:(k.next=K.next,K.next=k),S.pending=k}P!==0&&Yf(v,k,P)}}function Vf(s,f,v,S){Ks[Zc++]=s,Ks[Zc++]=f,Ks[Zc++]=v,Ks[Zc++]=S,Jd|=S,s.lanes|=S,s=s.alternate,s!==null&&(s.lanes|=S)}function eh(s,f,v,S){return Vf(s,f,v,S),Zi(s)}function Bl(s,f){return Vf(s,null,null,f),Zi(s)}function Yf(s,f,v){s.lanes|=v;var S=s.alternate;S!==null&&(S.lanes|=v);for(var k=!1,P=s.return;P!==null;)P.childLanes|=v,S=P.alternate,S!==null&&(S.childLanes|=v),P.tag===22&&(s=P.stateNode,s===null||s._visibility&1||(k=!0)),s=P,P=P.return;return s.tag===3?(P=s.stateNode,k&&f!==null&&(k=31-Ft(v),s=P.hiddenUpdates,S=s[k],S===null?s[k]=[f]:S.push(f),f.lane=v|536870912),P):null}function Zi(s){if(50<u1)throw u1=0,Iy=null,Error(n(185));for(var f=s.return;f!==null;)s=f,f=s.return;return s.tag===3?s.stateNode:null}var ji={};function th(s,f,v,S){this.tag=s,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(s,f,v,S){return new th(s,f,v,S)}function rh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function mo(s,f){var v=s.alternate;return v===null?(v=Qi(s.tag,f,s.key,s.mode),v.elementType=s.elementType,v.type=s.type,v.stateNode=s.stateNode,v.alternate=s,s.alternate=v):(v.pendingProps=f,v.type=s.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=s.flags&65011712,v.childLanes=s.childLanes,v.lanes=s.lanes,v.child=s.child,v.memoizedProps=s.memoizedProps,v.memoizedState=s.memoizedState,v.updateQueue=s.updateQueue,f=s.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=s.sibling,v.index=s.index,v.ref=s.ref,v.refCleanup=s.refCleanup,v}function Xf(s,f){s.flags&=65011714;var v=s.alternate;return v===null?(s.childLanes=0,s.lanes=f,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=v.childLanes,s.lanes=v.lanes,s.child=v.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=v.memoizedProps,s.memoizedState=v.memoizedState,s.updateQueue=v.updateQueue,s.type=v.type,f=v.dependencies,s.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),s}function Vu(s,f,v,S,k,P){var K=0;if(S=s,typeof s=="function")rh(s)&&(K=1);else if(typeof s=="string")K=wF(s,v,me.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case q:return s=Qi(31,v,f,k),s.elementType=q,s.lanes=P,s;case N:return pc(v.children,k,P,f);case T:K=8,k|=24;break;case j:return s=Qi(12,v,f,k|2),s.elementType=j,s.lanes=P,s;case Z:return s=Qi(13,v,f,k),s.elementType=Z,s.lanes=P,s;case X:return s=Qi(19,v,f,k),s.elementType=X,s.lanes=P,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:K=10;break e;case D:K=9;break e;case U:K=11;break e;case $:K=14;break e;case Q:K=16,S=null;break e}K=29,v=Error(n(130,s===null?"null":typeof s,"")),S=null}return f=Qi(K,v,f,k),f.elementType=s,f.type=S,f.lanes=P,f}function pc(s,f,v,S){return s=Qi(7,s,S,f),s.lanes=v,s}function Kf(s,f,v){return s=Qi(6,s,null,f),s.lanes=v,s}function nh(s){var f=Qi(18,null,null,0);return f.stateNode=s,f}function Yu(s,f,v){return f=Qi(4,s.children!==null?s.children:[],s.key,f),f.lanes=v,f.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},f}var ah=new WeakMap;function go(s,f){if(typeof s=="object"&&s!==null){var v=ah.get(s);return v!==void 0?v:(f={value:s,source:f,stack:_t(f)},ah.set(s,f),f)}return{value:s,source:f,stack:_t(f)}}var Xu=[],Qc=0,ih=null,Zf=0,vo=[],bo=0,mc=null,yo=1,xo="";function Zs(s,f){Xu[Qc++]=Zf,Xu[Qc++]=ih,ih=s,Zf=f}function am(s,f,v){vo[bo++]=yo,vo[bo++]=xo,vo[bo++]=mc,mc=s;var S=yo;s=xo;var k=32-Ft(S)-1;S&=~(1<<k),v+=1;var P=32-Ft(f)+k;if(30<P){var K=k-k%5;P=(S&(1<<K)-1).toString(32),S>>=K,k-=K,yo=1<<32-Ft(f)+k|v<<k|S,xo=P+s}else yo=1<<P|v<<k|S,xo=s}function H0(s){s.return!==null&&(Zs(s,1),am(s,1,0))}function sh(s){for(;s===ih;)ih=Xu[--Qc],Xu[Qc]=null,Zf=Xu[--Qc],Xu[Qc]=null;for(;s===mc;)mc=vo[--bo],vo[bo]=null,xo=vo[--bo],vo[bo]=null,yo=vo[--bo],vo[bo]=null}function im(s,f){vo[bo++]=yo,vo[bo++]=xo,vo[bo++]=mc,yo=f.id,xo=f.overflow,mc=s}var ki=null,Zn=null,Jr=!1,ps=null,wa=!1,Uo=Error(n(519));function gc(s){var f=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ku(go(f,s)),Uo}function G0(s){var f=s.stateNode,v=s.type,S=s.memoizedProps;switch(f[pn]=s,f[Hr]=S,v){case"dialog":tn("cancel",f),tn("close",f);break;case"iframe":case"object":case"embed":tn("load",f);break;case"video":case"audio":for(v=0;v<d1.length;v++)tn(d1[v],f);break;case"source":tn("error",f);break;case"img":case"image":case"link":tn("error",f),tn("load",f);break;case"details":tn("toggle",f);break;case"input":tn("invalid",f),$e(f,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0);break;case"select":tn("invalid",f);break;case"textarea":tn("invalid",f),gi(f,S.value,S.defaultValue,S.children)}v=S.children,typeof v!="string"&&typeof v!="number"&&typeof v!="bigint"||f.textContent===""+v||S.suppressHydrationWarning===!0||AE(f.textContent,v)?(S.popover!=null&&(tn("beforetoggle",f),tn("toggle",f)),S.onScroll!=null&&tn("scroll",f),S.onScrollEnd!=null&&tn("scrollend",f),S.onClick!=null&&(f.onclick=Gi),f=!0):f=!1,f||gc(s,!0)}function Fl(s){for(ki=s.return;ki;)switch(ki.tag){case 5:case 31:case 13:wa=!1;return;case 27:case 3:wa=!0;return;default:ki=ki.return}}function Ii(s){if(s!==ki)return!1;if(!Jr)return Fl(s),Jr=!0,!1;var f=s.tag,v;if((v=f!==3&&f!==27)&&((v=f===5)&&(v=s.type,v=!(v!=="form"&&v!=="button")||Vy(s.type,s.memoizedProps)),v=!v),v&&Zn&&gc(s),Fl(s),f===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Zn=ME(s)}else if(f===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Zn=ME(s)}else f===27?(f=Zn,ff(s.type)?(s=Qy,Qy=null,Zn=s):Zn=f):Zn=ki?ml(s.stateNode.nextSibling):null;return!0}function Jc(){Zn=ki=null,Jr=!1}function $0(){var s=ps;return s!==null&&(No===null?No=s:No.push.apply(No,s),ps=null),s}function Ku(s){ps===null?ps=[s]:ps.push(s)}var oh=oe(null),vc=null,dl=null;function bc(s,f,v){le(oh,f._currentValue),f._currentValue=v}function wo(s){s._currentValue=oh.current,Y(oh)}function Zu(s,f,v){for(;s!==null;){var S=s.alternate;if((s.childLanes&f)!==f?(s.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),s===v)break;s=s.return}}function eu(s,f,v,S){var k=s.child;for(k!==null&&(k.return=s);k!==null;){var P=k.dependencies;if(P!==null){var K=k.child;P=P.firstContext;e:for(;P!==null;){var ge=P;P=k;for(var ke=0;ke<f.length;ke++)if(ge.context===f[ke]){P.lanes|=v,ge=P.alternate,ge!==null&&(ge.lanes|=v),Zu(P.return,v,s),S||(K=null);break e}P=ge.next}}else if(k.tag===18){if(K=k.return,K===null)throw Error(n(341));K.lanes|=v,P=K.alternate,P!==null&&(P.lanes|=v),Zu(K,v,s),K=null}else K=k.child;if(K!==null)K.return=k;else for(K=k;K!==null;){if(K===s){K=null;break}if(k=K.sibling,k!==null){k.return=K.return,K=k;break}K=K.return}k=K}}function yc(s,f,v,S){s=null;for(var k=f,P=!1;k!==null;){if(!P){if((k.flags&524288)!==0)P=!0;else if((k.flags&262144)!==0)break}if(k.tag===10){var K=k.alternate;if(K===null)throw Error(n(387));if(K=K.memoizedProps,K!==null){var ge=k.type;A(k.pendingProps.value,K.value)||(s!==null?s.push(ge):s=[ge])}}else if(k===Me.current){if(K=k.alternate,K===null)throw Error(n(387));K.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(s!==null?s.push(v1):s=[v1])}k=k.return}s!==null&&eu(f,s,v,S),f.flags|=262144}function lh(s){for(s=s.firstContext;s!==null;){if(!A(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function xc(s){vc=s,dl=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Mi(s){return sm(vc,s)}function ch(s,f){return vc===null&&xc(s),sm(s,f)}function sm(s,f){var v=f._currentValue;if(f={context:f,memoizedValue:v,next:null},dl===null){if(s===null)throw Error(n(308));dl=f,s.dependencies={lanes:0,firstContext:f},s.flags|=524288}else dl=dl.next=f;return v}var Z2=typeof AbortController<"u"?AbortController:function(){var s=[],f=this.signal={aborted:!1,addEventListener:function(v,S){s.push(S)}};this.abort=function(){f.aborted=!0,s.forEach(function(v){return v()})}},Q2=e.unstable_scheduleCallback,J2=e.unstable_NormalPriority,ka={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qu(){return{controller:new Z2,data:new Map,refCount:0}}function Qf(s){s.refCount--,s.refCount===0&&Q2(J2,function(){s.controller.abort()})}var Jf=null,uh=0,C=0,I=null;function z(s,f){if(Jf===null){var v=Jf=[];uh=0,C=By(),I={status:"pending",value:void 0,then:function(S){v.push(S)}}}return uh++,f.then(V,V),f}function V(){if(--uh===0&&Jf!==null){I!==null&&(I.status="fulfilled");var s=Jf;Jf=null,C=0,I=null;for(var f=0;f<s.length;f++)(0,s[f])()}}function ie(s,f){var v=[],S={status:"pending",value:null,reason:null,then:function(k){v.push(k)}};return s.then(function(){S.status="fulfilled",S.value=f;for(var k=0;k<v.length;k++)(0,v[k])(f)},function(k){for(S.status="rejected",S.reason=k,k=0;k<v.length;k++)(0,v[k])(void 0)}),S}var fe=re.S;re.S=function(s,f){Y4=vr(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&z(s,f),fe!==null&&fe(s,f)};var de=oe(null);function ve(){var s=de.current;return s!==null?s:Jn.pooledCache}function xe(s,f){f===null?le(de,de.current):le(de,f.pool)}function Oe(){var s=ve();return s===null?null:{parent:ka._currentValue,pool:s}}var Re=Error(n(460)),Ve=Error(n(474)),Ne=Error(n(542)),Le={then:function(){}};function He(s){return s=s.status,s==="fulfilled"||s==="rejected"}function st(s,f,v){switch(v=s[v],v===void 0?s.push(f):v!==f&&(f.then(Gi,Gi),f=v),f.status){case"fulfilled":return f.value;case"rejected":throw s=f.reason,xt(s),s;default:if(typeof f.status=="string")f.then(Gi,Gi);else{if(s=Jn,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=f,s.status="pending",s.then(function(S){if(f.status==="pending"){var k=f;k.status="fulfilled",k.value=S}},function(S){if(f.status==="pending"){var k=f;k.status="rejected",k.reason=S}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw s=f.reason,xt(s),s}throw at=f,Re}}function We(s){try{var f=s._init;return f(s._payload)}catch(v){throw v!==null&&typeof v=="object"&&typeof v.then=="function"?(at=v,Re):v}}var at=null;function ht(){if(at===null)throw Error(n(459));var s=at;return at=null,s}function xt(s){if(s===Re||s===Ne)throw Error(n(483))}var vt=null,Gt=0;function It(s){var f=Gt;return Gt+=1,vt===null&&(vt=[]),st(vt,s,f)}function kr(s,f){f=f.props.ref,s.ref=f!==void 0?f:null}function Ut(s,f){throw f.$$typeof===x?Error(n(525)):(s=Object.prototype.toString.call(f),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":s)))}function Zr(s){function f(Ue,De){if(s){var Ye=Ue.deletions;Ye===null?(Ue.deletions=[De],Ue.flags|=16):Ye.push(De)}}function v(Ue,De){if(!s)return null;for(;De!==null;)f(Ue,De),De=De.sibling;return null}function S(Ue){for(var De=new Map;Ue!==null;)Ue.key!==null?De.set(Ue.key,Ue):De.set(Ue.index,Ue),Ue=Ue.sibling;return De}function k(Ue,De){return Ue=mo(Ue,De),Ue.index=0,Ue.sibling=null,Ue}function P(Ue,De,Ye){return Ue.index=Ye,s?(Ye=Ue.alternate,Ye!==null?(Ye=Ye.index,Ye<De?(Ue.flags|=67108866,De):Ye):(Ue.flags|=67108866,De)):(Ue.flags|=1048576,De)}function K(Ue){return s&&Ue.alternate===null&&(Ue.flags|=67108866),Ue}function ge(Ue,De,Ye,pt){return De===null||De.tag!==6?(De=Kf(Ye,Ue.mode,pt),De.return=Ue,De):(De=k(De,Ye),De.return=Ue,De)}function ke(Ue,De,Ye,pt){var gr=Ye.type;return gr===N?ft(Ue,De,Ye.props.children,pt,Ye.key):De!==null&&(De.elementType===gr||typeof gr=="object"&&gr!==null&&gr.$$typeof===Q&&We(gr)===De.type)?(De=k(De,Ye.props),kr(De,Ye),De.return=Ue,De):(De=Vu(Ye.type,Ye.key,Ye.props,null,Ue.mode,pt),kr(De,Ye),De.return=Ue,De)}function Xe(Ue,De,Ye,pt){return De===null||De.tag!==4||De.stateNode.containerInfo!==Ye.containerInfo||De.stateNode.implementation!==Ye.implementation?(De=Yu(Ye,Ue.mode,pt),De.return=Ue,De):(De=k(De,Ye.children||[]),De.return=Ue,De)}function ft(Ue,De,Ye,pt,gr){return De===null||De.tag!==7?(De=pc(Ye,Ue.mode,pt,gr),De.return=Ue,De):(De=k(De,Ye),De.return=Ue,De)}function mt(Ue,De,Ye){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return De=Kf(""+De,Ue.mode,Ye),De.return=Ue,De;if(typeof De=="object"&&De!==null){switch(De.$$typeof){case y:return Ye=Vu(De.type,De.key,De.props,null,Ue.mode,Ye),kr(Ye,De),Ye.return=Ue,Ye;case E:return De=Yu(De,Ue.mode,Ye),De.return=Ue,De;case Q:return De=We(De),mt(Ue,De,Ye)}if(ae(De)||G(De))return De=pc(De,Ue.mode,Ye,null),De.return=Ue,De;if(typeof De.then=="function")return mt(Ue,It(De),Ye);if(De.$$typeof===F)return mt(Ue,ch(Ue,De),Ye);Ut(Ue,De)}return null}function Qe(Ue,De,Ye,pt){var gr=De!==null?De.key:null;if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return gr!==null?null:ge(Ue,De,""+Ye,pt);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case y:return Ye.key===gr?ke(Ue,De,Ye,pt):null;case E:return Ye.key===gr?Xe(Ue,De,Ye,pt):null;case Q:return Ye=We(Ye),Qe(Ue,De,Ye,pt)}if(ae(Ye)||G(Ye))return gr!==null?null:ft(Ue,De,Ye,pt,null);if(typeof Ye.then=="function")return Qe(Ue,De,It(Ye),pt);if(Ye.$$typeof===F)return Qe(Ue,De,ch(Ue,Ye),pt);Ut(Ue,Ye)}return null}function tt(Ue,De,Ye,pt,gr){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return Ue=Ue.get(Ye)||null,ge(De,Ue,""+pt,gr);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case y:return Ue=Ue.get(pt.key===null?Ye:pt.key)||null,ke(De,Ue,pt,gr);case E:return Ue=Ue.get(pt.key===null?Ye:pt.key)||null,Xe(De,Ue,pt,gr);case Q:return pt=We(pt),tt(Ue,De,Ye,pt,gr)}if(ae(pt)||G(pt))return Ue=Ue.get(Ye)||null,ft(De,Ue,pt,gr,null);if(typeof pt.then=="function")return tt(Ue,De,Ye,It(pt),gr);if(pt.$$typeof===F)return tt(Ue,De,Ye,ch(De,pt),gr);Ut(De,pt)}return null}function qt(Ue,De,Ye,pt){for(var gr=null,yn=null,Qt=De,qr=De=0,sn=null;Qt!==null&&qr<Ye.length;qr++){Qt.index>qr?(sn=Qt,Qt=null):sn=Qt.sibling;var xn=Qe(Ue,Qt,Ye[qr],pt);if(xn===null){Qt===null&&(Qt=sn);break}s&&Qt&&xn.alternate===null&&f(Ue,Qt),De=P(xn,De,qr),yn===null?gr=xn:yn.sibling=xn,yn=xn,Qt=sn}if(qr===Ye.length)return v(Ue,Qt),Jr&&Zs(Ue,qr),gr;if(Qt===null){for(;qr<Ye.length;qr++)Qt=mt(Ue,Ye[qr],pt),Qt!==null&&(De=P(Qt,De,qr),yn===null?gr=Qt:yn.sibling=Qt,yn=Qt);return Jr&&Zs(Ue,qr),gr}for(Qt=S(Qt);qr<Ye.length;qr++)sn=tt(Qt,Ue,qr,Ye[qr],pt),sn!==null&&(s&&sn.alternate!==null&&Qt.delete(sn.key===null?qr:sn.key),De=P(sn,De,qr),yn===null?gr=sn:yn.sibling=sn,yn=sn);return s&&Qt.forEach(function(gf){return f(Ue,gf)}),Jr&&Zs(Ue,qr),gr}function Ar(Ue,De,Ye,pt){if(Ye==null)throw Error(n(151));for(var gr=null,yn=null,Qt=De,qr=De=0,sn=null,xn=Ye.next();Qt!==null&&!xn.done;qr++,xn=Ye.next()){Qt.index>qr?(sn=Qt,Qt=null):sn=Qt.sibling;var gf=Qe(Ue,Qt,xn.value,pt);if(gf===null){Qt===null&&(Qt=sn);break}s&&Qt&&gf.alternate===null&&f(Ue,Qt),De=P(gf,De,qr),yn===null?gr=gf:yn.sibling=gf,yn=gf,Qt=sn}if(xn.done)return v(Ue,Qt),Jr&&Zs(Ue,qr),gr;if(Qt===null){for(;!xn.done;qr++,xn=Ye.next())xn=mt(Ue,xn.value,pt),xn!==null&&(De=P(xn,De,qr),yn===null?gr=xn:yn.sibling=xn,yn=xn);return Jr&&Zs(Ue,qr),gr}for(Qt=S(Qt);!xn.done;qr++,xn=Ye.next())xn=tt(Qt,Ue,qr,xn.value,pt),xn!==null&&(s&&xn.alternate!==null&&Qt.delete(xn.key===null?qr:xn.key),De=P(xn,De,qr),yn===null?gr=xn:yn.sibling=xn,yn=xn);return s&&Qt.forEach(function(IF){return f(Ue,IF)}),Jr&&Zs(Ue,qr),gr}function Wn(Ue,De,Ye,pt){if(typeof Ye=="object"&&Ye!==null&&Ye.type===N&&Ye.key===null&&(Ye=Ye.props.children),typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case y:e:{for(var gr=Ye.key;De!==null;){if(De.key===gr){if(gr=Ye.type,gr===N){if(De.tag===7){v(Ue,De.sibling),pt=k(De,Ye.props.children),pt.return=Ue,Ue=pt;break e}}else if(De.elementType===gr||typeof gr=="object"&&gr!==null&&gr.$$typeof===Q&&We(gr)===De.type){v(Ue,De.sibling),pt=k(De,Ye.props),kr(pt,Ye),pt.return=Ue,Ue=pt;break e}v(Ue,De);break}else f(Ue,De);De=De.sibling}Ye.type===N?(pt=pc(Ye.props.children,Ue.mode,pt,Ye.key),pt.return=Ue,Ue=pt):(pt=Vu(Ye.type,Ye.key,Ye.props,null,Ue.mode,pt),kr(pt,Ye),pt.return=Ue,Ue=pt)}return K(Ue);case E:e:{for(gr=Ye.key;De!==null;){if(De.key===gr)if(De.tag===4&&De.stateNode.containerInfo===Ye.containerInfo&&De.stateNode.implementation===Ye.implementation){v(Ue,De.sibling),pt=k(De,Ye.children||[]),pt.return=Ue,Ue=pt;break e}else{v(Ue,De);break}else f(Ue,De);De=De.sibling}pt=Yu(Ye,Ue.mode,pt),pt.return=Ue,Ue=pt}return K(Ue);case Q:return Ye=We(Ye),Wn(Ue,De,Ye,pt)}if(ae(Ye))return qt(Ue,De,Ye,pt);if(G(Ye)){if(gr=G(Ye),typeof gr!="function")throw Error(n(150));return Ye=gr.call(Ye),Ar(Ue,De,Ye,pt)}if(typeof Ye.then=="function")return Wn(Ue,De,It(Ye),pt);if(Ye.$$typeof===F)return Wn(Ue,De,ch(Ue,Ye),pt);Ut(Ue,Ye)}return typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint"?(Ye=""+Ye,De!==null&&De.tag===6?(v(Ue,De.sibling),pt=k(De,Ye),pt.return=Ue,Ue=pt):(v(Ue,De),pt=Kf(Ye,Ue.mode,pt),pt.return=Ue,Ue=pt),K(Ue)):v(Ue,De)}return function(Ue,De,Ye,pt){try{Gt=0;var gr=Wn(Ue,De,Ye,pt);return vt=null,gr}catch(Qt){if(Qt===Re||Qt===Ne)throw Qt;var yn=Qi(29,Qt,null,Ue.mode);return yn.lanes=pt,yn.return=Ue,yn}finally{}}}var Qn=Zr(!0),Pr=Zr(!1),Mt=!1;function St(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ha(s,f){s=s.updateQueue,f.updateQueue===s&&(f.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function xr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Lr(s,f,v){var S=s.updateQueue;if(S===null)return null;if(S=S.shared,(En&2)!==0){var k=S.pending;return k===null?f.next=f:(f.next=k.next,k.next=f),S.pending=f,f=Zi(s),Yf(s,null,v),f}return Vf(s,S,f,v),Zi(s)}function Sn(s,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194048)!==0)){var S=f.lanes;S&=s.pendingLanes,v|=S,f.lanes=v,Ta(s,v)}}function li(s,f){var v=s.updateQueue,S=s.alternate;if(S!==null&&(S=S.updateQueue,v===S)){var k=null,P=null;if(v=v.firstBaseUpdate,v!==null){do{var K={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};P===null?k=P=K:P=P.next=K,v=v.next}while(v!==null);P===null?k=P=f:P=P.next=f}else k=P=f;v={baseState:S.baseState,firstBaseUpdate:k,lastBaseUpdate:P,shared:S.shared,callbacks:S.callbacks},s.updateQueue=v;return}s=v.lastBaseUpdate,s===null?v.firstBaseUpdate=f:s.next=f,v.lastBaseUpdate=f}var Pi=!1;function Hn(){if(Pi){var s=I;if(s!==null)throw s}}function Ua(s,f,v,S){Pi=!1;var k=s.updateQueue;Mt=!1;var P=k.firstBaseUpdate,K=k.lastBaseUpdate,ge=k.shared.pending;if(ge!==null){k.shared.pending=null;var ke=ge,Xe=ke.next;ke.next=null,K===null?P=Xe:K.next=Xe,K=ke;var ft=s.alternate;ft!==null&&(ft=ft.updateQueue,ge=ft.lastBaseUpdate,ge!==K&&(ge===null?ft.firstBaseUpdate=Xe:ge.next=Xe,ft.lastBaseUpdate=ke))}if(P!==null){var mt=k.baseState;K=0,ft=Xe=ke=null,ge=P;do{var Qe=ge.lane&-536870913,tt=Qe!==ge.lane;if(tt?(an&Qe)===Qe:(S&Qe)===Qe){Qe!==0&&Qe===C&&(Pi=!0),ft!==null&&(ft=ft.next={lane:0,tag:ge.tag,payload:ge.payload,callback:null,next:null});e:{var qt=s,Ar=ge;Qe=f;var Wn=v;switch(Ar.tag){case 1:if(qt=Ar.payload,typeof qt=="function"){mt=qt.call(Wn,mt,Qe);break e}mt=qt;break e;case 3:qt.flags=qt.flags&-65537|128;case 0:if(qt=Ar.payload,Qe=typeof qt=="function"?qt.call(Wn,mt,Qe):qt,Qe==null)break e;mt=g({},mt,Qe);break e;case 2:Mt=!0}}Qe=ge.callback,Qe!==null&&(s.flags|=64,tt&&(s.flags|=8192),tt=k.callbacks,tt===null?k.callbacks=[Qe]:tt.push(Qe))}else tt={lane:Qe,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},ft===null?(Xe=ft=tt,ke=mt):ft=ft.next=tt,K|=Qe;if(ge=ge.next,ge===null){if(ge=k.shared.pending,ge===null)break;tt=ge,ge=tt.next,tt.next=null,k.lastBaseUpdate=tt,k.shared.pending=null}}while(!0);ft===null&&(ke=mt),k.baseState=ke,k.firstBaseUpdate=Xe,k.lastBaseUpdate=ft,P===null&&(k.shared.lanes=0),sf|=K,s.lanes=K,s.memoizedState=mt}}function Ji(s,f){if(typeof s!="function")throw Error(n(191,s));s.call(f)}function za(s,f){var v=s.callbacks;if(v!==null)for(s.callbacks=null,s=0;s<v.length;s++)Ji(v[s],f)}var $r=oe(null),un=oe(0);function pa(s,f){s=uu,le(un,s),le($r,f),uu=s|f.baseLanes}function vn(){le(un,uu),le($r,$r.current)}function ci(){uu=un.current,Y($r),Y(un)}var ma=oe(null),fn=null;function Ia(s){var f=s.alternate;le(on,on.current&1),le(ma,s),fn===null&&(f===null||$r.current!==null||f.memoizedState!==null)&&(fn=s)}function An(s){le(on,on.current),le(ma,s),fn===null&&(fn=s)}function qa(s){s.tag===22?(le(on,on.current),le(ma,s),fn===null&&(fn=s)):Ha()}function Ha(){le(on,on.current),le(ma,ma.current)}function Pn(s){Y(ma),fn===s&&(fn=null),Y(on)}var on=oe(0);function es(s){for(var f=s;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||Ky(v)||Zy(v)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var _a=0,dr=null,mr=null,dn=null,ks=!1,_o=!1,ms=!1,Ga=0,wc=0,_c=null,fh=0;function Gn(){throw Error(n(321))}function W0(s,f){if(f===null)return!1;for(var v=0;v<f.length&&v<s.length;v++)if(!A(s[v],f[v]))return!1;return!0}function V0(s,f,v,S,k,P){return _a=P,dr=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,re.H=s===null||s.memoizedState===null?i4:oy,ms=!1,P=v(S,k),ms=!1,_o&&(P=Ul(f,v,S,k)),dh(s),P}function dh(s){re.H=t1;var f=mr!==null&&mr.next!==null;if(_a=0,dn=mr=dr=null,ks=!1,wc=0,_c=null,f)throw Error(n(300));s===null||xi||(s=s.dependencies,s!==null&&lh(s)&&(xi=!0))}function Ul(s,f,v,S){dr=s;var k=0;do{if(_o&&(_c=null),wc=0,_o=!1,25<=k)throw Error(n(301));if(k+=1,dn=mr=null,s.updateQueue!=null){var P=s.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}re.H=s4,P=f(v,S)}while(_o);return P}function ey(){var s=re.H,f=s.useState()[0];return f=typeof f.then=="function"?Sc(f):f,s=s.useState()[0],(mr!==null?mr.memoizedState:null)!==s&&(dr.flags|=1024),f}function Y0(){var s=Ga!==0;return Ga=0,s}function X0(s,f,v){f.updateQueue=s.updateQueue,f.flags&=-2053,s.lanes&=~v}function hh(s){if(ks){for(s=s.memoizedState;s!==null;){var f=s.queue;f!==null&&(f.pending=null),s=s.next}ks=!1}_a=0,dn=mr=dr=null,_o=!1,wc=Ga=0,_c=null}function yi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?dr.memoizedState=dn=s:dn=dn.next=s,dn}function Sa(){if(mr===null){var s=dr.alternate;s=s!==null?s.memoizedState:null}else s=mr.next;var f=dn===null?dr.memoizedState:dn.next;if(f!==null)dn=f,mr=s;else{if(s===null)throw dr.alternate===null?Error(n(467)):Error(n(310));mr=s,s={memoizedState:mr.memoizedState,baseState:mr.baseState,baseQueue:mr.baseQueue,queue:mr.queue,next:null},dn===null?dr.memoizedState=dn=s:dn=dn.next=s}return dn}function ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sc(s){var f=wc;return wc+=1,_c===null&&(_c=[]),s=st(_c,s,f),f=dr,(dn===null?f.memoizedState:dn.next)===null&&(f=f.alternate,re.H=f===null||f.memoizedState===null?i4:oy),s}function Ju(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Sc(s);if(s.$$typeof===F)return Mi(s)}throw Error(n(438,String(s)))}function tu(s){var f=null,v=dr.updateQueue;if(v!==null&&(f=v.memoCache),f==null){var S=dr.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(f={data:S.data.map(function(k){return k.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),v===null&&(v=ed(),dr.updateQueue=v),v.memoCache=f,v=f.data[f.index],v===void 0)for(v=f.data[f.index]=Array(s),S=0;S<s;S++)v[S]=se;return f.index++,v}function hl(s,f){return typeof f=="function"?f(s):f}function ph(s){var f=Sa();return ef(f,mr,s)}function ef(s,f,v){var S=s.queue;if(S===null)throw Error(n(311));S.lastRenderedReducer=v;var k=s.baseQueue,P=S.pending;if(P!==null){if(k!==null){var K=k.next;k.next=P.next,P.next=K}f.baseQueue=k=P,S.pending=null}if(P=s.baseState,k===null)s.memoizedState=P;else{f=k.next;var ge=K=null,ke=null,Xe=f,ft=!1;do{var mt=Xe.lane&-536870913;if(mt!==Xe.lane?(an&mt)===mt:(_a&mt)===mt){var Qe=Xe.revertLane;if(Qe===0)ke!==null&&(ke=ke.next={lane:0,revertLane:0,gesture:null,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),mt===C&&(ft=!0);else if((_a&Qe)===Qe){Xe=Xe.next,Qe===C&&(ft=!0);continue}else mt={lane:0,revertLane:Xe.revertLane,gesture:null,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},ke===null?(ge=ke=mt,K=P):ke=ke.next=mt,dr.lanes|=Qe,sf|=Qe;mt=Xe.action,ms&&v(P,mt),P=Xe.hasEagerState?Xe.eagerState:v(P,mt)}else Qe={lane:mt,revertLane:Xe.revertLane,gesture:Xe.gesture,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},ke===null?(ge=ke=Qe,K=P):ke=ke.next=Qe,dr.lanes|=mt,sf|=mt;Xe=Xe.next}while(Xe!==null&&Xe!==f);if(ke===null?K=P:ke.next=ge,!A(P,s.memoizedState)&&(xi=!0,ft&&(v=I,v!==null)))throw v;s.memoizedState=P,s.baseState=K,s.baseQueue=ke,S.lastRenderedState=P}return k===null&&(S.lanes=0),[s.memoizedState,S.dispatch]}function mh(s){var f=Sa(),v=f.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=s;var S=v.dispatch,k=v.pending,P=f.memoizedState;if(k!==null){v.pending=null;var K=k=k.next;do P=s(P,K.action),K=K.next;while(K!==k);A(P,f.memoizedState)||(xi=!0),f.memoizedState=P,f.baseQueue===null&&(f.baseState=P),v.lastRenderedState=P}return[P,S]}function gh(s,f,v){var S=dr,k=Sa(),P=Jr;if(P){if(v===void 0)throw Error(n(407));v=v()}else v=f();var K=!A((mr||k).memoizedState,v);if(K&&(k.memoizedState=v,xi=!0),k=k.queue,ty(Z0.bind(null,S,k,s),[s]),k.getSnapshot!==f||K||dn!==null&&dn.memoizedState.tag&1){if(S.flags|=2048,nu(9,{destroy:void 0},K0.bind(null,S,k,v,f),null),Jn===null)throw Error(n(349));P||(_a&127)!==0||zl(S,f,v)}return v}function zl(s,f,v){s.flags|=16384,s={getSnapshot:f,value:v},f=dr.updateQueue,f===null?(f=ed(),dr.updateQueue=f,f.stores=[s]):(v=f.stores,v===null?f.stores=[s]:v.push(s))}function K0(s,f,v,S){f.value=v,f.getSnapshot=S,om(f)&&Q0(s)}function Z0(s,f,v){return v(function(){om(f)&&Q0(s)})}function om(s){var f=s.getSnapshot;s=s.value;try{var v=f();return!A(s,v)}catch{return!0}}function Q0(s){var f=Bl(s,2);f!==null&&Co(f,s,2)}function Ac(s){var f=yi();if(typeof s=="function"){var v=s;if(s=v(),ms){Dt(!0);try{v()}finally{Dt(!1)}}}return f.memoizedState=f.baseState=s,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:s},f}function lm(s,f,v,S){return s.baseState=v,ef(s,mr,typeof S=="function"?S:hl)}function cm(s,f,v,S,k){if(hm(s))throw Error(n(485));if(s=f.action,s!==null){var P={payload:k,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){P.listeners.push(K)}};re.T!==null?v(!0):P.isTransition=!1,S(P),v=f.pending,v===null?(P.next=f.pending=P,um(f,P)):(P.next=v.next,f.pending=v.next=P)}}function um(s,f){var v=f.action,S=f.payload,k=s.state;if(f.isTransition){var P=re.T,K={};re.T=K;try{var ge=v(k,S),ke=re.S;ke!==null&&ke(K,ge),J0(s,f,ge)}catch(Xe){ru(s,f,Xe)}finally{P!==null&&K.types!==null&&(P.types=K.types),re.T=P}}else try{P=v(k,S),J0(s,f,P)}catch(Xe){ru(s,f,Xe)}}function J0(s,f,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(S){fm(s,f,S)},function(S){return ru(s,f,S)}):fm(s,f,v)}function fm(s,f,v){f.status="fulfilled",f.value=v,vh(f),s.state=v,f=s.pending,f!==null&&(v=f.next,v===f?s.pending=null:(v=v.next,f.next=v,um(s,v)))}function ru(s,f,v){var S=s.pending;if(s.pending=null,S!==null){S=S.next;do f.status="rejected",f.reason=v,vh(f),f=f.next;while(f!==S)}s.action=null}function vh(s){s=s.listeners;for(var f=0;f<s.length;f++)(0,s[f])()}function td(s,f){return f}function pl(s,f){if(Jr){var v=Jn.formState;if(v!==null){e:{var S=dr;if(Jr){if(Zn){t:{for(var k=Zn,P=wa;k.nodeType!==8;){if(!P){k=null;break t}if(k=ml(k.nextSibling),k===null){k=null;break t}}P=k.data,k=P==="F!"||P==="F"?k:null}if(k){Zn=ml(k.nextSibling),S=k.data==="F!";break e}}gc(S)}S=!1}S&&(f=v[0])}}return v=yi(),v.memoizedState=v.baseState=f,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:td,lastRenderedState:f},v.queue=S,v=r4.bind(null,dr,S),S.dispatch=v,S=Ac(!1),P=sy.bind(null,dr,!1,S.queue),S=yi(),k={state:f,dispatch:null,action:s,pending:null},S.queue=k,v=cm.bind(null,dr,k,P,v),k.dispatch=v,S.memoizedState=s,[f,v,!1]}function ql(s){var f=Sa();return Hl(f,mr,s)}function Hl(s,f,v){if(f=ef(s,f,td)[0],s=ph(hl)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var S=Sc(f)}catch(K){throw K===Re?Ne:K}else S=f;f=Sa();var k=f.queue,P=k.dispatch;return v!==f.memoizedState&&(dr.flags|=2048,nu(9,{destroy:void 0},bh.bind(null,k,v),null)),[S,P,s]}function bh(s,f){s.action=f}function yh(s){var f=Sa(),v=mr;if(v!==null)return Hl(f,v,s);Sa(),f=f.memoizedState,v=Sa();var S=v.queue.dispatch;return v.memoizedState=s,[f,S,!1]}function nu(s,f,v,S){return s={tag:s,create:v,deps:S,inst:f,next:null},f=dr.updateQueue,f===null&&(f=ed(),dr.updateQueue=f),v=f.lastEffect,v===null?f.lastEffect=s.next=s:(S=v.next,v.next=s,s.next=S,f.lastEffect=s),s}function dm(){return Sa().memoizedState}function tf(s,f,v,S){var k=yi();dr.flags|=s,k.memoizedState=nu(1|f,{destroy:void 0},v,S===void 0?null:S)}function rf(s,f,v,S){var k=Sa();S=S===void 0?null:S;var P=k.memoizedState.inst;mr!==null&&S!==null&&W0(S,mr.memoizedState.deps)?k.memoizedState=nu(f,P,v,S):(dr.flags|=s,k.memoizedState=nu(1|f,P,v,S))}function qA(s,f){tf(8390656,8,s,f)}function ty(s,f){rf(2048,8,s,f)}function NB(s){dr.flags|=4;var f=dr.updateQueue;if(f===null)f=ed(),dr.updateQueue=f,f.events=[s];else{var v=f.events;v===null?f.events=[s]:v.push(s)}}function HA(s){var f=Sa().memoizedState;return NB({ref:f,nextImpl:s}),function(){if((En&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}function GA(s,f){return rf(4,2,s,f)}function $A(s,f){return rf(4,4,s,f)}function WA(s,f){if(typeof f=="function"){s=s();var v=f(s);return function(){typeof v=="function"?v():f(null)}}if(f!=null)return s=s(),f.current=s,function(){f.current=null}}function VA(s,f,v){v=v!=null?v.concat([s]):null,rf(4,4,WA.bind(null,f,s),v)}function ry(){}function YA(s,f){var v=Sa();f=f===void 0?null:f;var S=v.memoizedState;return f!==null&&W0(f,S[1])?S[0]:(v.memoizedState=[s,f],s)}function XA(s,f){var v=Sa();f=f===void 0?null:f;var S=v.memoizedState;if(f!==null&&W0(f,S[1]))return S[0];if(S=s(),ms){Dt(!0);try{s()}finally{Dt(!1)}}return v.memoizedState=[S,f],S}function ny(s,f,v){return v===void 0||(_a&1073741824)!==0&&(an&261930)===0?s.memoizedState=f:(s.memoizedState=v,s=K4(),dr.lanes|=s,sf|=s,v)}function KA(s,f,v,S){return A(v,f)?v:$r.current!==null?(s=ny(s,v,S),A(s,f)||(xi=!0),s):(_a&42)===0||(_a&1073741824)!==0&&(an&261930)===0?(xi=!0,s.memoizedState=v):(s=K4(),dr.lanes|=s,sf|=s,f)}function ZA(s,f,v,S,k){var P=he.p;he.p=P!==0&&8>P?P:8;var K=re.T,ge={};re.T=ge,sy(s,!1,f,v);try{var ke=k(),Xe=re.S;if(Xe!==null&&Xe(ge,ke),ke!==null&&typeof ke=="object"&&typeof ke.then=="function"){var ft=ie(ke,S);e1(s,f,ft,Ho(s))}else e1(s,f,S,Ho(s))}catch(mt){e1(s,f,{then:function(){},status:"rejected",reason:mt},Ho())}finally{he.p=P,K!==null&&ge.types!==null&&(K.types=ge.types),re.T=K}}function CB(){}function ay(s,f,v,S){if(s.tag!==5)throw Error(n(476));var k=QA(s).queue;ZA(s,k,f,Se,v===null?CB:function(){return JA(s),v(S)})}function QA(s){var f=s.memoizedState;if(f!==null)return f;f={memoizedState:Se,baseState:Se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:Se},next:null};var v={};return f.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:v},next:null},s.memoizedState=f,s=s.alternate,s!==null&&(s.memoizedState=f),f}function JA(s){var f=QA(s);f.next===null&&(f=s.alternate.memoizedState),e1(s,f.next.queue,{},Ho())}function iy(){return Mi(v1)}function e4(){return Sa().memoizedState}function t4(){return Sa().memoizedState}function OB(s){for(var f=s.return;f!==null;){switch(f.tag){case 24:case 3:var v=Ho();s=xr(v);var S=Lr(f,s,v);S!==null&&(Co(S,f,v),Sn(S,f,v)),f={cache:Qu()},s.payload=f;return}f=f.return}}function TB(s,f,v){var S=Ho();v={lane:S,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},hm(s)?n4(f,v):(v=eh(s,f,v,S),v!==null&&(Co(v,s,S),a4(v,f,S)))}function r4(s,f,v){var S=Ho();e1(s,f,v,S)}function e1(s,f,v,S){var k={lane:S,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null};if(hm(s))n4(f,k);else{var P=s.alternate;if(s.lanes===0&&(P===null||P.lanes===0)&&(P=f.lastRenderedReducer,P!==null))try{var K=f.lastRenderedState,ge=P(K,v);if(k.hasEagerState=!0,k.eagerState=ge,A(ge,K))return Vf(s,f,k,0),Jn===null&&Wf(),!1}catch{}finally{}if(v=eh(s,f,k,S),v!==null)return Co(v,s,S),a4(v,f,S),!0}return!1}function sy(s,f,v,S){if(S={lane:2,revertLane:By(),gesture:null,action:S,hasEagerState:!1,eagerState:null,next:null},hm(s)){if(f)throw Error(n(479))}else f=eh(s,v,S,2),f!==null&&Co(f,s,2)}function hm(s){var f=s.alternate;return s===dr||f!==null&&f===dr}function n4(s,f){_o=ks=!0;var v=s.pending;v===null?f.next=f:(f.next=v.next,v.next=f),s.pending=f}function a4(s,f,v){if((v&4194048)!==0){var S=f.lanes;S&=s.pendingLanes,v|=S,f.lanes=v,Ta(s,v)}}var t1={readContext:Mi,use:Ju,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useLayoutEffect:Gn,useInsertionEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useSyncExternalStore:Gn,useId:Gn,useHostTransitionStatus:Gn,useFormState:Gn,useActionState:Gn,useOptimistic:Gn,useMemoCache:Gn,useCacheRefresh:Gn};t1.useEffectEvent=Gn;var i4={readContext:Mi,use:Ju,useCallback:function(s,f){return yi().memoizedState=[s,f===void 0?null:f],s},useContext:Mi,useEffect:qA,useImperativeHandle:function(s,f,v){v=v!=null?v.concat([s]):null,tf(4194308,4,WA.bind(null,f,s),v)},useLayoutEffect:function(s,f){return tf(4194308,4,s,f)},useInsertionEffect:function(s,f){tf(4,2,s,f)},useMemo:function(s,f){var v=yi();f=f===void 0?null:f;var S=s();if(ms){Dt(!0);try{s()}finally{Dt(!1)}}return v.memoizedState=[S,f],S},useReducer:function(s,f,v){var S=yi();if(v!==void 0){var k=v(f);if(ms){Dt(!0);try{v(f)}finally{Dt(!1)}}}else k=f;return S.memoizedState=S.baseState=k,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:k},S.queue=s,s=s.dispatch=TB.bind(null,dr,s),[S.memoizedState,s]},useRef:function(s){var f=yi();return s={current:s},f.memoizedState=s},useState:function(s){s=Ac(s);var f=s.queue,v=r4.bind(null,dr,f);return f.dispatch=v,[s.memoizedState,v]},useDebugValue:ry,useDeferredValue:function(s,f){var v=yi();return ny(v,s,f)},useTransition:function(){var s=Ac(!1);return s=ZA.bind(null,dr,s.queue,!0,!1),yi().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,f,v){var S=dr,k=yi();if(Jr){if(v===void 0)throw Error(n(407));v=v()}else{if(v=f(),Jn===null)throw Error(n(349));(an&127)!==0||zl(S,f,v)}k.memoizedState=v;var P={value:v,getSnapshot:f};return k.queue=P,qA(Z0.bind(null,S,P,s),[s]),S.flags|=2048,nu(9,{destroy:void 0},K0.bind(null,S,P,v,f),null),v},useId:function(){var s=yi(),f=Jn.identifierPrefix;if(Jr){var v=xo,S=yo;v=(S&~(1<<32-Ft(S)-1)).toString(32)+v,f="_"+f+"R_"+v,v=Ga++,0<v&&(f+="H"+v.toString(32)),f+="_"}else v=fh++,f="_"+f+"r_"+v.toString(32)+"_";return s.memoizedState=f},useHostTransitionStatus:iy,useFormState:pl,useActionState:pl,useOptimistic:function(s){var f=yi();f.memoizedState=f.baseState=s;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=v,f=sy.bind(null,dr,!0,v),v.dispatch=f,[s,f]},useMemoCache:tu,useCacheRefresh:function(){return yi().memoizedState=OB.bind(null,dr)},useEffectEvent:function(s){var f=yi(),v={impl:s};return f.memoizedState=v,function(){if((En&2)!==0)throw Error(n(440));return v.impl.apply(void 0,arguments)}}},oy={readContext:Mi,use:Ju,useCallback:YA,useContext:Mi,useEffect:ty,useImperativeHandle:VA,useInsertionEffect:GA,useLayoutEffect:$A,useMemo:XA,useReducer:ph,useRef:dm,useState:function(){return ph(hl)},useDebugValue:ry,useDeferredValue:function(s,f){var v=Sa();return KA(v,mr.memoizedState,s,f)},useTransition:function(){var s=ph(hl)[0],f=Sa().memoizedState;return[typeof s=="boolean"?s:Sc(s),f]},useSyncExternalStore:gh,useId:e4,useHostTransitionStatus:iy,useFormState:ql,useActionState:ql,useOptimistic:function(s,f){var v=Sa();return lm(v,mr,s,f)},useMemoCache:tu,useCacheRefresh:t4};oy.useEffectEvent=HA;var s4={readContext:Mi,use:Ju,useCallback:YA,useContext:Mi,useEffect:ty,useImperativeHandle:VA,useInsertionEffect:GA,useLayoutEffect:$A,useMemo:XA,useReducer:mh,useRef:dm,useState:function(){return mh(hl)},useDebugValue:ry,useDeferredValue:function(s,f){var v=Sa();return mr===null?ny(v,s,f):KA(v,mr.memoizedState,s,f)},useTransition:function(){var s=mh(hl)[0],f=Sa().memoizedState;return[typeof s=="boolean"?s:Sc(s),f]},useSyncExternalStore:gh,useId:e4,useHostTransitionStatus:iy,useFormState:yh,useActionState:yh,useOptimistic:function(s,f){var v=Sa();return mr!==null?lm(v,mr,s,f):(v.baseState=s,[s,v.queue.dispatch])},useMemoCache:tu,useCacheRefresh:t4};s4.useEffectEvent=HA;function ly(s,f,v,S){f=s.memoizedState,v=v(S,f),v=v==null?f:g({},f,v),s.memoizedState=v,s.lanes===0&&(s.updateQueue.baseState=v)}var cy={enqueueSetState:function(s,f,v){s=s._reactInternals;var S=Ho(),k=xr(S);k.payload=f,v!=null&&(k.callback=v),f=Lr(s,k,S),f!==null&&(Co(f,s,S),Sn(f,s,S))},enqueueReplaceState:function(s,f,v){s=s._reactInternals;var S=Ho(),k=xr(S);k.tag=1,k.payload=f,v!=null&&(k.callback=v),f=Lr(s,k,S),f!==null&&(Co(f,s,S),Sn(f,s,S))},enqueueForceUpdate:function(s,f){s=s._reactInternals;var v=Ho(),S=xr(v);S.tag=2,f!=null&&(S.callback=f),f=Lr(s,S,v),f!==null&&(Co(f,s,v),Sn(f,s,v))}};function o4(s,f,v,S,k,P,K){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(S,P,K):f.prototype&&f.prototype.isPureReactComponent?!O(v,S)||!O(k,P):!0}function l4(s,f,v,S){s=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,S),f.state!==s&&cy.enqueueReplaceState(f,f.state,null)}function rd(s,f){var v=f;if("ref"in f){v={};for(var S in f)S!=="ref"&&(v[S]=f[S])}if(s=s.defaultProps){v===f&&(v=g({},v));for(var k in s)v[k]===void 0&&(v[k]=s[k])}return v}function c4(s){$f(s)}function u4(s){console.error(s)}function f4(s){$f(s)}function pm(s,f){try{var v=s.onUncaughtError;v(f.value,{componentStack:f.stack})}catch(S){setTimeout(function(){throw S})}}function d4(s,f,v){try{var S=s.onCaughtError;S(v.value,{componentStack:v.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function uy(s,f,v){return v=xr(v),v.tag=3,v.payload={element:null},v.callback=function(){pm(s,f)},v}function h4(s){return s=xr(s),s.tag=3,s}function p4(s,f,v,S){var k=v.type.getDerivedStateFromError;if(typeof k=="function"){var P=S.value;s.payload=function(){return k(P)},s.callback=function(){d4(f,v,S)}}var K=v.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(s.callback=function(){d4(f,v,S),typeof k!="function"&&(of===null?of=new Set([this]):of.add(this));var ge=S.stack;this.componentDidCatch(S.value,{componentStack:ge!==null?ge:""})})}function jB(s,f,v,S,k){if(v.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(f=v.alternate,f!==null&&yc(f,v,k,!0),v=ma.current,v!==null){switch(v.tag){case 31:case 13:return fn===null?Nm():v.alternate===null&&$a===0&&($a=3),v.flags&=-257,v.flags|=65536,v.lanes=k,S===Le?v.flags|=16384:(f=v.updateQueue,f===null?v.updateQueue=new Set([S]):f.add(S),Ry(s,S,k)),!1;case 22:return v.flags|=65536,S===Le?v.flags|=16384:(f=v.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([S])},v.updateQueue=f):(v=f.retryQueue,v===null?f.retryQueue=new Set([S]):v.add(S)),Ry(s,S,k)),!1}throw Error(n(435,v.tag))}return Ry(s,S,k),Nm(),!1}if(Jr)return f=ma.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=k,S!==Uo&&(s=Error(n(422),{cause:S}),Ku(go(s,v)))):(S!==Uo&&(f=Error(n(423),{cause:S}),Ku(go(f,v))),s=s.current.alternate,s.flags|=65536,k&=-k,s.lanes|=k,S=go(S,v),k=uy(s.stateNode,S,k),li(s,k),$a!==4&&($a=2)),!1;var P=Error(n(520),{cause:S});if(P=go(P,v),c1===null?c1=[P]:c1.push(P),$a!==4&&($a=2),f===null)return!0;S=go(S,v),v=f;do{switch(v.tag){case 3:return v.flags|=65536,s=k&-k,v.lanes|=s,s=uy(v.stateNode,S,s),li(v,s),!1;case 1:if(f=v.type,P=v.stateNode,(v.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(of===null||!of.has(P))))return v.flags|=65536,k&=-k,v.lanes|=k,k=h4(k),p4(k,s,v,S),li(v,k),!1}v=v.return}while(v!==null);return!1}var fy=Error(n(461)),xi=!1;function gs(s,f,v,S){f.child=s===null?Pr(f,null,v,S):Qn(f,s.child,v,S)}function m4(s,f,v,S,k){v=v.render;var P=f.ref;if("ref"in S){var K={};for(var ge in S)ge!=="ref"&&(K[ge]=S[ge])}else K=S;return xc(f),S=V0(s,f,v,K,P,k),ge=Y0(),s!==null&&!xi?(X0(s,f,k),au(s,f,k)):(Jr&&ge&&H0(f),f.flags|=1,gs(s,f,S,k),f.child)}function g4(s,f,v,S,k){if(s===null){var P=v.type;return typeof P=="function"&&!rh(P)&&P.defaultProps===void 0&&v.compare===null?(f.tag=15,f.type=P,v4(s,f,P,S,k)):(s=Vu(v.type,null,S,f,f.mode,k),s.ref=f.ref,s.return=f,f.child=s)}if(P=s.child,!yy(s,k)){var K=P.memoizedProps;if(v=v.compare,v=v!==null?v:O,v(K,S)&&s.ref===f.ref)return au(s,f,k)}return f.flags|=1,s=mo(P,S),s.ref=f.ref,s.return=f,f.child=s}function v4(s,f,v,S,k){if(s!==null){var P=s.memoizedProps;if(O(P,S)&&s.ref===f.ref)if(xi=!1,f.pendingProps=S=P,yy(s,k))(s.flags&131072)!==0&&(xi=!0);else return f.lanes=s.lanes,au(s,f,k)}return dy(s,f,v,S,k)}function b4(s,f,v,S){var k=S.children,P=s!==null?s.memoizedState:null;if(s===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),S.mode==="hidden"){if((f.flags&128)!==0){if(P=P!==null?P.baseLanes|v:v,s!==null){for(S=f.child=s.child,k=0;S!==null;)k=k|S.lanes|S.childLanes,S=S.sibling;S=k&~P}else S=0,f.child=null;return y4(s,f,P,v,S)}if((v&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},s!==null&&xe(f,P!==null?P.cachePool:null),P!==null?pa(f,P):vn(),qa(f);else return S=f.lanes=536870912,y4(s,f,P!==null?P.baseLanes|v:v,v,S)}else P!==null?(xe(f,P.cachePool),pa(f,P),Ha(),f.memoizedState=null):(s!==null&&xe(f,null),vn(),Ha());return gs(s,f,k,v),f.child}function r1(s,f){return s!==null&&s.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function y4(s,f,v,S,k){var P=ve();return P=P===null?null:{parent:ka._currentValue,pool:P},f.memoizedState={baseLanes:v,cachePool:P},s!==null&&xe(f,null),vn(),qa(f),s!==null&&yc(s,f,S,!0),f.childLanes=k,null}function mm(s,f){return f=vm({mode:f.mode,children:f.children},s.mode),f.ref=s.ref,s.child=f,f.return=s,f}function x4(s,f,v){return Qn(f,s.child,null,v),s=mm(f,f.pendingProps),s.flags|=2,Pn(f),f.memoizedState=null,s}function kB(s,f,v){var S=f.pendingProps,k=(f.flags&128)!==0;if(f.flags&=-129,s===null){if(Jr){if(S.mode==="hidden")return s=mm(f,S),f.lanes=536870912,r1(null,s);if(An(f),(s=Zn)?(s=IE(s,wa),s=s!==null&&s.data==="&"?s:null,s!==null&&(f.memoizedState={dehydrated:s,treeContext:mc!==null?{id:yo,overflow:xo}:null,retryLane:536870912,hydrationErrors:null},v=nh(s),v.return=f,f.child=v,ki=f,Zn=null)):s=null,s===null)throw gc(f);return f.lanes=536870912,null}return mm(f,S)}var P=s.memoizedState;if(P!==null){var K=P.dehydrated;if(An(f),k)if(f.flags&256)f.flags&=-257,f=x4(s,f,v);else if(f.memoizedState!==null)f.child=s.child,f.flags|=128,f=null;else throw Error(n(558));else if(xi||yc(s,f,v,!1),k=(v&s.childLanes)!==0,xi||k){if(S=Jn,S!==null&&(K=Ei(S,v),K!==0&&K!==P.retryLane))throw P.retryLane=K,Bl(s,K),Co(S,s,K),fy;Nm(),f=x4(s,f,v)}else s=P.treeContext,Zn=ml(K.nextSibling),ki=f,Jr=!0,ps=null,wa=!1,s!==null&&im(f,s),f=mm(f,S),f.flags|=4096;return f}return s=mo(s.child,{mode:S.mode,children:S.children}),s.ref=f.ref,f.child=s,s.return=f,s}function gm(s,f){var v=f.ref;if(v===null)s!==null&&s.ref!==null&&(f.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(n(284));(s===null||s.ref!==v)&&(f.flags|=4194816)}}function dy(s,f,v,S,k){return xc(f),v=V0(s,f,v,S,void 0,k),S=Y0(),s!==null&&!xi?(X0(s,f,k),au(s,f,k)):(Jr&&S&&H0(f),f.flags|=1,gs(s,f,v,k),f.child)}function w4(s,f,v,S,k,P){return xc(f),f.updateQueue=null,v=Ul(f,S,v,k),dh(s),S=Y0(),s!==null&&!xi?(X0(s,f,P),au(s,f,P)):(Jr&&S&&H0(f),f.flags|=1,gs(s,f,v,P),f.child)}function _4(s,f,v,S,k){if(xc(f),f.stateNode===null){var P=ji,K=v.contextType;typeof K=="object"&&K!==null&&(P=Mi(K)),P=new v(S,P),f.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=cy,f.stateNode=P,P._reactInternals=f,P=f.stateNode,P.props=S,P.state=f.memoizedState,P.refs={},St(f),K=v.contextType,P.context=typeof K=="object"&&K!==null?Mi(K):ji,P.state=f.memoizedState,K=v.getDerivedStateFromProps,typeof K=="function"&&(ly(f,v,K,S),P.state=f.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(K=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),K!==P.state&&cy.enqueueReplaceState(P,P.state,null),Ua(f,S,P,k),Hn(),P.state=f.memoizedState),typeof P.componentDidMount=="function"&&(f.flags|=4194308),S=!0}else if(s===null){P=f.stateNode;var ge=f.memoizedProps,ke=rd(v,ge);P.props=ke;var Xe=P.context,ft=v.contextType;K=ji,typeof ft=="object"&&ft!==null&&(K=Mi(ft));var mt=v.getDerivedStateFromProps;ft=typeof mt=="function"||typeof P.getSnapshotBeforeUpdate=="function",ge=f.pendingProps!==ge,ft||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(ge||Xe!==K)&&l4(f,P,S,K),Mt=!1;var Qe=f.memoizedState;P.state=Qe,Ua(f,S,P,k),Hn(),Xe=f.memoizedState,ge||Qe!==Xe||Mt?(typeof mt=="function"&&(ly(f,v,mt,S),Xe=f.memoizedState),(ke=Mt||o4(f,v,ke,S,Qe,Xe,K))?(ft||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(f.flags|=4194308)):(typeof P.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=Xe),P.props=S,P.state=Xe,P.context=K,S=ke):(typeof P.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{P=f.stateNode,ha(s,f),K=f.memoizedProps,ft=rd(v,K),P.props=ft,mt=f.pendingProps,Qe=P.context,Xe=v.contextType,ke=ji,typeof Xe=="object"&&Xe!==null&&(ke=Mi(Xe)),ge=v.getDerivedStateFromProps,(Xe=typeof ge=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(K!==mt||Qe!==ke)&&l4(f,P,S,ke),Mt=!1,Qe=f.memoizedState,P.state=Qe,Ua(f,S,P,k),Hn();var tt=f.memoizedState;K!==mt||Qe!==tt||Mt||s!==null&&s.dependencies!==null&&lh(s.dependencies)?(typeof ge=="function"&&(ly(f,v,ge,S),tt=f.memoizedState),(ft=Mt||o4(f,v,ft,S,Qe,tt,ke)||s!==null&&s.dependencies!==null&&lh(s.dependencies))?(Xe||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(S,tt,ke),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(S,tt,ke)),typeof P.componentDidUpdate=="function"&&(f.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof P.componentDidUpdate!="function"||K===s.memoizedProps&&Qe===s.memoizedState||(f.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||K===s.memoizedProps&&Qe===s.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=tt),P.props=S,P.state=tt,P.context=ke,S=ft):(typeof P.componentDidUpdate!="function"||K===s.memoizedProps&&Qe===s.memoizedState||(f.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||K===s.memoizedProps&&Qe===s.memoizedState||(f.flags|=1024),S=!1)}return P=S,gm(s,f),S=(f.flags&128)!==0,P||S?(P=f.stateNode,v=S&&typeof v.getDerivedStateFromError!="function"?null:P.render(),f.flags|=1,s!==null&&S?(f.child=Qn(f,s.child,null,k),f.child=Qn(f,null,v,k)):gs(s,f,v,k),f.memoizedState=P.state,s=f.child):s=au(s,f,k),s}function S4(s,f,v,S){return Jc(),f.flags|=256,gs(s,f,v,S),f.child}var hy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function py(s){return{baseLanes:s,cachePool:Oe()}}function my(s,f,v){return s=s!==null?s.childLanes&~v:0,f&&(s|=qo),s}function A4(s,f,v){var S=f.pendingProps,k=!1,P=(f.flags&128)!==0,K;if((K=P)||(K=s!==null&&s.memoizedState===null?!1:(on.current&2)!==0),K&&(k=!0,f.flags&=-129),K=(f.flags&32)!==0,f.flags&=-33,s===null){if(Jr){if(k?Ia(f):Ha(),(s=Zn)?(s=IE(s,wa),s=s!==null&&s.data!=="&"?s:null,s!==null&&(f.memoizedState={dehydrated:s,treeContext:mc!==null?{id:yo,overflow:xo}:null,retryLane:536870912,hydrationErrors:null},v=nh(s),v.return=f,f.child=v,ki=f,Zn=null)):s=null,s===null)throw gc(f);return Zy(s)?f.lanes=32:f.lanes=536870912,null}var ge=S.children;return S=S.fallback,k?(Ha(),k=f.mode,ge=vm({mode:"hidden",children:ge},k),S=pc(S,k,v,null),ge.return=f,S.return=f,ge.sibling=S,f.child=ge,S=f.child,S.memoizedState=py(v),S.childLanes=my(s,K,v),f.memoizedState=hy,r1(null,S)):(Ia(f),gy(f,ge))}var ke=s.memoizedState;if(ke!==null&&(ge=ke.dehydrated,ge!==null)){if(P)f.flags&256?(Ia(f),f.flags&=-257,f=vy(s,f,v)):f.memoizedState!==null?(Ha(),f.child=s.child,f.flags|=128,f=null):(Ha(),ge=S.fallback,k=f.mode,S=vm({mode:"visible",children:S.children},k),ge=pc(ge,k,v,null),ge.flags|=2,S.return=f,ge.return=f,S.sibling=ge,f.child=S,Qn(f,s.child,null,v),S=f.child,S.memoizedState=py(v),S.childLanes=my(s,K,v),f.memoizedState=hy,f=r1(null,S));else if(Ia(f),Zy(ge)){if(K=ge.nextSibling&&ge.nextSibling.dataset,K)var Xe=K.dgst;K=Xe,S=Error(n(419)),S.stack="",S.digest=K,Ku({value:S,source:null,stack:null}),f=vy(s,f,v)}else if(xi||yc(s,f,v,!1),K=(v&s.childLanes)!==0,xi||K){if(K=Jn,K!==null&&(S=Ei(K,v),S!==0&&S!==ke.retryLane))throw ke.retryLane=S,Bl(s,S),Co(K,s,S),fy;Ky(ge)||Nm(),f=vy(s,f,v)}else Ky(ge)?(f.flags|=192,f.child=s.child,f=null):(s=ke.treeContext,Zn=ml(ge.nextSibling),ki=f,Jr=!0,ps=null,wa=!1,s!==null&&im(f,s),f=gy(f,S.children),f.flags|=4096);return f}return k?(Ha(),ge=S.fallback,k=f.mode,ke=s.child,Xe=ke.sibling,S=mo(ke,{mode:"hidden",children:S.children}),S.subtreeFlags=ke.subtreeFlags&65011712,Xe!==null?ge=mo(Xe,ge):(ge=pc(ge,k,v,null),ge.flags|=2),ge.return=f,S.return=f,S.sibling=ge,f.child=S,r1(null,S),S=f.child,ge=s.child.memoizedState,ge===null?ge=py(v):(k=ge.cachePool,k!==null?(ke=ka._currentValue,k=k.parent!==ke?{parent:ke,pool:ke}:k):k=Oe(),ge={baseLanes:ge.baseLanes|v,cachePool:k}),S.memoizedState=ge,S.childLanes=my(s,K,v),f.memoizedState=hy,r1(s.child,S)):(Ia(f),v=s.child,s=v.sibling,v=mo(v,{mode:"visible",children:S.children}),v.return=f,v.sibling=null,s!==null&&(K=f.deletions,K===null?(f.deletions=[s],f.flags|=16):K.push(s)),f.child=v,f.memoizedState=null,v)}function gy(s,f){return f=vm({mode:"visible",children:f},s.mode),f.return=s,s.child=f}function vm(s,f){return s=Qi(22,s,null,f),s.lanes=0,s}function vy(s,f,v){return Qn(f,s.child,null,v),s=gy(f,f.pendingProps.children),s.flags|=2,f.memoizedState=null,s}function E4(s,f,v){s.lanes|=f;var S=s.alternate;S!==null&&(S.lanes|=f),Zu(s.return,f,v)}function by(s,f,v,S,k,P){var K=s.memoizedState;K===null?s.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:v,tailMode:k,treeForkCount:P}:(K.isBackwards=f,K.rendering=null,K.renderingStartTime=0,K.last=S,K.tail=v,K.tailMode=k,K.treeForkCount=P)}function N4(s,f,v){var S=f.pendingProps,k=S.revealOrder,P=S.tail;S=S.children;var K=on.current,ge=(K&2)!==0;if(ge?(K=K&1|2,f.flags|=128):K&=1,le(on,K),gs(s,f,S,v),S=Jr?Zf:0,!ge&&s!==null&&(s.flags&128)!==0)e:for(s=f.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&E4(s,v,f);else if(s.tag===19)E4(s,v,f);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===f)break e;for(;s.sibling===null;){if(s.return===null||s.return===f)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(k){case"forwards":for(v=f.child,k=null;v!==null;)s=v.alternate,s!==null&&es(s)===null&&(k=v),v=v.sibling;v=k,v===null?(k=f.child,f.child=null):(k=v.sibling,v.sibling=null),by(f,!1,k,v,P,S);break;case"backwards":case"unstable_legacy-backwards":for(v=null,k=f.child,f.child=null;k!==null;){if(s=k.alternate,s!==null&&es(s)===null){f.child=k;break}s=k.sibling,k.sibling=v,v=k,k=s}by(f,!0,v,null,P,S);break;case"together":by(f,!1,null,null,void 0,S);break;default:f.memoizedState=null}return f.child}function au(s,f,v){if(s!==null&&(f.dependencies=s.dependencies),sf|=f.lanes,(v&f.childLanes)===0)if(s!==null){if(yc(s,f,v,!1),(v&f.childLanes)===0)return null}else return null;if(s!==null&&f.child!==s.child)throw Error(n(153));if(f.child!==null){for(s=f.child,v=mo(s,s.pendingProps),f.child=v,v.return=f;s.sibling!==null;)s=s.sibling,v=v.sibling=mo(s,s.pendingProps),v.return=f;v.sibling=null}return f.child}function yy(s,f){return(s.lanes&f)!==0?!0:(s=s.dependencies,!!(s!==null&&lh(s)))}function IB(s,f,v){switch(f.tag){case 3:ze(f,f.stateNode.containerInfo),bc(f,ka,s.memoizedState.cache),Jc();break;case 27:case 5:Ge(f);break;case 4:ze(f,f.stateNode.containerInfo);break;case 10:bc(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,An(f),null;break;case 13:var S=f.memoizedState;if(S!==null)return S.dehydrated!==null?(Ia(f),f.flags|=128,null):(v&f.child.childLanes)!==0?A4(s,f,v):(Ia(f),s=au(s,f,v),s!==null?s.sibling:null);Ia(f);break;case 19:var k=(s.flags&128)!==0;if(S=(v&f.childLanes)!==0,S||(yc(s,f,v,!1),S=(v&f.childLanes)!==0),k){if(S)return N4(s,f,v);f.flags|=128}if(k=f.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),le(on,on.current),S)break;return null;case 22:return f.lanes=0,b4(s,f,v,f.pendingProps);case 24:bc(f,ka,s.memoizedState.cache)}return au(s,f,v)}function C4(s,f,v){if(s!==null)if(s.memoizedProps!==f.pendingProps)xi=!0;else{if(!yy(s,v)&&(f.flags&128)===0)return xi=!1,IB(s,f,v);xi=(s.flags&131072)!==0}else xi=!1,Jr&&(f.flags&1048576)!==0&&am(f,Zf,f.index);switch(f.lanes=0,f.tag){case 16:e:{var S=f.pendingProps;if(s=We(f.elementType),f.type=s,typeof s=="function")rh(s)?(S=rd(s,S),f.tag=1,f=_4(null,f,s,S,v)):(f.tag=0,f=dy(null,f,s,S,v));else{if(s!=null){var k=s.$$typeof;if(k===U){f.tag=11,f=m4(null,f,s,S,v);break e}else if(k===$){f.tag=14,f=g4(null,f,s,S,v);break e}}throw f=J(s)||s,Error(n(306,f,""))}}return f;case 0:return dy(s,f,f.type,f.pendingProps,v);case 1:return S=f.type,k=rd(S,f.pendingProps),_4(s,f,S,k,v);case 3:e:{if(ze(f,f.stateNode.containerInfo),s===null)throw Error(n(387));S=f.pendingProps;var P=f.memoizedState;k=P.element,ha(s,f),Ua(f,S,null,v);var K=f.memoizedState;if(S=K.cache,bc(f,ka,S),S!==P.cache&&eu(f,[ka],v,!0),Hn(),S=K.element,P.isDehydrated)if(P={element:S,isDehydrated:!1,cache:K.cache},f.updateQueue.baseState=P,f.memoizedState=P,f.flags&256){f=S4(s,f,S,v);break e}else if(S!==k){k=go(Error(n(424)),f),Ku(k),f=S4(s,f,S,v);break e}else{switch(s=f.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Zn=ml(s.firstChild),ki=f,Jr=!0,ps=null,wa=!0,v=Pr(f,null,S,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling}else{if(Jc(),S===k){f=au(s,f,v);break e}gs(s,f,S,v)}f=f.child}return f;case 26:return gm(s,f),s===null?(v=BE(f.type,null,f.pendingProps,null))?f.memoizedState=v:Jr||(v=f.type,s=f.pendingProps,S=Mm(we.current).createElement(v),S[pn]=f,S[Hr]=s,vs(S,v,s),Yn(S),f.stateNode=S):f.memoizedState=BE(f.type,s.memoizedProps,f.pendingProps,s.memoizedState),null;case 27:return Ge(f),s===null&&Jr&&(S=f.stateNode=RE(f.type,f.pendingProps,we.current),ki=f,wa=!0,k=Zn,ff(f.type)?(Qy=k,Zn=ml(S.firstChild)):Zn=k),gs(s,f,f.pendingProps.children,v),gm(s,f),s===null&&(f.flags|=4194304),f.child;case 5:return s===null&&Jr&&((k=S=Zn)&&(S=lF(S,f.type,f.pendingProps,wa),S!==null?(f.stateNode=S,ki=f,Zn=ml(S.firstChild),wa=!1,k=!0):k=!1),k||gc(f)),Ge(f),k=f.type,P=f.pendingProps,K=s!==null?s.memoizedProps:null,S=P.children,Vy(k,P)?S=null:K!==null&&Vy(k,K)&&(f.flags|=32),f.memoizedState!==null&&(k=V0(s,f,ey,null,null,v),v1._currentValue=k),gm(s,f),gs(s,f,S,v),f.child;case 6:return s===null&&Jr&&((s=v=Zn)&&(v=cF(v,f.pendingProps,wa),v!==null?(f.stateNode=v,ki=f,Zn=null,s=!0):s=!1),s||gc(f)),null;case 13:return A4(s,f,v);case 4:return ze(f,f.stateNode.containerInfo),S=f.pendingProps,s===null?f.child=Qn(f,null,S,v):gs(s,f,S,v),f.child;case 11:return m4(s,f,f.type,f.pendingProps,v);case 7:return gs(s,f,f.pendingProps,v),f.child;case 8:return gs(s,f,f.pendingProps.children,v),f.child;case 12:return gs(s,f,f.pendingProps.children,v),f.child;case 10:return S=f.pendingProps,bc(f,f.type,S.value),gs(s,f,S.children,v),f.child;case 9:return k=f.type._context,S=f.pendingProps.children,xc(f),k=Mi(k),S=S(k),f.flags|=1,gs(s,f,S,v),f.child;case 14:return g4(s,f,f.type,f.pendingProps,v);case 15:return v4(s,f,f.type,f.pendingProps,v);case 19:return N4(s,f,v);case 31:return kB(s,f,v);case 22:return b4(s,f,v,f.pendingProps);case 24:return xc(f),S=Mi(ka),s===null?(k=ve(),k===null&&(k=Jn,P=Qu(),k.pooledCache=P,P.refCount++,P!==null&&(k.pooledCacheLanes|=v),k=P),f.memoizedState={parent:S,cache:k},St(f),bc(f,ka,k)):((s.lanes&v)!==0&&(ha(s,f),Ua(f,null,null,v),Hn()),k=s.memoizedState,P=f.memoizedState,k.parent!==S?(k={parent:S,cache:S},f.memoizedState=k,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=k),bc(f,ka,S)):(S=P.cache,bc(f,ka,S),S!==k.cache&&eu(f,[ka],v,!0))),gs(s,f,f.pendingProps.children,v),f.child;case 29:throw f.pendingProps}throw Error(n(156,f.tag))}function iu(s){s.flags|=4}function xy(s,f,v,S,k){if((f=(s.mode&32)!==0)&&(f=!1),f){if(s.flags|=16777216,(k&335544128)===k)if(s.stateNode.complete)s.flags|=8192;else if(eE())s.flags|=8192;else throw at=Le,Ve}else s.flags&=-16777217}function O4(s,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!HE(f))if(eE())s.flags|=8192;else throw at=Le,Ve}function bm(s,f){f!==null&&(s.flags|=4),s.flags&16384&&(f=s.tag!==22?jn():536870912,s.lanes|=f,Sh|=f)}function n1(s,f){if(!Jr)switch(s.tailMode){case"hidden":f=s.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?s.tail=null:v.sibling=null;break;case"collapsed":v=s.tail;for(var S=null;v!==null;)v.alternate!==null&&(S=v),v=v.sibling;S===null?f||s.tail===null?s.tail=null:s.tail.sibling=null:S.sibling=null}}function ga(s){var f=s.alternate!==null&&s.alternate.child===s.child,v=0,S=0;if(f)for(var k=s.child;k!==null;)v|=k.lanes|k.childLanes,S|=k.subtreeFlags&65011712,S|=k.flags&65011712,k.return=s,k=k.sibling;else for(k=s.child;k!==null;)v|=k.lanes|k.childLanes,S|=k.subtreeFlags,S|=k.flags,k.return=s,k=k.sibling;return s.subtreeFlags|=S,s.childLanes=v,f}function MB(s,f,v){var S=f.pendingProps;switch(sh(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ga(f),null;case 1:return ga(f),null;case 3:return v=f.stateNode,S=null,s!==null&&(S=s.memoizedState.cache),f.memoizedState.cache!==S&&(f.flags|=2048),wo(ka),Te(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(s===null||s.child===null)&&(Ii(f)?iu(f):s===null||s.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,$0())),ga(f),null;case 26:var k=f.type,P=f.memoizedState;return s===null?(iu(f),P!==null?(ga(f),O4(f,P)):(ga(f),xy(f,k,null,S,v))):P?P!==s.memoizedState?(iu(f),ga(f),O4(f,P)):(ga(f),f.flags&=-16777217):(s=s.memoizedProps,s!==S&&iu(f),ga(f),xy(f,k,s,S,v)),null;case 27:if(Je(f),v=we.current,k=f.type,s!==null&&f.stateNode!=null)s.memoizedProps!==S&&iu(f);else{if(!S){if(f.stateNode===null)throw Error(n(166));return ga(f),null}s=me.current,Ii(f)?G0(f):(s=RE(k,S,v),f.stateNode=s,iu(f))}return ga(f),null;case 5:if(Je(f),k=f.type,s!==null&&f.stateNode!=null)s.memoizedProps!==S&&iu(f);else{if(!S){if(f.stateNode===null)throw Error(n(166));return ga(f),null}if(P=me.current,Ii(f))G0(f);else{var K=Mm(we.current);switch(P){case 1:P=K.createElementNS("http://www.w3.org/2000/svg",k);break;case 2:P=K.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;default:switch(k){case"svg":P=K.createElementNS("http://www.w3.org/2000/svg",k);break;case"math":P=K.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;case"script":P=K.createElement("div"),P.innerHTML="<script><\/script>",P=P.removeChild(P.firstChild);break;case"select":P=typeof S.is=="string"?K.createElement("select",{is:S.is}):K.createElement("select"),S.multiple?P.multiple=!0:S.size&&(P.size=S.size);break;default:P=typeof S.is=="string"?K.createElement(k,{is:S.is}):K.createElement(k)}}P[pn]=f,P[Hr]=S;e:for(K=f.child;K!==null;){if(K.tag===5||K.tag===6)P.appendChild(K.stateNode);else if(K.tag!==4&&K.tag!==27&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===f)break e;for(;K.sibling===null;){if(K.return===null||K.return===f)break e;K=K.return}K.sibling.return=K.return,K=K.sibling}f.stateNode=P;e:switch(vs(P,k,S),k){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}S&&iu(f)}}return ga(f),xy(f,f.type,s===null?null:s.memoizedProps,f.pendingProps,v),null;case 6:if(s&&f.stateNode!=null)s.memoizedProps!==S&&iu(f);else{if(typeof S!="string"&&f.stateNode===null)throw Error(n(166));if(s=we.current,Ii(f)){if(s=f.stateNode,v=f.memoizedProps,S=null,k=ki,k!==null)switch(k.tag){case 27:case 5:S=k.memoizedProps}s[pn]=f,s=!!(s.nodeValue===v||S!==null&&S.suppressHydrationWarning===!0||AE(s.nodeValue,v)),s||gc(f,!0)}else s=Mm(s).createTextNode(S),s[pn]=f,f.stateNode=s}return ga(f),null;case 31:if(v=f.memoizedState,s===null||s.memoizedState!==null){if(S=Ii(f),v!==null){if(s===null){if(!S)throw Error(n(318));if(s=f.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[pn]=f}else Jc(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;ga(f),s=!1}else v=$0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),s=!0;if(!s)return f.flags&256?(Pn(f),f):(Pn(f),null);if((f.flags&128)!==0)throw Error(n(558))}return ga(f),null;case 13:if(S=f.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(k=Ii(f),S!==null&&S.dehydrated!==null){if(s===null){if(!k)throw Error(n(318));if(k=f.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[pn]=f}else Jc(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;ga(f),k=!1}else k=$0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=k),k=!0;if(!k)return f.flags&256?(Pn(f),f):(Pn(f),null)}return Pn(f),(f.flags&128)!==0?(f.lanes=v,f):(v=S!==null,s=s!==null&&s.memoizedState!==null,v&&(S=f.child,k=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(k=S.alternate.memoizedState.cachePool.pool),P=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(P=S.memoizedState.cachePool.pool),P!==k&&(S.flags|=2048)),v!==s&&v&&(f.child.flags|=8192),bm(f,f.updateQueue),ga(f),null);case 4:return Te(),s===null&&qy(f.stateNode.containerInfo),ga(f),null;case 10:return wo(f.type),ga(f),null;case 19:if(Y(on),S=f.memoizedState,S===null)return ga(f),null;if(k=(f.flags&128)!==0,P=S.rendering,P===null)if(k)n1(S,!1);else{if($a!==0||s!==null&&(s.flags&128)!==0)for(s=f.child;s!==null;){if(P=es(s),P!==null){for(f.flags|=128,n1(S,!1),s=P.updateQueue,f.updateQueue=s,bm(f,s),f.subtreeFlags=0,s=v,v=f.child;v!==null;)Xf(v,s),v=v.sibling;return le(on,on.current&1|2),Jr&&Zs(f,S.treeForkCount),f.child}s=s.sibling}S.tail!==null&&vr()>Sm&&(f.flags|=128,k=!0,n1(S,!1),f.lanes=4194304)}else{if(!k)if(s=es(P),s!==null){if(f.flags|=128,k=!0,s=s.updateQueue,f.updateQueue=s,bm(f,s),n1(S,!0),S.tail===null&&S.tailMode==="hidden"&&!P.alternate&&!Jr)return ga(f),null}else 2*vr()-S.renderingStartTime>Sm&&v!==536870912&&(f.flags|=128,k=!0,n1(S,!1),f.lanes=4194304);S.isBackwards?(P.sibling=f.child,f.child=P):(s=S.last,s!==null?s.sibling=P:f.child=P,S.last=P)}return S.tail!==null?(s=S.tail,S.rendering=s,S.tail=s.sibling,S.renderingStartTime=vr(),s.sibling=null,v=on.current,le(on,k?v&1|2:v&1),Jr&&Zs(f,S.treeForkCount),s):(ga(f),null);case 22:case 23:return Pn(f),ci(),S=f.memoizedState!==null,s!==null?s.memoizedState!==null!==S&&(f.flags|=8192):S&&(f.flags|=8192),S?(v&536870912)!==0&&(f.flags&128)===0&&(ga(f),f.subtreeFlags&6&&(f.flags|=8192)):ga(f),v=f.updateQueue,v!==null&&bm(f,v.retryQueue),v=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(v=s.memoizedState.cachePool.pool),S=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(S=f.memoizedState.cachePool.pool),S!==v&&(f.flags|=2048),s!==null&&Y(de),null;case 24:return v=null,s!==null&&(v=s.memoizedState.cache),f.memoizedState.cache!==v&&(f.flags|=2048),wo(ka),ga(f),null;case 25:return null;case 30:return null}throw Error(n(156,f.tag))}function PB(s,f){switch(sh(f),f.tag){case 1:return s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 3:return wo(ka),Te(),s=f.flags,(s&65536)!==0&&(s&128)===0?(f.flags=s&-65537|128,f):null;case 26:case 27:case 5:return Je(f),null;case 31:if(f.memoizedState!==null){if(Pn(f),f.alternate===null)throw Error(n(340));Jc()}return s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 13:if(Pn(f),s=f.memoizedState,s!==null&&s.dehydrated!==null){if(f.alternate===null)throw Error(n(340));Jc()}return s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 19:return Y(on),null;case 4:return Te(),null;case 10:return wo(f.type),null;case 22:case 23:return Pn(f),ci(),s!==null&&Y(de),s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 24:return wo(ka),null;case 25:return null;default:return null}}function T4(s,f){switch(sh(f),f.tag){case 3:wo(ka),Te();break;case 26:case 27:case 5:Je(f);break;case 4:Te();break;case 31:f.memoizedState!==null&&Pn(f);break;case 13:Pn(f);break;case 19:Y(on);break;case 10:wo(f.type);break;case 22:case 23:Pn(f),ci(),s!==null&&Y(de);break;case 24:wo(ka)}}function a1(s,f){try{var v=f.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var k=S.next;v=k;do{if((v.tag&s)===s){S=void 0;var P=v.create,K=v.inst;S=P(),K.destroy=S}v=v.next}while(v!==k)}}catch(ge){Dn(f,f.return,ge)}}function nf(s,f,v){try{var S=f.updateQueue,k=S!==null?S.lastEffect:null;if(k!==null){var P=k.next;S=P;do{if((S.tag&s)===s){var K=S.inst,ge=K.destroy;if(ge!==void 0){K.destroy=void 0,k=f;var ke=v,Xe=ge;try{Xe()}catch(ft){Dn(k,ke,ft)}}}S=S.next}while(S!==P)}}catch(ft){Dn(f,f.return,ft)}}function j4(s){var f=s.updateQueue;if(f!==null){var v=s.stateNode;try{za(f,v)}catch(S){Dn(s,s.return,S)}}}function k4(s,f,v){v.props=rd(s.type,s.memoizedProps),v.state=s.memoizedState;try{v.componentWillUnmount()}catch(S){Dn(s,f,S)}}function i1(s,f){try{var v=s.ref;if(v!==null){switch(s.tag){case 26:case 27:case 5:var S=s.stateNode;break;case 30:S=s.stateNode;break;default:S=s.stateNode}typeof v=="function"?s.refCleanup=v(S):v.current=S}}catch(k){Dn(s,f,k)}}function Ec(s,f){var v=s.ref,S=s.refCleanup;if(v!==null)if(typeof S=="function")try{S()}catch(k){Dn(s,f,k)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(k){Dn(s,f,k)}else v.current=null}function I4(s){var f=s.type,v=s.memoizedProps,S=s.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":v.autoFocus&&S.focus();break e;case"img":v.src?S.src=v.src:v.srcSet&&(S.srcset=v.srcSet)}}catch(k){Dn(s,s.return,k)}}function wy(s,f,v){try{var S=s.stateNode;rF(S,s.type,v,f),S[Hr]=f}catch(k){Dn(s,s.return,k)}}function M4(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ff(s.type)||s.tag===4}function _y(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||M4(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ff(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Sy(s,f,v){var S=s.tag;if(S===5||S===6)s=s.stateNode,f?(v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v).insertBefore(s,f):(f=v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v,f.appendChild(s),v=v._reactRootContainer,v!=null||f.onclick!==null||(f.onclick=Gi));else if(S!==4&&(S===27&&ff(s.type)&&(v=s.stateNode,f=null),s=s.child,s!==null))for(Sy(s,f,v),s=s.sibling;s!==null;)Sy(s,f,v),s=s.sibling}function ym(s,f,v){var S=s.tag;if(S===5||S===6)s=s.stateNode,f?v.insertBefore(s,f):v.appendChild(s);else if(S!==4&&(S===27&&ff(s.type)&&(v=s.stateNode),s=s.child,s!==null))for(ym(s,f,v),s=s.sibling;s!==null;)ym(s,f,v),s=s.sibling}function P4(s){var f=s.stateNode,v=s.memoizedProps;try{for(var S=s.type,k=f.attributes;k.length;)f.removeAttributeNode(k[0]);vs(f,S,v),f[pn]=s,f[Hr]=v}catch(P){Dn(s,s.return,P)}}var su=!1,wi=!1,Ay=!1,R4=typeof WeakSet=="function"?WeakSet:Set,ts=null;function RB(s,f){if(s=s.containerInfo,$y=Um,s=te(s),ce(s)){if("selectionStart"in s)var v={start:s.selectionStart,end:s.selectionEnd};else e:{v=(v=s.ownerDocument)&&v.defaultView||window;var S=v.getSelection&&v.getSelection();if(S&&S.rangeCount!==0){v=S.anchorNode;var k=S.anchorOffset,P=S.focusNode;S=S.focusOffset;try{v.nodeType,P.nodeType}catch{v=null;break e}var K=0,ge=-1,ke=-1,Xe=0,ft=0,mt=s,Qe=null;t:for(;;){for(var tt;mt!==v||k!==0&&mt.nodeType!==3||(ge=K+k),mt!==P||S!==0&&mt.nodeType!==3||(ke=K+S),mt.nodeType===3&&(K+=mt.nodeValue.length),(tt=mt.firstChild)!==null;)Qe=mt,mt=tt;for(;;){if(mt===s)break t;if(Qe===v&&++Xe===k&&(ge=K),Qe===P&&++ft===S&&(ke=K),(tt=mt.nextSibling)!==null)break;mt=Qe,Qe=mt.parentNode}mt=tt}v=ge===-1||ke===-1?null:{start:ge,end:ke}}else v=null}v=v||{start:0,end:0}}else v=null;for(Wy={focusedElem:s,selectionRange:v},Um=!1,ts=f;ts!==null;)if(f=ts,s=f.child,(f.subtreeFlags&1028)!==0&&s!==null)s.return=f,ts=s;else for(;ts!==null;){switch(f=ts,P=f.alternate,s=f.flags,f.tag){case 0:if((s&4)!==0&&(s=f.updateQueue,s=s!==null?s.events:null,s!==null))for(v=0;v<s.length;v++)k=s[v],k.ref.impl=k.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&P!==null){s=void 0,v=f,k=P.memoizedProps,P=P.memoizedState,S=v.stateNode;try{var qt=rd(v.type,k);s=S.getSnapshotBeforeUpdate(qt,P),S.__reactInternalSnapshotBeforeUpdate=s}catch(Ar){Dn(v,v.return,Ar)}}break;case 3:if((s&1024)!==0){if(s=f.stateNode.containerInfo,v=s.nodeType,v===9)Xy(s);else if(v===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Xy(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=f.sibling,s!==null){s.return=f.return,ts=s;break}ts=f.return}}function D4(s,f,v){var S=v.flags;switch(v.tag){case 0:case 11:case 15:lu(s,v),S&4&&a1(5,v);break;case 1:if(lu(s,v),S&4)if(s=v.stateNode,f===null)try{s.componentDidMount()}catch(K){Dn(v,v.return,K)}else{var k=rd(v.type,f.memoizedProps);f=f.memoizedState;try{s.componentDidUpdate(k,f,s.__reactInternalSnapshotBeforeUpdate)}catch(K){Dn(v,v.return,K)}}S&64&&j4(v),S&512&&i1(v,v.return);break;case 3:if(lu(s,v),S&64&&(s=v.updateQueue,s!==null)){if(f=null,v.child!==null)switch(v.child.tag){case 27:case 5:f=v.child.stateNode;break;case 1:f=v.child.stateNode}try{za(s,f)}catch(K){Dn(v,v.return,K)}}break;case 27:f===null&&S&4&&P4(v);case 26:case 5:lu(s,v),f===null&&S&4&&I4(v),S&512&&i1(v,v.return);break;case 12:lu(s,v);break;case 31:lu(s,v),S&4&&F4(s,v);break;case 13:lu(s,v),S&4&&U4(s,v),S&64&&(s=v.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(v=GB.bind(null,v),uF(s,v))));break;case 22:if(S=v.memoizedState!==null||su,!S){f=f!==null&&f.memoizedState!==null||wi,k=su;var P=wi;su=S,(wi=f)&&!P?cu(s,v,(v.subtreeFlags&8772)!==0):lu(s,v),su=k,wi=P}break;case 30:break;default:lu(s,v)}}function L4(s){var f=s.alternate;f!==null&&(s.alternate=null,L4(f)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(f=s.stateNode,f!==null&&ri(f)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Aa=null,So=!1;function ou(s,f,v){for(v=v.child;v!==null;)B4(s,f,v),v=v.sibling}function B4(s,f,v){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(tr,v)}catch{}switch(v.tag){case 26:wi||Ec(v,f),ou(s,f,v),v.memoizedState?v.memoizedState.count--:v.stateNode&&(v=v.stateNode,v.parentNode.removeChild(v));break;case 27:wi||Ec(v,f);var S=Aa,k=So;ff(v.type)&&(Aa=v.stateNode,So=!1),ou(s,f,v),p1(v.stateNode),Aa=S,So=k;break;case 5:wi||Ec(v,f);case 6:if(S=Aa,k=So,Aa=null,ou(s,f,v),Aa=S,So=k,Aa!==null)if(So)try{(Aa.nodeType===9?Aa.body:Aa.nodeName==="HTML"?Aa.ownerDocument.body:Aa).removeChild(v.stateNode)}catch(P){Dn(v,f,P)}else try{Aa.removeChild(v.stateNode)}catch(P){Dn(v,f,P)}break;case 18:Aa!==null&&(So?(s=Aa,jE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,v.stateNode),kh(s)):jE(Aa,v.stateNode));break;case 4:S=Aa,k=So,Aa=v.stateNode.containerInfo,So=!0,ou(s,f,v),Aa=S,So=k;break;case 0:case 11:case 14:case 15:nf(2,v,f),wi||nf(4,v,f),ou(s,f,v);break;case 1:wi||(Ec(v,f),S=v.stateNode,typeof S.componentWillUnmount=="function"&&k4(v,f,S)),ou(s,f,v);break;case 21:ou(s,f,v);break;case 22:wi=(S=wi)||v.memoizedState!==null,ou(s,f,v),wi=S;break;default:ou(s,f,v)}}function F4(s,f){if(f.memoizedState===null&&(s=f.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{kh(s)}catch(v){Dn(f,f.return,v)}}}function U4(s,f){if(f.memoizedState===null&&(s=f.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{kh(s)}catch(v){Dn(f,f.return,v)}}function DB(s){switch(s.tag){case 31:case 13:case 19:var f=s.stateNode;return f===null&&(f=s.stateNode=new R4),f;case 22:return s=s.stateNode,f=s._retryCache,f===null&&(f=s._retryCache=new R4),f;default:throw Error(n(435,s.tag))}}function xm(s,f){var v=DB(s);f.forEach(function(S){if(!v.has(S)){v.add(S);var k=$B.bind(null,s,S);S.then(k,k)}})}function Ao(s,f){var v=f.deletions;if(v!==null)for(var S=0;S<v.length;S++){var k=v[S],P=s,K=f,ge=K;e:for(;ge!==null;){switch(ge.tag){case 27:if(ff(ge.type)){Aa=ge.stateNode,So=!1;break e}break;case 5:Aa=ge.stateNode,So=!1;break e;case 3:case 4:Aa=ge.stateNode.containerInfo,So=!0;break e}ge=ge.return}if(Aa===null)throw Error(n(160));B4(P,K,k),Aa=null,So=!1,P=k.alternate,P!==null&&(P.return=null),k.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)z4(f,s),f=f.sibling}var Gl=null;function z4(s,f){var v=s.alternate,S=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ao(f,s),Eo(s),S&4&&(nf(3,s,s.return),a1(3,s),nf(5,s,s.return));break;case 1:Ao(f,s),Eo(s),S&512&&(wi||v===null||Ec(v,v.return)),S&64&&su&&(s=s.updateQueue,s!==null&&(S=s.callbacks,S!==null&&(v=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=v===null?S:v.concat(S))));break;case 26:var k=Gl;if(Ao(f,s),Eo(s),S&512&&(wi||v===null||Ec(v,v.return)),S&4){var P=v!==null?v.memoizedState:null;if(S=s.memoizedState,v===null)if(S===null)if(s.stateNode===null){e:{S=s.type,v=s.memoizedProps,k=k.ownerDocument||k;t:switch(S){case"title":P=k.getElementsByTagName("title")[0],(!P||P[zs]||P[pn]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=k.createElement(S),k.head.insertBefore(P,k.querySelector("head > title"))),vs(P,S,v),P[pn]=s,Yn(P),S=P;break e;case"link":var K=zE("link","href",k).get(S+(v.href||""));if(K){for(var ge=0;ge<K.length;ge++)if(P=K[ge],P.getAttribute("href")===(v.href==null||v.href===""?null:v.href)&&P.getAttribute("rel")===(v.rel==null?null:v.rel)&&P.getAttribute("title")===(v.title==null?null:v.title)&&P.getAttribute("crossorigin")===(v.crossOrigin==null?null:v.crossOrigin)){K.splice(ge,1);break t}}P=k.createElement(S),vs(P,S,v),k.head.appendChild(P);break;case"meta":if(K=zE("meta","content",k).get(S+(v.content||""))){for(ge=0;ge<K.length;ge++)if(P=K[ge],P.getAttribute("content")===(v.content==null?null:""+v.content)&&P.getAttribute("name")===(v.name==null?null:v.name)&&P.getAttribute("property")===(v.property==null?null:v.property)&&P.getAttribute("http-equiv")===(v.httpEquiv==null?null:v.httpEquiv)&&P.getAttribute("charset")===(v.charSet==null?null:v.charSet)){K.splice(ge,1);break t}}P=k.createElement(S),vs(P,S,v),k.head.appendChild(P);break;default:throw Error(n(468,S))}P[pn]=s,Yn(P),S=P}s.stateNode=S}else qE(k,s.type,s.stateNode);else s.stateNode=UE(k,S,s.memoizedProps);else P!==S?(P===null?v.stateNode!==null&&(v=v.stateNode,v.parentNode.removeChild(v)):P.count--,S===null?qE(k,s.type,s.stateNode):UE(k,S,s.memoizedProps)):S===null&&s.stateNode!==null&&wy(s,s.memoizedProps,v.memoizedProps)}break;case 27:Ao(f,s),Eo(s),S&512&&(wi||v===null||Ec(v,v.return)),v!==null&&S&4&&wy(s,s.memoizedProps,v.memoizedProps);break;case 5:if(Ao(f,s),Eo(s),S&512&&(wi||v===null||Ec(v,v.return)),s.flags&32){k=s.stateNode;try{Hs(k,"")}catch(qt){Dn(s,s.return,qt)}}S&4&&s.stateNode!=null&&(k=s.memoizedProps,wy(s,k,v!==null?v.memoizedProps:k)),S&1024&&(Ay=!0);break;case 6:if(Ao(f,s),Eo(s),S&4){if(s.stateNode===null)throw Error(n(162));S=s.memoizedProps,v=s.stateNode;try{v.nodeValue=S}catch(qt){Dn(s,s.return,qt)}}break;case 3:if(Dm=null,k=Gl,Gl=Pm(f.containerInfo),Ao(f,s),Gl=k,Eo(s),S&4&&v!==null&&v.memoizedState.isDehydrated)try{kh(f.containerInfo)}catch(qt){Dn(s,s.return,qt)}Ay&&(Ay=!1,q4(s));break;case 4:S=Gl,Gl=Pm(s.stateNode.containerInfo),Ao(f,s),Eo(s),Gl=S;break;case 12:Ao(f,s),Eo(s);break;case 31:Ao(f,s),Eo(s),S&4&&(S=s.updateQueue,S!==null&&(s.updateQueue=null,xm(s,S)));break;case 13:Ao(f,s),Eo(s),s.child.flags&8192&&s.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(_m=vr()),S&4&&(S=s.updateQueue,S!==null&&(s.updateQueue=null,xm(s,S)));break;case 22:k=s.memoizedState!==null;var ke=v!==null&&v.memoizedState!==null,Xe=su,ft=wi;if(su=Xe||k,wi=ft||ke,Ao(f,s),wi=ft,su=Xe,Eo(s),S&8192)e:for(f=s.stateNode,f._visibility=k?f._visibility&-2:f._visibility|1,k&&(v===null||ke||su||wi||nd(s)),v=null,f=s;;){if(f.tag===5||f.tag===26){if(v===null){ke=v=f;try{if(P=ke.stateNode,k)K=P.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none";else{ge=ke.stateNode;var mt=ke.memoizedProps.style,Qe=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;ge.style.display=Qe==null||typeof Qe=="boolean"?"":(""+Qe).trim()}}catch(qt){Dn(ke,ke.return,qt)}}}else if(f.tag===6){if(v===null){ke=f;try{ke.stateNode.nodeValue=k?"":ke.memoizedProps}catch(qt){Dn(ke,ke.return,qt)}}}else if(f.tag===18){if(v===null){ke=f;try{var tt=ke.stateNode;k?kE(tt,!0):kE(ke.stateNode,!1)}catch(qt){Dn(ke,ke.return,qt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===s)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;v===f&&(v=null),f=f.return}v===f&&(v=null),f.sibling.return=f.return,f=f.sibling}S&4&&(S=s.updateQueue,S!==null&&(v=S.retryQueue,v!==null&&(S.retryQueue=null,xm(s,v))));break;case 19:Ao(f,s),Eo(s),S&4&&(S=s.updateQueue,S!==null&&(s.updateQueue=null,xm(s,S)));break;case 30:break;case 21:break;default:Ao(f,s),Eo(s)}}function Eo(s){var f=s.flags;if(f&2){try{for(var v,S=s.return;S!==null;){if(M4(S)){v=S;break}S=S.return}if(v==null)throw Error(n(160));switch(v.tag){case 27:var k=v.stateNode,P=_y(s);ym(s,P,k);break;case 5:var K=v.stateNode;v.flags&32&&(Hs(K,""),v.flags&=-33);var ge=_y(s);ym(s,ge,K);break;case 3:case 4:var ke=v.stateNode.containerInfo,Xe=_y(s);Sy(s,Xe,ke);break;default:throw Error(n(161))}}catch(ft){Dn(s,s.return,ft)}s.flags&=-3}f&4096&&(s.flags&=-4097)}function q4(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var f=s;q4(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),s=s.sibling}}function lu(s,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)D4(s,f.alternate,f),f=f.sibling}function nd(s){for(s=s.child;s!==null;){var f=s;switch(f.tag){case 0:case 11:case 14:case 15:nf(4,f,f.return),nd(f);break;case 1:Ec(f,f.return);var v=f.stateNode;typeof v.componentWillUnmount=="function"&&k4(f,f.return,v),nd(f);break;case 27:p1(f.stateNode);case 26:case 5:Ec(f,f.return),nd(f);break;case 22:f.memoizedState===null&&nd(f);break;case 30:nd(f);break;default:nd(f)}s=s.sibling}}function cu(s,f,v){for(v=v&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var S=f.alternate,k=s,P=f,K=P.flags;switch(P.tag){case 0:case 11:case 15:cu(k,P,v),a1(4,P);break;case 1:if(cu(k,P,v),S=P,k=S.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(Xe){Dn(S,S.return,Xe)}if(S=P,k=S.updateQueue,k!==null){var ge=S.stateNode;try{var ke=k.shared.hiddenCallbacks;if(ke!==null)for(k.shared.hiddenCallbacks=null,k=0;k<ke.length;k++)Ji(ke[k],ge)}catch(Xe){Dn(S,S.return,Xe)}}v&&K&64&&j4(P),i1(P,P.return);break;case 27:P4(P);case 26:case 5:cu(k,P,v),v&&S===null&&K&4&&I4(P),i1(P,P.return);break;case 12:cu(k,P,v);break;case 31:cu(k,P,v),v&&K&4&&F4(k,P);break;case 13:cu(k,P,v),v&&K&4&&U4(k,P);break;case 22:P.memoizedState===null&&cu(k,P,v),i1(P,P.return);break;case 30:break;default:cu(k,P,v)}f=f.sibling}}function Ey(s,f){var v=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(v=s.memoizedState.cachePool.pool),s=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(s=f.memoizedState.cachePool.pool),s!==v&&(s!=null&&s.refCount++,v!=null&&Qf(v))}function Ny(s,f){s=null,f.alternate!==null&&(s=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==s&&(f.refCount++,s!=null&&Qf(s))}function $l(s,f,v,S){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)H4(s,f,v,S),f=f.sibling}function H4(s,f,v,S){var k=f.flags;switch(f.tag){case 0:case 11:case 15:$l(s,f,v,S),k&2048&&a1(9,f);break;case 1:$l(s,f,v,S);break;case 3:$l(s,f,v,S),k&2048&&(s=null,f.alternate!==null&&(s=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==s&&(f.refCount++,s!=null&&Qf(s)));break;case 12:if(k&2048){$l(s,f,v,S),s=f.stateNode;try{var P=f.memoizedProps,K=P.id,ge=P.onPostCommit;typeof ge=="function"&&ge(K,f.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ke){Dn(f,f.return,ke)}}else $l(s,f,v,S);break;case 31:$l(s,f,v,S);break;case 13:$l(s,f,v,S);break;case 23:break;case 22:P=f.stateNode,K=f.alternate,f.memoizedState!==null?P._visibility&2?$l(s,f,v,S):s1(s,f):P._visibility&2?$l(s,f,v,S):(P._visibility|=2,xh(s,f,v,S,(f.subtreeFlags&10256)!==0||!1)),k&2048&&Ey(K,f);break;case 24:$l(s,f,v,S),k&2048&&Ny(f.alternate,f);break;default:$l(s,f,v,S)}}function xh(s,f,v,S,k){for(k=k&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var P=s,K=f,ge=v,ke=S,Xe=K.flags;switch(K.tag){case 0:case 11:case 15:xh(P,K,ge,ke,k),a1(8,K);break;case 23:break;case 22:var ft=K.stateNode;K.memoizedState!==null?ft._visibility&2?xh(P,K,ge,ke,k):s1(P,K):(ft._visibility|=2,xh(P,K,ge,ke,k)),k&&Xe&2048&&Ey(K.alternate,K);break;case 24:xh(P,K,ge,ke,k),k&&Xe&2048&&Ny(K.alternate,K);break;default:xh(P,K,ge,ke,k)}f=f.sibling}}function s1(s,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var v=s,S=f,k=S.flags;switch(S.tag){case 22:s1(v,S),k&2048&&Ey(S.alternate,S);break;case 24:s1(v,S),k&2048&&Ny(S.alternate,S);break;default:s1(v,S)}f=f.sibling}}var o1=8192;function wh(s,f,v){if(s.subtreeFlags&o1)for(s=s.child;s!==null;)G4(s,f,v),s=s.sibling}function G4(s,f,v){switch(s.tag){case 26:wh(s,f,v),s.flags&o1&&s.memoizedState!==null&&_F(v,Gl,s.memoizedState,s.memoizedProps);break;case 5:wh(s,f,v);break;case 3:case 4:var S=Gl;Gl=Pm(s.stateNode.containerInfo),wh(s,f,v),Gl=S;break;case 22:s.memoizedState===null&&(S=s.alternate,S!==null&&S.memoizedState!==null?(S=o1,o1=16777216,wh(s,f,v),o1=S):wh(s,f,v));break;default:wh(s,f,v)}}function $4(s){var f=s.alternate;if(f!==null&&(s=f.child,s!==null)){f.child=null;do f=s.sibling,s.sibling=null,s=f;while(s!==null)}}function l1(s){var f=s.deletions;if((s.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var S=f[v];ts=S,V4(S,s)}$4(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)W4(s),s=s.sibling}function W4(s){switch(s.tag){case 0:case 11:case 15:l1(s),s.flags&2048&&nf(9,s,s.return);break;case 3:l1(s);break;case 12:l1(s);break;case 22:var f=s.stateNode;s.memoizedState!==null&&f._visibility&2&&(s.return===null||s.return.tag!==13)?(f._visibility&=-3,wm(s)):l1(s);break;default:l1(s)}}function wm(s){var f=s.deletions;if((s.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var S=f[v];ts=S,V4(S,s)}$4(s)}for(s=s.child;s!==null;){switch(f=s,f.tag){case 0:case 11:case 15:nf(8,f,f.return),wm(f);break;case 22:v=f.stateNode,v._visibility&2&&(v._visibility&=-3,wm(f));break;default:wm(f)}s=s.sibling}}function V4(s,f){for(;ts!==null;){var v=ts;switch(v.tag){case 0:case 11:case 15:nf(8,v,f);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var S=v.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:Qf(v.memoizedState.cache)}if(S=v.child,S!==null)S.return=v,ts=S;else e:for(v=s;ts!==null;){S=ts;var k=S.sibling,P=S.return;if(L4(S),S===v){ts=null;break e}if(k!==null){k.return=P,ts=k;break e}ts=P}}}var LB={getCacheForType:function(s){var f=Mi(ka),v=f.data.get(s);return v===void 0&&(v=s(),f.data.set(s,v)),v},cacheSignal:function(){return Mi(ka).controller.signal}},BB=typeof WeakMap=="function"?WeakMap:Map,En=0,Jn=null,en=null,an=0,Rn=0,zo=null,af=!1,_h=!1,Cy=!1,uu=0,$a=0,sf=0,ad=0,Oy=0,qo=0,Sh=0,c1=null,No=null,Ty=!1,_m=0,Y4=0,Sm=1/0,Am=null,of=null,Ri=0,lf=null,Ah=null,fu=0,jy=0,ky=null,X4=null,u1=0,Iy=null;function Ho(){return(En&2)!==0&&an!==0?an&-an:re.T!==null?By():hn()}function K4(){if(qo===0)if((an&536870912)===0||Jr){var s=Xt;Xt<<=1,(Xt&3932160)===0&&(Xt=262144),qo=s}else qo=536870912;return s=ma.current,s!==null&&(s.flags|=32),qo}function Co(s,f,v){(s===Jn&&(Rn===2||Rn===9)||s.cancelPendingCommit!==null)&&(Eh(s,0),cf(s,an,qo,!1)),Zt(s,v),((En&2)===0||s!==Jn)&&(s===Jn&&((En&2)===0&&(ad|=v),$a===4&&cf(s,an,qo,!1)),Nc(s))}function Z4(s,f,v){if((En&6)!==0)throw Error(n(327));var S=!v&&(f&127)===0&&(f&s.expiredLanes)===0||ua(s,f),k=S?zB(s,f):Py(s,f,!0),P=S;do{if(k===0){_h&&!S&&cf(s,f,0,!1);break}else{if(v=s.current.alternate,P&&!FB(v)){k=Py(s,f,!1),P=!1;continue}if(k===2){if(P=f,s.errorRecoveryDisabledLanes&P)var K=0;else K=s.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){f=K;e:{var ge=s;k=c1;var ke=ge.current.memoizedState.isDehydrated;if(ke&&(Eh(ge,K).flags|=256),K=Py(ge,K,!1),K!==2){if(Cy&&!ke){ge.errorRecoveryDisabledLanes|=P,ad|=P,k=4;break e}P=No,No=k,P!==null&&(No===null?No=P:No.push.apply(No,P))}k=K}if(P=!1,k!==2)continue}}if(k===1){Eh(s,0),cf(s,f,0,!0);break}e:{switch(S=s,P=k,P){case 0:case 1:throw Error(n(345));case 4:if((f&4194048)!==f)break;case 6:cf(S,f,qo,!af);break e;case 2:No=null;break;case 3:case 5:break;default:throw Error(n(329))}if((f&62914560)===f&&(k=_m+300-vr(),10<k)){if(cf(S,f,qo,!af),Yr(S,0,!0)!==0)break e;fu=f,S.timeoutHandle=OE(Q4.bind(null,S,v,No,Am,Ty,f,qo,ad,Sh,af,P,"Throttled",-0,0),k);break e}Q4(S,v,No,Am,Ty,f,qo,ad,Sh,af,P,null,-0,0)}}break}while(!0);Nc(s)}function Q4(s,f,v,S,k,P,K,ge,ke,Xe,ft,mt,Qe,tt){if(s.timeoutHandle=-1,mt=f.subtreeFlags,mt&8192||(mt&16785408)===16785408){mt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gi},G4(f,P,mt);var qt=(P&62914560)===P?_m-vr():(P&4194048)===P?Y4-vr():0;if(qt=SF(mt,qt),qt!==null){fu=P,s.cancelPendingCommit=qt(sE.bind(null,s,f,P,v,S,k,K,ge,ke,ft,mt,null,Qe,tt)),cf(s,P,K,!Xe);return}}sE(s,f,P,v,S,k,K,ge,ke)}function FB(s){for(var f=s;;){var v=f.tag;if((v===0||v===11||v===15)&&f.flags&16384&&(v=f.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var S=0;S<v.length;S++){var k=v[S],P=k.getSnapshot;k=k.value;try{if(!A(P(),k))return!1}catch{return!1}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function cf(s,f,v,S){f&=~Oy,f&=~ad,s.suspendedLanes|=f,s.pingedLanes&=~f,S&&(s.warmLanes|=f),S=s.expirationTimes;for(var k=f;0<k;){var P=31-Ft(k),K=1<<P;S[P]=-1,k&=~K}v!==0&&ao(s,v,f)}function Em(){return(En&6)===0?(f1(0),!1):!0}function My(){if(en!==null){if(Rn===0)var s=en.return;else s=en,dl=vc=null,hh(s),vt=null,Gt=0,s=en;for(;s!==null;)T4(s.alternate,s),s=s.return;en=null}}function Eh(s,f){var v=s.timeoutHandle;v!==-1&&(s.timeoutHandle=-1,iF(v)),v=s.cancelPendingCommit,v!==null&&(s.cancelPendingCommit=null,v()),fu=0,My(),Jn=s,en=v=mo(s.current,null),an=f,Rn=0,zo=null,af=!1,_h=ua(s,f),Cy=!1,Sh=qo=Oy=ad=sf=$a=0,No=c1=null,Ty=!1,(f&8)!==0&&(f|=f&32);var S=s.entangledLanes;if(S!==0)for(s=s.entanglements,S&=f;0<S;){var k=31-Ft(S),P=1<<k;f|=s[k],S&=~P}return uu=f,Wf(),v}function J4(s,f){dr=null,re.H=t1,f===Re||f===Ne?(f=ht(),Rn=3):f===Ve?(f=ht(),Rn=4):Rn=f===fy?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,zo=f,en===null&&($a=1,pm(s,go(f,s.current)))}function eE(){var s=ma.current;return s===null?!0:(an&4194048)===an?fn===null:(an&62914560)===an||(an&536870912)!==0?s===fn:!1}function tE(){var s=re.H;return re.H=t1,s===null?t1:s}function rE(){var s=re.A;return re.A=LB,s}function Nm(){$a=4,af||(an&4194048)!==an&&ma.current!==null||(_h=!0),(sf&134217727)===0&&(ad&134217727)===0||Jn===null||cf(Jn,an,qo,!1)}function Py(s,f,v){var S=En;En|=2;var k=tE(),P=rE();(Jn!==s||an!==f)&&(Am=null,Eh(s,f)),f=!1;var K=$a;e:do try{if(Rn!==0&&en!==null){var ge=en,ke=zo;switch(Rn){case 8:My(),K=6;break e;case 3:case 2:case 9:case 6:ma.current===null&&(f=!0);var Xe=Rn;if(Rn=0,zo=null,Nh(s,ge,ke,Xe),v&&_h){K=0;break e}break;default:Xe=Rn,Rn=0,zo=null,Nh(s,ge,ke,Xe)}}UB(),K=$a;break}catch(ft){J4(s,ft)}while(!0);return f&&s.shellSuspendCounter++,dl=vc=null,En=S,re.H=k,re.A=P,en===null&&(Jn=null,an=0,Wf()),K}function UB(){for(;en!==null;)nE(en)}function zB(s,f){var v=En;En|=2;var S=tE(),k=rE();Jn!==s||an!==f?(Am=null,Sm=vr()+500,Eh(s,f)):_h=ua(s,f);e:do try{if(Rn!==0&&en!==null){f=en;var P=zo;t:switch(Rn){case 1:Rn=0,zo=null,Nh(s,f,P,1);break;case 2:case 9:if(He(P)){Rn=0,zo=null,aE(f);break}f=function(){Rn!==2&&Rn!==9||Jn!==s||(Rn=7),Nc(s)},P.then(f,f);break e;case 3:Rn=7;break e;case 4:Rn=5;break e;case 7:He(P)?(Rn=0,zo=null,aE(f)):(Rn=0,zo=null,Nh(s,f,P,7));break;case 5:var K=null;switch(en.tag){case 26:K=en.memoizedState;case 5:case 27:var ge=en;if(K?HE(K):ge.stateNode.complete){Rn=0,zo=null;var ke=ge.sibling;if(ke!==null)en=ke;else{var Xe=ge.return;Xe!==null?(en=Xe,Cm(Xe)):en=null}break t}}Rn=0,zo=null,Nh(s,f,P,5);break;case 6:Rn=0,zo=null,Nh(s,f,P,6);break;case 8:My(),$a=6;break e;default:throw Error(n(462))}}qB();break}catch(ft){J4(s,ft)}while(!0);return dl=vc=null,re.H=S,re.A=k,En=v,en!==null?0:(Jn=null,an=0,Wf(),$a)}function qB(){for(;en!==null&&!ar();)nE(en)}function nE(s){var f=C4(s.alternate,s,uu);s.memoizedProps=s.pendingProps,f===null?Cm(s):en=f}function aE(s){var f=s,v=f.alternate;switch(f.tag){case 15:case 0:f=w4(v,f,f.pendingProps,f.type,void 0,an);break;case 11:f=w4(v,f,f.pendingProps,f.type.render,f.ref,an);break;case 5:hh(f);default:T4(v,f),f=en=Xf(f,uu),f=C4(v,f,uu)}s.memoizedProps=s.pendingProps,f===null?Cm(s):en=f}function Nh(s,f,v,S){dl=vc=null,hh(f),vt=null,Gt=0;var k=f.return;try{if(jB(s,k,f,v,an)){$a=1,pm(s,go(v,s.current)),en=null;return}}catch(P){if(k!==null)throw en=k,P;$a=1,pm(s,go(v,s.current)),en=null;return}f.flags&32768?(Jr||S===1?s=!0:_h||(an&536870912)!==0?s=!1:(af=s=!0,(S===2||S===9||S===3||S===6)&&(S=ma.current,S!==null&&S.tag===13&&(S.flags|=16384))),iE(f,s)):Cm(f)}function Cm(s){var f=s;do{if((f.flags&32768)!==0){iE(f,af);return}s=f.return;var v=MB(f.alternate,f,uu);if(v!==null){en=v;return}if(f=f.sibling,f!==null){en=f;return}en=f=s}while(f!==null);$a===0&&($a=5)}function iE(s,f){do{var v=PB(s.alternate,s);if(v!==null){v.flags&=32767,en=v;return}if(v=s.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!f&&(s=s.sibling,s!==null)){en=s;return}en=s=v}while(s!==null);$a=6,en=null}function sE(s,f,v,S,k,P,K,ge,ke){s.cancelPendingCommit=null;do Om();while(Ri!==0);if((En&6)!==0)throw Error(n(327));if(f!==null){if(f===s.current)throw Error(n(177));if(P=f.lanes|f.childLanes,P|=Jd,Da(s,v,P,K,ge,ke),s===Jn&&(en=Jn=null,an=0),Ah=f,lf=s,fu=v,jy=P,ky=k,X4=S,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,WB(Nr,function(){return fE(),null})):(s.callbackNode=null,s.callbackPriority=0),S=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||S){S=re.T,re.T=null,k=he.p,he.p=2,K=En,En|=4;try{RB(s,f,v)}finally{En=K,he.p=k,re.T=S}}Ri=1,oE(),lE(),cE()}}function oE(){if(Ri===1){Ri=0;var s=lf,f=Ah,v=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||v){v=re.T,re.T=null;var S=he.p;he.p=2;var k=En;En|=4;try{z4(f,s);var P=Wy,K=te(s.containerInfo),ge=P.focusedElem,ke=P.selectionRange;if(K!==ge&&ge&&ge.ownerDocument&&W(ge.ownerDocument.documentElement,ge)){if(ke!==null&&ce(ge)){var Xe=ke.start,ft=ke.end;if(ft===void 0&&(ft=Xe),"selectionStart"in ge)ge.selectionStart=Xe,ge.selectionEnd=Math.min(ft,ge.value.length);else{var mt=ge.ownerDocument||document,Qe=mt&&mt.defaultView||window;if(Qe.getSelection){var tt=Qe.getSelection(),qt=ge.textContent.length,Ar=Math.min(ke.start,qt),Wn=ke.end===void 0?Ar:Math.min(ke.end,qt);!tt.extend&&Ar>Wn&&(K=Wn,Wn=Ar,Ar=K);var Ue=B(ge,Ar),De=B(ge,Wn);if(Ue&&De&&(tt.rangeCount!==1||tt.anchorNode!==Ue.node||tt.anchorOffset!==Ue.offset||tt.focusNode!==De.node||tt.focusOffset!==De.offset)){var Ye=mt.createRange();Ye.setStart(Ue.node,Ue.offset),tt.removeAllRanges(),Ar>Wn?(tt.addRange(Ye),tt.extend(De.node,De.offset)):(Ye.setEnd(De.node,De.offset),tt.addRange(Ye))}}}}for(mt=[],tt=ge;tt=tt.parentNode;)tt.nodeType===1&&mt.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof ge.focus=="function"&&ge.focus(),ge=0;ge<mt.length;ge++){var pt=mt[ge];pt.element.scrollLeft=pt.left,pt.element.scrollTop=pt.top}}Um=!!$y,Wy=$y=null}finally{En=k,he.p=S,re.T=v}}s.current=f,Ri=2}}function lE(){if(Ri===2){Ri=0;var s=lf,f=Ah,v=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||v){v=re.T,re.T=null;var S=he.p;he.p=2;var k=En;En|=4;try{D4(s,f.alternate,f)}finally{En=k,he.p=S,re.T=v}}Ri=3}}function cE(){if(Ri===4||Ri===3){Ri=0,ir();var s=lf,f=Ah,v=fu,S=X4;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?Ri=5:(Ri=0,Ah=lf=null,uE(s,s.pendingLanes));var k=s.pendingLanes;if(k===0&&(of=null),Cn(v),f=f.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(tr,f,void 0,(f.current.flags&128)===128)}catch{}if(S!==null){f=re.T,k=he.p,he.p=2,re.T=null;try{for(var P=s.onRecoverableError,K=0;K<S.length;K++){var ge=S[K];P(ge.value,{componentStack:ge.stack})}}finally{re.T=f,he.p=k}}(fu&3)!==0&&Om(),Nc(s),k=s.pendingLanes,(v&261930)!==0&&(k&42)!==0?s===Iy?u1++:(u1=0,Iy=s):u1=0,f1(0)}}function uE(s,f){(s.pooledCacheLanes&=f)===0&&(f=s.pooledCache,f!=null&&(s.pooledCache=null,Qf(f)))}function Om(){return oE(),lE(),cE(),fE()}function fE(){if(Ri!==5)return!1;var s=lf,f=jy;jy=0;var v=Cn(fu),S=re.T,k=he.p;try{he.p=32>v?32:v,re.T=null,v=ky,ky=null;var P=lf,K=fu;if(Ri=0,Ah=lf=null,fu=0,(En&6)!==0)throw Error(n(331));var ge=En;if(En|=4,W4(P.current),H4(P,P.current,K,v),En=ge,f1(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(tr,P)}catch{}return!0}finally{he.p=k,re.T=S,uE(s,f)}}function dE(s,f,v){f=go(v,f),f=uy(s.stateNode,f,2),s=Lr(s,f,2),s!==null&&(Zt(s,2),Nc(s))}function Dn(s,f,v){if(s.tag===3)dE(s,s,v);else for(;f!==null;){if(f.tag===3){dE(f,s,v);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(of===null||!of.has(S))){s=go(v,s),v=h4(2),S=Lr(f,v,2),S!==null&&(p4(v,S,f,s),Zt(S,2),Nc(S));break}}f=f.return}}function Ry(s,f,v){var S=s.pingCache;if(S===null){S=s.pingCache=new BB;var k=new Set;S.set(f,k)}else k=S.get(f),k===void 0&&(k=new Set,S.set(f,k));k.has(v)||(Cy=!0,k.add(v),s=HB.bind(null,s,f,v),f.then(s,s))}function HB(s,f,v){var S=s.pingCache;S!==null&&S.delete(f),s.pingedLanes|=s.suspendedLanes&v,s.warmLanes&=~v,Jn===s&&(an&v)===v&&($a===4||$a===3&&(an&62914560)===an&&300>vr()-_m?(En&2)===0&&Eh(s,0):Oy|=v,Sh===an&&(Sh=0)),Nc(s)}function hE(s,f){f===0&&(f=jn()),s=Bl(s,f),s!==null&&(Zt(s,f),Nc(s))}function GB(s){var f=s.memoizedState,v=0;f!==null&&(v=f.retryLane),hE(s,v)}function $B(s,f){var v=0;switch(s.tag){case 31:case 13:var S=s.stateNode,k=s.memoizedState;k!==null&&(v=k.retryLane);break;case 19:S=s.stateNode;break;case 22:S=s.stateNode._retryCache;break;default:throw Error(n(314))}S!==null&&S.delete(f),hE(s,v)}function WB(s,f){return er(s,f)}var Tm=null,Ch=null,Dy=!1,jm=!1,Ly=!1,uf=0;function Nc(s){s!==Ch&&s.next===null&&(Ch===null?Tm=Ch=s:Ch=Ch.next=s),jm=!0,Dy||(Dy=!0,YB())}function f1(s,f){if(!Ly&&jm){Ly=!0;do for(var v=!1,S=Tm;S!==null;){if(s!==0){var k=S.pendingLanes;if(k===0)var P=0;else{var K=S.suspendedLanes,ge=S.pingedLanes;P=(1<<31-Ft(42|s)+1)-1,P&=k&~(K&~ge),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(v=!0,vE(S,P))}else P=an,P=Yr(S,S===Jn?P:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(P&3)===0||ua(S,P)||(v=!0,vE(S,P));S=S.next}while(v);Ly=!1}}function VB(){pE()}function pE(){jm=Dy=!1;var s=0;uf!==0&&aF()&&(s=uf);for(var f=vr(),v=null,S=Tm;S!==null;){var k=S.next,P=mE(S,f);P===0?(S.next=null,v===null?Tm=k:v.next=k,k===null&&(Ch=v)):(v=S,(s!==0||(P&3)!==0)&&(jm=!0)),S=k}Ri!==0&&Ri!==5||f1(s),uf!==0&&(uf=0)}function mE(s,f){for(var v=s.suspendedLanes,S=s.pingedLanes,k=s.expirationTimes,P=s.pendingLanes&-62914561;0<P;){var K=31-Ft(P),ge=1<<K,ke=k[K];ke===-1?((ge&v)===0||(ge&S)!==0)&&(k[K]=Ra(ge,f)):ke<=f&&(s.expiredLanes|=ge),P&=~ge}if(f=Jn,v=an,v=Yr(s,s===f?v:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),S=s.callbackNode,v===0||s===f&&(Rn===2||Rn===9)||s.cancelPendingCommit!==null)return S!==null&&S!==null&&it(S),s.callbackNode=null,s.callbackPriority=0;if((v&3)===0||ua(s,v)){if(f=v&-v,f===s.callbackPriority)return f;switch(S!==null&&it(S),Cn(v)){case 2:case 8:v=Ur;break;case 32:v=Nr;break;case 268435456:v=Tr;break;default:v=Nr}return S=gE.bind(null,s),v=er(v,S),s.callbackPriority=f,s.callbackNode=v,f}return S!==null&&S!==null&&it(S),s.callbackPriority=2,s.callbackNode=null,2}function gE(s,f){if(Ri!==0&&Ri!==5)return s.callbackNode=null,s.callbackPriority=0,null;var v=s.callbackNode;if(Om()&&s.callbackNode!==v)return null;var S=an;return S=Yr(s,s===Jn?S:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),S===0?null:(Z4(s,S,f),mE(s,vr()),s.callbackNode!=null&&s.callbackNode===v?gE.bind(null,s):null)}function vE(s,f){if(Om())return null;Z4(s,f,!0)}function YB(){sF(function(){(En&6)!==0?er(lr,VB):pE()})}function By(){if(uf===0){var s=C;s===0&&(s=wr,wr<<=1,(wr&261888)===0&&(wr=256)),uf=s}return uf}function bE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:vi(""+s)}function yE(s,f){var v=f.ownerDocument.createElement("input");return v.name=f.name,v.value=f.value,s.id&&v.setAttribute("form",s.id),f.parentNode.insertBefore(v,f),s=new FormData(s),v.parentNode.removeChild(v),s}function XB(s,f,v,S,k){if(f==="submit"&&v&&v.stateNode===k){var P=bE((k[Hr]||null).action),K=S.submitter;K&&(f=(f=K[Hr]||null)?bE(f.formAction):K.getAttribute("formAction"),f!==null&&(P=f,K=null));var ge=new Mn("action","action",null,S,k);s.push({event:ge,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(uf!==0){var ke=K?yE(k,K):new FormData(k);ay(v,{pending:!0,data:ke,method:k.method,action:P},null,ke)}}else typeof P=="function"&&(ge.preventDefault(),ke=K?yE(k,K):new FormData(k),ay(v,{pending:!0,data:ke,method:k.method,action:P},P,ke))},currentTarget:k}]})}}for(var Fy=0;Fy<Ll.length;Fy++){var Uy=Ll[Fy],KB=Uy.toLowerCase(),ZB=Uy[0].toUpperCase()+Uy.slice(1);po(KB,"on"+ZB)}po(oi,"onAnimationEnd"),po(Ba,"onAnimationIteration"),po(gn,"onAnimationStart"),po("dblclick","onDoubleClick"),po("focusin","onFocus"),po("focusout","onBlur"),po(Fa,"onTransitionRun"),po(Ki,"onTransitionStart"),po(Dl,"onTransitionCancel"),po(fl,"onTransitionEnd"),Hi("onMouseEnter",["mouseout","mouseover"]),Hi("onMouseLeave",["mouseout","mouseover"]),Hi("onPointerEnter",["pointerout","pointerover"]),Hi("onPointerLeave",["pointerout","pointerover"]),rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var d1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(d1));function xE(s,f){f=(f&4)!==0;for(var v=0;v<s.length;v++){var S=s[v],k=S.event;S=S.listeners;e:{var P=void 0;if(f)for(var K=S.length-1;0<=K;K--){var ge=S[K],ke=ge.instance,Xe=ge.currentTarget;if(ge=ge.listener,ke!==P&&k.isPropagationStopped())break e;P=ge,k.currentTarget=Xe;try{P(k)}catch(ft){$f(ft)}k.currentTarget=null,P=ke}else for(K=0;K<S.length;K++){if(ge=S[K],ke=ge.instance,Xe=ge.currentTarget,ge=ge.listener,ke!==P&&k.isPropagationStopped())break e;P=ge,k.currentTarget=Xe;try{P(k)}catch(ft){$f(ft)}k.currentTarget=null,P=ke}}}}function tn(s,f){var v=f[pi];v===void 0&&(v=f[pi]=new Set);var S=s+"__bubble";v.has(S)||(wE(f,s,2,!1),v.add(S))}function zy(s,f,v){var S=0;f&&(S|=4),wE(v,s,S,f)}var km="_reactListening"+Math.random().toString(36).slice(2);function qy(s){if(!s[km]){s[km]=!0,gt.forEach(function(v){v!=="selectionchange"&&(QB.has(v)||zy(v,!1,s),zy(v,!0,s))});var f=s.nodeType===9?s:s.ownerDocument;f===null||f[km]||(f[km]=!0,zy("selectionchange",!1,f))}}function wE(s,f,v,S){switch(KE(f)){case 2:var k=NF;break;case 8:k=CF;break;default:k=nx}v=k.bind(null,f,v,s),k=void 0,!Xc||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(k=!0),S?k!==void 0?s.addEventListener(f,v,{capture:!0,passive:k}):s.addEventListener(f,v,!0):k!==void 0?s.addEventListener(f,v,{passive:k}):s.addEventListener(f,v,!1)}function Hy(s,f,v,S,k){var P=S;if((f&1)===0&&(f&2)===0&&S!==null)e:for(;;){if(S===null)return;var K=S.tag;if(K===3||K===4){var ge=S.stateNode.containerInfo;if(ge===k)break;if(K===4)for(K=S.return;K!==null;){var ke=K.tag;if((ke===3||ke===4)&&K.stateNode.containerInfo===k)return;K=K.return}for(;ge!==null;){if(K=kn(ge),K===null)return;if(ke=K.tag,ke===5||ke===6||ke===26||ke===27){S=P=K;continue e}ge=ge.parentNode}}S=S.return}Wu(function(){var Xe=P,ft=jl(v),mt=[];e:{var Qe=Gf.get(s);if(Qe!==void 0){var tt=Mn,qt=s;switch(s){case"keypress":if(bi(v)===0)break e;case"keydown":case"keyup":tt=Gr;break;case"focusin":qt="focus",tt=Bo;break;case"focusout":qt="blur",tt=Bo;break;case"beforeblur":case"afterblur":tt=Bo;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Es;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=ja;break;case oi:case Ba:case gn:tt=L;break;case fl:tt=Xn;break;case"scroll":case"scrollend":tt=Il;break;case"wheel":tt=Vs;break;case"copy":case"cut":case"paste":tt=Ee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Sr;break;case"toggle":case"beforetoggle":tt=Pl}var Ar=(f&4)!==0,Wn=!Ar&&(s==="scroll"||s==="scrollend"),Ue=Ar?Qe!==null?Qe+"Capture":null:Qe;Ar=[];for(var De=Xe,Ye;De!==null;){var pt=De;if(Ye=pt.stateNode,pt=pt.tag,pt!==5&&pt!==26&&pt!==27||Ye===null||Ue===null||(pt=fr(De,Ue),pt!=null&&Ar.push(h1(De,pt,Ye))),Wn)break;De=De.return}0<Ar.length&&(Qe=new tt(Qe,qt,null,v,ft),mt.push({event:Qe,listeners:Ar}))}}if((f&7)===0){e:{if(Qe=s==="mouseover"||s==="pointerover",tt=s==="mouseout"||s==="pointerout",Qe&&v!==Gs&&(qt=v.relatedTarget||v.fromElement)&&(kn(qt)||qt[fa]))break e;if((tt||Qe)&&(Qe=ft.window===ft?ft:(Qe=ft.ownerDocument)?Qe.defaultView||Qe.parentWindow:window,tt?(qt=v.relatedTarget||v.toElement,tt=Xe,qt=qt?kn(qt):null,qt!==null&&(Wn=i(qt),Ar=qt.tag,qt!==Wn||Ar!==5&&Ar!==27&&Ar!==6)&&(qt=null)):(tt=null,qt=Xe),tt!==qt)){if(Ar=nn,pt="onMouseLeave",Ue="onMouseEnter",De="mouse",(s==="pointerout"||s==="pointerover")&&(Ar=Sr,pt="onPointerLeave",Ue="onPointerEnter",De="pointer"),Wn=tt==null?Qe:sl(tt),Ye=qt==null?Qe:sl(qt),Qe=new Ar(pt,De+"leave",tt,v,ft),Qe.target=Wn,Qe.relatedTarget=Ye,pt=null,kn(ft)===Xe&&(Ar=new Ar(Ue,De+"enter",qt,v,ft),Ar.target=Ye,Ar.relatedTarget=Wn,pt=Ar),Wn=pt,tt&&qt)t:{for(Ar=JB,Ue=tt,De=qt,Ye=0,pt=Ue;pt;pt=Ar(pt))Ye++;pt=0;for(var gr=De;gr;gr=Ar(gr))pt++;for(;0<Ye-pt;)Ue=Ar(Ue),Ye--;for(;0<pt-Ye;)De=Ar(De),pt--;for(;Ye--;){if(Ue===De||De!==null&&Ue===De.alternate){Ar=Ue;break t}Ue=Ar(Ue),De=Ar(De)}Ar=null}else Ar=null;tt!==null&&_E(mt,Qe,tt,Ar,!1),qt!==null&&Wn!==null&&_E(mt,Wn,qt,Ar,!0)}}e:{if(Qe=Xe?sl(Xe):window,tt=Qe.nodeName&&Qe.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Qe.type==="file")var yn=ii;else if(hc(Qe))if(Yi)yn=w;else{yn=p;var Qt=l}else tt=Qe.nodeName,!tt||tt.toLowerCase()!=="input"||Qe.type!=="checkbox"&&Qe.type!=="radio"?Xe&&_n(Xe.elementType)&&(yn=ii):yn=m;if(yn&&(yn=yn(s,Xe))){ia(mt,yn,v,ft);break e}Qt&&Qt(s,Qe,Xe),s==="focusout"&&Xe&&Qe.type==="number"&&Xe.memoizedProps.value!=null&&_e(Qe,"number",Qe.value)}switch(Qt=Xe?sl(Xe):window,s){case"focusin":(hc(Qt)||Qt.contentEditable==="true")&&(je=Qt,Pe=Xe,Be=null);break;case"focusout":Be=Pe=je=null;break;case"mousedown":Ze=!0;break;case"contextmenu":case"mouseup":case"dragend":Ze=!1,ct(mt,v,ft);break;case"selectionchange":if(Ae)break;case"keydown":case"keyup":ct(mt,v,ft)}var qr;if(Ns)e:{switch(s){case"compositionstart":var sn="onCompositionStart";break e;case"compositionend":sn="onCompositionEnd";break e;case"compositionupdate":sn="onCompositionUpdate";break e}sn=void 0}else ho?ul(s,v)&&(sn="onCompositionEnd"):s==="keydown"&&v.keyCode===229&&(sn="onCompositionStart");sn&&(Fo&&v.locale!=="ko"&&(ho||sn!=="onCompositionStart"?sn==="onCompositionEnd"&&ho&&(qr=ol()):($i=ft,hs="value"in $i?$i.value:$i.textContent,ho=!0)),Qt=Im(Xe,sn),0<Qt.length&&(sn=new Fe(sn,s,null,v,ft),mt.push({event:sn,listeners:Qt}),qr?sn.data=qr:(qr=fo(v),qr!==null&&(sn.data=qr)))),(qr=cl?aa(s,v):Os(s,v))&&(sn=Im(Xe,"onBeforeInput"),0<sn.length&&(Qt=new Fe("onBeforeInput","beforeinput",null,v,ft),mt.push({event:Qt,listeners:sn}),Qt.data=qr)),XB(mt,s,Xe,v,ft)}xE(mt,f)})}function h1(s,f,v){return{instance:s,listener:f,currentTarget:v}}function Im(s,f){for(var v=f+"Capture",S=[];s!==null;){var k=s,P=k.stateNode;if(k=k.tag,k!==5&&k!==26&&k!==27||P===null||(k=fr(s,v),k!=null&&S.unshift(h1(s,k,P)),k=fr(s,f),k!=null&&S.push(h1(s,k,P))),s.tag===3)return S;s=s.return}return[]}function JB(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function _E(s,f,v,S,k){for(var P=f._reactName,K=[];v!==null&&v!==S;){var ge=v,ke=ge.alternate,Xe=ge.stateNode;if(ge=ge.tag,ke!==null&&ke===S)break;ge!==5&&ge!==26&&ge!==27||Xe===null||(ke=Xe,k?(Xe=fr(v,P),Xe!=null&&K.unshift(h1(v,Xe,ke))):k||(Xe=fr(v,P),Xe!=null&&K.push(h1(v,Xe,ke)))),v=v.return}K.length!==0&&s.push({event:f,listeners:K})}var eF=/\r\n?/g,tF=/\u0000|\uFFFD/g;function SE(s){return(typeof s=="string"?s:""+s).replace(eF,`
`).replace(tF,"")}function AE(s,f){return f=SE(f),SE(s)===f}function $n(s,f,v,S,k,P){switch(v){case"children":typeof S=="string"?f==="body"||f==="textarea"&&S===""||Hs(s,S):(typeof S=="number"||typeof S=="bigint")&&f!=="body"&&Hs(s,""+S);break;case"className":qs(s,"class",S);break;case"tabIndex":qs(s,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":qs(s,v,S);break;case"style":rr(s,S,P);break;case"data":if(f!=="object"){qs(s,"data",S);break}case"src":case"href":if(S===""&&(f!=="a"||v!=="href")){s.removeAttribute(v);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){s.removeAttribute(v);break}S=vi(""+S),s.setAttribute(v,S);break;case"action":case"formAction":if(typeof S=="function"){s.setAttribute(v,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(v==="formAction"?(f!=="input"&&$n(s,f,"name",k.name,k,null),$n(s,f,"formEncType",k.formEncType,k,null),$n(s,f,"formMethod",k.formMethod,k,null),$n(s,f,"formTarget",k.formTarget,k,null)):($n(s,f,"encType",k.encType,k,null),$n(s,f,"method",k.method,k,null),$n(s,f,"target",k.target,k,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){s.removeAttribute(v);break}S=vi(""+S),s.setAttribute(v,S);break;case"onClick":S!=null&&(s.onclick=Gi);break;case"onScroll":S!=null&&tn("scroll",s);break;case"onScrollEnd":S!=null&&tn("scrollend",s);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(n(61));if(v=S.__html,v!=null){if(k.children!=null)throw Error(n(60));s.innerHTML=v}}break;case"multiple":s.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":s.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){s.removeAttribute("xlink:href");break}v=vi(""+S),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?s.setAttribute(v,""+S):s.removeAttribute(v);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?s.setAttribute(v,""):s.removeAttribute(v);break;case"capture":case"download":S===!0?s.setAttribute(v,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?s.setAttribute(v,S):s.removeAttribute(v);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?s.setAttribute(v,S):s.removeAttribute(v);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?s.removeAttribute(v):s.setAttribute(v,S);break;case"popover":tn("beforetoggle",s),tn("toggle",s),Ci(s,"popover",S);break;case"xlinkActuate":ds(s,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":ds(s,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":ds(s,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":ds(s,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":ds(s,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":ds(s,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":ds(s,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":ds(s,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":ds(s,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":Ci(s,"is",S);break;case"innerText":case"textContent":break;default:(!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(v=dc.get(v)||v,Ci(s,v,S))}}function Gy(s,f,v,S,k,P){switch(v){case"style":rr(s,S,P);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(n(61));if(v=S.__html,v!=null){if(k.children!=null)throw Error(n(60));s.innerHTML=v}}break;case"children":typeof S=="string"?Hs(s,S):(typeof S=="number"||typeof S=="bigint")&&Hs(s,""+S);break;case"onScroll":S!=null&&tn("scroll",s);break;case"onScrollEnd":S!=null&&tn("scrollend",s);break;case"onClick":S!=null&&(s.onclick=Gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fs.hasOwnProperty(v))e:{if(v[0]==="o"&&v[1]==="n"&&(k=v.endsWith("Capture"),f=v.slice(2,k?v.length-7:void 0),P=s[Hr]||null,P=P!=null?P[v]:null,typeof P=="function"&&s.removeEventListener(f,P,k),typeof S=="function")){typeof P!="function"&&P!==null&&(v in s?s[v]=null:s.hasAttribute(v)&&s.removeAttribute(v)),s.addEventListener(f,S,k);break e}v in s?s[v]=S:S===!0?s.setAttribute(v,""):Ci(s,v,S)}}}function vs(s,f,v){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tn("error",s),tn("load",s);var S=!1,k=!1,P;for(P in v)if(v.hasOwnProperty(P)){var K=v[P];if(K!=null)switch(P){case"src":S=!0;break;case"srcSet":k=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:$n(s,f,P,K,v,null)}}k&&$n(s,f,"srcSet",v.srcSet,v,null),S&&$n(s,f,"src",v.src,v,null);return;case"input":tn("invalid",s);var ge=P=K=k=null,ke=null,Xe=null;for(S in v)if(v.hasOwnProperty(S)){var ft=v[S];if(ft!=null)switch(S){case"name":k=ft;break;case"type":K=ft;break;case"checked":ke=ft;break;case"defaultChecked":Xe=ft;break;case"value":P=ft;break;case"defaultValue":ge=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(n(137,f));break;default:$n(s,f,S,ft,v,null)}}$e(s,P,ge,ke,Xe,K,k,!1);return;case"select":tn("invalid",s),S=K=P=null;for(k in v)if(v.hasOwnProperty(k)&&(ge=v[k],ge!=null))switch(k){case"value":P=ge;break;case"defaultValue":K=ge;break;case"multiple":S=ge;default:$n(s,f,k,ge,v,null)}f=P,v=K,s.multiple=!!S,f!=null?jt(s,!!S,f,!1):v!=null&&jt(s,!!S,v,!0);return;case"textarea":tn("invalid",s),P=k=S=null;for(K in v)if(v.hasOwnProperty(K)&&(ge=v[K],ge!=null))switch(K){case"value":S=ge;break;case"defaultValue":k=ge;break;case"children":P=ge;break;case"dangerouslySetInnerHTML":if(ge!=null)throw Error(n(91));break;default:$n(s,f,K,ge,v,null)}gi(s,S,k,P);return;case"option":for(ke in v)if(v.hasOwnProperty(ke)&&(S=v[ke],S!=null))switch(ke){case"selected":s.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:$n(s,f,ke,S,v,null)}return;case"dialog":tn("beforetoggle",s),tn("toggle",s),tn("cancel",s),tn("close",s);break;case"iframe":case"object":tn("load",s);break;case"video":case"audio":for(S=0;S<d1.length;S++)tn(d1[S],s);break;case"image":tn("error",s),tn("load",s);break;case"details":tn("toggle",s);break;case"embed":case"source":case"link":tn("error",s),tn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Xe in v)if(v.hasOwnProperty(Xe)&&(S=v[Xe],S!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:$n(s,f,Xe,S,v,null)}return;default:if(_n(f)){for(ft in v)v.hasOwnProperty(ft)&&(S=v[ft],S!==void 0&&Gy(s,f,ft,S,v,void 0));return}}for(ge in v)v.hasOwnProperty(ge)&&(S=v[ge],S!=null&&$n(s,f,ge,S,v,null))}function rF(s,f,v,S){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var k=null,P=null,K=null,ge=null,ke=null,Xe=null,ft=null;for(tt in v){var mt=v[tt];if(v.hasOwnProperty(tt)&&mt!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":ke=mt;default:S.hasOwnProperty(tt)||$n(s,f,tt,null,S,mt)}}for(var Qe in S){var tt=S[Qe];if(mt=v[Qe],S.hasOwnProperty(Qe)&&(tt!=null||mt!=null))switch(Qe){case"type":P=tt;break;case"name":k=tt;break;case"checked":Xe=tt;break;case"defaultChecked":ft=tt;break;case"value":K=tt;break;case"defaultValue":ge=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(n(137,f));break;default:tt!==mt&&$n(s,f,Qe,tt,S,mt)}}da(s,K,ge,ke,Xe,ft,P,k);return;case"select":tt=K=ge=Qe=null;for(P in v)if(ke=v[P],v.hasOwnProperty(P)&&ke!=null)switch(P){case"value":break;case"multiple":tt=ke;default:S.hasOwnProperty(P)||$n(s,f,P,null,S,ke)}for(k in S)if(P=S[k],ke=v[k],S.hasOwnProperty(k)&&(P!=null||ke!=null))switch(k){case"value":Qe=P;break;case"defaultValue":ge=P;break;case"multiple":K=P;default:P!==ke&&$n(s,f,k,P,S,ke)}f=ge,v=K,S=tt,Qe!=null?jt(s,!!v,Qe,!1):!!S!=!!v&&(f!=null?jt(s,!!v,f,!0):jt(s,!!v,v?[]:"",!1));return;case"textarea":tt=Qe=null;for(ge in v)if(k=v[ge],v.hasOwnProperty(ge)&&k!=null&&!S.hasOwnProperty(ge))switch(ge){case"value":break;case"children":break;default:$n(s,f,ge,null,S,k)}for(K in S)if(k=S[K],P=v[K],S.hasOwnProperty(K)&&(k!=null||P!=null))switch(K){case"value":Qe=k;break;case"defaultValue":tt=k;break;case"children":break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(n(91));break;default:k!==P&&$n(s,f,K,k,S,P)}ra(s,Qe,tt);return;case"option":for(var qt in v)if(Qe=v[qt],v.hasOwnProperty(qt)&&Qe!=null&&!S.hasOwnProperty(qt))switch(qt){case"selected":s.selected=!1;break;default:$n(s,f,qt,null,S,Qe)}for(ke in S)if(Qe=S[ke],tt=v[ke],S.hasOwnProperty(ke)&&Qe!==tt&&(Qe!=null||tt!=null))switch(ke){case"selected":s.selected=Qe&&typeof Qe!="function"&&typeof Qe!="symbol";break;default:$n(s,f,ke,Qe,S,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ar in v)Qe=v[Ar],v.hasOwnProperty(Ar)&&Qe!=null&&!S.hasOwnProperty(Ar)&&$n(s,f,Ar,null,S,Qe);for(Xe in S)if(Qe=S[Xe],tt=v[Xe],S.hasOwnProperty(Xe)&&Qe!==tt&&(Qe!=null||tt!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(n(137,f));break;default:$n(s,f,Xe,Qe,S,tt)}return;default:if(_n(f)){for(var Wn in v)Qe=v[Wn],v.hasOwnProperty(Wn)&&Qe!==void 0&&!S.hasOwnProperty(Wn)&&Gy(s,f,Wn,void 0,S,Qe);for(ft in S)Qe=S[ft],tt=v[ft],!S.hasOwnProperty(ft)||Qe===tt||Qe===void 0&&tt===void 0||Gy(s,f,ft,Qe,S,tt);return}}for(var Ue in v)Qe=v[Ue],v.hasOwnProperty(Ue)&&Qe!=null&&!S.hasOwnProperty(Ue)&&$n(s,f,Ue,null,S,Qe);for(mt in S)Qe=S[mt],tt=v[mt],!S.hasOwnProperty(mt)||Qe===tt||Qe==null&&tt==null||$n(s,f,mt,Qe,S,tt)}function EE(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nF(){if(typeof performance.getEntriesByType=="function"){for(var s=0,f=0,v=performance.getEntriesByType("resource"),S=0;S<v.length;S++){var k=v[S],P=k.transferSize,K=k.initiatorType,ge=k.duration;if(P&&ge&&EE(K)){for(K=0,ge=k.responseEnd,S+=1;S<v.length;S++){var ke=v[S],Xe=ke.startTime;if(Xe>ge)break;var ft=ke.transferSize,mt=ke.initiatorType;ft&&EE(mt)&&(ke=ke.responseEnd,K+=ft*(ke<ge?1:(ge-Xe)/(ke-Xe)))}if(--S,f+=8*(P+K)/(k.duration/1e3),s++,10<s)break}}if(0<s)return f/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var $y=null,Wy=null;function Mm(s){return s.nodeType===9?s:s.ownerDocument}function NE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function CE(s,f){if(s===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&f==="foreignObject"?0:s}function Vy(s,f){return s==="textarea"||s==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var Yy=null;function aF(){var s=window.event;return s&&s.type==="popstate"?s===Yy?!1:(Yy=s,!0):(Yy=null,!1)}var OE=typeof setTimeout=="function"?setTimeout:void 0,iF=typeof clearTimeout=="function"?clearTimeout:void 0,TE=typeof Promise=="function"?Promise:void 0,sF=typeof queueMicrotask=="function"?queueMicrotask:typeof TE<"u"?function(s){return TE.resolve(null).then(s).catch(oF)}:OE;function oF(s){setTimeout(function(){throw s})}function ff(s){return s==="head"}function jE(s,f){var v=f,S=0;do{var k=v.nextSibling;if(s.removeChild(v),k&&k.nodeType===8)if(v=k.data,v==="/$"||v==="/&"){if(S===0){s.removeChild(k),kh(f);return}S--}else if(v==="$"||v==="$?"||v==="$~"||v==="$!"||v==="&")S++;else if(v==="html")p1(s.ownerDocument.documentElement);else if(v==="head"){v=s.ownerDocument.head,p1(v);for(var P=v.firstChild;P;){var K=P.nextSibling,ge=P.nodeName;P[zs]||ge==="SCRIPT"||ge==="STYLE"||ge==="LINK"&&P.rel.toLowerCase()==="stylesheet"||v.removeChild(P),P=K}}else v==="body"&&p1(s.ownerDocument.body);v=k}while(v);kh(f)}function kE(s,f){var v=s;s=0;do{var S=v.nextSibling;if(v.nodeType===1?f?(v._stashedDisplay=v.style.display,v.style.display="none"):(v.style.display=v._stashedDisplay||"",v.getAttribute("style")===""&&v.removeAttribute("style")):v.nodeType===3&&(f?(v._stashedText=v.nodeValue,v.nodeValue=""):v.nodeValue=v._stashedText||""),S&&S.nodeType===8)if(v=S.data,v==="/$"){if(s===0)break;s--}else v!=="$"&&v!=="$?"&&v!=="$~"&&v!=="$!"||s++;v=S}while(v)}function Xy(s){var f=s.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var v=f;switch(f=f.nextSibling,v.nodeName){case"HTML":case"HEAD":case"BODY":Xy(v),ri(v);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(v.rel.toLowerCase()==="stylesheet")continue}s.removeChild(v)}}function lF(s,f,v,S){for(;s.nodeType===1;){var k=v;if(s.nodeName.toLowerCase()!==f.toLowerCase()){if(!S&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(S){if(!s[zs])switch(f){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(P=s.getAttribute("rel"),P==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(P!==k.rel||s.getAttribute("href")!==(k.href==null||k.href===""?null:k.href)||s.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin)||s.getAttribute("title")!==(k.title==null?null:k.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(P=s.getAttribute("src"),(P!==(k.src==null?null:k.src)||s.getAttribute("type")!==(k.type==null?null:k.type)||s.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin))&&P&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(f==="input"&&s.type==="hidden"){var P=k.name==null?null:""+k.name;if(k.type==="hidden"&&s.getAttribute("name")===P)return s}else return s;if(s=ml(s.nextSibling),s===null)break}return null}function cF(s,f,v){if(f==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!v||(s=ml(s.nextSibling),s===null))return null;return s}function IE(s,f){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!f||(s=ml(s.nextSibling),s===null))return null;return s}function Ky(s){return s.data==="$?"||s.data==="$~"}function Zy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function uF(s,f){var v=s.ownerDocument;if(s.data==="$~")s._reactRetry=f;else if(s.data!=="$?"||v.readyState!=="loading")f();else{var S=function(){f(),v.removeEventListener("DOMContentLoaded",S)};v.addEventListener("DOMContentLoaded",S),s._reactRetry=S}}function ml(s){for(;s!=null;s=s.nextSibling){var f=s.nodeType;if(f===1||f===3)break;if(f===8){if(f=s.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return s}var Qy=null;function ME(s){s=s.nextSibling;for(var f=0;s;){if(s.nodeType===8){var v=s.data;if(v==="/$"||v==="/&"){if(f===0)return ml(s.nextSibling);f--}else v!=="$"&&v!=="$!"&&v!=="$?"&&v!=="$~"&&v!=="&"||f++}s=s.nextSibling}return null}function PE(s){s=s.previousSibling;for(var f=0;s;){if(s.nodeType===8){var v=s.data;if(v==="$"||v==="$!"||v==="$?"||v==="$~"||v==="&"){if(f===0)return s;f--}else v!=="/$"&&v!=="/&"||f++}s=s.previousSibling}return null}function RE(s,f,v){switch(f=Mm(v),s){case"html":if(s=f.documentElement,!s)throw Error(n(452));return s;case"head":if(s=f.head,!s)throw Error(n(453));return s;case"body":if(s=f.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function p1(s){for(var f=s.attributes;f.length;)s.removeAttributeNode(f[0]);ri(s)}var gl=new Map,DE=new Set;function Pm(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var du=he.d;he.d={f:fF,r:dF,D:hF,C:pF,L:mF,m:gF,X:bF,S:vF,M:yF};function fF(){var s=du.f(),f=Em();return s||f}function dF(s){var f=Xr(s);f!==null&&f.tag===5&&f.type==="form"?JA(f):du.r(s)}var Oh=typeof document>"u"?null:document;function LE(s,f,v){var S=Oh;if(S&&typeof f=="string"&&f){var k=Or(f);k='link[rel="'+s+'"][href="'+k+'"]',typeof v=="string"&&(k+='[crossorigin="'+v+'"]'),DE.has(k)||(DE.add(k),s={rel:s,crossOrigin:v,href:f},S.querySelector(k)===null&&(f=S.createElement("link"),vs(f,"link",s),Yn(f),S.head.appendChild(f)))}}function hF(s){du.D(s),LE("dns-prefetch",s,null)}function pF(s,f){du.C(s,f),LE("preconnect",s,f)}function mF(s,f,v){du.L(s,f,v);var S=Oh;if(S&&s&&f){var k='link[rel="preload"][as="'+Or(f)+'"]';f==="image"&&v&&v.imageSrcSet?(k+='[imagesrcset="'+Or(v.imageSrcSet)+'"]',typeof v.imageSizes=="string"&&(k+='[imagesizes="'+Or(v.imageSizes)+'"]')):k+='[href="'+Or(s)+'"]';var P=k;switch(f){case"style":P=Th(s);break;case"script":P=jh(s)}gl.has(P)||(s=g({rel:"preload",href:f==="image"&&v&&v.imageSrcSet?void 0:s,as:f},v),gl.set(P,s),S.querySelector(k)!==null||f==="style"&&S.querySelector(m1(P))||f==="script"&&S.querySelector(g1(P))||(f=S.createElement("link"),vs(f,"link",s),Yn(f),S.head.appendChild(f)))}}function gF(s,f){du.m(s,f);var v=Oh;if(v&&s){var S=f&&typeof f.as=="string"?f.as:"script",k='link[rel="modulepreload"][as="'+Or(S)+'"][href="'+Or(s)+'"]',P=k;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=jh(s)}if(!gl.has(P)&&(s=g({rel:"modulepreload",href:s},f),gl.set(P,s),v.querySelector(k)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(v.querySelector(g1(P)))return}S=v.createElement("link"),vs(S,"link",s),Yn(S),v.head.appendChild(S)}}}function vF(s,f,v){du.S(s,f,v);var S=Oh;if(S&&s){var k=ni(S).hoistableStyles,P=Th(s);f=f||"default";var K=k.get(P);if(!K){var ge={loading:0,preload:null};if(K=S.querySelector(m1(P)))ge.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":f},v),(v=gl.get(P))&&Jy(s,v);var ke=K=S.createElement("link");Yn(ke),vs(ke,"link",s),ke._p=new Promise(function(Xe,ft){ke.onload=Xe,ke.onerror=ft}),ke.addEventListener("load",function(){ge.loading|=1}),ke.addEventListener("error",function(){ge.loading|=2}),ge.loading|=4,Rm(K,f,S)}K={type:"stylesheet",instance:K,count:1,state:ge},k.set(P,K)}}}function bF(s,f){du.X(s,f);var v=Oh;if(v&&s){var S=ni(v).hoistableScripts,k=jh(s),P=S.get(k);P||(P=v.querySelector(g1(k)),P||(s=g({src:s,async:!0},f),(f=gl.get(k))&&ex(s,f),P=v.createElement("script"),Yn(P),vs(P,"link",s),v.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},S.set(k,P))}}function yF(s,f){du.M(s,f);var v=Oh;if(v&&s){var S=ni(v).hoistableScripts,k=jh(s),P=S.get(k);P||(P=v.querySelector(g1(k)),P||(s=g({src:s,async:!0,type:"module"},f),(f=gl.get(k))&&ex(s,f),P=v.createElement("script"),Yn(P),vs(P,"link",s),v.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},S.set(k,P))}}function BE(s,f,v,S){var k=(k=we.current)?Pm(k):null;if(!k)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof v.precedence=="string"&&typeof v.href=="string"?(f=Th(v.href),v=ni(k).hoistableStyles,S=v.get(f),S||(S={type:"style",instance:null,count:0,state:null},v.set(f,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(v.rel==="stylesheet"&&typeof v.href=="string"&&typeof v.precedence=="string"){s=Th(v.href);var P=ni(k).hoistableStyles,K=P.get(s);if(K||(k=k.ownerDocument||k,K={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(s,K),(P=k.querySelector(m1(s)))&&!P._p&&(K.instance=P,K.state.loading=5),gl.has(s)||(v={rel:"preload",as:"style",href:v.href,crossOrigin:v.crossOrigin,integrity:v.integrity,media:v.media,hrefLang:v.hrefLang,referrerPolicy:v.referrerPolicy},gl.set(s,v),P||xF(k,s,v,K.state))),f&&S===null)throw Error(n(528,""));return K}if(f&&S!==null)throw Error(n(529,""));return null;case"script":return f=v.async,v=v.src,typeof v=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=jh(v),v=ni(k).hoistableScripts,S=v.get(f),S||(S={type:"script",instance:null,count:0,state:null},v.set(f,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Th(s){return'href="'+Or(s)+'"'}function m1(s){return'link[rel="stylesheet"]['+s+"]"}function FE(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function xF(s,f,v,S){s.querySelector('link[rel="preload"][as="style"]['+f+"]")?S.loading=1:(f=s.createElement("link"),S.preload=f,f.addEventListener("load",function(){return S.loading|=1}),f.addEventListener("error",function(){return S.loading|=2}),vs(f,"link",v),Yn(f),s.head.appendChild(f))}function jh(s){return'[src="'+Or(s)+'"]'}function g1(s){return"script[async]"+s}function UE(s,f,v){if(f.count++,f.instance===null)switch(f.type){case"style":var S=s.querySelector('style[data-href~="'+Or(v.href)+'"]');if(S)return f.instance=S,Yn(S),S;var k=g({},v,{"data-href":v.href,"data-precedence":v.precedence,href:null,precedence:null});return S=(s.ownerDocument||s).createElement("style"),Yn(S),vs(S,"style",k),Rm(S,v.precedence,s),f.instance=S;case"stylesheet":k=Th(v.href);var P=s.querySelector(m1(k));if(P)return f.state.loading|=4,f.instance=P,Yn(P),P;S=FE(v),(k=gl.get(k))&&Jy(S,k),P=(s.ownerDocument||s).createElement("link"),Yn(P);var K=P;return K._p=new Promise(function(ge,ke){K.onload=ge,K.onerror=ke}),vs(P,"link",S),f.state.loading|=4,Rm(P,v.precedence,s),f.instance=P;case"script":return P=jh(v.src),(k=s.querySelector(g1(P)))?(f.instance=k,Yn(k),k):(S=v,(k=gl.get(P))&&(S=g({},v),ex(S,k)),s=s.ownerDocument||s,k=s.createElement("script"),Yn(k),vs(k,"link",S),s.head.appendChild(k),f.instance=k);case"void":return null;default:throw Error(n(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(S=f.instance,f.state.loading|=4,Rm(S,v.precedence,s));return f.instance}function Rm(s,f,v){for(var S=v.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),k=S.length?S[S.length-1]:null,P=k,K=0;K<S.length;K++){var ge=S[K];if(ge.dataset.precedence===f)P=ge;else if(P!==k)break}P?P.parentNode.insertBefore(s,P.nextSibling):(f=v.nodeType===9?v.head:v,f.insertBefore(s,f.firstChild))}function Jy(s,f){s.crossOrigin==null&&(s.crossOrigin=f.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=f.referrerPolicy),s.title==null&&(s.title=f.title)}function ex(s,f){s.crossOrigin==null&&(s.crossOrigin=f.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=f.referrerPolicy),s.integrity==null&&(s.integrity=f.integrity)}var Dm=null;function zE(s,f,v){if(Dm===null){var S=new Map,k=Dm=new Map;k.set(v,S)}else k=Dm,S=k.get(v),S||(S=new Map,k.set(v,S));if(S.has(s))return S;for(S.set(s,null),v=v.getElementsByTagName(s),k=0;k<v.length;k++){var P=v[k];if(!(P[zs]||P[pn]||s==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var K=P.getAttribute(f)||"";K=s+K;var ge=S.get(K);ge?ge.push(P):S.set(K,[P])}}return S}function qE(s,f,v){s=s.ownerDocument||s,s.head.insertBefore(v,f==="title"?s.querySelector("head > title"):null)}function wF(s,f,v){if(v===1||f.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return s=f.disabled,typeof f.precedence=="string"&&s==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function HE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function _F(s,f,v,S){if(v.type==="stylesheet"&&(typeof S.media!="string"||matchMedia(S.media).matches!==!1)&&(v.state.loading&4)===0){if(v.instance===null){var k=Th(S.href),P=f.querySelector(m1(k));if(P){f=P._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(s.count++,s=Lm.bind(s),f.then(s,s)),v.state.loading|=4,v.instance=P,Yn(P);return}P=f.ownerDocument||f,S=FE(S),(k=gl.get(k))&&Jy(S,k),P=P.createElement("link"),Yn(P);var K=P;K._p=new Promise(function(ge,ke){K.onload=ge,K.onerror=ke}),vs(P,"link",S),v.instance=P}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(v,f),(f=v.state.preload)&&(v.state.loading&3)===0&&(s.count++,v=Lm.bind(s),f.addEventListener("load",v),f.addEventListener("error",v))}}var tx=0;function SF(s,f){return s.stylesheets&&s.count===0&&Fm(s,s.stylesheets),0<s.count||0<s.imgCount?function(v){var S=setTimeout(function(){if(s.stylesheets&&Fm(s,s.stylesheets),s.unsuspend){var P=s.unsuspend;s.unsuspend=null,P()}},6e4+f);0<s.imgBytes&&tx===0&&(tx=62500*nF());var k=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Fm(s,s.stylesheets),s.unsuspend)){var P=s.unsuspend;s.unsuspend=null,P()}},(s.imgBytes>tx?50:800)+f);return s.unsuspend=v,function(){s.unsuspend=null,clearTimeout(S),clearTimeout(k)}}:null}function Lm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Bm=null;function Fm(s,f){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Bm=new Map,f.forEach(AF,s),Bm=null,Lm.call(s))}function AF(s,f){if(!(f.state.loading&4)){var v=Bm.get(s);if(v)var S=v.get(null);else{v=new Map,Bm.set(s,v);for(var k=s.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<k.length;P++){var K=k[P];(K.nodeName==="LINK"||K.getAttribute("media")!=="not all")&&(v.set(K.dataset.precedence,K),S=K)}S&&v.set(null,S)}k=f.instance,K=k.getAttribute("data-precedence"),P=v.get(K)||S,P===S&&v.set(null,k),v.set(K,k),this.count++,S=Lm.bind(this),k.addEventListener("load",S),k.addEventListener("error",S),P?P.parentNode.insertBefore(k,P.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(k,s.firstChild)),f.state.loading|=4}}var v1={$$typeof:F,Provider:null,Consumer:null,_currentValue:Se,_currentValue2:Se,_threadCount:0};function EF(s,f,v,S,k,P,K,ge,ke){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=S,this.onUncaughtError=k,this.onCaughtError=P,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ke,this.incompleteTransitions=new Map}function GE(s,f,v,S,k,P,K,ge,ke,Xe,ft,mt){return s=new EF(s,f,v,K,ke,Xe,ft,mt,ge),f=1,P===!0&&(f|=24),P=Qi(3,null,null,f),s.current=P,P.stateNode=s,f=Qu(),f.refCount++,s.pooledCache=f,f.refCount++,P.memoizedState={element:S,isDehydrated:v,cache:f},St(P),s}function $E(s){return s?(s=ji,s):ji}function WE(s,f,v,S,k,P){k=$E(k),S.context===null?S.context=k:S.pendingContext=k,S=xr(f),S.payload={element:v},P=P===void 0?null:P,P!==null&&(S.callback=P),v=Lr(s,S,f),v!==null&&(Co(v,s,f),Sn(v,s,f))}function VE(s,f){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var v=s.retryLane;s.retryLane=v!==0&&v<f?v:f}}function rx(s,f){VE(s,f),(s=s.alternate)&&VE(s,f)}function YE(s){if(s.tag===13||s.tag===31){var f=Bl(s,67108864);f!==null&&Co(f,s,67108864),rx(s,67108864)}}function XE(s){if(s.tag===13||s.tag===31){var f=Ho();f=zr(f);var v=Bl(s,f);v!==null&&Co(v,s,f),rx(s,f)}}var Um=!0;function NF(s,f,v,S){var k=re.T;re.T=null;var P=he.p;try{he.p=2,nx(s,f,v,S)}finally{he.p=P,re.T=k}}function CF(s,f,v,S){var k=re.T;re.T=null;var P=he.p;try{he.p=8,nx(s,f,v,S)}finally{he.p=P,re.T=k}}function nx(s,f,v,S){if(Um){var k=ax(S);if(k===null)Hy(s,f,S,zm,v),ZE(s,S);else if(TF(k,s,f,v,S))S.stopPropagation();else if(ZE(s,S),f&4&&-1<OF.indexOf(s)){for(;k!==null;){var P=Xr(k);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var K=Kt(P.pendingLanes);if(K!==0){var ge=P;for(ge.pendingLanes|=2,ge.entangledLanes|=2;K;){var ke=1<<31-Ft(K);ge.entanglements[1]|=ke,K&=~ke}Nc(P),(En&6)===0&&(Sm=vr()+500,f1(0))}}break;case 31:case 13:ge=Bl(P,2),ge!==null&&Co(ge,P,2),Em(),rx(P,2)}if(P=ax(S),P===null&&Hy(s,f,S,zm,v),P===k)break;k=P}k!==null&&S.stopPropagation()}else Hy(s,f,S,null,v)}}function ax(s){return s=jl(s),ix(s)}var zm=null;function ix(s){if(zm=null,s=kn(s),s!==null){var f=i(s);if(f===null)s=null;else{var v=f.tag;if(v===13){if(s=o(f),s!==null)return s;s=null}else if(v===31){if(s=u(f),s!==null)return s;s=null}else if(v===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;s=null}else f!==s&&(s=null)}}return zm=s,null}function KE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Br()){case lr:return 2;case Ur:return 8;case Nr:case Tt:return 32;case Tr:return 268435456;default:return 32}default:return 32}}var sx=!1,df=null,hf=null,pf=null,b1=new Map,y1=new Map,mf=[],OF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ZE(s,f){switch(s){case"focusin":case"focusout":df=null;break;case"dragenter":case"dragleave":hf=null;break;case"mouseover":case"mouseout":pf=null;break;case"pointerover":case"pointerout":b1.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":y1.delete(f.pointerId)}}function x1(s,f,v,S,k,P){return s===null||s.nativeEvent!==P?(s={blockedOn:f,domEventName:v,eventSystemFlags:S,nativeEvent:P,targetContainers:[k]},f!==null&&(f=Xr(f),f!==null&&YE(f)),s):(s.eventSystemFlags|=S,f=s.targetContainers,k!==null&&f.indexOf(k)===-1&&f.push(k),s)}function TF(s,f,v,S,k){switch(f){case"focusin":return df=x1(df,s,f,v,S,k),!0;case"dragenter":return hf=x1(hf,s,f,v,S,k),!0;case"mouseover":return pf=x1(pf,s,f,v,S,k),!0;case"pointerover":var P=k.pointerId;return b1.set(P,x1(b1.get(P)||null,s,f,v,S,k)),!0;case"gotpointercapture":return P=k.pointerId,y1.set(P,x1(y1.get(P)||null,s,f,v,S,k)),!0}return!1}function QE(s){var f=kn(s.target);if(f!==null){var v=i(f);if(v!==null){if(f=v.tag,f===13){if(f=o(v),f!==null){s.blockedOn=f,Ot(s.priority,function(){XE(v)});return}}else if(f===31){if(f=u(v),f!==null){s.blockedOn=f,Ot(s.priority,function(){XE(v)});return}}else if(f===3&&v.stateNode.current.memoizedState.isDehydrated){s.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}s.blockedOn=null}function qm(s){if(s.blockedOn!==null)return!1;for(var f=s.targetContainers;0<f.length;){var v=ax(s.nativeEvent);if(v===null){v=s.nativeEvent;var S=new v.constructor(v.type,v);Gs=S,v.target.dispatchEvent(S),Gs=null}else return f=Xr(v),f!==null&&YE(f),s.blockedOn=v,!1;f.shift()}return!0}function JE(s,f,v){qm(s)&&v.delete(f)}function jF(){sx=!1,df!==null&&qm(df)&&(df=null),hf!==null&&qm(hf)&&(hf=null),pf!==null&&qm(pf)&&(pf=null),b1.forEach(JE),y1.forEach(JE)}function Hm(s,f){s.blockedOn===f&&(s.blockedOn=null,sx||(sx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jF)))}var Gm=null;function eN(s){Gm!==s&&(Gm=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Gm===s&&(Gm=null);for(var f=0;f<s.length;f+=3){var v=s[f],S=s[f+1],k=s[f+2];if(typeof S!="function"){if(ix(S||v)===null)continue;break}var P=Xr(v);P!==null&&(s.splice(f,3),f-=3,ay(P,{pending:!0,data:k,method:v.method,action:S},S,k))}}))}function kh(s){function f(ke){return Hm(ke,s)}df!==null&&Hm(df,s),hf!==null&&Hm(hf,s),pf!==null&&Hm(pf,s),b1.forEach(f),y1.forEach(f);for(var v=0;v<mf.length;v++){var S=mf[v];S.blockedOn===s&&(S.blockedOn=null)}for(;0<mf.length&&(v=mf[0],v.blockedOn===null);)QE(v),v.blockedOn===null&&mf.shift();if(v=(s.ownerDocument||s).$$reactFormReplay,v!=null)for(S=0;S<v.length;S+=3){var k=v[S],P=v[S+1],K=k[Hr]||null;if(typeof P=="function")K||eN(v);else if(K){var ge=null;if(P&&P.hasAttribute("formAction")){if(k=P,K=P[Hr]||null)ge=K.formAction;else if(ix(k)!==null)continue}else ge=K.action;typeof ge=="function"?v[S+1]=ge:(v.splice(S,3),S-=3),eN(v)}}}function tN(){function s(P){P.canIntercept&&P.info==="react-transition"&&P.intercept({handler:function(){return new Promise(function(K){return k=K})},focusReset:"manual",scroll:"manual"})}function f(){k!==null&&(k(),k=null),S||setTimeout(v,20)}function v(){if(!S&&!navigation.transition){var P=navigation.currentEntry;P&&P.url!=null&&navigation.navigate(P.url,{state:P.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var S=!1,k=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(v,100),function(){S=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),k!==null&&(k(),k=null)}}}function ox(s){this._internalRoot=s}$m.prototype.render=ox.prototype.render=function(s){var f=this._internalRoot;if(f===null)throw Error(n(409));var v=f.current,S=Ho();WE(v,S,s,f,null,null)},$m.prototype.unmount=ox.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var f=s.containerInfo;WE(s.current,2,null,s,null,null),Em(),f[fa]=null}};function $m(s){this._internalRoot=s}$m.prototype.unstable_scheduleHydration=function(s){if(s){var f=hn();s={blockedOn:null,target:s,priority:f};for(var v=0;v<mf.length&&f!==0&&f<mf[v].priority;v++);mf.splice(v,0,s),v===0&&QE(s)}};var rN=t.version;if(rN!=="19.2.4")throw Error(n(527,rN,"19.2.4"));he.findDOMNode=function(s){var f=s._reactInternals;if(f===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=c(f),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var kF={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wm.isDisabled&&Wm.supportsFiber)try{tr=Wm.inject(kF),nt=Wm}catch{}}return _1.createRoot=function(s,f){if(!a(s))throw Error(n(299));var v=!1,S="",k=c4,P=u4,K=f4;return f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onUncaughtError!==void 0&&(k=f.onUncaughtError),f.onCaughtError!==void 0&&(P=f.onCaughtError),f.onRecoverableError!==void 0&&(K=f.onRecoverableError)),f=GE(s,1,!1,null,null,v,S,null,k,P,K,tN),s[fa]=f.current,qy(s),new ox(f)},_1.hydrateRoot=function(s,f,v){if(!a(s))throw Error(n(299));var S=!1,k="",P=c4,K=u4,ge=f4,ke=null;return v!=null&&(v.unstable_strictMode===!0&&(S=!0),v.identifierPrefix!==void 0&&(k=v.identifierPrefix),v.onUncaughtError!==void 0&&(P=v.onUncaughtError),v.onCaughtError!==void 0&&(K=v.onCaughtError),v.onRecoverableError!==void 0&&(ge=v.onRecoverableError),v.formState!==void 0&&(ke=v.formState)),f=GE(s,1,!0,f,v??null,S,k,ke,P,K,ge,tN),f.context=$E(null),v=f.current,S=Ho(),S=zr(S),k=xr(S),k.callback=null,Lr(v,k,S),v=S,f.current.lanes=v,Zt(f,v),Nc(f),s[fa]=f.current,qy(s),new $m(f)},_1.version="19.2.4",_1}var dN;function GF(){if(dN)return ux.exports;dN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ux.exports=HF(),ux.exports}var $F=GF();/**
 * react-router v7.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hN="popstate";function pN(e){return typeof e=="object"&&e!=null&&"pathname"in e&&"search"in e&&"hash"in e&&"state"in e&&"key"in e}function WF(e={}){function t(n,a){var c;let i=(c=a.state)==null?void 0:c.masked,{pathname:o,search:u,hash:d}=i||n.location;return F5("",{pathname:o,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default",i?{pathname:n.location.pathname,search:n.location.search,hash:n.location.hash}:void 0)}function r(n,a){return typeof a=="string"?a:np(a)}return YF(t,r,null,e)}function Oa(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _l(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VF(){return Math.random().toString(36).substring(2,10)}function mN(e,t){return{usr:e.state,key:e.key,idx:t,masked:e.unstable_mask?{pathname:e.pathname,search:e.search,hash:e.hash}:void 0}}function F5(e,t,r=null,n,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?A0(t):t,state:r,key:t&&t.key||n||VF(),unstable_mask:a}}function np({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function A0(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function YF(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,u="POP",d=null,c=h();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function h(){return(o.state||{idx:null}).idx}function g(){u="POP";let T=h(),j=T==null?null:T-c;c=T,d&&d({action:u,location:N.location,delta:j})}function x(T,j){u="PUSH";let D=pN(T)?T:F5(N.location,T,j);c=h()+1;let F=mN(D,c),U=N.createHref(D.unstable_mask||D);try{o.pushState(F,"",U)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;a.location.assign(U)}i&&d&&d({action:u,location:N.location,delta:1})}function y(T,j){u="REPLACE";let D=pN(T)?T:F5(N.location,T,j);c=h();let F=mN(D,c),U=N.createHref(D.unstable_mask||D);o.replaceState(F,"",U),i&&d&&d({action:u,location:N.location,delta:0})}function E(T){return XF(T)}let N={get action(){return u},get location(){return e(a,o)},listen(T){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(hN,g),d=T,()=>{a.removeEventListener(hN,g),d=null}},createHref(T){return t(a,T)},createURL:E,encodeLocation(T){let j=E(T);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:y,go(T){return o.go(T)}};return N}function XF(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Oa(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:np(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function XI(e,t,r="/"){return KF(e,t,r,!1)}function KF(e,t,r,n){let a=typeof t=="string"?A0(t):t,i=Ou(a.pathname||"/",r);if(i==null)return null;let o=KI(e);ZF(o);let u=null;for(let d=0;u==null&&d<o.length;++d){let c=lU(i);u=sU(o[d],c,n)}return u}function KI(e,t=[],r=[],n="",a=!1){let i=(o,u,d=a,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&d)return;Oa(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let g=Fc([n,h.relativePath]),x=r.concat(h);o.children&&o.children.length>0&&(Oa(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),KI(o.children,t,x,g,d)),!(o.path==null&&!o.index)&&t.push({path:g,score:aU(g,o.index),routesMeta:x})};return e.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))i(o,u);else for(let c of ZI(o.path))i(o,u,!0,c)}),t}function ZI(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=ZI(n.join("/")),u=[];return u.push(...o.map(d=>d===""?i:[i,d].join("/"))),a&&u.push(...o),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function ZF(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:iU(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var QF=/^:[\w-]+$/,JF=3,eU=2,tU=1,rU=10,nU=-2,gN=e=>e==="*";function aU(e,t){let r=e.split("/"),n=r.length;return r.some(gN)&&(n+=nU),t&&(n+=eU),r.filter(a=>!gN(a)).reduce((a,i)=>a+(QF.test(i)?JF:i===""?tU:rU),n)}function iU(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function sU(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",o=[];for(let u=0;u<n.length;++u){let d=n[u],c=u===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",g=jv({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},h),x=d.route;if(!g&&c&&r&&!n[n.length-1].route.index&&(g=jv({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!g)return null;Object.assign(a,g.params),o.push({params:a,pathname:Fc([i,g.pathname]),pathnameBase:dU(Fc([i,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(i=Fc([i,g.pathnameBase]))}return o}function jv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=oU(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((c,{paramName:h,isOptional:g},x)=>{if(h==="*"){let E=u[x]||"";o=i.slice(0,i.length-E.length).replace(/(.)\/+$/,"$1")}const y=u[x];return g&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function oU(e,t=!1,r=!0){_l(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,d,c,h)=>{if(n.push({paramName:u,isOptional:d!=null}),d){let g=h.charAt(c+o.length);return g&&g!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function lU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _l(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ou(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var cU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function uU(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?A0(e):e,i;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?i=vN(r.substring(1),"/"):i=vN(r,t)):i=t,{pathname:i,search:hU(n),hash:pU(a)}}function vN(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function px(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fU(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function y3(e){let t=fU(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Hb(e,t,r,n=!1){let a;typeof e=="string"?a=A0(e):(a={...e},Oa(!a.pathname||!a.pathname.includes("?"),px("?","pathname","search",a)),Oa(!a.pathname||!a.pathname.includes("#"),px("#","pathname","hash",a)),Oa(!a.search||!a.search.includes("#"),px("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,u;if(o==null)u=r;else{let g=t.length-1;if(!n&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),g-=1;a.pathname=x.join("/")}u=g>=0?t[g]:"/"}let d=uU(a,u),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(c||h)&&(d.pathname+="/"),d}var Fc=e=>e.join("/").replace(/\/\/+/g,"/"),dU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,mU=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function gU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function vU(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var QI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function JI(e,t){let r=e;if(typeof r!="string"||!cU.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(QI)try{let i=new URL(window.location.href),o=r.startsWith("//")?new URL(i.protocol+r):new URL(r),u=Ou(o.pathname,t);o.origin===i.origin&&u!=null?r=u+o.search+o.hash:a=!0}catch{_l(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eM=["POST","PUT","PATCH","DELETE"];new Set(eM);var bU=["GET",...eM];new Set(bU);var E0=R.createContext(null);E0.displayName="DataRouter";var Gb=R.createContext(null);Gb.displayName="DataRouterState";var yU=R.createContext(!1),tM=R.createContext({isTransitioning:!1});tM.displayName="ViewTransition";var xU=R.createContext(new Map);xU.displayName="Fetchers";var wU=R.createContext(null);wU.displayName="Await";var al=R.createContext(null);al.displayName="Navigation";var kp=R.createContext(null);kp.displayName="Location";var sc=R.createContext({outlet:null,matches:[],isDataRoute:!1});sc.displayName="Route";var x3=R.createContext(null);x3.displayName="RouteError";var rM="REACT_ROUTER_ERROR",_U="REDIRECT",SU="ROUTE_ERROR_RESPONSE";function AU(e){if(e.startsWith(`${rM}:${_U}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function EU(e){if(e.startsWith(`${rM}:${SU}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new mU(t.status,t.statusText,t.data)}catch{}}function NU(e,{relative:t}={}){Oa(N0(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=R.useContext(al),{hash:a,pathname:i,search:o}=Ip(e,{relative:t}),u=i;return r!=="/"&&(u=i==="/"?r:Fc([r,i])),n.createHref({pathname:u,search:o,hash:a})}function N0(){return R.useContext(kp)!=null}function oc(){return Oa(N0(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(kp).location}var nM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aM(e){R.useContext(al).static||R.useLayoutEffect(e)}function $d(){let{isDataRoute:e}=R.useContext(sc);return e?zU():CU()}function CU(){Oa(N0(),"useNavigate() may be used only in the context of a <Router> component.");let e=R.useContext(E0),{basename:t,navigator:r}=R.useContext(al),{matches:n}=R.useContext(sc),{pathname:a}=oc(),i=JSON.stringify(y3(n)),o=R.useRef(!1);return aM(()=>{o.current=!0}),R.useCallback((d,c={})=>{if(_l(o.current,nM),!o.current)return;if(typeof d=="number"){r.go(d);return}let h=Hb(d,JSON.parse(i),a,c.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Fc([t,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[t,r,i,a,e])}var OU=R.createContext(null);function TU(e){let t=R.useContext(sc).outlet;return R.useMemo(()=>t&&R.createElement(OU.Provider,{value:e},t),[t,e])}function Ip(e,{relative:t}={}){let{matches:r}=R.useContext(sc),{pathname:n}=oc(),a=JSON.stringify(y3(r));return R.useMemo(()=>Hb(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function jU(e,t){return iM(e,t)}function iM(e,t,r){var T;Oa(N0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:n}=R.useContext(al),{matches:a}=R.useContext(sc),i=a[a.length-1],o=i?i.params:{},u=i?i.pathname:"/",d=i?i.pathnameBase:"/",c=i&&i.route;{let j=c&&c.path||"";oM(u,!c||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let h=oc(),g;if(t){let j=typeof t=="string"?A0(t):t;Oa(d==="/"||((T=j.pathname)==null?void 0:T.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${j.pathname}" was given in the \`location\` prop.`),g=j}else g=h;let x=g.pathname||"/",y=x;if(d!=="/"){let j=d.replace(/^\//,"").split("/");y="/"+x.replace(/^\//,"").split("/").slice(j.length).join("/")}let E=XI(e,{pathname:y});_l(c||E!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),_l(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=RU(E&&E.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:Fc([d,n.encodeLocation?n.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?d:Fc([d,n.encodeLocation?n.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),a,r);return t&&N?R.createElement(kp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...g},navigationType:"POP"}},N):N}function kU(){let e=UU(),t=gU(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:i},"ErrorBoundary")," or"," ",R.createElement("code",{style:i},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),r?R.createElement("pre",{style:a},r):null,o)}var IU=R.createElement(kU,null),sM=class extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=EU(e.digest);r&&(e=r)}let t=e!==void 0?R.createElement(sc.Provider,{value:this.props.routeContext},R.createElement(x3.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?R.createElement(MU,{error:e},t):t}};sM.contextType=yU;var mx=new WeakMap;function MU({children:e,error:t}){let{basename:r}=R.useContext(al);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=AU(t.digest);if(n){let a=mx.get(t);if(a)throw a;let i=JI(n.location,r);if(QI&&!mx.get(t))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw mx.set(t,o),o}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function PU({routeContext:e,match:t,children:r}){let n=R.useContext(E0);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),R.createElement(sc.Provider,{value:e},r)}function RU(e,t=[],r){let n=r==null?void 0:r.state;if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=n==null?void 0:n.errors;if(i!=null){let h=a.findIndex(g=>g.route.id&&(i==null?void 0:i[g.route.id])!==void 0);Oa(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let o=!1,u=-1;if(r&&n){o=n.renderFallback;for(let h=0;h<a.length;h++){let g=a[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=h),g.route.id){let{loaderData:x,errors:y}=n,E=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||E){r.isStatic&&(o=!0),u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}}let d=r==null?void 0:r.onError,c=n&&d?(h,g)=>{var x,y;d(h,{location:n.location,params:((y=(x=n.matches)==null?void 0:x[0])==null?void 0:y.params)??{},unstable_pattern:vU(n.matches),errorInfo:g})}:void 0;return a.reduceRight((h,g,x)=>{let y,E=!1,N=null,T=null;n&&(y=i&&g.route.id?i[g.route.id]:void 0,N=g.route.errorElement||IU,o&&(u<0&&x===0?(oM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,T=null):u===x&&(E=!0,T=g.route.hydrateFallbackElement||null)));let j=t.concat(a.slice(0,x+1)),D=()=>{let F;return y?F=N:E?F=T:g.route.Component?F=R.createElement(g.route.Component,null):g.route.element?F=g.route.element:F=h,R.createElement(PU,{match:g,routeContext:{outlet:h,matches:j,isDataRoute:n!=null},children:F})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?R.createElement(sM,{location:n.location,revalidation:n.revalidation,component:N,error:y,children:D(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:c}):D()},null)}function w3(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DU(e){let t=R.useContext(E0);return Oa(t,w3(e)),t}function LU(e){let t=R.useContext(Gb);return Oa(t,w3(e)),t}function BU(e){let t=R.useContext(sc);return Oa(t,w3(e)),t}function _3(e){let t=BU(e),r=t.matches[t.matches.length-1];return Oa(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function FU(){return _3("useRouteId")}function UU(){var n;let e=R.useContext(x3),t=LU("useRouteError"),r=_3("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function zU(){let{router:e}=DU("useNavigate"),t=_3("useNavigate"),r=R.useRef(!1);return aM(()=>{r.current=!0}),R.useCallback(async(a,i={})=>{_l(r.current,nM),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var bN={};function oM(e,t,r){!t&&!bN[e]&&(bN[e]=!0,_l(!1,r))}R.memo(qU);function qU({routes:e,future:t,state:r,isStatic:n,onError:a}){return iM(e,void 0,{state:r,isStatic:n,onError:a})}function Mc({to:e,replace:t,state:r,relative:n}){Oa(N0(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=R.useContext(al);_l(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=R.useContext(sc),{pathname:o}=oc(),u=$d(),d=Hb(e,y3(i),o,n==="path"),c=JSON.stringify(d);return R.useEffect(()=>{u(JSON.parse(c),{replace:t,state:r,relative:n})},[u,c,n,t,r]),null}function HU(e){return TU(e.context)}function ui(e){Oa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GU({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1,unstable_useTransitions:o}){Oa(!N0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:u,navigator:a,static:i,unstable_useTransitions:o,future:{}}),[u,a,i,o]);typeof r=="string"&&(r=A0(r));let{pathname:c="/",search:h="",hash:g="",state:x=null,key:y="default",unstable_mask:E}=r,N=R.useMemo(()=>{let T=Ou(c,u);return T==null?null:{location:{pathname:T,search:h,hash:g,state:x,key:y,unstable_mask:E},navigationType:n}},[u,c,h,g,x,y,n,E]);return _l(N!=null,`<Router basename="${u}"> is not able to match the URL "${c}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:R.createElement(al.Provider,{value:d},R.createElement(kp.Provider,{children:t,value:N}))}function $U({children:e,location:t}){return jU(U5(e),t)}function U5(e,t=[]){let r=[];return R.Children.forEach(e,(n,a)=>{if(!R.isValidElement(n))return;let i=[...t,a];if(n.type===R.Fragment){r.push.apply(r,U5(n.props.children,i));return}Oa(n.type===ui,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Oa(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=U5(n.props.children,i)),r.push(o)}),r}var mv="get",gv="application/x-www-form-urlencoded";function $b(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function WU(e){return $b(e)&&e.tagName.toLowerCase()==="button"}function VU(e){return $b(e)&&e.tagName.toLowerCase()==="form"}function YU(e){return $b(e)&&e.tagName.toLowerCase()==="input"}function XU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KU(e,t){return e.button===0&&(!t||t==="_self")&&!XU(e)}function z5(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function ZU(e,t){let r=z5(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var Ym=null;function QU(){if(Ym===null)try{new FormData(document.createElement("form"),0),Ym=!1}catch{Ym=!0}return Ym}var JU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gx(e){return e!=null&&!JU.has(e)?(_l(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gv}"`),null):e}function ez(e,t){let r,n,a,i,o;if(VU(e)){let u=e.getAttribute("action");n=u?Ou(u,t):null,r=e.getAttribute("method")||mv,a=gx(e.getAttribute("enctype"))||gv,i=new FormData(e)}else if(WU(e)||YU(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(n=d?Ou(d,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||mv,a=gx(e.getAttribute("formenctype"))||gx(u.getAttribute("enctype"))||gv,i=new FormData(u,e),!QU()){let{name:c,type:h,value:g}=e;if(h==="image"){let x=c?`${c}.`:"";i.append(`${x}x`,"0"),i.append(`${x}y`,"0")}else c&&i.append(c,g)}}else{if($b(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=mv,n=null,a=gv,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function S3(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tz(e,t,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&Ou(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function rz(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function az(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await rz(i,r);return o.links?o.links():[]}return[]}));return lz(n.flat(1).filter(nz).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function yN(e,t,r,n,a,i){let o=(d,c)=>r[c]?d.route.id!==r[c].route.id:!0,u=(d,c)=>{var h;return r[c].pathname!==d.pathname||((h=r[c].route.path)==null?void 0:h.endsWith("*"))&&r[c].params["*"]!==d.params["*"]};return i==="assets"?t.filter((d,c)=>o(d,c)||u(d,c)):i==="data"?t.filter((d,c)=>{var g;let h=n.routes[d.route.id];if(!h||!h.hasLoader)return!1;if(o(d,c)||u(d,c))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=r[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function iz(e,t,{includeHydrateFallback:r}={}){return sz(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function sz(e){return[...new Set(e)]}function oz(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function lz(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(oz(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function lM(){let e=R.useContext(E0);return S3(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function cz(){let e=R.useContext(Gb);return S3(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var A3=R.createContext(void 0);A3.displayName="FrameworkContext";function cM(){let e=R.useContext(A3);return S3(e,"You must render this element inside a <HydratedRouter> element"),e}function uz(e,t){let r=R.useContext(A3),[n,a]=R.useState(!1),[i,o]=R.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:c,onMouseLeave:h,onTouchStart:g}=t,x=R.useRef(null);R.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let N=j=>{j.forEach(D=>{o(D.isIntersecting)})},T=new IntersectionObserver(N,{threshold:.5});return x.current&&T.observe(x.current),()=>{T.disconnect()}}},[e]),R.useEffect(()=>{if(n){let N=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(N)}}},[n]);let y=()=>{a(!0)},E=()=>{a(!1),o(!1)};return r?e!=="intent"?[i,x,{}]:[i,x,{onFocus:S1(u,y),onBlur:S1(d,E),onMouseEnter:S1(c,y),onMouseLeave:S1(h,E),onTouchStart:S1(g,y)}]:[!1,x,{}]}function S1(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function fz({page:e,...t}){let{router:r}=lM(),n=R.useMemo(()=>XI(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?R.createElement(hz,{page:e,matches:n,...t}):null}function dz(e){let{manifest:t,routeModules:r}=cM(),[n,a]=R.useState([]);return R.useEffect(()=>{let i=!1;return az(e,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,r]),n}function hz({page:e,matches:t,...r}){let n=oc(),{future:a,manifest:i,routeModules:o}=cM(),{basename:u}=lM(),{loaderData:d,matches:c}=cz(),h=R.useMemo(()=>yN(e,t,c,i,n,"data"),[e,t,c,i,n]),g=R.useMemo(()=>yN(e,t,c,i,n,"assets"),[e,t,c,i,n]),x=R.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let N=new Set,T=!1;if(t.forEach(D=>{var U;let F=i.routes[D.route.id];!F||!F.hasLoader||(!h.some(Z=>Z.route.id===D.route.id)&&D.route.id in d&&((U=o[D.route.id])!=null&&U.shouldRevalidate)||F.hasClientLoader?T=!0:N.add(D.route.id))}),N.size===0)return[];let j=tz(e,u,a.unstable_trailingSlashAwareDataRequests,"data");return T&&N.size>0&&j.searchParams.set("_routes",t.filter(D=>N.has(D.route.id)).map(D=>D.route.id).join(",")),[j.pathname+j.search]},[u,a.unstable_trailingSlashAwareDataRequests,d,n,i,h,t,e,o]),y=R.useMemo(()=>iz(g,i),[g,i]),E=dz(g);return R.createElement(R.Fragment,null,x.map(N=>R.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...r})),y.map(N=>R.createElement("link",{key:N,rel:"modulepreload",href:N,...r})),E.map(({key:N,link:T})=>R.createElement("link",{key:N,nonce:r.nonce,...T,crossOrigin:T.crossOrigin??r.crossOrigin})))}function pz(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var mz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mz&&(window.__reactRouterVersion="7.13.1")}catch{}function gz({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=R.useRef();a.current==null&&(a.current=WF({window:n,v5Compat:!0}));let i=a.current,[o,u]=R.useState({action:i.action,location:i.location}),d=R.useCallback(c=>{r===!1?u(c):R.startTransition(()=>u(c))},[r]);return R.useLayoutEffect(()=>i.listen(d),[i,d]),R.createElement(GU,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:r})}var uM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,If=R.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,unstable_mask:u,state:d,target:c,to:h,preventScrollReset:g,viewTransition:x,unstable_defaultShouldRevalidate:y,...E},N){let{basename:T,navigator:j,unstable_useTransitions:D}=R.useContext(al),F=typeof h=="string"&&uM.test(h),U=JI(h,T);h=U.to;let Z=NU(h,{relative:a}),X=oc(),$=null;if(u){let ae=Hb(u,[],X.unstable_mask?X.unstable_mask.pathname:"/",!0);T!=="/"&&(ae.pathname=ae.pathname==="/"?T:Fc([T,ae.pathname])),$=j.createHref(ae)}let[Q,q,se]=uz(n,E),H=xz(h,{replace:o,unstable_mask:u,state:d,target:c,preventScrollReset:g,relative:a,viewTransition:x,unstable_defaultShouldRevalidate:y,unstable_useTransitions:D});function G(ae){t&&t(ae),ae.defaultPrevented||H(ae)}let ue=!(U.isExternal||i),J=R.createElement("a",{...E,...se,href:(ue?$:void 0)||U.absoluteURL||Z,onClick:ue?G:t,ref:pz(N,q),target:c,"data-discover":!F&&r==="render"?"true":void 0});return Q&&!F?R.createElement(R.Fragment,null,J,R.createElement(fz,{page:Z})):J});If.displayName="Link";var vz=R.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:u,children:d,...c},h){let g=Ip(o,{relative:c.relative}),x=oc(),y=R.useContext(Gb),{navigator:E,basename:N}=R.useContext(al),T=y!=null&&Ez(g)&&u===!0,j=E.encodeLocation?E.encodeLocation(g).pathname:g.pathname,D=x.pathname,F=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(D=D.toLowerCase(),F=F?F.toLowerCase():null,j=j.toLowerCase()),F&&N&&(F=Ou(F,N)||F);const U=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let Z=D===j||!a&&D.startsWith(j)&&D.charAt(U)==="/",X=F!=null&&(F===j||!a&&F.startsWith(j)&&F.charAt(j.length)==="/"),$={isActive:Z,isPending:X,isTransitioning:T},Q=Z?t:void 0,q;typeof n=="function"?q=n($):q=[n,Z?"active":null,X?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let se=typeof i=="function"?i($):i;return R.createElement(If,{...c,"aria-current":Q,className:q,ref:h,style:se,to:o,viewTransition:u},typeof d=="function"?d($):d)});vz.displayName="NavLink";var bz=R.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:o=mv,action:u,onSubmit:d,relative:c,preventScrollReset:h,viewTransition:g,unstable_defaultShouldRevalidate:x,...y},E)=>{let{unstable_useTransitions:N}=R.useContext(al),T=Sz(),j=Az(u,{relative:c}),D=o.toLowerCase()==="get"?"get":"post",F=typeof u=="string"&&uM.test(u),U=Z=>{if(d&&d(Z),Z.defaultPrevented)return;Z.preventDefault();let X=Z.nativeEvent.submitter,$=(X==null?void 0:X.getAttribute("formmethod"))||o,Q=()=>T(X||Z.currentTarget,{fetcherKey:t,method:$,navigate:r,replace:a,state:i,relative:c,preventScrollReset:h,viewTransition:g,unstable_defaultShouldRevalidate:x});N&&r!==!1?R.startTransition(()=>Q()):Q()};return R.createElement("form",{ref:E,method:D,action:j,onSubmit:n?d:U,...y,"data-discover":!F&&e==="render"?"true":void 0})});bz.displayName="Form";function yz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fM(e){let t=R.useContext(E0);return Oa(t,yz(e)),t}function xz(e,{target:t,replace:r,unstable_mask:n,state:a,preventScrollReset:i,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:c}={}){let h=$d(),g=oc(),x=Ip(e,{relative:o});return R.useCallback(y=>{if(KU(y,t)){y.preventDefault();let E=r!==void 0?r:np(g)===np(x),N=()=>h(e,{replace:E,unstable_mask:n,state:a,preventScrollReset:i,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:d});c?R.startTransition(()=>N()):N()}},[g,h,x,r,n,a,t,e,i,o,u,d,c])}function dM(e){_l(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=R.useRef(z5(e)),r=R.useRef(!1),n=oc(),a=R.useMemo(()=>ZU(n.search,r.current?null:t.current),[n.search]),i=$d(),o=R.useCallback((u,d)=>{const c=z5(typeof u=="function"?u(new URLSearchParams(a)):u);r.current=!0,i("?"+c,d)},[i,a]);return[a,o]}var wz=0,_z=()=>`__${String(++wz)}__`;function Sz(){let{router:e}=fM("useSubmit"),{basename:t}=R.useContext(al),r=FU(),n=e.fetch,a=e.navigate;return R.useCallback(async(i,o={})=>{let{action:u,method:d,encType:c,formData:h,body:g}=ez(i,t);if(o.navigate===!1){let x=o.fetcherKey||_z();await n(x,r,o.action||u,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:h,body:g,formMethod:o.method||d,formEncType:o.encType||c,flushSync:o.flushSync})}else await a(o.action||u,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:h,body:g,formMethod:o.method||d,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,a,t,r])}function Az(e,{relative:t}={}){let{basename:r}=R.useContext(al),n=R.useContext(sc);Oa(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...Ip(e||".",{relative:t})},o=oc();if(e==null){i.search=o.search;let u=new URLSearchParams(i.search),d=u.getAll("index");if(d.some(h=>h==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let h=u.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Fc([r,i.pathname])),np(i)}function Ez(e,{relative:t}={}){let r=R.useContext(tM);Oa(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=fM("useViewTransitionState"),a=Ip(e,{relative:t});if(!r.isTransitioning)return!1;let i=Ou(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Ou(r.nextLocation.pathname,n)||r.nextLocation.pathname;return jv(a.pathname,o)!=null||jv(a.pathname,i)!=null}var E3=YI();function Wb(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Nz(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function u(h){try{c(n.next(h))}catch(g){o(g)}}function d(h){try{c(n.throw(h))}catch(g){o(g)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((n=n.apply(e,t||[])).next())})}const Cz=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class N3 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Oz extends N3{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class xN extends N3{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class wN extends N3{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var q5;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(q5||(q5={}));class Tz{constructor(t,{headers:r={},customFetch:n,region:a=q5.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=Cz(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Nz(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:u,method:d,body:c,signal:h,timeout:g}=n;let x={},{region:y}=n;y||(y=this.region);const E=new URL(`${this.url}/${r}`);y&&y!=="any"&&(x["x-region"]=y,E.searchParams.set("forceFunctionRegion",y));let N;c&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",N=c):typeof c=="string"?(x["Content-Type"]="text/plain",N=c):typeof FormData<"u"&&c instanceof FormData?N=c:(x["Content-Type"]="application/json",N=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?N=JSON.stringify(c):N=c;let T=h;g&&(o=new AbortController,i=setTimeout(()=>o.abort(),g),h?(T=o.signal,h.addEventListener("abort",()=>o.abort())):T=o.signal);const j=yield this.fetch(E.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),u),body:N,signal:T}).catch(Z=>{throw new Oz(Z)}),D=j.headers.get("x-relay-error");if(D&&D==="true")throw new xN(j);if(!j.ok)throw new wN(j);let F=((a=j.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),U;return F==="application/json"?U=yield j.json():F==="application/octet-stream"||F==="application/pdf"?U=yield j.blob():F==="text/event-stream"?U=j:F==="multipart/form-data"?U=yield j.formData():U=yield j.text(),{data:U,error:null,response:j}}catch(u){return{data:null,error:u,response:u instanceof wN||u instanceof xN?u.context:void 0}}finally{i&&clearTimeout(i)}})}}var jz=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},kz=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,u=null,d=null,c=i.status,h=i.statusText;if(i.ok){var g,x;if(r.method!=="HEAD"){var y;const j=await i.text();j===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((y=r.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?u=j:u=JSON.parse(j))}const N=(g=r.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),T=(x=i.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");N&&T&&T.length>1&&(d=parseInt(T[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(o={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,c=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var E;const N=await i.text();try{o=JSON.parse(N),Array.isArray(o)&&i.status===404&&(u=[],o=null,c=200,h="OK")}catch{i.status===404&&N===""?(c=204,h="No Content"):o={message:N}}if(o&&r.isMaybeSingle&&(!(o==null||(E=o.details)===null||E===void 0)&&E.includes("0 rows"))&&(o=null,c=200,h="OK"),o&&r.shouldThrowOnError)throw new jz(o)}return{error:o,data:u,count:d,status:c,statusText:h}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let u="",d="",c="";const h=i==null?void 0:i.cause;if(h){var g,x,y,E;const j=(g=h==null?void 0:h.message)!==null&&g!==void 0?g:"",D=(x=h==null?void 0:h.code)!==null&&x!==void 0?x:"";u=`${(y=i==null?void 0:i.name)!==null&&y!==void 0?y:"FetchError"}: ${i==null?void 0:i.message}`,u+=`

Caused by: ${(E=h==null?void 0:h.name)!==null&&E!==void 0?E:"Error"}: ${j}`,D&&(u+=` (${D})`),h!=null&&h.stack&&(u+=`
${h.stack}`)}else{var N;u=(N=i==null?void 0:i.stack)!==null&&N!==void 0?N:""}const T=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(c="",d="Request was aborted (timeout or manual cancellation)",T>this.urlLengthLimit&&(d+=`. Note: Your request URL is ${T} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((h==null?void 0:h.name)==="HeadersOverflowError"||(h==null?void 0:h.code)==="UND_ERR_HEADERS_OVERFLOW")&&(c="",d="HTTP headers exceeded server limits (typically 16KB)",T>this.urlLengthLimit&&(d+=`. Your request URL is ${T} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:u,hint:d,code:c},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},Iz=class extends kz{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var o;const u=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${d}"; options=${u};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const _N=new RegExp("[,()]");var Yh=class extends Iz{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&_N.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&_N.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},Mz=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:a=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join(""),{url:u,headers:d}=this.cloneRequestState();return u.searchParams.set("select",o),n&&d.append("Prefer",`count=${n}`),new Yh({method:a,url:u,headers:d,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,c)=>d.concat(Object.keys(c)),[]);if(u.length>0){const d=[...new Set(u)].map(c=>`"${c}"`);i.searchParams.set("columns",d.join(","))}}return new Yh({method:a,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const o="POST",{url:u,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&u.searchParams.set("on_conflict",t),n&&d.append("Prefer",`count=${n}`),a||d.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(c.length>0){const h=[...new Set(c)].map(g=>`"${g}"`);u.searchParams.set("columns",h.join(","))}}return new Yh({method:o,url:u,headers:d,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Yh({method:n,url:a,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new Yh({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function Pz(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rz(e){var t=Pz(e,"string");return ap(t)=="symbol"?t:t+""}function Dz(e,t,r){return(t=Rz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){Dz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Lz=class hM{constructor(t,{headers:r={},schema:n,fetch:a,timeout:i,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=o;const u=a??globalThis.fetch;i!==void 0&&i>0?this.fetch=(d,c)=>{const h=new AbortController,g=setTimeout(()=>h.abort(),i),x=c==null?void 0:c.signal;if(x){if(x.aborted)return clearTimeout(g),u(d,c);const y=()=>{clearTimeout(g),h.abort()};return x.addEventListener("abort",y,{once:!0}),u(d,Xm(Xm({},c),{},{signal:h.signal})).finally(()=>{clearTimeout(g),x.removeEventListener("abort",y)})}return u(d,Xm(Xm({},c),{},{signal:h.signal})).finally(()=>clearTimeout(g))}:this.fetch=u}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Mz(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new hM(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let u;const d=new URL(`${this.url}/rpc/${t}`);let c;const h=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(h)),g=n&&Object.values(r).some(h);g?(u="POST",c=r):n||a?(u=n?"HEAD":"GET",Object.entries(r).filter(([y,E])=>E!==void 0).map(([y,E])=>[y,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([y,E])=>{d.searchParams.append(y,E)})):(u="POST",c=r);const x=new Headers(this.headers);return g?x.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&x.set("Prefer",`count=${i}`),new Yh({method:u,url:d,headers:x,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class Bz{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Fz="2.98.0",Uz=`realtime-js/${Fz}`,zz="1.0.0",pM="2.0.0",AN=pM,H5=1e4,qz=1e3,Hz=100;var Sf;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Sf||(Sf={}));var Li;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Li||(Li={}));var Kl;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Kl||(Kl={}));var G5;(function(e){e.websocket="websocket"})(G5||(G5={}));var vd;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(vd||(vd={}));class Gz{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,i;const o=t.topic,u=(a=t.ref)!==null&&a!==void 0?a:"",d=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(h).length===0?"":JSON.stringify(h);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+o.length+c.length+g.length,y=new ArrayBuffer(this.HEADER_LENGTH+x);let E=new DataView(y),N=0;E.setUint8(N++,this.KINDS.userBroadcastPush),E.setUint8(N++,d.length),E.setUint8(N++,u.length),E.setUint8(N++,o.length),E.setUint8(N++,c.length),E.setUint8(N++,g.length),E.setUint8(N++,r),Array.from(d,j=>E.setUint8(N++,j.charCodeAt(0))),Array.from(u,j=>E.setUint8(N++,j.charCodeAt(0))),Array.from(o,j=>E.setUint8(N++,j.charCodeAt(0))),Array.from(c,j=>E.setUint8(N++,j.charCodeAt(0))),Array.from(g,j=>E.setUint8(N++,j.charCodeAt(0)));var T=new Uint8Array(y.byteLength+n.byteLength);return T.set(new Uint8Array(y),0),T.set(new Uint8Array(n),y.byteLength),T.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,u,d]=n;return r({join_ref:a,ref:i,topic:o,event:u,payload:d})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),u=r.getUint8(4);let d=this.HEADER_LENGTH+4;const c=n.decode(t.slice(d,d+a));d=d+a;const h=n.decode(t.slice(d,d+i));d=d+i;const g=n.decode(t.slice(d,d+o));d=d+o;const x=t.slice(d,t.byteLength),y=u===this.JSON_ENCODING?JSON.parse(n.decode(x)):x,E={type:this.BROADCAST_EVENT,event:h,payload:y};return o>0&&(E.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class mM{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var sa;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(sa||(sa={}));const EN=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=$z(o,e,t,a),i),{}):{}},$z=(e,t,r,n)=>{const a=t.find(u=>u.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?gM(i,o):$5(o)},gM=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Xz(t,r)}switch(e){case sa.bool:return Wz(t);case sa.float4:case sa.float8:case sa.int2:case sa.int4:case sa.int8:case sa.numeric:case sa.oid:return Vz(t);case sa.json:case sa.jsonb:return Yz(t);case sa.timestamp:return Kz(t);case sa.abstime:case sa.date:case sa.daterange:case sa.int4range:case sa.int8range:case sa.money:case sa.reltime:case sa.text:case sa.time:case sa.timestamptz:case sa.timetz:case sa.tsrange:case sa.tstzrange:return $5(t);default:return $5(t)}},$5=e=>e,Wz=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Vz=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Yz=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Xz=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(u=>gM(t,u))}return e},Kz=e=>typeof e=="string"?e.replace(" ","T"):e,vM=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class vx{constructor(t,r,n={},a=H5){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var NN;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(NN||(NN={}));class Z1{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Z1.syncState(this.state,a,i,o),this.pendingDiffs.forEach(d=>{this.state=Z1.syncDiff(this.state,d,i,o)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Z1.syncDiff(this.state,a,i,o),u())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),u={},d={};return this.map(i,(c,h)=>{o[c]||(d[c]=h)}),this.map(o,(c,h)=>{const g=i[c];if(g){const x=h.map(T=>T.presence_ref),y=g.map(T=>T.presence_ref),E=h.filter(T=>y.indexOf(T.presence_ref)<0),N=g.filter(T=>x.indexOf(T.presence_ref)<0);E.length>0&&(u[c]=E),N.length>0&&(d[c]=N)}else u[c]=h}),this.syncDiff(i,{joins:u,leaves:d},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(u,d)=>{var c;const h=(c=t[u])!==null&&c!==void 0?c:[];if(t[u]=this.cloneDeep(d),h.length>0){const g=t[u].map(y=>y.presence_ref),x=h.filter(y=>g.indexOf(y.presence_ref)<0);t[u].unshift(...x)}n(u,h,d)}),this.map(o,(u,d)=>{let c=t[u];if(!c)return;const h=d.map(g=>g.presence_ref);c=c.filter(g=>h.indexOf(g.presence_ref)<0),t[u]=c,a(u,c,d),c.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var CN;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(CN||(CN={}));var Q1;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Q1||(Q1={}));var bu;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(bu||(bu={}));class e0{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Li.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new vx(this,Kl.join,this.params,this.timeout),this.rejoinTimer=new mM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Li.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Li.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Li.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Li.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Li.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kl.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new Z1(this),this.broadcastEndpointURL=vM(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Li.closed){const{config:{broadcast:o,presence:u,private:d}}=this.params,c=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&a!==void 0?a:[],h=!!this.bindings[Q1.PRESENCE]&&this.bindings[Q1.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,g={},x={broadcast:o,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:c,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(bu.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(bu.CLOSED)),this.updateJoinPayload(Object.assign({config:x},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){t==null||t(bu.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,T=(E=N==null?void 0:N.length)!==null&&E!==void 0?E:0,j=[];for(let D=0;D<T;D++){const F=N[D],{filter:{event:U,schema:Z,table:X,filter:$}}=F,Q=y&&y[D];if(Q&&Q.event===U&&e0.isFilterValueEqual(Q.schema,Z)&&e0.isFilterValueEqual(Q.table,X)&&e0.isFilterValueEqual(Q.filter,$))j.push(Object.assign(Object.assign({},F),{id:Q.id}));else{this.unsubscribe(),this.state=Li.errored,t==null||t(bu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(bu.SUBSCRIBED);return}}).receive("error",y=>{this.state=Li.errored,t==null||t(bu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(bu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Li.joined&&t===Q1.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const c=await u.json();d=c.error||c.message||d}catch{}return Promise.reject(new Error(d))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,u,d;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Li.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kl.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new vx(this,Kl.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Li.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new vx(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Hz){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:u,error:d,leave:c,join:h}=Kl;if(n&&[u,d,c,h].indexOf(o)>=0&&n!==this._joinRef())return;let x=this._onMessage(o,r,n);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(y=>{var E,N,T;return((E=y.filter)===null||E===void 0?void 0:E.event)==="*"||((T=(N=y.filter)===null||N===void 0?void 0:N.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===o}).map(y=>y.callback(x,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var E,N,T,j,D,F;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const U=y.id,Z=(E=y.filter)===null||E===void 0?void 0:E.event;return U&&((N=r.ids)===null||N===void 0?void 0:N.includes(U))&&(Z==="*"||(Z==null?void 0:Z.toLocaleLowerCase())===((T=r.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const U=(D=(j=y==null?void 0:y.filter)===null||j===void 0?void 0:j.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return U==="*"||U===((F=r==null?void 0:r.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof x=="object"&&"ids"in x){const E=x.data,{schema:N,table:T,commit_timestamp:j,type:D,errors:F}=E;x=Object.assign(Object.assign({},{schema:N,table:T,commit_timestamp:j,eventType:D,new:{},old:{},errors:F}),this._getPayloadRecords(E))}y.callback(x,n)})}_isClosed(){return this.state===Li.closed}_isJoined(){return this.state===Li.joined}_isJoining(){return this.state===Li.joining}_isLeaving(){return this.state===Li.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&e0.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Kl.close,{},t)}_onError(t){this._on(Kl.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Li.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=EN(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=EN(t.columns,t.old_record)),r}}const bx=()=>{},Km={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Zz=[1e3,2e3,5e3,1e4],Qz=1e4,Jz=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class eq{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=H5,this.transport=null,this.heartbeatIntervalMs=Km.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bx,this.ref=0,this.reconnectTimer=null,this.vsn=AN,this.logger=bx,this.conn=null,this.sendBuffer=[],this.serializer=new Gz,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${G5.websocket}`,this.httpEndpoint=vM(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Bz.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Sf.connecting:return vd.Connecting;case Sf.open:return vd.Open;case Sf.closing:return vd.Closing;default:return vd.Closed}}isConnected(){return this.connectionState()===vd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new e0(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(qz,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Km.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:i,ref:o}=r,u=o?`(${o})`:"",d=i.status||"";this.log("receive",`${d} ${n} ${a} ${u}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Sf.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Sf.open||this.conn.readyState===Sf.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.accessTokenValue&&(this.channels.forEach(r=>{r.updateJoinPayload({access_token:this.accessTokenValue})}),this.sendBuffer=[],this.channels.forEach(r=>{r._isJoining()&&(r.joinPush.sent=!1,r.joinPush.send())})),this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Kl.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Jz],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:Uz};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Kl.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new mM(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Km.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,u,d,c,h,g,x,y;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:H5,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Km.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:bx,this.vsn=(d=t==null?void 0:t.vsn)!==null&&d!==void 0?d:AN,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:(E=>Zz[E-1]||Qz),this.vsn){case zz:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:((E,N)=>N(JSON.stringify(E))),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:((E,N)=>N(JSON.parse(E)));break;case pM:this.encode=(x=t==null?void 0:t.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(y=t==null?void 0:t.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ip=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function tq(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function rq(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function nq(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const u=tq(e.baseUrl,n,a),d=await rq(e.auth),c=await t(u,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...d,...o},body:i?JSON.stringify(i):void 0}),h=await c.text(),g=(c.headers.get("content-type")||"").includes("application/json"),x=g&&h?JSON.parse(h):h;if(!c.ok){const y=g?x:void 0,E=y==null?void 0:y.error;throw new ip((E==null?void 0:E.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:E==null?void 0:E.type,icebergCode:E==null?void 0:E.code,details:y})}return{status:c.status,headers:c.headers,data:x}}}}function Zm(e){return e.join("")}var aq=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Zm(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zm(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zm(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zm(e.namespace)}`}),!0}catch(t){if(t instanceof ip&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ip&&r.status===409)return;throw r}}};function Ih(e){return e.join("")}var iq=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ih(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ih(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ih(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ih(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ih(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ih(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ip&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ip&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},sq=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=nq({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new aq(this.client,t),this.tableOps=new iq(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Vb=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Yb(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Qm=class extends Vb{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},bM=class extends Vb{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const oq=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),lq=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},W5=e=>{if(Array.isArray(e))return e.map(r=>W5(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=W5(n)}),t},cq=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function uq(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fq(e){var t=uq(e,"string");return sp(t)=="symbol"?t:t+""}function dq(e,t,r){return(t=fq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ON(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ON(Object(r),!0).forEach(function(n){dq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const TN=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},hq=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,i=a.status||500;if(typeof a.json=="function")a.json().then(o=>{const u=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new Qm(TN(o),i,u,n))}).catch(()=>{if(n==="vectors"){const o=i+"";t(new Qm(a.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";t(new Qm(a.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";t(new Qm(a.statusText||`HTTP ${i} error`,i,o,n))}}else t(new bM(TN(e),e,n))},pq=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Er(Er({},a),r):(lq(n)?(a.headers=Er({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Er(Er({},a),r))};async function A1(e,t,r,n,a,i,o){return new Promise((u,d)=>{e(r,pq(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;if(o==="vectors"){const h=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!h||!h.includes("application/json"))return{}}return c.json()}).then(c=>u(c)).catch(c=>hq(c,d,n,o))})}function yM(e="storage"){return{get:async(t,r,n,a)=>A1(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,i)=>A1(t,"POST",r,a,i,n,e),put:async(t,r,n,a,i)=>A1(t,"PUT",r,a,i,n,e),head:async(t,r,n,a)=>A1(t,"HEAD",r,Er(Er({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,i)=>A1(t,"DELETE",r,a,i,n,e)}}const mq=yM("storage"),{get:op,post:Xl,put:V5,head:gq,remove:C3}=mq,Ko=yM("vectors");var C0=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=oq(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Er(Er({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Yb(r))return{data:null,error:r};throw r}}},vq=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yb(t))return{data:null,error:t};throw t}}};let xM;xM=Symbol.toStringTag;var bq=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[xM]="BlobDownloadBuilder",this.promise=null}asStream(){return new vq(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Yb(t))return{data:null,error:t};throw t}}};const yq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var xq=class extends C0{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let i;const o=Er(Er({},jN),n);let u=Er(Er({},a.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",a.encodeMetadata(d)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),d&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(d))):(i=r,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,d&&(u["x-metadata"]=a.toBase64(a.encodeMetadata(d))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(u=Er(Er({},u),n.headers));const c=a._removeEmptyFolders(t),h=a._getFinalPath(c),g=await(e=="PUT"?V5:Xl)(a.fetch,`${a.url}/object/${h}`,i,Er({headers:u},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:c,id:g.Id,fullPath:g.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),o=a._getFinalPath(i),u=new URL(a.url+`/object/upload/sign/${o}`);return u.searchParams.set("token",t),a.handleOperation(async()=>{let d;const c=Er({upsert:jN.upsert},n),h=Er(Er({},a.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",c.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",c.cacheControl)):(d=r,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType),{path:i,fullPath:(await V5(a.fetch,u.toString(),d,{headers:h})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=Er({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await Xl(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(r.url+i.url),u=o.searchParams.get("token");if(!u)throw new Vb("No token returned by API");return{signedUrl:o.toString(),path:e,token:u}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Xl(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Xl(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),i=await Xl(n.fetch,`${n.url}/object/sign/${a}`,Er({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await Xl(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(o=>Er(Er({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=a?`?${a}`:"",o=this._getFinalPath(e),u=()=>op(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0},r);return new bq(u,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>W5(await op(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await gq(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Yb(n)&&n instanceof bM){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${u}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await C3(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=Er(Er(Er({},yq),t),{},{prefix:e||""});return await Xl(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Er({},e);return await Xl(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const wq="2.98.0",Mp={"X-Client-Info":`storage-js/${wq}`};var _q=class extends C0{constructor(e,t={},r,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const i=a.href.replace(/\/$/,""),o=Er(Er({},Mp),t);super(i,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await op(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await op(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Xl(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await V5(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Xl(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await C3(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Sq=class extends C0{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Er(Er({},Mp),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Xl(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await op(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await C3(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!cq(e))throw new Vb("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new sq({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...u)=>{try{return{data:await o.apply(a,u),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}},Aq=class extends C0{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Er(Er({},Mp),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Ko.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Ko.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Ko.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Ko.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},Eq=class extends C0{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Er(Er({},Mp),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ko.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Ko.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Ko.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Ko.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ko.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},Nq=class extends C0{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Er(Er({},Mp),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ko.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ko.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Ko.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ko.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Cq=class extends Nq{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Oq(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Oq=class extends Aq{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Er(Er({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Er(Er({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Tq(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Tq=class extends Eq{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Er(Er({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Er(Er({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Er(Er({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Er(Er({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Er(Er({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},jq=class extends _q{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new xq(this.url,this.headers,e,this.fetch)}get vectors(){return new Cq(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Sq(this.url+"/iceberg",this.headers,this.fetch)}};const wM="2.98.0",Xh=30*1e3,Y5=3,yx=Y5*Xh,kq="http://localhost:9999",Iq="supabase.auth.token",Mq={"X-Client-Info":`gotrue-js/${wM}`},X5="X-Supabase-Api-Version",_M={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Pq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Rq=600*1e3;class lp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function sr(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Dq extends lp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Lq(e){return sr(e)&&e.name==="AuthApiError"}class bd extends lp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Lu extends lp{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Vo extends Lu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xx(e){return sr(e)&&e.name==="AuthSessionMissingError"}class Mh extends Lu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jm extends Lu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class eg extends Lu{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Bq(e){return sr(e)&&e.name==="AuthImplicitGrantRedirectError"}class kN extends Lu{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fq extends Lu{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class K5 extends Lu{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function wx(e){return sr(e)&&e.name==="AuthRetryableFetchError"}class IN extends Lu{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Z5 extends Lu{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const kv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),MN=` 	
\r=`.split(""),Uq=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<MN.length;t+=1)e[MN[t].charCodeAt(0)]=-2;for(let t=0;t<kv.length;t+=1)e[kv[t].charCodeAt(0)]=t;return e})();function PN(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(kv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(kv[n]),t.queuedBits-=6}}function SM(e,t,r){const n=Uq[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function RN(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Hq(o,n,r)};for(let o=0;o<e.length;o+=1)SM(e.charCodeAt(o),a,i);return t.join("")}function zq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qq(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}zq(n,t)}}function Hq(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function i0(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)SM(e.charCodeAt(a),r,n);return new Uint8Array(t)}function Gq(e){const t=[];return qq(e,r=>t.push(r)),new Uint8Array(t)}function xd(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>PN(a,r,n)),PN(null,r,n),t.join("")}function $q(e){return Math.round(Date.now()/1e3)+e}function Wq(){return Symbol("auth-callback")}const ys=()=>typeof window<"u"&&typeof document<"u",id={tested:!1,writable:!1},AM=()=>{if(!ys())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(id.tested)return id.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),id.tested=!0,id.writable=!0}catch{id.tested=!0,id.writable=!1}return id.writable};function Vq(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const EM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Yq=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Kh=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},sd=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},bs=async(e,t)=>{await e.removeItem(t)};class Xb{constructor(){this.promise=new Xb.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Xb.promiseConstructor=Promise;function tg(e){const t=e.split(".");if(t.length!==3)throw new Z5("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Pq.test(t[n]))throw new Z5("JWT not in base64url format");return{header:JSON.parse(RN(t[0])),payload:JSON.parse(RN(t[1])),signature:i0(t[2]),raw:{header:t[0],payload:t[1]}}}async function Xq(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Kq(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function Zq(e){return("0"+e.toString(16)).substr(-2)}function Qq(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Zq).join("")}async function Jq(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function eH(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Jq(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ph(e,t,r=!1){const n=Qq();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Kh(e,`${t}-code-verifier`,a);const i=await eH(n);return[i,n===i?"plain":"s256"]}const tH=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rH(e){const t=e.headers.get(X5);if(!t||!t.match(tH))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function nH(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function aH(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const iH=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rh(e){if(!iH.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _x(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sH(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function DN(e){return JSON.parse(JSON.stringify(e))}const fd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oH=[502,503,504];async function LN(e){var t;if(!Yq(e))throw new K5(fd(e),0);if(oH.includes(e.status))throw new K5(fd(e),e.status);let r;try{r=await e.json()}catch(i){throw new bd(fd(i),i)}let n;const a=rH(e);if(a&&a.getTime()>=_M["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new IN(fd(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Vo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new IN(fd(r),e.status,r.weak_password.reasons);throw new Dq(fd(r),e.status||500,n)}const lH=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Cr(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[X5]||(i[X5]=_M["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await cH(e,t,r+u,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function cH(e,t,r,n,a,i){const o=lH(t,n,a,i);let u;try{u=await e(r,Object.assign({},o))}catch(d){throw console.error(d),new K5(fd(d),0)}if(u.ok||await LN(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(d){await LN(d)}}function Yl(e){var t;let r=null;dH(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=$q(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function BN(e){const t=Yl(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Nf(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function uH(e){return{data:e,error:null}}function fH(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=Wb(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},d=Object.assign({},o);return{data:{properties:u,user:d},error:null}}function FN(e){return e}function dH(e){return e.access_token&&e.refresh_token&&e.expires_in}const Sx=["global","local","others"];class hH{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=EM(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Sx[0]){if(Sx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Sx.join(", ")}`);try{return await Cr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(sr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Cr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Nf})}catch(n){if(sr(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Wb(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Cr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:fH,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(sr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Cr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Nf})}catch(r){if(sr(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,u,d;try{const c={nextPage:null,lastPage:0,total:0},h=await Cr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:FN});if(h.error)throw h.error;const g=await h.json(),x=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(E=>{const N=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(E.split(";")[1].split("=")[1]);c[`${T}Page`]=N}),c.total=parseInt(x)),{data:Object.assign(Object.assign({},g),c),error:null}}catch(c){if(sr(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Rh(t);try{return await Cr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Nf})}catch(r){if(sr(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Rh(t);try{return await Cr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Nf})}catch(n){if(sr(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Rh(t);try{return await Cr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Nf})}catch(n){if(sr(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Rh(t.userId);try{const{data:r,error:n}=await Cr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(sr(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Rh(t.userId),Rh(t.id);try{return{data:await Cr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(sr(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,u,d;try{const c={nextPage:null,lastPage:0,total:0},h=await Cr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:FN});if(h.error)throw h.error;const g=await h.json(),x=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(E=>{const N=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(E.split(";")[1].split("=")[1]);c[`${T}Page`]=N}),c.total=parseInt(x)),{data:Object.assign(Object.assign({},g),c),error:null}}catch(c){if(sr(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await Cr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(sr(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Cr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(sr(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Cr(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(sr(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Cr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(sr(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Cr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(sr(r))return{data:null,error:r};throw r}}}function UN(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const hu={debug:!!(globalThis&&AM()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class NM extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class pH extends NM{}async function mH(e,t,r){hu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;t>0&&setTimeout(()=>{n.abort(),hu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){hu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{hu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw hu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new pH(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(hu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(a){if((a==null?void 0:a.name)==="AbortError"&&t>0)return hu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire timeout, recovering by stealing lock",e),console.warn(`@supabase/gotrue-js: Lock "${e}" was not released within ${t}ms. This may indicate an orphaned lock from a component unmount (e.g., React Strict Mode). Forcefully acquiring the lock to recover.`),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,{mode:"exclusive",steal:!0},async i=>{if(i){hu.debug&&console.log("@supabase/gotrue-js: navigatorLock: recovered (stolen)",e,i.name);try{return await r()}finally{hu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released (stolen)",e,i.name)}}else return console.warn("@supabase/gotrue-js: Navigator LockManager returned null lock even with steal: true"),await r()}));throw a}}function gH(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function CM(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function vH(e){return parseInt(e,16)}function bH(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function yH(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:u,requestId:d,resources:c,scheme:h,uri:g,version:x}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=CM(e.address),E=h?`${h}://${n}`:n,N=e.statement?`${e.statement}
`:"",T=`${E} wants you to sign in with your Ethereum account:
${y}

${N}`;let j=`URI: ${g}
Version: ${x}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(j+=`
Expiration Time: ${a.toISOString()}`),u&&(j+=`
Not Before: ${u.toISOString()}`),d&&(j+=`
Request ID: ${d}`),c){let D=`
Resources:`;for(const F of c){if(!F||typeof F!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${F}`);D+=`
- ${F}`}j+=D}return`${T}
${j}`}class _i extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Iv extends _i{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function xH({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new _i({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new _i({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new _i({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new _i({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new _i({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new _i({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new _i({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new _i({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(OM(o)){if(i.rp.id!==o)return new _i({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new _i({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new _i({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new _i({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new _i({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function wH({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new _i({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new _i({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(OM(n)){if(r.rpId!==n)return new _i({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new _i({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new _i({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new _i({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class _H{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const SH=new _H;function AH(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Wb(e,["challenge","user","excludeCredentials"]),i=i0(t).buffer,o=Object.assign(Object.assign({},r),{id:i0(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const c=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},c),{id:i0(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return u}function EH(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Wb(e,["challenge","allowCredentials"]),a=i0(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const u=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},u),{id:i0(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return i}function NH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:xd(new Uint8Array(e.response.attestationObject)),clientDataJSON:xd(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function CH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:xd(new Uint8Array(a.authenticatorData)),clientDataJSON:xd(new Uint8Array(a.clientDataJSON)),signature:xd(new Uint8Array(a.signature)),userHandle:a.userHandle?xd(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function OM(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function zN(){var e,t;return!!(ys()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function OH(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Iv("Browser returned unexpected credential type",t)}:{data:null,error:new Iv("Empty credential response",t)}}catch(t){return{data:null,error:xH({error:t,options:e})}}}async function TH(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Iv("Browser returned unexpected credential type",t)}:{data:null,error:new Iv("Empty credential response",t)}}catch(t){return{data:null,error:wH({error:t,options:e})}}}const jH={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},kH={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Mv(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const u=n[i];t(u)?n[i]=Mv(u,o):n[i]=Mv(o)}else n[i]=o}return n}function IH(e,t){return Mv(jH,e,t||{})}function MH(e,t){return Mv(kH,e,t||{})}class PH{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){var o;try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!u)return{data:null,error:d};const c=a??SH.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:h}=u.webauthn.credential_options.publicKey;if(!h.name){const g=n;if(g)h.name=`${h.id}:${g}`;else{const y=(await this.client.getUser()).data.user,E=((o=y==null?void 0:y.user_metadata)===null||o===void 0?void 0:o.name)||(y==null?void 0:y.email)||(y==null?void 0:y.id)||"User";h.name=`${h.id}:${E}`}}h.displayName||(h.displayName=h.name)}switch(u.webauthn.type){case"create":{const h=IH(u.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:g,error:x}=await OH({publicKey:h,signal:c});return g?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}case"request":{const h=MH(u.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:g,error:x}=await TH(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:h,signal:c}));return g?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}}}catch(u){return sr(u)?{data:null,error:u}:{data:null,error:new bd("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new lp("rpId is required for WebAuthn authentication")};try{if(!zN())return{data:null,error:new bd("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:u};const{webauthn:d}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(o){return sr(o)?{data:null,error:o}:{data:null,error:new bd("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new lp("rpId is required for WebAuthn registration")};try{if(!zN())return{data:null,error:new bd("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var g;return(g=h.data)===null||g===void 0?void 0:g.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:d,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:c}}catch(o){return sr(o)?{data:null,error:o}:{data:null,error:new bd("Unexpected error in register",o)}}}}gH();const RH={url:kq,storageKey:Iq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Mq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:5e3,skipAutoInitialize:!1};async function qN(e,t,r){return await r()}const Dh={};class cp{get jwks(){var t,r;return(r=(t=Dh[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Dh[this.storageKey]=Object.assign(Object.assign({},Dh[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Dh[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Dh[this.storageKey]=Object.assign(Object.assign({},Dh[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},RH),t);if(this.storageKey=i.storageKey,this.instanceID=(r=cp.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,cp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ys()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new hH({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=EM(i.fetch),this.lock=i.lock||qN,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&ys()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=mH:this.lock=qN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new PH(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:AM()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=UN(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=UN(this.memoryStorage)),ys()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(u){this._debug("#broadcastChannel","error",u)}})}i.skipAutoInitialize||this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${wM}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(ys()&&(r=Vq(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ys()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Bq(i)){const d=(t=i.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return sr(r)?this._returnResult({error:r}):this._returnResult({error:new bd("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Cr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Yl}),{data:o,error:u}=i;if(u||!o)return this._returnResult({data:{user:null,session:null},error:u});const d=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:c,session:d},error:null})}catch(i){if(sr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:h,password:g,options:x}=t;let y=null,E=null;this.flowType==="pkce"&&([y,E]=await Ph(this.storage,this.storageKey)),i=await Cr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:h,password:g,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:y,code_challenge_method:E},xform:Yl})}else if("phone"in t){const{phone:h,password:g,options:x}=t;i=await Cr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:g,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},channel:(a=x==null?void 0:x.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Yl})}else throw new Jm("You must provide either an email or phone number and a password");const{data:o,error:u}=i;if(u||!o)return await bs(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:c,session:d},error:null})}catch(i){if(await bs(this.storage,`${this.storageKey}-code-verifier`),sr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:u}=t;r=await Cr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:BN})}else if("phone"in t){const{phone:i,password:o,options:u}=t;r=await Cr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:BN})}else throw new Jm("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Mh;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(sr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,u,d,c,h,g,x;let y,E;if("message"in t)y=t.message,E=t.signature;else{const{chain:N,wallet:T,statement:j,options:D}=t;let F;if(ys())if(typeof T=="object")F=T;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")F=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=T}const U=new URL((r=D==null?void 0:D.url)!==null&&r!==void 0?r:window.location.href),Z=await F.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Z||Z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const X=CM(Z[0]);let $=(n=D==null?void 0:D.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!$){const q=await F.request({method:"eth_chainId"});$=vH(q)}const Q={domain:U.host,address:X,statement:j,uri:U.href,version:"1",chainId:$,nonce:(a=D==null?void 0:D.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=D==null?void 0:D.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(u=D==null?void 0:D.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=D==null?void 0:D.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(c=D==null?void 0:D.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(h=D==null?void 0:D.signInWithEthereum)===null||h===void 0?void 0:h.resources};y=yH(Q),E=await F.request({method:"personal_sign",params:[bH(y),X]})}try{const{data:N,error:T}=await Cr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:E},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Yl});if(T)throw T;if(!N||!N.session||!N.user){const j=new Mh;return this._returnResult({data:{user:null,session:null},error:j})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:T})}catch(N){if(sr(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(t){var r,n,a,i,o,u,d,c,h,g,x,y;let E,N;if("message"in t)E=t.message,N=t.signature;else{const{chain:T,wallet:j,statement:D,options:F}=t;let U;if(ys())if(typeof j=="object")U=j;else{const X=window;if("solana"in X&&typeof X.solana=="object"&&("signIn"in X.solana&&typeof X.solana.signIn=="function"||"signMessage"in X.solana&&typeof X.solana.signMessage=="function"))U=X.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(F!=null&&F.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=j}const Z=new URL((r=F==null?void 0:F.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in U&&U.signIn){const X=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},F==null?void 0:F.signInWithSolana),{version:"1",domain:Z.host,uri:Z.href}),D?{statement:D}:null));let $;if(Array.isArray(X)&&X[0]&&typeof X[0]=="object")$=X[0];else if(X&&typeof X=="object"&&"signedMessage"in X&&"signature"in X)$=X;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)E=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),N=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${Z.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${Z.href}`,`Issued At: ${(a=(n=F==null?void 0:F.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=F==null?void 0:F.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${F.signInWithSolana.notBefore}`]:[],...!((o=F==null?void 0:F.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${F.signInWithSolana.expirationTime}`]:[],...!((u=F==null?void 0:F.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${F.signInWithSolana.chainId}`]:[],...!((d=F==null?void 0:F.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${F.signInWithSolana.nonce}`]:[],...!((c=F==null?void 0:F.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${F.signInWithSolana.requestId}`]:[],...!((g=(h=F==null?void 0:F.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||g===void 0)&&g.length?["Resources",...F.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const X=await U.signMessage(new TextEncoder().encode(E),"utf8");if(!X||!(X instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=X}}try{const{data:T,error:j}=await Cr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:xd(N)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Yl});if(j)throw j;if(!T||!T.session||!T.user){const D=new Mh;return this._returnResult({data:{user:null,session:null},error:D})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:j})}catch(T){if(sr(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const r=await sd(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Fq;const{data:i,error:o}=await Cr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Yl});if(await bs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const u=new Mh;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await bs(this.storage,`${this.storageKey}-code-verifier`),sr(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,u=await Cr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Yl}),{data:d,error:c}=u;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!d||!d.session||!d.user){const h=new Mh;return this._returnResult({data:{user:null,session:null},error:h})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:c})}catch(r){if(sr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:u,options:d}=t;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await Ph(this.storage,this.storageKey));const{error:g}=await Cr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:u,options:d}=t,{data:c,error:h}=await Cr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d==null?void 0:d.data)!==null&&a!==void 0?a:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(o=d==null?void 0:d.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h})}throw new Jm("You must provide either an email or phone number.")}catch(u){if(await bs(this.storage,`${this.storageKey}-code-verifier`),sr(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:u}=await Cr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Yl});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,c=o.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:c,session:d},error:null})}catch(a){if(sr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ph(this.storage,this.storageKey));const c=await Cr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:uH});return!((i=c.data)===null||i===void 0)&&i.url&&ys()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(u){if(await bs(this.storage,`${this.storageKey}-code-verifier`),sr(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Vo;const{error:a}=await Cr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(sr(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Cr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:u}=await Cr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:u})}throw new Jm("You must provide either an email or phone number and a type")}catch(r){if(sr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await sd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<yx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await sd(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=_x()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=sH(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Cr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Nf}):await this._useSession(async r=>{var n,a,i;const{data:o,error:u}=r;if(u)throw u;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vo}:await Cr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Nf})})}catch(r){if(sr(r))return xx(r)&&(await this._removeSession(),await bs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Vo;const o=a.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Ph(this.storage,this.storageKey));const{data:c,error:h}=await Cr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:o.access_token,xform:Nf});if(h)throw h;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await bs(this.storage,`${this.storageKey}-code-verifier`),sr(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Vo;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=tg(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});i={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(sr(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:u}=r;if(u)throw u;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Vo;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(sr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!ys())throw new eg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new eg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new kN("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new eg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new kN("No code detected.");const{data:D,error:F}=await this._exchangeCodeForSession(t.code);if(F)throw F;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:u,expires_at:d,token_type:c}=t;if(!i||!u||!o||!c)throw new eg("No session defined in URL");const h=Math.round(Date.now()/1e3),g=parseInt(u);let x=h+g;d&&(x=parseInt(d));const y=x-h;y*1e3<=Xh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${g}s`);const E=x-g;h-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,x,h):h-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,x,h);const{data:N,error:T}=await this._getUser(i);if(T)throw T;const j={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:g,expires_at:x,refresh_token:o,token_type:c,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(n){if(sr(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await sd(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i&&!xx(i))return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:u}=await this.admin.signOut(o,t);if(u&&!(Lq(u)&&(u.status===404||u.status===401||u.status===403)||xx(u)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await bs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Wq(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Ph(this.storage,this.storageKey,!0));try{return await Cr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await bs(this.storage,`${this.storageKey}-code-verifier`),sr(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(sr(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,u,d,c,h;const{data:g,error:x}=i;if(x)throw x;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Cr(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(c=g.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(a)throw a;return ys()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(sr(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:u,token:d,access_token:c,nonce:h}=t,g=await Cr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:c,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Yl}),{data:x,error:y}=g;return y?this._returnResult({data:{user:null,session:null},error:y}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new Mh}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:y}))}catch(a){if(await bs(this.storage,`${this.storageKey}-code-verifier`),sr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Cr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(sr(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Kq(async a=>(a>0&&await Xq(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Cr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Yl})),(a,i)=>{const o=200*Math.pow(2,a);return i&&wx(i)&&Date.now()+o-n<Xh})}catch(n){if(this._debug(r,"error",n),sr(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ys()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await sd(this.storage,this.storageKey);if(a&&this.userStorage){let o=await sd(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Kh(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:_x()}else if(a&&!a.user&&!a.user){const o=await sd(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await bs(this.storage,this.storageKey+"-user"),await Kh(this.storage,this.storageKey,a)):a.user=_x()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<yx;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${yx}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),wx(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(a.access_token);!u&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Vo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Xb;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Vo;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={data:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(a,"error",i),sr(i)){const o={data:null,error:i};return wx(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(d){i.push(d)}});if(await Promise.all(o),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await bs(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Kh(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=DN(a);await Kh(this.storage,this.storageKey,i)}else{const a=DN(r);await Kh(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await bs(this.storage,this.storageKey),await bs(this.storage,this.storageKey+"-code-verifier"),await bs(this.storage,this.storageKey+"-user"),this.userStorage&&await bs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ys()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Xh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Xh}ms, refresh threshold is ${Y5} ticks`),a<=Y5&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof NM)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ys()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ph(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(u.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await Cr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(sr(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:c}=await Cr(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&d.type==="totp"&&(!((a=d==null?void 0:d.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(sr(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?NH(t.webauthn.credential_response):CH(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await Cr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(sr(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await Cr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:u}=o;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:AH(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:EH(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(sr(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,i;if(t)try{const{payload:y}=tg(t);let E=null;y.aal&&(E=y.aal);let N=E;const{data:{user:T},error:j}=await this.getUser(t);if(j)return this._returnResult({data:null,error:j});((n=(r=T==null?void 0:T.factors)===null||r===void 0?void 0:r.filter(U=>U.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(N="aal2");const F=y.amr||[];return{data:{currentLevel:E,nextLevel:N,currentAuthenticationMethods:F},error:null}}catch(y){if(sr(y))return this._returnResult({data:null,error:y});throw y}const{data:{session:o},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=tg(o.access_token);let c=null;d.aal&&(c=d.aal);let h=c;((i=(a=o.user.factors)===null||a===void 0?void 0:a.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const x=d.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Cr(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Vo})})}catch(r){if(sr(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Vo});const o=await Cr(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&ys()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(sr(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Vo});const o=await Cr(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&ys()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(sr(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Cr(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Vo})})}catch(t){if(sr(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Cr(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Vo})})}catch(r){if(sr(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+Rq>a)return n;const{data:i,error:o}=await Cr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:E}=await this.getSession();if(E||!y.session)return this._returnResult({data:null,error:E});n=y.session.access_token}const{header:a,payload:i,signature:o,raw:{header:u,payload:d}}=tg(n);r!=null&&r.allowExpired||nH(i.exp);const c=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:a,signature:o},error:null}}const h=aH(a.alg),g=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,g,o,Gq(`${u}.${d}`)))throw new Z5("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(sr(n))return this._returnResult({data:null,error:n});throw n}}}cp.nextInstanceID={};const DH=cp,LH="2.98.0";let $1="";typeof Deno<"u"?$1="deno":typeof document<"u"?$1="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$1="react-native":$1="node";const BH={"X-Client-Info":`supabase-js-${$1}/${LH}`},FH={headers:BH},UH={schema:"public"},zH={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qH={};function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function HH(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GH(e){var t=HH(e,"string");return up(t)=="symbol"?t:t+""}function $H(e,t,r){return(t=GH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(r),!0).forEach(function(n){$H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const WH=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),VH=()=>Headers,YH=(e,t,r)=>{const n=WH(r),a=VH();return async(i,o)=>{var u;const d=(u=await t())!==null&&u!==void 0?u:e;let c=new a(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${d}`),n(i,Xa(Xa({},o),{},{headers:c}))}};function XH(e){return e.endsWith("/")?e:e+"/"}function KH(e,t){var r,n;const{db:a,auth:i,realtime:o,global:u}=e,{db:d,auth:c,realtime:h,global:g}=t,x={db:Xa(Xa({},d),a),auth:Xa(Xa({},c),i),realtime:Xa(Xa({},h),o),storage:{},global:Xa(Xa(Xa({},g),u),{},{headers:Xa(Xa({},(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?x.accessToken=e.accessToken:delete x.accessToken,x}function ZH(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(XH(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var QH=class extends DH{constructor(e){super(e)}},JH=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=ZH(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,u={db:UH,realtime:qH,auth:Xa(Xa({},zH),{},{storageKey:o}),global:FH},d=KH(r??{},u);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=d.auth)!==null&&c!==void 0?c:{},this.headers,d.global.fetch)}this.fetch=YH(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Xa({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new Lz(new URL("rest/v1",i).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch,timeout:d.db.timeout,urlLengthLimit:d.db.urlLengthLimit}),this.storage=new jq(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Tz(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:o,lock:u,debug:d,throwOnError:c},h,g){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new QH({url:this.authUrl.href,headers:Xa(Xa({},x),h),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:o,lock:u,debug:d,throwOnError:c,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new eq(this.realtimeUrl.href,Xa(Xa({},e),{},{params:Xa(Xa({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const eG=(e,t,r)=>new JH(e,t,r);function tG(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}tG()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const rG="https://pznponymhusxgrwbahid.supabase.co",nG="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB6bnBvbnltaHVzeGdyd2JhaGlkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIyMDQzNDgsImV4cCI6MjA4Nzc4MDM0OH0.C4pasGLfayXa2g7vKfjvlB4NMsntSe-kAwUtFAZjdmU",At=eG(rG,nG),aG={greensboro:{telefono:"3365496890"},laredo:{telefono:"7572437074"},tapachula:{telefono:"9621210423"}};function Ax(e){const t=aG;return`
 Bienvenido a YOUBOX GT! Tu casillero es: *${e}*

 *DIRECCIN GREENSBORO, NC (Va Martima USA)*
Nombre: YBG + Tu Nombre  
Direccin: 4100 Tulsa Dr  
Suite/Apt: ${e}  
Ciudad: Greensboro, NC  
ZIP: 27406  
Tel: ${t.greensboro.telefono}

 *DIRECCIN LAREDO, TX (Va Terrestre USA)*
Nombre: YBG + Tu Nombre  
Direccin: 1900 Justo Penn St  
Suite/Apt: ${e}  
Ciudad: Laredo, TX  
ZIP: 78041  
Tel: ${t.laredo.telefono}

 *DIRECCIN TAPACHULA, MX (Va Terrestre Mxico)*
Nombre: YBG + Tu Nombre  
Direccin: Calle El Carmen Manzana 6 Casa 4  
Referencias: Infonavit El Carmen + ${e}  
Ciudad: Tapachula, Chiapas  
CP: 30799  
Tel: ${t.tapachula.telefono}

 Escribe los datos tal como se indican. Recuerda revisar trminos y condiciones.
  `.trim()}async function iG(e="YBG"){try{const{data:t}=await At.from("clientes").select("locker_id").like("locker_id",`${e}%`).order("locker_id",{ascending:!1}).limit(1e5);if(!t||t.length===0)return`${e}1`;const r=t.reduce((n,a)=>{var o;const i=(o=a.locker_id)==null?void 0:o.replace(e,"").match(/^(\d+)$/);if(i){const u=parseInt(i[1],10);return u>n?u:n}return n},0);return`${e}${r+1}`}catch{return`${e}1`}}const TM=R.createContext(null);function sG({children:e}){const[t,r]=R.useState(null),[n,a]=R.useState(!0);R.useEffect(()=>{const d=localStorage.getItem("youbox_user");if(d)try{r(JSON.parse(d))}catch{}a(!1)},[]);const i=async(d,c)=>{var h;if(d.toLowerCase()==="admin"&&c==="1234"){const g={id:"admin-001",nombre:"Administrador",apellido:"YOUBOX",email:"admin@youbox.gt",role:"admin"};return r(g),localStorage.setItem("youbox_user",JSON.stringify(g)),{}}try{const{data:g,error:x}=await At.from("clientes").select("*").eq("email",d.toLowerCase()).single();if(!x&&g){if((g.password_hash??g.notas)!==c)return{error:"Contrasea incorrecta."};const j={id:g.id,nombre:g.nombre,apellido:g.apellido,email:g.email,telefono:g.telefono,locker_id:g.locker_id,role:"cliente",sucursal_id:g.sucursal_id};return r(j),localStorage.setItem("youbox_user",JSON.stringify(j)),{}}const{data:y,error:E}=await At.from("usuarios").select("*, roles(nombre)").eq("email",d.toLowerCase()).single();if(E||!y)return{error:"Credenciales incorrectas. Verifica tu email."};if(!y.activo)return{error:"Esta cuenta ha sido suspendida."};if(y.password_hash!==c)return{error:"Contrasea incorrecta."};const N={id:y.id,nombre:y.nombre,apellido:y.apellido,email:y.email,telefono:y.telefono,role:((h=y.roles)==null?void 0:h.nombre)||"admin",sucursal_id:y.sucursal_id};return r(N),localStorage.setItem("youbox_user",JSON.stringify(N)),{}}catch{return{error:"Error de conexin. Intenta de nuevo."}}},o=async d=>{try{const c=await iG(d.sucursal_prefix||"YBG"),{data:h,error:g}=await At.from("clientes").insert([{nombre:d.nombre,apellido:d.apellido,email:d.email.toLowerCase(),telefono:d.telefono,locker_id:c,notas:d.password,activo:!0,sucursal_id:d.sucursal_id||null,departamento:d.departamento||null,municipio:d.municipio||null,direccion_linea1:d.direccion_linea1||null,direccion_linea2:d.direccion_linea2||null,referencia:d.referencia||null,acepto_tyc:d.acepto_tyc||!1,fecha_acepto_tyc:d.fecha_acepto_tyc||null}]).select().single();if(g)return console.error("Supabase register error:",g),g.code==="23505"?{error:"Este correo o casillero ya est registrado."}:g.code==="42501"?{error:"Sin permisos. Ejecuta el SQL 002_fix_rls_policies.sql en Supabase."}:{error:`Error: ${g.message}`};const x={id:h.id,nombre:h.nombre,apellido:h.apellido,email:h.email,telefono:h.telefono,locker_id:h.locker_id,role:"cliente",sucursal_id:h.sucursal_id};return r(x),localStorage.setItem("youbox_user",JSON.stringify(x)),{user:x}}catch{return{error:"Error inesperado. Intenta de nuevo."}}},u=()=>{r(null),localStorage.removeItem("youbox_user")};return b.jsx(TM.Provider,{value:{user:t,loading:n,login:i,register:o,logout:u,isAdmin:(t==null?void 0:t.role)==="admin"},children:e})}function Ja(){const e=R.useContext(TM);if(!e)throw new Error("useAuth must be used inside AuthProvider");return e}/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lG=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),GN=e=>{const t=lG(e);return t.charAt(0).toUpperCase()+t.slice(1)},jM=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),cG=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=R.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...u},d)=>R.createElement("svg",{ref:d,...uG,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:jM("lucide",a),...!i&&!cG(u)&&{"aria-hidden":"true"},...u},[...o.map(([c,h])=>R.createElement(c,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=(e,t)=>{const r=R.forwardRef(({className:n,...a},i)=>R.createElement(fG,{ref:i,iconNode:t,className:jM(`lucide-${oG(GN(e))}`,`lucide-${e}`,n),...a}));return r.displayName=GN(e),r};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],hG=kt("arrow-left",dG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],kM=kt("bell",pG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],O3=kt("boxes",mG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],T3=kt("building-2",gG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],vv=kt("building",vG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Cd=kt("calculator",bG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],fp=kt("calendar",yG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],wG=kt("chart-column",xG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],SG=kt("chevron-down",_G);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ex=kt("chevron-right",AG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],NG=kt("chevron-up",EG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Mf=kt("circle-alert",CG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],j3=kt("circle-check-big",OG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],k3=kt("circle-check",TG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],kG=kt("clipboard-list",jG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Q5=kt("clock",IG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],PG=kt("copy",MG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],I3=kt("credit-card",RG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],J5=kt("dollar-sign",DG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],IM=kt("download",LG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],MM=kt("external-link",BG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],PM=kt("eye-off",FG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],RM=kt("eye",UG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],p0=kt("file-text",zG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],HG=kt("funnel",qG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],$G=kt("image",GG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Kb=kt("inbox",WG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],$N=kt("key-round",VG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],XG=kt("keyboard",YG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],wd=kt("layers",KG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],QG=kt("layout-dashboard",ZG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],to=kt("loader-circle",JG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],t$=kt("lock",e$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],n$=kt("log-in",r$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],i$=kt("log-out",a$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],W1=kt("mail",s$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],tc=kt("map-pin",o$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],DM=kt("map",l$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],u$=kt("menu",c$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],d$=kt("message-circle",f$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],p$=kt("message-square",h$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],g$=kt("package-check",m$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],b$=kt("package-plus",v$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Sl=kt("package",y$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],w$=kt("palette",x$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],S$=kt("pen-line",_$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],E$=kt("pen",A$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],e_=kt("phone",N$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],O0=kt("plus",C$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],WN=kt("printer",O$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],t_=kt("receipt",T$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Pf=kt("save",j$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],LM=kt("scan-line",k$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Id=kt("search",I$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],P$=kt("send",M$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],D$=kt("settings",R$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Pv=kt("shield-check",L$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],F$=kt("smartphone",B$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],VN=kt("square-check-big",U$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],YN=kt("square",z$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],H$=kt("tag",q$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],M3=kt("trash-2",G$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],W$=kt("trending-down",$$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Y$=kt("trending-up",V$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],K$=kt("triangle-alert",X$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],T0=kt("truck",Z$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],XN=kt("upload",Q$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],eW=kt("user-plus",J$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],BM=kt("user",tW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_d=kt("users",rW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],KN=kt("warehouse",nW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zc=kt("x",aW);function FM(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=FM(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function On(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=FM(e))&&(n&&(n+=" "),n+=t);return n}const iW=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},sW=(e,t)=>({classGroupId:e,validator:t}),UM=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Rv="-",ZN=[],oW="arbitrary..",lW=e=>{const t=uW(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return cW(o);const u=o.split(Rv),d=u[0]===""&&u.length>1?1:0;return zM(u,d,t)},getConflictingClassGroupIds:(o,u)=>{if(u){const d=n[o],c=r[o];return d?c?iW(c,d):d:c||ZN}return r[o]||ZN}}},zM=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const a=e[t],i=r.nextPart.get(a);if(i){const c=zM(e,t+1,i);if(c)return c}const o=r.validators;if(o===null)return;const u=t===0?e.join(Rv):e.slice(t).join(Rv),d=o.length;for(let c=0;c<d;c++){const h=o[c];if(h.validator(u))return h.classGroupId}},cW=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?oW+n:void 0})(),uW=e=>{const{theme:t,classGroups:r}=e;return fW(r,t)},fW=(e,t)=>{const r=UM();for(const n in e){const a=e[n];P3(a,r,n,t)}return r},P3=(e,t,r,n)=>{const a=e.length;for(let i=0;i<a;i++){const o=e[i];dW(o,t,r,n)}},dW=(e,t,r,n)=>{if(typeof e=="string"){hW(e,t,r);return}if(typeof e=="function"){pW(e,t,r,n);return}mW(e,t,r,n)},hW=(e,t,r)=>{const n=e===""?t:qM(t,e);n.classGroupId=r},pW=(e,t,r,n)=>{if(gW(e)){P3(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(sW(r,e))},mW=(e,t,r,n)=>{const a=Object.entries(e),i=a.length;for(let o=0;o<i;o++){const[u,d]=a[o];P3(d,qM(t,u),r,n)}},qM=(e,t)=>{let r=e;const n=t.split(Rv),a=n.length;for(let i=0;i<a;i++){const o=n[i];let u=r.nextPart.get(o);u||(u=UM(),r.nextPart.set(o,u)),r=u}return r},gW=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,vW=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(i,o)=>{r[i]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return a(i,o),o},set(i,o){i in r?r[i]=o:a(i,o)}}},r_="!",QN=":",bW=[],JN=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),yW=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let o=0,u=0,d=0,c;const h=a.length;for(let N=0;N<h;N++){const T=a[N];if(o===0&&u===0){if(T===QN){i.push(a.slice(d,N)),d=N+1;continue}if(T==="/"){c=N;continue}}T==="["?o++:T==="]"?o--:T==="("?u++:T===")"&&u--}const g=i.length===0?a:a.slice(d);let x=g,y=!1;g.endsWith(r_)?(x=g.slice(0,-1),y=!0):g.startsWith(r_)&&(x=g.slice(1),y=!0);const E=c&&c>d?c-d:void 0;return JN(i,y,x,E)};if(t){const a=t+QN,i=n;n=o=>o.startsWith(a)?i(o.slice(a.length)):JN(bW,!1,o,void 0,!0)}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},xW=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let i=0;i<r.length;i++){const o=r[i],u=o[0]==="[",d=t.has(o);u||d?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(o)):a.push(o)}return a.length>0&&(a.sort(),n.push(...a)),n}},wW=e=>({cache:vW(e.cacheSize),parseClassName:yW(e),sortModifiers:xW(e),...lW(e)}),_W=/\s+/,SW=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],u=e.trim().split(_W);let d="";for(let c=u.length-1;c>=0;c-=1){const h=u[c],{isExternal:g,modifiers:x,hasImportantModifier:y,baseClassName:E,maybePostfixModifierPosition:N}=r(h);if(g){d=h+(d.length>0?" "+d:d);continue}let T=!!N,j=n(T?E.substring(0,N):E);if(!j){if(!T){d=h+(d.length>0?" "+d:d);continue}if(j=n(E),!j){d=h+(d.length>0?" "+d:d);continue}T=!1}const D=x.length===0?"":x.length===1?x[0]:i(x).join(":"),F=y?D+r_:D,U=F+j;if(o.indexOf(U)>-1)continue;o.push(U);const Z=a(j,T);for(let X=0;X<Z.length;++X){const $=Z[X];o.push(F+$)}d=h+(d.length>0?" "+d:d)}return d},AW=(...e)=>{let t=0,r,n,a="";for(;t<e.length;)(r=e[t++])&&(n=HM(r))&&(a&&(a+=" "),a+=n);return a},HM=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=HM(e[n]))&&(r&&(r+=" "),r+=t);return r},EW=(e,...t)=>{let r,n,a,i;const o=d=>{const c=t.reduce((h,g)=>g(h),e());return r=wW(c),n=r.cache.get,a=r.cache.set,i=u,u(d)},u=d=>{const c=n(d);if(c)return c;const h=SW(d,r);return a(d,h),h};return i=o,(...d)=>i(AW(...d))},NW=[],Di=e=>{const t=r=>r[e]||NW;return t.isThemeGetter=!0,t},GM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,$M=/^\((?:(\w[\w-]*):)?(.+)\)$/i,CW=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,OW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,kW=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,IW=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vf=e=>CW.test(e),Vr=e=>!!e&&!Number.isNaN(Number(e)),bf=e=>!!e&&Number.isInteger(Number(e)),Nx=e=>e.endsWith("%")&&Vr(e.slice(0,-1)),pu=e=>OW.test(e),WM=()=>!0,MW=e=>TW.test(e)&&!jW.test(e),R3=()=>!1,PW=e=>kW.test(e),RW=e=>IW.test(e),DW=e=>!$t(e)&&!Vt(e),LW=e=>Ff(e,XM,R3),$t=e=>GM.test(e),od=e=>Ff(e,KM,MW),eC=e=>Ff(e,$W,Vr),BW=e=>Ff(e,QM,WM),FW=e=>Ff(e,ZM,R3),tC=e=>Ff(e,VM,R3),UW=e=>Ff(e,YM,RW),rg=e=>Ff(e,JM,PW),Vt=e=>$M.test(e),E1=e=>Wd(e,KM),zW=e=>Wd(e,ZM),rC=e=>Wd(e,VM),qW=e=>Wd(e,XM),HW=e=>Wd(e,YM),ng=e=>Wd(e,JM,!0),GW=e=>Wd(e,QM,!0),Ff=(e,t,r)=>{const n=GM.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Wd=(e,t,r=!1)=>{const n=$M.exec(e);return n?n[1]?t(n[1]):r:!1},VM=e=>e==="position"||e==="percentage",YM=e=>e==="image"||e==="url",XM=e=>e==="length"||e==="size"||e==="bg-size",KM=e=>e==="length",$W=e=>e==="number",ZM=e=>e==="family-name",QM=e=>e==="number"||e==="weight",JM=e=>e==="shadow",WW=()=>{const e=Di("color"),t=Di("font"),r=Di("text"),n=Di("font-weight"),a=Di("tracking"),i=Di("leading"),o=Di("breakpoint"),u=Di("container"),d=Di("spacing"),c=Di("radius"),h=Di("shadow"),g=Di("inset-shadow"),x=Di("text-shadow"),y=Di("drop-shadow"),E=Di("blur"),N=Di("perspective"),T=Di("aspect"),j=Di("ease"),D=Di("animate"),F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Z=()=>[...U(),Vt,$t],X=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto","contain","none"],Q=()=>[Vt,$t,d],q=()=>[vf,"full","auto",...Q()],se=()=>[bf,"none","subgrid",Vt,$t],H=()=>["auto",{span:["full",bf,Vt,$t]},bf,Vt,$t],G=()=>[bf,"auto",Vt,$t],ue=()=>["auto","min","max","fr",Vt,$t],J=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ae=()=>["start","end","center","stretch","center-safe","end-safe"],re=()=>["auto",...Q()],he=()=>[vf,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...Q()],Se=()=>[vf,"screen","full","dvw","lvw","svw","min","max","fit",...Q()],pe=()=>[vf,"screen","full","lh","dvh","lvh","svh","min","max","fit",...Q()],be=()=>[e,Vt,$t],oe=()=>[...U(),rC,tC,{position:[Vt,$t]}],Y=()=>["no-repeat",{repeat:["","x","y","space","round"]}],le=()=>["auto","cover","contain",qW,LW,{size:[Vt,$t]}],me=()=>[Nx,E1,od],Ce=()=>["","none","full",c,Vt,$t],we=()=>["",Vr,E1,od],Me=()=>["solid","dashed","dotted","double"],ze=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Te=()=>[Vr,Nx,rC,tC],Ge=()=>["","none",E,Vt,$t],Je=()=>["none",Vr,Vt,$t],qe=()=>["none",Vr,Vt,$t],lt=()=>[Vr,Vt,$t],yt=()=>[vf,"full",...Q()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[pu],breakpoint:[pu],color:[WM],container:[pu],"drop-shadow":[pu],ease:["in","out","in-out"],font:[DW],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[pu],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[pu],shadow:[pu],spacing:["px",Vr],text:[pu],"text-shadow":[pu],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",vf,$t,Vt,T]}],container:["container"],columns:[{columns:[Vr,$t,Vt,u]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Z()}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{"inset-s":q(),start:q()}],end:[{"inset-e":q(),end:q()}],"inset-bs":[{"inset-bs":q()}],"inset-be":[{"inset-be":q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[bf,"auto",Vt,$t]}],basis:[{basis:[vf,"full","auto",u,...Q()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Vr,vf,"auto","initial","none",$t]}],grow:[{grow:["",Vr,Vt,$t]}],shrink:[{shrink:["",Vr,Vt,$t]}],order:[{order:[bf,"first","last","none",Vt,$t]}],"grid-cols":[{"grid-cols":se()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":se()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ue()}],"auto-rows":[{"auto-rows":ue()}],gap:[{gap:Q()}],"gap-x":[{"gap-x":Q()}],"gap-y":[{"gap-y":Q()}],"justify-content":[{justify:[...J(),"normal"]}],"justify-items":[{"justify-items":[...ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...ae()]}],"align-content":[{content:["normal",...J()]}],"align-items":[{items:[...ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":J()}],"place-items":[{"place-items":[...ae(),"baseline"]}],"place-self":[{"place-self":["auto",...ae()]}],p:[{p:Q()}],px:[{px:Q()}],py:[{py:Q()}],ps:[{ps:Q()}],pe:[{pe:Q()}],pbs:[{pbs:Q()}],pbe:[{pbe:Q()}],pt:[{pt:Q()}],pr:[{pr:Q()}],pb:[{pb:Q()}],pl:[{pl:Q()}],m:[{m:re()}],mx:[{mx:re()}],my:[{my:re()}],ms:[{ms:re()}],me:[{me:re()}],mbs:[{mbs:re()}],mbe:[{mbe:re()}],mt:[{mt:re()}],mr:[{mr:re()}],mb:[{mb:re()}],ml:[{ml:re()}],"space-x":[{"space-x":Q()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":Q()}],"space-y-reverse":["space-y-reverse"],size:[{size:he()}],"inline-size":[{inline:["auto",...Se()]}],"min-inline-size":[{"min-inline":["auto",...Se()]}],"max-inline-size":[{"max-inline":["none",...Se()]}],"block-size":[{block:["auto",...pe()]}],"min-block-size":[{"min-block":["auto",...pe()]}],"max-block-size":[{"max-block":["none",...pe()]}],w:[{w:[u,"screen",...he()]}],"min-w":[{"min-w":[u,"screen","none",...he()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[o]},...he()]}],h:[{h:["screen","lh",...he()]}],"min-h":[{"min-h":["screen","lh","none",...he()]}],"max-h":[{"max-h":["screen","lh",...he()]}],"font-size":[{text:["base",r,E1,od]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,GW,BW]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Nx,$t]}],"font-family":[{font:[zW,FW,t]}],"font-features":[{"font-features":[$t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Vt,$t]}],"line-clamp":[{"line-clamp":[Vr,"none",Vt,eC]}],leading:[{leading:[i,...Q()]}],"list-image":[{"list-image":["none",Vt,$t]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Vt,$t]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:be()}],"text-color":[{text:be()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Me(),"wavy"]}],"text-decoration-thickness":[{decoration:[Vr,"from-font","auto",Vt,od]}],"text-decoration-color":[{decoration:be()}],"underline-offset":[{"underline-offset":[Vr,"auto",Vt,$t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Vt,$t]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Vt,$t]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:oe()}],"bg-repeat":[{bg:Y()}],"bg-size":[{bg:le()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},bf,Vt,$t],radial:["",Vt,$t],conic:[bf,Vt,$t]},HW,UW]}],"bg-color":[{bg:be()}],"gradient-from-pos":[{from:me()}],"gradient-via-pos":[{via:me()}],"gradient-to-pos":[{to:me()}],"gradient-from":[{from:be()}],"gradient-via":[{via:be()}],"gradient-to":[{to:be()}],rounded:[{rounded:Ce()}],"rounded-s":[{"rounded-s":Ce()}],"rounded-e":[{"rounded-e":Ce()}],"rounded-t":[{"rounded-t":Ce()}],"rounded-r":[{"rounded-r":Ce()}],"rounded-b":[{"rounded-b":Ce()}],"rounded-l":[{"rounded-l":Ce()}],"rounded-ss":[{"rounded-ss":Ce()}],"rounded-se":[{"rounded-se":Ce()}],"rounded-ee":[{"rounded-ee":Ce()}],"rounded-es":[{"rounded-es":Ce()}],"rounded-tl":[{"rounded-tl":Ce()}],"rounded-tr":[{"rounded-tr":Ce()}],"rounded-br":[{"rounded-br":Ce()}],"rounded-bl":[{"rounded-bl":Ce()}],"border-w":[{border:we()}],"border-w-x":[{"border-x":we()}],"border-w-y":[{"border-y":we()}],"border-w-s":[{"border-s":we()}],"border-w-e":[{"border-e":we()}],"border-w-bs":[{"border-bs":we()}],"border-w-be":[{"border-be":we()}],"border-w-t":[{"border-t":we()}],"border-w-r":[{"border-r":we()}],"border-w-b":[{"border-b":we()}],"border-w-l":[{"border-l":we()}],"divide-x":[{"divide-x":we()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":we()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Me(),"hidden","none"]}],"divide-style":[{divide:[...Me(),"hidden","none"]}],"border-color":[{border:be()}],"border-color-x":[{"border-x":be()}],"border-color-y":[{"border-y":be()}],"border-color-s":[{"border-s":be()}],"border-color-e":[{"border-e":be()}],"border-color-bs":[{"border-bs":be()}],"border-color-be":[{"border-be":be()}],"border-color-t":[{"border-t":be()}],"border-color-r":[{"border-r":be()}],"border-color-b":[{"border-b":be()}],"border-color-l":[{"border-l":be()}],"divide-color":[{divide:be()}],"outline-style":[{outline:[...Me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Vr,Vt,$t]}],"outline-w":[{outline:["",Vr,E1,od]}],"outline-color":[{outline:be()}],shadow:[{shadow:["","none",h,ng,rg]}],"shadow-color":[{shadow:be()}],"inset-shadow":[{"inset-shadow":["none",g,ng,rg]}],"inset-shadow-color":[{"inset-shadow":be()}],"ring-w":[{ring:we()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:be()}],"ring-offset-w":[{"ring-offset":[Vr,od]}],"ring-offset-color":[{"ring-offset":be()}],"inset-ring-w":[{"inset-ring":we()}],"inset-ring-color":[{"inset-ring":be()}],"text-shadow":[{"text-shadow":["none",x,ng,rg]}],"text-shadow-color":[{"text-shadow":be()}],opacity:[{opacity:[Vr,Vt,$t]}],"mix-blend":[{"mix-blend":[...ze(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ze()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Vr]}],"mask-image-linear-from-pos":[{"mask-linear-from":Te()}],"mask-image-linear-to-pos":[{"mask-linear-to":Te()}],"mask-image-linear-from-color":[{"mask-linear-from":be()}],"mask-image-linear-to-color":[{"mask-linear-to":be()}],"mask-image-t-from-pos":[{"mask-t-from":Te()}],"mask-image-t-to-pos":[{"mask-t-to":Te()}],"mask-image-t-from-color":[{"mask-t-from":be()}],"mask-image-t-to-color":[{"mask-t-to":be()}],"mask-image-r-from-pos":[{"mask-r-from":Te()}],"mask-image-r-to-pos":[{"mask-r-to":Te()}],"mask-image-r-from-color":[{"mask-r-from":be()}],"mask-image-r-to-color":[{"mask-r-to":be()}],"mask-image-b-from-pos":[{"mask-b-from":Te()}],"mask-image-b-to-pos":[{"mask-b-to":Te()}],"mask-image-b-from-color":[{"mask-b-from":be()}],"mask-image-b-to-color":[{"mask-b-to":be()}],"mask-image-l-from-pos":[{"mask-l-from":Te()}],"mask-image-l-to-pos":[{"mask-l-to":Te()}],"mask-image-l-from-color":[{"mask-l-from":be()}],"mask-image-l-to-color":[{"mask-l-to":be()}],"mask-image-x-from-pos":[{"mask-x-from":Te()}],"mask-image-x-to-pos":[{"mask-x-to":Te()}],"mask-image-x-from-color":[{"mask-x-from":be()}],"mask-image-x-to-color":[{"mask-x-to":be()}],"mask-image-y-from-pos":[{"mask-y-from":Te()}],"mask-image-y-to-pos":[{"mask-y-to":Te()}],"mask-image-y-from-color":[{"mask-y-from":be()}],"mask-image-y-to-color":[{"mask-y-to":be()}],"mask-image-radial":[{"mask-radial":[Vt,$t]}],"mask-image-radial-from-pos":[{"mask-radial-from":Te()}],"mask-image-radial-to-pos":[{"mask-radial-to":Te()}],"mask-image-radial-from-color":[{"mask-radial-from":be()}],"mask-image-radial-to-color":[{"mask-radial-to":be()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":U()}],"mask-image-conic-pos":[{"mask-conic":[Vr]}],"mask-image-conic-from-pos":[{"mask-conic-from":Te()}],"mask-image-conic-to-pos":[{"mask-conic-to":Te()}],"mask-image-conic-from-color":[{"mask-conic-from":be()}],"mask-image-conic-to-color":[{"mask-conic-to":be()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:oe()}],"mask-repeat":[{mask:Y()}],"mask-size":[{mask:le()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Vt,$t]}],filter:[{filter:["","none",Vt,$t]}],blur:[{blur:Ge()}],brightness:[{brightness:[Vr,Vt,$t]}],contrast:[{contrast:[Vr,Vt,$t]}],"drop-shadow":[{"drop-shadow":["","none",y,ng,rg]}],"drop-shadow-color":[{"drop-shadow":be()}],grayscale:[{grayscale:["",Vr,Vt,$t]}],"hue-rotate":[{"hue-rotate":[Vr,Vt,$t]}],invert:[{invert:["",Vr,Vt,$t]}],saturate:[{saturate:[Vr,Vt,$t]}],sepia:[{sepia:["",Vr,Vt,$t]}],"backdrop-filter":[{"backdrop-filter":["","none",Vt,$t]}],"backdrop-blur":[{"backdrop-blur":Ge()}],"backdrop-brightness":[{"backdrop-brightness":[Vr,Vt,$t]}],"backdrop-contrast":[{"backdrop-contrast":[Vr,Vt,$t]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Vr,Vt,$t]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Vr,Vt,$t]}],"backdrop-invert":[{"backdrop-invert":["",Vr,Vt,$t]}],"backdrop-opacity":[{"backdrop-opacity":[Vr,Vt,$t]}],"backdrop-saturate":[{"backdrop-saturate":[Vr,Vt,$t]}],"backdrop-sepia":[{"backdrop-sepia":["",Vr,Vt,$t]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":Q()}],"border-spacing-x":[{"border-spacing-x":Q()}],"border-spacing-y":[{"border-spacing-y":Q()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Vt,$t]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Vr,"initial",Vt,$t]}],ease:[{ease:["linear","initial",j,Vt,$t]}],delay:[{delay:[Vr,Vt,$t]}],animate:[{animate:["none",D,Vt,$t]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,Vt,$t]}],"perspective-origin":[{"perspective-origin":Z()}],rotate:[{rotate:Je()}],"rotate-x":[{"rotate-x":Je()}],"rotate-y":[{"rotate-y":Je()}],"rotate-z":[{"rotate-z":Je()}],scale:[{scale:qe()}],"scale-x":[{"scale-x":qe()}],"scale-y":[{"scale-y":qe()}],"scale-z":[{"scale-z":qe()}],"scale-3d":["scale-3d"],skew:[{skew:lt()}],"skew-x":[{"skew-x":lt()}],"skew-y":[{"skew-y":lt()}],transform:[{transform:[Vt,$t,"","none","gpu","cpu"]}],"transform-origin":[{origin:Z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:yt()}],"translate-x":[{"translate-x":yt()}],"translate-y":[{"translate-y":yt()}],"translate-z":[{"translate-z":yt()}],"translate-none":["translate-none"],accent:[{accent:be()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:be()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Vt,$t]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mbs":[{"scroll-mbs":Q()}],"scroll-mbe":[{"scroll-mbe":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pbs":[{"scroll-pbs":Q()}],"scroll-pbe":[{"scroll-pbe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Vt,$t]}],fill:[{fill:["none",...be()]}],"stroke-w":[{stroke:[Vr,E1,od,eC]}],stroke:[{stroke:["none",...be()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},VW=EW(WW);function Cx(...e){return VW(On(e))}const YW=[{name:"Dashboard",href:"/",icon:QG,section:"General"},{name:"Quick Entry",href:"/entry",icon:b$,section:"Operaciones"},{name:"Warehouse",href:"/warehouse",icon:Kb,section:"Operaciones"},{name:"Inventario",href:"/inventory",icon:O3,section:"Operaciones"},{name:"Consolidacin",href:"/consolidation",icon:wd,section:"Operaciones"},{name:"Facturacin",href:"/billing",icon:p0,section:"Finanzas"},{name:"Pagos",href:"/payments",icon:I3,section:"Finanzas"},{name:"Gastos",href:"/expenses",icon:t_,section:"Finanzas"},{name:"Reportes",href:"/reports",icon:wG,section:"Finanzas"},{name:"Sucursales",href:"/branches",icon:T3,section:"Configuracin"},{name:"Usuarios",href:"/users",icon:_d,section:"Configuracin"},{name:"Geografa",href:"/geography",icon:DM,section:"Configuracin"},{name:"Tarifas",href:"/tariffs",icon:Cd,section:"Configuracin"},{name:"Ajustes",href:"/settings",icon:D$,section:"Configuracin"}];function XW({isOpen:e=!0,setIsOpen:t}){var h,g;const r=oc(),{user:n,logout:a}=Ja(),i=$d(),o=()=>{a(),i("/login")},u=[{name:"Mis Paquetes",href:"/inventory",icon:O3,section:"Mis Servicios"},{name:"Facturacin",href:"/billing",icon:p0,section:"Mis Servicios"},{name:"Pagos",href:"/payments",icon:I3,section:"Mis Servicios"}],d=(n==null?void 0:n.role)==="cliente"||(n==null?void 0:n.role)==="viewer"?u:YW.filter(x=>(n==null?void 0:n.role)==="admin"?!0:(n==null?void 0:n.role)==="operador"?x.section==="General"||x.section==="Operaciones":(n==null?void 0:n.role)==="facturador"?x.section==="General"||x.section==="Finanzas":!1),c=Array.from(new Set(d.map(x=>x.section)));return b.jsxs(b.Fragment,{children:[e&&b.jsx("div",{className:"fixed inset-0 z-40 bg-slate-900/60 backdrop-blur-sm lg:hidden transition-opacity",onClick:()=>t==null?void 0:t(!1)}),b.jsxs("div",{className:Cx("fixed inset-y-0 left-0 z-50 flex w-72 flex-col bg-slate-900/95 backdrop-blur-xl border-r border-white/10 transition-transform duration-300 ease-in-out lg:static lg:w-64 lg:translate-x-0 outline-none shadow-2xl lg:shadow-none",e?"translate-x-0":"-translate-x-full"),children:[b.jsxs("div",{className:"flex h-16 shrink-0 items-center justify-between px-6 border-b border-white/5",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"bg-white/10 p-1.5 rounded-lg border border-white/10 shadow-inner",children:b.jsx("img",{src:"https://youboxgt.online/wp-content/uploads/2024/10/Manual-de-logo-YouBoxGt-03-1.png",alt:"YOUBOX GT",className:"h-6 w-auto object-contain drop-shadow-md"})}),b.jsx("span",{className:"text-lg font-bold text-white tracking-wide bg-gradient-to-r from-white to-slate-400 bg-clip-text text-transparent",children:"YOUBOX GT"})]}),b.jsx("button",{onClick:()=>t==null?void 0:t(!1),className:"p-2 -mr-2 text-slate-400 hover:text-white transition-colors lg:hidden rounded-md hover:bg-white/5",children:b.jsx(zc,{className:"h-5 w-5"})})]}),b.jsx("div",{className:"flex flex-1 flex-col overflow-y-auto px-4 py-6 scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent",children:b.jsx("nav",{className:"flex-1 space-y-8",children:c.map(x=>b.jsxs("div",{className:"animate-fade-in",children:[b.jsx("h3",{className:"mb-3 px-3 text-xs font-bold uppercase tracking-widest text-slate-500/80",children:x}),b.jsx("ul",{className:"space-y-1.5",children:d.filter(y=>y.section===x).map(y=>{const E=r.pathname===y.href;return b.jsx("li",{children:b.jsxs(If,{to:y.href,onClick:()=>t==null?void 0:t(!1),className:Cx(E?"bg-blue-600/10 text-blue-400 shadow-[inset_2px_0_0_0_#3b82f6]":"text-slate-400 hover:bg-white/5 hover:text-slate-200","group flex items-center gap-x-3 rounded-xl p-2.5 text-sm font-medium transition-all duration-200"),children:[b.jsx(y.icon,{className:Cx(E?"text-blue-500 drop-shadow-[0_0_8px_rgba(59,130,246,0.5)]":"text-slate-500 group-hover:text-slate-300","h-5 w-5 shrink-0 transition-all duration-200"),"aria-hidden":"true"}),y.name]})},y.name)})})]},x))})}),b.jsxs("div",{className:"border-t border-white/5 p-4 bg-slate-900/50 backdrop-blur-md",children:[b.jsxs(If,{to:"/profile",onClick:()=>t==null?void 0:t(!1),className:"flex items-center gap-3 mb-2 p-3 rounded-xl hover:bg-white/5 transition-all duration-200 group border border-transparent hover:border-white/5 cursor-pointer",children:[b.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg ring-2 ring-slate-900 shrink-0 transform group-hover:scale-105 transition-transform duration-200",children:b.jsx("span",{className:"text-sm font-bold",children:((g=(h=n==null?void 0:n.nombre)==null?void 0:h[0])==null?void 0:g.toUpperCase())??"U"})}),b.jsxs("div",{className:"overflow-hidden flex-1",children:[b.jsxs("p",{className:"text-sm font-semibold text-slate-200 truncate group-hover:text-white transition-colors",children:[n==null?void 0:n.nombre," ",n==null?void 0:n.apellido]}),(n==null?void 0:n.locker_id)&&b.jsx("p",{className:"text-xs text-blue-400/90 font-medium tracking-wide truncate mt-0.5",children:n.locker_id}),(n==null?void 0:n.role)==="admin"&&b.jsx("p",{className:"text-[10px] uppercase font-bold text-emerald-400/90 tracking-wider mt-0.5",children:"Admin"})]})]}),b.jsxs("button",{onClick:o,className:"flex w-full items-center justify-center gap-x-2 rounded-xl p-2.5 text-sm font-medium text-slate-400 hover:bg-rose-500/10 hover:text-rose-400 transition-all duration-200 border border-transparent hover:border-rose-500/20",children:[b.jsx(i$,{className:"h-4 w-4 shrink-0","aria-hidden":"true"}),"Cerrar Sesin"]})]})]})]})}function KW(e,t){const[r,n]=R.useState(e);return R.useEffect(()=>{const a=setTimeout(()=>{n(e)},t);return()=>clearTimeout(a)},[e,t]),r}function ZW(){const[e,t]=R.useState(""),r=KW(e,400),[n,a]=R.useState([]),[i,o]=R.useState(!1),[u,d]=R.useState(!1),c=R.useRef(null),h=$d();R.useEffect(()=>{const x=y=>{c.current&&!c.current.contains(y.target)&&d(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),R.useEffect(()=>{if(!r){a([]),d(!1);return}(async()=>{o(!0),d(!0);try{const y=`%${r}%`,[E,N,T]=await Promise.all([At.from("paquetes").select("id, tracking, descripcion, clientes(nombre, apellido)").or(`tracking.ilike.${y},descripcion.ilike.${y}`).limit(5),At.from("clientes").select("id, locker_id, nombre, apellido, email").or(`locker_id.ilike.${y},nombre.ilike.${y},apellido.ilike.${y},email.ilike.${y}`).limit(5),At.from("facturas").select("id, numero_factura, clientes(nombre, apellido)").or(`numero_factura.ilike.${y}`).limit(5)]),j=[];E.data&&j.push(...E.data.map(D=>{const F=Array.isArray(D.clientes)?D.clientes[0]:D.clientes;return{type:"Paquete",id:D.id,title:`Tracking: ${D.tracking}`,subtitle:F?`Cliente: ${F.nombre} ${F.apellido}`:"Sin cliente",icon:Sl,url:`/inventory?search=${D.tracking}`}})),N.data&&j.push(...N.data.map(D=>({type:"Cliente",id:D.id,title:`${D.nombre} ${D.apellido} (${D.locker_id})`,subtitle:D.email||"Sin correo",icon:BM,url:`/users?search=${D.locker_id}`}))),T.data&&j.push(...T.data.map(D=>{const F=Array.isArray(D.clientes)?D.clientes[0]:D.clientes;return{type:"Factura",id:D.id,title:`Factura: ${D.numero_factura}`,subtitle:F?`Cliente: ${F.nombre} ${F.apellido}`:"",icon:p0,url:"/billing"}})),a(j)}catch(y){console.error(y)}finally{o(!1)}})()},[r]);const g=x=>{h(x),d(!1),t("")};return b.jsxs("div",{className:"relative w-full max-w-md hidden sm:block group",ref:c,children:[b.jsx(Id,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),b.jsx("input",{type:"text",placeholder:"Buscar tracking, cliente, paquete...",value:e,onChange:x=>{t(x.target.value),d(!0)},onFocus:()=>{e&&d(!0)},className:"h-10 w-full rounded-xl border border-slate-200/80 bg-slate-50/50 pl-10 pr-10 text-sm text-slate-700 outline-none transition-all duration-300 focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 placeholder:text-slate-400 hover:border-slate-300"}),e&&b.jsx("button",{onClick:()=>{t(""),a([]),d(!1)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:b.jsx(zc,{className:"h-4 w-4"})}),u&&e.length>0&&b.jsx("div",{className:"absolute top-12 left-0 w-full bg-white rounded-xl shadow-xl ring-1 ring-slate-200 overflow-hidden z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:i?b.jsxs("div",{className:"p-4 flex items-center justify-center text-slate-500 gap-2",children:[b.jsx(to,{className:"w-5 h-5 animate-spin text-blue-500"}),b.jsx("span",{className:"text-sm font-medium",children:"Buscando..."})]}):n.length>0?b.jsx("div",{className:"max-h-[350px] overflow-y-auto overflow-x-hidden custom-scrollbar",children:n.map((x,y)=>b.jsxs("div",{onClick:()=>g(x.url),className:"p-3 hover:bg-slate-50 border-b border-slate-100 last:border-0 cursor-pointer flex items-center gap-3 transition-colors",children:[b.jsx("div",{className:"p-2 rounded-lg bg-slate-100 text-slate-600",children:b.jsx(x.icon,{className:"w-5 h-5"})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsxs("div",{className:"flex justify-between items-baseline mb-0.5",children:[b.jsx("p",{className:"text-sm font-bold text-slate-800 truncate",children:x.title}),b.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider ml-2 shrink-0",children:x.type})]}),b.jsx("p",{className:"text-xs text-slate-500 truncate",children:x.subtitle})]})]},`${x.type}-${x.id}-${y}`))}):b.jsxs("div",{className:"p-4 text-center text-sm font-medium text-slate-500",children:['No se encontraron resultados para "',e,'"']})})]})}function QW(){const[e,t]=R.useState(!1);return b.jsxs("div",{className:"flex h-screen w-full overflow-hidden bg-slate-50/50",children:[b.jsx(XW,{isOpen:e,setIsOpen:t}),b.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden relative",children:[b.jsxs("header",{className:"flex z-30 h-16 shrink-0 items-center justify-between border-b border-slate-200/60 bg-white/70 backdrop-blur-xl px-4 sm:px-6 sticky top-0",children:[b.jsxs("div",{className:"flex flex-1 items-center gap-x-4",children:[b.jsx("button",{onClick:()=>t(!0),className:"p-2 -ml-2 text-slate-500 hover:text-slate-800 transition-colors lg:hidden rounded-lg hover:bg-slate-100/50",children:b.jsx(u$,{className:"h-6 w-6"})}),b.jsx(ZW,{})]}),b.jsxs("div",{className:"flex items-center gap-x-5",children:[b.jsxs("button",{className:"relative rounded-xl p-2 text-slate-400 hover:bg-slate-100 hover:text-slate-600 transition-all duration-200",children:[b.jsx(kM,{className:"h-5 w-5"}),b.jsx("span",{className:"absolute right-2 top-2 h-2 w-2 rounded-full bg-rose-500 ring-2 ring-white animate-pulse"})]}),b.jsx("div",{className:"relative group cursor-pointer",children:b.jsx("div",{className:"h-9 w-9 overflow-hidden rounded-xl bg-gradient-to-br from-blue-100 to-blue-200 shadow-sm shrink-0 border border-blue-200/50 transition-transform group-hover:scale-105",children:b.jsx("div",{className:"flex h-full w-full items-center justify-center text-blue-700 font-bold text-sm shrink-0",children:"AD"})})})]})]}),b.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden -z-10 pointer-events-none",children:[b.jsx("div",{className:"absolute -top-[20%] -right-[10%] w-[50%] h-[50%] rounded-full bg-blue-400/5 blur-[120px]"}),b.jsx("div",{className:"absolute top-[60%] -left-[10%] w-[40%] h-[40%] rounded-full bg-indigo-400/5 blur-[120px]"})]}),b.jsx("main",{className:"flex-1 overflow-y-auto w-full scrollbar-thin scrollbar-thumb-slate-200 scrollbar-track-transparent",children:b.jsx("div",{className:"mx-auto max-w-7xl max-h-full p-4 sm:p-6 lg:p-8 animate-fade-in",children:b.jsx(HU,{})})})]})]})}var JW=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function D3(e){if(typeof e!="string")return!1;var t=JW;return t.includes(e)}var eV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],tV=new Set(eV);function e7(e){return typeof e!="string"?!1:tV.has(e)}function t7(e){return typeof e=="string"&&e.startsWith("data-")}function nc(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e7(r)||t7(r))&&(t[r]=e[r]);return t}function dp(e){if(e==null)return null;if(R.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return nc(t)}return typeof e=="object"&&!Array.isArray(e)?nc(e):null}function Al(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e7(r)||t7(r)||D3(r))&&(t[r]=e[r]);return t}var rV=["children","width","height","viewBox","className","style","title","desc"];function n_(){return n_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n_.apply(null,arguments)}function nV(e,t){if(e==null)return{};var r,n,a=aV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var L3=R.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:u,title:d,desc:c}=e,h=nV(e,rV),g=i||{width:n,height:a,x:0,y:0},x=On("recharts-surface",o);return R.createElement("svg",n_({},Al(h),{className:x,width:n,height:a,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),R.createElement("title",null,d),R.createElement("desc",null,c),r)}),iV=["children","className"];function a_(){return a_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a_.apply(null,arguments)}function sV(e,t){if(e==null)return{};var r,n,a=oV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ro=R.forwardRef((e,t)=>{var{children:r,className:n}=e,a=sV(e,iV),i=On("recharts-layer",n);return R.createElement("g",a_({className:i},Al(a),{ref:t}),r)}),r7=R.createContext(null),lV=()=>R.useContext(r7);function oa(e){return function(){return e}}const n7=Math.cos,Dv=Math.sin,lc=Math.sqrt,Lv=Math.PI,Zb=2*Lv,i_=Math.PI,s_=2*i_,dd=1e-6,cV=s_-dd;function a7(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function uV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return a7;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class fV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?a7:uV(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,u=this._y1,d=n-t,c=a-r,h=o-t,g=u-r,x=h*h+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>dd)if(!(Math.abs(g*d-c*h)>dd)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let y=n-o,E=a-u,N=d*d+c*c,T=y*y+E*E,j=Math.sqrt(N),D=Math.sqrt(x),F=i*Math.tan((i_-Math.acos((N+x-T)/(2*j*D)))/2),U=F/D,Z=F/j;Math.abs(U-1)>dd&&this._append`L${t+U*h},${r+U*g}`,this._append`A${i},${i},0,0,${+(g*y>h*E)},${this._x1=t+Z*d},${this._y1=r+Z*c}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),d=n*Math.sin(a),c=t+u,h=r+d,g=1^o,x=o?a-i:i-a;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>dd||Math.abs(this._y1-h)>dd)&&this._append`L${c},${h}`,n&&(x<0&&(x=x%s_+s_),x>cV?this._append`A${n},${n},0,1,${g},${t-u},${r-d}A${n},${n},0,1,${g},${this._x1=c},${this._y1=h}`:x>dd&&this._append`A${n},${n},0,${+(x>=i_)},${g},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function B3(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new fV(t)}function F3(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function i7(e){this._context=e}i7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Qb(e){return new i7(e)}function s7(e){return e[0]}function o7(e){return e[1]}function l7(e,t){var r=oa(!0),n=null,a=Qb,i=null,o=B3(u);e=typeof e=="function"?e:e===void 0?s7:oa(e),t=typeof t=="function"?t:t===void 0?o7:oa(t);function u(d){var c,h=(d=F3(d)).length,g,x=!1,y;for(n==null&&(i=a(y=o())),c=0;c<=h;++c)!(c<h&&r(g=d[c],c,d))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+e(g,c,d),+t(g,c,d));if(y)return i=null,y+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:oa(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:oa(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:oa(!!d),u):r},u.curve=function(d){return arguments.length?(a=d,n!=null&&(i=a(n)),u):a},u.context=function(d){return arguments.length?(d==null?n=i=null:i=a(n=d),u):n},u}function ag(e,t,r){var n=null,a=oa(!0),i=null,o=Qb,u=null,d=B3(c);e=typeof e=="function"?e:e===void 0?s7:oa(+e),t=typeof t=="function"?t:oa(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?o7:oa(+r);function c(g){var x,y,E,N=(g=F3(g)).length,T,j=!1,D,F=new Array(N),U=new Array(N);for(i==null&&(u=o(D=d())),x=0;x<=N;++x){if(!(x<N&&a(T=g[x],x,g))===j)if(j=!j)y=x,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),E=x-1;E>=y;--E)u.point(F[E],U[E]);u.lineEnd(),u.areaEnd()}j&&(F[x]=+e(T,x,g),U[x]=+t(T,x,g),u.point(n?+n(T,x,g):F[x],r?+r(T,x,g):U[x]))}if(D)return u=null,D+""||null}function h(){return l7().defined(a).curve(o).context(i)}return c.x=function(g){return arguments.length?(e=typeof g=="function"?g:oa(+g),n=null,c):e},c.x0=function(g){return arguments.length?(e=typeof g=="function"?g:oa(+g),c):e},c.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:oa(+g),c):n},c.y=function(g){return arguments.length?(t=typeof g=="function"?g:oa(+g),r=null,c):t},c.y0=function(g){return arguments.length?(t=typeof g=="function"?g:oa(+g),c):t},c.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:oa(+g),c):r},c.lineX0=c.lineY0=function(){return h().x(e).y(t)},c.lineY1=function(){return h().x(e).y(r)},c.lineX1=function(){return h().x(n).y(t)},c.defined=function(g){return arguments.length?(a=typeof g=="function"?g:oa(!!g),c):a},c.curve=function(g){return arguments.length?(o=g,i!=null&&(u=o(i)),c):o},c.context=function(g){return arguments.length?(g==null?i=u=null:u=o(i=g),c):i},c}class c7{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function dV(e){return new c7(e,!0)}function hV(e){return new c7(e,!1)}const U3={draw(e,t){const r=lc(t/Lv);e.moveTo(r,0),e.arc(0,0,r,0,Zb)}},pV={draw(e,t){const r=lc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},u7=lc(1/3),mV=u7*2,gV={draw(e,t){const r=lc(t/mV),n=r*u7;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},vV={draw(e,t){const r=lc(t),n=-r/2;e.rect(n,n,r,r)}},bV=.8908130915292852,f7=Dv(Lv/10)/Dv(7*Lv/10),yV=Dv(Zb/10)*f7,xV=-n7(Zb/10)*f7,wV={draw(e,t){const r=lc(t*bV),n=yV*r,a=xV*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Zb*i/5,u=n7(o),d=Dv(o);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*a,d*n+u*a)}e.closePath()}},Ox=lc(3),_V={draw(e,t){const r=-lc(t/(Ox*3));e.moveTo(0,r*2),e.lineTo(-Ox*r,-r),e.lineTo(Ox*r,-r),e.closePath()}},vl=-.5,bl=lc(3)/2,o_=1/lc(12),SV=(o_/2+1)*3,AV={draw(e,t){const r=lc(t/SV),n=r/2,a=r*o_,i=n,o=r*o_+r,u=-i,d=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(u,d),e.lineTo(vl*n-bl*a,bl*n+vl*a),e.lineTo(vl*i-bl*o,bl*i+vl*o),e.lineTo(vl*u-bl*d,bl*u+vl*d),e.lineTo(vl*n+bl*a,vl*a-bl*n),e.lineTo(vl*i+bl*o,vl*o-bl*i),e.lineTo(vl*u+bl*d,vl*d-bl*u),e.closePath()}};function EV(e,t){let r=null,n=B3(a);e=typeof e=="function"?e:oa(e||U3),t=typeof t=="function"?t:oa(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:oa(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:oa(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Bv(){}function Fv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function d7(e){this._context=e}d7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function NV(e){return new d7(e)}function h7(e){this._context=e}h7.prototype={areaStart:Bv,areaEnd:Bv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Fv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function CV(e){return new h7(e)}function p7(e){this._context=e}p7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Fv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function OV(e){return new p7(e)}function m7(e){this._context=e}m7.prototype={areaStart:Bv,areaEnd:Bv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function TV(e){return new m7(e)}function nC(e){return e<0?-1:1}function aC(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),u=(i*a+o*n)/(n+a);return(nC(i)+nC(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(u))||0}function iC(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Tx(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,u=(i-n)/3;e._context.bezierCurveTo(n+u,a+u*t,i-u,o-u*r,i,o)}function Uv(e){this._context=e}Uv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tx(this,this._t0,iC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Tx(this,iC(this,r=aC(this,e,t)),r);break;default:Tx(this,this._t0,r=aC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function g7(e){this._context=new v7(e)}(g7.prototype=Object.create(Uv.prototype)).point=function(e,t){Uv.prototype.point.call(this,t,e)};function v7(e){this._context=e}v7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function jV(e){return new Uv(e)}function kV(e){return new g7(e)}function b7(e){this._context=e}b7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=sC(e),a=sC(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function sC(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function IV(e){return new b7(e)}function Jb(e,t){this._context=e,this._t=t}Jb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function MV(e){return new Jb(e,.5)}function PV(e){return new Jb(e,0)}function RV(e){return new Jb(e,1)}function Md(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,u=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<u;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function l_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function DV(e,t){return e[t]}function LV(e){const t=[];return t.key=e,t}function BV(){var e=oa([]),t=l_,r=Md,n=DV;function a(i){var o=Array.from(e.apply(this,arguments),LV),u,d=o.length,c=-1,h;for(const g of i)for(u=0,++c;u<d;++u)(o[u][c]=[0,+n(g,o[u].key,c,i)]).data=g;for(u=0,h=F3(t(o));u<d;++u)o[h[u]].index=u;return r(o,h),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:oa(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:oa(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?l_:typeof i=="function"?i:oa(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Md,a):r},a}function FV(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Md(e,t)}}function UV(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,u=0;o<a;++o)u+=e[o][r][1]||0;n[r][1]+=n[r][0]=-u/2}Md(e,t)}}function zV(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var u=0,d=0,c=0;u<o;++u){for(var h=e[t[u]],g=h[n][1]||0,x=h[n-1][1]||0,y=(g-x)/2,E=0;E<u;++E){var N=e[t[E]],T=N[n][1]||0,j=N[n-1][1]||0;y+=T-j}d+=g,c+=y*g}a[n-1][1]+=a[n-1][0]=r,d&&(r-=c/d)}a[n-1][1]+=a[n-1][0]=r,Md(e,t)}}var jx={},kx={},oC;function qV(){return oC||(oC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(kx)),kx}var Ix={},lC;function y7(){return lC||(lC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Ix)),Ix}var Mx={},cC;function z3(){return cC||(cC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Mx)),Mx}var Px={},Rx={},uC;function HV(){return uC||(uC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Rx)),Rx}var fC;function q3(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HV(),r=z3();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let u=0,d="",c="",h=!1;for(a.charCodeAt(0)===46&&(i.push(""),u++);u<o;){const g=a[u];c?g==="\\"&&u+1<o?(u++,d+=a[u]):g===c?c="":d+=g:h?g==='"'||g==="'"?c=g:g==="]"?(h=!1,i.push(d),d=""):d+=g:g==="["?(h=!0,d&&(i.push(d),d="")):g==="."?d&&(i.push(d),d=""):d+=g,u++}return d&&i.push(d),i}e.toPath=n})(Px)),Px}var dC;function H3(){return dC||(dC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qV(),r=y7(),n=z3(),a=q3();function i(u,d,c){if(u==null)return c;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return c;const h=u[d];return h===void 0?r.isDeepKey(d)?i(u,a.toPath(d),c):c:h}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const h=u[d];return h===void 0?c:h}default:{if(Array.isArray(d))return o(u,d,c);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return c;const h=u[d];return h===void 0?c:h}}}function o(u,d,c){if(d.length===0)return c;let h=u;for(let g=0;g<d.length;g++){if(h==null||t.isUnsafeProperty(d[g]))return c;h=h[d[g]]}return h===void 0?c:h}e.get=i})(jx)),jx}var Dx,hC;function GV(){return hC||(hC=1,Dx=H3().get),Dx}var $V=GV();const Pd=Wc($V);var WV=4;function Of(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WV,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Za(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,o)=>{var u=r[o-1];return typeof u=="string"?a+u+i:u!==void 0?a+Of(u)+i:a+i},"")}var ss=e=>e===0?0:e>0?1:-1,qc=e=>typeof e=="number"&&e!=+e,Rd=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Yt=e=>(typeof e=="number"||e instanceof Number)&&!qc(e),Hc=e=>Yt(e)||typeof e=="string",VV=0,hp=e=>{var t=++VV;return"".concat(e||"").concat(t)},Fs=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Yt(t)&&typeof t!="string")return n;var i;if(Rd(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return qc(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},x7=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Bi(e,t,r){return Yt(e)&&Yt(t)?Of(e+r*(t-e)):t}function YV(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Pd(n,t))===r)}var os=e=>e===null||typeof e>"u",Pp=e=>os(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Oo(e){return e!=null}function j0(){}var XV=["type","size","sizeType"];function c_(){return c_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c_.apply(null,arguments)}function pC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(r),!0).forEach(function(n){KV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KV(e,t,r){return(t=ZV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZV(e){var t=QV(e,"string");return typeof t=="symbol"?t:t+""}function QV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JV(e,t){if(e==null)return{};var r,n,a=eY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var w7={symbolCircle:U3,symbolCross:pV,symbolDiamond:gV,symbolSquare:vV,symbolStar:wV,symbolTriangle:_V,symbolWye:AV},tY=Math.PI/180,rY=e=>{var t="symbol".concat(Pp(e));return w7[t]||U3},nY=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*tY;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},aY=(e,t)=>{w7["symbol".concat(Pp(e))]=t},G3=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=JV(e,XV),i=mC(mC({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var u=()=>{var x=rY(o),y=EV().type(x).size(nY(r,n,o)),E=y();if(E!==null)return E},{className:d,cx:c,cy:h}=i,g=Al(i);return Yt(c)&&Yt(h)&&Yt(r)?R.createElement("path",c_({},g,{className:On("recharts-symbols",d),transform:"translate(".concat(c,", ").concat(h,")"),d:u()})):null};G3.registerSymbol=aY;var _7=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,iY=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(R.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{D3(a)&&(n[a]=(i=>r[a](r,i)))}),n},sY=(e,t,r)=>n=>(e(t,r,n),null),Rp=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];D3(a)&&typeof i=="function"&&(n||(n={}),n[a]=sY(i,t,r))}),n};function gC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(r),!0).forEach(function(n){lY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lY(e,t,r){return(t=cY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cY(e){var t=uY(e,"string");return typeof t=="symbol"?t:t+""}function uY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ls(e,t){var r=oY({},e),n=t,a=Object.keys(t),i=a.reduce((o,u)=>(o[u]===void 0&&n[u]!==void 0&&(o[u]=n[u]),o),r);return i}function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zv.apply(null,arguments)}function vC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(r),!0).forEach(function(n){dY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dY(e,t,r){return(t=hY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hY(e){var t=pY(e,"string");return typeof t=="symbol"?t:t+""}function pY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xl=32,mY={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function gY(e){var{data:t,iconType:r,inactiveColor:n}=e,a=xl/2,i=xl/6,o=xl/3,u=t.inactive?n:t.color,d=r??t.type;if(d==="none")return null;if(d==="plainline"){var c;return R.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:a,x2:xl,y2:a,className:"recharts-legend-icon"})}if(d==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(xl,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(d==="rect")return R.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(xl/8,"h").concat(xl,"v").concat(xl*3/4,"h").concat(-xl,"z"),className:"recharts-legend-icon"});if(R.isValidElement(t.legendIcon)){var h=fY({},t);return delete h.legendIcon,R.cloneElement(t.legendIcon,h)}return R.createElement(G3,{fill:u,cx:a,cy:a,size:xl,sizeType:"diameter",type:d})}function vY(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:o}=e,u={x:0,y:0,width:xl,height:xl},d={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,g)=>{var x=h.formatter||a,y=On({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:h.inactive});if(h.type==="none")return null;var E=h.inactive?i:h.color,N=x?x(h.value,h,g):h.value;return R.createElement("li",zv({className:y,style:d,key:"legend-item-".concat(g)},Rp(e,h,g)),R.createElement(L3,{width:r,height:r,viewBox:u,style:c,"aria-label":"".concat(N," legend icon")},R.createElement(gY,{data:h,iconType:o,inactiveColor:i})),R.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},N))})}var bY=e=>{var t=ls(e,mY),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:i},R.createElement(vY,zv({},t,{payload:r})))},Lx={},Bx={},bC;function yY(){return bC||(bC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],u=n(o,i,r);a.has(u)||a.set(u,o)}return Array.from(a.values())}e.uniqBy=t})(Bx)),Bx}var Fx={},yC;function xY(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(Fx)),Fx}var Ux={},xC;function S7(){return xC||(xC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Ux)),Ux}var zx={},qx={},Hx={},wC;function wY(){return wC||(wC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Hx)),Hx}var _C;function $3(){return _C||(_C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wY();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(qx)),qx}var Gx={},SC;function _Y(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Gx)),Gx}var AC;function SY(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$3(),r=_Y();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(zx)),zx}var $x={},Wx={},EC;function AY(){return EC||(EC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H3();function r(n){return function(a){return t.get(a,n)}}e.property=r})(Wx)),Wx}var Vx={},Yx={},Xx={},Kx={},NC;function A7(){return NC||(NC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Kx)),Kx}var Zx={},CC;function E7(){return CC||(CC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Zx)),Zx}var Qx={},OC;function N7(){return OC||(OC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(Qx)),Qx}var TC;function EY(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A7(),r=E7(),n=N7();function a(h,g,x){return typeof x!="function"?a(h,g,()=>{}):i(h,g,function y(E,N,T,j,D,F){const U=x(E,N,T,j,D,F);return U!==void 0?!!U:i(E,N,y,F)},new Map)}function i(h,g,x,y){if(g===h)return!0;switch(typeof g){case"object":return o(h,g,x,y);case"function":return Object.keys(g).length>0?i(h,{...g},x,y):n.isEqualsSameValueZero(h,g);default:return t.isObject(h)?typeof g=="string"?g==="":!0:n.isEqualsSameValueZero(h,g)}}function o(h,g,x,y){if(g==null)return!0;if(Array.isArray(g))return d(h,g,x,y);if(g instanceof Map)return u(h,g,x,y);if(g instanceof Set)return c(h,g,x,y);const E=Object.keys(g);if(h==null||r.isPrimitive(h))return E.length===0;if(E.length===0)return!0;if(y!=null&&y.has(g))return y.get(g)===h;y==null||y.set(g,h);try{for(let N=0;N<E.length;N++){const T=E[N];if(!r.isPrimitive(h)&&!(T in h)||g[T]===void 0&&h[T]!==void 0||g[T]===null&&h[T]!==null||!x(h[T],g[T],T,h,g,y))return!1}return!0}finally{y==null||y.delete(g)}}function u(h,g,x,y){if(g.size===0)return!0;if(!(h instanceof Map))return!1;for(const[E,N]of g.entries()){const T=h.get(E);if(x(T,N,E,h,g,y)===!1)return!1}return!0}function d(h,g,x,y){if(g.length===0)return!0;if(!Array.isArray(h))return!1;const E=new Set;for(let N=0;N<g.length;N++){const T=g[N];let j=!1;for(let D=0;D<h.length;D++){if(E.has(D))continue;const F=h[D];let U=!1;if(x(F,T,N,h,g,y)&&(U=!0),U){E.add(D),j=!0;break}}if(!j)return!1}return!0}function c(h,g,x,y){return g.size===0?!0:h instanceof Set?d([...h],[...g],x,y):!1}e.isMatchWith=a,e.isSetMatch=c})(Xx)),Xx}var jC;function C7(){return jC||(jC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EY();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Yx)),Yx}var Jx={},ew={},tw={},kC;function NY(){return kC||(kC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(tw)),tw}var rw={},IC;function W3(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(rw)),rw}var nw={},MC;function O7(){return MC||(MC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",u="[object Date]",d="[object Map]",c="[object Set]",h="[object Array]",g="[object Function]",x="[object ArrayBuffer]",y="[object Object]",E="[object Error]",N="[object DataView]",T="[object Uint8Array]",j="[object Uint8ClampedArray]",D="[object Uint16Array]",F="[object Uint32Array]",U="[object BigUint64Array]",Z="[object Int8Array]",X="[object Int16Array]",$="[object Int32Array]",Q="[object BigInt64Array]",q="[object Float32Array]",se="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=x,e.arrayTag=h,e.bigInt64ArrayTag=Q,e.bigUint64ArrayTag=U,e.booleanTag=a,e.dataViewTag=N,e.dateTag=u,e.errorTag=E,e.float32ArrayTag=q,e.float64ArrayTag=se,e.functionTag=g,e.int16ArrayTag=X,e.int32ArrayTag=$,e.int8ArrayTag=Z,e.mapTag=d,e.numberTag=n,e.objectTag=y,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=D,e.uint32ArrayTag=F,e.uint8ArrayTag=T,e.uint8ClampedArrayTag=j})(nw)),nw}var aw={},PC;function CY(){return PC||(PC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(aw)),aw}var RC;function T7(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NY(),r=W3(),n=O7(),a=E7(),i=CY();function o(h,g){return u(h,void 0,h,new Map,g)}function u(h,g,x,y=new Map,E=void 0){const N=E==null?void 0:E(h,g,x,y);if(N!==void 0)return N;if(a.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const T=new Array(h.length);y.set(h,T);for(let j=0;j<h.length;j++)T[j]=u(h[j],j,x,y,E);return Object.hasOwn(h,"index")&&(T.index=h.index),Object.hasOwn(h,"input")&&(T.input=h.input),T}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const T=new RegExp(h.source,h.flags);return T.lastIndex=h.lastIndex,T}if(h instanceof Map){const T=new Map;y.set(h,T);for(const[j,D]of h)T.set(j,u(D,j,x,y,E));return T}if(h instanceof Set){const T=new Set;y.set(h,T);for(const j of h)T.add(u(j,void 0,x,y,E));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(i.isTypedArray(h)){const T=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,T);for(let j=0;j<h.length;j++)T[j]=u(h[j],j,x,y,E);return T}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const T=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,T),d(T,h,x,y,E),T}if(typeof File<"u"&&h instanceof File){const T=new File([h],h.name,{type:h.type});return y.set(h,T),d(T,h,x,y,E),T}if(typeof Blob<"u"&&h instanceof Blob){const T=new Blob([h],{type:h.type});return y.set(h,T),d(T,h,x,y,E),T}if(h instanceof Error){const T=new h.constructor;return y.set(h,T),T.message=h.message,T.name=h.name,T.stack=h.stack,T.cause=h.cause,d(T,h,x,y,E),T}if(h instanceof Boolean){const T=new Boolean(h.valueOf());return y.set(h,T),d(T,h,x,y,E),T}if(h instanceof Number){const T=new Number(h.valueOf());return y.set(h,T),d(T,h,x,y,E),T}if(h instanceof String){const T=new String(h.valueOf());return y.set(h,T),d(T,h,x,y,E),T}if(typeof h=="object"&&c(h)){const T=Object.create(Object.getPrototypeOf(h));return y.set(h,T),d(T,h,x,y,E),T}return h}function d(h,g,x=h,y,E){const N=[...Object.keys(g),...t.getSymbols(g)];for(let T=0;T<N.length;T++){const j=N[T],D=Object.getOwnPropertyDescriptor(h,j);(D==null||D.writable)&&(h[j]=u(g[j],j,x,y,E))}}function c(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=u,e.copyProperties=d})(ew)),ew}var DC;function OY(){return DC||(DC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T7();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Jx)),Jx}var LC;function TY(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C7(),r=OY();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(Vx)),Vx}var iw={},sw={},ow={},BC;function jY(){return BC||(BC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T7(),r=W3(),n=O7();function a(i,o){return t.cloneDeepWith(i,(u,d,c,h)=>{const g=o==null?void 0:o(u,d,c,h);if(g!==void 0)return g;if(typeof i=="object"){if(r.getTag(i)===n.objectTag&&typeof i.constructor!="function"){const x={};return h.set(i,x),t.copyProperties(x,i,c,h),x}switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const x=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(x,i),x}case n.argumentsTag:{const x={};return t.copyProperties(x,i),x.length=i.length,x[Symbol.iterator]=i[Symbol.iterator],x}default:return}}})}e.cloneDeepWith=a})(ow)),ow}var FC;function kY(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jY();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(sw)),sw}var lw={},cw={},UC;function j7(){return UC||(UC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(cw)),cw}var uw={},zC;function IY(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W3();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(uw)),uw}var qC;function MY(){return qC||(qC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y7(),r=j7(),n=IY(),a=q3();function i(o,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&(o==null?void 0:o[u])==null?d=a.toPath(u):d=[u],d.length===0)return!1;let c=o;for(let h=0;h<d.length;h++){const g=d[h];if((c==null||!Object.hasOwn(c,g))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(g)&&g<c.length))return!1;c=c[g]}return!0}e.has=i})(lw)),lw}var HC;function PY(){return HC||(HC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C7(),r=z3(),n=kY(),a=H3(),i=MY();function o(u,d){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return d=n.cloneDeep(d),function(c){const h=a.get(c,u);return h===void 0?i.has(c,u):d===void 0?h===void 0:t.isMatch(h,d)}}e.matchesProperty=o})(iw)),iw}var GC;function RY(){return GC||(GC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S7(),r=AY(),n=TY(),a=PY();function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})($x)),$x}var $C;function DY(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yY(),r=xY(),n=S7(),a=SY(),i=RY();function o(u,d=n.identity){return a.isArrayLikeObject(u)?t.uniqBy(Array.from(u),r.ary(i.iteratee(d),1)):[]}e.uniqBy=o})(Lx)),Lx}var fw,WC;function LY(){return WC||(WC=1,fw=DY().uniqBy),fw}var BY=LY();const VC=Wc(BY);function k7(e,t,r){return t===!0?VC(e,r):typeof t=="function"?VC(e,t):e}var dw={exports:{}},hw={},pw={exports:{}},mw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YC;function FY(){if(YC)return mw;YC=1;var e=S0();function t(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function u(g,x){var y=x(),E=n({inst:{value:y,getSnapshot:x}}),N=E[0].inst,T=E[1];return i(function(){N.value=y,N.getSnapshot=x,d(N)&&T({inst:N})},[g,y,x]),a(function(){return d(N)&&T({inst:N}),g(function(){d(N)&&T({inst:N})})},[g]),o(y),y}function d(g){var x=g.getSnapshot;g=g.value;try{var y=x();return!r(g,y)}catch{return!0}}function c(g,x){return x()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:u;return mw.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,mw}var XC;function UY(){return XC||(XC=1,pw.exports=FY()),pw.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KC;function zY(){if(KC)return hw;KC=1;var e=S0(),t=UY();function r(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,u=e.useMemo,d=e.useDebugValue;return hw.useSyncExternalStoreWithSelector=function(c,h,g,x,y){var E=i(null);if(E.current===null){var N={hasValue:!1,value:null};E.current=N}else N=E.current;E=u(function(){function j(X){if(!D){if(D=!0,F=X,X=x(X),y!==void 0&&N.hasValue){var $=N.value;if(y($,X))return U=$}return U=X}if($=U,n(F,X))return $;var Q=x(X);return y!==void 0&&y($,Q)?(F=X,$):(F=X,U=Q)}var D=!1,F,U,Z=g===void 0?null:g;return[function(){return j(h())},Z===null?void 0:function(){return j(Z())}]},[h,g,x,y]);var T=a(c,E[0],E[1]);return o(function(){N.hasValue=!0,N.value=T},[T]),d(T),T},hw}var ZC;function qY(){return ZC||(ZC=1,dw.exports=zY()),dw.exports}var HY=qY(),V3=R.createContext(null),GY=e=>e,la=()=>{var e=R.useContext(V3);return e?e.store.dispatch:GY},bv=()=>{},$Y=()=>bv,WY=(e,t)=>e===t;function Jt(e){var t=R.useContext(V3),r=R.useMemo(()=>t?n=>{if(n!=null)return e(n)}:bv,[t,e]);return HY.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:$Y,t?t.store.getState:bv,t?t.store.getState:bv,r,WY)}function VY(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function YY(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function XY(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var QC=e=>Array.isArray(e)?e:[e];function KY(e){const t=Array.isArray(e[0])?e[0]:e;return XY(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function ZY(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var QY=class{constructor(e){this.value=e}deref(){return this.value}},JY=typeof WeakRef<"u"?WeakRef:QY,eX=0,JC=1;function ig(){return{s:eX,v:void 0,o:null,p:null}}function I7(e,t={}){let r=ig();const{resultEqualityCheck:n}=t;let a,i=0;function o(){var g;let u=r;const{length:d}=arguments;for(let x=0,y=d;x<y;x++){const E=arguments[x];if(typeof E=="function"||typeof E=="object"&&E!==null){let N=u.o;N===null&&(u.o=N=new WeakMap);const T=N.get(E);T===void 0?(u=ig(),N.set(E,u)):u=T}else{let N=u.p;N===null&&(u.p=N=new Map);const T=N.get(E);T===void 0?(u=ig(),N.set(E,u)):u=T}}const c=u;let h;if(u.s===JC)h=u.v;else if(h=e.apply(null,arguments),i++,n){const x=((g=a==null?void 0:a.deref)==null?void 0:g.call(a))??a;x!=null&&n(x,h)&&(h=x,i!==0&&i--),a=typeof h=="object"&&h!==null||typeof h=="function"?new JY(h):h}return c.s=JC,c.v=h,h}return o.clearCache=()=>{r=ig(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function tX(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,u,d={},c=a.pop();typeof c=="object"&&(d=c,c=a.pop()),VY(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const h={...r,...d},{memoize:g,memoizeOptions:x=[],argsMemoize:y=I7,argsMemoizeOptions:E=[]}=h,N=QC(x),T=QC(E),j=KY(a),D=g(function(){return i++,c.apply(null,arguments)},...N),F=y(function(){o++;const Z=ZY(j,arguments);return u=D.apply(null,Z),u},...T);return Object.assign(F,{resultFunc:c,memoizedResultFunc:D,dependencies:j,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>u,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:g,argsMemoize:y})};return Object.assign(n,{withTypes:()=>n}),n}var Ke=tX(I7),rX=Object.assign((e,t=Ke)=>{YY(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,u,d)=>(o[r[d]]=u,o),{}))},{withTypes:()=>rX}),gw={},vw={},bw={},e6;function nX(){return e6||(e6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),u=t(a);if(o===u&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?u-o:o-u}return 0};e.compareValues=r})(bw)),bw}var yw={},xw={},t6;function M7(){return t6||(t6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(xw)),xw}var r6;function aX(){return r6||(r6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M7(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(yw)),yw}var n6;function iX(){return n6||(n6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nX(),r=aX(),n=q3();function a(i,o,u,d){if(i==null)return[];u=d?void 0:u,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(y=>String(y));const c=(y,E)=>{let N=y;for(let T=0;T<E.length&&N!=null;++T)N=N[E[T]];return N},h=(y,E)=>E==null||y==null?E:typeof y=="object"&&"key"in y?Object.hasOwn(E,y.key)?E[y.key]:c(E,y.path):typeof y=="function"?y(E):Array.isArray(y)?c(E,y):typeof E=="object"?E[y]:E,g=o.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||r.isKey(y)?y:{key:y,path:n.toPath(y)}));return i.map(y=>({original:y,criteria:g.map(E=>h(E,y))})).slice().sort((y,E)=>{for(let N=0;N<g.length;N++){const T=t.compareValues(y.criteria[N],E.criteria[N],u[N]);if(T!==0)return T}return 0}).map(y=>y.original)}e.orderBy=a})(vw)),vw}var ww={},a6;function sX(){return a6||(a6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(u,d)=>{for(let c=0;c<u.length;c++){const h=u[c];Array.isArray(h)&&d<i?o(h,d+1):a.push(h)}};return o(r,0),a}e.flatten=t})(ww)),ww}var _w={},i6;function P7(){return i6||(i6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j7(),r=$3(),n=A7(),a=N7();function i(o,u,d){return n.isObject(d)&&(typeof u=="number"&&r.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?a.isEqualsSameValueZero(d[u],o):!1}e.isIterateeCall=i})(_w)),_w}var s6;function oX(){return s6||(s6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iX(),r=sX(),n=P7();function a(i,...o){const u=o.length;return u>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:u>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(gw)),gw}var Sw,o6;function lX(){return o6||(o6=1,Sw=oX().sortBy),Sw}var cX=lX();const e2=Wc(cX);var R7=e=>e.legend.settings,uX=e=>e.legend.size,fX=e=>e.legend.payload,dX=Ke([fX,R7],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?e2(n,r):n});function hX(){return Jt(dX)}var sg=1;function D7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=R.useState({height:0,left:0,top:0,width:0}),n=R.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>sg||Math.abs(o.left-t.left)>sg||Math.abs(o.top-t.top)>sg||Math.abs(o.width-t.width)>sg)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function xs(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var pX=typeof Symbol=="function"&&Symbol.observable||"@@observable",l6=pX,Aw=()=>Math.random().toString(36).substring(7).split("").join("."),mX={INIT:`@@redux/INIT${Aw()}`,REPLACE:`@@redux/REPLACE${Aw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Aw()}`},qv=mX;function Y3(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function L7(e,t,r){if(typeof e!="function")throw new Error(xs(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(xs(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(xs(1));return r(L7)(e,t)}let n=e,a=t,i=new Map,o=i,u=0,d=!1;function c(){o===i&&(o=new Map,i.forEach((T,j)=>{o.set(j,T)}))}function h(){if(d)throw new Error(xs(3));return a}function g(T){if(typeof T!="function")throw new Error(xs(4));if(d)throw new Error(xs(5));let j=!0;c();const D=u++;return o.set(D,T),function(){if(j){if(d)throw new Error(xs(6));j=!1,c(),o.delete(D),i=null}}}function x(T){if(!Y3(T))throw new Error(xs(7));if(typeof T.type>"u")throw new Error(xs(8));if(typeof T.type!="string")throw new Error(xs(17));if(d)throw new Error(xs(9));try{d=!0,a=n(a,T)}finally{d=!1}return(i=o).forEach(D=>{D()}),T}function y(T){if(typeof T!="function")throw new Error(xs(10));n=T,x({type:qv.REPLACE})}function E(){const T=g;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(xs(11));function D(){const U=j;U.next&&U.next(h())}return D(),{unsubscribe:T(D)}},[l6](){return this}}}return x({type:qv.INIT}),{dispatch:x,subscribe:g,getState:h,replaceReducer:y,[l6]:E}}function gX(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:qv.INIT})>"u")throw new Error(xs(12));if(typeof r(void 0,{type:qv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xs(13))})}function B7(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{gX(r)}catch(i){a=i}return function(o={},u){if(a)throw a;let d=!1;const c={};for(let h=0;h<n.length;h++){const g=n[h],x=r[g],y=o[g],E=x(y,u);if(typeof E>"u")throw u&&u.type,new Error(xs(14));c[g]=E,d=d||E!==y}return d=d||n.length!==Object.keys(o).length,d?c:o}}function Hv(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function vX(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(xs(15))};const o={getState:a.getState,dispatch:(d,...c)=>i(d,...c)},u=e.map(d=>d(o));return i=Hv(...u)(a.dispatch),{...a,dispatch:i}}}function F7(e){return Y3(e)&&"type"in e&&typeof e.type=="string"}var U7=Symbol.for("immer-nothing"),c6=Symbol.for("immer-draftable"),no=Symbol.for("immer-state");function Ql(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Jo=Object,m0=Jo.getPrototypeOf,Gv="constructor",t2="prototype",u_="configurable",$v="enumerable",yv="writable",pp="value",Tu=e=>!!e&&!!e[no];function ac(e){var t;return e?z7(e)||n2(e)||!!e[c6]||!!((t=e[Gv])!=null&&t[c6])||a2(e)||i2(e):!1}var bX=Jo[t2][Gv].toString(),u6=new WeakMap;function z7(e){if(!e||!X3(e))return!1;const t=m0(e);if(t===null||t===Jo[t2])return!0;const r=Jo.hasOwnProperty.call(t,Gv)&&t[Gv];if(r===Object)return!0;if(!Zh(r))return!1;let n=u6.get(r);return n===void 0&&(n=Function.toString.call(r),u6.set(r,n)),n===bX}function r2(e,t,r=!0){Dp(e)===0?(r?Reflect.ownKeys(e):Jo.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Dp(e){const t=e[no];return t?t.type_:n2(e)?1:a2(e)?2:i2(e)?3:0}var f6=(e,t,r=Dp(e))=>r===2?e.has(t):Jo[t2].hasOwnProperty.call(e,t),f_=(e,t,r=Dp(e))=>r===2?e.get(t):e[t],Wv=(e,t,r,n=Dp(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function yX(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var n2=Array.isArray,a2=e=>e instanceof Map,i2=e=>e instanceof Set,X3=e=>typeof e=="object",Zh=e=>typeof e=="function",Ew=e=>typeof e=="boolean";function xX(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var yu=e=>e.copy_||e.base_,K3=e=>e.modified_?e.copy_:e.base_;function d_(e,t){if(a2(e))return new Map(e);if(i2(e))return new Set(e);if(n2(e))return Array[t2].slice.call(e);const r=z7(e);if(t===!0||t==="class_only"&&!r){const n=Jo.getOwnPropertyDescriptors(e);delete n[no];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],u=n[o];u[yv]===!1&&(u[yv]=!0,u[u_]=!0),(u.get||u.set)&&(n[o]={[u_]:!0,[yv]:!0,[$v]:u[$v],[pp]:e[o]})}return Jo.create(m0(e),n)}else{const n=m0(e);if(n!==null&&r)return{...e};const a=Jo.create(n);return Jo.assign(a,e)}}function Z3(e,t=!1){return s2(e)||Tu(e)||!ac(e)||(Dp(e)>1&&Jo.defineProperties(e,{set:og,add:og,clear:og,delete:og}),Jo.freeze(e),t&&r2(e,(r,n)=>{Z3(n,!0)},!1)),e}function wX(){Ql(2)}var og={[pp]:wX};function s2(e){return e===null||!X3(e)?!0:Jo.isFrozen(e)}var Vv="MapSet",h_="Patches",d6="ArrayMethods",q7={};function Dd(e){const t=q7[e];return t||Ql(0,e),t}var h6=e=>!!q7[e],mp,H7=()=>mp,_X=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:h6(Vv)?Dd(Vv):void 0,arrayMethodsPlugin_:h6(d6)?Dd(d6):void 0});function p6(e,t){t&&(e.patchPlugin_=Dd(h_),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function p_(e){m_(e),e.drafts_.forEach(SX),e.drafts_=null}function m_(e){e===mp&&(mp=e.parent_)}var m6=e=>mp=_X(mp,e);function SX(e){const t=e[no];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function g6(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[no].modified_&&(p_(t),Ql(4)),ac(e)&&(e=v6(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[no].base_,e,t)}else e=v6(t,r);return AX(t,e,!0),p_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==U7?e:void 0}function v6(e,t){if(s2(t))return t;const r=t[no];if(!r)return Yv(t,e.handledSet_,e);if(!o2(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);W7(r,e)}return r.copy_}function AX(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Z3(t,r)}function G7(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var o2=(e,t)=>e.scope_===t,EX=[];function $7(e,t,r,n){const a=yu(e),i=e.type_;if(n!==void 0&&f_(a,n,i)===t){Wv(a,n,r,i);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;r2(a,(d,c)=>{if(Tu(c)){const h=u.get(c)||[];h.push(d),u.set(c,h)}})}const o=e.draftLocations_.get(t)??EX;for(const u of o)Wv(a,u,r,i)}function NX(e,t,r){e.callbacks_.push(function(a){var u;const i=t;if(!i||!o2(i,a))return;(u=a.mapSetPlugin_)==null||u.fixSetContents(i);const o=K3(i);$7(e,i.draft_??i,o,r),W7(i,a)})}function W7(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}G7(e)}}function CX(e,t,r){const{scope_:n}=e;if(Tu(r)){const a=r[no];o2(a,n)&&a.callbacks_.push(function(){xv(e);const o=K3(a);$7(e,r,o,t)})}else ac(r)&&e.callbacks_.push(function(){const i=yu(e);e.type_===3?i.has(r)&&Yv(r,n.handledSet_,n):f_(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Yv(f_(e.copy_,t,e.type_),n.handledSet_,n)})}function Yv(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Tu(e)||t.has(e)||!ac(e)||s2(e)||(t.add(e),r2(e,(n,a)=>{if(Tu(a)){const i=a[no];if(o2(i,r)){const o=K3(i);Wv(e,n,o,e.type_),G7(i)}}else ac(a)&&Yv(a,t,r)})),e}function OX(e,t){const r=n2(e),n={type_:r?1:0,scope_:t?t.scope_:H7(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=Xv;r&&(a=[n],i=gp);const{revoke:o,proxy:u}=Proxy.revocable(a,i);return n.draft_=u,n.revoke_=o,[u,n]}var Xv={get(e,t){if(t===no)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=yu(e);if(!f6(a,t,e.type_))return TX(e,a,t);const i=a[t];if(e.finalized_||!ac(i)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&xX(t))return i;if(i===Nw(e.base_,t)){xv(e);const o=e.type_===1?+t:t,u=v_(e.scope_,i,e,o);return e.copy_[o]=u}return i},has(e,t){return t in yu(e)},ownKeys(e){return Reflect.ownKeys(yu(e))},set(e,t,r){const n=V7(yu(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Nw(yu(e),t),i=a==null?void 0:a[no];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(yX(r,a)&&(r!==void 0||f6(e.base_,t,e.type_)))return!0;xv(e),g_(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),CX(e,t,r)),!0},deleteProperty(e,t){return xv(e),Nw(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),g_(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=yu(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[yv]:!0,[u_]:e.type_!==1||t!=="length",[$v]:n[$v],[pp]:r[t]}},defineProperty(){Ql(11)},getPrototypeOf(e){return m0(e.base_)},setPrototypeOf(){Ql(12)}},gp={};for(let e in Xv){let t=Xv[e];gp[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}gp.deleteProperty=function(e,t){return gp.set.call(this,e,t,void 0)};gp.set=function(e,t,r){return Xv.set.call(this,e[0],t,r,e[0])};function Nw(e,t){const r=e[no];return(r?yu(r):e)[t]}function TX(e,t,r){var a;const n=V7(t,r);return n?pp in n?n[pp]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function V7(e,t){if(!(t in e))return;let r=m0(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=m0(r)}}function g_(e){e.modified_||(e.modified_=!0,e.parent_&&g_(e.parent_))}function xv(e){e.copy_||(e.assigned_=new Map,e.copy_=d_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var jX=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Zh(r)&&!Zh(n)){const o=n;n=r;const u=this;return function(c=o,...h){return u.produce(c,g=>n.call(this,g,...h))}}Zh(n)||Ql(6),a!==void 0&&!Zh(a)&&Ql(7);let i;if(ac(r)){const o=m6(this),u=v_(o,r,void 0);let d=!0;try{i=n(u),d=!1}finally{d?p_(o):m_(o)}return p6(o,a),g6(i,o)}else if(!r||!X3(r)){if(i=n(r),i===void 0&&(i=r),i===U7&&(i=void 0),this.autoFreeze_&&Z3(i,!0),a){const o=[],u=[];Dd(h_).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:u}),a(o,u)}return i}else Ql(1,r)},this.produceWithPatches=(r,n)=>{if(Zh(r))return(u,...d)=>this.produceWithPatches(u,c=>r(c,...d));let a,i;return[this.produce(r,n,(u,d)=>{a=u,i=d}),a,i]},Ew(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Ew(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Ew(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ac(t)||Ql(8),Tu(t)&&(t=rc(t));const r=m6(this),n=v_(r,t,void 0);return n[no].isManual_=!0,m_(r),n}finishDraft(t,r){const n=t&&t[no];(!n||!n.isManual_)&&Ql(9);const{scope_:a}=n;return p6(a,r),g6(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=Dd(h_).applyPatches_;return Tu(t)?a(t,r):this.produce(t,i=>a(i,r))}};function v_(e,t,r,n){const[a,i]=a2(t)?Dd(Vv).proxyMap_(t,r):i2(t)?Dd(Vv).proxySet_(t,r):OX(t,r);return((r==null?void 0:r.scope_)??H7()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?NX(r,i,n):i.callbacks_.push(function(d){var h;(h=d.mapSetPlugin_)==null||h.fixSetContents(i);const{patchPlugin_:c}=d;i.modified_&&c&&c.generatePatches_(i,[],d)}),a}function rc(e){return Tu(e)||Ql(10,e),Y7(e)}function Y7(e){if(!ac(e)||s2(e))return e;const t=e[no];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=d_(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=d_(e,!0);return r2(r,(a,i)=>{Wv(r,a,Y7(i))},n),t&&(t.finalized_=!1),r}var kX=new jX,X7=kX.produce;function K7(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var IX=K7(),MX=K7,PX=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hv:Hv.apply(null,arguments)};function El(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(tl(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>F7(n)&&n.type===e,r}var Z7=class V1 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,V1.prototype)}static get[Symbol.species](){return V1}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new V1(...t[0].concat(this)):new V1(...t.concat(this))}};function b6(e){return ac(e)?X7(e,()=>{}):e}function lg(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function RX(e){return typeof e=="boolean"}var DX=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new Z7;return r&&(RX(r)?o.push(IX):o.push(MX(r.extraArgument))),o},Q7="RTK_autoBatch",Na=()=>e=>({payload:e,meta:{[Q7]:!0}}),y6=e=>t=>{setTimeout(t,e)},J7=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:y6(10):e.type==="callback"?e.queueNotification:y6(e.timeout),c=()=>{o=!1,i&&(i=!1,u.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const g=()=>a&&h(),x=n.subscribe(g);return u.add(h),()=>{x(),u.delete(h)}},dispatch(h){var g;try{return a=!((g=h==null?void 0:h.meta)!=null&&g[Q7]),i=!a,i&&(o||(o=!0,d(c))),n.dispatch(h)}finally{a=!0}}})},LX=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new Z7(e);return n&&a.push(J7(typeof n=="object"?n:void 0)),a};function BX(e){const t=DX(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(Y3(r))u=B7(r);else throw new Error(tl(1));let d;typeof n=="function"?d=n(t):d=t();let c=Hv;a&&(c=PX({trace:!1,...typeof a=="object"&&a}));const h=vX(...d),g=LX(h);let x=typeof o=="function"?o(g):g();const y=c(...x);return L7(u,i,y)}function eP(e){const t={},r=[];let n;const a={addCase(i,o){const u=typeof i=="string"?i:i.type;if(!u)throw new Error(tl(28));if(u in t)throw new Error(tl(29));return t[u]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function FX(e){return typeof e=="function"}function UX(e,t){let[r,n,a]=eP(t),i;if(FX(e))i=()=>b6(e());else{const u=b6(e);i=()=>u}function o(u=i(),d){let c=[r[d.type],...n.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return c.filter(h=>!!h).length===0&&(c=[a]),c.reduce((h,g)=>{if(g)if(Tu(h)){const y=g(h,d);return y===void 0?h:y}else{if(ac(h))return X7(h,x=>g(x,d));{const x=g(h,d);if(x===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return h},u)}return o.getInitialState=i,o}var zX="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",qX=(e=21)=>{let t="",r=e;for(;r--;)t+=zX[Math.random()*64|0];return t},HX=Symbol.for("rtk-slice-createasyncthunk");function GX(e,t){return`${e}/${t}`}function $X({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[HX];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(tl(11));const u=(typeof a.reducers=="function"?a.reducers(VX()):a.reducers)||{},d=Object.keys(u),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(U,Z){const X=typeof U=="string"?U:U.type;if(!X)throw new Error(tl(12));if(X in c.sliceCaseReducersByType)throw new Error(tl(13));return c.sliceCaseReducersByType[X]=Z,h},addMatcher(U,Z){return c.sliceMatchers.push({matcher:U,reducer:Z}),h},exposeAction(U,Z){return c.actionCreators[U]=Z,h},exposeCaseReducer(U,Z){return c.sliceCaseReducersByName[U]=Z,h}};d.forEach(U=>{const Z=u[U],X={reducerName:U,type:GX(i,U),createNotation:typeof a.reducers=="function"};XX(Z)?ZX(X,Z,h,t):YX(X,Z,h)});function g(){const[U={},Z=[],X=void 0]=typeof a.extraReducers=="function"?eP(a.extraReducers):[a.extraReducers],$={...U,...c.sliceCaseReducersByType};return UX(a.initialState,Q=>{for(let q in $)Q.addCase(q,$[q]);for(let q of c.sliceMatchers)Q.addMatcher(q.matcher,q.reducer);for(let q of Z)Q.addMatcher(q.matcher,q.reducer);X&&Q.addDefaultCase(X)})}const x=U=>U,y=new Map,E=new WeakMap;let N;function T(U,Z){return N||(N=g()),N(U,Z)}function j(){return N||(N=g()),N.getInitialState()}function D(U,Z=!1){function X(Q){let q=Q[U];return typeof q>"u"&&Z&&(q=lg(E,X,j)),q}function $(Q=x){const q=lg(y,Z,()=>new WeakMap);return lg(q,Q,()=>{const se={};for(const[H,G]of Object.entries(a.selectors??{}))se[H]=WX(G,Q,()=>lg(E,Q,j),Z);return se})}return{reducerPath:U,getSelectors:$,get selectors(){return $(X)},selectSlice:X}}const F={name:i,reducer:T,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:j,...D(o),injectInto(U,{reducerPath:Z,...X}={}){const $=Z??o;return U.inject({reducerPath:$,reducer:T},X),{...F,...D($,!0)}}};return F}}function WX(e,t,r,n){function a(i,...o){let u=t(i);return typeof u>"u"&&n&&(u=r()),e(u,...o)}return a.unwrapped=e,a}var ko=$X();function VX(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function YX({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!KX(n))throw new Error(tl(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?El(e,o):El(e))}function XX(e){return e._reducerDefinitionType==="asyncThunk"}function KX(e){return e._reducerDefinitionType==="reducerWithPrepare"}function ZX({type:e,reducerName:t},r,n,a){if(!a)throw new Error(tl(18));const{payloadCreator:i,fulfilled:o,pending:u,rejected:d,settled:c,options:h}=r,g=a(e,i,h);n.exposeAction(t,g),o&&n.addCase(g.fulfilled,o),u&&n.addCase(g.pending,u),d&&n.addCase(g.rejected,d),c&&n.addMatcher(g.settled,c),n.exposeCaseReducer(t,{fulfilled:o||cg,pending:u||cg,rejected:d||cg,settled:c||cg})}function cg(){}var QX="task",tP="listener",rP="completed",Q3="cancelled",JX=`task-${Q3}`,eK=`task-${rP}`,b_=`${tP}-${Q3}`,tK=`${tP}-${rP}`,l2=class{constructor(e){Nn(this,"name","TaskAbortError");Nn(this,"message");this.code=e,this.message=`${QX} ${Q3} (reason: ${e})`}},J3=(e,t)=>{if(typeof e!="function")throw new TypeError(tl(32))},Kv=()=>{},nP=(e,t=Kv)=>(e.catch(t),e),aP=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Od=e=>{if(e.aborted)throw new l2(e.reason)};function iP(e,t){let r=Kv;return new Promise((n,a)=>{const i=()=>a(new l2(e.reason));if(e.aborted){i();return}r=aP(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Kv})}var rK=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof l2?"cancelled":"rejected",error:r}}finally{t==null||t()}},Zv=e=>t=>nP(iP(e,t).then(r=>(Od(e),r))),sP=e=>{const t=Zv(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:s0}=Object,x6={},c2="listenerMiddleware",nK=(e,t)=>{const r=n=>aP(e,()=>n.abort(e.reason));return(n,a)=>{J3(n);const i=new AbortController;r(i);const o=rK(async()=>{Od(e),Od(i.signal);const u=await n({pause:Zv(i.signal),delay:sP(i.signal),signal:i.signal});return Od(i.signal),u},()=>i.abort(eK));return a!=null&&a.autoJoin&&t.push(o.catch(Kv)),{result:Zv(e)(o),cancel(){i.abort(JX)}}}},aK=(e,t)=>{const r=async(n,a)=>{Od(t);let i=()=>{};const u=[new Promise((d,c)=>{let h=e({predicate:n,effect:(g,x)=>{x.unsubscribe(),d([g,x.getState(),x.getOriginalState()])}});i=()=>{h(),c()}})];a!=null&&u.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await iP(t,Promise.race(u));return Od(t),d}finally{i()}};return(n,a)=>nP(r(n,a))},oP=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=El(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(tl(21));return J3(i),{predicate:a,type:t,effect:i}},lP=s0(e=>{const{type:t,predicate:r,effect:n}=oP(e);return{id:qX(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(tl(22))}}},{withTypes:()=>lP}),w6=(e,t)=>{const{type:r,effect:n,predicate:a}=oP(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},y_=e=>{e.pending.forEach(t=>{t.abort(b_)})},iK=(e,t)=>()=>{for(const r of t.keys())y_(r);e.clear()},_6=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},cP=s0(El(`${c2}/add`),{withTypes:()=>cP}),sK=El(`${c2}/removeAll`),uP=s0(El(`${c2}/remove`),{withTypes:()=>uP}),oK=(...e)=>{console.error(`${c2}/error`,...e)},Lp=(e={})=>{const t=new Map,r=new Map,n=y=>{const E=r.get(y)??0;r.set(y,E+1)},a=y=>{const E=r.get(y)??1;E===1?r.delete(y):r.set(y,E-1)},{extra:i,onError:o=oK}=e;J3(o);const u=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),E=>{y.unsubscribe(),E!=null&&E.cancelActive&&y_(y)}),d=y=>{const E=w6(t,y)??lP(y);return u(E)};s0(d,{withTypes:()=>d});const c=y=>{const E=w6(t,y);return E&&(E.unsubscribe(),y.cancelActive&&y_(E)),!!E};s0(c,{withTypes:()=>c});const h=async(y,E,N,T)=>{const j=new AbortController,D=aK(d,j.signal),F=[];try{y.pending.add(j),n(y),await Promise.resolve(y.effect(E,s0({},N,{getOriginalState:T,condition:(U,Z)=>D(U,Z).then(Boolean),take:D,delay:sP(j.signal),pause:Zv(j.signal),extra:i,signal:j.signal,fork:nK(j.signal,F),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((U,Z,X)=>{U!==j&&(U.abort(b_),X.delete(U))})},cancel:()=>{j.abort(b_),y.pending.delete(j)},throwIfCancelled:()=>{Od(j.signal)}})))}catch(U){U instanceof l2||_6(o,U,{raisedBy:"effect"})}finally{await Promise.all(F),j.abort(tK),a(y),y.pending.delete(j)}},g=iK(t,r);return{middleware:y=>E=>N=>{if(!F7(N))return E(N);if(cP.match(N))return d(N.payload);if(sK.match(N)){g();return}if(uP.match(N))return c(N.payload);let T=y.getState();const j=()=>{if(T===x6)throw new Error(tl(23));return T};let D;try{if(D=E(N),t.size>0){const F=y.getState(),U=Array.from(t.values());for(const Z of U){let X=!1;try{X=Z.predicate(N,F,T)}catch($){X=!1,_6(o,$,{raisedBy:"predicate"})}X&&h(Z,N,y,j)}}}finally{T=x6}return D},startListening:d,stopListening:c,clearListeners:g}};function tl(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var lK={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},fP=ko({name:"chartLayout",initialState:lK,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:cK,setLayout:uK,setChartSize:fK,setScale:dK}=fP.actions,hK=fP.reducer;function dP(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function ln(e){return Number.isFinite(e)}function Gc(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function S6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S6(Object(r),!0).forEach(function(n){pK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pK(e,t,r){return(t=mK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mK(e){var t=gK(e,"string");return typeof t=="symbol"?t:t+""}function gK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ya(e,t,r){return os(e)||os(t)?r:Hc(t)?Pd(e,t,r):typeof t=="function"?t(e):r}var vK=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:u}=t;if((u==="vertical"||u==="horizontal"&&o==="middle")&&i!=="center"&&Yt(e[i]))return t0(t0({},e),{},{[i]:e[i]+(n||0)});if((u==="horizontal"||u==="vertical"&&i==="center")&&o!=="middle"&&Yt(e[o]))return t0(t0({},e),{},{[o]:e[o]+(a||0)})}return e},Uf=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",hP=(e,t,r,n)=>{if(n)return e.map(u=>u.coordinate);var a,i,o=e.map(u=>(u.coordinate===t&&(a=!0),u.coordinate===r&&(i=!0),u.coordinate));return a||o.push(t),i||o.push(r),o},pP=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:u,isCategorical:d,categoricalDomain:c,tickCount:h,ticks:g,niceTicks:x,axisType:y}=e;if(!o)return null;var E=u==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,N=a==="category"&&o.bandwidth?o.bandwidth()/E:0;if(N=y==="angleAxis"&&i&&i.length>=2?ss(i[0]-i[1])*2*N:N,g||x){var T=(g||x||[]).map((j,D)=>{var F=n?n.indexOf(j):j,U=o.map(F);return ln(U)?{coordinate:U+N,value:j,offset:N,index:D}:null}).filter(Oo);return T}return d&&c?c.map((j,D)=>{var F=o.map(j);return ln(F)?{coordinate:F+N,value:j,index:D,offset:N}:null}).filter(Oo):o.ticks&&h!=null?o.ticks(h).map((j,D)=>{var F=o.map(j);return ln(F)?{coordinate:F+N,value:j,index:D,offset:N}:null}).filter(Oo):o.domain().map((j,D)=>{var F=o.map(j);return ln(F)?{coordinate:F+N,value:n?n[j]:j,index:D,offset:N}:null}).filter(Oo)},bK=(e,t)=>{if(!t||t.length!==2||!Yt(t[0])||!Yt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Yt(e[0])||e[0]<r)&&(a[0]=r),(!Yt(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},yK=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0,u=0;u<r;++u){var d=e[u],c=d==null?void 0:d[a];if(c!=null){var h=c[1],g=c[0],x=qc(h)?g:h;x>=0?(c[0]=i,i+=x,c[1]=i):(c[0]=o,o+=x,c[1]=o)}}}},xK=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0;o<r;++o){var u=e[o],d=u==null?void 0:u[a];if(d!=null){var c=qc(d[1])?d[0]:d[1];c>=0?(d[0]=i,i+=c,d[1]=i):(d[0]=0,d[1]=0)}}}},wK={sign:yK,expand:FV,none:Md,silhouette:UV,wiggle:zV,positive:xK},_K=(e,t,r)=>{var n,a=(n=wK[r])!==null&&n!==void 0?n:Md,i=BV().keys(t).value((u,d)=>Number(ya(u,d,0))).order(l_).offset(a),o=i(e);return o.forEach((u,d)=>{u.forEach((c,h)=>{var g=ya(e[h],t[d],0);Array.isArray(g)&&g.length===2&&Yt(g[0])&&Yt(g[1])&&(c[0]=g[0],c[1]=g[1])})}),o};function SK(e){return e==null?void 0:String(e)}var A6=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var u=ya(i,t.dataKey,t.scale.domain()[o]);if(os(u))return null;var d=t.scale.map(u);return Yt(d)?d-a/2+n:null},AK=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},EK=e=>{var t=e.flat(2).filter(Yt);return[Math.min(...t),Math.max(...t)]},NK=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],CK=(e,t,r)=>{if(e!=null)return NK(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:o}=i,u=o.reduce((d,c)=>{var h=dP(c,t,r),g=EK(h);return!ln(g[0])||!ln(g[1])?d:[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},E6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,N6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Qv=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=e2(t,h=>h.coordinate),i=1/0,o=1,u=a.length;o<u;o++){var d=a[o],c=a[o-1];i=Math.min(((d==null?void 0:d.coordinate)||0)-((c==null?void 0:c.coordinate)||0),i)}return i===1/0?0:i}return r?void 0:0};function C6(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return t0(t0({},t),{},{dataKey:r,payload:n,value:a,name:i})}function u2(e,t){if(e)return String(e);if(typeof t=="string")return t}var OK=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},TK=(e,t)=>t==="centric"?e.angle:e.radius,Bu=e=>e.layout.width,Fu=e=>e.layout.height,jK=e=>e.layout.scale,mP=e=>e.layout.margin,f2=Ke(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),d2=Ke(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),gP="data-recharts-item-index",vP="data-recharts-item-id",Bp=60;function O6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ug(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O6(Object(r),!0).forEach(function(n){kK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kK(e,t,r){return(t=IK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IK(e){var t=MK(e,"string");return typeof t=="symbol"?t:t+""}function MK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PK=e=>e.brush.height;function RK(e){var t=d2(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Bp;return r+a}return r},0)}function DK(e){var t=d2(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Bp;return r+a}return r},0)}function LK(e){var t=f2(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function BK(e){var t=f2(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ui=Ke([Bu,Fu,mP,PK,RK,DK,LK,BK,R7,uX],(e,t,r,n,a,i,o,u,d,c)=>{var h={left:(r.left||0)+a,right:(r.right||0)+i},g={top:(r.top||0)+o,bottom:(r.bottom||0)+u},x=ug(ug({},g),h),y=x.bottom;x.bottom+=n,x=vK(x,d,c);var E=e-x.left-x.right,N=t-x.top-x.bottom;return ug(ug({brushBottom:y},x),{},{width:Math.max(E,0),height:Math.max(N,0)})}),FK=Ke(Ui,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),eS=Ke(Bu,Fu,(e,t)=>({x:0,y:0,width:e,height:t})),UK=R.createContext(null),Io=()=>R.useContext(UK)!=null,h2=e=>e.brush,p2=Ke([h2,Ui,mP],(e,t,r)=>({height:e.height,x:Yt(e.x)?e.x:t.left,y:Yt(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Yt(e.width)?e.width:t.width})),Cw={},Ow={},Tw={},T6;function zK(){return T6||(T6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,u=null;const d=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),h=()=>{u!==null&&(r.apply(o,u),o=void 0,u=null)},g=()=>{c&&h(),N()};let x=null;const y=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,g()},n)},E=()=>{x!==null&&(clearTimeout(x),x=null)},N=()=>{E(),o=void 0,u=null},T=()=>{h()},j=function(...D){if(a!=null&&a.aborted)return;o=this,u=D;const F=x==null;y(),d&&F&&h()};return j.schedule=y,j.cancel=N,j.flush=T,a==null||a.addEventListener("abort",N,{once:!0}),j}e.debounce=t})(Tw)),Tw}var j6;function qK(){return j6||(j6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zK();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:u=!0,maxWait:d}=i,c=Array(2);o&&(c[0]="leading"),u&&(c[1]="trailing");let h,g=null;const x=t.debounce(function(...N){h=n.apply(this,N),g=null},a,{edges:c}),y=function(...N){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(h=n.apply(this,N),g=Date.now(),x.cancel(),x.schedule(),h):(x.apply(this,N),h)},E=()=>(x.flush(),h);return y.cancel=x.cancel,y.flush=E,y}e.debounce=r})(Ow)),Ow}var k6;function HK(){return k6||(k6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qK();function r(n,a=0,i={}){const{leading:o=!0,trailing:u=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:u})}e.throttle=r})(Cw)),Cw}var jw,I6;function GK(){return I6||(I6=1,jw=HK().throttle),jw}var $K=GK();const WK=Wc($K);var Jv=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},Dc={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},bP=(e,t,r)=>{var{width:n=Dc.width,height:a=Dc.height,aspect:i,maxHeight:o}=r,u=Rd(n)?e:Number(n),d=Rd(a)?t:Number(a);return i&&i>0&&(u?d=u/i:d&&(u=d*i),o&&d!=null&&d>o&&(d=o)),{calculatedWidth:u,calculatedHeight:d}},VK={width:0,height:0,overflow:"visible"},YK={width:0,overflowX:"visible"},XK={height:0,overflowY:"visible"},KK={},ZK=e=>{var{width:t,height:r}=e,n=Rd(t),a=Rd(r);return n&&a?VK:n?YK:a?XK:KK};function QK(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a=Dc.width,i=Dc.height):a===void 0?a=n&&n>0?void 0:Dc.width:i===void 0&&(i=n&&n>0?void 0:Dc.height),{width:a,height:i}}function x_(){return x_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x_.apply(null,arguments)}function M6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function P6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M6(Object(r),!0).forEach(function(n){JK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JK(e,t,r){return(t=eZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eZ(e){var t=tZ(e,"string");return typeof t=="symbol"?t:t+""}function tZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yP=R.createContext(Dc.initialDimension);function rZ(e){return Gc(e.width)&&Gc(e.height)}function xP(e){var{children:t,width:r,height:n}=e,a=R.useMemo(()=>({width:r,height:n}),[r,n]);return rZ(a)?R.createElement(yP.Provider,{value:a},t):null}var tS=()=>R.useContext(yP),nZ=R.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Dc.initialDimension,width:a,height:i,minWidth:o=Dc.minWidth,minHeight:u,maxHeight:d,children:c,debounce:h=Dc.debounce,id:g,className:x,onResize:y,style:E={}}=e,N=R.useRef(null),T=R.useRef();T.current=y,R.useImperativeHandle(t,()=>N.current);var[j,D]=R.useState({containerWidth:n.width,containerHeight:n.height}),F=R.useCallback((Q,q)=>{D(se=>{var H=Math.round(Q),G=Math.round(q);return se.containerWidth===H&&se.containerHeight===G?se:{containerWidth:H,containerHeight:G}})},[]);R.useEffect(()=>{if(N.current==null||typeof ResizeObserver>"u")return j0;var Q=G=>{var ue,J=G[0];if(J!=null){var{width:ae,height:re}=J.contentRect;F(ae,re),(ue=T.current)===null||ue===void 0||ue.call(T,ae,re)}};h>0&&(Q=WK(Q,h,{trailing:!0,leading:!1}));var q=new ResizeObserver(Q),{width:se,height:H}=N.current.getBoundingClientRect();return F(se,H),q.observe(N.current),()=>{q.disconnect()}},[F,h]);var{containerWidth:U,containerHeight:Z}=j;Jv(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:X,calculatedHeight:$}=bP(U,Z,{width:a,height:i,aspect:r,maxHeight:d});return Jv(X!=null&&X>0||$!=null&&$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,$,a,i,o,u,r),R.createElement("div",{id:g?"".concat(g):void 0,className:On("recharts-responsive-container",x),style:P6(P6({},E),{},{width:a,height:i,minWidth:o,minHeight:u,maxHeight:d}),ref:N},R.createElement("div",{style:ZK({width:a,height:i})},R.createElement(xP,{width:X,height:$},c)))}),eb=R.forwardRef((e,t)=>{var r=tS();if(Gc(r.width)&&Gc(r.height))return e.children;var{width:n,height:a}=QK({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=bP(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Yt(i)&&Yt(o)?R.createElement(xP,{width:i,height:o},e.children):R.createElement(nZ,x_({},e,{width:n,height:a,ref:t}))});function rS(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var m2=()=>{var e,t=Io(),r=Jt(FK),n=Jt(p2),a=(e=Jt(h2))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},aZ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},wP=()=>{var e;return(e=Jt(Ui))!==null&&e!==void 0?e:aZ},nS=()=>Jt(Bu),aS=()=>Jt(Fu),iZ=()=>Jt(e=>e.layout.margin),Tn=e=>e.layout.layoutType,k0=()=>Jt(Tn),_P=()=>{var e=k0();if(e==="horizontal"||e==="vertical")return e},SP=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},sZ=()=>{var e=k0();return e!==void 0},Fp=e=>{var t=la(),r=Io(),{width:n,height:a}=e,i=tS(),o=n,u=a;return i&&(o=i.width>0?i.width:n,u=i.height>0?i.height:a),R.useEffect(()=>{!r&&Gc(o)&&Gc(u)&&t(fK({width:o,height:u}))},[t,r,o,u]),null},AP=Symbol.for("immer-nothing"),R6=Symbol.for("immer-draftable"),nl=Symbol.for("immer-state");function Jl(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var vp=Object.getPrototypeOf;function g0(e){return!!e&&!!e[nl]}function Ld(e){var t;return e?EP(e)||Array.isArray(e)||!!e[R6]||!!((t=e.constructor)!=null&&t[R6])||Up(e)||v2(e):!1}var oZ=Object.prototype.constructor.toString(),D6=new WeakMap;function EP(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=D6.get(r);return n===void 0&&(n=Function.toString.call(r),D6.set(r,n)),n===oZ}function tb(e,t,r=!0){g2(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function g2(e){const t=e[nl];return t?t.type_:Array.isArray(e)?1:Up(e)?2:v2(e)?3:0}function w_(e,t){return g2(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function NP(e,t,r){const n=g2(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function lZ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Up(e){return e instanceof Map}function v2(e){return e instanceof Set}function hd(e){return e.copy_||e.base_}function __(e,t){if(Up(e))return new Map(e);if(v2(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=EP(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[nl];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],u=n[o];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[o]})}return Object.create(vp(e),n)}else{const n=vp(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function iS(e,t=!1){return b2(e)||g0(e)||!Ld(e)||(g2(e)>1&&Object.defineProperties(e,{set:fg,add:fg,clear:fg,delete:fg}),Object.freeze(e),t&&Object.values(e).forEach(r=>iS(r,!0))),e}function cZ(){Jl(2)}var fg={value:cZ};function b2(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var uZ={};function Bd(e){const t=uZ[e];return t||Jl(0,e),t}var bp;function CP(){return bp}function fZ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function L6(e,t){t&&(Bd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function S_(e){A_(e),e.drafts_.forEach(dZ),e.drafts_=null}function A_(e){e===bp&&(bp=e.parent_)}function B6(e){return bp=fZ(bp,e)}function dZ(e){const t=e[nl];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function F6(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[nl].modified_&&(S_(t),Jl(4)),Ld(e)&&(e=rb(t,e),t.parent_||nb(t,e)),t.patches_&&Bd("Patches").generateReplacementPatches_(r[nl].base_,e,t.patches_,t.inversePatches_)):e=rb(t,r,[]),S_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==AP?e:void 0}function rb(e,t,r){if(b2(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[nl];if(!a)return tb(t,(i,o)=>U6(e,a,t,i,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return nb(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,u=!1;a.type_===3&&(o=new Set(i),i.clear(),u=!0),tb(o,(d,c)=>U6(e,a,i,d,c,r,u),n),nb(e,i,!1),r&&e.patches_&&Bd("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function U6(e,t,r,n,a,i,o){if(a==null||typeof a!="object"&&!o)return;const u=b2(a);if(!(u&&!o)){if(g0(a)){const d=i&&t&&t.type_!==3&&!w_(t.assigned_,n)?i.concat(n):void 0,c=rb(e,a,d);if(NP(r,n,c),g0(c))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(Ld(a)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&u)return;rb(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Up(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&nb(e,a)}}}function nb(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&iS(t,r)}function hZ(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:CP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=sS;r&&(a=[n],i=yp);const{revoke:o,proxy:u}=Proxy.revocable(a,i);return n.draft_=u,n.revoke_=o,u}var sS={get(e,t){if(t===nl)return e;const r=hd(e);if(!w_(r,t))return pZ(e,r,t);const n=r[t];return e.finalized_||!Ld(n)?n:n===kw(e.base_,t)?(Iw(e),e.copy_[t]=N_(n,e)):n},has(e,t){return t in hd(e)},ownKeys(e){return Reflect.ownKeys(hd(e))},set(e,t,r){const n=OP(hd(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=kw(hd(e),t),i=a==null?void 0:a[nl];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(lZ(r,a)&&(r!==void 0||w_(e.base_,t)))return!0;Iw(e),E_(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return kw(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Iw(e),E_(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=hd(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Jl(11)},getPrototypeOf(e){return vp(e.base_)},setPrototypeOf(){Jl(12)}},yp={};tb(sS,(e,t)=>{yp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});yp.deleteProperty=function(e,t){return yp.set.call(this,e,t,void 0)};yp.set=function(e,t,r){return sS.set.call(this,e[0],t,r,e[0])};function kw(e,t){const r=e[nl];return(r?hd(r):e)[t]}function pZ(e,t,r){var a;const n=OP(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function OP(e,t){if(!(t in e))return;let r=vp(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=vp(r)}}function E_(e){e.modified_||(e.modified_=!0,e.parent_&&E_(e.parent_))}function Iw(e){e.copy_||(e.copy_=__(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var mZ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(d=i,...c){return o.produce(d,h=>r.call(this,h,...c))}}typeof r!="function"&&Jl(6),n!==void 0&&typeof n!="function"&&Jl(7);let a;if(Ld(t)){const i=B6(this),o=N_(t,void 0);let u=!0;try{a=r(o),u=!1}finally{u?S_(i):A_(i)}return L6(i,n),F6(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===AP&&(a=void 0),this.autoFreeze_&&iS(a,!0),n){const i=[],o=[];Bd("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else Jl(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...u)=>this.produceWithPatches(o,d=>t(d,...u));let n,a;return[this.produce(t,r,(o,u)=>{n=o,a=u}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ld(e)||Jl(8),g0(e)&&(e=gZ(e));const t=B6(this),r=N_(e,void 0);return r[nl].isManual_=!0,A_(t),r}finishDraft(e,t){const r=e&&e[nl];(!r||!r.isManual_)&&Jl(9);const{scope_:n}=r;return L6(n,t),F6(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Bd("Patches").applyPatches_;return g0(e)?n(e,t):this.produce(e,a=>n(a,t))}};function N_(e,t){const r=Up(e)?Bd("MapSet").proxyMap_(e,t):v2(e)?Bd("MapSet").proxySet_(e,t):hZ(e,t);return(t?t.scope_:CP()).drafts_.push(r),r}function gZ(e){return g0(e)||Jl(10,e),TP(e)}function TP(e){if(!Ld(e)||b2(e))return e;const t=e[nl];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=__(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=__(e,!0);return tb(r,(a,i)=>{NP(r,a,TP(i))},n),t&&(t.finalized_=!1),r}var vZ=new mZ;vZ.produce;var bZ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},jP=ko({name:"legend",initialState:bZ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Na()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=rc(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Na()},removeLegendPayload:{reducer(e,t){var r=rc(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Na()}}}),{setLegendSize:z6,setLegendSettings:yZ,addLegendPayload:kP,replaceLegendPayload:IP,removeLegendPayload:MP}=jP.actions,xZ=jP.reducer,wZ=["contextPayload"];function C_(){return C_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C_.apply(null,arguments)}function q6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q6(Object(r),!0).forEach(function(n){_Z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Z(e,t,r){return(t=SZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SZ(e){var t=AZ(e,"string");return typeof t=="symbol"?t:t+""}function AZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EZ(e,t){if(e==null)return{};var r,n,a=NZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function NZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function CZ(e){return e.value}function OZ(e){var{contextPayload:t}=e,r=EZ(e,wZ),n=k7(t,e.payloadUniqBy,CZ),a=v0(v0({},r),{},{payload:n});return R.isValidElement(e.content)?R.cloneElement(e.content,a):typeof e.content=="function"?R.createElement(e.content,a):R.createElement(bY,a)}function TZ(e,t,r,n,a,i){var{layout:o,align:u,verticalAlign:d}=t,c,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&o==="vertical"?c={left:((n||0)-i.width)/2}:c=u==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?h={top:((a||0)-i.height)/2}:h=d==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),v0(v0({},c),h)}function jZ(e){var t=la();return R.useEffect(()=>{t(yZ(e))},[t,e]),null}function kZ(e){var t=la();return R.useEffect(()=>(t(z6(e)),()=>{t(z6({width:0,height:0}))}),[t,e]),null}function IZ(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var MZ={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function PP(e){var t=ls(e,MZ),r=hX(),n=lV(),a=iZ(),{width:i,height:o,wrapperStyle:u,portal:d}=t,[c,h]=D7([r]),g=nS(),x=aS();if(g==null||x==null)return null;var y=g-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),E=IZ(t.layout,o,i,y),N=d?u:v0(v0({position:"absolute",width:(E==null?void 0:E.width)||i||"auto",height:(E==null?void 0:E.height)||o||"auto"},TZ(u,t,a,g,x,c)),u),T=d??n;if(T==null||r==null)return null;var j=R.createElement("div",{className:"recharts-legend-wrapper",style:N,ref:h},R.createElement(jZ,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!d&&R.createElement(kZ,{width:c.width,height:c.height}),R.createElement(OZ,C_({},t,E,{margin:a,chartWidth:g,chartHeight:x,contextPayload:r})));return E3.createPortal(j,T)}PP.displayName="Legend";function O_(){return O_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O_.apply(null,arguments)}function H6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H6(Object(r),!0).forEach(function(n){PZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PZ(e,t,r){return(t=RZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RZ(e){var t=DZ(e,"string");return typeof t=="symbol"?t:t+""}function DZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LZ(e){return Array.isArray(e)&&Hc(e[0])&&Hc(e[1])?e.join(" ~ "):e}var Lh={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},BZ=e=>{var{separator:t=Lh.separator,contentStyle:r,itemStyle:n,labelStyle:a=Lh.labelStyle,payload:i,formatter:o,itemSorter:u,wrapperClassName:d,labelClassName:c,label:h,labelFormatter:g,accessibilityLayer:x=Lh.accessibilityLayer}=e,y=()=>{if(i&&i.length){var Z={padding:0,margin:0},X=(u?e2(i,u):i).map(($,Q)=>{if($.type==="none")return null;var q=$.formatter||o||LZ,{value:se,name:H}=$,G=se,ue=H;if(q){var J=q(se,H,$,Q,i);if(Array.isArray(J))[G,ue]=J;else if(J!=null)G=J;else return null}var ae=N1(N1({},Lh.itemStyle),{},{color:$.color||Lh.itemStyle.color},n);return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Q),style:ae},Hc(ue)?R.createElement("span",{className:"recharts-tooltip-item-name"},ue):null,Hc(ue)?R.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,R.createElement("span",{className:"recharts-tooltip-item-value"},G),R.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:Z},X)}return null},E=N1(N1({},Lh.contentStyle),r),N=N1({margin:0},a),T=!os(h),j=T?h:"",D=On("recharts-default-tooltip",d),F=On("recharts-tooltip-label",c);T&&g&&i!==void 0&&i!==null&&(j=g(h,i));var U=x?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",O_({className:D,style:E},U),R.createElement("p",{className:F,style:N},R.isValidElement(j)?j:"".concat(j)),y())},C1="recharts-tooltip-wrapper",FZ={visibility:"hidden"};function UZ(e){var{coordinate:t,translateX:r,translateY:n}=e;return On(C1,{["".concat(C1,"-right")]:Yt(r)&&t&&Yt(t.x)&&r>=t.x,["".concat(C1,"-left")]:Yt(r)&&t&&Yt(t.x)&&r<t.x,["".concat(C1,"-bottom")]:Yt(n)&&t&&Yt(t.y)&&n>=t.y,["".concat(C1,"-top")]:Yt(n)&&t&&Yt(t.y)&&n<t.y})}function G6(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:a,position:i,reverseDirection:o,tooltipDimension:u,viewBox:d,viewBoxDimension:c}=e;if(i&&Yt(i[n]))return i[n];var h=r[n]-u-(a>0?a:0),g=r[n]+a;if(t[n])return o[n]?h:g;var x=d[n];if(x==null)return 0;if(o[n]){var y=h,E=x;return y<E?Math.max(g,x):Math.max(h,x)}if(c==null)return 0;var N=g+u,T=x+c;return N>T?Math.max(h,x):Math.max(g,x)}function zZ(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function qZ(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:a,position:i,reverseDirection:o,tooltipBox:u,useTranslate3d:d,viewBox:c}=e,h,g,x;return u.height>0&&u.width>0&&r?(g=G6({allowEscapeViewBox:t,coordinate:r,key:"x",offset:a,position:i,reverseDirection:o,tooltipDimension:u.width,viewBox:c,viewBoxDimension:c.width}),x=G6({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:i,reverseDirection:o,tooltipDimension:u.height,viewBox:c,viewBoxDimension:c.height}),h=zZ({translateX:g,translateY:x,useTranslate3d:d})):h=FZ,{cssProperties:h,cssClasses:UZ({translateX:g,translateY:x,coordinate:r})}}function $6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$6(Object(r),!0).forEach(function(n){T_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T_(e,t,r){return(t=HZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HZ(e){var t=GZ(e,"string");return typeof t=="symbol"?t:t+""}function GZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $Z extends R.PureComponent{constructor(){super(...arguments),T_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),T_(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:u,isAnimationActive:d,offset:c,position:h,reverseDirection:g,useTranslate3d:x,viewBox:y,wrapperStyle:E,lastBoundingBox:N,innerRef:T,hasPortalFromProps:j}=this.props,D=typeof c=="number"?c:c.x,F=typeof c=="number"?c:c.y,{cssClasses:U,cssProperties:Z}=qZ({allowEscapeViewBox:r,coordinate:o,offsetLeft:D,offsetTop:F,position:h,reverseDirection:g,tooltipBox:{height:N.height,width:N.width},useTranslate3d:x,viewBox:y}),X=j?{}:dg(dg({transition:d&&t?"transform ".concat(n,"ms ").concat(a):void 0},Z),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),$=dg(dg({},X),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},E);return R.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:U,style:$,ref:T},i)}}var RP=()=>{var e;return(e=Jt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j_.apply(null,arguments)}function W6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function V6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W6(Object(r),!0).forEach(function(n){WZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WZ(e,t,r){return(t=VZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VZ(e){var t=YZ(e,"string");return typeof t=="symbol"?t:t+""}function YZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y6={curveBasisClosed:CV,curveBasisOpen:OV,curveBasis:NV,curveBumpX:dV,curveBumpY:hV,curveLinearClosed:TV,curveLinear:Qb,curveMonotoneX:jV,curveMonotoneY:kV,curveNatural:IV,curveStep:MV,curveStepAfter:RV,curveStepBefore:PV},ab=e=>ln(e.x)&&ln(e.y),X6=e=>e.base!=null&&ab(e.base)&&ab(e),O1=e=>e.x,T1=e=>e.y,XZ=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Pp(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=Y6["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return Y6[r]||Qb},K6={connectNulls:!1,type:"linear"},KZ=e=>{var{type:t=K6.type,points:r=[],baseLine:n,layout:a,connectNulls:i=K6.connectNulls}=e,o=XZ(t,a),u=i?r.filter(ab):r;if(Array.isArray(n)){var d,c=r.map((E,N)=>V6(V6({},E),{},{base:n[N]}));a==="vertical"?d=ag().y(T1).x1(O1).x0(E=>E.base.x):d=ag().x(O1).y1(T1).y0(E=>E.base.y);var h=d.defined(X6).curve(o),g=i?c.filter(X6):c;return h(g)}var x;a==="vertical"&&Yt(n)?x=ag().y(T1).x1(O1).x0(n):Yt(n)?x=ag().x(O1).y1(T1).y0(n):x=l7().x(O1).y(T1);var y=x.defined(ab).curve(o);return y(u)},oS=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=k0();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},u=r&&r.length?KZ(o):n;return R.createElement("path",j_({},nc(e),iY(e),{className:On("recharts-curve",t),d:u===null?void 0:u,ref:a}))},ZZ=["x","y","top","left","width","height","className"];function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k_.apply(null,arguments)}function Z6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z6(Object(r),!0).forEach(function(n){JZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JZ(e,t,r){return(t=eQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eQ(e){var t=tQ(e,"string");return typeof t=="symbol"?t:t+""}function tQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rQ(e,t){if(e==null)return{};var r,n,a=nQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aQ=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),iQ=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:u}=e,d=rQ(e,ZZ),c=QZ({x:t,y:r,top:n,left:a,width:i,height:o},d);return!Yt(t)||!Yt(r)||!Yt(i)||!Yt(o)||!Yt(n)||!Yt(a)?null:R.createElement("path",k_({},Al(c),{className:On("recharts-cross",u),d:aQ(t,r,i,o,n,a)}))};function sQ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Q6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q6(Object(r),!0).forEach(function(n){oQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oQ(e,t,r){return(t=lQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lQ(e){var t=cQ(e,"string");return typeof t=="symbol"?t:t+""}function cQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uQ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),DP=(e,t,r)=>e.map(n=>"".concat(uQ(n)," ").concat(t,"ms ").concat(r)).join(","),fQ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),xp=(e,t)=>Object.keys(t).reduce((r,n)=>J6(J6({},r),{},{[n]:e(n,t[n])}),{});function e8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e8(Object(r),!0).forEach(function(n){dQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dQ(e,t,r){return(t=hQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hQ(e){var t=pQ(e,"string");return typeof t=="symbol"?t:t+""}function pQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ib=(e,t,r)=>e+(t-e)*r,I_=e=>{var{from:t,to:r}=e;return t!==r},LP=(e,t,r)=>{var n=xp((a,i)=>{if(I_(i)){var[o,u]=e(i.from,i.to,i.velocity);return Fi(Fi({},i),{},{from:o,velocity:u})}return i},t);return r<1?xp((a,i)=>I_(i)&&n[a]!=null?Fi(Fi({},i),{},{velocity:ib(i.velocity,n[a].velocity,r),from:ib(i.from,n[a].from,r)}):i,t):LP(e,n,r-1)};function mQ(e,t,r,n,a,i){var o,u=n.reduce((x,y)=>Fi(Fi({},x),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),d=()=>xp((x,y)=>y.from,u),c=()=>!Object.values(u).filter(I_).length,h=null,g=x=>{o||(o=x);var y=x-o,E=y/r.dt;u=LP(r,u,E),a(Fi(Fi(Fi({},e),t),d())),o=x,c()||(h=i.setTimeout(g))};return()=>(h=i.setTimeout(g),()=>{var x;(x=h)===null||x===void 0||x()})}function gQ(e,t,r,n,a,i,o){var u=null,d=a.reduce((g,x)=>{var y=e[x],E=t[x];return y==null||E==null?g:Fi(Fi({},g),{},{[x]:[y,E]})},{}),c,h=g=>{c||(c=g);var x=(g-c)/n,y=xp((N,T)=>ib(...T,r(x)),d);if(i(Fi(Fi(Fi({},e),t),y)),x<1)u=o.setTimeout(h);else{var E=xp((N,T)=>ib(...T,r(1)),d);i(Fi(Fi(Fi({},e),t),E))}};return()=>(u=o.setTimeout(h),()=>{var g;(g=u)===null||g===void 0||g()})}const vQ=(e,t,r,n,a,i)=>{var o=fQ(e,t);return r==null?()=>(a(Fi(Fi({},e),t)),()=>{}):r.isStepper===!0?mQ(e,t,r,o,a,i):gQ(e,t,r,n,o,a,i)};var sb=1e-4,BP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],FP=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),t8=(e,t)=>r=>{var n=BP(e,t);return FP(n,r)},bQ=(e,t)=>r=>{var n=BP(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return FP(a,r)},yQ=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},xQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=yQ(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},wQ=(e,t,r,n)=>{var a=t8(e,r),i=t8(t,n),o=bQ(e,r),u=c=>c>1?1:c<0?0:c,d=c=>{for(var h=c>1?1:c,g=h,x=0;x<8;++x){var y=a(g)-h,E=o(g);if(Math.abs(y-h)<sb||E<sb)return i(g);g=u(g-y/E)}return i(g)};return d.isStepper=!1,d},r8=function(){return wQ(...xQ(...arguments))},_Q=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,u,d)=>{var c=-(o-u)*r,h=d*n,g=d+(c-h)*a/1e3,x=d*a/1e3+o;return Math.abs(x-u)<sb&&Math.abs(g)<sb?[u,0]:[x,g]};return i.isStepper=!0,i.dt=a,i},SQ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return r8(e);case"spring":return _Q();default:if(e.split("(")[0]==="cubic-bezier")return r8(e)}return typeof e=="function"?e:null};function AQ(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var u=o,[d,...c]=u;if(typeof d=="number"){a=e.setTimeout(i.bind(null,c),d);return}i(d),a=e.setTimeout(i.bind(null,c));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class EQ{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function NQ(){return AQ(new EQ)}var CQ=R.createContext(NQ);function OQ(e,t){var r=R.useContext(CQ);return R.useMemo(()=>t??r(e),[e,t,r])}var TQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),y2={isSsr:TQ()},jQ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},n8={t:0},Mw={t:1};function x2(e){var t=ls(e,jQ),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:u,onAnimationStart:d,children:c}=t,h=r==="auto"?!y2.isSsr:r,g=OQ(t.animationId,t.animationManager),[x,y]=R.useState(h?n8:Mw),E=R.useRef(null);return R.useEffect(()=>{h||y(Mw)},[h]),R.useEffect(()=>{if(!h||!n)return j0;var N=vQ(n8,Mw,SQ(i),a,y,g.getTimeoutController()),T=()=>{E.current=N()};return g.start([d,o,T,a,u]),()=>{g.stop(),E.current&&E.current(),u()}},[h,n,a,i,o,d,u,g]),c(x.t)}function w2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=R.useRef(hp(t)),n=R.useRef(e);return n.current!==e&&(r.current=hp(t),n.current=e),r.current}var kQ=["radius"],IQ=["radius"],a8,i8,s8,o8,l8,c8,u8,f8,d8,h8;function p8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p8(Object(r),!0).forEach(function(n){MQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MQ(e,t,r){return(t=PQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PQ(e){var t=RQ(e,"string");return typeof t=="symbol"?t:t+""}function RQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ob.apply(null,arguments)}function g8(e,t){if(e==null)return{};var r,n,a=DQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function DQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var v8=(e,t,r,n,a)=>{var i=Of(r),o=Of(n),u=Math.min(Math.abs(i)/2,Math.abs(o)/2),d=o>=0?1:-1,c=i>=0?1:-1,h=o>=0&&i>=0||o<0&&i<0?1:0,g;if(u>0&&Array.isArray(a)){for(var x=[0,0,0,0],y=0,E=4;y<E;y++){var N,T=(N=a[y])!==null&&N!==void 0?N:0;x[y]=T>u?u:T}g=Za(a8||(a8=Cc(["M",",",""])),e,t+d*x[0]),x[0]>0&&(g+=Za(i8||(i8=Cc(["A ",",",",0,0,",",",",",""])),x[0],x[0],h,e+c*x[0],t)),g+=Za(s8||(s8=Cc(["L ",",",""])),e+r-c*x[1],t),x[1]>0&&(g+=Za(o8||(o8=Cc(["A ",",",",0,0,",`,
        `,",",""])),x[1],x[1],h,e+r,t+d*x[1])),g+=Za(l8||(l8=Cc(["L ",",",""])),e+r,t+n-d*x[2]),x[2]>0&&(g+=Za(c8||(c8=Cc(["A ",",",",0,0,",`,
        `,",",""])),x[2],x[2],h,e+r-c*x[2],t+n)),g+=Za(u8||(u8=Cc(["L ",",",""])),e+c*x[3],t+n),x[3]>0&&(g+=Za(f8||(f8=Cc(["A ",",",",0,0,",`,
        `,",",""])),x[3],x[3],h,e,t+n-d*x[3])),g+="Z"}else if(u>0&&a===+a&&a>0){var j=Math.min(u,a);g=Za(d8||(d8=Cc(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+d*j,j,j,h,e+c*j,t,e+r-c*j,t,j,j,h,e+r,t+d*j,e+r,t+n-d*j,j,j,h,e+r-c*j,t+n,e+c*j,t+n,j,j,h,e,t+n-d*j)}else g=Za(h8||(h8=Cc(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return g},b8={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},UP=e=>{var t=ls(e,b8),r=R.useRef(null),[n,a]=R.useState(-1);R.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var he=r.current.getTotalLength();he&&a(he)}catch{}},[]);var{x:i,y:o,width:u,height:d,radius:c,className:h}=t,{animationEasing:g,animationDuration:x,animationBegin:y,isAnimationActive:E,isUpdateAnimationActive:N}=t,T=R.useRef(u),j=R.useRef(d),D=R.useRef(i),F=R.useRef(o),U=R.useMemo(()=>({x:i,y:o,width:u,height:d,radius:c}),[i,o,u,d,c]),Z=w2(U,"rectangle-");if(i!==+i||o!==+o||u!==+u||d!==+d||u===0||d===0)return null;var X=On("recharts-rectangle",h);if(!N){var $=Al(t),{radius:Q}=$,q=g8($,kQ);return R.createElement("path",ob({},q,{x:Of(i),y:Of(o),width:Of(u),height:Of(d),radius:typeof c=="number"?c:void 0,className:X,d:v8(i,o,u,d,c)}))}var se=T.current,H=j.current,G=D.current,ue=F.current,J="0px ".concat(n===-1?1:n,"px"),ae="".concat(n,"px 0px"),re=DP(["strokeDasharray"],x,typeof g=="string"?g:b8.animationEasing);return R.createElement(x2,{animationId:Z,key:Z,canBegin:n>0,duration:x,easing:g,isActive:N,begin:y},he=>{var Se=Bi(se,u,he),pe=Bi(H,d,he),be=Bi(G,i,he),oe=Bi(ue,o,he);r.current&&(T.current=Se,j.current=pe,D.current=be,F.current=oe);var Y;E?he>0?Y={transition:re,strokeDasharray:ae}:Y={strokeDasharray:J}:Y={strokeDasharray:ae};var le=Al(t),{radius:me}=le,Ce=g8(le,IQ);return R.createElement("path",ob({},Ce,{radius:typeof c=="number"?c:void 0,className:X,d:v8(be,oe,Se,pe,c),ref:r,style:m8(m8({},Y),t.style)}))})};function y8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y8(Object(r),!0).forEach(function(n){LQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LQ(e,t,r){return(t=BQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BQ(e){var t=FQ(e,"string");return typeof t=="symbol"?t:t+""}function FQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lb=Math.PI/180,UQ=e=>e*180/Math.PI,Si=(e,t,r,n)=>({x:e+Math.cos(-lb*n)*r,y:t+Math.sin(-lb*n)*r}),zP=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},zQ=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},qQ=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=zQ({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var u=(r-a)/o,d=Math.acos(u);return n>i&&(d=2*Math.PI-d),{radius:o,angle:UQ(d),angleInRadian:d}},HQ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},GQ=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},$Q=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=qQ({x:r,y:n},t),{innerRadius:o,outerRadius:u}=t;if(a<o||a>u||a===0)return null;var{startAngle:d,endAngle:c}=HQ(t),h=i,g;if(d<=c){for(;h>c;)h-=360;for(;h<d;)h+=360;g=h>=d&&h<=c}else{for(;h>d;)h-=360;for(;h<c;)h+=360;g=h>=c&&h<=d}return g?x8(x8({},t),{},{radius:a,angle:GQ(h,t)}):null};function qP(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=Si(t,r,n,a),u=Si(t,r,n,i);return{points:[o,u],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var w8,_8,S8,A8,E8,N8,C8;function M_(){return M_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M_.apply(null,arguments)}function Sd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var WQ=(e,t)=>{var r=ss(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},hg=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:u,cornerIsExternal:d}=e,c=u*(o?1:-1)+n,h=Math.asin(u/c)/lb,g=d?a:a+i*h,x=Si(t,r,c,g),y=Si(t,r,n,g),E=d?a-i*h:a,N=Si(t,r,c*Math.cos(h*lb),E);return{center:x,circleTangency:y,lineTangency:N,theta:h}},HP=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,u=WQ(i,o),d=i+u,c=Si(t,r,a,i),h=Si(t,r,a,d),g=Za(w8||(w8=Sd(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,a,a,+(Math.abs(u)>180),+(i>d),h.x,h.y);if(n>0){var x=Si(t,r,n,i),y=Si(t,r,n,d);g+=Za(_8||(_8=Sd(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),y.x,y.y,n,n,+(Math.abs(u)>180),+(i<=d),x.x,x.y)}else g+=Za(S8||(S8=Sd(["L ",","," Z"])),t,r);return g},VQ=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:u,startAngle:d,endAngle:c}=e,h=ss(c-d),{circleTangency:g,lineTangency:x,theta:y}=hg({cx:t,cy:r,radius:a,angle:d,sign:h,cornerRadius:i,cornerIsExternal:u}),{circleTangency:E,lineTangency:N,theta:T}=hg({cx:t,cy:r,radius:a,angle:c,sign:-h,cornerRadius:i,cornerIsExternal:u}),j=u?Math.abs(d-c):Math.abs(d-c)-y-T;if(j<0)return o?Za(A8||(A8=Sd(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),x.x,x.y,i,i,i*2,i,i,-i*2):HP({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:d,endAngle:c});var D=Za(E8||(E8=Sd(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),x.x,x.y,i,i,+(h<0),g.x,g.y,a,a,+(j>180),+(h<0),E.x,E.y,i,i,+(h<0),N.x,N.y);if(n>0){var{circleTangency:F,lineTangency:U,theta:Z}=hg({cx:t,cy:r,radius:n,angle:d,sign:h,isExternal:!0,cornerRadius:i,cornerIsExternal:u}),{circleTangency:X,lineTangency:$,theta:Q}=hg({cx:t,cy:r,radius:n,angle:c,sign:-h,isExternal:!0,cornerRadius:i,cornerIsExternal:u}),q=u?Math.abs(d-c):Math.abs(d-c)-Z-Q;if(q<0&&i===0)return"".concat(D,"L").concat(t,",").concat(r,"Z");D+=Za(N8||(N8=Sd(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),$.x,$.y,i,i,+(h<0),X.x,X.y,n,n,+(q>180),+(h>0),F.x,F.y,i,i,+(h<0),U.x,U.y)}else D+=Za(C8||(C8=Sd(["L",",","Z"])),t,r);return D},YQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},GP=e=>{var t=ls(e,YQ),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:d,startAngle:c,endAngle:h,className:g}=t;if(i<a||c===h)return null;var x=On("recharts-sector",g),y=i-a,E=Fs(o,y,0,!0),N;return E>0&&Math.abs(c-h)<360?N=VQ({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(E,y/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:c,endAngle:h}):N=HP({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:h}),R.createElement("path",M_({},Al(t),{className:x,d:N}))};function XQ(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(_7(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:o,angle:u}=t,d=Si(n,a,i,u),c=Si(n,a,o,u);return[{x:d.x,y:d.y},{x:c.x,y:c.y}]}return qP(t)}}var Pw={},Rw={},Dw={},O8;function KQ(){return O8||(O8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M7();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Dw)),Dw}var T8;function ZQ(){return T8||(T8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KQ();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Rw)),Rw}var j8;function QQ(){return j8||(j8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P7(),r=ZQ();function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const u=Math.max(Math.ceil((i-a)/(o||1)),0),d=new Array(u);for(let c=0;c<u;c++)d[c]=a,a+=o;return d}e.range=n})(Pw)),Pw}var Lw,k8;function JQ(){return k8||(k8=1,Lw=QQ().range),Lw}var eJ=JQ();const $P=Wc(eJ);function jf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tJ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lS(e){let t,r,n;e.length!==2?(t=jf,r=(u,d)=>jf(e(u),d),n=(u,d)=>e(u)-d):(t=e===jf||e===tJ?e:rJ,r=e,n=e);function a(u,d,c=0,h=u.length){if(c<h){if(t(d,d)!==0)return h;do{const g=c+h>>>1;r(u[g],d)<0?c=g+1:h=g}while(c<h)}return c}function i(u,d,c=0,h=u.length){if(c<h){if(t(d,d)!==0)return h;do{const g=c+h>>>1;r(u[g],d)<=0?c=g+1:h=g}while(c<h)}return c}function o(u,d,c=0,h=u.length){const g=a(u,d,c,h-1);return g>c&&n(u[g-1],d)>-n(u[g],d)?g-1:g}return{left:a,center:o,right:i}}function rJ(){return 0}function WP(e){return e===null?NaN:+e}function*nJ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const aJ=lS(jf),zp=aJ.right;lS(WP).center;class I8 extends Map{constructor(t,r=oJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(M8(this,t))}has(t){return super.has(M8(this,t))}set(t,r){return super.set(iJ(this,t),r)}delete(t){return super.delete(sJ(this,t))}}function M8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function iJ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function sJ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function oJ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function lJ(e=jf){if(e===jf)return VP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function VP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const cJ=Math.sqrt(50),uJ=Math.sqrt(10),fJ=Math.sqrt(2);function cb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=cJ?10:i>=uJ?5:i>=fJ?2:1;let u,d,c;return a<0?(c=Math.pow(10,-a)/o,u=Math.round(e*c),d=Math.round(t*c),u/c<e&&++u,d/c>t&&--d,c=-c):(c=Math.pow(10,a)*o,u=Math.round(e/c),d=Math.round(t/c),u*c<e&&++u,d*c>t&&--d),d<u&&.5<=r&&r<2?cb(e,t,r*2):[u,d,c]}function P_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?cb(t,e,r):cb(e,t,r);if(!(i>=a))return[];const u=i-a+1,d=new Array(u);if(n)if(o<0)for(let c=0;c<u;++c)d[c]=(i-c)/-o;else for(let c=0;c<u;++c)d[c]=(i-c)*o;else if(o<0)for(let c=0;c<u;++c)d[c]=(a+c)/-o;else for(let c=0;c<u;++c)d[c]=(a+c)*o;return d}function R_(e,t,r){return t=+t,e=+e,r=+r,cb(e,t,r)[2]}function D_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?R_(t,e,r):R_(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function P8(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function R8(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function YP(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?VP:lJ(a);n>r;){if(n-r>600){const d=n-r+1,c=t-r+1,h=Math.log(d),g=.5*Math.exp(2*h/3),x=.5*Math.sqrt(h*g*(d-g)/d)*(c-d/2<0?-1:1),y=Math.max(r,Math.floor(t-c*g/d+x)),E=Math.min(n,Math.floor(t+(d-c)*g/d+x));YP(e,t,y,E,a)}const i=e[t];let o=r,u=n;for(j1(e,r,t),a(e[n],i)>0&&j1(e,r,n);o<u;){for(j1(e,o,u),++o,--u;a(e[o],i)<0;)++o;for(;a(e[u],i)>0;)--u}a(e[r],i)===0?j1(e,r,u):(++u,j1(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function j1(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function dJ(e,t,r){if(e=Float64Array.from(nJ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return R8(e);if(t>=1)return P8(e);var n,a=(n-1)*t,i=Math.floor(a),o=P8(YP(e,i).subarray(0,i+1)),u=R8(e.subarray(i+1));return o+(u-o)*(a-i)}}function hJ(e,t,r=WP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),u=+r(e[i+1],i+1,e);return o+(u-o)*(a-i)}}function pJ(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Tl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Uu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const L_=Symbol("implicit");function cS(){var e=new I8,t=[],r=[],n=L_;function a(i){let o=e.get(i);if(o===void 0){if(n!==L_)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new I8;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return cS(t,r).unknown(n)},Tl.apply(a,arguments),a}function uS(){var e=cS().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,u=!1,d=0,c=0,h=.5;delete e.unknown;function g(){var x=t().length,y=a<n,E=y?a:n,N=y?n:a;i=(N-E)/Math.max(1,x-d+c*2),u&&(i=Math.floor(i)),E+=(N-E-i*(x-d))*h,o=i*(1-d),u&&(E=Math.round(E),o=Math.round(o));var T=pJ(x).map(function(j){return E+i*j});return r(y?T.reverse():T)}return e.domain=function(x){return arguments.length?(t(x),g()):t()},e.range=function(x){return arguments.length?([n,a]=x,n=+n,a=+a,g()):[n,a]},e.rangeRound=function(x){return[n,a]=x,n=+n,a=+a,u=!0,g()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(x){return arguments.length?(u=!!x,g()):u},e.padding=function(x){return arguments.length?(d=Math.min(1,c=+x),g()):d},e.paddingInner=function(x){return arguments.length?(d=Math.min(1,x),g()):d},e.paddingOuter=function(x){return arguments.length?(c=+x,g()):c},e.align=function(x){return arguments.length?(h=Math.max(0,Math.min(1,x)),g()):h},e.copy=function(){return uS(t(),[n,a]).round(u).paddingInner(d).paddingOuter(c).align(h)},Tl.apply(g(),arguments)}function XP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return XP(t())},e}function mJ(){return XP(uS.apply(null,arguments).paddingInner(1))}function fS(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function KP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function qp(){}var wp=.7,ub=1/wp,o0="\\s*([+-]?\\d+)\\s*",_p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Uc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gJ=/^#([0-9a-f]{3,8})$/,vJ=new RegExp(`^rgb\\(${o0},${o0},${o0}\\)$`),bJ=new RegExp(`^rgb\\(${Uc},${Uc},${Uc}\\)$`),yJ=new RegExp(`^rgba\\(${o0},${o0},${o0},${_p}\\)$`),xJ=new RegExp(`^rgba\\(${Uc},${Uc},${Uc},${_p}\\)$`),wJ=new RegExp(`^hsl\\(${_p},${Uc},${Uc}\\)$`),_J=new RegExp(`^hsla\\(${_p},${Uc},${Uc},${_p}\\)$`),D8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fS(qp,Sp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:L8,formatHex:L8,formatHex8:SJ,formatHsl:AJ,formatRgb:B8,toString:B8});function L8(){return this.rgb().formatHex()}function SJ(){return this.rgb().formatHex8()}function AJ(){return ZP(this).formatHsl()}function B8(){return this.rgb().formatRgb()}function Sp(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=gJ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?F8(t):r===3?new To(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?pg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?pg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=vJ.exec(e))?new To(t[1],t[2],t[3],1):(t=bJ.exec(e))?new To(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=yJ.exec(e))?pg(t[1],t[2],t[3],t[4]):(t=xJ.exec(e))?pg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=wJ.exec(e))?q8(t[1],t[2]/100,t[3]/100,1):(t=_J.exec(e))?q8(t[1],t[2]/100,t[3]/100,t[4]):D8.hasOwnProperty(e)?F8(D8[e]):e==="transparent"?new To(NaN,NaN,NaN,0):null}function F8(e){return new To(e>>16&255,e>>8&255,e&255,1)}function pg(e,t,r,n){return n<=0&&(e=t=r=NaN),new To(e,t,r,n)}function EJ(e){return e instanceof qp||(e=Sp(e)),e?(e=e.rgb(),new To(e.r,e.g,e.b,e.opacity)):new To}function B_(e,t,r,n){return arguments.length===1?EJ(e):new To(e,t,r,n??1)}function To(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}fS(To,B_,KP(qp,{brighter(e){return e=e==null?ub:Math.pow(ub,e),new To(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wp:Math.pow(wp,e),new To(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new To(Td(this.r),Td(this.g),Td(this.b),fb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:U8,formatHex:U8,formatHex8:NJ,formatRgb:z8,toString:z8}));function U8(){return`#${Ad(this.r)}${Ad(this.g)}${Ad(this.b)}`}function NJ(){return`#${Ad(this.r)}${Ad(this.g)}${Ad(this.b)}${Ad((isNaN(this.opacity)?1:this.opacity)*255)}`}function z8(){const e=fb(this.opacity);return`${e===1?"rgb(":"rgba("}${Td(this.r)}, ${Td(this.g)}, ${Td(this.b)}${e===1?")":`, ${e})`}`}function fb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Td(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ad(e){return e=Td(e),(e<16?"0":"")+e.toString(16)}function q8(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ec(e,t,r,n)}function ZP(e){if(e instanceof ec)return new ec(e.h,e.s,e.l,e.opacity);if(e instanceof qp||(e=Sp(e)),!e)return new ec;if(e instanceof ec)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,u=i-a,d=(i+a)/2;return u?(t===i?o=(r-n)/u+(r<n)*6:r===i?o=(n-t)/u+2:o=(t-r)/u+4,u/=d<.5?i+a:2-i-a,o*=60):u=d>0&&d<1?0:o,new ec(o,u,d,e.opacity)}function CJ(e,t,r,n){return arguments.length===1?ZP(e):new ec(e,t,r,n??1)}function ec(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}fS(ec,CJ,KP(qp,{brighter(e){return e=e==null?ub:Math.pow(ub,e),new ec(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wp:Math.pow(wp,e),new ec(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new To(Bw(e>=240?e-240:e+120,a,n),Bw(e,a,n),Bw(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ec(H8(this.h),mg(this.s),mg(this.l),fb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fb(this.opacity);return`${e===1?"hsl(":"hsla("}${H8(this.h)}, ${mg(this.s)*100}%, ${mg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function H8(e){return e=(e||0)%360,e<0?e+360:e}function mg(e){return Math.max(0,Math.min(1,e||0))}function Bw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const dS=e=>()=>e;function OJ(e,t){return function(r){return e+r*t}}function TJ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function jJ(e){return(e=+e)==1?QP:function(t,r){return r-t?TJ(t,r,e):dS(isNaN(t)?r:t)}}function QP(e,t){var r=t-e;return r?OJ(e,r):dS(isNaN(e)?t:e)}const G8=(function e(t){var r=jJ(t);function n(a,i){var o=r((a=B_(a)).r,(i=B_(i)).r),u=r(a.g,i.g),d=r(a.b,i.b),c=QP(a.opacity,i.opacity);return function(h){return a.r=o(h),a.g=u(h),a.b=d(h),a.opacity=c(h),a+""}}return n.gamma=e,n})(1);function kJ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function IJ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function MJ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=I0(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(u){for(o=0;o<n;++o)i[o]=a[o](u);return i}}function PJ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function db(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function RJ(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=I0(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var F_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fw=new RegExp(F_.source,"g");function DJ(e){return function(){return e}}function LJ(e){return function(t){return e(t)+""}}function BJ(e,t){var r=F_.lastIndex=Fw.lastIndex=0,n,a,i,o=-1,u=[],d=[];for(e=e+"",t=t+"";(n=F_.exec(e))&&(a=Fw.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),u[o]?u[o]+=i:u[++o]=i),(n=n[0])===(a=a[0])?u[o]?u[o]+=a:u[++o]=a:(u[++o]=null,d.push({i:o,x:db(n,a)})),r=Fw.lastIndex;return r<t.length&&(i=t.slice(r),u[o]?u[o]+=i:u[++o]=i),u.length<2?d[0]?LJ(d[0].x):DJ(t):(t=d.length,function(c){for(var h=0,g;h<t;++h)u[(g=d[h]).i]=g.x(c);return u.join("")})}function I0(e,t){var r=typeof t,n;return t==null||r==="boolean"?dS(t):(r==="number"?db:r==="string"?(n=Sp(t))?(t=n,G8):BJ:t instanceof Sp?G8:t instanceof Date?PJ:IJ(t)?kJ:Array.isArray(t)?MJ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?RJ:db)(e,t)}function hS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function FJ(e,t){t===void 0&&(t=e,e=I0);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var u=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[u](o-u)}}function UJ(e){return function(){return e}}function hb(e){return+e}var $8=[0,1];function eo(e){return e}function U_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:UJ(isNaN(t)?NaN:.5)}function zJ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function qJ(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=U_(a,n),i=r(o,i)):(n=U_(n,a),i=r(i,o)),function(u){return i(n(u))}}function HJ(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=U_(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(u){var d=zp(e,u,1,n)-1;return i[d](a[d](u))}}function Hp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function _2(){var e=$8,t=$8,r=I0,n,a,i,o=eo,u,d,c;function h(){var x=Math.min(e.length,t.length);return o!==eo&&(o=zJ(e[0],e[x-1])),u=x>2?HJ:qJ,d=c=null,g}function g(x){return x==null||isNaN(x=+x)?i:(d||(d=u(e.map(n),t,r)))(n(o(x)))}return g.invert=function(x){return o(a((c||(c=u(t,e.map(n),db)))(x)))},g.domain=function(x){return arguments.length?(e=Array.from(x,hb),h()):e.slice()},g.range=function(x){return arguments.length?(t=Array.from(x),h()):t.slice()},g.rangeRound=function(x){return t=Array.from(x),r=hS,h()},g.clamp=function(x){return arguments.length?(o=x?!0:eo,h()):o!==eo},g.interpolate=function(x){return arguments.length?(r=x,h()):r},g.unknown=function(x){return arguments.length?(i=x,g):i},function(x,y){return n=x,a=y,h()}}function pS(){return _2()(eo,eo)}function GJ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function pb(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function b0(e){return e=pb(Math.abs(e)),e?e[1]:NaN}function $J(e,t){return function(r,n){for(var a=r.length,i=[],o=0,u=e[0],d=0;a>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),i.push(r.substring(a-=u,a+u)),!((d+=u+1)>n));)u=e[o=(o+1)%e.length];return i.reverse().join(t)}}function WJ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var VJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ap(e){if(!(t=VJ.exec(e)))throw new Error("invalid format: "+e);var t;return new mS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ap.prototype=mS.prototype;function mS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}mS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function YJ(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var mb;function XJ(e,t){var r=pb(e,t);if(!r)return mb=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(mb=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+pb(e,Math.max(0,t+i-1))[0]}function W8(e,t){var r=pb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const V8={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:GJ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>W8(e*100,t),r:W8,s:XJ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Y8(e){return e}var X8=Array.prototype.map,K8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function KJ(e){var t=e.grouping===void 0||e.thousands===void 0?Y8:$J(X8.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Y8:WJ(X8.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function c(g,x){g=Ap(g);var y=g.fill,E=g.align,N=g.sign,T=g.symbol,j=g.zero,D=g.width,F=g.comma,U=g.precision,Z=g.trim,X=g.type;X==="n"?(F=!0,X="g"):V8[X]||(U===void 0&&(U=12),Z=!0,X="g"),(j||y==="0"&&E==="=")&&(j=!0,y="0",E="=");var $=(x&&x.prefix!==void 0?x.prefix:"")+(T==="$"?r:T==="#"&&/[boxX]/.test(X)?"0"+X.toLowerCase():""),Q=(T==="$"?n:/[%p]/.test(X)?o:"")+(x&&x.suffix!==void 0?x.suffix:""),q=V8[X],se=/[defgprs%]/.test(X);U=U===void 0?6:/[gprs]/.test(X)?Math.max(1,Math.min(21,U)):Math.max(0,Math.min(20,U));function H(G){var ue=$,J=Q,ae,re,he;if(X==="c")J=q(G)+J,G="";else{G=+G;var Se=G<0||1/G<0;if(G=isNaN(G)?d:q(Math.abs(G),U),Z&&(G=YJ(G)),Se&&+G==0&&N!=="+"&&(Se=!1),ue=(Se?N==="("?N:u:N==="-"||N==="("?"":N)+ue,J=(X==="s"&&!isNaN(G)&&mb!==void 0?K8[8+mb/3]:"")+J+(Se&&N==="("?")":""),se){for(ae=-1,re=G.length;++ae<re;)if(he=G.charCodeAt(ae),48>he||he>57){J=(he===46?a+G.slice(ae+1):G.slice(ae))+J,G=G.slice(0,ae);break}}}F&&!j&&(G=t(G,1/0));var pe=ue.length+G.length+J.length,be=pe<D?new Array(D-pe+1).join(y):"";switch(F&&j&&(G=t(be+G,be.length?D-J.length:1/0),be=""),E){case"<":G=ue+G+J+be;break;case"=":G=ue+be+G+J;break;case"^":G=be.slice(0,pe=be.length>>1)+ue+G+J+be.slice(pe);break;default:G=be+ue+G+J;break}return i(G)}return H.toString=function(){return g+""},H}function h(g,x){var y=Math.max(-8,Math.min(8,Math.floor(b0(x)/3)))*3,E=Math.pow(10,-y),N=c((g=Ap(g),g.type="f",g),{suffix:K8[8+y/3]});return function(T){return N(E*T)}}return{format:c,formatPrefix:h}}var gg,gS,JP;ZJ({thousands:",",grouping:[3],currency:["$",""]});function ZJ(e){return gg=KJ(e),gS=gg.format,JP=gg.formatPrefix,gg}function QJ(e){return Math.max(0,-b0(Math.abs(e)))}function JJ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(b0(t)/3)))*3-b0(Math.abs(e)))}function eee(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,b0(t)-b0(e))+1}function eR(e,t,r,n){var a=D_(e,t,r),i;switch(n=Ap(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=JJ(a,o))&&(n.precision=i),JP(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=eee(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=QJ(a))&&(n.precision=i-(n.type==="%")*2);break}}return gS(n)}function zf(e){var t=e.domain;return e.ticks=function(r){var n=t();return P_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return eR(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],u=n[i],d,c,h=10;for(u<o&&(c=o,o=u,u=c,c=a,a=i,i=c);h-- >0;){if(c=R_(o,u,r),c===d)return n[a]=o,n[i]=u,t(n);if(c>0)o=Math.floor(o/c)*c,u=Math.ceil(u/c)*c;else if(c<0)o=Math.ceil(o*c)/c,u=Math.floor(u*c)/c;else break;d=c}return e},e}function tR(){var e=pS();return e.copy=function(){return Hp(e,tR())},Tl.apply(e,arguments),zf(e)}function rR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,hb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return rR(e).unknown(t)},e=arguments.length?Array.from(e,hb):[0,1],zf(r)}function nR(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function Z8(e){return Math.log(e)}function Q8(e){return Math.exp(e)}function tee(e){return-Math.log(-e)}function ree(e){return-Math.exp(-e)}function nee(e){return isFinite(e)?+("1e"+e):e<0?0:e}function aee(e){return e===10?nee:e===Math.E?Math.exp:t=>Math.pow(e,t)}function iee(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function J8(e){return(t,r)=>-e(-t,r)}function vS(e){const t=e(Z8,Q8),r=t.domain;let n=10,a,i;function o(){return a=iee(n),i=aee(n),r()[0]<0?(a=J8(a),i=J8(i),e(tee,ree)):e(Z8,Q8),t}return t.base=function(u){return arguments.length?(n=+u,o()):n},t.domain=function(u){return arguments.length?(r(u),o()):r()},t.ticks=u=>{const d=r();let c=d[0],h=d[d.length-1];const g=h<c;g&&([c,h]=[h,c]);let x=a(c),y=a(h),E,N;const T=u==null?10:+u;let j=[];if(!(n%1)&&y-x<T){if(x=Math.floor(x),y=Math.ceil(y),c>0){for(;x<=y;++x)for(E=1;E<n;++E)if(N=x<0?E/i(-x):E*i(x),!(N<c)){if(N>h)break;j.push(N)}}else for(;x<=y;++x)for(E=n-1;E>=1;--E)if(N=x>0?E/i(-x):E*i(x),!(N<c)){if(N>h)break;j.push(N)}j.length*2<T&&(j=P_(c,h,T))}else j=P_(x,y,Math.min(y-x,T)).map(i);return g?j.reverse():j},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Ap(d)).precision==null&&(d.trim=!0),d=gS(d)),u===1/0)return d;const c=Math.max(1,n*u/t.ticks().length);return h=>{let g=h/i(Math.round(a(h)));return g*n<n-.5&&(g*=n),g<=c?d(h):""}},t.nice=()=>r(nR(r(),{floor:u=>i(Math.floor(a(u))),ceil:u=>i(Math.ceil(a(u)))})),t}function aR(){const e=vS(_2()).domain([1,10]);return e.copy=()=>Hp(e,aR()).base(e.base()),Tl.apply(e,arguments),e}function eO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function tO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function bS(e){var t=1,r=e(eO(t),tO(t));return r.constant=function(n){return arguments.length?e(eO(t=+n),tO(t)):t},zf(r)}function iR(){var e=bS(_2());return e.copy=function(){return Hp(e,iR()).constant(e.constant())},Tl.apply(e,arguments)}function rO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function see(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function oee(e){return e<0?-e*e:e*e}function yS(e){var t=e(eo,eo),r=1;function n(){return r===1?e(eo,eo):r===.5?e(see,oee):e(rO(r),rO(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},zf(t)}function xS(){var e=yS(_2());return e.copy=function(){return Hp(e,xS()).exponent(e.exponent())},Tl.apply(e,arguments),e}function lee(){return xS.apply(null,arguments).exponent(.5)}function nO(e){return Math.sign(e)*e*e}function cee(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function sR(){var e=pS(),t=[0,1],r=!1,n;function a(i){var o=cee(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(nO(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,hb)).map(nO)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return sR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Tl.apply(a,arguments),zf(a)}function oR(){var e=[],t=[],r=[],n;function a(){var o=0,u=Math.max(1,t.length);for(r=new Array(u-1);++o<u;)r[o-1]=hJ(e,o/u);return i}function i(o){return o==null||isNaN(o=+o)?n:t[zp(r,o)]}return i.invertExtent=function(o){var u=t.indexOf(o);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let u of o)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(jf),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return oR().domain(e).range(t).unknown(n)},Tl.apply(i,arguments)}function lR(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(d){return d!=null&&d<=d?a[zp(n,d,0,r)]:i}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},o.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,u()):a.slice()},o.invertExtent=function(d){var c=a.indexOf(d);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return lR().domain([e,t]).range(a).unknown(i)},Tl.apply(zf(o),arguments)}function cR(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[zp(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return cR().domain(e).range(t).unknown(r)},Tl.apply(a,arguments)}const Uw=new Date,zw=new Date;function zi(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),u=a.ceil(i);return i-o<u-i?o:u},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,u)=>{const d=[];if(i=a.ceil(i),u=u==null?1:Math.floor(u),!(i<o)||!(u>0))return d;let c;do d.push(c=new Date(+i)),t(i,u),e(i);while(c<i&&i<o);return d},a.filter=i=>zi(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!i(o););else for(;--u>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Uw.setTime(+i),zw.setTime(+o),e(Uw),e(zw),Math.floor(r(Uw,zw))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const gb=zi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);gb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?zi(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):gb);gb.range;const _u=1e3,wl=_u*60,Su=wl*60,ju=Su*24,wS=ju*7,aO=ju*30,qw=ju*365,Ed=zi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*_u)},(e,t)=>(t-e)/_u,e=>e.getUTCSeconds());Ed.range;const _S=zi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_u)},(e,t)=>{e.setTime(+e+t*wl)},(e,t)=>(t-e)/wl,e=>e.getMinutes());_S.range;const SS=zi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*wl)},(e,t)=>(t-e)/wl,e=>e.getUTCMinutes());SS.range;const AS=zi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_u-e.getMinutes()*wl)},(e,t)=>{e.setTime(+e+t*Su)},(e,t)=>(t-e)/Su,e=>e.getHours());AS.range;const ES=zi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Su)},(e,t)=>(t-e)/Su,e=>e.getUTCHours());ES.range;const Gp=zi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*wl)/ju,e=>e.getDate()-1);Gp.range;const S2=zi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ju,e=>e.getUTCDate()-1);S2.range;const uR=zi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ju,e=>Math.floor(e/ju));uR.range;function Vd(e){return zi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*wl)/wS)}const A2=Vd(0),vb=Vd(1),uee=Vd(2),fee=Vd(3),y0=Vd(4),dee=Vd(5),hee=Vd(6);A2.range;vb.range;uee.range;fee.range;y0.range;dee.range;hee.range;function Yd(e){return zi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/wS)}const E2=Yd(0),bb=Yd(1),pee=Yd(2),mee=Yd(3),x0=Yd(4),gee=Yd(5),vee=Yd(6);E2.range;bb.range;pee.range;mee.range;x0.range;gee.range;vee.range;const NS=zi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());NS.range;const CS=zi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());CS.range;const ku=zi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ku.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ku.range;const Iu=zi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Iu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Iu.range;function fR(e,t,r,n,a,i){const o=[[Ed,1,_u],[Ed,5,5*_u],[Ed,15,15*_u],[Ed,30,30*_u],[i,1,wl],[i,5,5*wl],[i,15,15*wl],[i,30,30*wl],[a,1,Su],[a,3,3*Su],[a,6,6*Su],[a,12,12*Su],[n,1,ju],[n,2,2*ju],[r,1,wS],[t,1,aO],[t,3,3*aO],[e,1,qw]];function u(c,h,g){const x=h<c;x&&([c,h]=[h,c]);const y=g&&typeof g.range=="function"?g:d(c,h,g),E=y?y.range(c,+h+1):[];return x?E.reverse():E}function d(c,h,g){const x=Math.abs(h-c)/g,y=lS(([,,T])=>T).right(o,x);if(y===o.length)return e.every(D_(c/qw,h/qw,g));if(y===0)return gb.every(Math.max(D_(c,h,g),1));const[E,N]=o[x/o[y-1][2]<o[y][2]/x?y-1:y];return E.every(N)}return[u,d]}const[bee,yee]=fR(Iu,CS,E2,uR,ES,SS),[xee,wee]=fR(ku,NS,A2,Gp,AS,_S);function Hw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function k1(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function _ee(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,u=e.months,d=e.shortMonths,c=I1(a),h=M1(a),g=I1(i),x=M1(i),y=I1(o),E=M1(o),N=I1(u),T=M1(u),j=I1(d),D=M1(d),F={a:he,A:Se,b:pe,B:be,c:null,d:uO,e:uO,f:$ee,g:tte,G:nte,H:qee,I:Hee,j:Gee,L:dR,m:Wee,M:Vee,p:oe,q:Y,Q:hO,s:pO,S:Yee,u:Xee,U:Kee,V:Zee,w:Qee,W:Jee,x:null,X:null,y:ete,Y:rte,Z:ate,"%":dO},U={a:le,A:me,b:Ce,B:we,c:null,d:fO,e:fO,f:lte,g:bte,G:xte,H:ite,I:ste,j:ote,L:pR,m:cte,M:ute,p:Me,q:ze,Q:hO,s:pO,S:fte,u:dte,U:hte,V:pte,w:mte,W:gte,x:null,X:null,y:vte,Y:yte,Z:wte,"%":dO},Z={a:se,A:H,b:G,B:ue,c:J,d:lO,e:lO,f:Bee,g:oO,G:sO,H:cO,I:cO,j:Pee,L:Lee,m:Mee,M:Ree,p:q,q:Iee,Q:Uee,s:zee,S:Dee,u:Cee,U:Oee,V:Tee,w:Nee,W:jee,x:ae,X:re,y:oO,Y:sO,Z:kee,"%":Fee};F.x=X(r,F),F.X=X(n,F),F.c=X(t,F),U.x=X(r,U),U.X=X(n,U),U.c=X(t,U);function X(Te,Ge){return function(Je){var qe=[],lt=-1,yt=0,ye=Te.length,wt,Rt,_t;for(Je instanceof Date||(Je=new Date(+Je));++lt<ye;)Te.charCodeAt(lt)===37&&(qe.push(Te.slice(yt,lt)),(Rt=iO[wt=Te.charAt(++lt)])!=null?wt=Te.charAt(++lt):Rt=wt==="e"?" ":"0",(_t=Ge[wt])&&(wt=_t(Je,Rt)),qe.push(wt),yt=lt+1);return qe.push(Te.slice(yt,lt)),qe.join("")}}function $(Te,Ge){return function(Je){var qe=k1(1900,void 0,1),lt=Q(qe,Te,Je+="",0),yt,ye;if(lt!=Je.length)return null;if("Q"in qe)return new Date(qe.Q);if("s"in qe)return new Date(qe.s*1e3+("L"in qe?qe.L:0));if(Ge&&!("Z"in qe)&&(qe.Z=0),"p"in qe&&(qe.H=qe.H%12+qe.p*12),qe.m===void 0&&(qe.m="q"in qe?qe.q:0),"V"in qe){if(qe.V<1||qe.V>53)return null;"w"in qe||(qe.w=1),"Z"in qe?(yt=Gw(k1(qe.y,0,1)),ye=yt.getUTCDay(),yt=ye>4||ye===0?bb.ceil(yt):bb(yt),yt=S2.offset(yt,(qe.V-1)*7),qe.y=yt.getUTCFullYear(),qe.m=yt.getUTCMonth(),qe.d=yt.getUTCDate()+(qe.w+6)%7):(yt=Hw(k1(qe.y,0,1)),ye=yt.getDay(),yt=ye>4||ye===0?vb.ceil(yt):vb(yt),yt=Gp.offset(yt,(qe.V-1)*7),qe.y=yt.getFullYear(),qe.m=yt.getMonth(),qe.d=yt.getDate()+(qe.w+6)%7)}else("W"in qe||"U"in qe)&&("w"in qe||(qe.w="u"in qe?qe.u%7:"W"in qe?1:0),ye="Z"in qe?Gw(k1(qe.y,0,1)).getUTCDay():Hw(k1(qe.y,0,1)).getDay(),qe.m=0,qe.d="W"in qe?(qe.w+6)%7+qe.W*7-(ye+5)%7:qe.w+qe.U*7-(ye+6)%7);return"Z"in qe?(qe.H+=qe.Z/100|0,qe.M+=qe.Z%100,Gw(qe)):Hw(qe)}}function Q(Te,Ge,Je,qe){for(var lt=0,yt=Ge.length,ye=Je.length,wt,Rt;lt<yt;){if(qe>=ye)return-1;if(wt=Ge.charCodeAt(lt++),wt===37){if(wt=Ge.charAt(lt++),Rt=Z[wt in iO?Ge.charAt(lt++):wt],!Rt||(qe=Rt(Te,Je,qe))<0)return-1}else if(wt!=Je.charCodeAt(qe++))return-1}return qe}function q(Te,Ge,Je){var qe=c.exec(Ge.slice(Je));return qe?(Te.p=h.get(qe[0].toLowerCase()),Je+qe[0].length):-1}function se(Te,Ge,Je){var qe=y.exec(Ge.slice(Je));return qe?(Te.w=E.get(qe[0].toLowerCase()),Je+qe[0].length):-1}function H(Te,Ge,Je){var qe=g.exec(Ge.slice(Je));return qe?(Te.w=x.get(qe[0].toLowerCase()),Je+qe[0].length):-1}function G(Te,Ge,Je){var qe=j.exec(Ge.slice(Je));return qe?(Te.m=D.get(qe[0].toLowerCase()),Je+qe[0].length):-1}function ue(Te,Ge,Je){var qe=N.exec(Ge.slice(Je));return qe?(Te.m=T.get(qe[0].toLowerCase()),Je+qe[0].length):-1}function J(Te,Ge,Je){return Q(Te,t,Ge,Je)}function ae(Te,Ge,Je){return Q(Te,r,Ge,Je)}function re(Te,Ge,Je){return Q(Te,n,Ge,Je)}function he(Te){return o[Te.getDay()]}function Se(Te){return i[Te.getDay()]}function pe(Te){return d[Te.getMonth()]}function be(Te){return u[Te.getMonth()]}function oe(Te){return a[+(Te.getHours()>=12)]}function Y(Te){return 1+~~(Te.getMonth()/3)}function le(Te){return o[Te.getUTCDay()]}function me(Te){return i[Te.getUTCDay()]}function Ce(Te){return d[Te.getUTCMonth()]}function we(Te){return u[Te.getUTCMonth()]}function Me(Te){return a[+(Te.getUTCHours()>=12)]}function ze(Te){return 1+~~(Te.getUTCMonth()/3)}return{format:function(Te){var Ge=X(Te+="",F);return Ge.toString=function(){return Te},Ge},parse:function(Te){var Ge=$(Te+="",!1);return Ge.toString=function(){return Te},Ge},utcFormat:function(Te){var Ge=X(Te+="",U);return Ge.toString=function(){return Te},Ge},utcParse:function(Te){var Ge=$(Te+="",!0);return Ge.toString=function(){return Te},Ge}}}var iO={"-":"",_:" ",0:"0"},cs=/^\s*\d+/,See=/^%/,Aee=/[\\^$*+?|[\]().{}]/g;function wn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Eee(e){return e.replace(Aee,"\\$&")}function I1(e){return new RegExp("^(?:"+e.map(Eee).join("|")+")","i")}function M1(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Nee(e,t,r){var n=cs.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Cee(e,t,r){var n=cs.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Oee(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Tee(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function jee(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function sO(e,t,r){var n=cs.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function oO(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function kee(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Iee(e,t,r){var n=cs.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Mee(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function lO(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Pee(e,t,r){var n=cs.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function cO(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Ree(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Dee(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Lee(e,t,r){var n=cs.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Bee(e,t,r){var n=cs.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Fee(e,t,r){var n=See.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Uee(e,t,r){var n=cs.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function zee(e,t,r){var n=cs.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function uO(e,t){return wn(e.getDate(),t,2)}function qee(e,t){return wn(e.getHours(),t,2)}function Hee(e,t){return wn(e.getHours()%12||12,t,2)}function Gee(e,t){return wn(1+Gp.count(ku(e),e),t,3)}function dR(e,t){return wn(e.getMilliseconds(),t,3)}function $ee(e,t){return dR(e,t)+"000"}function Wee(e,t){return wn(e.getMonth()+1,t,2)}function Vee(e,t){return wn(e.getMinutes(),t,2)}function Yee(e,t){return wn(e.getSeconds(),t,2)}function Xee(e){var t=e.getDay();return t===0?7:t}function Kee(e,t){return wn(A2.count(ku(e)-1,e),t,2)}function hR(e){var t=e.getDay();return t>=4||t===0?y0(e):y0.ceil(e)}function Zee(e,t){return e=hR(e),wn(y0.count(ku(e),e)+(ku(e).getDay()===4),t,2)}function Qee(e){return e.getDay()}function Jee(e,t){return wn(vb.count(ku(e)-1,e),t,2)}function ete(e,t){return wn(e.getFullYear()%100,t,2)}function tte(e,t){return e=hR(e),wn(e.getFullYear()%100,t,2)}function rte(e,t){return wn(e.getFullYear()%1e4,t,4)}function nte(e,t){var r=e.getDay();return e=r>=4||r===0?y0(e):y0.ceil(e),wn(e.getFullYear()%1e4,t,4)}function ate(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wn(t/60|0,"0",2)+wn(t%60,"0",2)}function fO(e,t){return wn(e.getUTCDate(),t,2)}function ite(e,t){return wn(e.getUTCHours(),t,2)}function ste(e,t){return wn(e.getUTCHours()%12||12,t,2)}function ote(e,t){return wn(1+S2.count(Iu(e),e),t,3)}function pR(e,t){return wn(e.getUTCMilliseconds(),t,3)}function lte(e,t){return pR(e,t)+"000"}function cte(e,t){return wn(e.getUTCMonth()+1,t,2)}function ute(e,t){return wn(e.getUTCMinutes(),t,2)}function fte(e,t){return wn(e.getUTCSeconds(),t,2)}function dte(e){var t=e.getUTCDay();return t===0?7:t}function hte(e,t){return wn(E2.count(Iu(e)-1,e),t,2)}function mR(e){var t=e.getUTCDay();return t>=4||t===0?x0(e):x0.ceil(e)}function pte(e,t){return e=mR(e),wn(x0.count(Iu(e),e)+(Iu(e).getUTCDay()===4),t,2)}function mte(e){return e.getUTCDay()}function gte(e,t){return wn(bb.count(Iu(e)-1,e),t,2)}function vte(e,t){return wn(e.getUTCFullYear()%100,t,2)}function bte(e,t){return e=mR(e),wn(e.getUTCFullYear()%100,t,2)}function yte(e,t){return wn(e.getUTCFullYear()%1e4,t,4)}function xte(e,t){var r=e.getUTCDay();return e=r>=4||r===0?x0(e):x0.ceil(e),wn(e.getUTCFullYear()%1e4,t,4)}function wte(){return"+0000"}function dO(){return"%"}function hO(e){return+e}function pO(e){return Math.floor(+e/1e3)}var Bh,gR,vR;_te({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _te(e){return Bh=_ee(e),gR=Bh.format,Bh.parse,vR=Bh.utcFormat,Bh.utcParse,Bh}function Ste(e){return new Date(e)}function Ate(e){return e instanceof Date?+e:+new Date(+e)}function OS(e,t,r,n,a,i,o,u,d,c){var h=pS(),g=h.invert,x=h.domain,y=c(".%L"),E=c(":%S"),N=c("%I:%M"),T=c("%I %p"),j=c("%a %d"),D=c("%b %d"),F=c("%B"),U=c("%Y");function Z(X){return(d(X)<X?y:u(X)<X?E:o(X)<X?N:i(X)<X?T:n(X)<X?a(X)<X?j:D:r(X)<X?F:U)(X)}return h.invert=function(X){return new Date(g(X))},h.domain=function(X){return arguments.length?x(Array.from(X,Ate)):x().map(Ste)},h.ticks=function(X){var $=x();return e($[0],$[$.length-1],X??10)},h.tickFormat=function(X,$){return $==null?Z:c($)},h.nice=function(X){var $=x();return(!X||typeof X.range!="function")&&(X=t($[0],$[$.length-1],X??10)),X?x(nR($,X)):h},h.copy=function(){return Hp(h,OS(e,t,r,n,a,i,o,u,d,c))},h}function Ete(){return Tl.apply(OS(xee,wee,ku,NS,A2,Gp,AS,_S,Ed,gR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Nte(){return Tl.apply(OS(bee,yee,Iu,CS,E2,S2,ES,SS,Ed,vR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function N2(){var e=0,t=1,r,n,a,i,o=eo,u=!1,d;function c(g){return g==null||isNaN(g=+g)?d:o(a===0?.5:(g=(i(g)-r)*a,u?Math.max(0,Math.min(1,g)):g))}c.domain=function(g){return arguments.length?([e,t]=g,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(g){return arguments.length?(u=!!g,c):u},c.interpolator=function(g){return arguments.length?(o=g,c):o};function h(g){return function(x){var y,E;return arguments.length?([y,E]=x,o=g(y,E),c):[o(0),o(1)]}}return c.range=h(I0),c.rangeRound=h(hS),c.unknown=function(g){return arguments.length?(d=g,c):d},function(g){return i=g,r=g(e),n=g(t),a=r===n?0:1/(n-r),c}}function qf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function bR(){var e=zf(N2()(eo));return e.copy=function(){return qf(e,bR())},Uu.apply(e,arguments)}function yR(){var e=vS(N2()).domain([1,10]);return e.copy=function(){return qf(e,yR()).base(e.base())},Uu.apply(e,arguments)}function xR(){var e=bS(N2());return e.copy=function(){return qf(e,xR()).constant(e.constant())},Uu.apply(e,arguments)}function TS(){var e=yS(N2());return e.copy=function(){return qf(e,TS()).exponent(e.exponent())},Uu.apply(e,arguments)}function Cte(){return TS.apply(null,arguments).exponent(.5)}function wR(){var e=[],t=eo;function r(n){if(n!=null&&!isNaN(n=+n))return t((zp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(jf),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>dJ(e,i/n))},r.copy=function(){return wR(t).domain(e)},Uu.apply(r,arguments)}function C2(){var e=0,t=.5,r=1,n=1,a,i,o,u,d,c=eo,h,g=!1,x;function y(N){return isNaN(N=+N)?x:(N=.5+((N=+h(N))-i)*(n*N<n*i?u:d),c(g?Math.max(0,Math.min(1,N)):N))}y.domain=function(N){return arguments.length?([e,t,r]=N,a=h(e=+e),i=h(t=+t),o=h(r=+r),u=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),n=i<a?-1:1,y):[e,t,r]},y.clamp=function(N){return arguments.length?(g=!!N,y):g},y.interpolator=function(N){return arguments.length?(c=N,y):c};function E(N){return function(T){var j,D,F;return arguments.length?([j,D,F]=T,c=FJ(N,[j,D,F]),y):[c(0),c(.5),c(1)]}}return y.range=E(I0),y.rangeRound=E(hS),y.unknown=function(N){return arguments.length?(x=N,y):x},function(N){return h=N,a=N(e),i=N(t),o=N(r),u=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),n=i<a?-1:1,y}}function _R(){var e=zf(C2()(eo));return e.copy=function(){return qf(e,_R())},Uu.apply(e,arguments)}function SR(){var e=vS(C2()).domain([.1,1,10]);return e.copy=function(){return qf(e,SR()).base(e.base())},Uu.apply(e,arguments)}function AR(){var e=bS(C2());return e.copy=function(){return qf(e,AR()).constant(e.constant())},Uu.apply(e,arguments)}function jS(){var e=yS(C2());return e.copy=function(){return qf(e,jS()).exponent(e.exponent())},Uu.apply(e,arguments)}function Ote(){return jS.apply(null,arguments).exponent(.5)}const Y1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:uS,scaleDiverging:_R,scaleDivergingLog:SR,scaleDivergingPow:jS,scaleDivergingSqrt:Ote,scaleDivergingSymlog:AR,scaleIdentity:rR,scaleImplicit:L_,scaleLinear:tR,scaleLog:aR,scaleOrdinal:cS,scalePoint:mJ,scalePow:xS,scaleQuantile:oR,scaleQuantize:lR,scaleRadial:sR,scaleSequential:bR,scaleSequentialLog:yR,scaleSequentialPow:TS,scaleSequentialQuantile:wR,scaleSequentialSqrt:Cte,scaleSequentialSymlog:xR,scaleSqrt:lee,scaleSymlog:iR,scaleThreshold:cR,scaleTime:Ete,scaleUtc:Nte,tickFormat:eR},Symbol.toStringTag,{value:"Module"}));var zu=e=>e.chartData,O2=Ke([zu],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),ER=(e,t,r,n)=>n?O2(e):zu(e),Tte=(e,t,r)=>r?O2(e):zu(e);function Mu(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ln(t)&&ln(r))return!0}return!1}function mO(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function NR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(ln(r))a=r;else if(typeof r=="function")return;if(ln(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(Mu(o))return o}}function jte(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Mu(n))return mO(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,u;if(a==="auto")t!=null&&(o=Math.min(...t));else if(Yt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&E6.test(a)){var d=E6.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var c=+d[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(u=Math.max(...t));else if(Yt(i))u=i;else if(typeof i=="function")try{t!=null&&(u=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&N6.test(i)){var h=N6.exec(i);if(h==null||h[1]==null||t==null)u=void 0;else{var g=+h[1];u=t[1]+g}}else u=t==null?void 0:t[1];var x=[o,u];if(Mu(x))return t==null?x:mO(x,t,r)}}}var M0=1e9,kte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},IS,Ca=!0,Nl="[DecimalError] ",jd=Nl+"Invalid argument: ",kS=Nl+"Exponent out of range: ",P0=Math.floor,pd=Math.pow,Ite=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zo,as=1e7,va=7,CR=9007199254740991,yb=P0(CR/va),zt={};zt.absoluteValue=zt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};zt.comparedTo=zt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};zt.decimalPlaces=zt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*va;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};zt.dividedBy=zt.div=function(e){return Nu(this,new this.constructor(e))};zt.dividedToIntegerBy=zt.idiv=function(e){var t=this,r=t.constructor;return ta(Nu(t,new r(e),0,1),r.precision)};zt.equals=zt.eq=function(e){return!this.cmp(e)};zt.exponent=function(){return Ai(this)};zt.greaterThan=zt.gt=function(e){return this.cmp(e)>0};zt.greaterThanOrEqualTo=zt.gte=function(e){return this.cmp(e)>=0};zt.isInteger=zt.isint=function(){return this.e>this.d.length-2};zt.isNegative=zt.isneg=function(){return this.s<0};zt.isPositive=zt.ispos=function(){return this.s>0};zt.isZero=function(){return this.s===0};zt.lessThan=zt.lt=function(e){return this.cmp(e)<0};zt.lessThanOrEqualTo=zt.lte=function(e){return this.cmp(e)<1};zt.logarithm=zt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Zo))throw Error(Nl+"NaN");if(r.s<1)throw Error(Nl+(r.s?"NaN":"-Infinity"));return r.eq(Zo)?new n(0):(Ca=!1,t=Nu(Ep(r,i),Ep(e,i),i),Ca=!0,ta(t,a))};zt.minus=zt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?jR(t,e):OR(t,(e.s=-e.s,e))};zt.modulo=zt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Nl+"NaN");return r.s?(Ca=!1,t=Nu(r,e,0,1).times(e),Ca=!0,r.minus(t)):ta(new n(r),a)};zt.naturalExponential=zt.exp=function(){return TR(this)};zt.naturalLogarithm=zt.ln=function(){return Ep(this)};zt.negated=zt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};zt.plus=zt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?OR(t,e):jR(t,(e.s=-e.s,e))};zt.precision=zt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jd+e);if(t=Ai(a)+1,n=a.d.length-1,r=n*va+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};zt.squareRoot=zt.sqrt=function(){var e,t,r,n,a,i,o,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Nl+"NaN")}for(e=Ai(u),Ca=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=Lc(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=P0((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=o=r+3;;)if(i=n,n=i.plus(Nu(u,i,o+2)).times(.5),Lc(i.d).slice(0,o)===(t=Lc(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(ta(i,r+1,0),i.times(i).eq(u)){n=i;break}}else if(t!="9999")break;o+=4}return Ca=!0,ta(n,r)};zt.times=zt.mul=function(e){var t,r,n,a,i,o,u,d,c,h=this,g=h.constructor,x=h.d,y=(e=new g(e)).d;if(!h.s||!e.s)return new g(0);for(e.s*=h.s,r=h.e+e.e,d=x.length,c=y.length,d<c&&(i=x,x=y,y=i,o=d,d=c,c=o),i=[],o=d+c,n=o;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=d+n;a>n;)u=i[a]+y[n]*x[a-n-1]+t,i[a--]=u%as|0,t=u/as|0;i[a]=(i[a]+t)%as|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ca?ta(e,g.precision):e};zt.toDecimalPlaces=zt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:($c(e,0,M0),t===void 0?t=n.rounding:$c(t,0,8),ta(r,e+Ai(r)+1,t))};zt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Fd(n,!0):($c(e,0,M0),t===void 0?t=a.rounding:$c(t,0,8),n=ta(new a(n),e+1,t),r=Fd(n,!0,e+1)),r};zt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Fd(a):($c(e,0,M0),t===void 0?t=i.rounding:$c(t,0,8),n=ta(new i(a),e+Ai(a)+1,t),r=Fd(n.abs(),!1,e+Ai(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};zt.toInteger=zt.toint=function(){var e=this,t=e.constructor;return ta(new t(e),Ai(e)+1,t.rounding)};zt.toNumber=function(){return+this};zt.toPower=zt.pow=function(e){var t,r,n,a,i,o,u=this,d=u.constructor,c=12,h=+(e=new d(e));if(!e.s)return new d(Zo);if(u=new d(u),!u.s){if(e.s<1)throw Error(Nl+"Infinity");return u}if(u.eq(Zo))return u;if(n=d.precision,e.eq(Zo))return ta(u,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=u.s,o){if((r=h<0?-h:h)<=CR){for(a=new d(Zo),t=Math.ceil(n/va+4),Ca=!1;r%2&&(a=a.times(u),vO(a.d,t)),r=P0(r/2),r!==0;)u=u.times(u),vO(u.d,t);return Ca=!0,e.s<0?new d(Zo).div(a):ta(a,n)}}else if(i<0)throw Error(Nl+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,Ca=!1,a=e.times(Ep(u,n+c)),Ca=!0,a=TR(a),a.s=i,a};zt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Ai(a),n=Fd(a,r<=i.toExpNeg||r>=i.toExpPos)):($c(e,1,M0),t===void 0?t=i.rounding:$c(t,0,8),a=ta(new i(a),e,t),r=Ai(a),n=Fd(a,e<=r||r<=i.toExpNeg,e)),n};zt.toSignificantDigits=zt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):($c(e,1,M0),t===void 0?t=n.rounding:$c(t,0,8)),ta(new n(r),e,t)};zt.toString=zt.valueOf=zt.val=zt.toJSON=zt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ai(e),r=e.constructor;return Fd(e,t<=r.toExpNeg||t>=r.toExpPos)};function OR(e,t){var r,n,a,i,o,u,d,c,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Ca?ta(t,g):t;if(d=e.d,c=t.d,o=e.e,a=t.e,d=d.slice(),i=o-a,i){for(i<0?(n=d,i=-i,u=c.length):(n=c,a=o,u=d.length),o=Math.ceil(g/va),u=o>u?o+1:u+1,i>u&&(i=u,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(u=d.length,i=c.length,u-i<0&&(i=u,n=c,c=d,d=n),r=0;i;)r=(d[--i]=d[i]+c[i]+r)/as|0,d[i]%=as;for(r&&(d.unshift(r),++a),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=a,Ca?ta(t,g):t}function $c(e,t,r){if(e!==~~e||e<t||e>r)throw Error(jd+e)}function Lc(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=va-n.length,r&&(i+=Af(r)),i+=n;o=e[t],n=o+"",r=va-n.length,r&&(i+=Af(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Nu=(function(){function e(n,a){var i,o=0,u=n.length;for(n=n.slice();u--;)i=n[u]*a+o,n[u]=i%as|0,o=i/as|0;return o&&n.unshift(o),n}function t(n,a,i,o){var u,d;if(i!=o)d=i>o?1:-1;else for(u=d=0;u<i;u++)if(n[u]!=a[u]){d=n[u]>a[u]?1:-1;break}return d}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*as+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var u,d,c,h,g,x,y,E,N,T,j,D,F,U,Z,X,$,Q,q=n.constructor,se=n.s==a.s?1:-1,H=n.d,G=a.d;if(!n.s)return new q(n);if(!a.s)throw Error(Nl+"Division by zero");for(d=n.e-a.e,$=G.length,Z=H.length,y=new q(se),E=y.d=[],c=0;G[c]==(H[c]||0);)++c;if(G[c]>(H[c]||0)&&--d,i==null?D=i=q.precision:o?D=i+(Ai(n)-Ai(a))+1:D=i,D<0)return new q(0);if(D=D/va+2|0,c=0,$==1)for(h=0,G=G[0],D++;(c<Z||h)&&D--;c++)F=h*as+(H[c]||0),E[c]=F/G|0,h=F%G|0;else{for(h=as/(G[0]+1)|0,h>1&&(G=e(G,h),H=e(H,h),$=G.length,Z=H.length),U=$,N=H.slice(0,$),T=N.length;T<$;)N[T++]=0;Q=G.slice(),Q.unshift(0),X=G[0],G[1]>=as/2&&++X;do h=0,u=t(G,N,$,T),u<0?(j=N[0],$!=T&&(j=j*as+(N[1]||0)),h=j/X|0,h>1?(h>=as&&(h=as-1),g=e(G,h),x=g.length,T=N.length,u=t(g,N,x,T),u==1&&(h--,r(g,$<x?Q:G,x))):(h==0&&(u=h=1),g=G.slice()),x=g.length,x<T&&g.unshift(0),r(N,g,T),u==-1&&(T=N.length,u=t(G,N,$,T),u<1&&(h++,r(N,$<T?Q:G,T))),T=N.length):u===0&&(h++,N=[0]),E[c++]=h,u&&N[0]?N[T++]=H[U]||0:(N=[H[U]],T=1);while((U++<Z||N[0]!==void 0)&&D--)}return E[0]||E.shift(),y.e=d,ta(y,o?i+Ai(y)+1:i)}})();function TR(e,t){var r,n,a,i,o,u,d=0,c=0,h=e.constructor,g=h.precision;if(Ai(e)>16)throw Error(kS+Ai(e));if(!e.s)return new h(Zo);for(Ca=!1,u=g,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(pd(2,c))/Math.LN10*2+5|0,u+=n,r=a=i=new h(Zo),h.precision=u;;){if(a=ta(a.times(e),u),r=r.times(++d),o=i.plus(Nu(a,r,u)),Lc(o.d).slice(0,u)===Lc(i.d).slice(0,u)){for(;c--;)i=ta(i.times(i),u);return h.precision=g,t==null?(Ca=!0,ta(i,g)):i}i=o}}function Ai(e){for(var t=e.e*va,r=e.d[0];r>=10;r/=10)t++;return t}function $w(e,t,r){if(t>e.LN10.sd())throw Ca=!0,r&&(e.precision=r),Error(Nl+"LN10 precision limit exceeded");return ta(new e(e.LN10),t)}function Af(e){for(var t="";e--;)t+="0";return t}function Ep(e,t){var r,n,a,i,o,u,d,c,h,g=1,x=10,y=e,E=y.d,N=y.constructor,T=N.precision;if(y.s<1)throw Error(Nl+(y.s?"NaN":"-Infinity"));if(y.eq(Zo))return new N(0);if(t==null?(Ca=!1,c=T):c=t,y.eq(10))return t==null&&(Ca=!0),$w(N,c);if(c+=x,N.precision=c,r=Lc(E),n=r.charAt(0),i=Ai(y),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(e),r=Lc(y.d),n=r.charAt(0),g++;i=Ai(y),n>1?(y=new N("0."+r),i++):y=new N(n+"."+r.slice(1))}else return d=$w(N,c+2,T).times(i+""),y=Ep(new N(n+"."+r.slice(1)),c-x).plus(d),N.precision=T,t==null?(Ca=!0,ta(y,T)):y;for(u=o=y=Nu(y.minus(Zo),y.plus(Zo),c),h=ta(y.times(y),c),a=3;;){if(o=ta(o.times(h),c),d=u.plus(Nu(o,new N(a),c)),Lc(d.d).slice(0,c)===Lc(u.d).slice(0,c))return u=u.times(2),i!==0&&(u=u.plus($w(N,c+2,T).times(i+""))),u=Nu(u,new N(g),c),N.precision=T,t==null?(Ca=!0,ta(u,T)):u;u=d,a+=2}}function gO(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=P0(r/va),e.d=[],n=(r+1)%va,r<0&&(n+=va),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=va;n<a;)e.d.push(+t.slice(n,n+=va));t=t.slice(n),n=va-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ca&&(e.e>yb||e.e<-yb))throw Error(kS+r)}else e.s=0,e.e=0,e.d=[0];return e}function ta(e,t,r){var n,a,i,o,u,d,c,h,g=e.d;for(o=1,i=g[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=va,a=t,c=g[h=0];else{if(h=Math.ceil((n+1)/va),i=g.length,h>=i)return e;for(c=i=g[h],o=1;i>=10;i/=10)o++;n%=va,a=n-va+o}if(r!==void 0&&(i=pd(10,o-a-1),u=c/i%10|0,d=t<0||g[h+1]!==void 0||c%i,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?a>0?c/pd(10,o-a):0:g[h-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return d?(i=Ai(e),g.length=1,t=t-i-1,g[0]=pd(10,(va-t%va)%va),e.e=P0(-t/va)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=h,i=1,h--):(g.length=h+1,i=pd(10,va-n),g[h]=a>0?(c/pd(10,o-a)%pd(10,a)|0)*i:0),d)for(;;)if(h==0){(g[0]+=i)==as&&(g[0]=1,++e.e);break}else{if(g[h]+=i,g[h]!=as)break;g[h--]=0,i=1}for(n=g.length;g[--n]===0;)g.pop();if(Ca&&(e.e>yb||e.e<-yb))throw Error(kS+Ai(e));return e}function jR(e,t){var r,n,a,i,o,u,d,c,h,g,x=e.constructor,y=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Ca?ta(t,y):t;if(d=e.d,g=t.d,n=t.e,c=e.e,d=d.slice(),o=c-n,o){for(h=o<0,h?(r=d,o=-o,u=g.length):(r=g,n=c,u=d.length),a=Math.max(Math.ceil(y/va),u)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=d.length,u=g.length,h=a<u,h&&(u=a),a=0;a<u;a++)if(d[a]!=g[a]){h=d[a]<g[a];break}o=0}for(h&&(r=d,d=g,g=r,t.s=-t.s),u=d.length,a=g.length-u;a>0;--a)d[u++]=0;for(a=g.length;a>o;){if(d[--a]<g[a]){for(i=a;i&&d[--i]===0;)d[i]=as-1;--d[i],d[a]+=as}d[a]-=g[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,Ca?ta(t,y):t):new x(0)}function Fd(e,t,r){var n,a=Ai(e),i=Lc(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Af(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Af(-a-1)+i,r&&(n=r-o)>0&&(i+=Af(n))):a>=o?(i+=Af(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Af(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Af(n))),e.s<0?"-"+i:i}function vO(e,t){if(e.length>t)return e.length=t,!0}function kR(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(jd+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return gO(o,i.toString())}else if(typeof i!="string")throw Error(jd+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Ite.test(i))gO(o,i);else throw Error(jd+i)}if(a.prototype=zt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=kR,a.config=a.set=Mte,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Mte(e){if(!e||typeof e!="object")throw Error(Nl+"Object expected");var t,r,n,a=["precision",1,M0,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(P0(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(jd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(jd+r+": "+n);return this}var IS=kR(kte);Zo=new IS(1);const Fn=IS;function IR(e){var t;return e===0?t=1:t=Math.floor(new Fn(e).abs().log(10).toNumber())+1,t}function MR(e,t,r){for(var n=new Fn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var PR=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},RR=(e,t,r)=>{if(e.lte(0))return new Fn(0);var n=IR(e.toNumber()),a=new Fn(10).pow(n),i=e.div(a),o=n!==1?.05:.1,u=new Fn(Math.ceil(i.div(o).toNumber())).add(r).mul(o),d=u.mul(a);return t?new Fn(d.toNumber()):new Fn(Math.ceil(d.toNumber()))},Pte=(e,t,r)=>{var n=new Fn(1),a=new Fn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Fn(10).pow(IR(e)-1),a=new Fn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Fn(Math.floor(e)))}else e===0?a=new Fn(Math.floor((t-1)/2)):r||(a=new Fn(Math.floor(e)));for(var o=Math.floor((t-1)/2),u=[],d=0;d<t;d++)u.push(a.add(new Fn(d-o).mul(n)).toNumber());return u},DR=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Fn(0),tickMin:new Fn(0),tickMax:new Fn(0)};var o=RR(new Fn(r).sub(t).div(n-1),a,i),u;t<=0&&r>=0?u=new Fn(0):(u=new Fn(t).add(r).div(2),u=u.sub(new Fn(u).mod(o)));var d=Math.ceil(u.sub(t).div(o).toNumber()),c=Math.ceil(new Fn(r).sub(u).div(o).toNumber()),h=d+c+1;return h>n?DR(t,r,n,a,i+1):(h<n&&(c=r>0?c+(n-h):c,d=r>0?d:d+(n-h)),{step:o,tickMin:u.sub(new Fn(d).mul(o)),tickMax:u.add(new Fn(c).mul(o))})},Rte=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[u,d]=PR([r,n]);if(u===-1/0||d===1/0){var c=d===1/0?[u,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),d];return r>n?c.reverse():c}if(u===d)return Pte(u,a,i);var{step:h,tickMin:g,tickMax:x}=DR(u,d,o,i,0),y=MR(g,x.add(new Fn(.1).mul(h)),h);return r>n?y.reverse():y},Dte=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,u]=PR([n,a]);if(o===-1/0||u===1/0)return[n,a];if(o===u)return[o];var d=Math.max(r,2),c=RR(new Fn(u).sub(o).div(d-1),i,0),h=[...MR(new Fn(o),new Fn(u),c),u];return i===!1&&(h=h.map(g=>Math.round(g))),n>a?h.reverse():h},LR=e=>e.rootProps.maxBarSize,Lte=e=>e.rootProps.barGap,BR=e=>e.rootProps.barCategoryGap,Bte=e=>e.rootProps.barSize,$p=e=>e.rootProps.stackOffset,FR=e=>e.rootProps.reverseStackOrder,MS=e=>e.options.chartName,PS=e=>e.rootProps.syncId,UR=e=>e.rootProps.syncMethod,RS=e=>e.options.eventEmitter,_s={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ld={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Oc={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},T2=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function j2(e,t,r){if(r!=="auto")return r;if(e!=null)return Uf(e,t)?"category":"number"}function bO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(r),!0).forEach(function(n){Fte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fte(e,t,r){return(t=Ute(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ute(e){var t=zte(e,"string");return typeof t=="symbol"?t:t+""}function zte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yO={allowDataOverflow:ld.allowDataOverflow,allowDecimals:ld.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ld.angleAxisId,includeHidden:!1,name:void 0,reversed:ld.reversed,scale:ld.scale,tick:ld.tick,tickCount:void 0,ticks:void 0,type:ld.type,unit:void 0},xO={allowDataOverflow:Oc.allowDataOverflow,allowDecimals:Oc.allowDecimals,allowDuplicatedCategory:Oc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Oc.radiusAxisId,includeHidden:Oc.includeHidden,name:void 0,reversed:Oc.reversed,scale:Oc.scale,tick:Oc.tick,tickCount:Oc.tickCount,ticks:void 0,type:Oc.type,unit:void 0},qte=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},DS=Ke([qte,SP],(e,t)=>{var r;if(e!=null)return e;var n=(r=j2(t,"angleAxis",yO.type))!==null&&r!==void 0?r:"category";return xb(xb({},yO),{},{type:n})}),Hte=(e,t)=>e.polarAxis.radiusAxis[t],LS=Ke([Hte,SP],(e,t)=>{var r;if(e!=null)return e;var n=(r=j2(t,"radiusAxis",xO.type))!==null&&r!==void 0?r:"category";return xb(xb({},xO),{},{type:n})}),k2=e=>e.polarOptions,BS=Ke([Bu,Fu,Ui],zP),zR=Ke([k2,BS],(e,t)=>{if(e!=null)return Fs(e.innerRadius,t,0)}),qR=Ke([k2,BS],(e,t)=>{if(e!=null)return Fs(e.outerRadius,t,t*.8)}),Gte=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},HR=Ke([k2],Gte);Ke([DS,HR],T2);var GR=Ke([BS,zR,qR],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Ke([LS,GR],T2);var $R=Ke([Tn,k2,zR,qR,Bu,Fu],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:u,startAngle:d,endAngle:c}=t;return{cx:Fs(o,a,a/2),cy:Fs(u,i,i/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:c,clockWise:!1}}}),Pa=(e,t)=>t,Wp=(e,t,r)=>r;function FS(e){return e==null?void 0:e.id}function WR(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(u=>{var d,c=(d=u.data)!==null&&d!==void 0?d:n;if(!(c==null||c.length===0)){var h=FS(u);c.forEach((g,x)=>{var y=i==null||a?x:String(ya(g,i,null)),E=ya(g,u.dataKey,0),N;o.has(y)?N=o.get(y):N={},Object.assign(N,{[h]:E}),o.set(y,N)})}}),Array.from(o.values())}function I2(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var M2=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function P2(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function $te(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var us=e=>{var t=Tn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},R0=e=>e.tooltip.settings.axisId;function Wte(e){if(e in Y1)return Y1[e]();var t="scale".concat(Pp(e));if(t in Y1)return Y1[t]()}function wO(e){var t=e.ticks,r=e.bandwidth,n=e.range(),a=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(i){function o(){return i.apply(this,arguments)}return o.toString=function(){return i.toString()},o})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(i){var o=a[0],u=a[1];return o<=u?i>=o&&i<=u:i>=u&&i<=o},bandwidth:r?()=>r.call(e):void 0,ticks:t?i=>t.call(e,i):void 0,map:(i,o)=>{var u=e(i);if(u!=null){if(e.bandwidth&&o!==null&&o!==void 0&&o.position){var d=e.bandwidth();switch(o.position){case"middle":u+=d/2;break;case"end":u+=d;break}}return u}}}}function _O(e,t,r){if(typeof e=="function")return wO(e.copy().domain(t).range(r));if(e!=null){var n=Wte(e);if(n!=null)return n.domain(t).range(r),wO(n)}}var VR=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Mu(t)){for(var r,n,a=0;a<t.length;a++){var i=t[a];ln(i)&&((r===void 0||i<r)&&(r=i),(n===void 0||i>n)&&(n=i))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function SO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(r),!0).forEach(function(n){Vte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vte(e,t,r){return(t=Yte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yte(e){var t=Xte(e,"string");return typeof t=="symbol"?t:t+""}function Xte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z_=[0,"auto"],rs={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},YR=(e,t)=>e.cartesianAxis.xAxis[t],qu=(e,t)=>{var r=YR(e,t);return r??rs},ns={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:z_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Bp},XR=(e,t)=>e.cartesianAxis.yAxis[t],Hu=(e,t)=>{var r=XR(e,t);return r??ns},Kte={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},US=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Kte},ei=(e,t,r)=>{switch(t){case"xAxis":return qu(e,r);case"yAxis":return Hu(e,r);case"zAxis":return US(e,r);case"angleAxis":return DS(e,r);case"radiusAxis":return LS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Zte=(e,t,r)=>{switch(t){case"xAxis":return qu(e,r);case"yAxis":return Hu(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},D0=(e,t,r)=>{switch(t){case"xAxis":return qu(e,r);case"yAxis":return Hu(e,r);case"angleAxis":return DS(e,r);case"radiusAxis":return LS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},KR=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function zS(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var qS=e=>e.graphicalItems.cartesianItems,Qte=Ke([Pa,Wp],zS),HS=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Vp=Ke([qS,ei,Qte],HS,{memoizeOptions:{resultEqualityCheck:P2}}),ZR=Ke([Vp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(I2)),QR=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Jte=Ke([Vp],QR),GS=e=>e.map(t=>t.data).filter(Boolean).flat(1),ere=Ke([Vp],GS,{memoizeOptions:{resultEqualityCheck:P2}}),$S=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},WS=Ke([ere,ER],$S),VS=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:ya(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:ya(a,n)}))):e.map(n=>({value:n})),R2=Ke([WS,ei,Vp],VS);function JR(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function wv(e){if(Hc(e)||e instanceof Date){var t=Number(e);if(ln(t))return t}}function AO(e){if(Array.isArray(e)){var t=[wv(e[0]),wv(e[1])];return Mu(t)?t:void 0}var r=wv(e);if(r!=null)return[r,r]}function Pu(e){return e.map(wv).filter(Oo)}function tre(e,t,r){return!r||typeof t!="number"||qc(t)?[]:r.length?Pu(r.flatMap(n=>{var a=ya(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!ln(i)||!ln(o)))return[t-i,t+o]})):[]}var qi=e=>{var t=us(e),r=R0(e);return D0(e,t,r)},Yp=Ke([qi],e=>e==null?void 0:e.dataKey),rre=Ke([ZR,ER,qi],WR),eD=(e,t,r,n)=>{var a={},i=t.reduce((o,u)=>{if(u.stackId==null)return o;var d=o[u.stackId];return d==null&&(d=[]),d.push(u),o[u.stackId]=d,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[u,d]=o,c=n?[...d].reverse():d,h=c.map(FS);return[u,{stackedData:_K(e,h,r),graphicalItems:c}]}))},q_=Ke([rre,ZR,$p,FR],eD),tD=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=CK(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},nre=Ke([ei],e=>e.allowDataOverflow),YS=e=>{var t;if(e==null||!("domain"in e))return z_;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Pu(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:z_},XS=Ke([ei],YS),KS=Ke([XS,nre],NR),are=Ke([q_,zu,Pa,KS],tD,{memoizeOptions:{resultEqualityCheck:M2}}),D2=e=>e.errorBars,ire=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>JR(r,n)),_b=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),u=Math.max(...i);return[o,u]}},ZS=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(u=>{r.forEach(d=>{var c,h,g=(c=n[d.id])===null||c===void 0?void 0:c.filter(j=>JR(a,j)),x=ya(u,(h=t.dataKey)!==null&&h!==void 0?h:d.dataKey),y=tre(u,x,g);if(y.length>=2){var E=Math.min(...y),N=Math.max(...y);(i==null||E<i)&&(i=E),(o==null||N>o)&&(o=N)}var T=AO(x);T!=null&&(i=i==null?T[0]:Math.min(i,T[0]),o=o==null?T[1]:Math.max(o,T[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(u=>{var d=AO(ya(u,t.dataKey));d!=null&&(i=i==null?d[0]:Math.min(i,d[0]),o=o==null?d[1]:Math.max(o,d[1]))}),ln(i)&&ln(o))return[i,o]},sre=Ke([WS,ei,Jte,D2,Pa],ZS,{memoizeOptions:{resultEqualityCheck:M2}});function ore(e){var{value:t}=e;if(Hc(t)||t instanceof Date)return t}var lre=(e,t,r)=>{var n=e.map(ore).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&x7(n))?$P(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},rD=e=>e.referenceElements.dots,L0=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),cre=Ke([rD,Pa,Wp],L0),nD=e=>e.referenceElements.areas,ure=Ke([nD,Pa,Wp],L0),aD=e=>e.referenceElements.lines,fre=Ke([aD,Pa,Wp],L0),iD=(e,t)=>{if(e!=null){var r=Pu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},dre=Ke(cre,Pa,iD),sD=(e,t)=>{if(e!=null){var r=Pu(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},hre=Ke([ure,Pa],sD);function pre(e){var t;if(e.x!=null)return Pu([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Pu(r)}function mre(e){var t;if(e.y!=null)return Pu([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Pu(r)}var oD=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?pre(n):mre(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},gre=Ke([fre,Pa],oD),vre=Ke(dre,gre,hre,(e,t,r)=>_b(e,r,t)),QS=(e,t,r,n,a,i,o,u)=>{if(r!=null)return r;var d=o==="vertical"&&u==="xAxis"||o==="horizontal"&&u==="yAxis",c=d?_b(n,i,a):_b(i,a);return jte(t,c,e.allowDataOverflow)},bre=Ke([ei,XS,KS,are,sre,vre,Tn,Pa],QS,{memoizeOptions:{resultEqualityCheck:M2}}),yre=[0,1],JS=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:u,type:d}=e,c=Uf(t,i);if(c&&u==null){var h;return $P(0,(h=r==null?void 0:r.length)!==null&&h!==void 0?h:0)}return d==="category"?lre(n,e,c):a==="expand"?yre:o}},eA=Ke([ei,Tn,WS,R2,$p,Pa,bre],JS);function xre(e){return e in Y1}var lD=(e,t,r)=>{if(e!=null){var{scale:n,type:a}=e;if(n==="auto")return a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof n=="string"){var i="scale".concat(Pp(n));return xre(i)?i:"point"}}},Hf=Ke([ei,KR,MS],lD);function tA(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?_O(e.scale,r,n):_O(t,r,n)}var rA=(e,t,r)=>{var n=YS(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Mu(e))return Rte(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Mu(e))return Dte(e,t.tickCount,t.allowDecimals)}},nA=Ke([eA,D0,Hf],rA),aA=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Mu(t)&&Array.isArray(r)&&r.length>0){var a,i,o=t[0],u=(a=r[0])!==null&&a!==void 0?a:0,d=t[1],c=(i=r[r.length-1])!==null&&i!==void 0?i:0;return[Math.min(o,u),Math.max(d,c)]}return t},wre=Ke([ei,eA,nA,Pa],aA),_re=Ke(R2,ei,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Pu(e.map(g=>g.value))).sort((g,x)=>g-x),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var u=0;u<n.length-1;u++){var d=n[u],c=n[u+1];if(!(d==null||c==null)){var h=c-d;r=Math.min(r,h)}}return r/o}}),cD=Ke(_re,Tn,BR,Ui,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!ln(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Fs(r,e*i),u=e*i/2;return u-o-(u-o)/i*o}return 0}),Sre=(e,t,r)=>{var n=qu(e,t);return n==null||typeof n.padding!="string"?0:cD(e,"xAxis",t,r,n.padding)},Are=(e,t,r)=>{var n=Hu(e,t);return n==null||typeof n.padding!="string"?0:cD(e,"yAxis",t,r,n.padding)},Ere=Ke(qu,Sre,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Nre=Ke(Hu,Are,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Cre=Ke([Ui,Ere,p2,h2,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Ore=Ke([Ui,Tn,Nre,p2,h2,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Xp=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Cre(e,r,n);case"yAxis":return Ore(e,r,n);case"zAxis":return(a=US(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return HR(e);case"radiusAxis":return GR(e,r);default:return}},uD=Ke([ei,Xp],T2),Tre=Ke([Hf,wre],VR),L2=Ke([ei,Hf,Tre,uD],tA);Ke([Vp,D2,Pa],ire);function fD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var B2=(e,t)=>t,F2=(e,t,r)=>r,jre=Ke(f2,B2,F2,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(fD)),kre=Ke(d2,B2,F2,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(fD)),dD=(e,t)=>({width:e.width,height:t.height}),Ire=(e,t)=>{var r=typeof t.width=="number"?t.width:Bp;return{width:r,height:e.height}},hD=Ke(Ui,qu,dD),Mre=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Pre=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Rre=Ke(Fu,Ui,jre,B2,F2,(e,t,r,n,a)=>{var i={},o;return r.forEach(u=>{var d=dD(t,u);o==null&&(o=Mre(t,n,e));var c=n==="top"&&!a||n==="bottom"&&a;i[u.id]=o-Number(c)*d.height,o+=(c?-1:1)*d.height}),i}),Dre=Ke(Bu,Ui,kre,B2,F2,(e,t,r,n,a)=>{var i={},o;return r.forEach(u=>{var d=Ire(t,u);o==null&&(o=Pre(t,n,e));var c=n==="left"&&!a||n==="right"&&a;i[u.id]=o-Number(c)*d.width,o+=(c?-1:1)*d.width}),i}),Lre=(e,t)=>{var r=qu(e,t);if(r!=null)return Rre(e,r.orientation,r.mirror)},Bre=Ke([Ui,qu,Lre,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),Fre=(e,t)=>{var r=Hu(e,t);if(r!=null)return Dre(e,r.orientation,r.mirror)},Ure=Ke([Ui,Hu,Fre,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),pD=Ke(Ui,Hu,(e,t)=>{var r=typeof t.width=="number"?t.width:Bp;return{width:r,height:e.height}}),EO=(e,t,r)=>{switch(t){case"xAxis":return hD(e,r).width;case"yAxis":return pD(e,r).height;default:return}},mD=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,u=Uf(e,n),d=t.map(c=>c.value);if(o&&u&&i==="category"&&a&&x7(d))return d}},iA=Ke([Tn,R2,ei,Pa],mD),gD=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=Uf(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(u=>u.value)}},sA=Ke([Tn,R2,D0,Pa],gD),NO=Ke([Tn,Zte,Hf,L2,iA,sA,Xp,nA,Pa],(e,t,r,n,a,i,o,u,d)=>{if(t!=null){var c=Uf(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:u,range:o,realScaleType:r,scale:n}}}),zre=(e,t,r,n,a,i,o,u,d)=>{if(!(t==null||n==null)){var c=Uf(e,d),{type:h,ticks:g,tickCount:x}=t,y=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,E=h==="category"&&n.bandwidth?n.bandwidth()/y:0;E=d==="angleAxis"&&i!=null&&i.length>=2?ss(i[0]-i[1])*2*E:E;var N=g||a;return N?N.map((T,j)=>{var D=o?o.indexOf(T):T,F=n.map(D);return ln(F)?{index:j,coordinate:F+E,value:T,offset:E}:null}).filter(Oo):c&&u?u.map((T,j)=>{var D=n.map(T);return ln(D)?{coordinate:D+E,value:T,index:j,offset:E}:null}).filter(Oo):n.ticks?n.ticks(x).map((T,j)=>{var D=n.map(T);return ln(D)?{coordinate:D+E,value:T,index:j,offset:E}:null}).filter(Oo):n.domain().map((T,j)=>{var D=n.map(T);return ln(D)?{coordinate:D+E,value:o?o[T]:T,index:j,offset:E}:null}).filter(Oo)}},vD=Ke([Tn,D0,Hf,L2,nA,Xp,iA,sA,Pa],zre),qre=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=Uf(e,o),{tickCount:d}=t,c=0;return c=o==="angleAxis"&&(n==null?void 0:n.length)>=2?ss(n[0]-n[1])*2*c:c,u&&i?i.map((h,g)=>{var x=r.map(h);return ln(x)?{coordinate:x+c,value:h,index:g,offset:c}:null}).filter(Oo):r.ticks?r.ticks(d).map((h,g)=>{var x=r.map(h);return ln(x)?{coordinate:x+c,value:h,index:g,offset:c}:null}).filter(Oo):r.domain().map((h,g)=>{var x=r.map(h);return ln(x)?{coordinate:x+c,value:a?a[h]:h,index:g,offset:c}:null}).filter(Oo)}},w0=Ke([Tn,D0,L2,Xp,iA,sA,Pa],qre),_0=Ke(ei,L2,(e,t)=>{if(!(e==null||t==null))return wb(wb({},e),{},{scale:t})}),Hre=Ke([ei,Hf,eA,uD],tA);Ke((e,t,r)=>US(e,r),Hre,(e,t)=>{if(!(e==null||t==null))return wb(wb({},e),{},{scale:t})});var Gre=Ke([Tn,f2,d2],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),bD=e=>e.options.defaultTooltipEventType,yD=e=>e.options.validateTooltipEventTypes;function xD(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function oA(e,t){var r=bD(e),n=yD(e);return xD(t,r,n)}function $re(e){return Jt(t=>oA(t,e))}var wD=(e,t)=>{var r,n=Number(t);if(!(qc(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Wre=e=>e.tooltip.settings,Cf={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Vre={itemInteraction:{click:Cf,hover:Cf},axisInteraction:{click:Cf,hover:Cf},keyboardInteraction:Cf,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},_D=ko({name:"tooltip",initialState:Vre,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Na()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=rc(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Na()},removeTooltipEntrySettings:{reducer(e,t){var r=rc(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Na()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:Yre,replaceTooltipEntrySettings:Xre,removeTooltipEntrySettings:Kre,setTooltipSettingsState:Zre,setActiveMouseOverItemIndex:SD,mouseLeaveItem:Qre,mouseLeaveChart:AD,setActiveClickItemIndex:Jre,setMouseOverAxisIndex:ED,setMouseClickAxisIndex:ene,setSyncInteraction:H_,setKeyboardInteraction:G_}=_D.actions,tne=_D.reducer;function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(n){rne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rne(e,t,r){return(t=nne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nne(e){var t=ane(e,"string");return typeof t=="symbol"?t:t+""}function ane(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ine(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function sne(e){return e.index!=null}var ND=(e,t,r,n)=>{if(t==null)return Cf;var a=ine(e,t,r);if(a==null)return Cf;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(sne(a)){if(i)return vg(vg({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return vg(vg({},Cf),{},{coordinate:a.coordinate})};function one(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function lne(e,t){var r=one(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),o=Math.max(n,a);return r>=i&&r<=o}function cne(e,t,r){if(r==null||t==null)return!0;var n=ya(e,t);return n==null||!Mu(r)?!0:lne(n,r)}var lA=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!ln(i))return a;var o=0,u=1/0;t.length>0&&(u=t.length-1);var d=Math.max(o,Math.min(i,u)),c=t[d];return c==null||cne(c,r,n)?String(d):null},CD=(e,t,r,n,a,i,o)=>{if(i!=null){var u=o[0],d=u==null?void 0:u.getPosition(i);if(d!=null)return d;var c=a==null?void 0:a[Number(i)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},OD=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var u;return((u=o.settings)===null||u===void 0?void 0:u.graphicalItemId)===a})},TD=e=>e.options.tooltipPayloadSearcher,B0=e=>e.tooltip;function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){une(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function une(e,t,r){return(t=fne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fne(e){var t=dne(e,"string");return typeof t=="symbol"?t:t+""}function dne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hne(e,t){return e??t}var jD=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:u,computedData:d,dataStartIndex:c,dataEndIndex:h}=r,g=[];return e.reduce((x,y)=>{var E,{dataDefinedOnItem:N,settings:T}=y,j=hne(N,u),D=Array.isArray(j)?dP(j,c,h):j,F=(E=T==null?void 0:T.dataKey)!==null&&E!==void 0?E:n,U=T==null?void 0:T.nameKey,Z;if(n&&Array.isArray(D)&&!Array.isArray(D[0])&&o==="axis"?Z=YV(D,n,a):Z=i(D,t,d,U),Array.isArray(Z))Z.forEach($=>{var Q=TO(TO({},T),{},{name:$.name,unit:$.unit,color:void 0,fill:void 0});x.push(C6({tooltipEntrySettings:Q,dataKey:$.dataKey,payload:$.payload,value:ya($.payload,$.dataKey),name:$.name}))});else{var X;x.push(C6({tooltipEntrySettings:T,dataKey:F,payload:Z,value:ya(Z,F),name:(X=ya(Z,U))!==null&&X!==void 0?X:T==null?void 0:T.name}))}return x},g)}},cA=Ke([qi,KR,MS],lD),pne=Ke([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),mne=Ke([us,R0],zS),F0=Ke([pne,qi,mne],HS,{memoizeOptions:{resultEqualityCheck:P2}}),gne=Ke([F0],e=>e.filter(I2)),vne=Ke([F0],GS,{memoizeOptions:{resultEqualityCheck:P2}}),U0=Ke([vne,zu],$S),bne=Ke([gne,zu,qi],WR),uA=Ke([U0,qi,F0],VS),kD=Ke([qi],YS),yne=Ke([qi],e=>e.allowDataOverflow),ID=Ke([kD,yne],NR),xne=Ke([F0],e=>e.filter(I2)),wne=Ke([bne,xne,$p,FR],eD),_ne=Ke([wne,zu,us,ID],tD),Sne=Ke([F0],QR),Ane=Ke([U0,qi,Sne,D2,us],ZS,{memoizeOptions:{resultEqualityCheck:M2}}),Ene=Ke([rD,us,R0],L0),Nne=Ke([Ene,us],iD),Cne=Ke([nD,us,R0],L0),One=Ke([Cne,us],sD),Tne=Ke([aD,us,R0],L0),jne=Ke([Tne,us],oD),kne=Ke([Nne,jne,One],_b),Ine=Ke([qi,kD,ID,_ne,Ane,kne,Tn,us],QS),Kp=Ke([qi,Tn,U0,uA,$p,us,Ine],JS),Mne=Ke([Kp,qi,cA],rA),Pne=Ke([qi,Kp,Mne,us],aA),MD=e=>{var t=us(e),r=R0(e),n=!1;return Xp(e,t,r,n)},PD=Ke([qi,MD],T2),RD=Ke([qi,cA,Pne,PD],tA),Rne=Ke([Tn,uA,qi,us],mD),Dne=Ke([Tn,uA,qi,us],gD),Lne=(e,t,r,n,a,i,o,u)=>{if(t){var{type:d}=t,c=Uf(e,u);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/h:0;return g=u==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?ss(a[0]-a[1])*2*g:g,c&&o?o.map((x,y)=>{var E=n.map(x);return ln(E)?{coordinate:E+g,value:x,index:y,offset:g}:null}).filter(Oo):n.domain().map((x,y)=>{var E=n.map(x);return ln(E)?{coordinate:E+g,value:i?i[x]:x,index:y,offset:g}:null}).filter(Oo)}}},Gu=Ke([Tn,qi,cA,RD,MD,Rne,Dne,us],Lne),fA=Ke([bD,yD,Wre],(e,t,r)=>xD(r.shared,e,t)),DD=e=>e.tooltip.settings.trigger,dA=e=>e.tooltip.settings.defaultIndex,Zp=Ke([B0,fA,DD,dA],ND),Ud=Ke([Zp,U0,Yp,Kp],lA),LD=Ke([Gu,Ud],wD),hA=Ke([Zp],e=>{if(e)return e.dataKey}),Bne=Ke([Zp],e=>{if(e)return e.graphicalItemId}),BD=Ke([B0,fA,DD,dA],OD),Fne=Ke([Bu,Fu,Tn,Ui,Gu,dA,BD],CD),Une=Ke([Zp,Fne],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),zne=Ke([Zp],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),qne=Ke([BD,Ud,zu,Yp,LD,TD,fA],jD);Ke([qne],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function jO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jO(Object(r),!0).forEach(function(n){Hne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hne(e,t,r){return(t=Gne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gne(e){var t=$ne(e,"string");return typeof t=="symbol"?t:t+""}function $ne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wne=()=>Jt(qi),Vne=()=>{var e=Wne(),t=Jt(Gu),r=Jt(RD);return Qv(!e||!r?void 0:kO(kO({},e),{},{scale:r}),t)};function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){Yne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yne(e,t,r){return(t=Xne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xne(e){var t=Kne(e,"string");return typeof t=="symbol"?t:t+""}function Kne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zne=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},Qne=(e,t,r,n)=>{var a=t.find(c=>c&&c.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=n;return Fh(Fh(Fh({},n),Si(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var u=a.coordinate,{angle:d}=n;return Fh(Fh(Fh({},n),Si(n.cx,n.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Jne(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var FD=(e,t,r,n,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<o;u++){var d,c,h,g,x,y=u>0?(d=r[u-1])===null||d===void 0?void 0:d.coordinate:(c=r[o-1])===null||c===void 0?void 0:c.coordinate,E=(h=r[u])===null||h===void 0?void 0:h.coordinate,N=u>=o-1?(g=r[0])===null||g===void 0?void 0:g.coordinate:(x=r[u+1])===null||x===void 0?void 0:x.coordinate,T=void 0;if(!(y==null||E==null||N==null))if(ss(E-y)!==ss(N-E)){var j=[];if(ss(N-E)===ss(a[1]-a[0])){T=N;var D=E+a[1]-a[0];j[0]=Math.min(D,(D+y)/2),j[1]=Math.max(D,(D+y)/2)}else{T=y;var F=N+a[1]-a[0];j[0]=Math.min(E,(F+E)/2),j[1]=Math.max(E,(F+E)/2)}var U=[Math.min(E,(T+E)/2),Math.max(E,(T+E)/2)];if(e>U[0]&&e<=U[1]||e>=j[0]&&e<=j[1]){var Z;return(Z=r[u])===null||Z===void 0?void 0:Z.index}}else{var X=Math.min(y,N),$=Math.max(y,N);if(e>(X+E)/2&&e<=($+E)/2){var Q;return(Q=r[u])===null||Q===void 0?void 0:Q.index}}}else if(t)for(var q=0;q<o;q++){var se=t[q];if(se!=null){var H=t[q+1],G=t[q-1];if(q===0&&H!=null&&e<=(se.coordinate+H.coordinate)/2||q===o-1&&G!=null&&e>(se.coordinate+G.coordinate)/2||q>0&&q<o-1&&G!=null&&H!=null&&e>(se.coordinate+G.coordinate)/2&&e<=(se.coordinate+H.coordinate)/2)return se.index}}return-1},eae=()=>Jt(MS),pA=(e,t)=>t,UD=(e,t,r)=>r,mA=(e,t,r,n)=>n,tae=Ke(Gu,e=>e2(e,t=>t.coordinate)),gA=Ke([B0,pA,UD,mA],ND),vA=Ke([gA,U0,Yp,Kp],lA),rae=(e,t,r)=>{if(t!=null){var n=B0(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},zD=Ke([B0,pA,UD,mA],OD),Sb=Ke([Bu,Fu,Tn,Ui,Gu,mA,zD],CD),nae=Ke([gA,Sb],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),qD=Ke([Gu,vA],wD),aae=Ke([zD,vA,zu,Yp,qD,TD,pA],jD),iae=Ke([gA,vA],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),sae=(e,t,r,n,a,i,o)=>{if(!(!e||!r||!n||!a)&&Jne(e,o)){var u=OK(e,t),d=FD(u,i,a,r,n),c=Zne(t,a,d,e);return{activeIndex:String(d),activeCoordinate:c}}},oae=(e,t,r,n,a,i,o)=>{if(!(!e||!n||!a||!i||!r)){var u=$Q(e,r);if(u){var d=TK(u,t),c=FD(d,o,i,n,a),h=Qne(t,i,c,u);return{activeIndex:String(c),activeCoordinate:h}}}},lae=(e,t,r,n,a,i,o,u)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?sae(e,t,n,a,i,o,u):oae(e,t,r,n,a,i,o)},cae=Ke(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),uae=Ke(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(_s)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:$te}});function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){fae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fae(e,t,r){return(t=dae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dae(e){var t=hae(e,"string");return typeof t=="symbol"?t:t+""}function hae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pae={},mae={zIndexMap:Object.values(_s).reduce((e,t)=>PO(PO({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),pae)},gae=new Set(Object.values(_s));function vae(e){return gae.has(e)}var HD=ko({name:"zIndex",initialState:mae,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Na()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!vae(r)&&delete e.zIndexMap[r])},prepare:Na()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Na()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Na()}}}),{registerZIndexPortal:bae,unregisterZIndexPortal:yae,registerZIndexPortalElement:xae,unregisterZIndexPortalElement:wae}=HD.actions,_ae=HD.reducer;function cc(e){var{zIndex:t,children:r}=e,n=sZ(),a=n&&t!==void 0&&t!==0,i=Io(),o=la();R.useLayoutEffect(()=>a?(o(bae({zIndex:t})),()=>{o(yae({zIndex:t}))}):j0,[o,t,a]);var u=Jt(d=>cae(d,t,i));return a?u?E3.createPortal(r,u):null:r}function $_(){return $_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$_.apply(null,arguments)}function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(n){Sae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sae(e,t,r){return(t=Aae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aae(e){var t=Eae(e,"string");return typeof t=="symbol"?t:t+""}function Eae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nae(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return R.isValidElement(t)?R.cloneElement(t,n):R.createElement(r,n)}function Cae(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:o,layout:u,cursor:d,tooltipEventType:c,chartName:h}=e,g=r,x=n,y=a;if(!d||!g||h!=="ScatterChart"&&c!=="axis")return null;var E,N,T;if(h==="ScatterChart")E=g,N=iQ,T=_s.cursorLine;else if(h==="BarChart")E=sQ(u,g,i,o),N=UP,T=_s.cursorRectangle;else if(u==="radial"&&_7(g)){var{cx:j,cy:D,radius:F,startAngle:U,endAngle:Z}=qP(g);E={cx:j,cy:D,startAngle:U,endAngle:Z,innerRadius:F,outerRadius:F},N=GP,T=_s.cursorLine}else E={points:XQ(u,g,i)},N=oS,T=_s.cursorLine;var X=typeof d=="object"&&"className"in d?d.className:void 0,$=bg(bg(bg(bg({stroke:"#ccc",pointerEvents:"none"},i),E),dp(d)),{},{payload:x,payloadIndex:y,className:On("recharts-tooltip-cursor",X)});return R.createElement(cc,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:T},R.createElement(Nae,{cursor:d,cursorComp:N,cursorProps:$}))}function Oae(e){var t=Vne(),r=wP(),n=k0(),a=eae();return t==null||r==null||n==null||a==null?null:R.createElement(Cae,$_({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var GD=R.createContext(null),Tae=()=>R.useContext(GD),Ww={exports:{}},DO;function jae(){return DO||(DO=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,c,h){this.fn=d,this.context=c,this.once=h||!1}function i(d,c,h,g,x){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new a(h,g||d,x),E=r?r+c:c;return d._events[E]?d._events[E].fn?d._events[E]=[d._events[E],y]:d._events[E].push(y):(d._events[E]=y,d._eventsCount++),d}function o(d,c){--d._eventsCount===0?d._events=new n:delete d._events[c]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var c=[],h,g;if(this._eventsCount===0)return c;for(g in h=this._events)t.call(h,g)&&c.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},u.prototype.listeners=function(c){var h=r?r+c:c,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var x=0,y=g.length,E=new Array(y);x<y;x++)E[x]=g[x].fn;return E},u.prototype.listenerCount=function(c){var h=r?r+c:c,g=this._events[h];return g?g.fn?1:g.length:0},u.prototype.emit=function(c,h,g,x,y,E){var N=r?r+c:c;if(!this._events[N])return!1;var T=this._events[N],j=arguments.length,D,F;if(T.fn){switch(T.once&&this.removeListener(c,T.fn,void 0,!0),j){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,g),!0;case 4:return T.fn.call(T.context,h,g,x),!0;case 5:return T.fn.call(T.context,h,g,x,y),!0;case 6:return T.fn.call(T.context,h,g,x,y,E),!0}for(F=1,D=new Array(j-1);F<j;F++)D[F-1]=arguments[F];T.fn.apply(T.context,D)}else{var U=T.length,Z;for(F=0;F<U;F++)switch(T[F].once&&this.removeListener(c,T[F].fn,void 0,!0),j){case 1:T[F].fn.call(T[F].context);break;case 2:T[F].fn.call(T[F].context,h);break;case 3:T[F].fn.call(T[F].context,h,g);break;case 4:T[F].fn.call(T[F].context,h,g,x);break;default:if(!D)for(Z=1,D=new Array(j-1);Z<j;Z++)D[Z-1]=arguments[Z];T[F].fn.apply(T[F].context,D)}}return!0},u.prototype.on=function(c,h,g){return i(this,c,h,g,!1)},u.prototype.once=function(c,h,g){return i(this,c,h,g,!0)},u.prototype.removeListener=function(c,h,g,x){var y=r?r+c:c;if(!this._events[y])return this;if(!h)return o(this,y),this;var E=this._events[y];if(E.fn)E.fn===h&&(!x||E.once)&&(!g||E.context===g)&&o(this,y);else{for(var N=0,T=[],j=E.length;N<j;N++)(E[N].fn!==h||x&&!E[N].once||g&&E[N].context!==g)&&T.push(E[N]);T.length?this._events[y]=T.length===1?T[0]:T:o(this,y)}return this},u.prototype.removeAllListeners=function(c){var h;return c?(h=r?r+c:c,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(Ww)),Ww.exports}var kae=jae();const Iae=Wc(kae);var Np=new Iae,W_="recharts.syncEvent.tooltip",LO="recharts.syncEvent.brush",$D=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!qc(r))return e[r]}},Mae={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},WD=ko({name:"options",initialState:Mae,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Pae=WD.reducer,{createEventEmitter:Rae}=WD.actions;function Dae(e){return e.tooltip.syncInteraction}var Lae={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},VD=ko({name:"chartData",initialState:Lae,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:BO,setDataStartEndIndexes:Bae,setComputedData:yve}=VD.actions,Fae=VD.reducer,Uae=["x","y"];function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(n){zae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zae(e,t,r){return(t=qae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qae(e){var t=Hae(e,"string");return typeof t=="symbol"?t:t+""}function Hae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gae(e,t){if(e==null)return{};var r,n,a=$ae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $ae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Wae(){var e=Jt(PS),t=Jt(RS),r=la(),n=Jt(UR),a=Jt(Gu),i=k0(),o=m2(),u=Jt(d=>d.rootProps.className);R.useEffect(()=>{if(e==null)return j0;var d=(c,h,g)=>{if(t!==g&&e===c){if(n==="index"){var x;if(o&&h!==null&&h!==void 0&&(x=h.payload)!==null&&x!==void 0&&x.coordinate&&h.payload.sourceViewBox){var y=h.payload.coordinate,{x:E,y:N}=y,T=Gae(y,Uae),{x:j,y:D,width:F,height:U}=h.payload.sourceViewBox,Z=Uh(Uh({},T),{},{x:o.x+(F?(E-j)/F:0)*o.width,y:o.y+(U?(N-D)/U:0)*o.height});r(Uh(Uh({},h),{},{payload:Uh(Uh({},h.payload),{},{coordinate:Z})}))}else r(h);return}if(a!=null){var X;if(typeof n=="function"){var $={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},Q=n(a,$);X=a[Q]}else n==="value"&&(X=a.find(re=>String(re.value)===h.payload.label));var{coordinate:q}=h.payload;if(X==null||h.payload.active===!1||q==null||o==null){r(H_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:se,y:H}=q,G=Math.min(se,o.x+o.width),ue=Math.min(H,o.y+o.height),J={x:i==="horizontal"?X.coordinate:G,y:i==="horizontal"?ue:X.coordinate},ae=H_({active:h.payload.active,coordinate:J,dataKey:h.payload.dataKey,index:String(X.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});r(ae)}}};return Np.on(W_,d),()=>{Np.off(W_,d)}},[u,r,t,e,n,a,i,o])}function Vae(){var e=Jt(PS),t=Jt(RS),r=la();R.useEffect(()=>{if(e==null)return j0;var n=(a,i,o)=>{t!==o&&e===a&&r(Bae(i))};return Np.on(LO,n),()=>{Np.off(LO,n)}},[r,t,e])}function Yae(){var e=la();R.useEffect(()=>{e(Rae())},[e]),Wae(),Vae()}function Xae(e,t,r,n,a,i){var o=Jt(y=>rae(y,e,t)),u=Jt(RS),d=Jt(PS),c=Jt(UR),h=Jt(Dae),g=h==null?void 0:h.active,x=m2();R.useEffect(()=>{if(!g&&d!=null&&u!=null){var y=H_({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:x,graphicalItemId:void 0});Np.emit(W_,d,y,u)}},[g,r,o,a,n,u,d,c,i,x])}function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){Kae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kae(e,t,r){return(t=Zae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zae(e){var t=Qae(e,"string");return typeof t=="symbol"?t:t+""}function Qae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jae(e){return e.dataKey}function eie(e,t){return R.isValidElement(e)?R.cloneElement(e,t):typeof e=="function"?R.createElement(e,t):R.createElement(BZ,t)}var qO=[],tie={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ab(e){var t,r,n=ls(e,tie),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:u,content:d,filterNull:c,isAnimationActive:h,offset:g,payloadUniqBy:x,position:y,reverseDirection:E,useTranslate3d:N,wrapperStyle:T,cursor:j,shared:D,trigger:F,defaultIndex:U,portal:Z,axisId:X}=n,$=la(),Q=typeof U=="number"?String(U):U;R.useEffect(()=>{$(Zre({shared:D,trigger:F,axisId:X,active:a,defaultIndex:Q}))},[$,D,F,X,a,Q]);var q=m2(),se=RP(),H=$re(D),{activeIndex:G,isActive:ue}=(t=Jt(Me=>iae(Me,H,F,Q)))!==null&&t!==void 0?t:{},J=Jt(Me=>aae(Me,H,F,Q)),ae=Jt(Me=>qD(Me,H,F,Q)),re=Jt(Me=>nae(Me,H,F,Q)),he=J,Se=Tae(),pe=(r=a??ue)!==null&&r!==void 0?r:!1,[be,oe]=D7([he,pe]),Y=H==="axis"?ae:void 0;Xae(H,F,re,Y,G,pe);var le=Z??Se;if(le==null||q==null||H==null)return null;var me=he??qO;pe||(me=qO),c&&me.length&&(me=k7(me.filter(Me=>Me.value!=null&&(Me.hide!==!0||n.includeHidden)),x,Jae));var Ce=me.length>0,we=R.createElement($Z,{allowEscapeViewBox:i,animationDuration:o,animationEasing:u,isAnimationActive:h,active:pe,coordinate:re,hasPayload:Ce,offset:g,position:y,reverseDirection:E,useTranslate3d:N,viewBox:q,wrapperStyle:T,lastBoundingBox:be,innerRef:oe,hasPortalFromProps:!!Z},eie(d,zO(zO({},n),{},{payload:me,label:Y,active:pe,activeIndex:G,coordinate:re,accessibilityLayer:se})));return R.createElement(R.Fragment,null,E3.createPortal(we,le),pe&&R.createElement(Oae,{cursor:j,tooltipEventType:H,coordinate:re,payload:me,index:G}))}var z0=e=>null;z0.displayName="Cell";function rie(e,t,r){return(t=nie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nie(e){var t=aie(e,"string");return typeof t=="symbol"?t:t+""}function aie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class iie{constructor(t){rie(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(r),!0).forEach(function(n){oie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oie(e,t,r){return(t=lie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lie(e){var t=cie(e,"string");return typeof t=="symbol"?t:t+""}function cie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uie={cacheSize:2e3,enableCache:!0},YD=sie({},uie),GO=new iie(YD.cacheSize),fie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$O="recharts_measurement_span";function die(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(u)}var WO=(e,t)=>{try{var r=document.getElementById($O);r||(r=document.createElement("span"),r.setAttribute("id",$O),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,fie,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},J1=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||y2.isSsr)return{width:0,height:0};if(!YD.enableCache)return WO(t,r);var n=die(t,r),a=GO.get(n);if(a)return a;var i=WO(t,r);return GO.set(n,i),i},XD;function hie(e,t,r){return(t=pie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pie(e){var t=mie(e,"string");return typeof t=="symbol"?t:t+""}function mie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,vie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,bie={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},yie=["cm","mm","pt","pc","in","Q","px"];function xie(e){return yie.includes(e)}var r0="NaN";function wie(e,t){return e*bie[t]}class ws{static parse(t){var r,[,n,a]=(r=vie.exec(t))!==null&&r!==void 0?r:[];return n==null?ws.NaN:new ws(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,qc(t)&&(this.unit=""),r!==""&&!gie.test(r)&&(this.num=NaN,this.unit=""),xie(r)&&(this.num=wie(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new ws(NaN,""):new ws(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ws(NaN,""):new ws(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ws(NaN,""):new ws(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ws(NaN,""):new ws(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return qc(this.num)}}XD=ws;hie(ws,"NaN",new XD(NaN,""));function KD(e){if(e==null||e.includes(r0))return r0;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=VO.exec(t))!==null&&r!==void 0?r:[],o=ws.parse(n??""),u=ws.parse(i??""),d=a==="*"?o.multiply(u):o.divide(u);if(d.isNaN())return r0;t=t.replace(VO,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,h,g,x]=(c=YO.exec(t))!==null&&c!==void 0?c:[],y=ws.parse(h??""),E=ws.parse(x??""),N=g==="+"?y.add(E):y.subtract(E);if(N.isNaN())return r0;t=t.replace(YO,N.toString())}return t}var XO=/\(([^()]*)\)/;function _ie(e){for(var t=e,r;(r=XO.exec(t))!=null;){var[,n]=r;t=t.replace(XO,KD(n))}return t}function Sie(e){var t=e.replace(/\s+/g,"");return t=_ie(t),t=KD(t),t}function Aie(e){try{return Sie(e)}catch{return r0}}function Vw(e){var t=Aie(e.slice(5,-1));return t===r0?"":t}var Eie=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Nie=["dx","dy","angle","className","breakAll"];function V_(){return V_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V_.apply(null,arguments)}function KO(e,t){if(e==null)return{};var r,n,a=Cie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Cie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ZD=/[ \f\n\r\t\v\u2028\u2029]+/,QD=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];os(t)||(r?a=t.toString().split(""):a=t.toString().split(ZD));var i=a.map(u=>({word:u,width:J1(u,n).width})),o=r?0:J1("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function Oie(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var JD=(e,t,r,n)=>e.reduce((a,i)=>{var{word:o,width:u}=i,d=a[a.length-1];if(d&&u!=null&&(t==null||n||d.width+u+r<Number(t)))d.words.push(o),d.width+=u+r;else{var c={words:[o],width:u};a.push(c)}return a},[]),eL=e=>e.reduce((t,r)=>t.width>r.width?t:r),Tie="",ZO=(e,t,r,n,a,i,o,u)=>{var d=e.slice(0,t),c=QD({breakAll:r,style:n,children:d+Tie});if(!c)return[!1,[]];var h=JD(c.wordsWithComputedWidth,i,o,u),g=h.length>a||eL(h).width>Number(i);return[g,h]},jie=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:u,breakAll:d}=e,c=Yt(i),h=String(o),g=JD(t,n,r,a);if(!c||a)return g;var x=g.length>i||eL(g).width>Number(n);if(!x)return g;for(var y=0,E=h.length-1,N=0,T;y<=E&&N<=h.length-1;){var j=Math.floor((y+E)/2),D=j-1,[F,U]=ZO(h,D,d,u,i,n,r,a),[Z]=ZO(h,j,d,u,i,n,r,a);if(!F&&!Z&&(y=j+1),F&&Z&&(E=j-1),!F&&Z){T=U;break}N++}return T||g},QO=e=>{var t=os(e)?[]:e.toString().split(ZD);return[{words:t,width:void 0}]},kie=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!y2.isSsr){var u,d,c=QD({breakAll:i,children:n,style:a});if(c){var{wordsWithComputedWidth:h,spaceWidth:g}=c;u=h,d=g}else return QO(n);return jie({breakAll:i,children:n,maxLines:o,style:a},u,d,t,!!r)}return QO(n)},tL="#808080",Iie={angle:0,breakAll:!1,capHeight:"0.71em",fill:tL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},U2=R.forwardRef((e,t)=>{var r=ls(e,Iie),{x:n,y:a,lineHeight:i,capHeight:o,fill:u,scaleToFit:d,textAnchor:c,verticalAnchor:h}=r,g=KO(r,Eie),x=R.useMemo(()=>kie({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),{dx:y,dy:E,angle:N,className:T,breakAll:j}=g,D=KO(g,Nie);if(!Hc(n)||!Hc(a)||x.length===0)return null;var F=Number(n)+(Yt(y)?y:0),U=Number(a)+(Yt(E)?E:0);if(!ln(F)||!ln(U))return null;var Z;switch(h){case"start":Z=Vw("calc(".concat(o,")"));break;case"middle":Z=Vw("calc(".concat((x.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:Z=Vw("calc(".concat(x.length-1," * -").concat(i,")"));break}var X=[],$=x[0];if(d&&$!=null){var Q=$.width,{width:q}=g;X.push("scale(".concat(Yt(q)&&Yt(Q)?q/Q:1,")"))}return N&&X.push("rotate(".concat(N,", ").concat(F,", ").concat(U,")")),X.length&&(D.transform=X.join(" ")),R.createElement("text",V_({},Al(D),{ref:t,x:F,y:U,className:On("recharts-text",T),textAnchor:c,fill:u.includes("url")?tL:u}),x.map((se,H)=>{var G=se.words.join(j?"":" ");return R.createElement("tspan",{x:F,dy:H===0?Z:i,key:"".concat(G,"-").concat(H)},G)}))});U2.displayName="Text";function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(n){Mie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mie(e,t,r){return(t=Pie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pie(e){var t=Rie(e,"string");return typeof t=="symbol"?t:t+""}function Rie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Die=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:a}=e,{x:i,y:o,height:u,upperWidth:d,lowerWidth:c}=rS(t),h=i,g=i+(d-c)/2,x=(h+g)/2,y=(d+c)/2,E=h+d/2,N=u>=0?1:-1,T=N*n,j=N>0?"end":"start",D=N>0?"start":"end",F=d>=0?1:-1,U=F*n,Z=F>0?"end":"start",X=F>0?"start":"end",$=a;if(r==="top"){var Q={x:h+d/2,y:o-T,horizontalAnchor:"middle",verticalAnchor:j};return $&&(Q.height=Math.max(o-$.y,0),Q.width=d),Q}if(r==="bottom"){var q={x:g+c/2,y:o+u+T,horizontalAnchor:"middle",verticalAnchor:D};return $&&(q.height=Math.max($.y+$.height-(o+u),0),q.width=c),q}if(r==="left"){var se={x:x-U,y:o+u/2,horizontalAnchor:Z,verticalAnchor:"middle"};return $&&(se.width=Math.max(se.x-$.x,0),se.height=u),se}if(r==="right"){var H={x:x+y+U,y:o+u/2,horizontalAnchor:X,verticalAnchor:"middle"};return $&&(H.width=Math.max($.x+$.width-H.x,0),H.height=u),H}var G=$?{width:y,height:u}:{};return r==="insideLeft"?Tc({x:x+U,y:o+u/2,horizontalAnchor:X,verticalAnchor:"middle"},G):r==="insideRight"?Tc({x:x+y-U,y:o+u/2,horizontalAnchor:Z,verticalAnchor:"middle"},G):r==="insideTop"?Tc({x:h+d/2,y:o+T,horizontalAnchor:"middle",verticalAnchor:D},G):r==="insideBottom"?Tc({x:g+c/2,y:o+u-T,horizontalAnchor:"middle",verticalAnchor:j},G):r==="insideTopLeft"?Tc({x:h+U,y:o+T,horizontalAnchor:X,verticalAnchor:D},G):r==="insideTopRight"?Tc({x:h+d-U,y:o+T,horizontalAnchor:Z,verticalAnchor:D},G):r==="insideBottomLeft"?Tc({x:g+U,y:o+u-T,horizontalAnchor:X,verticalAnchor:j},G):r==="insideBottomRight"?Tc({x:g+c-U,y:o+u-T,horizontalAnchor:Z,verticalAnchor:j},G):r&&typeof r=="object"&&(Yt(r.x)||Rd(r.x))&&(Yt(r.y)||Rd(r.y))?Tc({x:i+Fs(r.x,y),y:o+Fs(r.y,u),horizontalAnchor:"end",verticalAnchor:"end"},G):Tc({x:E,y:o+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},G)},Lie=["labelRef"],Bie=["content"];function eT(e,t){if(e==null)return{};var r,n,a=Fie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Fie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function X1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tT(Object(r),!0).forEach(function(n){Uie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uie(e,t,r){return(t=zie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zie(e){var t=qie(e,"string");return typeof t=="symbol"?t:t+""}function qie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wu(){return wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wu.apply(null,arguments)}var rL=R.createContext(null),Hie=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o,children:u}=e,d=R.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o}),[t,r,n,a,i,o]);return R.createElement(rL.Provider,{value:d},u)},nL=()=>{var e=R.useContext(rL),t=m2();return e||(t?rS(t):void 0)},Gie=R.createContext(null),$ie=()=>{var e=R.useContext(Gie),t=Jt($R);return e||t},Wie=e=>{var{value:t,formatter:r}=e,n=os(e.children)?t:e.children;return typeof r=="function"?r(n):n},bA=e=>e!=null&&typeof e=="function",Vie=(e,t)=>{var r=ss(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Yie=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:u,cy:d,innerRadius:c,outerRadius:h,startAngle:g,endAngle:x,clockWise:y}=a,E=(c+h)/2,N=Vie(g,x),T=N>=0?1:-1,j,D;switch(t){case"insideStart":j=g+T*i,D=y;break;case"insideEnd":j=x-T*i,D=!y;break;case"end":j=x+T*i,D=y;break;default:throw new Error("Unsupported position ".concat(t))}D=N<=0?D:!D;var F=Si(u,d,E,j),U=Si(u,d,E,j+(D?1:-1)*359),Z="M".concat(F.x,",").concat(F.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(D?0:1,`,
    `).concat(U.x,",").concat(U.y),X=os(e.id)?hp("recharts-radial-line-"):e.id;return R.createElement("text",wu({},n,{dominantBaseline:"central",className:On("recharts-radial-bar-label",o)}),R.createElement("defs",null,R.createElement("path",{id:X,d:Z})),R.createElement("textPath",{xlinkHref:"#".concat(X)},r))},Xie=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d}=e,c=(u+d)/2;if(r==="outside"){var{x:h,y:g}=Si(n,a,o+t,c);return{x:h,y:g,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(i+o)/2,{x:y,y:E}=Si(n,a,x,c);return{x:y,y:E,textAnchor:"middle",verticalAnchor:"middle"}},_v=e=>e!=null&&"cx"in e&&Yt(e.cx),Kie={angle:0,offset:5,zIndex:_s.label,position:"middle",textBreakAll:!1};function Zie(e){if(!_v(e))return e;var{cx:t,cy:r,outerRadius:n}=e,a=n*2;return{x:t-n,y:r-n,width:a,upperWidth:a,lowerWidth:a,height:a}}function Ef(e){var t=ls(e,Kie),{viewBox:r,parentViewBox:n,position:a,value:i,children:o,content:u,className:d="",textBreakAll:c,labelRef:h}=t,g=$ie(),x=nL(),y=a==="center"?x:g??x,E,N,T;r==null?E=y:_v(r)?E=r:E=rS(r);var j=Zie(E);if(!E||os(i)&&os(o)&&!R.isValidElement(u)&&typeof u!="function")return null;var D=X1(X1({},t),{},{viewBox:E});if(R.isValidElement(u)){var{labelRef:F}=D,U=eT(D,Lie);return R.cloneElement(u,U)}if(typeof u=="function"){var{content:Z}=D,X=eT(D,Bie);if(N=R.createElement(u,X),R.isValidElement(N))return N}else N=Wie(t);var $=Al(t);if(_v(E)){if(a==="insideStart"||a==="insideEnd"||a==="end")return Yie(t,a,N,$,E);T=Xie(E,t.offset,t.position)}else{if(!j)return null;var Q=Die({viewBox:j,position:a,offset:t.offset,parentViewBox:_v(n)?void 0:n});T=X1(X1({x:Q.x,y:Q.y,textAnchor:Q.horizontalAnchor,verticalAnchor:Q.verticalAnchor},Q.width!==void 0?{width:Q.width}:{}),Q.height!==void 0?{height:Q.height}:{})}return R.createElement(cc,{zIndex:t.zIndex},R.createElement(U2,wu({ref:h,className:On("recharts-label",d)},$,T,{textAnchor:Oie($.textAnchor)?$.textAnchor:T.textAnchor,breakAll:c}),N))}Ef.displayName="Label";var Qie=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?R.createElement(Ef,wu({key:"label-implicit"},n)):Hc(e)?R.createElement(Ef,wu({key:"label-implicit",value:e},n)):R.isValidElement(e)?e.type===Ef?R.cloneElement(e,X1({key:"label-implicit"},n)):R.createElement(Ef,wu({key:"label-implicit",content:e},n)):bA(e)?R.createElement(Ef,wu({key:"label-implicit",content:e},n)):e&&typeof e=="object"?R.createElement(Ef,wu({},e,{key:"label-implicit"},n)):null};function Jie(e){var{label:t,labelRef:r}=e,n=nL();return Qie(t,n,r)||null}var Yw={},Xw={},rT;function ese(){return rT||(rT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Xw)),Xw}var Kw={},nT;function tse(){return nT||(nT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Kw)),Kw}var aT;function rse(){return aT||(aT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ese(),r=tse(),n=$3();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(Yw)),Yw}var Zw,iT;function nse(){return iT||(iT=1,Zw=rse().last),Zw}var ase=nse();const ise=Wc(ase);var sse=["valueAccessor"],ose=["dataKey","clockWise","id","textBreakAll","zIndex"];function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eb.apply(null,arguments)}function sT(e,t){if(e==null)return{};var r,n,a=lse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cse=e=>Array.isArray(e.value)?ise(e.value):e.value,aL=R.createContext(void 0),use=aL.Provider,iL=R.createContext(void 0),fse=iL.Provider;function dse(){return R.useContext(aL)}function hse(){return R.useContext(iL)}function Sv(e){var{valueAccessor:t=cse}=e,r=sT(e,sse),{dataKey:n,clockWise:a,id:i,textBreakAll:o,zIndex:u}=r,d=sT(r,ose),c=dse(),h=hse(),g=c||h;return!g||!g.length?null:R.createElement(cc,{zIndex:u??_s.label},R.createElement(ro,{className:"recharts-label-list"},g.map((x,y)=>{var E,N=os(n)?t(x,y):ya(x.payload,n),T=os(i)?{}:{id:"".concat(i,"-").concat(y)};return R.createElement(Ef,Eb({key:"label-".concat(y)},Al(x),d,T,{fill:(E=r.fill)!==null&&E!==void 0?E:x.fill,parentViewBox:x.parentViewBox,value:N,textBreakAll:o,viewBox:x.viewBox,index:y,zIndex:0}))})))}Sv.displayName="LabelList";function sL(e){var{label:t}=e;return t?t===!0?R.createElement(Sv,{key:"labelList-implicit"}):R.isValidElement(t)||bA(t)?R.createElement(Sv,{key:"labelList-implicit",content:t}):typeof t=="object"?R.createElement(Sv,Eb({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var oL=e=>e.graphicalItems.polarItems,pse=Ke([Pa,Wp],zS),z2=Ke([oL,ei,pse],HS),mse=Ke([z2],GS),q2=Ke([mse,O2],$S),gse=Ke([q2,ei,z2],VS);Ke([q2,ei,z2],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,o=ya(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:ya(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var oT=()=>{},vse=Ke([q2,ei,z2,D2,Pa],ZS),bse=Ke([ei,XS,KS,oT,vse,oT,Tn,Pa],QS),lL=Ke([ei,Tn,q2,gse,$p,Pa,bse],JS),yse=Ke([lL,D0,Hf],rA),xse=Ke([ei,lL,yse,Pa],aA);Ke([Hf,xse],VR);var wse={radiusAxis:{},angleAxis:{}},cL=ko({name:"polarAxis",initialState:wse,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:xve,removeRadiusAxis:wve,addAngleAxis:_ve,removeAngleAxis:Sve}=cL.actions,_se=cL.reducer;function uL(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function lT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(r),!0).forEach(function(n){Sse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sse(e,t,r){return(t=Ase(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ase(e){var t=Ese(e,"string");return typeof t=="symbol"?t:t+""}function Ese(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nse=(e,t)=>t,yA=Ke([oL,Nse],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Cse=[],xA=(e,t,r)=>(r==null?void 0:r.length)===0?Cse:r,fL=Ke([O2,yA,xA],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>cT(cT({},t.presentationProps),i.props))),a!=null)return a}}),Ose=Ke([fL,yA,xA],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,o=ya(n,t.nameKey,t.name),u;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?u=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?u=n.fill:u=t.fill,{value:u2(o,t.dataKey),color:u,payload:n,type:t.legendType}})}),Tse=Ke([fL,yA,xA,Ui],(e,t,r,n)=>{if(!(t==null||e==null))return Ioe({offset:n,pieSettings:t,displayedData:e,cells:r})}),Qw={exports:{}},Vn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT;function jse(){if(uT)return Vn;uT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function E(N){if(typeof N=="object"&&N!==null){var T=N.$$typeof;switch(T){case e:switch(N=N.type,N){case r:case a:case n:case d:case c:case x:return N;default:switch(N=N&&N.$$typeof,N){case o:case u:case g:case h:return N;case i:return N;default:return T}}case t:return T}}}return Vn.ContextConsumer=i,Vn.ContextProvider=o,Vn.Element=e,Vn.ForwardRef=u,Vn.Fragment=r,Vn.Lazy=g,Vn.Memo=h,Vn.Portal=t,Vn.Profiler=a,Vn.StrictMode=n,Vn.Suspense=d,Vn.SuspenseList=c,Vn.isContextConsumer=function(N){return E(N)===i},Vn.isContextProvider=function(N){return E(N)===o},Vn.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},Vn.isForwardRef=function(N){return E(N)===u},Vn.isFragment=function(N){return E(N)===r},Vn.isLazy=function(N){return E(N)===g},Vn.isMemo=function(N){return E(N)===h},Vn.isPortal=function(N){return E(N)===t},Vn.isProfiler=function(N){return E(N)===a},Vn.isStrictMode=function(N){return E(N)===n},Vn.isSuspense=function(N){return E(N)===d},Vn.isSuspenseList=function(N){return E(N)===c},Vn.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===r||N===a||N===n||N===d||N===c||typeof N=="object"&&N!==null&&(N.$$typeof===g||N.$$typeof===h||N.$$typeof===o||N.$$typeof===i||N.$$typeof===u||N.$$typeof===y||N.getModuleId!==void 0)},Vn.typeOf=E,Vn}var fT;function kse(){return fT||(fT=1,Qw.exports=jse()),Qw.exports}var Ise=kse(),dT=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",hT=null,Jw=null,dL=e=>{if(e===hT&&Array.isArray(Jw))return Jw;var t=[];return R.Children.forEach(e,r=>{os(r)||(Ise.isFragment(r)?t=t.concat(dL(r.props.children)):t.push(r))}),Jw=t,hT=e,t};function wA(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>dT(a)):n=[dT(t)],dL(e).forEach(a=>{var i=Pd(a,"type.displayName")||Pd(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var e5={},pT;function Mse(){return pT||(pT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(e5)),e5}var t5,mT;function Pse(){return mT||(mT=1,t5=Mse().isPlainObject),t5}var Rse=Pse();const Dse=Wc(Rse);var gT,vT,bT,yT,xT;function wT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _T(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(r),!0).forEach(function(n){Lse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lse(e,t,r){return(t=Bse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bse(e){var t=Fse(e,"string");return typeof t=="symbol"?t:t+""}function Fse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nb.apply(null,arguments)}function P1(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ST=(e,t,r,n,a)=>{var i=r-n,o;return o=Za(gT||(gT=P1(["M ",",",""])),e,t),o+=Za(vT||(vT=P1(["L ",",",""])),e+r,t),o+=Za(bT||(bT=P1(["L ",",",""])),e+r-i/2,t+a),o+=Za(yT||(yT=P1(["L ",",",""])),e+r-i/2-n,t+a),o+=Za(xT||(xT=P1(["L ",","," Z"])),e,t),o},Use={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zse=e=>{var t=ls(e,Use),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:u}=t,{animationEasing:d,animationDuration:c,animationBegin:h,isUpdateAnimationActive:g}=t,x=R.useRef(null),[y,E]=R.useState(-1),N=R.useRef(a),T=R.useRef(i),j=R.useRef(o),D=R.useRef(r),F=R.useRef(n),U=w2(e,"trapezoid-");if(R.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var J=x.current.getTotalLength();J&&E(J)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var Z=On("recharts-trapezoid",u);if(!g)return R.createElement("g",null,R.createElement("path",Nb({},Al(t),{className:Z,d:ST(r,n,a,i,o)})));var X=N.current,$=T.current,Q=j.current,q=D.current,se=F.current,H="0px ".concat(y===-1?1:y,"px"),G="".concat(y,"px 0px"),ue=DP(["strokeDasharray"],c,d);return R.createElement(x2,{animationId:U,key:U,canBegin:y>0,duration:c,easing:d,isActive:g,begin:h},J=>{var ae=Bi(X,a,J),re=Bi($,i,J),he=Bi(Q,o,J),Se=Bi(q,r,J),pe=Bi(se,n,J);x.current&&(N.current=ae,T.current=re,j.current=he,D.current=Se,F.current=pe);var be=J>0?{transition:ue,strokeDasharray:G}:{strokeDasharray:H};return R.createElement("path",Nb({},Al(t),{className:Z,d:ST(Se,pe,ae,re,he),ref:x,style:_T(_T({},be),t.style)}))})},qse=["option","shapeType","activeClassName"];function Hse(e,t){if(e==null)return{};var r,n,a=Gse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Gse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function AT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(r),!0).forEach(function(n){$se(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $se(e,t,r){return(t=Wse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wse(e){var t=Vse(e,"string");return typeof t=="symbol"?t:t+""}function Vse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yse(e,t){return Cb(Cb({},t),e)}function Xse(e,t){return e==="symbols"}function ET(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return R.createElement(UP,r);case"trapezoid":return R.createElement(zse,r);case"sector":return R.createElement(GP,r);case"symbols":if(Xse(t))return R.createElement(G3,r);break;case"curve":return R.createElement(oS,r);default:return null}}function Kse(e){return R.isValidElement(e)?e.props:e}function hL(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=Hse(e,qse),i;if(R.isValidElement(t))i=R.cloneElement(t,Cb(Cb({},a),Kse(t)));else if(typeof t=="function")i=t(a,a.index);else if(Dse(t)&&typeof t!="boolean"){var o=Yse(t,a);i=R.createElement(ET,{shapeType:r,elementProps:o})}else{var u=a;i=R.createElement(ET,{shapeType:r,elementProps:u})}return a.isActive?R.createElement(ro,{className:n},i):i}var _A=(e,t,r)=>{var n=la();return(a,i)=>o=>{e==null||e(a,i,o),n(SD({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},SA=e=>{var t=la();return(r,n)=>a=>{e==null||e(r,n,a),t(Qre())}},AA=(e,t,r)=>{var n=la();return(a,i)=>o=>{e==null||e(a,i,o),n(Jre({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function pL(e){var{tooltipEntrySettings:t}=e,r=la(),n=Io(),a=R.useRef(null);return R.useLayoutEffect(()=>{n||(a.current===null?r(Yre(t)):a.current!==t&&r(Xre({prev:a.current,next:t})),a.current=t)},[t,r,n]),R.useLayoutEffect(()=>()=>{a.current&&(r(Kre(a.current)),a.current=null)},[r]),null}function Zse(e){var{legendPayload:t}=e,r=la(),n=Io(),a=R.useRef(null);return R.useLayoutEffect(()=>{n||(a.current===null?r(kP(t)):a.current!==t&&r(IP({prev:a.current,next:t})),a.current=t)},[r,n,t]),R.useLayoutEffect(()=>()=>{a.current&&(r(MP(a.current)),a.current=null)},[r]),null}function Qse(e){var{legendPayload:t}=e,r=la(),n=Jt(Tn),a=R.useRef(null);return R.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(kP(t)):a.current!==t&&r(IP({prev:a.current,next:t})),a.current=t)},[r,n,t]),R.useLayoutEffect(()=>()=>{a.current&&(r(MP(a.current)),a.current=null)},[r]),null}var r5,Jse=()=>{var[e]=R.useState(()=>hp("uid-"));return e},eoe=(r5=FF.useId)!==null&&r5!==void 0?r5:Jse;function toe(e,t){var r=eoe();return t||(e?"".concat(e,"-").concat(r):r)}var roe=R.createContext(void 0),mL=e=>{var{id:t,type:r,children:n}=e,a=toe("recharts-".concat(r),t);return R.createElement(roe.Provider,{value:a},n(a))},noe={cartesianItems:[],polarItems:[]},gL=ko({name:"graphicalItems",initialState:noe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Na()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=rc(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Na()},removeCartesianGraphicalItem:{reducer(e,t){var r=rc(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Na()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Na()},removePolarGraphicalItem:{reducer(e,t){var r=rc(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Na()}}}),{addCartesianGraphicalItem:aoe,replaceCartesianGraphicalItem:ioe,removeCartesianGraphicalItem:soe,addPolarGraphicalItem:ooe,removePolarGraphicalItem:loe}=gL.actions,coe=gL.reducer,uoe=e=>{var t=la(),r=R.useRef(null);return R.useLayoutEffect(()=>{r.current===null?t(aoe(e)):r.current!==e&&t(ioe({prev:r.current,next:e})),r.current=e},[t,e]),R.useLayoutEffect(()=>()=>{r.current&&(t(soe(r.current)),r.current=null)},[t]),null},foe=R.memo(uoe);function doe(e){var t=la();return R.useLayoutEffect(()=>(t(ooe(e)),()=>{t(loe(e))}),[t,e]),null}var hoe=["key"],poe=["onMouseEnter","onClick","onMouseLeave"],moe=["id"],goe=["id"];function NT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(r),!0).forEach(function(n){voe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function voe(e,t,r){return(t=boe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function boe(e){var t=yoe(e,"string");return typeof t=="symbol"?t:t+""}function yoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rf.apply(null,arguments)}function H2(e,t){if(e==null)return{};var r,n,a=xoe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function woe(e){var t=R.useMemo(()=>wA(e.children,z0),[e.children]),r=Jt(n=>Ose(n,e.id,t));return r==null?null:R.createElement(Qse,{legendPayload:r})}var _oe=R.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:o,name:u,hide:d,tooltipType:c,id:h}=e,g={dataDefinedOnItem:n.map(x=>x.tooltipPayload),getPosition:x=>{var y;return(y=n[Number(x)])===null||y===void 0?void 0:y.tooltipPosition},settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:u2(u,t),hide:d,type:c,color:o,unit:"",graphicalItemId:h}};return R.createElement(pL,{tooltipEntrySettings:g})}),Soe=(e,t)=>e>t?"start":e<t?"end":"middle",Aoe=(e,t,r)=>Fs(typeof t=="function"?t(e):t,r,r*.8),Eoe=(e,t,r)=>{var{top:n,left:a,width:i,height:o}=t,u=zP(i,o),d=a+Fs(e.cx,i,i/2),c=n+Fs(e.cy,o,o/2),h=Fs(e.innerRadius,u,0),g=Aoe(r,e.outerRadius,u),x=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:d,cy:c,innerRadius:h,outerRadius:g,maxRadius:x}},Noe=(e,t)=>{var r=ss(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Coe=(e,t)=>{if(R.isValidElement(e))return R.cloneElement(e,t);if(typeof e=="function")return e(t);var r=On("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=H2(t,hoe);return R.createElement(oS,Rf({},a,{type:"linear",className:r}))},Ooe=(e,t,r)=>{if(R.isValidElement(e))return R.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),R.isValidElement(n)))return n;var a=On("recharts-pie-label-text",uL(e));return R.createElement(U2,Rf({},t,{alignmentBaseline:"middle",className:a}),n)};function Toe(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:o}=r;if(!n||!a||!t)return null;var u=nc(r),d=dp(a),c=dp(i),h=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=t.map((x,y)=>{var E=(x.startAngle+x.endAngle)/2,N=Si(x.cx,x.cy,x.outerRadius+h,E),T=Qa(Qa(Qa(Qa({},u),x),{},{stroke:"none"},d),{},{index:y,textAnchor:Soe(N.x,x.cx)},N),j=Qa(Qa(Qa(Qa({},u),x),{},{fill:"none",stroke:x.fill},c),{},{index:y,points:[Si(x.cx,x.cy,x.outerRadius,E),N],key:"line"});return R.createElement(cc,{zIndex:_s.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(y)},R.createElement(ro,null,i&&Coe(i,j),Ooe(a,T,ya(x,o))))});return R.createElement(ro,{className:"recharts-pie-labels"},g)}function joe(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?R.createElement(sL,{label:a}):R.createElement(Toe,{sectors:t,props:r,showLabels:n})}function koe(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:i,id:o}=e,u=Jt(Ud),d=Jt(hA),c=Jt(Bne),{onMouseEnter:h,onClick:g,onMouseLeave:x}=a,y=H2(a,poe),E=_A(h,a.dataKey,o),N=SA(x),T=AA(g,a.dataKey,o);return t==null||t.length===0?null:R.createElement(R.Fragment,null,t.map((j,D)=>{if((j==null?void 0:j.startAngle)===0&&(j==null?void 0:j.endAngle)===0&&t.length!==1)return null;var F=c==null||c===o,U=String(D)===u&&(d==null||a.dataKey===d)&&F,Z=u?n:null,X=r&&U?r:Z,$=Qa(Qa({},j),{},{stroke:j.stroke,tabIndex:-1,[gP]:D,[vP]:o});return R.createElement(ro,Rf({key:"sector-".concat(j==null?void 0:j.startAngle,"-").concat(j==null?void 0:j.endAngle,"-").concat(j.midAngle,"-").concat(D),tabIndex:-1,className:"recharts-pie-sector"},Rp(y,j,D),{onMouseEnter:E(j,D),onMouseLeave:N(j,D),onClick:T(j,D)}),R.createElement(hL,Rf({option:i??X,index:D,shapeType:"sector",isActive:U},$)))}))}function Ioe(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:o,startAngle:u,endAngle:d,dataKey:c,nameKey:h,tooltipType:g}=r,x=Math.abs(r.minAngle),y=Noe(u,d),E=Math.abs(y),N=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,T=n.filter(X=>ya(X,c,0)!==0).length,j=(E>=360?T:T-1)*N,D=E-T*x-j,F=n.reduce((X,$)=>{var Q=ya($,c,0);return X+(Yt(Q)?Q:0)},0),U;if(F>0){var Z;U=n.map((X,$)=>{var Q=ya(X,c,0),q=ya(X,h,$),se=Eoe(r,i,X),H=(Yt(Q)?Q:0)/F,G,ue=Qa(Qa({},X),a&&a[$]&&a[$].props);$?G=Z.endAngle+ss(y)*N*(Q!==0?1:0):G=u;var J=G+ss(y)*((Q!==0?x:0)+H*D),ae=(G+J)/2,re=(se.innerRadius+se.outerRadius)/2,he=[{name:q,value:Q,payload:ue,dataKey:c,type:g,graphicalItemId:r.id}],Se=Si(se.cx,se.cy,re,ae);return Z=Qa(Qa(Qa(Qa({},r.presentationProps),{},{percent:H,cornerRadius:typeof o=="string"?parseFloat(o):o,name:q,tooltipPayload:he,midAngle:ae,middleRadius:re,tooltipPosition:Se},ue),se),{},{value:Q,dataKey:c,startAngle:G,endAngle:J,payload:ue,paddingAngle:ss(y)*N}),Z})}return U}function Moe(e){var{showLabels:t,sectors:r,children:n}=e,a=R.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return R.createElement(fse,{value:t?a:void 0},n)}function Poe(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:i,animationBegin:o,animationDuration:u,animationEasing:d,activeShape:c,inactiveShape:h,onAnimationStart:g,onAnimationEnd:x}=t,y=w2(t,"recharts-pie-"),E=r.current,[N,T]=R.useState(!1),j=R.useCallback(()=>{typeof x=="function"&&x(),T(!1)},[x]),D=R.useCallback(()=>{typeof g=="function"&&g(),T(!0)},[g]);return R.createElement(Moe,{showLabels:!N,sectors:a},R.createElement(x2,{animationId:y,begin:o,duration:u,isActive:i,easing:d,onAnimationStart:D,onAnimationEnd:j,key:y},F=>{var U,Z=[],X=a&&a[0],$=(U=X==null?void 0:X.startAngle)!==null&&U!==void 0?U:0;return a==null||a.forEach((Q,q)=>{var se=E&&E[q],H=q>0?Pd(Q,"paddingAngle",0):0;if(se){var G=Bi(se.endAngle-se.startAngle,Q.endAngle-Q.startAngle,F),ue=Qa(Qa({},Q),{},{startAngle:$+H,endAngle:$+G+H});Z.push(ue),$=ue.endAngle}else{var{endAngle:J,startAngle:ae}=Q,re=Bi(0,J-ae,F),he=Qa(Qa({},Q),{},{startAngle:$+H,endAngle:$+re+H});Z.push(he),$=he.endAngle}}),r.current=Z,R.createElement(ro,null,R.createElement(koe,{sectors:Z,activeShape:c,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:n}))}),R.createElement(joe,{showLabels:!N,sectors:a,props:t}),t.children)}var Roe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:_s.area};function Doe(e){var{id:t}=e,r=H2(e,moe),{hide:n,className:a,rootTabIndex:i}=e,o=R.useMemo(()=>wA(e.children,z0),[e.children]),u=Jt(h=>Tse(h,t,o)),d=R.useRef(null),c=On("recharts-pie",a);return n||u==null?(d.current=null,R.createElement(ro,{tabIndex:i,className:c})):R.createElement(cc,{zIndex:e.zIndex},R.createElement(_oe,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),R.createElement(ro,{tabIndex:i,className:c},R.createElement(Poe,{props:Qa(Qa({},r),{},{sectors:u}),previousSectorsRef:d,id:t})))}function EA(e){var t=ls(e,Roe),{id:r}=t,n=H2(t,goe),a=nc(n);return R.createElement(mL,{id:r,type:"pie"},i=>R.createElement(R.Fragment,null,R.createElement(doe,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),R.createElement(woe,Rf({},n,{id:i})),R.createElement(Doe,Rf({},n,{id:i}))))}EA.displayName="Pie";function CT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(r),!0).forEach(function(n){Loe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Loe(e,t,r){return(t=Boe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Boe(e){var t=Foe(e,"string");return typeof t=="symbol"?t:t+""}function Foe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vL=0,Uoe={xAxis:{},yAxis:{},zAxis:{}},bL=ko({name:"cartesianAxis",initialState:Uoe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Na()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Na()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Na()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Na()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Na()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Na()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Na()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Na()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Na()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i,o=a.widthHistory||[];if(o.length===3&&o[0]===o[2]&&n===o[1]&&n!==a.width&&Math.abs(n-((i=o[0])!==null&&i!==void 0?i:0))<=1)return;var u=[...o,n].slice(-3);e.yAxis[r]=OT(OT({},a),{},{width:n,widthHistory:u})}}}}),{addXAxis:zoe,replaceXAxis:qoe,removeXAxis:Hoe,addYAxis:Goe,replaceYAxis:$oe,removeYAxis:Woe,addZAxis:Ave,replaceZAxis:Eve,removeZAxis:Nve,updateYAxisWidth:Voe}=bL.actions,Yoe=bL.reducer,Xoe=Ke([Ui],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Koe=Ke([Xoe,Bu,Fu],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),yL=()=>Jt(Koe),TT=(e,t,r)=>{var n=r??e;if(!os(n))return Fs(n,t,0)},Zoe=(e,t,r)=>{var n={},a=e.filter(I2),i=e.filter(c=>c.stackId==null),o=a.reduce((c,h)=>{var g=c[h.stackId];return g==null&&(g=[]),g.push(h),c[h.stackId]=g,c},n),u=Object.entries(o).map(c=>{var h,[g,x]=c,y=x.map(N=>N.dataKey),E=TT(t,r,(h=x[0])===null||h===void 0?void 0:h.barSize);return{stackId:g,dataKeys:y,barSize:E}}),d=i.map(c=>{var h=[c.dataKey].filter(x=>x!=null),g=TT(t,r,c.barSize);return{stackId:void 0,dataKeys:h,barSize:g}});return[...u,...d]};function jT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(r),!0).forEach(function(n){Qoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qoe(e,t,r){return(t=Joe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Joe(e){var t=ele(e,"string");return typeof t=="symbol"?t:t+""}function ele(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tle(e,t,r,n,a){var i,o=n.length;if(!(o<1)){var u=Fs(e,r,0,!0),d,c=[];if(ln((i=n[0])===null||i===void 0?void 0:i.barSize)){var h=!1,g=r/o,x=n.reduce((D,F)=>D+(F.barSize||0),0);x+=(o-1)*u,x>=r&&(x-=(o-1)*u,u=0),x>=r&&g>0&&(h=!0,g*=.9,x=o*g);var y=(r-x)/2>>0,E={offset:y-u,size:0};d=n.reduce((D,F)=>{var U,Z={stackId:F.stackId,dataKeys:F.dataKeys,position:{offset:E.offset+E.size+u,size:h?g:(U=F.barSize)!==null&&U!==void 0?U:0}},X=[...D,Z];return E=Z.position,X},c)}else{var N=Fs(t,r,0,!0);r-2*N-(o-1)*u<=0&&(u=0);var T=(r-2*N-(o-1)*u)/o;T>1&&(T>>=0);var j=ln(a)?Math.min(T,a):T;d=n.reduce((D,F,U)=>[...D,{stackId:F.stackId,dataKeys:F.dataKeys,position:{offset:N+(T+u)*U+(T-j)/2,size:j}}],c)}return d}}var rle=(e,t,r,n,a,i,o)=>{var u=os(o)?t:o,d=tle(r,n,a!==i?a:i,e,u);return a!==i&&d!=null&&(d=d.map(c=>yg(yg({},c),{},{position:yg(yg({},c.position),{},{offset:c.position.offset-a/2})}))),d},nle=(e,t)=>{var r=FS(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}},ale=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function ile(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&ln(e.zIndex)?e.zIndex:t}var xL=e=>{var{chartData:t}=e,r=la(),n=Io();return R.useEffect(()=>n?()=>{}:(r(BO(t)),()=>{r(BO(void 0))}),[t,r,n]),null},kT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},wL=ko({name:"brush",initialState:kT,reducers:{setBrushSettings(e,t){return t.payload==null?kT:t.payload}}}),{setBrushSettings:Cve}=wL.actions,sle=wL.reducer;function ole(e){return(e%180+180)%180}var lle=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=ole(a),o=i*Math.PI/180,u=Math.atan(n/r),d=o>u&&o<Math.PI-u?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},cle={dots:[],areas:[],lines:[]},_L=ko({name:"referenceElements",initialState:cle,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=rc(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=rc(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=rc(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Ove,removeDot:Tve,addArea:jve,removeArea:kve,addLine:Ive,removeLine:Mve}=_L.actions,ule=_L.reducer,fle=R.createContext(void 0),dle=e=>{var{children:t}=e,[r]=R.useState("".concat(hp("recharts"),"-clip")),n=yL();if(n==null)return null;var{x:a,y:i,width:o,height:u}=n;return R.createElement(fle.Provider,{value:r},R.createElement("defs",null,R.createElement("clipPath",{id:r},R.createElement("rect",{x:a,y:i,height:u,width:o}))),t)};function SL(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function hle(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return lle(n,r)}function ple(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:u}=e;return t===1?{start:n?a:i,end:n?a+o:i+u}:{start:n?a+o:i+u,end:n?a:i}}function Cp(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function mle(e,t){return SL(e,t+1)}function gle(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:u}=t,d=0,c=1,h=o,g=function(){var E=n==null?void 0:n[d];if(E===void 0)return{v:SL(n,c)};var N=d,T,j=()=>(T===void 0&&(T=r(E,N)),T),D=E.coordinate,F=d===0||Cp(e,D,j,h,u);F||(d=0,h=o,c+=1),F&&(h=D+e*(j()/2+a),d+=c)},x;c<=i.length;)if(x=g(),x)return x.v;return[]}function vle(e,t,r,n,a){var i=(n||[]).slice(),o=i.length;if(o===0)return[];for(var{start:u,end:d}=t,c=1;c<=o;c++){for(var h=(o-1)%c,g=u,x=!0,y=function(){var U=n[N];if(U==null)return 0;var Z=N,X,$=()=>(X===void 0&&(X=r(U,Z)),X),Q=U.coordinate,q=N===h||Cp(e,Q,$,g,d);if(!q)return x=!1,1;q&&(g=Q+e*($()/2+a))},E,N=h;N<o&&(E=y(),!(E!==0&&E===1));N+=c);if(x){for(var T=[],j=h;j<o;j+=c){var D=n[j];D!=null&&T.push(D)}return T}}return[]}function IT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ls(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(r),!0).forEach(function(n){ble(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ble(e,t,r){return(t=yle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yle(e){var t=xle(e,"string");return typeof t=="symbol"?t:t+""}function xle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wle(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:u}=t,{end:d}=t,c=function(x){var y=i[x];if(y==null)return 1;var E=y,N,T=()=>(N===void 0&&(N=r(y,x)),N);if(x===o-1){var j=e*(E.coordinate+e*T()/2-d);i[x]=E=Ls(Ls({},E),{},{tickCoord:j>0?E.coordinate-j*e:E.coordinate})}else i[x]=E=Ls(Ls({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var D=Cp(e,E.tickCoord,T,u,d);D&&(d=E.tickCoord-e*(T()/2+a),i[x]=Ls(Ls({},E),{},{isShow:!0}))}},h=o-1;h>=0;h--)c(h);return i}function _le(e,t,r,n,a,i){var o=(n||[]).slice(),u=o.length,{start:d,end:c}=t;if(i){var h=n[u-1];if(h!=null){var g=r(h,u-1),x=e*(h.coordinate+e*g/2-c);if(o[u-1]=h=Ls(Ls({},h),{},{tickCoord:x>0?h.coordinate-x*e:h.coordinate}),h.tickCoord!=null){var y=Cp(e,h.tickCoord,()=>g,d,c);y&&(c=h.tickCoord-e*(g/2+a),o[u-1]=Ls(Ls({},h),{},{isShow:!0}))}}}for(var E=i?u-1:u,N=function(D){var F=o[D];if(F==null)return 1;var U=F,Z,X=()=>(Z===void 0&&(Z=r(F,D)),Z);if(D===0){var $=e*(U.coordinate-e*X()/2-d);o[D]=U=Ls(Ls({},U),{},{tickCoord:$<0?U.coordinate-$*e:U.coordinate})}else o[D]=U=Ls(Ls({},U),{},{tickCoord:U.coordinate});if(U.tickCoord!=null){var Q=Cp(e,U.tickCoord,X,d,c);Q&&(d=U.tickCoord+e*(X()/2+a),o[D]=Ls(Ls({},U),{},{isShow:!0}))}},T=0;T<E;T++)N(T);return o}function NA(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:u,interval:d,tickFormatter:c,unit:h,angle:g}=e;if(!a||!a.length||!n)return[];if(Yt(d)||y2.isSsr){var x;return(x=mle(a,Yt(d)?d:0))!==null&&x!==void 0?x:[]}var y=[],E=u==="top"||u==="bottom"?"width":"height",N=h&&E==="width"?J1(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},T=(Z,X)=>{var $=typeof c=="function"?c(Z.value,X):Z.value;return E==="width"?hle(J1($,{fontSize:t,letterSpacing:r}),N,g):J1($,{fontSize:t,letterSpacing:r})[E]},j=a[0],D=a[1],F=a.length>=2&&j!=null&&D!=null?ss(D.coordinate-j.coordinate):1,U=ple(i,F,E);return d==="equidistantPreserveStart"?gle(F,U,T,a,o):d==="equidistantPreserveEnd"?vle(F,U,T,a,o):(d==="preserveStart"||d==="preserveStartEnd"?y=_le(F,U,T,a,o,d==="preserveStartEnd"):y=wle(F,U,T,a,o),y.filter(Z=>Z.isShow))}var Sle=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(h=>{if(h){var g=h.getBoundingClientRect();g.width>o&&(o=g.width)}});var u=r?r.getBoundingClientRect().width:0,d=a+i,c=o+d+u+(r?n:0);return Math.round(c)}return 0},Ale=["axisLine","width","height","className","hide","ticks","axisType"];function Ele(e,t){if(e==null)return{};var r,n,a=Nle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zd(){return zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zd.apply(null,arguments)}function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(n){Cle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cle(e,t,r){return(t=Ole(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ole(e){var t=Tle(e,"string");return typeof t=="symbol"?t:t+""}function Tle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cu={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:_s.axis};function jle(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var c=Ka(Ka(Ka({},d),nc(u)),{},{fill:"none"});if(i==="top"||i==="bottom"){var h=+(i==="top"&&!o||i==="bottom"&&o);c=Ka(Ka({},c),{},{x1:t,y1:r+h*a,x2:t+n,y2:r+h*a})}else{var g=+(i==="left"&&!o||i==="right"&&o);c=Ka(Ka({},c),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+a})}return R.createElement("line",zd({},c,{className:On("recharts-cartesian-axis-line",Pd(u,"className"))}))}function kle(e,t,r,n,a,i,o,u,d){var c,h,g,x,y,E,N=u?-1:1,T=e.tickSize||o,j=Yt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=h=e.coordinate,x=r+ +!u*a,g=x-N*T,E=g-N*d,y=j;break;case"left":g=x=e.coordinate,h=t+ +!u*n,c=h-N*T,y=c-N*d,E=j;break;case"right":g=x=e.coordinate,h=t+ +u*n,c=h+N*T,y=c+N*d,E=j;break;default:c=h=e.coordinate,x=r+ +u*a,g=x+N*T,E=g+N*d,y=j;break}return{line:{x1:c,y1:g,x2:h,y2:x},tick:{x:y,y:E}}}function Ile(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Mle(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Ple(e){var{option:t,tickProps:r,value:n}=e,a,i=On(r.className,"recharts-cartesian-axis-tick-value");if(R.isValidElement(t))a=R.cloneElement(t,Ka(Ka({},r),{},{className:i}));else if(typeof t=="function")a=t(Ka(Ka({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=On(o,uL(t))),a=R.createElement(U2,zd({},r,{className:o}),n)}return a}var Rle=R.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:o,unit:u,padding:d,tickTextProps:c,orientation:h,mirror:g,x,y,width:E,height:N,tickSize:T,tickMargin:j,fontSize:D,letterSpacing:F,getTicksConfig:U,events:Z,axisType:X}=e,$=NA(Ka(Ka({},U),{},{ticks:r}),D,F),Q=Ile(h,g),q=Mle(h,g),se=nc(U),H=dp(n),G={};typeof a=="object"&&(G=a);var ue=Ka(Ka({},se),{},{fill:"none"},G),J=$.map(he=>Ka({entry:he},kle(he,x,y,E,N,h,T,g,j))),ae=J.map(he=>{var{entry:Se,line:pe}=he;return R.createElement(ro,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Se.value,"-").concat(Se.coordinate,"-").concat(Se.tickCoord)},a&&R.createElement("line",zd({},ue,pe,{className:On("recharts-cartesian-axis-tick-line",Pd(a,"className"))})))}),re=J.map((he,Se)=>{var pe,be,{entry:oe,tick:Y}=he,le=Ka(Ka(Ka(Ka({verticalAnchor:q},se),{},{textAnchor:Q,stroke:"none",fill:i},Y),{},{index:Se,payload:oe,visibleTicksCount:$.length,tickFormatter:o,padding:d},c),{},{angle:(pe=(be=c==null?void 0:c.angle)!==null&&be!==void 0?be:se.angle)!==null&&pe!==void 0?pe:0}),me=Ka(Ka({},le),H);return R.createElement(ro,zd({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(oe.value,"-").concat(oe.coordinate,"-").concat(oe.tickCoord)},Rp(Z,oe,Se)),n&&R.createElement(Ple,{option:n,tickProps:me,value:"".concat(typeof o=="function"?o(oe.value,Se):oe.value).concat(u||"")}))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(X,"-ticks")},re.length>0&&R.createElement(cc,{zIndex:_s.label},R.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(X,"-tick-labels"),ref:t},re)),ae.length>0&&R.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(X,"-tick-lines")},ae))}),Dle=R.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:u,axisType:d}=e,c=Ele(e,Ale),[h,g]=R.useState(""),[x,y]=R.useState(""),E=R.useRef(null);R.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var T;return Sle({ticks:E.current,label:(T=e.labelRef)===null||T===void 0?void 0:T.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var N=R.useCallback(T=>{if(T){var j=T.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=j;var D=j[0];if(D){var F=window.getComputedStyle(D),U=F.fontSize,Z=F.letterSpacing;(U!==h||Z!==x)&&(g(U),y(Z))}}},[h,x]);return o||n!=null&&n<=0||a!=null&&a<=0?null:R.createElement(cc,{zIndex:e.zIndex},R.createElement(ro,{className:On("recharts-cartesian-axis",i)},R.createElement(jle,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:nc(e)}),R.createElement(Rle,{ref:N,axisType:d,events:c,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:x,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),R.createElement(Hie,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},R.createElement(Jie,{label:e.label,labelRef:e.labelRef}),e.children)))}),CA=R.forwardRef((e,t)=>{var r=ls(e,Cu);return R.createElement(Dle,zd({},r,{ref:t}))});CA.displayName="CartesianAxis";var Lle=["x1","y1","x2","y2","key"],Ble=["offset"],Fle=["xAxisId","yAxisId"],Ule=["xAxisId","yAxisId"];function PT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(r),!0).forEach(function(n){zle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zle(e,t,r){return(t=qle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qle(e){var t=Hle(e,"string");return typeof t=="symbol"?t:t+""}function Hle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nd(){return Nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nd.apply(null,arguments)}function Ob(e,t){if(e==null)return{};var r,n,a=Gle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Gle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $le=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:u}=e;return R.createElement("rect",{x:n,y:a,ry:u,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function AL(e){var{option:t,lineItemProps:r}=e,n;if(R.isValidElement(t))n=R.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:o,x2:u,y2:d,key:c}=r,h=Ob(r,Lle),g=(a=nc(h))!==null&&a!==void 0?a:{},{offset:x}=g,y=Ob(g,Ble);n=R.createElement("line",Nd({},y,{x1:i,y1:o,x2:u,y2:d,fill:"none",key:c}))}return n}function Wle(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,u=Ob(e,Fle),d=a.map((c,h)=>{var g=Bs(Bs({},u),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(h),index:h});return R.createElement(AL,{key:"line-".concat(h),option:n,lineItemProps:g})});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Vle(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,u=Ob(e,Ule),d=a.map((c,h)=>{var g=Bs(Bs({},u),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(h),index:h});return R.createElement(AL,{option:n,lineItemProps:g,key:"line-".concat(h)})});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Yle(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length||u==null)return null;var c=u.map(g=>Math.round(g+a-a)).sort((g,x)=>g-x);a!==c[0]&&c.unshift(0);var h=c.map((g,x)=>{var y=c[x+1],E=y==null,N=E?a+o-g:y-g;if(N<=0)return null;var T=x%t.length;return R.createElement("rect",{key:"react-".concat(x),y:g,x:n,height:N,width:i,stroke:"none",fill:t[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Xle(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:u,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var c=d.map(g=>Math.round(g+a-a)).sort((g,x)=>g-x);a!==c[0]&&c.unshift(0);var h=c.map((g,x)=>{var y=c[x+1],E=y==null,N=E?a+o-g:y-g;if(N<=0)return null;var T=x%r.length;return R.createElement("rect",{key:"react-".concat(x),x:g,y:i,width:N,height:u,stroke:"none",fill:r[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Kle=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return hP(NA(Bs(Bs(Bs({},Cu),r),{},{ticks:pP(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},Zle=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return hP(NA(Bs(Bs(Bs({},Cu),r),{},{ticks:pP(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},Qle={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:_s.grid};function OA(e){var t=nS(),r=aS(),n=wP(),a=Bs(Bs({},ls(e,Qle)),{},{x:Yt(e.x)?e.x:n.left,y:Yt(e.y)?e.y:n.top,width:Yt(e.width)?e.width:n.width,height:Yt(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:u,y:d,width:c,height:h,syncWithTicks:g,horizontalValues:x,verticalValues:y}=a,E=Io(),N=Jt(q=>NO(q,"xAxis",i,E)),T=Jt(q=>NO(q,"yAxis",o,E));if(!Gc(c)||!Gc(h)||!Yt(u)||!Yt(d))return null;var j=a.verticalCoordinatesGenerator||Kle,D=a.horizontalCoordinatesGenerator||Zle,{horizontalPoints:F,verticalPoints:U}=a;if((!F||!F.length)&&typeof D=="function"){var Z=x&&x.length,X=D({yAxis:T?Bs(Bs({},T),{},{ticks:Z?x:T.ticks}):void 0,width:t??c,height:r??h,offset:n},Z?!0:g);Jv(Array.isArray(X),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof X,"]")),Array.isArray(X)&&(F=X)}if((!U||!U.length)&&typeof j=="function"){var $=y&&y.length,Q=j({xAxis:N?Bs(Bs({},N),{},{ticks:$?y:N.ticks}):void 0,width:t??c,height:r??h,offset:n},$?!0:g);Jv(Array.isArray(Q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Q,"]")),Array.isArray(Q)&&(U=Q)}return R.createElement(cc,{zIndex:a.zIndex},R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement($le,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),R.createElement(Yle,Nd({},a,{horizontalPoints:F})),R.createElement(Xle,Nd({},a,{verticalPoints:U})),R.createElement(Wle,Nd({},a,{offset:n,horizontalPoints:F,xAxis:N,yAxis:T})),R.createElement(Vle,Nd({},a,{offset:n,verticalPoints:U,xAxis:N,yAxis:T}))))}OA.displayName="CartesianGrid";var Jle={},EL=ko({name:"errorBars",initialState:Jle,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Pve,replaceErrorBar:Rve,removeErrorBar:Dve}=EL.actions,ece=EL.reducer,tce=["children"];function rce(e,t){if(e==null)return{};var r,n,a=nce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ace={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ice=R.createContext(ace);function sce(e){var{children:t}=e,r=rce(e,tce);return R.createElement(ice.Provider,{value:r},t)}function NL(e,t){var r,n,a=Jt(c=>qu(c,e)),i=Jt(c=>Hu(c,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:rs.allowDataOverflow,u=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ns.allowDataOverflow,d=o||u;return{needClip:d,needClipX:o,needClipY:u}}function oce(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=yL(),{needClipX:i,needClipY:o,needClip:u}=NL(t,r);if(!u||!a)return null;var{x:d,y:c,width:h,height:g}=a;return R.createElement("clipPath",{id:"clipPath-".concat(n)},R.createElement("rect",{x:i?d:d-h/2,y:o?c:c-g/2,width:i?h:h*2,height:o?g:g*2}))}var n5={exports:{}},a5={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RT;function lce(){if(RT)return a5;RT=1;var e=S0();function t(d,c){return d===c&&(d!==0||1/d===1/c)||d!==d&&c!==c}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,o=e.useMemo,u=e.useDebugValue;return a5.useSyncExternalStoreWithSelector=function(d,c,h,g,x){var y=a(null);if(y.current===null){var E={hasValue:!1,value:null};y.current=E}else E=y.current;y=o(function(){function T(Z){if(!j){if(j=!0,D=Z,Z=g(Z),x!==void 0&&E.hasValue){var X=E.value;if(x(X,Z))return F=X}return F=Z}if(X=F,r(D,Z))return X;var $=g(Z);return x!==void 0&&x(X,$)?(D=Z,X):(D=Z,F=$)}var j=!1,D,F,U=h===void 0?null:h;return[function(){return T(c())},U===null?void 0:function(){return T(U())}]},[c,h,g,x]);var N=n(d,y[0],y[1]);return i(function(){E.hasValue=!0,E.value=N},[N]),u(N),N},a5}var DT;function cce(){return DT||(DT=1,n5.exports=lce()),n5.exports}cce();function uce(e){e()}function fce(){let e=null,t=null;return{clear(){e=null,t=null},notify(){uce(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var LT={notify(){},get:()=>[]};function dce(e,t){let r,n=LT,a=0,i=!1;function o(N){h();const T=n.subscribe(N);let j=!1;return()=>{j||(j=!0,T(),g())}}function u(){n.notify()}function d(){E.onStateChange&&E.onStateChange()}function c(){return i}function h(){a++,r||(r=e.subscribe(d),n=fce())}function g(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=LT)}function x(){i||(i=!0,h())}function y(){i&&(i=!1,g())}const E={addNestedSub:o,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:c,trySubscribe:x,tryUnsubscribe:y,getListeners:()=>n};return E}var hce=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pce=hce(),mce=()=>typeof navigator<"u"&&navigator.product==="ReactNative",gce=mce(),vce=()=>pce||gce?R.useLayoutEffect:R.useEffect,bce=vce();function BT(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function yce(e,t){if(BT(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!BT(e[r[a]],t[r[a]]))return!1;return!0}var i5=Symbol.for("react-redux-context"),s5=typeof globalThis<"u"?globalThis:{};function xce(){if(!R.createContext)return{};const e=s5[i5]??(s5[i5]=new Map);let t=e.get(R.createContext);return t||(t=R.createContext(null),e.set(R.createContext,t)),t}var wce=xce();function _ce(e){const{children:t,context:r,serverState:n,store:a}=e,i=R.useMemo(()=>{const d=dce(a);return{store:a,subscription:d,getServerState:n?()=>n:void 0}},[a,n]),o=R.useMemo(()=>a.getState(),[a]);bce(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,o]);const u=r||wce;return R.createElement(u.Provider,{value:i},t)}var Sce=_ce,Ace=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Ece(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function TA(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(Ace.has(n)){if(e[n]==null&&t[n]==null)continue;if(!yce(e[n],t[n]))return!1}else if(!Ece(e[n],t[n]))return!1;return!0}function Xd(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:vL}function Kd(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:vL}var Nce="Invariant failed";function Cce(e,t){throw new Error(Nce)}function Y_(){return Y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y_.apply(null,arguments)}function Tb(e){return R.createElement(hL,Y_({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var Oce=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Yt(t))return t;var i=Yt(n)||os(n);return i?t(n,a):(i||Cce(),r)}},Tce=(e,t,r)=>r,jce=(e,t)=>t,Qp=Ke([qS,jce],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),kce=Ke([Qp],e=>e==null?void 0:e.maxBarSize),Ice=(e,t,r,n)=>n,Mce=Ke([Tn,qS,Xd,Kd,Tce],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Pce=(e,t,r)=>{var n=Tn(e),a=Xd(e,t),i=Kd(e,t);if(!(a==null||i==null))return n==="horizontal"?q_(e,"yAxis",i,r):q_(e,"xAxis",a,r)},Rce=(e,t)=>{var r=Tn(e),n=Xd(e,t),a=Kd(e,t);if(!(n==null||a==null))return r==="horizontal"?EO(e,"xAxis",n):EO(e,"yAxis",a)},Dce=Ke([Mce,Bte,Rce],Zoe),Lce=(e,t,r)=>{var n,a,i=Qp(e,t);if(i==null)return 0;var o=Xd(e,t),u=Kd(e,t);if(o==null||u==null)return 0;var d=Tn(e),c=LR(e),{maxBarSize:h}=i,g=os(h)?c:h,x,y;return d==="horizontal"?(x=_0(e,"xAxis",o,r),y=w0(e,"xAxis",o,r)):(x=_0(e,"yAxis",u,r),y=w0(e,"yAxis",u,r)),(n=(a=Qv(x,y,!0))!==null&&a!==void 0?a:g)!==null&&n!==void 0?n:0},CL=(e,t,r)=>{var n=Tn(e),a=Xd(e,t),i=Kd(e,t);if(!(a==null||i==null)){var o,u;return n==="horizontal"?(o=_0(e,"xAxis",a,r),u=w0(e,"xAxis",a,r)):(o=_0(e,"yAxis",i,r),u=w0(e,"yAxis",i,r)),Qv(o,u)}},Bce=Ke([Dce,LR,Lte,BR,Lce,CL,kce],rle),Fce=(e,t,r)=>{var n=Xd(e,t);if(n!=null)return _0(e,"xAxis",n,r)},Uce=(e,t,r)=>{var n=Kd(e,t);if(n!=null)return _0(e,"yAxis",n,r)},zce=(e,t,r)=>{var n=Xd(e,t);if(n!=null)return w0(e,"xAxis",n,r)},qce=(e,t,r)=>{var n=Kd(e,t);if(n!=null)return w0(e,"yAxis",n,r)},Hce=Ke([Bce,Qp],ale),Gce=Ke([Pce,Qp],nle),$ce=Ke([Ui,eS,Fce,Uce,zce,qce,Hce,Tn,Tte,CL,Gce,Qp,Ice],(e,t,r,n,a,i,o,u,d,c,h,g,x)=>{var{chartData:y,dataStartIndex:E,dataEndIndex:N}=d;if(!(g==null||o==null||t==null||u!=="horizontal"&&u!=="vertical"||r==null||n==null||a==null||i==null||c==null)){var{data:T}=g,j;if(T!=null&&T.length>0?j=T:j=y==null?void 0:y.slice(E,N+1),j!=null)return yue({layout:u,barSettings:g,pos:o,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:h,displayedData:j,offset:e,cells:x,dataStartIndex:E})}}),Wce=["index"];function X_(){return X_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X_.apply(null,arguments)}function Vce(e,t){if(e==null)return{};var r,n,a=Yce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var OL=R.createContext(void 0),Xce=e=>{var t=R.useContext(OL);if(t!=null)return t.stackId;if(e!=null)return SK(e)},Kce=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Zce=e=>{var t=R.useContext(OL);if(t!=null){var{stackId:r}=t;return"url(#".concat(Kce(r,e),")")}},TL=e=>{var{index:t}=e,r=Vce(e,Wce),n=Zce(t);return R.createElement(ro,X_({className:"recharts-bar-stack-layer",clipPath:n},r))},Qce=["onMouseEnter","onMouseLeave","onClick"],Jce=["value","background","tooltipPosition"],eue=["id"],tue=["onMouseEnter","onClick","onMouseLeave"];function Ru(){return Ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ru.apply(null,arguments)}function FT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(r),!0).forEach(function(n){rue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rue(e,t,r){return(t=nue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nue(e){var t=aue(e,"string");return typeof t=="symbol"?t:t+""}function aue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jb(e,t){if(e==null)return{};var r,n,a=iue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function iue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sue=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:u2(r,t),payload:e}]},oue=R.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:u,tooltipType:d,id:c}=e,h={dataDefinedOnItem:void 0,getPosition:j0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:u2(i,t),hide:o,type:d,color:a,unit:u,graphicalItemId:c}};return R.createElement(pL,{tooltipEntrySettings:h})});function lue(e){var t=Jt(Ud),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:u,onClick:d}=i,c=jb(i,Qce),h=_A(o,n,i.id),g=SA(u),x=AA(d,n,i.id);if(!a||r==null)return null;var y=dp(a);return R.createElement(cc,{zIndex:ile(a,_s.barBackground)},r.map((E,N)=>{var{value:T,background:j,tooltipPosition:D}=E,F=jb(E,Jce);if(!j)return null;var U=h(E,N),Z=g(E,N),X=x(E,N),$=Js(Js(Js(Js(Js({option:a,isActive:String(N)===t},F),{},{fill:"#eee"},j),y),Rp(c,E,N)),{},{onMouseEnter:U,onMouseLeave:Z,onClick:X,dataKey:n,index:N,className:"recharts-bar-background-rectangle"});return R.createElement(Tb,Ru({key:"background-bar-".concat(N)},$))}))}function cue(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Js(Js({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return R.createElement(use,{value:t?a:void 0},r)}function uue(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,u=Jt(Ud),d=Jt(hA),c=r&&String(i)===u&&(d==null||o===d),h=c?r:t;return c?R.createElement(cc,{zIndex:_s.activeBar},R.createElement(TL,{index:i},R.createElement(Tb,Ru({},n,{name:String(n.name)},a,{isActive:c,option:h,index:i,dataKey:o})))):R.createElement(Tb,Ru({},n,{name:String(n.name)},a,{isActive:c,option:h,index:i,dataKey:o}))}function fue(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return R.createElement(Tb,Ru({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function due(e){var t,{data:r,props:n}=e,a=(t=nc(n))!==null&&t!==void 0?t:{},{id:i}=a,o=jb(a,eue),{shape:u,dataKey:d,activeBar:c}=n,{onMouseEnter:h,onClick:g,onMouseLeave:x}=n,y=jb(n,tue),E=_A(h,d,i),N=SA(x),T=AA(g,d,i);return r?R.createElement(R.Fragment,null,r.map((j,D)=>R.createElement(TL,Ru({index:D,key:"rectangle-".concat(j==null?void 0:j.x,"-").concat(j==null?void 0:j.y,"-").concat(j==null?void 0:j.value,"-").concat(D),className:"recharts-bar-rectangle"},Rp(y,j,D),{onMouseEnter:E(j,D),onMouseLeave:N(j,D),onClick:T(j,D)}),c?R.createElement(uue,{shape:u,activeBar:c,baseProps:o,entry:j,index:D,dataKey:d}):R.createElement(fue,{shape:u,baseProps:o,entry:j,index:D,dataKey:d})))):null}function hue(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:u,animationEasing:d,onAnimationEnd:c,onAnimationStart:h}=t,g=r.current,x=w2(t,"recharts-bar-"),[y,E]=R.useState(!1),N=!y,T=R.useCallback(()=>{typeof c=="function"&&c(),E(!1)},[c]),j=R.useCallback(()=>{typeof h=="function"&&h(),E(!0)},[h]);return R.createElement(cue,{showLabels:N,rects:n},R.createElement(x2,{animationId:x,begin:o,duration:u,isActive:i,easing:d,onAnimationEnd:T,onAnimationStart:j,key:x},D=>{var F=D===1?n:n==null?void 0:n.map((U,Z)=>{var X=g&&g[Z];if(X)return Js(Js({},U),{},{x:Bi(X.x,U.x,D),y:Bi(X.y,U.y,D),width:Bi(X.width,U.width,D),height:Bi(X.height,U.height,D)});if(a==="horizontal"){var $=Bi(0,U.height,D),Q=Bi(U.stackedBarStart,U.y,D);return Js(Js({},U),{},{y:Q,height:$})}var q=Bi(0,U.width,D),se=Bi(U.stackedBarStart,U.x,D);return Js(Js({},U),{},{width:q,x:se})});return D>0&&(r.current=F??null),F==null?null:R.createElement(ro,null,R.createElement(due,{props:t,data:F}))}),R.createElement(sL,{label:t.label}),t.children)}function pue(e){var t=R.useRef(null);return R.createElement(hue,{previousRectanglesRef:t,props:e})}var jL=0,mue=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:ya(e,t)}};class gue extends R.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:u,background:d,id:c}=this.props;if(t||r==null)return null;var h=On("recharts-bar",a),g=c;return R.createElement(ro,{className:h,id:c},u&&R.createElement("defs",null,R.createElement(oce,{clipPathId:g,xAxisId:i,yAxisId:o})),R.createElement(ro,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},R.createElement(lue,{data:r,dataKey:n,background:d,allOtherBarProps:this.props}),R.createElement(pue,this.props)))}}var vue={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:jL,xAxisId:0,yAxisId:0,zIndex:_s.bar};function bue(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:u,animationDuration:d,animationEasing:c,isAnimationActive:h}=e,{needClip:g}=NL(t,r),x=k0(),y=Io(),E=wA(e.children,z0),N=Jt(D=>$ce(D,e.id,y,E));if(x!=="vertical"&&x!=="horizontal")return null;var T,j=N==null?void 0:N[0];return j==null||j.height==null||j.width==null?T=0:T=x==="vertical"?j.height/2:j.width/2,R.createElement(sce,{xAxisId:t,yAxisId:r,data:N,dataPointFormatter:mue,errorBarOffset:T},R.createElement(gue,Ru({},e,{layout:x,needClip:g,data:N,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:u,animationDuration:d,animationEasing:c,isAnimationActive:h})))}function yue(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:u,xAxisTicks:d,yAxisTicks:c,stackedData:h,displayedData:g,offset:x,cells:y,parentViewBox:E,dataStartIndex:N}=e,T=t==="horizontal"?u:o,j=h?T.scale.domain():null,D=AK({numericAxis:T}),F=T.scale.map(D);return g.map((U,Z)=>{var X,$,Q,q,se,H;if(h){var G=h[Z+N];if(G==null)return null;X=bK(G,j)}else X=ya(U,r),Array.isArray(X)||(X=[D,X]);var ue=Oce(n,jL)(X[1],Z);if(t==="horizontal"){var J,ae=u.scale.map(X[0]),re=u.scale.map(X[1]);if(ae==null||re==null)return null;$=A6({axis:o,ticks:d,bandSize:i,offset:a.offset,entry:U,index:Z}),Q=(J=re??ae)!==null&&J!==void 0?J:void 0,q=a.size;var he=ae-re;if(se=qc(he)?0:he,H={x:$,y:x.top,width:q,height:x.height},Math.abs(ue)>0&&Math.abs(se)<Math.abs(ue)){var Se=ss(se||ue)*(Math.abs(ue)-Math.abs(se));Q-=Se,se+=Se}}else{var pe=o.scale.map(X[0]),be=o.scale.map(X[1]);if(pe==null||be==null)return null;if($=pe,Q=A6({axis:u,ticks:c,bandSize:i,offset:a.offset,entry:U,index:Z}),q=be-pe,se=a.size,H={x:x.left,y:Q,width:x.width,height:se},Math.abs(ue)>0&&Math.abs(q)<Math.abs(ue)){var oe=ss(q||ue)*(Math.abs(ue)-Math.abs(q));q+=oe}}if($==null||Q==null||q==null||se==null)return null;var Y=Js(Js({},U),{},{stackedBarStart:F,x:$,y:Q,width:q,height:se,value:h?X:X[1],payload:U,background:H,tooltipPosition:{x:$+q/2,y:Q+se/2},parentViewBox:E},y&&y[Z]&&y[Z].props);return Y}).filter(Boolean)}function xue(e){var t=ls(e,vue),r=Xce(t.stackId),n=Io();return R.createElement(mL,{id:t.id,type:"bar"},a=>R.createElement(R.Fragment,null,R.createElement(Zse,{legendPayload:sue(t)}),R.createElement(oue,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),R.createElement(foe,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),R.createElement(cc,{zIndex:t.zIndex},R.createElement(bue,Ru({},t,{id:a})))))}var kb=R.memo(xue,TA);kb.displayName="Bar";var wue=["domain","range"],_ue=["domain","range"];function UT(e,t){if(e==null)return{};var r,n,a=Sue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Sue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zT(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function kL(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=UT(e,wue),{domain:i,range:o}=t,u=UT(t,_ue);return!zT(r,i)||!zT(n,o)?!1:TA(a,u)}var Aue=["type"],Eue=["dangerouslySetInnerHTML","ticks","scale"],Nue=["id","scale"];function K_(){return K_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K_.apply(null,arguments)}function qT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(r),!0).forEach(function(n){Cue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cue(e,t,r){return(t=Oue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oue(e){var t=Tue(e,"string");return typeof t=="symbol"?t:t+""}function Tue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z_(e,t){if(e==null)return{};var r,n,a=jue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kue(e){var t=la(),r=R.useRef(null),n=_P(),{type:a}=e,i=Z_(e,Aue),o=j2(n,"xAxis",a),u=R.useMemo(()=>{if(o!=null)return HT(HT({},i),{},{type:o})},[i,o]);return R.useLayoutEffect(()=>{u!=null&&(r.current===null?t(zoe(u)):r.current!==u&&t(qoe({prev:r.current,next:u})),r.current=u)},[u,t]),R.useLayoutEffect(()=>()=>{r.current&&(t(Hoe(r.current)),r.current=null)},[t]),null}var Iue=e=>{var{xAxisId:t,className:r}=e,n=Jt(eS),a=Io(),i="xAxis",o=Jt(j=>vD(j,i,t,a)),u=Jt(j=>hD(j,t)),d=Jt(j=>Bre(j,t)),c=Jt(j=>YR(j,t));if(u==null||d==null||c==null)return null;var{dangerouslySetInnerHTML:h,ticks:g,scale:x}=e,y=Z_(e,Eue),{id:E,scale:N}=c,T=Z_(c,Nue);return R.createElement(CA,K_({},y,T,{x:d.x,y:d.y,width:u.width,height:u.height,className:On("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o,axisType:i}))},Mue={allowDataOverflow:rs.allowDataOverflow,allowDecimals:rs.allowDecimals,allowDuplicatedCategory:rs.allowDuplicatedCategory,angle:rs.angle,axisLine:Cu.axisLine,height:rs.height,hide:!1,includeHidden:rs.includeHidden,interval:rs.interval,label:!1,minTickGap:rs.minTickGap,mirror:rs.mirror,orientation:rs.orientation,padding:rs.padding,reversed:rs.reversed,scale:rs.scale,tick:rs.tick,tickCount:rs.tickCount,tickLine:Cu.tickLine,tickSize:Cu.tickSize,type:rs.type,xAxisId:0},Pue=e=>{var t=ls(e,Mue);return R.createElement(R.Fragment,null,R.createElement(kue,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),R.createElement(Iue,t))},jA=R.memo(Pue,kL);jA.displayName="XAxis";var Rue=["type"],Due=["dangerouslySetInnerHTML","ticks","scale"],Lue=["id","scale"];function Q_(){return Q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q_.apply(null,arguments)}function GT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $T(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(r),!0).forEach(function(n){Bue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bue(e,t,r){return(t=Fue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fue(e){var t=Uue(e,"string");return typeof t=="symbol"?t:t+""}function Uue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J_(e,t){if(e==null)return{};var r,n,a=zue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function que(e){var t=la(),r=R.useRef(null),n=_P(),{type:a}=e,i=J_(e,Rue),o=j2(n,"yAxis",a),u=R.useMemo(()=>{if(o!=null)return $T($T({},i),{},{type:o})},[o,i]);return R.useLayoutEffect(()=>{u!=null&&(r.current===null?t(Goe(u)):r.current!==u&&t($oe({prev:r.current,next:u})),r.current=u)},[u,t]),R.useLayoutEffect(()=>()=>{r.current&&(t(Woe(r.current)),r.current=null)},[t]),null}function Hue(e){var{yAxisId:t,className:r,width:n,label:a}=e,i=R.useRef(null),o=R.useRef(null),u=Jt(eS),d=Io(),c=la(),h="yAxis",g=Jt(X=>pD(X,t)),x=Jt(X=>Ure(X,t)),y=Jt(X=>vD(X,h,t,d)),E=Jt(X=>XR(X,t));if(R.useLayoutEffect(()=>{if(!(n!=="auto"||!g||bA(a)||R.isValidElement(a)||E==null)){var X=i.current;if(X){var $=X.getCalculatedWidth();Math.round(g.width)!==Math.round($)&&c(Voe({id:t,width:$}))}}},[y,g,c,a,t,n,E]),g==null||x==null||E==null)return null;var{dangerouslySetInnerHTML:N,ticks:T,scale:j}=e,D=J_(e,Due),{id:F,scale:U}=E,Z=J_(E,Lue);return R.createElement(CA,Q_({},D,Z,{ref:i,labelRef:o,x:x.x,y:x.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:g.width,height:g.height,className:On("recharts-".concat(h," ").concat(h),r),viewBox:u,ticks:y,axisType:h}))}var Gue={allowDataOverflow:ns.allowDataOverflow,allowDecimals:ns.allowDecimals,allowDuplicatedCategory:ns.allowDuplicatedCategory,angle:ns.angle,axisLine:Cu.axisLine,hide:!1,includeHidden:ns.includeHidden,interval:ns.interval,label:!1,minTickGap:ns.minTickGap,mirror:ns.mirror,orientation:ns.orientation,padding:ns.padding,reversed:ns.reversed,scale:ns.scale,tick:ns.tick,tickCount:ns.tickCount,tickLine:Cu.tickLine,tickSize:Cu.tickSize,type:ns.type,width:ns.width,yAxisId:0},$ue=e=>{var t=ls(e,Gue);return R.createElement(R.Fragment,null,R.createElement(que,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),R.createElement(Hue,t))},kA=R.memo($ue,kL);kA.displayName="YAxis";var Wue=(e,t)=>t,IA=Ke([Wue,Tn,$R,us,PD,Gu,tae,Ui],lae),MA=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},IL=El("mouseClick"),ML=Lp();ML.startListening({actionCreator:IL,effect:(e,t)=>{var r=e.payload,n=IA(t.getState(),MA(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(ene({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var e3=El("mouseMove"),PL=Lp(),xg=null;PL.startListening({actionCreator:e3,effect:(e,t)=>{var r=e.payload;xg!==null&&cancelAnimationFrame(xg);var n=MA(r);xg=requestAnimationFrame(()=>{var a=t.getState(),i=oA(a,a.tooltip.settings.shared);if(i==="axis"){var o=IA(a,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(ED({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(AD())}xg=null})}});function Vue(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var WT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},RL=ko({name:"rootProps",initialState:WT,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:WT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Yue=RL.reducer,{updateOptions:Xue}=RL.actions,Kue=null,Zue={updatePolarOptions:(e,t)=>t.payload},DL=ko({name:"polarOptions",initialState:Kue,reducers:Zue}),{updatePolarOptions:Que}=DL.actions,Jue=DL.reducer,LL=El("keyDown"),BL=El("focus"),PA=Lp();PA.startListening({actionCreator:LL,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=lA(a,U0(r),Yp(r),Kp(r)),u=o==null?-1:Number(o);if(!(!Number.isFinite(u)||u<0)){var d=Gu(r);if(i==="Enter"){var c=Sb(r,"axis","hover",String(a.index));t.dispatch(G_({active:!a.active,activeIndex:a.index,activeCoordinate:c}));return}var h=Gre(r),g=h==="left-to-right"?1:-1,x=i==="ArrowRight"?1:-1,y=u+x*g;if(!(d==null||y>=d.length||y<0)){var E=Sb(r,"axis","hover",String(y));t.dispatch(G_({active:!0,activeIndex:y.toString(),activeCoordinate:E}))}}}}}});PA.startListening({actionCreator:BL,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=Sb(r,"axis","hover",String(i));t.dispatch(G_({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var yl=El("externalEvent"),FL=Lp(),o5=new Map;FL.startListening({actionCreator:yl,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=o5.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var u=t.getState(),d={activeCoordinate:Une(u),activeDataKey:hA(u),activeIndex:Ud(u),activeLabel:LD(u),activeTooltipIndex:Ud(u),isTooltipActive:zne(u)};r(d,n)}finally{o5.delete(a)}});o5.set(a,o)}}});var efe=Ke([B0],e=>e.tooltipItemPayloads),tfe=Ke([efe,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(i=>i.settings.graphicalItemId===r);if(n!=null){var{getPosition:a}=n;if(a!=null)return a(t)}}}),UL=El("touchMove"),zL=Lp();zL.startListening({actionCreator:UL,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=oA(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var o=IA(n,MA({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(ED({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var u,d=r.touches[0];if(document.elementFromPoint==null||d==null)return;var c=document.elementFromPoint(d.clientX,d.clientY);if(!c||!c.getAttribute)return;var h=c.getAttribute(gP),g=(u=c.getAttribute(vP))!==null&&u!==void 0?u:void 0,x=F0(n).find(N=>N.id===g);if(h==null||x==null||g==null)return;var{dataKey:y}=x,E=tfe(n,h,g);t.dispatch(SD({activeDataKey:y,activeIndex:h,activeCoordinate:E,activeGraphicalItemId:g}))}}}});var rfe=B7({brush:sle,cartesianAxis:Yoe,chartData:Fae,errorBars:ece,graphicalItems:coe,layout:hK,legend:xZ,options:Pae,polarAxis:_se,polarOptions:Jue,referenceElements:ule,rootProps:Yue,tooltip:tne,zIndex:_ae}),nfe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return BX({reducer:rfe,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([ML.middleware,PL.middleware,PA.middleware,FL.middleware,zL.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(J7({type:"raf"}))},devTools:{serialize:{replacer:Vue},name:"recharts-".concat(r)}})};function qL(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Io(),i=R.useRef(null);if(a)return r;i.current==null&&(i.current=nfe(t,n));var o=V3;return R.createElement(Sce,{context:o,store:i.current},r)}function afe(e){var{layout:t,margin:r}=e,n=la(),a=Io();return R.useEffect(()=>{a||(n(uK(t)),n(cK(r)))},[n,a,t,r]),null}var HL=R.memo(afe,TA);function GL(e){var t=la();return R.useEffect(()=>{t(Xue(e))},[t,e]),null}function VT(e){var{zIndex:t,isPanorama:r}=e,n=R.useRef(null),a=la();return R.useLayoutEffect(()=>(n.current&&a(xae({zIndex:t,element:n.current,isPanorama:r})),()=>{a(wae({zIndex:t,isPanorama:r}))}),[a,t,r]),R.createElement("g",{tabIndex:-1,ref:n})}function YT(e){var{children:t,isPanorama:r}=e,n=Jt(uae);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),i=n.filter(o=>o>0);return R.createElement(R.Fragment,null,a.map(o=>R.createElement(VT,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>R.createElement(VT,{key:o,zIndex:o,isPanorama:r})))}var ife=["children"];function sfe(e,t){if(e==null)return{};var r,n,a=ofe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ofe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ib.apply(null,arguments)}var lfe={width:"100%",height:"100%",display:"block"},cfe=R.forwardRef((e,t)=>{var r=nS(),n=aS(),a=RP();if(!Gc(r)||!Gc(n))return null;var{children:i,otherAttributes:o,title:u,desc:d}=e,c,h;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=a?0:void 0,typeof o.role=="string"?h=o.role:h=a?"application":void 0),R.createElement(L3,Ib({},o,{title:u,desc:d,role:h,tabIndex:c,width:r,height:n,style:lfe,ref:t}),i)}),ufe=e=>{var{children:t}=e,r=Jt(p2);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return R.createElement(L3,{width:n,height:a,x:o,y:i},t)},XT=R.forwardRef((e,t)=>{var{children:r}=e,n=sfe(e,ife),a=Io();return a?R.createElement(ufe,null,R.createElement(YT,{isPanorama:!0},r)):R.createElement(cfe,Ib({ref:t},n),R.createElement(YT,{isPanorama:!1},r))});function ffe(){var e=la(),[t,r]=R.useState(null),n=Jt(jK);return R.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;ln(i)&&i!==n&&e(dK(i))}},[t,e,n]),r}function KT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dfe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(r),!0).forEach(function(n){hfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hfe(e,t,r){return(t=pfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pfe(e){var t=mfe(e,"string");return typeof t=="symbol"?t:t+""}function mfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kf.apply(null,arguments)}var gfe=()=>(Yae(),null);function Mb(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var vfe=R.forwardRef((e,t)=>{var r,n,a=R.useRef(null),[i,o]=R.useState({containerWidth:Mb((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Mb((n=e.style)===null||n===void 0?void 0:n.height)}),u=R.useCallback((c,h)=>{o(g=>{var x=Math.round(c),y=Math.round(h);return g.containerWidth===x&&g.containerHeight===y?g:{containerWidth:x,containerHeight:y}})},[]),d=R.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:h,height:g}=c.getBoundingClientRect();u(h,g);var x=E=>{var N=E[0];if(N!=null){var{width:T,height:j}=N.contentRect;u(T,j)}},y=new ResizeObserver(x);y.observe(c),a.current=y}},[t,u]);return R.useEffect(()=>()=>{var c=a.current;c!=null&&c.disconnect()},[u]),R.createElement(R.Fragment,null,R.createElement(Fp,{width:i.containerWidth,height:i.containerHeight}),R.createElement("div",kf({ref:d},e)))}),bfe=R.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=R.useState({containerWidth:Mb(r),containerHeight:Mb(n)}),o=R.useCallback((d,c)=>{i(h=>{var g=Math.round(d),x=Math.round(c);return h.containerWidth===g&&h.containerHeight===x?h:{containerWidth:g,containerHeight:x}})},[]),u=R.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:c,height:h}=d.getBoundingClientRect();o(c,h)}},[t,o]);return R.createElement(R.Fragment,null,R.createElement(Fp,{width:a.containerWidth,height:a.containerHeight}),R.createElement("div",kf({ref:u},e)))}),yfe=R.forwardRef((e,t)=>{var{width:r,height:n}=e;return R.createElement(R.Fragment,null,R.createElement(Fp,{width:r,height:n}),R.createElement("div",kf({ref:t},e)))}),xfe=R.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?R.createElement(bfe,kf({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?R.createElement(yfe,kf({},e,{width:r,height:n,ref:t})):R.createElement(R.Fragment,null,R.createElement(Fp,{width:r,height:n}),R.createElement("div",kf({ref:t},e)))});function wfe(e){return e?vfe:xfe}var _fe=R.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:u,onMouseDown:d,onMouseEnter:c,onMouseLeave:h,onMouseMove:g,onMouseUp:x,onTouchEnd:y,onTouchMove:E,onTouchStart:N,style:T,width:j,responsive:D,dispatchTouchEvents:F=!0}=e,U=R.useRef(null),Z=la(),[X,$]=R.useState(null),[Q,q]=R.useState(null),se=ffe(),H=tS(),G=(H==null?void 0:H.width)>0?H.width:j,ue=(H==null?void 0:H.height)>0?H.height:a,J=R.useCallback(Te=>{se(Te),typeof t=="function"&&t(Te),$(Te),q(Te),Te!=null&&(U.current=Te)},[se,t,$,q]),ae=R.useCallback(Te=>{Z(IL(Te)),Z(yl({handler:i,reactEvent:Te}))},[Z,i]),re=R.useCallback(Te=>{Z(e3(Te)),Z(yl({handler:c,reactEvent:Te}))},[Z,c]),he=R.useCallback(Te=>{Z(AD()),Z(yl({handler:h,reactEvent:Te}))},[Z,h]),Se=R.useCallback(Te=>{Z(e3(Te)),Z(yl({handler:g,reactEvent:Te}))},[Z,g]),pe=R.useCallback(()=>{Z(BL())},[Z]),be=R.useCallback(Te=>{Z(LL(Te.key))},[Z]),oe=R.useCallback(Te=>{Z(yl({handler:o,reactEvent:Te}))},[Z,o]),Y=R.useCallback(Te=>{Z(yl({handler:u,reactEvent:Te}))},[Z,u]),le=R.useCallback(Te=>{Z(yl({handler:d,reactEvent:Te}))},[Z,d]),me=R.useCallback(Te=>{Z(yl({handler:x,reactEvent:Te}))},[Z,x]),Ce=R.useCallback(Te=>{Z(yl({handler:N,reactEvent:Te}))},[Z,N]),we=R.useCallback(Te=>{F&&Z(UL(Te)),Z(yl({handler:E,reactEvent:Te}))},[Z,F,E]),Me=R.useCallback(Te=>{Z(yl({handler:y,reactEvent:Te}))},[Z,y]),ze=wfe(D);return R.createElement(GD.Provider,{value:X},R.createElement(r7.Provider,{value:Q},R.createElement(ze,{width:G??(T==null?void 0:T.width),height:ue??(T==null?void 0:T.height),className:On("recharts-wrapper",n),style:dfe({position:"relative",cursor:"default",width:G,height:ue},T),onClick:ae,onContextMenu:oe,onDoubleClick:Y,onFocus:pe,onKeyDown:be,onMouseDown:le,onMouseEnter:re,onMouseLeave:he,onMouseMove:Se,onMouseUp:me,onTouchEnd:Me,onTouchMove:we,onTouchStart:Ce,ref:J},R.createElement(gfe,null),r)))}),Sfe=["width","height","responsive","children","className","style","compact","title","desc"];function Afe(e,t){if(e==null)return{};var r,n,a=Efe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Efe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $L=R.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:u,compact:d,title:c,desc:h}=e,g=Afe(e,Sfe),x=nc(g);return d?R.createElement(R.Fragment,null,R.createElement(Fp,{width:r,height:n}),R.createElement(XT,{otherAttributes:x,title:c,desc:h},i)):R.createElement(_fe,{className:o,style:u,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},R.createElement(XT,{otherAttributes:x,title:c,desc:h,ref:t},R.createElement(dle,null,i)))});function t3(){return t3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t3.apply(null,arguments)}var Nfe={top:5,right:5,bottom:5,left:5},Cfe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Nfe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Ofe=R.forwardRef(function(t,r){var n,a=ls(t.categoricalChartProps,Cfe),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:c}=t,h={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return R.createElement(qL,{preloadedState:{options:h},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:i},R.createElement(xL,{chartData:c.data}),R.createElement(HL,{layout:a.layout,margin:a.margin}),R.createElement(GL,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),R.createElement($L,t3({},a,{ref:r})))}),Tfe=["axis","item"],r3=R.forwardRef((e,t)=>R.createElement(Ofe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Tfe,tooltipPayloadSearcher:$D,categoricalChartProps:e,ref:t}));function jfe(e){var t=la();return R.useEffect(()=>{t(Que(e))},[t,e]),null}var kfe=["layout"];function n3(){return n3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n3.apply(null,arguments)}function Ife(e,t){if(e==null)return{};var r,n,a=Mfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Pfe={top:5,right:5,bottom:5,left:5},WL={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Pfe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Rfe=R.forwardRef(function(t,r){var n,a=ls(t.categoricalChartProps,WL),{layout:i}=a,o=Ife(a,kfe),{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:c,tooltipPayloadSearcher:h}=t,g={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:c,tooltipPayloadSearcher:h,eventEmitter:void 0};return R.createElement(qL,{preloadedState:{options:g},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},R.createElement(xL,{chartData:a.data}),R.createElement(HL,{layout:i,margin:a.margin}),R.createElement(GL,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),R.createElement(jfe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),R.createElement($L,n3({},o,{ref:r})))});function ZT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZT(Object(r),!0).forEach(function(n){Dfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dfe(e,t,r){return(t=Lfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lfe(e){var t=Bfe(e,"string");return typeof t=="symbol"?t:t+""}function Bfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ffe=["item"],Ufe=QT(QT({},WL),{},{layout:"centric",startAngle:0,endAngle:360}),VL=R.forwardRef((e,t)=>{var r=ls(e,Ufe);return R.createElement(Rfe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Ffe,tooltipPayloadSearcher:$D,categoricalChartProps:r,ref:t})});const wg=["#10b981","#3b82f6","#f59e0b"];function zfe(){const{user:e}=Ja(),[t,r]=R.useState(!0),[n,a]=R.useState(0),[i,o]=R.useState(0),[u,d]=R.useState(0),[c,h]=R.useState(0),[g,x]=R.useState([]),[y,E]=R.useState([]);R.useEffect(()=>{e&&N()},[e]);const N=async()=>{r(!0);try{const T=new Date,j=new Date(T.getFullYear(),T.getMonth(),1).toISOString(),D=new Date(T.getFullYear(),T.getMonth()+1,0).toISOString(),{data:F,error:U}=await At.from("facturas").select("monto_total, estado, fecha_emision").gte("fecha_emision",j).lte("fecha_emision",D);if(!U&&F){const $=F.filter(q=>q.estado!=="anulada"),Q=$.reduce((q,se)=>q+Number(se.monto_total),0);a(Q),o($.length>0?Q/$.length:0)}const{data:Z,error:X}=await At.from("paquetes").select("bodega_id, bodegas(nombre), peso_lbs").gte("fecha_recepcion",j).lte("fecha_recepcion",D);if(!X&&Z){d(Z.length);const $=new Map;let Q=0;Z.forEach(se=>{var ue;const H=((ue=se.bodegas)==null?void 0:ue.nombre)||"General";H.toLowerCase().includes("laredo")&&Q++,$.has(H)||$.set(H,{name:H,lbs:0,count:0});const G=$.get(H);G.lbs+=Number(se.peso_lbs||0),G.count+=1}),h(Q);const q=Array.from($.values());E(q.map(se=>({name:se.name,value:se.count}))),x(q.map(se=>({name:se.name,LIBRAS:se.lbs})))}}catch(T){console.error("Dashboard calculation error:",T)}finally{r(!1)}};return t?b.jsx("div",{className:"flex h-[80vh] items-center justify-center",children:b.jsx(to,{className:"h-10 w-10 animate-spin text-blue-600"})}):b.jsxs("div",{className:"space-y-8 animate-fade-in relative z-10 w-full max-w-full overflow-hidden",children:[b.jsx("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900 bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-600",children:"Dashboard de Control"}),b.jsx("p",{className:"text-sm font-medium text-slate-500 mt-1",children:"Visin general en tiempo real de operaciones y finanzas."})]})}),b.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[{name:"Facturacin Mensual",icon:J5,value:`Q ${n.toFixed(2)}`,color:"from-emerald-500 to-teal-500",bg:"bg-emerald-50 text-emerald-600"},{name:"Ticket Promedio",icon:p0,value:`Q ${i.toFixed(2)}`,color:"from-blue-500 to-indigo-500",bg:"bg-blue-50 text-blue-600"},{name:"Paquetes Procesados",icon:Sl,value:u.toString(),color:"from-violet-500 to-purple-500",bg:"bg-violet-50 text-violet-600"},{name:"Carga Laredo (Tx)",icon:T0,value:c.toString(),color:"from-amber-500 to-orange-500",bg:"bg-amber-50 text-amber-600"}].map((T,j)=>b.jsxs("div",{className:"relative overflow-hidden rounded-2xl glass p-6 card-hover group",style:{animationDelay:`${j*100}ms`},children:[b.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${T.color} opacity-10 rounded-bl-full -z-10 transition-transform group-hover:scale-110`}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("p",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:T.name}),b.jsx("div",{className:`rounded-xl p-2.5 shadow-sm ${T.bg}`,children:b.jsx(T.icon,{className:"h-5 w-5"})})]}),b.jsxs("div",{className:"mt-4",children:[b.jsx("p",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:T.value}),b.jsx("p",{className:"text-xs font-medium text-slate-400 mt-1 drop-shadow-sm",children:"Acumulado mes actual"})]})]},T.name))}),b.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[b.jsxs("div",{className:"col-span-1 lg:col-span-2 rounded-2xl glass p-6 card-hover min-w-0",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-900 tracking-tight",children:"Volumen Operativo por Bodega"}),b.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-blue-50 text-blue-600 border border-blue-100",children:"Libras (Lbs)"})]}),b.jsx("div",{className:"h-[300px] w-full",children:g.length>0?b.jsx(eb,{width:"100%",height:"100%",children:b.jsxs(r3,{data:g,margin:{top:10,right:10,left:0,bottom:0},children:[b.jsx("defs",{children:b.jsxs("linearGradient",{id:"colorLbs",x1:"0",y1:"0",x2:"0",y2:"1",children:[b.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.9}),b.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:.9})]})}),b.jsx(OA,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),b.jsx(jA,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:13,fontWeight:500},dy:10}),b.jsx(kA,{axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:12}}),b.jsx(Ab,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"12px",border:"1px solid #e2e8f0",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",padding:"12px",fontWeight:600}}),b.jsx(kb,{dataKey:"LIBRAS",fill:"url(#colorLbs)",radius:[6,6,0,0],maxBarSize:50})]})}):b.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 text-sm",children:[b.jsx(r3,{className:"h-12 w-12 text-slate-200 mb-2 opacity-50"}),b.jsx("span",{children:"Sin datos suficientes este mes"})]})})]}),b.jsxs("div",{className:"rounded-2xl glass p-6 card-hover flex flex-col min-w-0",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-900 tracking-tight mb-2",children:"Distribucin Logstica"}),b.jsx("p",{className:"text-xs font-medium text-slate-400 mb-6",children:"Proporcin de paquetes por destino"}),b.jsx("div",{className:"h-[220px] w-full flex-1",children:y.length>0?b.jsx(eb,{width:"100%",height:"100%",children:b.jsxs(VL,{children:[b.jsx(EA,{data:y,cx:"50%",cy:"50%",innerRadius:70,outerRadius:95,paddingAngle:5,dataKey:"value",stroke:"none",children:y.map((T,j)=>b.jsx(z0,{fill:wg[j%wg.length],className:"hover:opacity-80 transition-opacity outline-none",style:{filter:"drop-shadow(0px 4px 6px rgba(0,0,0,0.1))"}},`cell-${j}`))}),b.jsx(Ab,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",fontWeight:600}})]})}):b.jsx("div",{className:"h-full flex items-center justify-center text-slate-400 text-sm",children:"Sin paquetes"})}),b.jsx("div",{className:"mt-6 flex flex-wrap justify-center gap-x-6 gap-y-3 bg-slate-50/50 p-4 rounded-xl border border-slate-100",children:y.map((T,j)=>b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"h-3.5 w-3.5 rounded-full shadow-sm",style:{backgroundColor:wg[j%wg.length]}}),b.jsxs("span",{className:"text-xs font-bold text-slate-700",children:[T.name," ",b.jsxs("span",{className:"text-slate-400 font-medium ml-1",children:["(",T.value,")"]})]})]},T.name))})]})]})]})}var Bt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Bt||(Bt={}));var JT=new Map([[Bt.QR_CODE,"QR_CODE"],[Bt.AZTEC,"AZTEC"],[Bt.CODABAR,"CODABAR"],[Bt.CODE_39,"CODE_39"],[Bt.CODE_93,"CODE_93"],[Bt.CODE_128,"CODE_128"],[Bt.DATA_MATRIX,"DATA_MATRIX"],[Bt.MAXICODE,"MAXICODE"],[Bt.ITF,"ITF"],[Bt.EAN_13,"EAN_13"],[Bt.EAN_8,"EAN_8"],[Bt.PDF_417,"PDF_417"],[Bt.RSS_14,"RSS_14"],[Bt.RSS_EXPANDED,"RSS_EXPANDED"],[Bt.UPC_A,"UPC_A"],[Bt.UPC_E,"UPC_E"],[Bt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),ej;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(ej||(ej={}));function qfe(e){return Object.values(Bt).includes(e)}var Df;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Df||(Df={}));var Zl=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Df.SCAN_TYPE_CAMERA,Df.SCAN_TYPE_FILE],e})(),YL=(function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!JT.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,JT.get(t))},e})(),tj=(function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),a3;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(a3||(a3={}));var XL=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:a3.UNKWOWN_ERROR}},e})(),KL=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function Ic(e){return typeof e>"u"||e===null}function Hfe(e,t,r){return e>r?r:e<t?t:e}var n0=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),Bn=(function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e})(),rj=(function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e})(),ZL=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],i=new Set(a),o=Object.keys(t),u=0,d=o;u<d.length;u++){var c=d[u];if(i.has(c))return r.logError("".concat(c," is not supported videoConstaints."),!0),!1}return!0},e})(),K1={exports:{}},Gfe=K1.exports,nj;function $fe(){return nj||(nj=1,(function(e,t){(function(r,n){n(t)})(Gfe,(function(r){function n(ee){return ee==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,l){ee.__proto__=l}||function(ee,l){for(var p in l)l.hasOwnProperty(p)&&(ee[p]=l[p])};function i(ee,l){a(ee,l);function p(){this.constructor=ee}ee.prototype=l===null?Object.create(l):(p.prototype=l.prototype,new p)}function o(ee,l){var p=Object.setPrototypeOf;p?p(ee,l):ee.__proto__=l}function u(ee,l){l===void 0&&(l=ee.constructor);var p=Error.captureStackTrace;p&&p(ee,l)}var d=(function(ee){i(l,ee);function l(p){var m=this.constructor,w=ee.call(this,p)||this;return Object.defineProperty(w,"name",{value:m.name,enumerable:!1}),o(w,m.prototype),u(w),w}return l})(Error);class c extends d{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}c.kind="Exception";class h extends c{}h.kind="ArgumentException";class g extends c{}g.kind="IllegalArgumentException";class x{constructor(l){if(this.binarizer=l,l===null)throw new g("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(l,p){return this.binarizer.getBlackRow(l,p)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(l,p,m,w){const _=this.binarizer.getLuminanceSource().crop(l,p,m,w);return new x(this.binarizer.createBinarizer(_))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new x(this.binarizer.createBinarizer(l))}rotateCounterClockwise45(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new x(this.binarizer.createBinarizer(l))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class y extends c{static getChecksumInstance(){return new y}}y.kind="ChecksumException";class E{constructor(l){this.source=l}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class N{static arraycopy(l,p,m,w,_){for(;_--;)m[w++]=l[p++]}static currentTimeMillis(){return Date.now()}}class T extends c{}T.kind="IndexOutOfBoundsException";class j extends T{constructor(l=void 0,p=void 0){super(p),this.index=l,this.message=p}}j.kind="ArrayIndexOutOfBoundsException";class D{static fill(l,p){for(let m=0,w=l.length;m<w;m++)l[m]=p}static fillWithin(l,p,m,w){D.rangeCheck(l.length,p,m);for(let _=p;_<m;_++)l[_]=w}static rangeCheck(l,p,m){if(p>m)throw new g("fromIndex("+p+") > toIndex("+m+")");if(p<0)throw new j(p);if(m>l)throw new j(m)}static asList(...l){return l}static create(l,p,m){return Array.from({length:l}).map(_=>Array.from({length:p}).fill(m))}static createInt32Array(l,p,m){return Array.from({length:l}).map(_=>Int32Array.from({length:p}).fill(m))}static equals(l,p){if(!l||!p||!l.length||!p.length||l.length!==p.length)return!1;for(let m=0,w=l.length;m<w;m++)if(l[m]!==p[m])return!1;return!0}static hashCode(l){if(l===null)return 0;let p=1;for(const m of l)p=31*p+m;return p}static fillUint8Array(l,p){for(let m=0;m!==l.length;m++)l[m]=p}static copyOf(l,p){return l.slice(0,p)}static copyOfUint8Array(l,p){if(l.length<=p){const m=new Uint8Array(p);return m.set(l),m}return l.slice(0,p)}static copyOfRange(l,p,m){const w=m-p,_=new Int32Array(w);return N.arraycopy(l,p,_,0,w),_}static binarySearch(l,p,m){m===void 0&&(m=D.numberComparator);let w=0,_=l.length-1;for(;w<=_;){const A=_+w>>1,O=m(p,l[A]);if(O>0)w=A+1;else if(O<0)_=A-1;else return A}return-w-1}static numberComparator(l,p){return l-p}}class F{static numberOfTrailingZeros(l){let p;if(l===0)return 32;let m=31;return p=l<<16,p!==0&&(m-=16,l=p),p=l<<8,p!==0&&(m-=8,l=p),p=l<<4,p!==0&&(m-=4,l=p),p=l<<2,p!==0&&(m-=2,l=p),m-(l<<1>>>31)}static numberOfLeadingZeros(l){if(l===0)return 32;let p=1;return l>>>16||(p+=16,l<<=16),l>>>24||(p+=8,l<<=8),l>>>28||(p+=4,l<<=4),l>>>30||(p+=2,l<<=2),p-=l>>>31,p}static toHexString(l){return l.toString(16)}static toBinaryString(l){return String(parseInt(String(l),2))}static bitCount(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),l=l+(l>>>4)&252645135,l=l+(l>>>8),l=l+(l>>>16),l&63}static truncDivision(l,p){return Math.trunc(l/p)}static parseInt(l,p=void 0){return parseInt(l,p)}}F.MIN_VALUE_32_BITS=-2147483648,F.MAX_VALUE=Number.MAX_SAFE_INTEGER;class U{constructor(l,p){l===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=l,p==null?this.bits=U.makeArray(l):this.bits=p)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(l){if(l>this.bits.length*32){const p=U.makeArray(l);N.arraycopy(this.bits,0,p,0,this.bits.length),this.bits=p}}get(l){return(this.bits[Math.floor(l/32)]&1<<(l&31))!==0}set(l){this.bits[Math.floor(l/32)]|=1<<(l&31)}flip(l){this.bits[Math.floor(l/32)]^=1<<(l&31)}getNextSet(l){const p=this.size;if(l>=p)return p;const m=this.bits;let w=Math.floor(l/32),_=m[w];_&=~((1<<(l&31))-1);const A=m.length;for(;_===0;){if(++w===A)return p;_=m[w]}const O=w*32+F.numberOfTrailingZeros(_);return O>p?p:O}getNextUnset(l){const p=this.size;if(l>=p)return p;const m=this.bits;let w=Math.floor(l/32),_=~m[w];_&=~((1<<(l&31))-1);const A=m.length;for(;_===0;){if(++w===A)return p;_=~m[w]}const O=w*32+F.numberOfTrailingZeros(_);return O>p?p:O}setBulk(l,p){this.bits[Math.floor(l/32)]=p}setRange(l,p){if(p<l||l<0||p>this.size)throw new g;if(p===l)return;p--;const m=Math.floor(l/32),w=Math.floor(p/32),_=this.bits;for(let A=m;A<=w;A++){const O=A>m?0:l&31,B=(2<<(A<w?31:p&31))-(1<<O);_[A]|=B}}clear(){const l=this.bits.length,p=this.bits;for(let m=0;m<l;m++)p[m]=0}isRange(l,p,m){if(p<l||l<0||p>this.size)throw new g;if(p===l)return!0;p--;const w=Math.floor(l/32),_=Math.floor(p/32),A=this.bits;for(let O=w;O<=_;O++){const M=O>w?0:l&31,W=(2<<(O<_?31:p&31))-(1<<M)&4294967295;if((A[O]&W)!==(m?W:0))return!1}return!0}appendBit(l){this.ensureCapacity(this.size+1),l&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(l,p){if(p<0||p>32)throw new g("Num bits must be between 0 and 32");this.ensureCapacity(this.size+p);for(let m=p;m>0;m--)this.appendBit((l>>m-1&1)===1)}appendBitArray(l){const p=l.size;this.ensureCapacity(this.size+p);for(let m=0;m<p;m++)this.appendBit(l.get(m))}xor(l){if(this.size!==l.size)throw new g("Sizes don't match");const p=this.bits;for(let m=0,w=p.length;m<w;m++)p[m]^=l.bits[m]}toBytes(l,p,m,w){for(let _=0;_<w;_++){let A=0;for(let O=0;O<8;O++)this.get(l)&&(A|=1<<7-O),l++;p[m+_]=A}}getBitArray(){return this.bits}reverse(){const l=new Int32Array(this.bits.length),p=Math.floor((this.size-1)/32),m=p+1,w=this.bits;for(let _=0;_<m;_++){let A=w[_];A=A>>1&1431655765|(A&1431655765)<<1,A=A>>2&858993459|(A&858993459)<<2,A=A>>4&252645135|(A&252645135)<<4,A=A>>8&16711935|(A&16711935)<<8,A=A>>16&65535|(A&65535)<<16,l[p-_]=A}if(this.size!==m*32){const _=m*32-this.size;let A=l[0]>>>_;for(let O=1;O<m;O++){const M=l[O];A|=M<<32-_,l[O-1]=A,A=M>>>_}l[m-1]=A}this.bits=l}static makeArray(l){return new Int32Array(Math.floor((l+31)/32))}equals(l){if(!(l instanceof U))return!1;const p=l;return this.size===p.size&&D.equals(this.bits,p.bits)}hashCode(){return 31*this.size+D.hashCode(this.bits)}toString(){let l="";for(let p=0,m=this.size;p<m;p++)(p&7)===0&&(l+=" "),l+=this.get(p)?"X":".";return l}clone(){return new U(this.size,this.bits.slice())}}var Z;(function(ee){ee[ee.OTHER=0]="OTHER",ee[ee.PURE_BARCODE=1]="PURE_BARCODE",ee[ee.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",ee[ee.TRY_HARDER=3]="TRY_HARDER",ee[ee.CHARACTER_SET=4]="CHARACTER_SET",ee[ee.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",ee[ee.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",ee[ee.ASSUME_GS1=7]="ASSUME_GS1",ee[ee.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",ee[ee.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",ee[ee.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Z||(Z={}));var X=Z;class $ extends c{static getFormatInstance(){return new $}}$.kind="FormatException";var Q;(function(ee){ee[ee.Cp437=0]="Cp437",ee[ee.ISO8859_1=1]="ISO8859_1",ee[ee.ISO8859_2=2]="ISO8859_2",ee[ee.ISO8859_3=3]="ISO8859_3",ee[ee.ISO8859_4=4]="ISO8859_4",ee[ee.ISO8859_5=5]="ISO8859_5",ee[ee.ISO8859_6=6]="ISO8859_6",ee[ee.ISO8859_7=7]="ISO8859_7",ee[ee.ISO8859_8=8]="ISO8859_8",ee[ee.ISO8859_9=9]="ISO8859_9",ee[ee.ISO8859_10=10]="ISO8859_10",ee[ee.ISO8859_11=11]="ISO8859_11",ee[ee.ISO8859_13=12]="ISO8859_13",ee[ee.ISO8859_14=13]="ISO8859_14",ee[ee.ISO8859_15=14]="ISO8859_15",ee[ee.ISO8859_16=15]="ISO8859_16",ee[ee.SJIS=16]="SJIS",ee[ee.Cp1250=17]="Cp1250",ee[ee.Cp1251=18]="Cp1251",ee[ee.Cp1252=19]="Cp1252",ee[ee.Cp1256=20]="Cp1256",ee[ee.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",ee[ee.UTF8=22]="UTF8",ee[ee.ASCII=23]="ASCII",ee[ee.Big5=24]="Big5",ee[ee.GB18030=25]="GB18030",ee[ee.EUC_KR=26]="EUC_KR"})(Q||(Q={}));class q{constructor(l,p,m,...w){this.valueIdentifier=l,this.name=m,typeof p=="number"?this.values=Int32Array.from([p]):this.values=p,this.otherEncodingNames=w,q.VALUE_IDENTIFIER_TO_ECI.set(l,this),q.NAME_TO_ECI.set(m,this);const _=this.values;for(let A=0,O=_.length;A!==O;A++){const M=_[A];q.VALUES_TO_ECI.set(M,this)}for(const A of w)q.NAME_TO_ECI.set(A,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(l){if(l<0||l>=900)throw new $("incorect value");const p=q.VALUES_TO_ECI.get(l);if(p===void 0)throw new $("incorect value");return p}static getCharacterSetECIByName(l){const p=q.NAME_TO_ECI.get(l);if(p===void 0)throw new $("incorect value");return p}equals(l){if(!(l instanceof q))return!1;const p=l;return this.getName()===p.getName()}}q.VALUE_IDENTIFIER_TO_ECI=new Map,q.VALUES_TO_ECI=new Map,q.NAME_TO_ECI=new Map,q.Cp437=new q(Q.Cp437,Int32Array.from([0,2]),"Cp437"),q.ISO8859_1=new q(Q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),q.ISO8859_2=new q(Q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),q.ISO8859_3=new q(Q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),q.ISO8859_4=new q(Q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),q.ISO8859_5=new q(Q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),q.ISO8859_6=new q(Q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),q.ISO8859_7=new q(Q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),q.ISO8859_8=new q(Q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),q.ISO8859_9=new q(Q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),q.ISO8859_10=new q(Q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),q.ISO8859_11=new q(Q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),q.ISO8859_13=new q(Q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),q.ISO8859_14=new q(Q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),q.ISO8859_15=new q(Q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),q.ISO8859_16=new q(Q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),q.SJIS=new q(Q.SJIS,20,"SJIS","Shift_JIS"),q.Cp1250=new q(Q.Cp1250,21,"Cp1250","windows-1250"),q.Cp1251=new q(Q.Cp1251,22,"Cp1251","windows-1251"),q.Cp1252=new q(Q.Cp1252,23,"Cp1252","windows-1252"),q.Cp1256=new q(Q.Cp1256,24,"Cp1256","windows-1256"),q.UnicodeBigUnmarked=new q(Q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),q.UTF8=new q(Q.UTF8,26,"UTF8","UTF-8"),q.ASCII=new q(Q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),q.Big5=new q(Q.Big5,28,"Big5"),q.GB18030=new q(Q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),q.EUC_KR=new q(Q.EUC_KR,30,"EUC_KR","EUC-KR");class se extends c{}se.kind="UnsupportedOperationException";class H{static decode(l,p){const m=this.encodingName(p);return this.customDecoder?this.customDecoder(l,m):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(m)?this.decodeFallback(l,m):new TextDecoder(m).decode(l)}static shouldDecodeOnFallback(l){return!H.isBrowser()&&l==="ISO-8859-1"}static encode(l,p){const m=this.encodingName(p);return this.customEncoder?this.customEncoder(l,m):typeof TextEncoder>"u"?this.encodeFallback(l):new TextEncoder().encode(l)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(l){return typeof l=="string"?l:l.getName()}static encodingCharacterSet(l){return l instanceof q?l:q.getCharacterSetECIByName(l)}static decodeFallback(l,p){const m=this.encodingCharacterSet(p);if(H.isDecodeFallbackSupported(m)){let w="";for(let _=0,A=l.length;_<A;_++){let O=l[_].toString(16);O.length<2&&(O="0"+O),w+="%"+O}return decodeURIComponent(w)}if(m.equals(q.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(l.buffer));throw new se(`Encoding ${this.encodingName(p)} not supported by fallback.`)}static isDecodeFallbackSupported(l){return l.equals(q.UTF8)||l.equals(q.ISO8859_1)||l.equals(q.ASCII)}static encodeFallback(l){const m=btoa(unescape(encodeURIComponent(l))).split(""),w=[];for(let _=0;_<m.length;_++)w.push(m[_].charCodeAt(0));return new Uint8Array(w)}}class G{static castAsNonUtf8Char(l,p=null){const m=p?p.getName():this.ISO88591;return H.decode(new Uint8Array([l]),m)}static guessEncoding(l,p){if(p!=null&&p.get(X.CHARACTER_SET)!==void 0)return p.get(X.CHARACTER_SET).toString();const m=l.length;let w=!0,_=!0,A=!0,O=0,M=0,B=0,W=0,te=0,ce=0,Ae=0,je=0,Pe=0,Be=0,Ze=0;const ct=l.length>3&&l[0]===239&&l[1]===187&&l[2]===191;for(let ut=0;ut<m&&(w||_||A);ut++){const ot=l[ut]&255;A&&(O>0?(ot&128)===0?A=!1:O--:(ot&128)!==0&&((ot&64)===0?A=!1:(O++,(ot&32)===0?M++:(O++,(ot&16)===0?B++:(O++,(ot&8)===0?W++:A=!1))))),w&&(ot>127&&ot<160?w=!1:ot>159&&(ot<192||ot===215||ot===247)&&Ze++),_&&(te>0?ot<64||ot===127||ot>252?_=!1:te--:ot===128||ot===160||ot>239?_=!1:ot>160&&ot<224?(ce++,je=0,Ae++,Ae>Pe&&(Pe=Ae)):ot>127?(te++,Ae=0,je++,je>Be&&(Be=je)):(Ae=0,je=0))}return A&&O>0&&(A=!1),_&&te>0&&(_=!1),A&&(ct||M+B+W>0)?G.UTF8:_&&(G.ASSUME_SHIFT_JIS||Pe>=3||Be>=3)?G.SHIFT_JIS:w&&_?Pe===2&&ce===2||Ze*10>=m?G.SHIFT_JIS:G.ISO88591:w?G.ISO88591:_?G.SHIFT_JIS:A?G.UTF8:G.PLATFORM_DEFAULT_ENCODING}static format(l,...p){let m=-1;function w(A,O,M,B,W,te){if(A==="%%")return"%";if(p[++m]===void 0)return;A=B?parseInt(B.substr(1)):void 0;let ce=W?parseInt(W.substr(1)):void 0,Ae;switch(te){case"s":Ae=p[m];break;case"c":Ae=p[m][0];break;case"f":Ae=parseFloat(p[m]).toFixed(A);break;case"p":Ae=parseFloat(p[m]).toPrecision(A);break;case"e":Ae=parseFloat(p[m]).toExponential(A);break;case"x":Ae=parseInt(p[m]).toString(ce||16);break;case"d":Ae=parseFloat(parseInt(p[m],ce||10).toPrecision(A)).toFixed(0);break}Ae=typeof Ae=="object"?JSON.stringify(Ae):(+Ae).toString(ce);let je=parseInt(M),Pe=M&&M[0]+""=="0"?"0":" ";for(;Ae.length<je;)Ae=O!==void 0?Ae+Pe:Pe+Ae;return Ae}let _=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(_,w)}static getBytes(l,p){return H.encode(l,p)}static getCharCode(l,p=0){return l.charCodeAt(p)}static getCharAt(l){return String.fromCharCode(l)}}G.SHIFT_JIS=q.SJIS.getName(),G.GB2312="GB2312",G.ISO88591=q.ISO8859_1.getName(),G.EUC_JP="EUC_JP",G.UTF8=q.UTF8.getName(),G.PLATFORM_DEFAULT_ENCODING=G.UTF8,G.ASSUME_SHIFT_JIS=!1;class ue{constructor(l=""){this.value=l}enableDecoding(l){return this.encoding=l,this}append(l){return typeof l=="string"?this.value+=l.toString():this.encoding?this.value+=G.castAsNonUtf8Char(l,this.encoding):this.value+=String.fromCharCode(l),this}appendChars(l,p,m){for(let w=p;p<p+m;w++)this.append(l[w]);return this}length(){return this.value.length}charAt(l){return this.value.charAt(l)}deleteCharAt(l){this.value=this.value.substr(0,l)+this.value.substring(l+1)}setCharAt(l,p){this.value=this.value.substr(0,l)+p+this.value.substr(l+1)}substring(l,p){return this.value.substring(l,p)}setLengthToZero(){this.value=""}toString(){return this.value}insert(l,p){this.value=this.value.substr(0,l)+p+this.value.substr(l+p.length)}}class J{constructor(l,p,m,w){if(this.width=l,this.height=p,this.rowSize=m,this.bits=w,p==null&&(p=l),this.height=p,l<1||p<1)throw new g("Both dimensions must be greater than 0");m==null&&(m=Math.floor((l+31)/32)),this.rowSize=m,w==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(l){const p=l.length,m=l[0].length,w=new J(m,p);for(let _=0;_<p;_++){const A=l[_];for(let O=0;O<m;O++)A[O]&&w.set(O,_)}return w}static parseFromString(l,p,m){if(l===null)throw new g("stringRepresentation cannot be null");const w=new Array(l.length);let _=0,A=0,O=-1,M=0,B=0;for(;B<l.length;)if(l.charAt(B)===`
`||l.charAt(B)==="\r"){if(_>A){if(O===-1)O=_-A;else if(_-A!==O)throw new g("row lengths do not match");A=_,M++}B++}else if(l.substring(B,B+p.length)===p)B+=p.length,w[_]=!0,_++;else if(l.substring(B,B+m.length)===m)B+=m.length,w[_]=!1,_++;else throw new g("illegal character encountered: "+l.substring(B));if(_>A){if(O===-1)O=_-A;else if(_-A!==O)throw new g("row lengths do not match");M++}const W=new J(O,M);for(let te=0;te<_;te++)w[te]&&W.set(Math.floor(te%O),Math.floor(te/O));return W}get(l,p){const m=p*this.rowSize+Math.floor(l/32);return(this.bits[m]>>>(l&31)&1)!==0}set(l,p){const m=p*this.rowSize+Math.floor(l/32);this.bits[m]|=1<<(l&31)&4294967295}unset(l,p){const m=p*this.rowSize+Math.floor(l/32);this.bits[m]&=~(1<<(l&31)&4294967295)}flip(l,p){const m=p*this.rowSize+Math.floor(l/32);this.bits[m]^=1<<(l&31)&4294967295}xor(l){if(this.width!==l.getWidth()||this.height!==l.getHeight()||this.rowSize!==l.getRowSize())throw new g("input matrix dimensions do not match");const p=new U(Math.floor(this.width/32)+1),m=this.rowSize,w=this.bits;for(let _=0,A=this.height;_<A;_++){const O=_*m,M=l.getRow(_,p).getBitArray();for(let B=0;B<m;B++)w[O+B]^=M[B]}}clear(){const l=this.bits,p=l.length;for(let m=0;m<p;m++)l[m]=0}setRegion(l,p,m,w){if(p<0||l<0)throw new g("Left and top must be nonnegative");if(w<1||m<1)throw new g("Height and width must be at least 1");const _=l+m,A=p+w;if(A>this.height||_>this.width)throw new g("The region must fit inside the matrix");const O=this.rowSize,M=this.bits;for(let B=p;B<A;B++){const W=B*O;for(let te=l;te<_;te++)M[W+Math.floor(te/32)]|=1<<(te&31)&4294967295}}getRow(l,p){p==null||p.getSize()<this.width?p=new U(this.width):p.clear();const m=this.rowSize,w=this.bits,_=l*m;for(let A=0;A<m;A++)p.setBulk(A*32,w[_+A]);return p}setRow(l,p){N.arraycopy(p.getBitArray(),0,this.bits,l*this.rowSize,this.rowSize)}rotate180(){const l=this.getWidth(),p=this.getHeight();let m=new U(l),w=new U(l);for(let _=0,A=Math.floor((p+1)/2);_<A;_++)m=this.getRow(_,m),w=this.getRow(p-1-_,w),m.reverse(),w.reverse(),this.setRow(_,w),this.setRow(p-1-_,m)}getEnclosingRectangle(){const l=this.width,p=this.height,m=this.rowSize,w=this.bits;let _=l,A=p,O=-1,M=-1;for(let B=0;B<p;B++)for(let W=0;W<m;W++){const te=w[B*m+W];if(te!==0){if(B<A&&(A=B),B>M&&(M=B),W*32<_){let ce=0;for(;(te<<31-ce&4294967295)===0;)ce++;W*32+ce<_&&(_=W*32+ce)}if(W*32+31>O){let ce=31;for(;!(te>>>ce);)ce--;W*32+ce>O&&(O=W*32+ce)}}}return O<_||M<A?null:Int32Array.from([_,A,O-_+1,M-A+1])}getTopLeftOnBit(){const l=this.rowSize,p=this.bits;let m=0;for(;m<p.length&&p[m]===0;)m++;if(m===p.length)return null;const w=m/l;let _=m%l*32;const A=p[m];let O=0;for(;(A<<31-O&4294967295)===0;)O++;return _+=O,Int32Array.from([_,w])}getBottomRightOnBit(){const l=this.rowSize,p=this.bits;let m=p.length-1;for(;m>=0&&p[m]===0;)m--;if(m<0)return null;const w=Math.floor(m/l);let _=Math.floor(m%l)*32;const A=p[m];let O=31;for(;!(A>>>O);)O--;return _+=O,Int32Array.from([_,w])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(l){if(!(l instanceof J))return!1;const p=l;return this.width===p.width&&this.height===p.height&&this.rowSize===p.rowSize&&D.equals(this.bits,p.bits)}hashCode(){let l=this.width;return l=31*l+this.width,l=31*l+this.height,l=31*l+this.rowSize,l=31*l+D.hashCode(this.bits),l}toString(l="X ",p="  ",m=`
`){return this.buildToString(l,p,m)}buildToString(l,p,m){let w=new ue;for(let _=0,A=this.height;_<A;_++){for(let O=0,M=this.width;O<M;O++)w.append(this.get(O,_)?l:p);w.append(m)}return w.toString()}clone(){return new J(this.width,this.height,this.rowSize,this.bits.slice())}}class ae extends c{static getNotFoundInstance(){return new ae}}ae.kind="NotFoundException";class re extends E{constructor(l){super(l),this.luminances=re.EMPTY,this.buckets=new Int32Array(re.LUMINANCE_BUCKETS)}getBlackRow(l,p){const m=this.getLuminanceSource(),w=m.getWidth();p==null||p.getSize()<w?p=new U(w):p.clear(),this.initArrays(w);const _=m.getRow(l,this.luminances),A=this.buckets;for(let M=0;M<w;M++)A[(_[M]&255)>>re.LUMINANCE_SHIFT]++;const O=re.estimateBlackPoint(A);if(w<3)for(let M=0;M<w;M++)(_[M]&255)<O&&p.set(M);else{let M=_[0]&255,B=_[1]&255;for(let W=1;W<w-1;W++){const te=_[W+1]&255;(B*4-M-te)/2<O&&p.set(W),M=B,B=te}}return p}getBlackMatrix(){const l=this.getLuminanceSource(),p=l.getWidth(),m=l.getHeight(),w=new J(p,m);this.initArrays(p);const _=this.buckets;for(let M=1;M<5;M++){const B=Math.floor(m*M/5),W=l.getRow(B,this.luminances),te=Math.floor(p*4/5);for(let ce=Math.floor(p/5);ce<te;ce++){const Ae=W[ce]&255;_[Ae>>re.LUMINANCE_SHIFT]++}}const A=re.estimateBlackPoint(_),O=l.getMatrix();for(let M=0;M<m;M++){const B=M*p;for(let W=0;W<p;W++)(O[B+W]&255)<A&&w.set(W,M)}return w}createBinarizer(l){return new re(l)}initArrays(l){this.luminances.length<l&&(this.luminances=new Uint8ClampedArray(l));const p=this.buckets;for(let m=0;m<re.LUMINANCE_BUCKETS;m++)p[m]=0}static estimateBlackPoint(l){const p=l.length;let m=0,w=0,_=0;for(let W=0;W<p;W++)l[W]>_&&(w=W,_=l[W]),l[W]>m&&(m=l[W]);let A=0,O=0;for(let W=0;W<p;W++){const te=W-w,ce=l[W]*te*te;ce>O&&(A=W,O=ce)}if(w>A){const W=w;w=A,A=W}if(A-w<=p/16)throw new ae;let M=A-1,B=-1;for(let W=A-1;W>w;W--){const te=W-w,ce=te*te*(A-W)*(m-l[W]);ce>B&&(M=W,B=ce)}return M<<re.LUMINANCE_SHIFT}}re.LUMINANCE_BITS=5,re.LUMINANCE_SHIFT=8-re.LUMINANCE_BITS,re.LUMINANCE_BUCKETS=1<<re.LUMINANCE_BITS,re.EMPTY=Uint8ClampedArray.from([0]);class he extends re{constructor(l){super(l),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const l=this.getLuminanceSource(),p=l.getWidth(),m=l.getHeight();if(p>=he.MINIMUM_DIMENSION&&m>=he.MINIMUM_DIMENSION){const w=l.getMatrix();let _=p>>he.BLOCK_SIZE_POWER;(p&he.BLOCK_SIZE_MASK)!==0&&_++;let A=m>>he.BLOCK_SIZE_POWER;(m&he.BLOCK_SIZE_MASK)!==0&&A++;const O=he.calculateBlackPoints(w,_,A,p,m),M=new J(p,m);he.calculateThresholdForBlock(w,_,A,p,m,O,M),this.matrix=M}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(l){return new he(l)}static calculateThresholdForBlock(l,p,m,w,_,A,O){const M=_-he.BLOCK_SIZE,B=w-he.BLOCK_SIZE;for(let W=0;W<m;W++){let te=W<<he.BLOCK_SIZE_POWER;te>M&&(te=M);const ce=he.cap(W,2,m-3);for(let Ae=0;Ae<p;Ae++){let je=Ae<<he.BLOCK_SIZE_POWER;je>B&&(je=B);const Pe=he.cap(Ae,2,p-3);let Be=0;for(let ct=-2;ct<=2;ct++){const ut=A[ce+ct];Be+=ut[Pe-2]+ut[Pe-1]+ut[Pe]+ut[Pe+1]+ut[Pe+2]}const Ze=Be/25;he.thresholdBlock(l,je,te,Ze,w,O)}}}static cap(l,p,m){return l<p?p:l>m?m:l}static thresholdBlock(l,p,m,w,_,A){for(let O=0,M=m*_+p;O<he.BLOCK_SIZE;O++,M+=_)for(let B=0;B<he.BLOCK_SIZE;B++)(l[M+B]&255)<=w&&A.set(p+B,m+O)}static calculateBlackPoints(l,p,m,w,_){const A=_-he.BLOCK_SIZE,O=w-he.BLOCK_SIZE,M=new Array(m);for(let B=0;B<m;B++){M[B]=new Int32Array(p);let W=B<<he.BLOCK_SIZE_POWER;W>A&&(W=A);for(let te=0;te<p;te++){let ce=te<<he.BLOCK_SIZE_POWER;ce>O&&(ce=O);let Ae=0,je=255,Pe=0;for(let Ze=0,ct=W*w+ce;Ze<he.BLOCK_SIZE;Ze++,ct+=w){for(let ut=0;ut<he.BLOCK_SIZE;ut++){const ot=l[ct+ut]&255;Ae+=ot,ot<je&&(je=ot),ot>Pe&&(Pe=ot)}if(Pe-je>he.MIN_DYNAMIC_RANGE)for(Ze++,ct+=w;Ze<he.BLOCK_SIZE;Ze++,ct+=w)for(let ut=0;ut<he.BLOCK_SIZE;ut++)Ae+=l[ct+ut]&255}let Be=Ae>>he.BLOCK_SIZE_POWER*2;if(Pe-je<=he.MIN_DYNAMIC_RANGE&&(Be=je/2,B>0&&te>0)){const Ze=(M[B-1][te]+2*M[B][te-1]+M[B-1][te-1])/4;je<Ze&&(Be=Ze)}M[B][te]=Be}}return M}}he.BLOCK_SIZE_POWER=3,he.BLOCK_SIZE=1<<he.BLOCK_SIZE_POWER,he.BLOCK_SIZE_MASK=he.BLOCK_SIZE-1,he.MINIMUM_DIMENSION=he.BLOCK_SIZE*5,he.MIN_DYNAMIC_RANGE=24;class Se{constructor(l,p){this.width=l,this.height=p}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(l,p,m,w){throw new se("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new se("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new se("This luminance source does not support rotation by 45 degrees.")}toString(){const l=new Uint8ClampedArray(this.width);let p=new ue;for(let m=0;m<this.height;m++){const w=this.getRow(m,l);for(let _=0;_<this.width;_++){const A=w[_]&255;let O;A<64?O="#":A<128?O="+":A<192?O=".":O=" ",p.append(O)}p.append(`
`)}return p.toString()}}class pe extends Se{constructor(l){super(l.getWidth(),l.getHeight()),this.delegate=l}getRow(l,p){const m=this.delegate.getRow(l,p),w=this.getWidth();for(let _=0;_<w;_++)m[_]=255-(m[_]&255);return m}getMatrix(){const l=this.delegate.getMatrix(),p=this.getWidth()*this.getHeight(),m=new Uint8ClampedArray(p);for(let w=0;w<p;w++)m[w]=255-(l[w]&255);return m}isCropSupported(){return this.delegate.isCropSupported()}crop(l,p,m,w){return new pe(this.delegate.crop(l,p,m,w))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new pe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new pe(this.delegate.rotateCounterClockwise45())}}class be extends Se{constructor(l){super(l.width,l.height),this.canvas=l,this.tempCanvasElement=null,this.buffer=be.makeBufferFromCanvasImageData(l)}static makeBufferFromCanvasImageData(l){const p=l.getContext("2d").getImageData(0,0,l.width,l.height);return be.toGrayscaleBuffer(p.data,l.width,l.height)}static toGrayscaleBuffer(l,p,m){const w=new Uint8ClampedArray(p*m);for(let _=0,A=0,O=l.length;_<O;_+=4,A++){let M;if(l[_+3]===0)M=255;else{const W=l[_],te=l[_+1],ce=l[_+2];M=306*W+601*te+117*ce+512>>10}w[A]=M}return w}getRow(l,p){if(l<0||l>=this.getHeight())throw new g("Requested row is outside the image: "+l);const m=this.getWidth(),w=l*m;return p===null?p=this.buffer.slice(w,w+m):(p.length<m&&(p=new Uint8ClampedArray(m)),p.set(this.buffer.slice(w,w+m))),p}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(l,p,m,w){return super.crop(l,p,m,w),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const l=this.canvas.ownerDocument.createElement("canvas");l.width=this.canvas.width,l.height=this.canvas.height,this.tempCanvasElement=l}return this.tempCanvasElement}rotate(l){const p=this.getTempCanvasElement(),m=p.getContext("2d"),w=l*be.DEGREE_TO_RADIANS,_=this.canvas.width,A=this.canvas.height,O=Math.ceil(Math.abs(Math.cos(w))*_+Math.abs(Math.sin(w))*A),M=Math.ceil(Math.abs(Math.sin(w))*_+Math.abs(Math.cos(w))*A);return p.width=O,p.height=M,m.translate(O/2,M/2),m.rotate(w),m.drawImage(this.canvas,_/-2,A/-2),this.buffer=be.makeBufferFromCanvasImageData(p),this}invert(){return new pe(this)}}be.DEGREE_TO_RADIANS=Math.PI/180;class oe{constructor(l,p,m){this.deviceId=l,this.label=p,this.kind="videoinput",this.groupId=m||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Y=(globalThis||Vm||self||window||void 0)&&(globalThis||Vm||self||window||void 0).__awaiter||function(ee,l,p,m){function w(_){return _ instanceof p?_:new p(function(A){A(_)})}return new(p||(p=Promise))(function(_,A){function O(W){try{B(m.next(W))}catch(te){A(te)}}function M(W){try{B(m.throw(W))}catch(te){A(te)}}function B(W){W.done?_(W.value):w(W.value).then(O,M)}B((m=m.apply(ee,l||[])).next())})};class le{constructor(l,p=500,m){this.reader=l,this.timeBetweenScansMillis=p,this._hints=m,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(l){this._timeBetweenDecodingAttempts=l<0?0:l}set hints(l){this._hints=l||null}get hints(){return this._hints}listVideoInputDevices(){return Y(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const l=yield navigator.mediaDevices.enumerateDevices(),p=[];for(const m of l){const w=m.kind==="video"?"videoinput":m.kind;if(w!=="videoinput")continue;const _=m.deviceId||m.id,A=m.label||`Video device ${p.length+1}`,O=m.groupId,M={deviceId:_,label:A,kind:w,groupId:O};p.push(M)}return p})}getVideoInputDevices(){return Y(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(p=>new oe(p.deviceId,p.label))})}findDeviceById(l){return Y(this,void 0,void 0,function*(){const p=yield this.listVideoInputDevices();return p?p.find(m=>m.deviceId===l):null})}decodeFromInputVideoDevice(l,p){return Y(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(l,p)})}decodeOnceFromVideoDevice(l,p){return Y(this,void 0,void 0,function*(){this.reset();let m;l?m={deviceId:{exact:l}}:m={facingMode:"environment"};const w={video:m};return yield this.decodeOnceFromConstraints(w,p)})}decodeOnceFromConstraints(l,p){return Y(this,void 0,void 0,function*(){const m=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeOnceFromStream(m,p)})}decodeOnceFromStream(l,p){return Y(this,void 0,void 0,function*(){this.reset();const m=yield this.attachStreamToVideo(l,p);return yield this.decodeOnce(m)})}decodeFromInputVideoDeviceContinuously(l,p,m){return Y(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(l,p,m)})}decodeFromVideoDevice(l,p,m){return Y(this,void 0,void 0,function*(){let w;l?w={deviceId:{exact:l}}:w={facingMode:"environment"};const _={video:w};return yield this.decodeFromConstraints(_,p,m)})}decodeFromConstraints(l,p,m){return Y(this,void 0,void 0,function*(){const w=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeFromStream(w,p,m)})}decodeFromStream(l,p,m){return Y(this,void 0,void 0,function*(){this.reset();const w=yield this.attachStreamToVideo(l,p);return yield this.decodeContinuously(w,m)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(l,p){return Y(this,void 0,void 0,function*(){const m=this.prepareVideoElement(p);return this.addVideoSource(m,l),this.videoElement=m,this.stream=l,yield this.playVideoOnLoadAsync(m),m})}playVideoOnLoadAsync(l){return new Promise((p,m)=>this.playVideoOnLoad(l,()=>p()))}playVideoOnLoad(l,p){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(l),l.addEventListener("ended",this.videoEndedListener),l.addEventListener("canplay",this.videoCanPlayListener),l.addEventListener("playing",p),this.tryPlayVideo(l)}isVideoPlaying(l){return l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2}tryPlayVideo(l){return Y(this,void 0,void 0,function*(){if(this.isVideoPlaying(l)){console.warn("Trying to play video that is already playing.");return}try{yield l.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(l,p){const m=document.getElementById(l);if(!m)throw new h(`element with id '${l}' not found`);if(m.nodeName.toLowerCase()!==p.toLowerCase())throw new h(`element with id '${l}' must be an ${p} element`);return m}decodeFromImage(l,p){if(!l&&!p)throw new h("either imageElement with a src set or an url must be provided");return p&&!l?this.decodeFromImageUrl(p):this.decodeFromImageElement(l)}decodeFromVideo(l,p){if(!l&&!p)throw new h("Either an element with a src set or an URL must be provided");return p&&!l?this.decodeFromVideoUrl(p):this.decodeFromVideoElement(l)}decodeFromVideoContinuously(l,p,m){if(l===void 0&&p===void 0)throw new h("Either an element with a src set or an URL must be provided");return p&&!l?this.decodeFromVideoUrlContinuously(p,m):this.decodeFromVideoElementContinuously(l,m)}decodeFromImageElement(l){if(!l)throw new h("An image element must be provided.");this.reset();const p=this.prepareImageElement(l);this.imageElement=p;let m;return this.isImageLoaded(p)?m=this.decodeOnce(p,!1,!0):m=this._decodeOnLoadImage(p),m}decodeFromVideoElement(l){const p=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideo(p)}decodeFromVideoElementContinuously(l,p){const m=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideoContinuously(m,p)}_decodeFromVideoElementSetup(l){if(!l)throw new h("A video element must be provided.");this.reset();const p=this.prepareVideoElement(l);return this.videoElement=p,p}decodeFromImageUrl(l){if(!l)throw new h("An URL must be provided.");this.reset();const p=this.prepareImageElement();this.imageElement=p;const m=this._decodeOnLoadImage(p);return p.src=l,m}decodeFromVideoUrl(l){if(!l)throw new h("An URL must be provided.");this.reset();const p=this.prepareVideoElement(),m=this.decodeFromVideoElement(p);return p.src=l,m}decodeFromVideoUrlContinuously(l,p){if(!l)throw new h("An URL must be provided.");this.reset();const m=this.prepareVideoElement(),w=this.decodeFromVideoElementContinuously(m,p);return m.src=l,w}_decodeOnLoadImage(l){return new Promise((p,m)=>{this.imageLoadedListener=()=>this.decodeOnce(l,!1,!0).then(p,m),l.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(l){return Y(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(l),yield this.decodeOnce(l)})}_decodeOnLoadVideoContinuously(l,p){return Y(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(l),this.decodeContinuously(l,p)})}isImageLoaded(l){return!(!l.complete||l.naturalWidth===0)}prepareImageElement(l){let p;return typeof l>"u"&&(p=document.createElement("img"),p.width=200,p.height=200),typeof l=="string"&&(p=this.getMediaElement(l,"img")),l instanceof HTMLImageElement&&(p=l),p}prepareVideoElement(l){let p;return!l&&typeof document<"u"&&(p=document.createElement("video"),p.width=200,p.height=200),typeof l=="string"&&(p=this.getMediaElement(l,"video")),l instanceof HTMLVideoElement&&(p=l),p.setAttribute("autoplay","true"),p.setAttribute("muted","true"),p.setAttribute("playsinline","true"),p}decodeOnce(l,p=!0,m=!0){this._stopAsyncDecode=!1;const w=(_,A)=>{if(this._stopAsyncDecode){A(new ae("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const O=this.decode(l);_(O)}catch(O){const M=p&&O instanceof ae,W=(O instanceof y||O instanceof $)&&m;if(M||W)return setTimeout(w,this._timeBetweenDecodingAttempts,_,A);A(O)}};return new Promise((_,A)=>w(_,A))}decodeContinuously(l,p){this._stopContinuousDecode=!1;const m=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const w=this.decode(l);p(w,null),setTimeout(m,this.timeBetweenScansMillis)}catch(w){p(null,w);const _=w instanceof y||w instanceof $,A=w instanceof ae;(_||A)&&setTimeout(m,this._timeBetweenDecodingAttempts)}};m()}decode(l){const p=this.createBinaryBitmap(l);return this.decodeBitmap(p)}_isHTMLVideoElement(l){return l.videoWidth!==0}drawFrameOnCanvas(l,p,m){p||(p={sx:0,sy:0,sWidth:l.videoWidth,sHeight:l.videoHeight,dx:0,dy:0,dWidth:l.videoWidth,dHeight:l.videoHeight}),m||(m=this.captureCanvasContext),m.drawImage(l,p.sx,p.sy,p.sWidth,p.sHeight,p.dx,p.dy,p.dWidth,p.dHeight)}drawImageOnCanvas(l,p,m=this.captureCanvasContext){p||(p={sx:0,sy:0,sWidth:l.naturalWidth,sHeight:l.naturalHeight,dx:0,dy:0,dWidth:l.naturalWidth,dHeight:l.naturalHeight}),m||(m=this.captureCanvasContext),m.drawImage(l,p.sx,p.sy,p.sWidth,p.sHeight,p.dx,p.dy,p.dWidth,p.dHeight)}createBinaryBitmap(l){this.getCaptureCanvasContext(l),this._isHTMLVideoElement(l)?this.drawFrameOnCanvas(l):this.drawImageOnCanvas(l);const p=this.getCaptureCanvas(l),m=new be(p),w=new he(m);return new x(w)}getCaptureCanvasContext(l){if(!this.captureCanvasContext){const m=this.getCaptureCanvas(l).getContext("2d");this.captureCanvasContext=m}return this.captureCanvasContext}getCaptureCanvas(l){if(!this.captureCanvas){const p=this.createCaptureCanvas(l);this.captureCanvas=p}return this.captureCanvas}decodeBitmap(l){return this.reader.decode(l,this._hints)}createCaptureCanvas(l){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const p=document.createElement("canvas");let m,w;return typeof l<"u"&&(l instanceof HTMLVideoElement?(m=l.videoWidth,w=l.videoHeight):l instanceof HTMLImageElement&&(m=l.naturalWidth||l.width,w=l.naturalHeight||l.height)),p.style.width=m+"px",p.style.height=w+"px",p.width=m,p.height=w,p}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(l=>l.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(l,p){try{l.srcObject=p}catch{l.src=URL.createObjectURL(p)}}cleanVideoSource(l){try{l.srcObject=null}catch{l.src=""}this.videoElement.removeAttribute("src")}}class me{constructor(l,p,m=p==null?0:8*p.length,w,_,A=N.currentTimeMillis()){this.text=l,this.rawBytes=p,this.numBits=m,this.resultPoints=w,this.format=_,this.timestamp=A,this.text=l,this.rawBytes=p,m==null?this.numBits=p==null?0:8*p.length:this.numBits=m,this.resultPoints=w,this.format=_,this.resultMetadata=null,A==null?this.timestamp=N.currentTimeMillis():this.timestamp=A}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(l,p){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(l,p)}putAllMetadata(l){l!==null&&(this.resultMetadata===null?this.resultMetadata=l:this.resultMetadata=new Map(l))}addResultPoints(l){const p=this.resultPoints;if(p===null)this.resultPoints=l;else if(l!==null&&l.length>0){const m=new Array(p.length+l.length);N.arraycopy(p,0,m,0,p.length),N.arraycopy(l,0,m,p.length,l.length),this.resultPoints=m}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ce;(function(ee){ee[ee.AZTEC=0]="AZTEC",ee[ee.CODABAR=1]="CODABAR",ee[ee.CODE_39=2]="CODE_39",ee[ee.CODE_93=3]="CODE_93",ee[ee.CODE_128=4]="CODE_128",ee[ee.DATA_MATRIX=5]="DATA_MATRIX",ee[ee.EAN_8=6]="EAN_8",ee[ee.EAN_13=7]="EAN_13",ee[ee.ITF=8]="ITF",ee[ee.MAXICODE=9]="MAXICODE",ee[ee.PDF_417=10]="PDF_417",ee[ee.QR_CODE=11]="QR_CODE",ee[ee.RSS_14=12]="RSS_14",ee[ee.RSS_EXPANDED=13]="RSS_EXPANDED",ee[ee.UPC_A=14]="UPC_A",ee[ee.UPC_E=15]="UPC_E",ee[ee.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ce||(Ce={}));var we=Ce,Me;(function(ee){ee[ee.OTHER=0]="OTHER",ee[ee.ORIENTATION=1]="ORIENTATION",ee[ee.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",ee[ee.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",ee[ee.ISSUE_NUMBER=4]="ISSUE_NUMBER",ee[ee.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",ee[ee.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",ee[ee.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",ee[ee.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",ee[ee.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",ee[ee.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Me||(Me={}));var ze=Me;class Te{constructor(l,p,m,w,_=-1,A=-1){this.rawBytes=l,this.text=p,this.byteSegments=m,this.ecLevel=w,this.structuredAppendSequenceNumber=_,this.structuredAppendParity=A,this.numBits=l==null?0:8*l.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(l){this.numBits=l}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(l){this.errorsCorrected=l}getErasures(){return this.erasures}setErasures(l){this.erasures=l}getOther(){return this.other}setOther(l){this.other=l}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ge{exp(l){return this.expTable[l]}log(l){if(l===0)throw new g;return this.logTable[l]}static addOrSubtract(l,p){return l^p}}class Je{constructor(l,p){if(p.length===0)throw new g;this.field=l;const m=p.length;if(m>1&&p[0]===0){let w=1;for(;w<m&&p[w]===0;)w++;w===m?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(m-w),N.arraycopy(p,w,this.coefficients,0,this.coefficients.length))}else this.coefficients=p}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);const p=this.coefficients;let m;if(l===1){m=0;for(let A=0,O=p.length;A!==O;A++){const M=p[A];m=Ge.addOrSubtract(m,M)}return m}m=p[0];const w=p.length,_=this.field;for(let A=1;A<w;A++)m=Ge.addOrSubtract(_.multiply(l,m),p[A]);return m}addOrSubtract(l){if(!this.field.equals(l.field))throw new g("GenericGFPolys do not have same GenericGF field");if(this.isZero())return l;if(l.isZero())return this;let p=this.coefficients,m=l.coefficients;if(p.length>m.length){const A=p;p=m,m=A}let w=new Int32Array(m.length);const _=m.length-p.length;N.arraycopy(m,0,w,0,_);for(let A=_;A<m.length;A++)w[A]=Ge.addOrSubtract(p[A-_],m[A]);return new Je(this.field,w)}multiply(l){if(!this.field.equals(l.field))throw new g("GenericGFPolys do not have same GenericGF field");if(this.isZero()||l.isZero())return this.field.getZero();const p=this.coefficients,m=p.length,w=l.coefficients,_=w.length,A=new Int32Array(m+_-1),O=this.field;for(let M=0;M<m;M++){const B=p[M];for(let W=0;W<_;W++)A[M+W]=Ge.addOrSubtract(A[M+W],O.multiply(B,w[W]))}return new Je(O,A)}multiplyScalar(l){if(l===0)return this.field.getZero();if(l===1)return this;const p=this.coefficients.length,m=this.field,w=new Int32Array(p),_=this.coefficients;for(let A=0;A<p;A++)w[A]=m.multiply(_[A],l);return new Je(m,w)}multiplyByMonomial(l,p){if(l<0)throw new g;if(p===0)return this.field.getZero();const m=this.coefficients,w=m.length,_=new Int32Array(w+l),A=this.field;for(let O=0;O<w;O++)_[O]=A.multiply(m[O],p);return new Je(A,_)}divide(l){if(!this.field.equals(l.field))throw new g("GenericGFPolys do not have same GenericGF field");if(l.isZero())throw new g("Divide by 0");const p=this.field;let m=p.getZero(),w=this;const _=l.getCoefficient(l.getDegree()),A=p.inverse(_);for(;w.getDegree()>=l.getDegree()&&!w.isZero();){const O=w.getDegree()-l.getDegree(),M=p.multiply(w.getCoefficient(w.getDegree()),A),B=l.multiplyByMonomial(O,M),W=p.buildMonomial(O,M);m=m.addOrSubtract(W),w=w.addOrSubtract(B)}return[m,w]}toString(){let l="";for(let p=this.getDegree();p>=0;p--){let m=this.getCoefficient(p);if(m!==0){if(m<0?(l+=" - ",m=-m):l.length>0&&(l+=" + "),p===0||m!==1){const w=this.field.log(m);w===0?l+="1":w===1?l+="a":(l+="a^",l+=w)}p!==0&&(p===1?l+="x":(l+="x^",l+=p))}}return l}}class qe extends c{}qe.kind="ArithmeticException";class lt extends Ge{constructor(l,p,m){super(),this.primitive=l,this.size=p,this.generatorBase=m;const w=new Int32Array(p);let _=1;for(let O=0;O<p;O++)w[O]=_,_*=2,_>=p&&(_^=l,_&=p-1);this.expTable=w;const A=new Int32Array(p);for(let O=0;O<p-1;O++)A[w[O]]=O;this.logTable=A,this.zero=new Je(this,Int32Array.from([0])),this.one=new Je(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,p){if(l<0)throw new g;if(p===0)return this.zero;const m=new Int32Array(l+1);return m[0]=p,new Je(this,m)}inverse(l){if(l===0)throw new qe;return this.expTable[this.size-this.logTable[l]-1]}multiply(l,p){return l===0||p===0?0:this.expTable[(this.logTable[l]+this.logTable[p])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+F.toHexString(this.primitive)+","+this.size+")"}equals(l){return l===this}}lt.AZTEC_DATA_12=new lt(4201,4096,1),lt.AZTEC_DATA_10=new lt(1033,1024,1),lt.AZTEC_DATA_6=new lt(67,64,1),lt.AZTEC_PARAM=new lt(19,16,1),lt.QR_CODE_FIELD_256=new lt(285,256,0),lt.DATA_MATRIX_FIELD_256=new lt(301,256,1),lt.AZTEC_DATA_8=lt.DATA_MATRIX_FIELD_256,lt.MAXICODE_FIELD_64=lt.AZTEC_DATA_6;class yt extends c{}yt.kind="ReedSolomonException";class ye extends c{}ye.kind="IllegalStateException";class wt{constructor(l){this.field=l}decode(l,p){const m=this.field,w=new Je(m,l),_=new Int32Array(p);let A=!0;for(let Ae=0;Ae<p;Ae++){const je=w.evaluateAt(m.exp(Ae+m.getGeneratorBase()));_[_.length-1-Ae]=je,je!==0&&(A=!1)}if(A)return;const O=new Je(m,_),M=this.runEuclideanAlgorithm(m.buildMonomial(p,1),O,p),B=M[0],W=M[1],te=this.findErrorLocations(B),ce=this.findErrorMagnitudes(W,te);for(let Ae=0;Ae<te.length;Ae++){const je=l.length-1-m.log(te[Ae]);if(je<0)throw new yt("Bad error location");l[je]=lt.addOrSubtract(l[je],ce[Ae])}}runEuclideanAlgorithm(l,p,m){if(l.getDegree()<p.getDegree()){const Ae=l;l=p,p=Ae}const w=this.field;let _=l,A=p,O=w.getZero(),M=w.getOne();for(;A.getDegree()>=(m/2|0);){let Ae=_,je=O;if(_=A,O=M,_.isZero())throw new yt("r_{i-1} was zero");A=Ae;let Pe=w.getZero();const Be=_.getCoefficient(_.getDegree()),Ze=w.inverse(Be);for(;A.getDegree()>=_.getDegree()&&!A.isZero();){const ct=A.getDegree()-_.getDegree(),ut=w.multiply(A.getCoefficient(A.getDegree()),Ze);Pe=Pe.addOrSubtract(w.buildMonomial(ct,ut)),A=A.addOrSubtract(_.multiplyByMonomial(ct,ut))}if(M=Pe.multiply(O).addOrSubtract(je),A.getDegree()>=_.getDegree())throw new ye("Division algorithm failed to reduce polynomial?")}const B=M.getCoefficient(0);if(B===0)throw new yt("sigmaTilde(0) was zero");const W=w.inverse(B),te=M.multiplyScalar(W),ce=A.multiplyScalar(W);return[te,ce]}findErrorLocations(l){const p=l.getDegree();if(p===1)return Int32Array.from([l.getCoefficient(1)]);const m=new Int32Array(p);let w=0;const _=this.field;for(let A=1;A<_.getSize()&&w<p;A++)l.evaluateAt(A)===0&&(m[w]=_.inverse(A),w++);if(w!==p)throw new yt("Error locator degree does not match number of roots");return m}findErrorMagnitudes(l,p){const m=p.length,w=new Int32Array(m),_=this.field;for(let A=0;A<m;A++){const O=_.inverse(p[A]);let M=1;for(let B=0;B<m;B++)if(A!==B){const W=_.multiply(p[B],O),te=(W&1)===0?W|1:W&-2;M=_.multiply(M,te)}w[A]=_.multiply(l.evaluateAt(O),_.inverse(M)),_.getGeneratorBase()!==0&&(w[A]=_.multiply(w[A],O))}return w}}var Rt;(function(ee){ee[ee.UPPER=0]="UPPER",ee[ee.LOWER=1]="LOWER",ee[ee.MIXED=2]="MIXED",ee[ee.DIGIT=3]="DIGIT",ee[ee.PUNCT=4]="PUNCT",ee[ee.BINARY=5]="BINARY"})(Rt||(Rt={}));class _t{decode(l){this.ddata=l;let p=l.getBits(),m=this.extractBits(p),w=this.correctBits(m),_=_t.convertBoolArrayToByteArray(w),A=_t.getEncodedData(w),O=new Te(_,A,null,null);return O.setNumBits(w.length),O}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let p=l.length,m=Rt.UPPER,w=Rt.UPPER,_="",A=0;for(;A<p;)if(w===Rt.BINARY){if(p-A<5)break;let O=_t.readCode(l,A,5);if(A+=5,O===0){if(p-A<11)break;O=_t.readCode(l,A,11)+31,A+=11}for(let M=0;M<O;M++){if(p-A<8){A=p;break}const B=_t.readCode(l,A,8);_+=G.castAsNonUtf8Char(B),A+=8}w=m}else{let O=w===Rt.DIGIT?4:5;if(p-A<O)break;let M=_t.readCode(l,A,O);A+=O;let B=_t.getCharacter(w,M);B.startsWith("CTRL_")?(m=w,w=_t.getTable(B.charAt(5)),B.charAt(6)==="L"&&(m=w)):(_+=B,w=m)}return _}static getTable(l){switch(l){case"L":return Rt.LOWER;case"P":return Rt.PUNCT;case"M":return Rt.MIXED;case"D":return Rt.DIGIT;case"B":return Rt.BINARY;case"U":default:return Rt.UPPER}}static getCharacter(l,p){switch(l){case Rt.UPPER:return _t.UPPER_TABLE[p];case Rt.LOWER:return _t.LOWER_TABLE[p];case Rt.MIXED:return _t.MIXED_TABLE[p];case Rt.PUNCT:return _t.PUNCT_TABLE[p];case Rt.DIGIT:return _t.DIGIT_TABLE[p];default:throw new ye("Bad table")}}correctBits(l){let p,m;this.ddata.getNbLayers()<=2?(m=6,p=lt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(m=8,p=lt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(m=10,p=lt.AZTEC_DATA_10):(m=12,p=lt.AZTEC_DATA_12);let w=this.ddata.getNbDatablocks(),_=l.length/m;if(_<w)throw new $;let A=l.length%m,O=new Int32Array(_);for(let ce=0;ce<_;ce++,A+=m)O[ce]=_t.readCode(l,A,m);try{new wt(p).decode(O,_-w)}catch(ce){throw new $(ce)}let M=(1<<m)-1,B=0;for(let ce=0;ce<w;ce++){let Ae=O[ce];if(Ae===0||Ae===M)throw new $;(Ae===1||Ae===M-1)&&B++}let W=new Array(w*m-B),te=0;for(let ce=0;ce<w;ce++){let Ae=O[ce];if(Ae===1||Ae===M-1)W.fill(Ae>1,te,te+m-1),te+=m-1;else for(let je=m-1;je>=0;--je)W[te++]=(Ae&1<<je)!==0}return W}extractBits(l){let p=this.ddata.isCompact(),m=this.ddata.getNbLayers(),w=(p?11:14)+m*4,_=new Int32Array(w),A=new Array(this.totalBitsInLayer(m,p));if(p)for(let O=0;O<_.length;O++)_[O]=O;else{let O=w+1+2*F.truncDivision(F.truncDivision(w,2)-1,15),M=w/2,B=F.truncDivision(O,2);for(let W=0;W<M;W++){let te=W+F.truncDivision(W,15);_[M-W-1]=B-te-1,_[M+W]=B+te+1}}for(let O=0,M=0;O<m;O++){let B=(m-O)*4+(p?9:12),W=O*2,te=w-1-W;for(let ce=0;ce<B;ce++){let Ae=ce*2;for(let je=0;je<2;je++)A[M+Ae+je]=l.get(_[W+je],_[W+ce]),A[M+2*B+Ae+je]=l.get(_[W+ce],_[te-je]),A[M+4*B+Ae+je]=l.get(_[te-je],_[te-ce]),A[M+6*B+Ae+je]=l.get(_[te-ce],_[W+je])}M+=B*8}return A}static readCode(l,p,m){let w=0;for(let _=p;_<p+m;_++)w<<=1,l[_]&&(w|=1);return w}static readByte(l,p){let m=l.length-p;return m>=8?_t.readCode(l,p,8):_t.readCode(l,p,m)<<8-m}static convertBoolArrayToByteArray(l){let p=new Uint8Array((l.length+7)/8);for(let m=0;m<p.length;m++)p[m]=_t.readByte(l,8*m);return p}totalBitsInLayer(l,p){return((p?88:112)+16*l)*l}}_t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],_t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],_t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],_t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],_t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class rt{constructor(){}static round(l){return l===NaN?0:l<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:l>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:l+(l<0?-.5:.5)|0}static distance(l,p,m,w){const _=l-m,A=p-w;return Math.sqrt(_*_+A*A)}static sum(l){let p=0;for(let m=0,w=l.length;m!==w;m++){const _=l[m];p+=_}return p}}class er{static floatToIntBits(l){return l}}er.MAX_VALUE=Number.MAX_SAFE_INTEGER;class it{constructor(l,p){this.x=l,this.y=p}getX(){return this.x}getY(){return this.y}equals(l){if(l instanceof it){const p=l;return this.x===p.x&&this.y===p.y}return!1}hashCode(){return 31*er.floatToIntBits(this.x)+er.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(l){const p=this.distance(l[0],l[1]),m=this.distance(l[1],l[2]),w=this.distance(l[0],l[2]);let _,A,O;if(m>=p&&m>=w?(A=l[0],_=l[1],O=l[2]):w>=m&&w>=p?(A=l[1],_=l[0],O=l[2]):(A=l[2],_=l[0],O=l[1]),this.crossProductZ(_,A,O)<0){const M=_;_=O,O=M}l[0]=_,l[1]=A,l[2]=O}static distance(l,p){return rt.distance(l.x,l.y,p.x,p.y)}static crossProductZ(l,p,m){const w=p.x,_=p.y;return(m.x-w)*(l.y-_)-(m.y-_)*(l.x-w)}}class ar{constructor(l,p){this.bits=l,this.points=p}getBits(){return this.bits}getPoints(){return this.points}}class ir extends ar{constructor(l,p,m,w,_){super(l,p),this.compact=m,this.nbDatablocks=w,this.nbLayers=_}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class vr{constructor(l,p,m,w){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),p==null&&(p=vr.INIT_SIZE),m==null&&(m=l.getWidth()/2|0),w==null&&(w=l.getHeight()/2|0);const _=p/2|0;if(this.leftInit=m-_,this.rightInit=m+_,this.upInit=w-_,this.downInit=w+_,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ae}detect(){let l=this.leftInit,p=this.rightInit,m=this.upInit,w=this.downInit,_=!1,A=!0,O=!1,M=!1,B=!1,W=!1,te=!1;const ce=this.width,Ae=this.height;for(;A;){A=!1;let je=!0;for(;(je||!M)&&p<ce;)je=this.containsBlackPoint(m,w,p,!1),je?(p++,A=!0,M=!0):M||p++;if(p>=ce){_=!0;break}let Pe=!0;for(;(Pe||!B)&&w<Ae;)Pe=this.containsBlackPoint(l,p,w,!0),Pe?(w++,A=!0,B=!0):B||w++;if(w>=Ae){_=!0;break}let Be=!0;for(;(Be||!W)&&l>=0;)Be=this.containsBlackPoint(m,w,l,!1),Be?(l--,A=!0,W=!0):W||l--;if(l<0){_=!0;break}let Ze=!0;for(;(Ze||!te)&&m>=0;)Ze=this.containsBlackPoint(l,p,m,!0),Ze?(m--,A=!0,te=!0):te||m--;if(m<0){_=!0;break}A&&(O=!0)}if(!_&&O){const je=p-l;let Pe=null;for(let ut=1;Pe===null&&ut<je;ut++)Pe=this.getBlackPointOnSegment(l,w-ut,l+ut,w);if(Pe==null)throw new ae;let Be=null;for(let ut=1;Be===null&&ut<je;ut++)Be=this.getBlackPointOnSegment(l,m+ut,l+ut,m);if(Be==null)throw new ae;let Ze=null;for(let ut=1;Ze===null&&ut<je;ut++)Ze=this.getBlackPointOnSegment(p,m+ut,p-ut,m);if(Ze==null)throw new ae;let ct=null;for(let ut=1;ct===null&&ut<je;ut++)ct=this.getBlackPointOnSegment(p,w-ut,p-ut,w);if(ct==null)throw new ae;return this.centerEdges(ct,Pe,Ze,Be)}else throw new ae}getBlackPointOnSegment(l,p,m,w){const _=rt.round(rt.distance(l,p,m,w)),A=(m-l)/_,O=(w-p)/_,M=this.image;for(let B=0;B<_;B++){const W=rt.round(l+B*A),te=rt.round(p+B*O);if(M.get(W,te))return new it(W,te)}return null}centerEdges(l,p,m,w){const _=l.getX(),A=l.getY(),O=p.getX(),M=p.getY(),B=m.getX(),W=m.getY(),te=w.getX(),ce=w.getY(),Ae=vr.CORR;return _<this.width/2?[new it(te-Ae,ce+Ae),new it(O+Ae,M+Ae),new it(B-Ae,W-Ae),new it(_+Ae,A-Ae)]:[new it(te+Ae,ce+Ae),new it(O+Ae,M-Ae),new it(B-Ae,W+Ae),new it(_-Ae,A-Ae)]}containsBlackPoint(l,p,m,w){const _=this.image;if(w){for(let A=l;A<=p;A++)if(_.get(A,m))return!0}else for(let A=l;A<=p;A++)if(_.get(m,A))return!0;return!1}}vr.INIT_SIZE=10,vr.CORR=1;class Br{static checkAndNudgePoints(l,p){const m=l.getWidth(),w=l.getHeight();let _=!0;for(let A=0;A<p.length&&_;A+=2){const O=Math.floor(p[A]),M=Math.floor(p[A+1]);if(O<-1||O>m||M<-1||M>w)throw new ae;_=!1,O===-1?(p[A]=0,_=!0):O===m&&(p[A]=m-1,_=!0),M===-1?(p[A+1]=0,_=!0):M===w&&(p[A+1]=w-1,_=!0)}_=!0;for(let A=p.length-2;A>=0&&_;A-=2){const O=Math.floor(p[A]),M=Math.floor(p[A+1]);if(O<-1||O>m||M<-1||M>w)throw new ae;_=!1,O===-1?(p[A]=0,_=!0):O===m&&(p[A]=m-1,_=!0),M===-1?(p[A+1]=0,_=!0):M===w&&(p[A+1]=w-1,_=!0)}}}class lr{constructor(l,p,m,w,_,A,O,M,B){this.a11=l,this.a21=p,this.a31=m,this.a12=w,this.a22=_,this.a32=A,this.a13=O,this.a23=M,this.a33=B}static quadrilateralToQuadrilateral(l,p,m,w,_,A,O,M,B,W,te,ce,Ae,je,Pe,Be){const Ze=lr.quadrilateralToSquare(l,p,m,w,_,A,O,M);return lr.squareToQuadrilateral(B,W,te,ce,Ae,je,Pe,Be).times(Ze)}transformPoints(l){const p=l.length,m=this.a11,w=this.a12,_=this.a13,A=this.a21,O=this.a22,M=this.a23,B=this.a31,W=this.a32,te=this.a33;for(let ce=0;ce<p;ce+=2){const Ae=l[ce],je=l[ce+1],Pe=_*Ae+M*je+te;l[ce]=(m*Ae+A*je+B)/Pe,l[ce+1]=(w*Ae+O*je+W)/Pe}}transformPointsWithValues(l,p){const m=this.a11,w=this.a12,_=this.a13,A=this.a21,O=this.a22,M=this.a23,B=this.a31,W=this.a32,te=this.a33,ce=l.length;for(let Ae=0;Ae<ce;Ae++){const je=l[Ae],Pe=p[Ae],Be=_*je+M*Pe+te;l[Ae]=(m*je+A*Pe+B)/Be,p[Ae]=(w*je+O*Pe+W)/Be}}static squareToQuadrilateral(l,p,m,w,_,A,O,M){const B=l-m+_-O,W=p-w+A-M;if(B===0&&W===0)return new lr(m-l,_-m,l,w-p,A-w,p,0,0,1);{const te=m-_,ce=O-_,Ae=w-A,je=M-A,Pe=te*je-ce*Ae,Be=(B*je-ce*W)/Pe,Ze=(te*W-B*Ae)/Pe;return new lr(m-l+Be*m,O-l+Ze*O,l,w-p+Be*w,M-p+Ze*M,p,Be,Ze,1)}}static quadrilateralToSquare(l,p,m,w,_,A,O,M){return lr.squareToQuadrilateral(l,p,m,w,_,A,O,M).buildAdjoint()}buildAdjoint(){return new lr(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(l){return new lr(this.a11*l.a11+this.a21*l.a12+this.a31*l.a13,this.a11*l.a21+this.a21*l.a22+this.a31*l.a23,this.a11*l.a31+this.a21*l.a32+this.a31*l.a33,this.a12*l.a11+this.a22*l.a12+this.a32*l.a13,this.a12*l.a21+this.a22*l.a22+this.a32*l.a23,this.a12*l.a31+this.a22*l.a32+this.a32*l.a33,this.a13*l.a11+this.a23*l.a12+this.a33*l.a13,this.a13*l.a21+this.a23*l.a22+this.a33*l.a23,this.a13*l.a31+this.a23*l.a32+this.a33*l.a33)}}class Ur extends Br{sampleGrid(l,p,m,w,_,A,O,M,B,W,te,ce,Ae,je,Pe,Be,Ze,ct,ut){const ot=lr.quadrilateralToQuadrilateral(w,_,A,O,M,B,W,te,ce,Ae,je,Pe,Be,Ze,ct,ut);return this.sampleGridWithTransform(l,p,m,ot)}sampleGridWithTransform(l,p,m,w){if(p<=0||m<=0)throw new ae;const _=new J(p,m),A=new Float32Array(2*p);for(let O=0;O<m;O++){const M=A.length,B=O+.5;for(let W=0;W<M;W+=2)A[W]=W/2+.5,A[W+1]=B;w.transformPoints(A),Br.checkAndNudgePoints(l,A);try{for(let W=0;W<M;W+=2)l.get(Math.floor(A[W]),Math.floor(A[W+1]))&&_.set(W/2,O)}catch{throw new ae}}return _}}class Nr{static setGridSampler(l){Nr.gridSampler=l}static getInstance(){return Nr.gridSampler}}Nr.gridSampler=new Ur;class Tt{constructor(l,p){this.x=l,this.y=p}toResultPoint(){return new it(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Tr{constructor(l){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=l}detect(){return this.detectMirror(!1)}detectMirror(l){let p=this.getMatrixCenter(),m=this.getBullsEyeCorners(p);if(l){let A=m[0];m[0]=m[2],m[2]=A}this.extractParameters(m);let w=this.sampleGrid(this.image,m[this.shift%4],m[(this.shift+1)%4],m[(this.shift+2)%4],m[(this.shift+3)%4]),_=this.getMatrixCornerPoints(m);return new ir(w,_,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(l){if(!this.isValidPoint(l[0])||!this.isValidPoint(l[1])||!this.isValidPoint(l[2])||!this.isValidPoint(l[3]))throw new ae;let p=2*this.nbCenterLayers,m=new Int32Array([this.sampleLine(l[0],l[1],p),this.sampleLine(l[1],l[2],p),this.sampleLine(l[2],l[3],p),this.sampleLine(l[3],l[0],p)]);this.shift=this.getRotation(m,p);let w=0;for(let A=0;A<4;A++){let O=m[(this.shift+A)%4];this.compact?(w<<=7,w+=O>>1&127):(w<<=10,w+=(O>>2&992)+(O>>1&31))}let _=this.getCorrectedParameterData(w,this.compact);this.compact?(this.nbLayers=(_>>6)+1,this.nbDataBlocks=(_&63)+1):(this.nbLayers=(_>>11)+1,this.nbDataBlocks=(_&2047)+1)}getRotation(l,p){let m=0;l.forEach((w,_,A)=>{let O=(w>>p-2<<1)+(w&1);m=(m<<3)+O}),m=((m&1)<<11)+(m>>1);for(let w=0;w<4;w++)if(F.bitCount(m^this.EXPECTED_CORNER_BITS[w])<=2)return w;throw new ae}getCorrectedParameterData(l,p){let m,w;p?(m=7,w=2):(m=10,w=4);let _=m-w,A=new Int32Array(m);for(let M=m-1;M>=0;--M)A[M]=l&15,l>>=4;try{new wt(lt.AZTEC_PARAM).decode(A,_)}catch{throw new ae}let O=0;for(let M=0;M<w;M++)O=(O<<4)+A[M];return O}getBullsEyeCorners(l){let p=l,m=l,w=l,_=l,A=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let te=this.getFirstDifferent(p,A,1,-1),ce=this.getFirstDifferent(m,A,1,1),Ae=this.getFirstDifferent(w,A,-1,1),je=this.getFirstDifferent(_,A,-1,-1);if(this.nbCenterLayers>2){let Pe=this.distancePoint(je,te)*this.nbCenterLayers/(this.distancePoint(_,p)*(this.nbCenterLayers+2));if(Pe<.75||Pe>1.25||!this.isWhiteOrBlackRectangle(te,ce,Ae,je))break}p=te,m=ce,w=Ae,_=je,A=!A}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ae;this.compact=this.nbCenterLayers===5;let O=new it(p.getX()+.5,p.getY()-.5),M=new it(m.getX()+.5,m.getY()+.5),B=new it(w.getX()-.5,w.getY()+.5),W=new it(_.getX()-.5,_.getY()-.5);return this.expandSquare([O,M,B,W],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let l,p,m,w;try{let O=new vr(this.image).detect();l=O[0],p=O[1],m=O[2],w=O[3]}catch{let M=this.image.getWidth()/2,B=this.image.getHeight()/2;l=this.getFirstDifferent(new Tt(M+7,B-7),!1,1,-1).toResultPoint(),p=this.getFirstDifferent(new Tt(M+7,B+7),!1,1,1).toResultPoint(),m=this.getFirstDifferent(new Tt(M-7,B+7),!1,-1,1).toResultPoint(),w=this.getFirstDifferent(new Tt(M-7,B-7),!1,-1,-1).toResultPoint()}let _=rt.round((l.getX()+w.getX()+p.getX()+m.getX())/4),A=rt.round((l.getY()+w.getY()+p.getY()+m.getY())/4);try{let O=new vr(this.image,15,_,A).detect();l=O[0],p=O[1],m=O[2],w=O[3]}catch{l=this.getFirstDifferent(new Tt(_+7,A-7),!1,1,-1).toResultPoint(),p=this.getFirstDifferent(new Tt(_+7,A+7),!1,1,1).toResultPoint(),m=this.getFirstDifferent(new Tt(_-7,A+7),!1,-1,1).toResultPoint(),w=this.getFirstDifferent(new Tt(_-7,A-7),!1,-1,-1).toResultPoint()}return _=rt.round((l.getX()+w.getX()+p.getX()+m.getX())/4),A=rt.round((l.getY()+w.getY()+p.getY()+m.getY())/4),new Tt(_,A)}getMatrixCornerPoints(l){return this.expandSquare(l,2*this.nbCenterLayers,this.getDimension())}sampleGrid(l,p,m,w,_){let A=Nr.getInstance(),O=this.getDimension(),M=O/2-this.nbCenterLayers,B=O/2+this.nbCenterLayers;return A.sampleGrid(l,O,O,M,M,B,M,B,B,M,B,p.getX(),p.getY(),m.getX(),m.getY(),w.getX(),w.getY(),_.getX(),_.getY())}sampleLine(l,p,m){let w=0,_=this.distanceResultPoint(l,p),A=_/m,O=l.getX(),M=l.getY(),B=A*(p.getX()-l.getX())/_,W=A*(p.getY()-l.getY())/_;for(let te=0;te<m;te++)this.image.get(rt.round(O+te*B),rt.round(M+te*W))&&(w|=1<<m-te-1);return w}isWhiteOrBlackRectangle(l,p,m,w){let _=3;l=new Tt(l.getX()-_,l.getY()+_),p=new Tt(p.getX()-_,p.getY()-_),m=new Tt(m.getX()+_,m.getY()-_),w=new Tt(w.getX()+_,w.getY()+_);let A=this.getColor(w,l);if(A===0)return!1;let O=this.getColor(l,p);return O!==A||(O=this.getColor(p,m),O!==A)?!1:(O=this.getColor(m,w),O===A)}getColor(l,p){let m=this.distancePoint(l,p),w=(p.getX()-l.getX())/m,_=(p.getY()-l.getY())/m,A=0,O=l.getX(),M=l.getY(),B=this.image.get(l.getX(),l.getY()),W=Math.ceil(m);for(let ce=0;ce<W;ce++)O+=w,M+=_,this.image.get(rt.round(O),rt.round(M))!==B&&A++;let te=A/m;return te>.1&&te<.9?0:te<=.1===B?1:-1}getFirstDifferent(l,p,m,w){let _=l.getX()+m,A=l.getY()+w;for(;this.isValid(_,A)&&this.image.get(_,A)===p;)_+=m,A+=w;for(_-=m,A-=w;this.isValid(_,A)&&this.image.get(_,A)===p;)_+=m;for(_-=m;this.isValid(_,A)&&this.image.get(_,A)===p;)A+=w;return A-=w,new Tt(_,A)}expandSquare(l,p,m){let w=m/(2*p),_=l[0].getX()-l[2].getX(),A=l[0].getY()-l[2].getY(),O=(l[0].getX()+l[2].getX())/2,M=(l[0].getY()+l[2].getY())/2,B=new it(O+w*_,M+w*A),W=new it(O-w*_,M-w*A);_=l[1].getX()-l[3].getX(),A=l[1].getY()-l[3].getY(),O=(l[1].getX()+l[3].getX())/2,M=(l[1].getY()+l[3].getY())/2;let te=new it(O+w*_,M+w*A),ce=new it(O-w*_,M-w*A);return[B,te,W,ce]}isValid(l,p){return l>=0&&l<this.image.getWidth()&&p>0&&p<this.image.getHeight()}isValidPoint(l){let p=rt.round(l.getX()),m=rt.round(l.getY());return this.isValid(p,m)}distancePoint(l,p){return rt.distance(l.getX(),l.getY(),p.getX(),p.getY())}distanceResultPoint(l,p){return rt.distance(l.getX(),l.getY(),p.getX(),p.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(F.truncDivision(this.nbLayers-4,8)+1)+15}}class Ht{decode(l,p=null){let m=null,w=new Tr(l.getBlackMatrix()),_=null,A=null;try{let W=w.detectMirror(!1);_=W.getPoints(),this.reportFoundResultPoints(p,_),A=new _t().decode(W)}catch(W){m=W}if(A==null)try{let W=w.detectMirror(!0);_=W.getPoints(),this.reportFoundResultPoints(p,_),A=new _t().decode(W)}catch(W){throw m??W}let O=new me(A.getText(),A.getRawBytes(),A.getNumBits(),_,we.AZTEC,N.currentTimeMillis()),M=A.getByteSegments();M!=null&&O.putMetadata(ze.BYTE_SEGMENTS,M);let B=A.getECLevel();return B!=null&&O.putMetadata(ze.ERROR_CORRECTION_LEVEL,B),O}reportFoundResultPoints(l,p){if(l!=null){let m=l.get(X.NEED_RESULT_POINT_CALLBACK);m!=null&&p.forEach((w,_,A)=>{m.foundPossibleResultPoint(w)})}}reset(){}}class ca extends le{constructor(l=500){super(new Ht,l)}}class tr{decode(l,p){try{return this.doDecode(l,p)}catch{if(p&&p.get(X.TRY_HARDER)===!0&&l.isRotateSupported()){const _=l.rotateCounterClockwise(),A=this.doDecode(_,p),O=A.getResultMetadata();let M=270;O!==null&&O.get(ze.ORIENTATION)===!0&&(M=M+O.get(ze.ORIENTATION)%360),A.putMetadata(ze.ORIENTATION,M);const B=A.getResultPoints();if(B!==null){const W=_.getHeight();for(let te=0;te<B.length;te++)B[te]=new it(W-B[te].getY()-1,B[te].getX())}return A}else throw new ae}}reset(){}doDecode(l,p){const m=l.getWidth(),w=l.getHeight();let _=new U(m);const A=p&&p.get(X.TRY_HARDER)===!0,O=Math.max(1,w>>(A?8:5));let M;A?M=w:M=15;const B=Math.trunc(w/2);for(let W=0;W<M;W++){const te=Math.trunc((W+1)/2),ce=(W&1)===0,Ae=B+O*(ce?te:-te);if(Ae<0||Ae>=w)break;try{_=l.getBlackRow(Ae,_)}catch{continue}for(let je=0;je<2;je++){if(je===1&&(_.reverse(),p&&p.get(X.NEED_RESULT_POINT_CALLBACK)===!0)){const Pe=new Map;p.forEach((Be,Ze)=>Pe.set(Ze,Be)),Pe.delete(X.NEED_RESULT_POINT_CALLBACK),p=Pe}try{const Pe=this.decodeRow(Ae,_,p);if(je===1){Pe.putMetadata(ze.ORIENTATION,180);const Be=Pe.getResultPoints();Be!==null&&(Be[0]=new it(m-Be[0].getX()-1,Be[0].getY()),Be[1]=new it(m-Be[1].getX()-1,Be[1].getY()))}return Pe}catch{}}}throw new ae}static recordPattern(l,p,m){const w=m.length;for(let B=0;B<w;B++)m[B]=0;const _=l.getSize();if(p>=_)throw new ae;let A=!l.get(p),O=0,M=p;for(;M<_;){if(l.get(M)!==A)m[O]++;else{if(++O===w)break;m[O]=1,A=!A}M++}if(!(O===w||O===w-1&&M===_))throw new ae}static recordPatternInReverse(l,p,m){let w=m.length,_=l.get(p);for(;p>0&&w>=0;)l.get(--p)!==_&&(w--,_=!_);if(w>=0)throw new ae;tr.recordPattern(l,p+1,m)}static patternMatchVariance(l,p,m){const w=l.length;let _=0,A=0;for(let B=0;B<w;B++)_+=l[B],A+=p[B];if(_<A)return Number.POSITIVE_INFINITY;const O=_/A;m*=O;let M=0;for(let B=0;B<w;B++){const W=l[B],te=p[B]*O,ce=W>te?W-te:te-W;if(ce>m)return Number.POSITIVE_INFINITY;M+=ce}return M/_}}class nt extends tr{static findStartPattern(l){const p=l.getSize(),m=l.getNextSet(0);let w=0,_=Int32Array.from([0,0,0,0,0,0]),A=m,O=!1;const M=6;for(let B=m;B<p;B++)if(l.get(B)!==O)_[w]++;else{if(w===M-1){let W=nt.MAX_AVG_VARIANCE,te=-1;for(let ce=nt.CODE_START_A;ce<=nt.CODE_START_C;ce++){const Ae=tr.patternMatchVariance(_,nt.CODE_PATTERNS[ce],nt.MAX_INDIVIDUAL_VARIANCE);Ae<W&&(W=Ae,te=ce)}if(te>=0&&l.isRange(Math.max(0,A-(B-A)/2),A,!1))return Int32Array.from([A,B,te]);A+=_[0]+_[1],_=_.slice(2,_.length-1),_[w-1]=0,_[w]=0,w--}else w++;_[w]=1,O=!O}throw new ae}static decodeCode(l,p,m){tr.recordPattern(l,m,p);let w=nt.MAX_AVG_VARIANCE,_=-1;for(let A=0;A<nt.CODE_PATTERNS.length;A++){const O=nt.CODE_PATTERNS[A],M=this.patternMatchVariance(p,O,nt.MAX_INDIVIDUAL_VARIANCE);M<w&&(w=M,_=A)}if(_>=0)return _;throw new ae}decodeRow(l,p,m){const w=m&&m.get(X.ASSUME_GS1)===!0,_=nt.findStartPattern(p),A=_[2];let O=0;const M=new Uint8Array(20);M[O++]=A;let B;switch(A){case nt.CODE_START_A:B=nt.CODE_CODE_A;break;case nt.CODE_START_B:B=nt.CODE_CODE_B;break;case nt.CODE_START_C:B=nt.CODE_CODE_C;break;default:throw new $}let W=!1,te=!1,ce="",Ae=_[0],je=_[1];const Pe=Int32Array.from([0,0,0,0,0,0]);let Be=0,Ze=0,ct=A,ut=0,ot=!0,nr=!1,pr=!1;for(;!W;){const fl=te;switch(te=!1,Be=Ze,Ze=nt.decodeCode(p,Pe,je),M[O++]=Ze,Ze!==nt.CODE_STOP&&(ot=!0),Ze!==nt.CODE_STOP&&(ut++,ct+=ut*Ze),Ae=je,je+=Pe.reduce((Gf,Ll)=>Gf+Ll,0),Ze){case nt.CODE_START_A:case nt.CODE_START_B:case nt.CODE_START_C:throw new $}switch(B){case nt.CODE_CODE_A:if(Ze<64)pr===nr?ce+=String.fromCharCode(32+Ze):ce+=String.fromCharCode(32+Ze+128),pr=!1;else if(Ze<96)pr===nr?ce+=String.fromCharCode(Ze-64):ce+=String.fromCharCode(Ze+64),pr=!1;else switch(Ze!==nt.CODE_STOP&&(ot=!1),Ze){case nt.CODE_FNC_1:w&&(ce.length===0?ce+="]C1":ce+="");break;case nt.CODE_FNC_2:case nt.CODE_FNC_3:break;case nt.CODE_FNC_4_A:!nr&&pr?(nr=!0,pr=!1):nr&&pr?(nr=!1,pr=!1):pr=!0;break;case nt.CODE_SHIFT:te=!0,B=nt.CODE_CODE_B;break;case nt.CODE_CODE_B:B=nt.CODE_CODE_B;break;case nt.CODE_CODE_C:B=nt.CODE_CODE_C;break;case nt.CODE_STOP:W=!0;break}break;case nt.CODE_CODE_B:if(Ze<96)pr===nr?ce+=String.fromCharCode(32+Ze):ce+=String.fromCharCode(32+Ze+128),pr=!1;else switch(Ze!==nt.CODE_STOP&&(ot=!1),Ze){case nt.CODE_FNC_1:w&&(ce.length===0?ce+="]C1":ce+="");break;case nt.CODE_FNC_2:case nt.CODE_FNC_3:break;case nt.CODE_FNC_4_B:!nr&&pr?(nr=!0,pr=!1):nr&&pr?(nr=!1,pr=!1):pr=!0;break;case nt.CODE_SHIFT:te=!0,B=nt.CODE_CODE_A;break;case nt.CODE_CODE_A:B=nt.CODE_CODE_A;break;case nt.CODE_CODE_C:B=nt.CODE_CODE_C;break;case nt.CODE_STOP:W=!0;break}break;case nt.CODE_CODE_C:if(Ze<100)Ze<10&&(ce+="0"),ce+=Ze;else switch(Ze!==nt.CODE_STOP&&(ot=!1),Ze){case nt.CODE_FNC_1:w&&(ce.length===0?ce+="]C1":ce+="");break;case nt.CODE_CODE_A:B=nt.CODE_CODE_A;break;case nt.CODE_CODE_B:B=nt.CODE_CODE_B;break;case nt.CODE_STOP:W=!0;break}break}fl&&(B=B===nt.CODE_CODE_A?nt.CODE_CODE_B:nt.CODE_CODE_A)}const qn=je-Ae;if(je=p.getNextUnset(je),!p.isRange(je,Math.min(p.getSize(),je+(je-Ae)/2),!1))throw new ae;if(ct-=ut*Be,ct%103!==Be)throw new y;const oi=ce.length;if(oi===0)throw new ae;oi>0&&ot&&(B===nt.CODE_CODE_C?ce=ce.substring(0,oi-2):ce=ce.substring(0,oi-1));const Ba=(_[1]+_[0])/2,gn=Ae+qn/2,Fa=M.length,Ki=new Uint8Array(Fa);for(let fl=0;fl<Fa;fl++)Ki[fl]=M[fl];const Dl=[new it(Ba,l),new it(gn,l)];return new me(ce,Ki,0,Dl,we.CODE_128,new Date().getTime())}}nt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],nt.MAX_AVG_VARIANCE=.25,nt.MAX_INDIVIDUAL_VARIANCE=.7,nt.CODE_SHIFT=98,nt.CODE_CODE_C=99,nt.CODE_CODE_B=100,nt.CODE_CODE_A=101,nt.CODE_FNC_1=102,nt.CODE_FNC_2=97,nt.CODE_FNC_3=96,nt.CODE_FNC_4_A=101,nt.CODE_FNC_4_B=100,nt.CODE_START_A=103,nt.CODE_START_B=104,nt.CODE_START_C=105,nt.CODE_STOP=106;class Dt extends tr{constructor(l=!1,p=!1){super(),this.usingCheckDigit=l,this.extendedMode=p,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,p,m){let w=this.counters;w.fill(0),this.decodeRowResult="";let _=Dt.findAsteriskPattern(p,w),A=p.getNextSet(_[1]),O=p.getSize(),M,B;do{Dt.recordPattern(p,A,w);let Pe=Dt.toNarrowWidePattern(w);if(Pe<0)throw new ae;M=Dt.patternToChar(Pe),this.decodeRowResult+=M,B=A;for(let Be of w)A+=Be;A=p.getNextSet(A)}while(M!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let W=0;for(let Pe of w)W+=Pe;let te=A-B-W;if(A!==O&&te*2<W)throw new ae;if(this.usingCheckDigit){let Pe=this.decodeRowResult.length-1,Be=0;for(let Ze=0;Ze<Pe;Ze++)Be+=Dt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ze));if(this.decodeRowResult.charAt(Pe)!==Dt.ALPHABET_STRING.charAt(Be%43))throw new y;this.decodeRowResult=this.decodeRowResult.substring(0,Pe)}if(this.decodeRowResult.length===0)throw new ae;let ce;this.extendedMode?ce=Dt.decodeExtended(this.decodeRowResult):ce=this.decodeRowResult;let Ae=(_[1]+_[0])/2,je=B+W/2;return new me(ce,null,0,[new it(Ae,l),new it(je,l)],we.CODE_39,new Date().getTime())}static findAsteriskPattern(l,p){let m=l.getSize(),w=l.getNextSet(0),_=0,A=w,O=!1,M=p.length;for(let B=w;B<m;B++)if(l.get(B)!==O)p[_]++;else{if(_===M-1){if(this.toNarrowWidePattern(p)===Dt.ASTERISK_ENCODING&&l.isRange(Math.max(0,A-Math.floor((B-A)/2)),A,!1))return[A,B];A+=p[0]+p[1],p.copyWithin(0,2,2+_-1),p[_-1]=0,p[_]=0,_--}else _++;p[_]=1,O=!O}throw new ae}static toNarrowWidePattern(l){let p=l.length,m=0,w;do{let _=2147483647;for(let M of l)M<_&&M>m&&(_=M);m=_,w=0;let A=0,O=0;for(let M=0;M<p;M++){let B=l[M];B>m&&(O|=1<<p-1-M,w++,A+=B)}if(w===3){for(let M=0;M<p&&w>0;M++){let B=l[M];if(B>m&&(w--,B*2>=A))return-1}return O}}while(w>3);return-1}static patternToChar(l){for(let p=0;p<Dt.CHARACTER_ENCODINGS.length;p++)if(Dt.CHARACTER_ENCODINGS[p]===l)return Dt.ALPHABET_STRING.charAt(p);if(l===Dt.ASTERISK_ENCODING)return"*";throw new ae}static decodeExtended(l){let p=l.length,m="";for(let w=0;w<p;w++){let _=l.charAt(w);if(_==="+"||_==="$"||_==="%"||_==="/"){let A=l.charAt(w+1),O="\0";switch(_){case"+":if(A>="A"&&A<="Z")O=String.fromCharCode(A.charCodeAt(0)+32);else throw new $;break;case"$":if(A>="A"&&A<="Z")O=String.fromCharCode(A.charCodeAt(0)-64);else throw new $;break;case"%":if(A>="A"&&A<="E")O=String.fromCharCode(A.charCodeAt(0)-38);else if(A>="F"&&A<="J")O=String.fromCharCode(A.charCodeAt(0)-11);else if(A>="K"&&A<="O")O=String.fromCharCode(A.charCodeAt(0)+16);else if(A>="P"&&A<="T")O=String.fromCharCode(A.charCodeAt(0)+43);else if(A==="U")O="\0";else if(A==="V")O="@";else if(A==="W")O="`";else if(A==="X"||A==="Y"||A==="Z")O="";else throw new $;break;case"/":if(A>="A"&&A<="O")O=String.fromCharCode(A.charCodeAt(0)-32);else if(A==="Z")O=":";else throw new $;break}m+=O,w++}else m+=_}return m}}Dt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Dt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Dt.ASTERISK_ENCODING=148;class Ft extends tr{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(l,p,m){let w=this.decodeStart(p),_=this.decodeEnd(p),A=new ue;Ft.decodeMiddle(p,w[1],_[0],A);let O=A.toString(),M=null;m!=null&&(M=m.get(X.ALLOWED_LENGTHS)),M==null&&(M=Ft.DEFAULT_ALLOWED_LENGTHS);let B=O.length,W=!1,te=0;for(let je of M){if(B===je){W=!0;break}je>te&&(te=je)}if(!W&&B>te&&(W=!0),!W)throw new $;const ce=[new it(w[1],l),new it(_[0],l)];return new me(O,null,0,ce,we.ITF,new Date().getTime())}static decodeMiddle(l,p,m,w){let _=new Int32Array(10),A=new Int32Array(5),O=new Int32Array(5);for(_.fill(0),A.fill(0),O.fill(0);p<m;){tr.recordPattern(l,p,_);for(let B=0;B<5;B++){let W=2*B;A[B]=_[W],O[B]=_[W+1]}let M=Ft.decodeDigit(A);w.append(M.toString()),M=this.decodeDigit(O),w.append(M.toString()),_.forEach(function(B){p+=B})}}decodeStart(l){let p=Ft.skipWhiteSpace(l),m=Ft.findGuardPattern(l,p,Ft.START_PATTERN);return this.narrowLineWidth=(m[1]-m[0])/4,this.validateQuietZone(l,m[0]),m}validateQuietZone(l,p){let m=this.narrowLineWidth*10;m=m<p?m:p;for(let w=p-1;m>0&&w>=0&&!l.get(w);w--)m--;if(m!==0)throw new ae}static skipWhiteSpace(l){const p=l.getSize(),m=l.getNextSet(0);if(m===p)throw new ae;return m}decodeEnd(l){l.reverse();try{let p=Ft.skipWhiteSpace(l),m;try{m=Ft.findGuardPattern(l,p,Ft.END_PATTERN_REVERSED[0])}catch(_){_ instanceof ae&&(m=Ft.findGuardPattern(l,p,Ft.END_PATTERN_REVERSED[1]))}this.validateQuietZone(l,m[0]);let w=m[0];return m[0]=l.getSize()-m[1],m[1]=l.getSize()-w,m}finally{l.reverse()}}static findGuardPattern(l,p,m){let w=m.length,_=new Int32Array(w),A=l.getSize(),O=!1,M=0,B=p;_.fill(0);for(let W=p;W<A;W++)if(l.get(W)!==O)_[M]++;else{if(M===w-1){if(tr.patternMatchVariance(_,m,Ft.MAX_INDIVIDUAL_VARIANCE)<Ft.MAX_AVG_VARIANCE)return[B,W];B+=_[0]+_[1],N.arraycopy(_,2,_,0,M-1),_[M-1]=0,_[M]=0,M--}else M++;_[M]=1,O=!O}throw new ae}static decodeDigit(l){let p=Ft.MAX_AVG_VARIANCE,m=-1,w=Ft.PATTERNS.length;for(let _=0;_<w;_++){let A=Ft.PATTERNS[_],O=tr.patternMatchVariance(l,A,Ft.MAX_INDIVIDUAL_VARIANCE);O<p?(p=O,m=_):O===p&&(m=-1)}if(m>=0)return m%10;throw new ae}}Ft.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ft.MAX_AVG_VARIANCE=.38,Ft.MAX_INDIVIDUAL_VARIANCE=.5,Ft.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ft.START_PATTERN=Int32Array.from([1,1,1,1]),Ft.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ct extends tr{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(l){let p=!1,m,w=0,_=Int32Array.from([0,0,0]);for(;!p;){_=Int32Array.from([0,0,0]),m=Ct.findGuardPattern(l,w,!1,this.START_END_PATTERN,_);let A=m[0];w=m[1];let O=A-(w-A);O>=0&&(p=l.isRange(O,A,!1))}return m}static checkChecksum(l){return Ct.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let p=l.length;if(p===0)return!1;let m=parseInt(l.charAt(p-1),10);return Ct.getStandardUPCEANChecksum(l.substring(0,p-1))===m}static getStandardUPCEANChecksum(l){let p=l.length,m=0;for(let w=p-1;w>=0;w-=2){let _=l.charAt(w).charCodeAt(0)-48;if(_<0||_>9)throw new $;m+=_}m*=3;for(let w=p-2;w>=0;w-=2){let _=l.charAt(w).charCodeAt(0)-48;if(_<0||_>9)throw new $;m+=_}return(1e3-m)%10}static decodeEnd(l,p){return Ct.findGuardPattern(l,p,!1,Ct.START_END_PATTERN,new Int32Array(Ct.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(l,p,m,w){return this.findGuardPattern(l,p,m,w,new Int32Array(w.length))}static findGuardPattern(l,p,m,w,_){let A=l.getSize();p=m?l.getNextUnset(p):l.getNextSet(p);let O=0,M=p,B=w.length,W=m;for(let te=p;te<A;te++)if(l.get(te)!==W)_[O]++;else{if(O===B-1){if(tr.patternMatchVariance(_,w,Ct.MAX_INDIVIDUAL_VARIANCE)<Ct.MAX_AVG_VARIANCE)return Int32Array.from([M,te]);M+=_[0]+_[1];let ce=_.slice(2,_.length-1);for(let Ae=0;Ae<O-1;Ae++)_[Ae]=ce[Ae];_[O-1]=0,_[O]=0,O--}else O++;_[O]=1,W=!W}throw new ae}static decodeDigit(l,p,m,w){this.recordPattern(l,m,p);let _=this.MAX_AVG_VARIANCE,A=-1,O=w.length;for(let M=0;M<O;M++){let B=w[M],W=tr.patternMatchVariance(p,B,Ct.MAX_INDIVIDUAL_VARIANCE);W<_&&(_=W,A=M)}if(A>=0)return A;throw new ae}}Ct.MAX_AVG_VARIANCE=.48,Ct.MAX_INDIVIDUAL_VARIANCE=.7,Ct.START_END_PATTERN=Int32Array.from([1,1,1]),Ct.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ct.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ct.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class cn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,p,m){let w=this.decodeRowStringBuffer,_=this.decodeMiddle(p,m,w),A=w.toString(),O=cn.parseExtensionString(A),M=[new it((m[0]+m[1])/2,l),new it(_,l)],B=new me(A,null,0,M,we.UPC_EAN_EXTENSION,new Date().getTime());return O!=null&&B.putAllMetadata(O),B}decodeMiddle(l,p,m){let w=this.decodeMiddleCounters;w[0]=0,w[1]=0,w[2]=0,w[3]=0;let _=l.getSize(),A=p[1],O=0;for(let B=0;B<5&&A<_;B++){let W=Ct.decodeDigit(l,w,A,Ct.L_AND_G_PATTERNS);m+=String.fromCharCode(48+W%10);for(let te of w)A+=te;W>=10&&(O|=1<<4-B),B!==4&&(A=l.getNextSet(A),A=l.getNextUnset(A))}if(m.length!==5)throw new ae;let M=this.determineCheckDigit(O);if(cn.extensionChecksum(m.toString())!==M)throw new ae;return A}static extensionChecksum(l){let p=l.length,m=0;for(let w=p-2;w>=0;w-=2)m+=l.charAt(w).charCodeAt(0)-48;m*=3;for(let w=p-1;w>=0;w-=2)m+=l.charAt(w).charCodeAt(0)-48;return m*=3,m%10}determineCheckDigit(l){for(let p=0;p<10;p++)if(l===this.CHECK_DIGIT_ENCODINGS[p])return p;throw new ae}static parseExtensionString(l){if(l.length!==5)return null;let p=cn.parseExtension5String(l);return p==null?null:new Map([[ze.SUGGESTED_PRICE,p]])}static parseExtension5String(l){let p;switch(l.charAt(0)){case"0":p="";break;case"5":p="$";break;case"9":switch(l){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}p="";break;default:p="";break}let m=parseInt(l.substring(1)),w=(m/100).toString(),_=m%100,A=_<10?"0"+_:_.toString();return p+w+"."+A}}class hr{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,p,m){let w=this.decodeRowStringBuffer,_=this.decodeMiddle(p,m,w),A=w.toString(),O=hr.parseExtensionString(A),M=[new it((m[0]+m[1])/2,l),new it(_,l)],B=new me(A,null,0,M,we.UPC_EAN_EXTENSION,new Date().getTime());return O!=null&&B.putAllMetadata(O),B}decodeMiddle(l,p,m){let w=this.decodeMiddleCounters;w[0]=0,w[1]=0,w[2]=0,w[3]=0;let _=l.getSize(),A=p[1],O=0;for(let M=0;M<2&&A<_;M++){let B=Ct.decodeDigit(l,w,A,Ct.L_AND_G_PATTERNS);m+=String.fromCharCode(48+B%10);for(let W of w)A+=W;B>=10&&(O|=1<<1-M),M!==1&&(A=l.getNextSet(A),A=l.getNextUnset(A))}if(m.length!==2)throw new ae;if(parseInt(m.toString())%4!==O)throw new ae;return A}static parseExtensionString(l){return l.length!==2?null:new Map([[ze.ISSUE_NUMBER,parseInt(l)]])}}class wr{static decodeRow(l,p,m){let w=Ct.findGuardPattern(p,m,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new cn().decodeRow(l,p,w)}catch{return new hr().decodeRow(l,p,w)}}}wr.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Xt extends Ct{constructor(){super(),this.decodeRowStringBuffer="",Xt.L_AND_G_PATTERNS=Xt.L_PATTERNS.map(l=>Int32Array.from(l));for(let l=10;l<20;l++){let p=Xt.L_PATTERNS[l-10],m=new Int32Array(p.length);for(let w=0;w<p.length;w++)m[w]=p[p.length-w-1];Xt.L_AND_G_PATTERNS[l]=m}}decodeRow(l,p,m){let w=Xt.findStartGuardPattern(p),_=m==null?null:m.get(X.NEED_RESULT_POINT_CALLBACK);if(_!=null){const ot=new it((w[0]+w[1])/2,l);_.foundPossibleResultPoint(ot)}let A=this.decodeMiddle(p,w,this.decodeRowStringBuffer),O=A.rowOffset,M=A.resultString;if(_!=null){const ot=new it(O,l);_.foundPossibleResultPoint(ot)}let B=this.decodeEnd(p,O);if(_!=null){const ot=new it((B[0]+B[1])/2,l);_.foundPossibleResultPoint(ot)}let W=B[1],te=W+(W-B[0]);if(te>=p.getSize()||!p.isRange(W,te,!1))throw new ae;let ce=M.toString();if(ce.length<8)throw new $;if(!Xt.checkChecksum(ce))throw new y;let Ae=(w[1]+w[0])/2,je=(B[1]+B[0])/2,Pe=this.getBarcodeFormat(),Be=[new it(Ae,l),new it(je,l)],Ze=new me(ce,null,0,Be,Pe,new Date().getTime()),ct=0;try{let ot=wr.decodeRow(l,p,B[1]);Ze.putMetadata(ze.UPC_EAN_EXTENSION,ot.getText()),Ze.putAllMetadata(ot.getResultMetadata()),Ze.addResultPoints(ot.getResultPoints()),ct=ot.getText().length}catch{}let ut=m==null?null:m.get(X.ALLOWED_EAN_EXTENSIONS);if(ut!=null){let ot=!1;for(let nr in ut)if(ct.toString()===nr){ot=!0;break}if(!ot)throw new ae}return Ze}decodeEnd(l,p){return Xt.findGuardPattern(l,p,!1,Xt.START_END_PATTERN,new Int32Array(Xt.START_END_PATTERN.length).fill(0))}static checkChecksum(l){return Xt.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let p=l.length;if(p===0)return!1;let m=parseInt(l.charAt(p-1),10);return Xt.getStandardUPCEANChecksum(l.substring(0,p-1))===m}static getStandardUPCEANChecksum(l){let p=l.length,m=0;for(let w=p-1;w>=0;w-=2){let _=l.charAt(w).charCodeAt(0)-48;if(_<0||_>9)throw new $;m+=_}m*=3;for(let w=p-2;w>=0;w-=2){let _=l.charAt(w).charCodeAt(0)-48;if(_<0||_>9)throw new $;m+=_}return(1e3-m)%10}}class _r extends Xt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,p,m){let w=this.decodeMiddleCounters;w[0]=0,w[1]=0,w[2]=0,w[3]=0;let _=l.getSize(),A=p[1],O=0;for(let B=0;B<6&&A<_;B++){let W=Xt.decodeDigit(l,w,A,Xt.L_AND_G_PATTERNS);m+=String.fromCharCode(48+W%10);for(let te of w)A+=te;W>=10&&(O|=1<<5-B)}m=_r.determineFirstDigit(m,O),A=Xt.findGuardPattern(l,A,!0,Xt.MIDDLE_PATTERN,new Int32Array(Xt.MIDDLE_PATTERN.length).fill(0))[1];for(let B=0;B<6&&A<_;B++){let W=Xt.decodeDigit(l,w,A,Xt.L_PATTERNS);m+=String.fromCharCode(48+W);for(let te of w)A+=te}return{rowOffset:A,resultString:m}}getBarcodeFormat(){return we.EAN_13}static determineFirstDigit(l,p){for(let m=0;m<10;m++)if(p===this.FIRST_DIGIT_ENCODINGS[m])return l=String.fromCharCode(48+m)+l,l;throw new ae}}_r.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Kt extends Xt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,p,m){const w=this.decodeMiddleCounters;w[0]=0,w[1]=0,w[2]=0,w[3]=0;let _=l.getSize(),A=p[1];for(let M=0;M<4&&A<_;M++){let B=Xt.decodeDigit(l,w,A,Xt.L_PATTERNS);m+=String.fromCharCode(48+B);for(let W of w)A+=W}A=Xt.findGuardPattern(l,A,!0,Xt.MIDDLE_PATTERN,new Int32Array(Xt.MIDDLE_PATTERN.length).fill(0))[1];for(let M=0;M<4&&A<_;M++){let B=Xt.decodeDigit(l,w,A,Xt.L_PATTERNS);m+=String.fromCharCode(48+B);for(let W of w)A+=W}return{rowOffset:A,resultString:m}}getBarcodeFormat(){return we.EAN_8}}class Yr extends Xt{constructor(){super(...arguments),this.ean13Reader=new _r}getBarcodeFormat(){return we.UPC_A}decode(l,p){return this.maybeReturnResult(this.ean13Reader.decode(l))}decodeRow(l,p,m){return this.maybeReturnResult(this.ean13Reader.decodeRow(l,p,m))}decodeMiddle(l,p,m){return this.ean13Reader.decodeMiddle(l,p,m)}maybeReturnResult(l){let p=l.getText();if(p.charAt(0)==="0"){let m=new me(p.substring(1),null,null,l.getResultPoints(),we.UPC_A);return l.getResultMetadata()!=null&&m.putAllMetadata(l.getResultMetadata()),m}else throw new ae}reset(){this.ean13Reader.reset()}}class ua extends Xt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(l,p,m){const w=this.decodeMiddleCounters.map(B=>B);w[0]=0,w[1]=0,w[2]=0,w[3]=0;const _=l.getSize();let A=p[1],O=0;for(let B=0;B<6&&A<_;B++){const W=ua.decodeDigit(l,w,A,ua.L_AND_G_PATTERNS);m+=String.fromCharCode(48+W%10);for(let te of w)A+=te;W>=10&&(O|=1<<5-B)}let M=ua.determineNumSysAndCheckDigit(m,O);return{rowOffset:A,resultString:M}}decodeEnd(l,p){return ua.findGuardPatternWithoutCounters(l,p,!0,ua.MIDDLE_END_PATTERN)}checkChecksum(l){return Xt.checkChecksum(ua.convertUPCEtoUPCA(l))}static determineNumSysAndCheckDigit(l,p){for(let m=0;m<=1;m++)for(let w=0;w<10;w++)if(p===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[m][w]){let _=String.fromCharCode(48+m),A=String.fromCharCode(48+w);return _+l+A}throw ae.getNotFoundInstance()}getBarcodeFormat(){return we.UPC_E}static convertUPCEtoUPCA(l){const p=l.slice(1,7).split("").map(_=>_.charCodeAt(0)),m=new ue;m.append(l.charAt(0));let w=p[5];switch(w){case 0:case 1:case 2:m.appendChars(p,0,2),m.append(w),m.append("0000"),m.appendChars(p,2,3);break;case 3:m.appendChars(p,0,3),m.append("00000"),m.appendChars(p,3,2);break;case 4:m.appendChars(p,0,4),m.append("00000"),m.append(p[4]);break;default:m.appendChars(p,0,5),m.append("0000"),m.append(w);break}return l.length>=8&&m.append(l.charAt(7)),m.toString()}}ua.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ua.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ra extends tr{constructor(l){super();let p=l==null?null:l.get(X.POSSIBLE_FORMATS),m=[];n(p)?(m.push(new _r),m.push(new Yr),m.push(new Kt),m.push(new ua)):(p.indexOf(we.EAN_13)>-1&&m.push(new _r),p.indexOf(we.UPC_A)>-1&&m.push(new Yr),p.indexOf(we.EAN_8)>-1&&m.push(new Kt),p.indexOf(we.UPC_E)>-1&&m.push(new ua)),this.readers=m}decodeRow(l,p,m){for(let w of this.readers)try{const _=w.decodeRow(l,p,m),A=_.getBarcodeFormat()===we.EAN_13&&_.getText().charAt(0)==="0",O=m==null?null:m.get(X.POSSIBLE_FORMATS),M=O==null||O.includes(we.UPC_A);if(A&&M){const B=_.getRawBytes(),W=new me(_.getText().substring(1),B,B?B.length:null,_.getResultPoints(),we.UPC_A);return W.putAllMetadata(_.getResultMetadata()),W}return _}catch{}throw new ae}reset(){for(let l of this.readers)l.reset()}}class jn extends tr{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,p){for(let m=0;m<p.length;m++)if(tr.patternMatchVariance(l,p[m],jn.MAX_INDIVIDUAL_VARIANCE)<jn.MAX_AVG_VARIANCE)return m;throw new ae}static count(l){return rt.sum(new Int32Array(l))}static increment(l,p){let m=0,w=p[0];for(let _=1;_<l.length;_++)p[_]>w&&(w=p[_],m=_);l[m]++}static decrement(l,p){let m=0,w=p[0];for(let _=1;_<l.length;_++)p[_]<w&&(w=p[_],m=_);l[m]--}static isFinderPattern(l){let p=l[0]+l[1],m=p+l[2]+l[3],w=p/m;if(w>=jn.MIN_FINDER_PATTERN_RATIO&&w<=jn.MAX_FINDER_PATTERN_RATIO){let _=Number.MAX_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER;for(let O of l)O>A&&(A=O),O<_&&(_=O);return A<10*_}return!1}}jn.MAX_AVG_VARIANCE=.2,jn.MAX_INDIVIDUAL_VARIANCE=.45,jn.MIN_FINDER_PATTERN_RATIO=9.5/12,jn.MAX_FINDER_PATTERN_RATIO=12.5/14;class ti{constructor(l,p){this.value=l,this.checksumPortion=p}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(l){if(!(l instanceof ti))return!1;const p=l;return this.value===p.value&&this.checksumPortion===p.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Zt{constructor(l,p,m,w,_){this.value=l,this.startEnd=p,this.value=l,this.startEnd=p,this.resultPoints=new Array,this.resultPoints.push(new it(m,_)),this.resultPoints.push(new it(w,_))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(l){if(!(l instanceof Zt))return!1;const p=l;return this.value===p.value}hashCode(){return this.value}}class Da{constructor(){}static getRSSvalue(l,p,m){let w=0;for(let M of l)w+=M;let _=0,A=0,O=l.length;for(let M=0;M<O-1;M++){let B;for(B=1,A|=1<<M;B<l[M];B++,A&=~(1<<M)){let W=Da.combins(w-B-1,O-M-2);if(m&&A===0&&w-B-(O-M-1)>=O-M-1&&(W-=Da.combins(w-B-(O-M),O-M-2)),O-M-1>1){let te=0;for(let ce=w-B-(O-M-2);ce>p;ce--)te+=Da.combins(w-B-ce-1,O-M-3);W-=te*(O-1-M)}else w-B>p&&W--;_+=W}w-=B}return _}static combins(l,p){let m,w;l-p>p?(w=p,m=l-p):(w=l-p,m=p);let _=1,A=1;for(let O=l;O>m;O--)_*=O,A<=w&&(_/=A,A++);for(;A<=w;)_/=A,A++;return _}}class ao{static buildBitArray(l){let p=l.length*2-1;l[l.length-1].getRightChar()==null&&(p-=1);let m=12*p,w=new U(m),_=0,O=l[0].getRightChar().getValue();for(let M=11;M>=0;--M)(O&1<<M)!=0&&w.set(_),_++;for(let M=1;M<l.length;++M){let B=l[M],W=B.getLeftChar().getValue();for(let te=11;te>=0;--te)(W&1<<te)!=0&&w.set(_),_++;if(B.getRightChar()!=null){let te=B.getRightChar().getValue();for(let ce=11;ce>=0;--ce)(te&1<<ce)!=0&&w.set(_),_++}}return w}}class Ta{constructor(l,p){p?this.decodedInformation=null:(this.finished=l,this.decodedInformation=p)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ei{constructor(l){this.newPosition=l}getNewPosition(){return this.newPosition}}class zr extends Ei{constructor(l,p){super(l),this.value=p}getValue(){return this.value}isFNC1(){return this.value===zr.FNC1}}zr.FNC1="$";class Cn extends Ei{constructor(l,p,m){super(l),m?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=p}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class hn extends Ei{constructor(l,p,m){if(super(l),p<0||p>10||m<0||m>10)throw new $;this.firstDigit=p,this.secondDigit=m}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===hn.FNC1}isSecondDigitFNC1(){return this.secondDigit===hn.FNC1}isAnyFNC1(){return this.firstDigit===hn.FNC1||this.secondDigit===hn.FNC1}}hn.FNC1=10;class Ot{constructor(){}static parseFieldsInGeneralPurpose(l){if(!l)return null;if(l.length<2)throw new ae;let p=l.substring(0,2);for(let _ of Ot.TWO_DIGIT_DATA_LENGTH)if(_[0]===p)return _[1]===Ot.VARIABLE_LENGTH?Ot.processVariableAI(2,_[2],l):Ot.processFixedAI(2,_[1],l);if(l.length<3)throw new ae;let m=l.substring(0,3);for(let _ of Ot.THREE_DIGIT_DATA_LENGTH)if(_[0]===m)return _[1]===Ot.VARIABLE_LENGTH?Ot.processVariableAI(3,_[2],l):Ot.processFixedAI(3,_[1],l);for(let _ of Ot.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(_[0]===m)return _[1]===Ot.VARIABLE_LENGTH?Ot.processVariableAI(4,_[2],l):Ot.processFixedAI(4,_[1],l);if(l.length<4)throw new ae;let w=l.substring(0,4);for(let _ of Ot.FOUR_DIGIT_DATA_LENGTH)if(_[0]===w)return _[1]===Ot.VARIABLE_LENGTH?Ot.processVariableAI(4,_[2],l):Ot.processFixedAI(4,_[1],l);throw new ae}static processFixedAI(l,p,m){if(m.length<l)throw new ae;let w=m.substring(0,l);if(m.length<l+p)throw new ae;let _=m.substring(l,l+p),A=m.substring(l+p),O="("+w+")"+_,M=Ot.parseFieldsInGeneralPurpose(A);return M==null?O:O+M}static processVariableAI(l,p,m){let w=m.substring(0,l),_;m.length<l+p?_=m.length:_=l+p;let A=m.substring(l,_),O=m.substring(_),M="("+w+")"+A,B=Ot.parseFieldsInGeneralPurpose(O);return B==null?M:M+B}}Ot.VARIABLE_LENGTH=[],Ot.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ot.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ot.VARIABLE_LENGTH,20],["22",Ot.VARIABLE_LENGTH,29],["30",Ot.VARIABLE_LENGTH,8],["37",Ot.VARIABLE_LENGTH,8],["90",Ot.VARIABLE_LENGTH,30],["91",Ot.VARIABLE_LENGTH,30],["92",Ot.VARIABLE_LENGTH,30],["93",Ot.VARIABLE_LENGTH,30],["94",Ot.VARIABLE_LENGTH,30],["95",Ot.VARIABLE_LENGTH,30],["96",Ot.VARIABLE_LENGTH,30],["97",Ot.VARIABLE_LENGTH,3],["98",Ot.VARIABLE_LENGTH,30],["99",Ot.VARIABLE_LENGTH,30]],Ot.THREE_DIGIT_DATA_LENGTH=[["240",Ot.VARIABLE_LENGTH,30],["241",Ot.VARIABLE_LENGTH,30],["242",Ot.VARIABLE_LENGTH,6],["250",Ot.VARIABLE_LENGTH,30],["251",Ot.VARIABLE_LENGTH,30],["253",Ot.VARIABLE_LENGTH,17],["254",Ot.VARIABLE_LENGTH,20],["400",Ot.VARIABLE_LENGTH,30],["401",Ot.VARIABLE_LENGTH,30],["402",17],["403",Ot.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ot.VARIABLE_LENGTH,20],["421",Ot.VARIABLE_LENGTH,15],["422",3],["423",Ot.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ot.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ot.VARIABLE_LENGTH,15],["391",Ot.VARIABLE_LENGTH,18],["392",Ot.VARIABLE_LENGTH,15],["393",Ot.VARIABLE_LENGTH,18],["703",Ot.VARIABLE_LENGTH,30]],Ot.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ot.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ot.VARIABLE_LENGTH,20],["8003",Ot.VARIABLE_LENGTH,30],["8004",Ot.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ot.VARIABLE_LENGTH,30],["8008",Ot.VARIABLE_LENGTH,12],["8018",18],["8020",Ot.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ot.VARIABLE_LENGTH,70],["8200",Ot.VARIABLE_LENGTH,70]];class xa{constructor(l){this.buffer=new ue,this.information=l}decodeAllCodes(l,p){let m=p,w=null;do{let _=this.decodeGeneralPurposeField(m,w),A=Ot.parseFieldsInGeneralPurpose(_.getNewString());if(A!=null&&l.append(A),_.isRemaining()?w=""+_.getRemainingValue():w=null,m===_.getNewPosition())break;m=_.getNewPosition()}while(!0);return l.toString()}isStillNumeric(l){if(l+7>this.information.getSize())return l+4<=this.information.getSize();for(let p=l;p<l+3;++p)if(this.information.get(p))return!0;return this.information.get(l+3)}decodeNumeric(l){if(l+7>this.information.getSize()){let _=this.extractNumericValueFromBitArray(l,4);return _===0?new hn(this.information.getSize(),hn.FNC1,hn.FNC1):new hn(this.information.getSize(),_-1,hn.FNC1)}let p=this.extractNumericValueFromBitArray(l,7),m=(p-8)/11,w=(p-8)%11;return new hn(l+7,m,w)}extractNumericValueFromBitArray(l,p){return xa.extractNumericValueFromBitArray(this.information,l,p)}static extractNumericValueFromBitArray(l,p,m){let w=0;for(let _=0;_<m;++_)l.get(p+_)&&(w|=1<<m-_-1);return w}decodeGeneralPurposeField(l,p){this.buffer.setLengthToZero(),p!=null&&this.buffer.append(p),this.current.setPosition(l);let m=this.parseBlocks();return m!=null&&m.isRemaining()?new Cn(this.current.getPosition(),this.buffer.toString(),m.getRemainingValue()):new Cn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let l,p;do{let m=this.current.getPosition();if(this.current.isAlpha()?(p=this.parseAlphaBlock(),l=p.isFinished()):this.current.isIsoIec646()?(p=this.parseIsoIec646Block(),l=p.isFinished()):(p=this.parseNumericBlock(),l=p.isFinished()),!(m!==this.current.getPosition())&&!l)break}while(!l);return p.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let l=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFirstDigitFNC1()){let p;return l.isSecondDigitFNC1()?p=new Cn(this.current.getPosition(),this.buffer.toString()):p=new Cn(this.current.getPosition(),this.buffer.toString(),l.getSecondDigit()),new Ta(!0,p)}if(this.buffer.append(l.getFirstDigit()),l.isSecondDigitFNC1()){let p=new Cn(this.current.getPosition(),this.buffer.toString());return new Ta(!0,p)}this.buffer.append(l.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ta(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let l=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let p=new Cn(this.current.getPosition(),this.buffer.toString());return new Ta(!0,p)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ta(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let l=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let p=new Cn(this.current.getPosition(),this.buffer.toString());return new Ta(!0,p)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ta(!1)}isStillIsoIec646(l){if(l+5>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(l,5);if(p>=5&&p<16)return!0;if(l+7>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(l,7);if(m>=64&&m<116)return!0;if(l+8>this.information.getSize())return!1;let w=this.extractNumericValueFromBitArray(l,8);return w>=232&&w<253}decodeIsoIec646(l){let p=this.extractNumericValueFromBitArray(l,5);if(p===15)return new zr(l+5,zr.FNC1);if(p>=5&&p<15)return new zr(l+5,"0"+(p-5));let m=this.extractNumericValueFromBitArray(l,7);if(m>=64&&m<90)return new zr(l+7,""+(m+1));if(m>=90&&m<116)return new zr(l+7,""+(m+7));let w=this.extractNumericValueFromBitArray(l,8),_;switch(w){case 232:_="!";break;case 233:_='"';break;case 234:_="%";break;case 235:_="&";break;case 236:_="'";break;case 237:_="(";break;case 238:_=")";break;case 239:_="*";break;case 240:_="+";break;case 241:_=",";break;case 242:_="-";break;case 243:_=".";break;case 244:_="/";break;case 245:_=":";break;case 246:_=";";break;case 247:_="<";break;case 248:_="=";break;case 249:_=">";break;case 250:_="?";break;case 251:_="_";break;case 252:_=" ";break;default:throw new $}return new zr(l+8,_)}isStillAlpha(l){if(l+5>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(l,5);if(p>=5&&p<16)return!0;if(l+6>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(l,6);return m>=16&&m<63}decodeAlphanumeric(l){let p=this.extractNumericValueFromBitArray(l,5);if(p===15)return new zr(l+5,zr.FNC1);if(p>=5&&p<15)return new zr(l+5,"0"+(p-5));let m=this.extractNumericValueFromBitArray(l,6);if(m>=32&&m<58)return new zr(l+6,""+(m+33));let w;switch(m){case 58:w="*";break;case 59:w=",";break;case 60:w="-";break;case 61:w=".";break;case 62:w="/";break;default:throw new ye("Decoding invalid alphanumeric value: "+m)}return new zr(l+6,w)}isAlphaTo646ToAlphaLatch(l){if(l+1>this.information.getSize())return!1;for(let p=0;p<5&&p+l<this.information.getSize();++p)if(p===2){if(!this.information.get(l+2))return!1}else if(this.information.get(l+p))return!1;return!0}isAlphaOr646ToNumericLatch(l){if(l+3>this.information.getSize())return!1;for(let p=l;p<l+3;++p)if(this.information.get(p))return!1;return!0}isNumericToAlphaNumericLatch(l){if(l+1>this.information.getSize())return!1;for(let p=0;p<4&&p+l<this.information.getSize();++p)if(this.information.get(l+p))return!1;return!0}}class pn{constructor(l){this.information=l,this.generalDecoder=new xa(l)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Hr extends pn{constructor(l){super(l)}encodeCompressedGtin(l,p){l.append("(01)");let m=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,p,m)}encodeCompressedGtinWithoutAI(l,p,m){for(let w=0;w<4;++w){let _=this.getGeneralDecoder().extractNumericValueFromBitArray(p+10*w,10);_/100===0&&l.append("0"),_/10===0&&l.append("0"),l.append(_)}Hr.appendCheckDigit(l,m)}static appendCheckDigit(l,p){let m=0;for(let w=0;w<13;w++){let _=l.charAt(w+p).charCodeAt(0)-48;m+=(w&1)===0?3*_:_}m=10-m%10,m===10&&(m=0),l.append(m)}}Hr.GTIN_SIZE=40;class fa extends Hr{constructor(l){super(l)}parseInformation(){let l=new ue;l.append("(01)");let p=l.length(),m=this.getGeneralDecoder().extractNumericValueFromBitArray(fa.HEADER_SIZE,4);return l.append(m),this.encodeCompressedGtinWithoutAI(l,fa.HEADER_SIZE+4,p),this.getGeneralDecoder().decodeAllCodes(l,fa.HEADER_SIZE+44)}}fa.HEADER_SIZE=4;class pi extends pn{constructor(l){super(l)}parseInformation(){let l=new ue;return this.getGeneralDecoder().decodeAllCodes(l,pi.HEADER_SIZE)}}pi.HEADER_SIZE=5;class Ni extends Hr{constructor(l){super(l)}encodeCompressedWeight(l,p,m){let w=this.getGeneralDecoder().extractNumericValueFromBitArray(p,m);this.addWeightCode(l,w);let _=this.checkWeight(w),A=1e5;for(let O=0;O<5;++O)_/A===0&&l.append("0"),A/=10;l.append(_)}}class mi extends Ni{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=mi.HEADER_SIZE+Ni.GTIN_SIZE+mi.WEIGHT_SIZE)throw new ae;let l=new ue;return this.encodeCompressedGtin(l,mi.HEADER_SIZE),this.encodeCompressedWeight(l,mi.HEADER_SIZE+Ni.GTIN_SIZE,mi.WEIGHT_SIZE),l.toString()}}mi.HEADER_SIZE=5,mi.WEIGHT_SIZE=15;class Us extends mi{constructor(l){super(l)}addWeightCode(l,p){l.append("(3103)")}checkWeight(l){return l}}class zs extends mi{constructor(l){super(l)}addWeightCode(l,p){p<1e4?l.append("(3202)"):l.append("(3203)")}checkWeight(l){return l<1e4?l:l-1e4}}class ri extends Hr{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<ri.HEADER_SIZE+Hr.GTIN_SIZE)throw new ae;let l=new ue;this.encodeCompressedGtin(l,ri.HEADER_SIZE);let p=this.getGeneralDecoder().extractNumericValueFromBitArray(ri.HEADER_SIZE+Hr.GTIN_SIZE,ri.LAST_DIGIT_SIZE);l.append("(392"),l.append(p),l.append(")");let m=this.getGeneralDecoder().decodeGeneralPurposeField(ri.HEADER_SIZE+Hr.GTIN_SIZE+ri.LAST_DIGIT_SIZE,null);return l.append(m.getNewString()),l.toString()}}ri.HEADER_SIZE=8,ri.LAST_DIGIT_SIZE=2;class kn extends Hr{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<kn.HEADER_SIZE+Hr.GTIN_SIZE)throw new ae;let l=new ue;this.encodeCompressedGtin(l,kn.HEADER_SIZE);let p=this.getGeneralDecoder().extractNumericValueFromBitArray(kn.HEADER_SIZE+Hr.GTIN_SIZE,kn.LAST_DIGIT_SIZE);l.append("(393"),l.append(p),l.append(")");let m=this.getGeneralDecoder().extractNumericValueFromBitArray(kn.HEADER_SIZE+Hr.GTIN_SIZE+kn.LAST_DIGIT_SIZE,kn.FIRST_THREE_DIGITS_SIZE);m/100==0&&l.append("0"),m/10==0&&l.append("0"),l.append(m);let w=this.getGeneralDecoder().decodeGeneralPurposeField(kn.HEADER_SIZE+Hr.GTIN_SIZE+kn.LAST_DIGIT_SIZE+kn.FIRST_THREE_DIGITS_SIZE,null);return l.append(w.getNewString()),l.toString()}}kn.HEADER_SIZE=8,kn.LAST_DIGIT_SIZE=2,kn.FIRST_THREE_DIGITS_SIZE=10;class Xr extends Ni{constructor(l,p,m){super(l),this.dateCode=m,this.firstAIdigits=p}parseInformation(){if(this.getInformation().getSize()!=Xr.HEADER_SIZE+Xr.GTIN_SIZE+Xr.WEIGHT_SIZE+Xr.DATE_SIZE)throw new ae;let l=new ue;return this.encodeCompressedGtin(l,Xr.HEADER_SIZE),this.encodeCompressedWeight(l,Xr.HEADER_SIZE+Xr.GTIN_SIZE,Xr.WEIGHT_SIZE),this.encodeCompressedDate(l,Xr.HEADER_SIZE+Xr.GTIN_SIZE+Xr.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,p){let m=this.getGeneralDecoder().extractNumericValueFromBitArray(p,Xr.DATE_SIZE);if(m==38400)return;l.append("("),l.append(this.dateCode),l.append(")");let w=m%32;m/=32;let _=m%12+1;m/=12;let A=m;A/10==0&&l.append("0"),l.append(A),_/10==0&&l.append("0"),l.append(_),w/10==0&&l.append("0"),l.append(w)}addWeightCode(l,p){l.append("("),l.append(this.firstAIdigits),l.append(p/1e5),l.append(")")}checkWeight(l){return l%1e5}}Xr.HEADER_SIZE=8,Xr.WEIGHT_SIZE=20,Xr.DATE_SIZE=16;function sl(ee){try{if(ee.get(1))return new fa(ee);if(!ee.get(2))return new pi(ee);switch(xa.extractNumericValueFromBitArray(ee,1,4)){case 4:return new Us(ee);case 5:return new zs(ee)}switch(xa.extractNumericValueFromBitArray(ee,1,5)){case 12:return new ri(ee);case 13:return new kn(ee)}switch(xa.extractNumericValueFromBitArray(ee,1,7)){case 56:return new Xr(ee,"310","11");case 57:return new Xr(ee,"320","11");case 58:return new Xr(ee,"310","13");case 59:return new Xr(ee,"320","13");case 60:return new Xr(ee,"310","15");case 61:return new Xr(ee,"320","15");case 62:return new Xr(ee,"310","17");case 63:return new Xr(ee,"320","17")}}catch(l){throw console.log(l),new ye("unknown decoder: "+ee)}}class ni{constructor(l,p,m,w){this.leftchar=l,this.rightchar=p,this.finderpattern=m,this.maybeLast=w}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(l,p){return l instanceof ni?ni.equalsOrNull(l.leftchar,p.leftchar)&&ni.equalsOrNull(l.rightchar,p.rightchar)&&ni.equalsOrNull(l.finderpattern,p.finderpattern):!1}static equalsOrNull(l,p){return l===null?p===null:ni.equals(l,p)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Yn{constructor(l,p,m){this.pairs=l,this.rowNumber=p,this.wasReversed=m}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(l){return this.checkEqualitity(this,l)}toString(){return"{ "+this.pairs+" }"}equals(l,p){return l instanceof Yn?this.checkEqualitity(l,p)&&l.wasReversed===p.wasReversed:!1}checkEqualitity(l,p){if(!l||!p)return;let m;return l.forEach((w,_)=>{p.forEach(A=>{w.getLeftChar().getValue()===A.getLeftChar().getValue()&&w.getRightChar().getValue()===A.getRightChar().getValue()&&w.getFinderPatter().getValue()===A.getFinderPatter().getValue()&&(m=!0)})}),m}}class gt extends jn{constructor(l){super(...arguments),this.pairs=new Array(gt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=l===!0}decodeRow(l,p,m){this.pairs.length=0,this.startFromEven=!1;try{return gt.constructResult(this.decodeRow2pairs(l,p))}catch(w){this.verbose&&console.log(w)}return this.pairs.length=0,this.startFromEven=!0,gt.constructResult(this.decodeRow2pairs(l,p))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(l,p){let m=!1;for(;!m;)try{this.pairs.push(this.retrieveNextPair(p,this.pairs,l))}catch(_){if(_ instanceof ae){if(!this.pairs.length)throw new ae;m=!0}}if(this.checkChecksum())return this.pairs;let w;if(this.rows.length?w=!0:w=!1,this.storeRow(l,!1),w){let _=this.checkRowsBoolean(!1);if(_!=null||(_=this.checkRowsBoolean(!0),_!=null))return _}throw new ae}checkRowsBoolean(l){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,l&&(this.rows=this.rows.reverse());let p=null;try{p=this.checkRows(new Array,0)}catch(m){this.verbose&&console.log(m)}return l&&(this.rows=this.rows.reverse()),p}checkRows(l,p){for(let m=p;m<this.rows.length;m++){let w=this.rows[m];this.pairs.length=0;for(let A of l)this.pairs.push(A.getPairs());if(this.pairs.push(w.getPairs()),!gt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let _=new Array(l);_.push(w);try{return this.checkRows(_,m+1)}catch(A){this.verbose&&console.log(A)}}throw new ae}static isValidSequence(l){for(let p of gt.FINDER_PATTERN_SEQUENCES){if(l.length>p.length)continue;let m=!0;for(let w=0;w<l.length;w++)if(l[w].getFinderPattern().getValue()!=p[w]){m=!1;break}if(m)return!0}return!1}storeRow(l,p){let m=0,w=!1,_=!1;for(;m<this.rows.length;){let A=this.rows[m];if(A.getRowNumber()>l){_=A.isEquivalent(this.pairs);break}w=A.isEquivalent(this.pairs),m++}_||w||gt.isPartialRow(this.pairs,this.rows)||(this.rows.push(m,new Yn(this.pairs,l,p)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(l,p){for(let m of p)if(m.getPairs().length!==l.length){for(let w of m.getPairs())for(let _ of l)if(ni.equals(w,_))break}}static isPartialRow(l,p){for(let m of p){let w=!0;for(let _ of l){let A=!1;for(let O of m.getPairs())if(_.equals(O)){A=!0;break}if(!A){w=!1;break}}if(w)return!0}return!1}getRows(){return this.rows}static constructResult(l){let p=ao.buildBitArray(l),w=sl(p).parseInformation(),_=l[0].getFinderPattern().getResultPoints(),A=l[l.length-1].getFinderPattern().getResultPoints(),O=[_[0],_[1],A[0],A[1]];return new me(w,null,null,O,we.RSS_EXPANDED,null)}checkChecksum(){let l=this.pairs.get(0),p=l.getLeftChar(),m=l.getRightChar();if(m==null)return!1;let w=m.getChecksumPortion(),_=2;for(let O=1;O<this.pairs.size();++O){let M=this.pairs.get(O);w+=M.getLeftChar().getChecksumPortion(),_++;let B=M.getRightChar();B!=null&&(w+=B.getChecksumPortion(),_++)}return w%=211,211*(_-4)+w==p.getValue()}static getNextSecondBar(l,p){let m;return l.get(p)?(m=l.getNextUnset(p),m=l.getNextSet(m)):(m=l.getNextSet(p),m=l.getNextUnset(m)),m}retrieveNextPair(l,p,m){let w=p.length%2==0;this.startFromEven&&(w=!w);let _,A=!0,O=-1;do this.findNextPair(l,p,O),_=this.parseFoundFinderPattern(l,m,w),_==null?O=gt.getNextSecondBar(l,this.startEnd[0]):A=!1;while(A);let M=this.decodeDataCharacter(l,_,w,!0);if(!this.isEmptyPair(p)&&p[p.length-1].mustBeLast())throw new ae;let B;try{B=this.decodeDataCharacter(l,_,w,!1)}catch(W){B=null,this.verbose&&console.log(W)}return new ni(M,B,_,!0)}isEmptyPair(l){return l.length===0}findNextPair(l,p,m){let w=this.getDecodeFinderCounters();w[0]=0,w[1]=0,w[2]=0,w[3]=0;let _=l.getSize(),A;m>=0?A=m:this.isEmptyPair(p)?A=0:A=p[p.length-1].getFinderPattern().getStartEnd()[1];let O=p.length%2!=0;this.startFromEven&&(O=!O);let M=!1;for(;A<_&&(M=!l.get(A),!!M);)A++;let B=0,W=A;for(let te=A;te<_;te++)if(l.get(te)!=M)w[B]++;else{if(B==3){if(O&&gt.reverseCounters(w),gt.isFinderPattern(w)){this.startEnd[0]=W,this.startEnd[1]=te;return}O&&gt.reverseCounters(w),W+=w[0]+w[1],w[0]=w[2],w[1]=w[3],w[2]=0,w[3]=0,B--}else B++;w[B]=1,M=!M}throw new ae}static reverseCounters(l){let p=l.length;for(let m=0;m<p/2;++m){let w=l[m];l[m]=l[p-m-1],l[p-m-1]=w}}parseFoundFinderPattern(l,p,m){let w,_,A;if(m){let B=this.startEnd[0]-1;for(;B>=0&&!l.get(B);)B--;B++,w=this.startEnd[0]-B,_=B,A=this.startEnd[1]}else _=this.startEnd[0],A=l.getNextUnset(this.startEnd[1]+1),w=A-this.startEnd[1];let O=this.getDecodeFinderCounters();N.arraycopy(O,0,O,1,O.length-1),O[0]=w;let M;try{M=this.parseFinderValue(O,gt.FINDER_PATTERNS)}catch{return null}return new Zt(M,[_,A],_,A,p)}decodeDataCharacter(l,p,m,w){let _=this.getDataCharacterCounters();for(let gn=0;gn<_.length;gn++)_[gn]=0;if(w)gt.recordPatternInReverse(l,p.getStartEnd()[0],_);else{gt.recordPattern(l,p.getStartEnd()[1],_);for(let gn=0,Fa=_.length-1;gn<Fa;gn++,Fa--){let Ki=_[gn];_[gn]=_[Fa],_[Fa]=Ki}}let A=17,O=rt.sum(new Int32Array(_))/A,M=(p.getStartEnd()[1]-p.getStartEnd()[0])/15;if(Math.abs(O-M)/M>.3)throw new ae;let B=this.getOddCounts(),W=this.getEvenCounts(),te=this.getOddRoundingErrors(),ce=this.getEvenRoundingErrors();for(let gn=0;gn<_.length;gn++){let Fa=1*_[gn]/O,Ki=Fa+.5;if(Ki<1){if(Fa<.3)throw new ae;Ki=1}else if(Ki>8){if(Fa>8.7)throw new ae;Ki=8}let Dl=gn/2;(gn&1)==0?(B[Dl]=Ki,te[Dl]=Fa-Ki):(W[Dl]=Ki,ce[Dl]=Fa-Ki)}this.adjustOddEvenCounts(A);let Ae=4*p.getValue()+(m?0:2)+(w?0:1)-1,je=0,Pe=0;for(let gn=B.length-1;gn>=0;gn--){if(gt.isNotA1left(p,m,w)){let Fa=gt.WEIGHTS[Ae][2*gn];Pe+=B[gn]*Fa}je+=B[gn]}let Be=0;for(let gn=W.length-1;gn>=0;gn--)if(gt.isNotA1left(p,m,w)){let Fa=gt.WEIGHTS[Ae][2*gn+1];Be+=W[gn]*Fa}let Ze=Pe+Be;if((je&1)!=0||je>13||je<4)throw new ae;let ct=(13-je)/2,ut=gt.SYMBOL_WIDEST[ct],ot=9-ut,nr=Da.getRSSvalue(B,ut,!0),pr=Da.getRSSvalue(W,ot,!1),qn=gt.EVEN_TOTAL_SUBSET[ct],oi=gt.GSUM[ct],Ba=nr*qn+pr+oi;return new ti(Ba,Ze)}static isNotA1left(l,p,m){return!(l.getValue()==0&&p&&m)}adjustOddEvenCounts(l){let p=rt.sum(new Int32Array(this.getOddCounts())),m=rt.sum(new Int32Array(this.getEvenCounts())),w=!1,_=!1;p>13?_=!0:p<4&&(w=!0);let A=!1,O=!1;m>13?O=!0:m<4&&(A=!0);let M=p+m-l,B=(p&1)==1,W=(m&1)==0;if(M==1)if(B){if(W)throw new ae;_=!0}else{if(!W)throw new ae;O=!0}else if(M==-1)if(B){if(W)throw new ae;w=!0}else{if(!W)throw new ae;A=!0}else if(M==0){if(B){if(!W)throw new ae;p<m?(w=!0,O=!0):(_=!0,A=!0)}else if(W)throw new ae}else throw new ae;if(w){if(_)throw new ae;gt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(_&&gt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),A){if(O)throw new ae;gt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}O&&gt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}gt.SYMBOL_WIDEST=[7,5,4,3,1],gt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],gt.GSUM=[0,348,1388,2948,3988],gt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],gt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],gt.FINDER_PAT_A=0,gt.FINDER_PAT_B=1,gt.FINDER_PAT_C=2,gt.FINDER_PAT_D=3,gt.FINDER_PAT_E=4,gt.FINDER_PAT_F=5,gt.FINDER_PATTERN_SEQUENCES=[[gt.FINDER_PAT_A,gt.FINDER_PAT_A],[gt.FINDER_PAT_A,gt.FINDER_PAT_B,gt.FINDER_PAT_B],[gt.FINDER_PAT_A,gt.FINDER_PAT_C,gt.FINDER_PAT_B,gt.FINDER_PAT_D],[gt.FINDER_PAT_A,gt.FINDER_PAT_E,gt.FINDER_PAT_B,gt.FINDER_PAT_D,gt.FINDER_PAT_C],[gt.FINDER_PAT_A,gt.FINDER_PAT_E,gt.FINDER_PAT_B,gt.FINDER_PAT_D,gt.FINDER_PAT_D,gt.FINDER_PAT_F],[gt.FINDER_PAT_A,gt.FINDER_PAT_E,gt.FINDER_PAT_B,gt.FINDER_PAT_D,gt.FINDER_PAT_E,gt.FINDER_PAT_F,gt.FINDER_PAT_F],[gt.FINDER_PAT_A,gt.FINDER_PAT_A,gt.FINDER_PAT_B,gt.FINDER_PAT_B,gt.FINDER_PAT_C,gt.FINDER_PAT_C,gt.FINDER_PAT_D,gt.FINDER_PAT_D],[gt.FINDER_PAT_A,gt.FINDER_PAT_A,gt.FINDER_PAT_B,gt.FINDER_PAT_B,gt.FINDER_PAT_C,gt.FINDER_PAT_C,gt.FINDER_PAT_D,gt.FINDER_PAT_E,gt.FINDER_PAT_E],[gt.FINDER_PAT_A,gt.FINDER_PAT_A,gt.FINDER_PAT_B,gt.FINDER_PAT_B,gt.FINDER_PAT_C,gt.FINDER_PAT_C,gt.FINDER_PAT_D,gt.FINDER_PAT_E,gt.FINDER_PAT_F,gt.FINDER_PAT_F],[gt.FINDER_PAT_A,gt.FINDER_PAT_A,gt.FINDER_PAT_B,gt.FINDER_PAT_B,gt.FINDER_PAT_C,gt.FINDER_PAT_D,gt.FINDER_PAT_D,gt.FINDER_PAT_E,gt.FINDER_PAT_E,gt.FINDER_PAT_F,gt.FINDER_PAT_F]],gt.MAX_PAIRS=11;class fs extends ti{constructor(l,p,m){super(l,p),this.count=0,this.finderPattern=m}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class rn extends jn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(l,p,m){const w=this.decodePair(p,!1,l,m);rn.addOrTally(this.possibleLeftPairs,w),p.reverse();let _=this.decodePair(p,!0,l,m);rn.addOrTally(this.possibleRightPairs,_),p.reverse();for(let A of this.possibleLeftPairs)if(A.getCount()>1){for(let O of this.possibleRightPairs)if(O.getCount()>1&&rn.checkChecksum(A,O))return rn.constructResult(A,O)}throw new ae}static addOrTally(l,p){if(p==null)return;let m=!1;for(let w of l)if(w.getValue()===p.getValue()){w.incrementCount(),m=!0;break}m||l.push(p)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(l,p){let m=4537077*l.getValue()+p.getValue(),w=new String(m).toString(),_=new ue;for(let B=13-w.length;B>0;B--)_.append("0");_.append(w);let A=0;for(let B=0;B<13;B++){let W=_.charAt(B).charCodeAt(0)-48;A+=(B&1)===0?3*W:W}A=10-A%10,A===10&&(A=0),_.append(A.toString());let O=l.getFinderPattern().getResultPoints(),M=p.getFinderPattern().getResultPoints();return new me(_.toString(),null,0,[O[0],O[1],M[0],M[1]],we.RSS_14,new Date().getTime())}static checkChecksum(l,p){let m=(l.getChecksumPortion()+16*p.getChecksumPortion())%79,w=9*l.getFinderPattern().getValue()+p.getFinderPattern().getValue();return w>72&&w--,w>8&&w--,m===w}decodePair(l,p,m,w){try{let _=this.findFinderPattern(l,p),A=this.parseFoundFinderPattern(l,m,p,_),O=w==null?null:w.get(X.NEED_RESULT_POINT_CALLBACK);if(O!=null){let W=(_[0]+_[1])/2;p&&(W=l.getSize()-1-W),O.foundPossibleResultPoint(new it(W,m))}let M=this.decodeDataCharacter(l,A,!0),B=this.decodeDataCharacter(l,A,!1);return new fs(1597*M.getValue()+B.getValue(),M.getChecksumPortion()+4*B.getChecksumPortion(),A)}catch{return null}}decodeDataCharacter(l,p,m){let w=this.getDataCharacterCounters();for(let Be=0;Be<w.length;Be++)w[Be]=0;if(m)tr.recordPatternInReverse(l,p.getStartEnd()[0],w);else{tr.recordPattern(l,p.getStartEnd()[1]+1,w);for(let Be=0,Ze=w.length-1;Be<Ze;Be++,Ze--){let ct=w[Be];w[Be]=w[Ze],w[Ze]=ct}}let _=m?16:15,A=rt.sum(new Int32Array(w))/_,O=this.getOddCounts(),M=this.getEvenCounts(),B=this.getOddRoundingErrors(),W=this.getEvenRoundingErrors();for(let Be=0;Be<w.length;Be++){let Ze=w[Be]/A,ct=Math.floor(Ze+.5);ct<1?ct=1:ct>8&&(ct=8);let ut=Math.floor(Be/2);(Be&1)===0?(O[ut]=ct,B[ut]=Ze-ct):(M[ut]=ct,W[ut]=Ze-ct)}this.adjustOddEvenCounts(m,_);let te=0,ce=0;for(let Be=O.length-1;Be>=0;Be--)ce*=9,ce+=O[Be],te+=O[Be];let Ae=0,je=0;for(let Be=M.length-1;Be>=0;Be--)Ae*=9,Ae+=M[Be],je+=M[Be];let Pe=ce+3*Ae;if(m){if((te&1)!==0||te>12||te<4)throw new ae;let Be=(12-te)/2,Ze=rn.OUTSIDE_ODD_WIDEST[Be],ct=9-Ze,ut=Da.getRSSvalue(O,Ze,!1),ot=Da.getRSSvalue(M,ct,!0),nr=rn.OUTSIDE_EVEN_TOTAL_SUBSET[Be],pr=rn.OUTSIDE_GSUM[Be];return new ti(ut*nr+ot+pr,Pe)}else{if((je&1)!==0||je>10||je<4)throw new ae;let Be=(10-je)/2,Ze=rn.INSIDE_ODD_WIDEST[Be],ct=9-Ze,ut=Da.getRSSvalue(O,Ze,!0),ot=Da.getRSSvalue(M,ct,!1),nr=rn.INSIDE_ODD_TOTAL_SUBSET[Be],pr=rn.INSIDE_GSUM[Be];return new ti(ot*nr+ut+pr,Pe)}}findFinderPattern(l,p){let m=this.getDecodeFinderCounters();m[0]=0,m[1]=0,m[2]=0,m[3]=0;let w=l.getSize(),_=!1,A=0;for(;A<w&&(_=!l.get(A),p!==_);)A++;let O=0,M=A;for(let B=A;B<w;B++)if(l.get(B)!==_)m[O]++;else{if(O===3){if(jn.isFinderPattern(m))return[M,B];M+=m[0]+m[1],m[0]=m[2],m[1]=m[3],m[2]=0,m[3]=0,O--}else O++;m[O]=1,_=!_}throw new ae}parseFoundFinderPattern(l,p,m,w){let _=l.get(w[0]),A=w[0]-1;for(;A>=0&&_!==l.get(A);)A--;A++;const O=w[0]-A,M=this.getDecodeFinderCounters(),B=new Int32Array(M.length);N.arraycopy(M,0,B,1,M.length-1),B[0]=O;const W=this.parseFinderValue(B,rn.FINDER_PATTERNS);let te=A,ce=w[1];return m&&(te=l.getSize()-1-te,ce=l.getSize()-1-ce),new Zt(W,[A,w[1]],te,ce,p)}adjustOddEvenCounts(l,p){let m=rt.sum(new Int32Array(this.getOddCounts())),w=rt.sum(new Int32Array(this.getEvenCounts())),_=!1,A=!1,O=!1,M=!1;l?(m>12?A=!0:m<4&&(_=!0),w>12?M=!0:w<4&&(O=!0)):(m>11?A=!0:m<5&&(_=!0),w>10?M=!0:w<4&&(O=!0));let B=m+w-p,W=(m&1)===(l?1:0),te=(w&1)===1;if(B===1)if(W){if(te)throw new ae;A=!0}else{if(!te)throw new ae;M=!0}else if(B===-1)if(W){if(te)throw new ae;_=!0}else{if(!te)throw new ae;O=!0}else if(B===0){if(W){if(!te)throw new ae;m<w?(_=!0,M=!0):(A=!0,O=!0)}else if(te)throw new ae}else throw new ae;if(_){if(A)throw new ae;jn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(A&&jn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),O){if(M)throw new ae;jn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}M&&jn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}rn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],rn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],rn.OUTSIDE_GSUM=[0,161,961,2015,2715],rn.INSIDE_GSUM=[0,336,1036,1516],rn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],rn.INSIDE_ODD_WIDEST=[2,4,6,8],rn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Hi extends tr{constructor(l,p){super(),this.readers=[],this.verbose=p===!0;const m=l?l.get(X.POSSIBLE_FORMATS):null,w=l&&l.get(X.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;m?((m.includes(we.EAN_13)||m.includes(we.UPC_A)||m.includes(we.EAN_8)||m.includes(we.UPC_E))&&this.readers.push(new Ra(l)),m.includes(we.CODE_39)&&this.readers.push(new Dt(w)),m.includes(we.CODE_128)&&this.readers.push(new nt),m.includes(we.ITF)&&this.readers.push(new Ft),m.includes(we.RSS_14)&&this.readers.push(new rn),m.includes(we.RSS_EXPANDED)&&this.readers.push(new gt(this.verbose))):(this.readers.push(new Ra(l)),this.readers.push(new Dt),this.readers.push(new Ra(l)),this.readers.push(new nt),this.readers.push(new Ft),this.readers.push(new rn),this.readers.push(new gt(this.verbose)))}decodeRow(l,p,m){for(let w=0;w<this.readers.length;w++)try{return this.readers[w].decodeRow(l,p,m)}catch{}throw new ae}reset(){this.readers.forEach(l=>l.reset())}}class Yc extends le{constructor(l=500,p){super(new Hi(p),l,p)}}class Kr{constructor(l,p,m){this.ecCodewords=l,this.ecBlocks=[p],m&&this.ecBlocks.push(m)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Wr{constructor(l,p){this.count=l,this.dataCodewords=p}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Fr{constructor(l,p,m,w,_,A){this.versionNumber=l,this.symbolSizeRows=p,this.symbolSizeColumns=m,this.dataRegionSizeRows=w,this.dataRegionSizeColumns=_,this.ecBlocks=A;let O=0;const M=A.getECCodewords(),B=A.getECBlocks();for(let W of B)O+=W.getCount()*(W.getDataCodewords()+M);this.totalCodewords=O}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(l,p){if((l&1)!==0||(p&1)!==0)throw new $;for(let m of Fr.VERSIONS)if(m.symbolSizeRows===l&&m.symbolSizeColumns===p)return m;throw new $}toString(){return""+this.versionNumber}static buildVersions(){return[new Fr(1,10,10,8,8,new Kr(5,new Wr(1,3))),new Fr(2,12,12,10,10,new Kr(7,new Wr(1,5))),new Fr(3,14,14,12,12,new Kr(10,new Wr(1,8))),new Fr(4,16,16,14,14,new Kr(12,new Wr(1,12))),new Fr(5,18,18,16,16,new Kr(14,new Wr(1,18))),new Fr(6,20,20,18,18,new Kr(18,new Wr(1,22))),new Fr(7,22,22,20,20,new Kr(20,new Wr(1,30))),new Fr(8,24,24,22,22,new Kr(24,new Wr(1,36))),new Fr(9,26,26,24,24,new Kr(28,new Wr(1,44))),new Fr(10,32,32,14,14,new Kr(36,new Wr(1,62))),new Fr(11,36,36,16,16,new Kr(42,new Wr(1,86))),new Fr(12,40,40,18,18,new Kr(48,new Wr(1,114))),new Fr(13,44,44,20,20,new Kr(56,new Wr(1,144))),new Fr(14,48,48,22,22,new Kr(68,new Wr(1,174))),new Fr(15,52,52,24,24,new Kr(42,new Wr(2,102))),new Fr(16,64,64,14,14,new Kr(56,new Wr(2,140))),new Fr(17,72,72,16,16,new Kr(36,new Wr(4,92))),new Fr(18,80,80,18,18,new Kr(48,new Wr(4,114))),new Fr(19,88,88,20,20,new Kr(56,new Wr(4,144))),new Fr(20,96,96,22,22,new Kr(68,new Wr(4,174))),new Fr(21,104,104,24,24,new Kr(56,new Wr(6,136))),new Fr(22,120,120,18,18,new Kr(68,new Wr(6,175))),new Fr(23,132,132,20,20,new Kr(62,new Wr(8,163))),new Fr(24,144,144,22,22,new Kr(62,new Wr(8,156),new Wr(2,155))),new Fr(25,8,18,6,16,new Kr(7,new Wr(1,5))),new Fr(26,8,32,6,14,new Kr(11,new Wr(1,10))),new Fr(27,12,26,10,24,new Kr(14,new Wr(1,16))),new Fr(28,12,36,10,16,new Kr(18,new Wr(1,22))),new Fr(29,16,36,14,16,new Kr(24,new Wr(1,32))),new Fr(30,16,48,14,22,new Kr(28,new Wr(1,49)))]}}Fr.VERSIONS=Fr.buildVersions();class Ci{constructor(l){const p=l.getHeight();if(p<8||p>144||(p&1)!==0)throw new $;this.version=Ci.readVersion(l),this.mappingBitMatrix=this.extractDataRegion(l),this.readMappingMatrix=new J(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(l){const p=l.getHeight(),m=l.getWidth();return Fr.getVersionForDimensions(p,m)}readCodewords(){const l=new Int8Array(this.version.getTotalCodewords());let p=0,m=4,w=0;const _=this.mappingBitMatrix.getHeight(),A=this.mappingBitMatrix.getWidth();let O=!1,M=!1,B=!1,W=!1;do if(m===_&&w===0&&!O)l[p++]=this.readCorner1(_,A)&255,m-=2,w+=2,O=!0;else if(m===_-2&&w===0&&(A&3)!==0&&!M)l[p++]=this.readCorner2(_,A)&255,m-=2,w+=2,M=!0;else if(m===_+4&&w===2&&(A&7)===0&&!B)l[p++]=this.readCorner3(_,A)&255,m-=2,w+=2,B=!0;else if(m===_-2&&w===0&&(A&7)===4&&!W)l[p++]=this.readCorner4(_,A)&255,m-=2,w+=2,W=!0;else{do m<_&&w>=0&&!this.readMappingMatrix.get(w,m)&&(l[p++]=this.readUtah(m,w,_,A)&255),m-=2,w+=2;while(m>=0&&w<A);m+=1,w+=3;do m>=0&&w<A&&!this.readMappingMatrix.get(w,m)&&(l[p++]=this.readUtah(m,w,_,A)&255),m+=2,w-=2;while(m<_&&w>=0);m+=3,w+=1}while(m<_||w<A);if(p!==this.version.getTotalCodewords())throw new $;return l}readModule(l,p,m,w){return l<0&&(l+=m,p+=4-(m+4&7)),p<0&&(p+=w,l+=4-(w+4&7)),this.readMappingMatrix.set(p,l),this.mappingBitMatrix.get(p,l)}readUtah(l,p,m,w){let _=0;return this.readModule(l-2,p-2,m,w)&&(_|=1),_<<=1,this.readModule(l-2,p-1,m,w)&&(_|=1),_<<=1,this.readModule(l-1,p-2,m,w)&&(_|=1),_<<=1,this.readModule(l-1,p-1,m,w)&&(_|=1),_<<=1,this.readModule(l-1,p,m,w)&&(_|=1),_<<=1,this.readModule(l,p-2,m,w)&&(_|=1),_<<=1,this.readModule(l,p-1,m,w)&&(_|=1),_<<=1,this.readModule(l,p,m,w)&&(_|=1),_}readCorner1(l,p){let m=0;return this.readModule(l-1,0,l,p)&&(m|=1),m<<=1,this.readModule(l-1,1,l,p)&&(m|=1),m<<=1,this.readModule(l-1,2,l,p)&&(m|=1),m<<=1,this.readModule(0,p-2,l,p)&&(m|=1),m<<=1,this.readModule(0,p-1,l,p)&&(m|=1),m<<=1,this.readModule(1,p-1,l,p)&&(m|=1),m<<=1,this.readModule(2,p-1,l,p)&&(m|=1),m<<=1,this.readModule(3,p-1,l,p)&&(m|=1),m}readCorner2(l,p){let m=0;return this.readModule(l-3,0,l,p)&&(m|=1),m<<=1,this.readModule(l-2,0,l,p)&&(m|=1),m<<=1,this.readModule(l-1,0,l,p)&&(m|=1),m<<=1,this.readModule(0,p-4,l,p)&&(m|=1),m<<=1,this.readModule(0,p-3,l,p)&&(m|=1),m<<=1,this.readModule(0,p-2,l,p)&&(m|=1),m<<=1,this.readModule(0,p-1,l,p)&&(m|=1),m<<=1,this.readModule(1,p-1,l,p)&&(m|=1),m}readCorner3(l,p){let m=0;return this.readModule(l-1,0,l,p)&&(m|=1),m<<=1,this.readModule(l-1,p-1,l,p)&&(m|=1),m<<=1,this.readModule(0,p-3,l,p)&&(m|=1),m<<=1,this.readModule(0,p-2,l,p)&&(m|=1),m<<=1,this.readModule(0,p-1,l,p)&&(m|=1),m<<=1,this.readModule(1,p-3,l,p)&&(m|=1),m<<=1,this.readModule(1,p-2,l,p)&&(m|=1),m<<=1,this.readModule(1,p-1,l,p)&&(m|=1),m}readCorner4(l,p){let m=0;return this.readModule(l-3,0,l,p)&&(m|=1),m<<=1,this.readModule(l-2,0,l,p)&&(m|=1),m<<=1,this.readModule(l-1,0,l,p)&&(m|=1),m<<=1,this.readModule(0,p-2,l,p)&&(m|=1),m<<=1,this.readModule(0,p-1,l,p)&&(m|=1),m<<=1,this.readModule(1,p-1,l,p)&&(m|=1),m<<=1,this.readModule(2,p-1,l,p)&&(m|=1),m<<=1,this.readModule(3,p-1,l,p)&&(m|=1),m}extractDataRegion(l){const p=this.version.getSymbolSizeRows(),m=this.version.getSymbolSizeColumns();if(l.getHeight()!==p)throw new g("Dimension of bitMatrix must match the version size");const w=this.version.getDataRegionSizeRows(),_=this.version.getDataRegionSizeColumns(),A=p/w|0,O=m/_|0,M=A*w,B=O*_,W=new J(B,M);for(let te=0;te<A;++te){const ce=te*w;for(let Ae=0;Ae<O;++Ae){const je=Ae*_;for(let Pe=0;Pe<w;++Pe){const Be=te*(w+2)+1+Pe,Ze=ce+Pe;for(let ct=0;ct<_;++ct){const ut=Ae*(_+2)+1+ct;if(l.get(ut,Be)){const ot=je+ct;W.set(ot,Ze)}}}}}return W}}class qs{constructor(l,p){this.numDataCodewords=l,this.codewords=p}static getDataBlocks(l,p){const m=p.getECBlocks();let w=0;const _=m.getECBlocks();for(let Pe of _)w+=Pe.getCount();const A=new Array(w);let O=0;for(let Pe of _)for(let Be=0;Be<Pe.getCount();Be++){const Ze=Pe.getDataCodewords(),ct=m.getECCodewords()+Ze;A[O++]=new qs(Ze,new Uint8Array(ct))}const B=A[0].codewords.length-m.getECCodewords(),W=B-1;let te=0;for(let Pe=0;Pe<W;Pe++)for(let Be=0;Be<O;Be++)A[Be].codewords[Pe]=l[te++];const ce=p.getVersionNumber()===24,Ae=ce?8:O;for(let Pe=0;Pe<Ae;Pe++)A[Pe].codewords[B-1]=l[te++];const je=A[0].codewords.length;for(let Pe=B;Pe<je;Pe++)for(let Be=0;Be<O;Be++){const Ze=ce?(Be+8)%O:Be,ct=ce&&Ze>7?Pe-1:Pe;A[Ze].codewords[ct]=l[te++]}if(te!==l.length)throw new g;return A}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ds{constructor(l){this.bytes=l,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(l){if(l<1||l>32||l>this.available())throw new g(""+l);let p=0,m=this.bitOffset,w=this.byteOffset;const _=this.bytes;if(m>0){const A=8-m,O=l<A?l:A,M=A-O,B=255>>8-O<<M;p=(_[w]&B)>>M,l-=O,m+=O,m===8&&(m=0,w++)}if(l>0){for(;l>=8;)p=p<<8|_[w]&255,w++,l-=8;if(l>0){const A=8-l,O=255>>A<<A;p=p<<l|(_[w]&O)>>A,m+=l}}return this.bitOffset=m,this.byteOffset=w,p}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var yr;(function(ee){ee[ee.PAD_ENCODE=0]="PAD_ENCODE",ee[ee.ASCII_ENCODE=1]="ASCII_ENCODE",ee[ee.C40_ENCODE=2]="C40_ENCODE",ee[ee.TEXT_ENCODE=3]="TEXT_ENCODE",ee[ee.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",ee[ee.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",ee[ee.BASE256_ENCODE=6]="BASE256_ENCODE"})(yr||(yr={}));class Ss{static decode(l){const p=new ds(l),m=new ue,w=new ue,_=new Array;let A=yr.ASCII_ENCODE;do if(A===yr.ASCII_ENCODE)A=this.decodeAsciiSegment(p,m,w);else{switch(A){case yr.C40_ENCODE:this.decodeC40Segment(p,m);break;case yr.TEXT_ENCODE:this.decodeTextSegment(p,m);break;case yr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(p,m);break;case yr.EDIFACT_ENCODE:this.decodeEdifactSegment(p,m);break;case yr.BASE256_ENCODE:this.decodeBase256Segment(p,m,_);break;default:throw new $}A=yr.ASCII_ENCODE}while(A!==yr.PAD_ENCODE&&p.available()>0);return w.length()>0&&m.append(w.toString()),new Te(l,m.toString(),_.length===0?null:_,null)}static decodeAsciiSegment(l,p,m){let w=!1;do{let _=l.readBits(8);if(_===0)throw new $;if(_<=128)return w&&(_+=128),p.append(String.fromCharCode(_-1)),yr.ASCII_ENCODE;if(_===129)return yr.PAD_ENCODE;if(_<=229){const A=_-130;A<10&&p.append("0"),p.append(""+A)}else switch(_){case 230:return yr.C40_ENCODE;case 231:return yr.BASE256_ENCODE;case 232:p.append("");break;case 233:case 234:break;case 235:w=!0;break;case 236:p.append("[)>05"),m.insert(0,"");break;case 237:p.append("[)>06"),m.insert(0,"");break;case 238:return yr.ANSIX12_ENCODE;case 239:return yr.TEXT_ENCODE;case 240:return yr.EDIFACT_ENCODE;case 241:break;default:if(_!==254||l.available()!==0)throw new $;break}}while(l.available()>0);return yr.ASCII_ENCODE}static decodeC40Segment(l,p){let m=!1;const w=[];let _=0;do{if(l.available()===8)return;const A=l.readBits(8);if(A===254)return;this.parseTwoBytes(A,l.readBits(8),w);for(let O=0;O<3;O++){const M=w[O];switch(_){case 0:if(M<3)_=M+1;else if(M<this.C40_BASIC_SET_CHARS.length){const B=this.C40_BASIC_SET_CHARS[M];m?(p.append(String.fromCharCode(B.charCodeAt(0)+128)),m=!1):p.append(B)}else throw new $;break;case 1:m?(p.append(String.fromCharCode(M+128)),m=!1):p.append(String.fromCharCode(M)),_=0;break;case 2:if(M<this.C40_SHIFT2_SET_CHARS.length){const B=this.C40_SHIFT2_SET_CHARS[M];m?(p.append(String.fromCharCode(B.charCodeAt(0)+128)),m=!1):p.append(B)}else switch(M){case 27:p.append("");break;case 30:m=!0;break;default:throw new $}_=0;break;case 3:m?(p.append(String.fromCharCode(M+224)),m=!1):p.append(String.fromCharCode(M+96)),_=0;break;default:throw new $}}}while(l.available()>0)}static decodeTextSegment(l,p){let m=!1,w=[],_=0;do{if(l.available()===8)return;const A=l.readBits(8);if(A===254)return;this.parseTwoBytes(A,l.readBits(8),w);for(let O=0;O<3;O++){const M=w[O];switch(_){case 0:if(M<3)_=M+1;else if(M<this.TEXT_BASIC_SET_CHARS.length){const B=this.TEXT_BASIC_SET_CHARS[M];m?(p.append(String.fromCharCode(B.charCodeAt(0)+128)),m=!1):p.append(B)}else throw new $;break;case 1:m?(p.append(String.fromCharCode(M+128)),m=!1):p.append(String.fromCharCode(M)),_=0;break;case 2:if(M<this.TEXT_SHIFT2_SET_CHARS.length){const B=this.TEXT_SHIFT2_SET_CHARS[M];m?(p.append(String.fromCharCode(B.charCodeAt(0)+128)),m=!1):p.append(B)}else switch(M){case 27:p.append("");break;case 30:m=!0;break;default:throw new $}_=0;break;case 3:if(M<this.TEXT_SHIFT3_SET_CHARS.length){const B=this.TEXT_SHIFT3_SET_CHARS[M];m?(p.append(String.fromCharCode(B.charCodeAt(0)+128)),m=!1):p.append(B),_=0}else throw new $;break;default:throw new $}}}while(l.available()>0)}static decodeAnsiX12Segment(l,p){const m=[];do{if(l.available()===8)return;const w=l.readBits(8);if(w===254)return;this.parseTwoBytes(w,l.readBits(8),m);for(let _=0;_<3;_++){const A=m[_];switch(A){case 0:p.append("\r");break;case 1:p.append("*");break;case 2:p.append(">");break;case 3:p.append(" ");break;default:if(A<14)p.append(String.fromCharCode(A+44));else if(A<40)p.append(String.fromCharCode(A+51));else throw new $;break}}}while(l.available()>0)}static parseTwoBytes(l,p,m){let w=(l<<8)+p-1,_=Math.floor(w/1600);m[0]=_,w-=_*1600,_=Math.floor(w/40),m[1]=_,m[2]=w-_*40}static decodeEdifactSegment(l,p){do{if(l.available()<=16)return;for(let m=0;m<4;m++){let w=l.readBits(6);if(w===31){const _=8-l.getBitOffset();_!==8&&l.readBits(_);return}(w&32)===0&&(w|=64),p.append(String.fromCharCode(w))}}while(l.available()>0)}static decodeBase256Segment(l,p,m){let w=1+l.getByteOffset();const _=this.unrandomize255State(l.readBits(8),w++);let A;if(_===0?A=l.available()/8|0:_<250?A=_:A=250*(_-249)+this.unrandomize255State(l.readBits(8),w++),A<0)throw new $;const O=new Uint8Array(A);for(let M=0;M<A;M++){if(l.available()<8)throw new $;O[M]=this.unrandomize255State(l.readBits(8),w++)}m.push(O);try{p.append(H.decode(O,G.ISO88591))}catch(M){throw new ye("Platform does not support required encoding: "+M.message)}}static unrandomize255State(l,p){const m=149*p%255+1,w=l-m;return w>=0?w:w+256}}Ss.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ss.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ss.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ss.TEXT_SHIFT2_SET_CHARS=Ss.C40_SHIFT2_SET_CHARS,Ss.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class io{constructor(){this.rsDecoder=new wt(lt.DATA_MATRIX_FIELD_256)}decode(l){const p=new Ci(l),m=p.getVersion(),w=p.readCodewords(),_=qs.getDataBlocks(w,m);let A=0;for(let B of _)A+=B.getNumDataCodewords();const O=new Uint8Array(A),M=_.length;for(let B=0;B<M;B++){const W=_[B],te=W.getCodewords(),ce=W.getNumDataCodewords();this.correctErrors(te,ce);for(let Ae=0;Ae<ce;Ae++)O[Ae*M+B]=te[Ae]}return Ss.decode(O)}correctErrors(l,p){const m=new Int32Array(l);try{this.rsDecoder.decode(m,l.length-p)}catch{throw new y}for(let w=0;w<p;w++)l[w]=m[w]}}class bn{constructor(l){this.image=l,this.rectangleDetector=new vr(this.image)}detect(){const l=this.rectangleDetector.detect();let p=this.detectSolid1(l);if(p=this.detectSolid2(p),p[3]=this.correctTopRight(p),!p[3])throw new ae;p=this.shiftToModuleCenter(p);const m=p[0],w=p[1],_=p[2],A=p[3];let O=this.transitionsBetween(m,A)+1,M=this.transitionsBetween(_,A)+1;(O&1)===1&&(O+=1),(M&1)===1&&(M+=1),4*O<7*M&&4*M<7*O&&(O=M=Math.max(O,M));let B=bn.sampleGrid(this.image,m,w,_,A,O,M);return new ar(B,[m,w,_,A])}static shiftPoint(l,p,m){let w=(p.getX()-l.getX())/(m+1),_=(p.getY()-l.getY())/(m+1);return new it(l.getX()+w,l.getY()+_)}static moveAway(l,p,m){let w=l.getX(),_=l.getY();return w<p?w-=1:w+=1,_<m?_-=1:_+=1,new it(w,_)}detectSolid1(l){let p=l[0],m=l[1],w=l[3],_=l[2],A=this.transitionsBetween(p,m),O=this.transitionsBetween(m,w),M=this.transitionsBetween(w,_),B=this.transitionsBetween(_,p),W=A,te=[_,p,m,w];return W>O&&(W=O,te[0]=p,te[1]=m,te[2]=w,te[3]=_),W>M&&(W=M,te[0]=m,te[1]=w,te[2]=_,te[3]=p),W>B&&(te[0]=w,te[1]=_,te[2]=p,te[3]=m),te}detectSolid2(l){let p=l[0],m=l[1],w=l[2],_=l[3],A=this.transitionsBetween(p,_),O=bn.shiftPoint(m,w,(A+1)*4),M=bn.shiftPoint(w,m,(A+1)*4),B=this.transitionsBetween(O,p),W=this.transitionsBetween(M,_);return B<W?(l[0]=p,l[1]=m,l[2]=w,l[3]=_):(l[0]=m,l[1]=w,l[2]=_,l[3]=p),l}correctTopRight(l){let p=l[0],m=l[1],w=l[2],_=l[3],A=this.transitionsBetween(p,_),O=this.transitionsBetween(m,_),M=bn.shiftPoint(p,m,(O+1)*4),B=bn.shiftPoint(w,m,(A+1)*4);A=this.transitionsBetween(M,_),O=this.transitionsBetween(B,_);let W=new it(_.getX()+(w.getX()-m.getX())/(A+1),_.getY()+(w.getY()-m.getY())/(A+1)),te=new it(_.getX()+(p.getX()-m.getX())/(O+1),_.getY()+(p.getY()-m.getY())/(O+1));if(!this.isValid(W))return this.isValid(te)?te:null;if(!this.isValid(te))return W;let ce=this.transitionsBetween(M,W)+this.transitionsBetween(B,W),Ae=this.transitionsBetween(M,te)+this.transitionsBetween(B,te);return ce>Ae?W:te}shiftToModuleCenter(l){let p=l[0],m=l[1],w=l[2],_=l[3],A=this.transitionsBetween(p,_)+1,O=this.transitionsBetween(w,_)+1,M=bn.shiftPoint(p,m,O*4),B=bn.shiftPoint(w,m,A*4);A=this.transitionsBetween(M,_)+1,O=this.transitionsBetween(B,_)+1,(A&1)===1&&(A+=1),(O&1)===1&&(O+=1);let W=(p.getX()+m.getX()+w.getX()+_.getX())/4,te=(p.getY()+m.getY()+w.getY()+_.getY())/4;p=bn.moveAway(p,W,te),m=bn.moveAway(m,W,te),w=bn.moveAway(w,W,te),_=bn.moveAway(_,W,te);let ce,Ae;return M=bn.shiftPoint(p,m,O*4),M=bn.shiftPoint(M,_,A*4),ce=bn.shiftPoint(m,p,O*4),ce=bn.shiftPoint(ce,w,A*4),B=bn.shiftPoint(w,_,O*4),B=bn.shiftPoint(B,m,A*4),Ae=bn.shiftPoint(_,w,O*4),Ae=bn.shiftPoint(Ae,p,A*4),[M,ce,B,Ae]}isValid(l){return l.getX()>=0&&l.getX()<this.image.getWidth()&&l.getY()>0&&l.getY()<this.image.getHeight()}static sampleGrid(l,p,m,w,_,A,O){return Nr.getInstance().sampleGrid(l,A,O,.5,.5,A-.5,.5,A-.5,O-.5,.5,O-.5,p.getX(),p.getY(),_.getX(),_.getY(),w.getX(),w.getY(),m.getX(),m.getY())}transitionsBetween(l,p){let m=Math.trunc(l.getX()),w=Math.trunc(l.getY()),_=Math.trunc(p.getX()),A=Math.trunc(p.getY()),O=Math.abs(A-w)>Math.abs(_-m);if(O){let Pe=m;m=w,w=Pe,Pe=_,_=A,A=Pe}let M=Math.abs(_-m),B=Math.abs(A-w),W=-M/2,te=w<A?1:-1,ce=m<_?1:-1,Ae=0,je=this.image.get(O?w:m,O?m:w);for(let Pe=m,Be=w;Pe!==_;Pe+=ce){let Ze=this.image.get(O?Be:Pe,O?Pe:Be);if(Ze!==je&&(Ae++,je=Ze),W+=B,W>0){if(Be===A)break;Be+=te,W-=M}}return Ae}}class As{constructor(){this.decoder=new io}decode(l,p=null){let m,w;if(p!=null&&p.has(X.PURE_BARCODE)){const B=As.extractPureBits(l.getBlackMatrix());m=this.decoder.decode(B),w=As.NO_POINTS}else{const B=new bn(l.getBlackMatrix()).detect();m=this.decoder.decode(B.getBits()),w=B.getPoints()}const _=m.getRawBytes(),A=new me(m.getText(),_,8*_.length,w,we.DATA_MATRIX,N.currentTimeMillis()),O=m.getByteSegments();O!=null&&A.putMetadata(ze.BYTE_SEGMENTS,O);const M=m.getECLevel();return M!=null&&A.putMetadata(ze.ERROR_CORRECTION_LEVEL,M),A}reset(){}static extractPureBits(l){const p=l.getTopLeftOnBit(),m=l.getBottomRightOnBit();if(p==null||m==null)throw new ae;const w=this.moduleSize(p,l);let _=p[1];const A=m[1];let O=p[0];const B=(m[0]-O+1)/w,W=(A-_+1)/w;if(B<=0||W<=0)throw new ae;const te=w/2;_+=te,O+=te;const ce=new J(B,W);for(let Ae=0;Ae<W;Ae++){const je=_+Ae*w;for(let Pe=0;Pe<B;Pe++)l.get(O+Pe*w,je)&&ce.set(Pe,Ae)}return ce}static moduleSize(l,p){const m=p.getWidth();let w=l[0];const _=l[1];for(;w<m&&p.get(w,_);)w++;if(w===m)throw new ae;const A=w-l[0];if(A===0)throw new ae;return A}}As.NO_POINTS=[];class Oi extends le{constructor(l=500){super(new As,l)}}var zn;(function(ee){ee[ee.L=0]="L",ee[ee.M=1]="M",ee[ee.Q=2]="Q",ee[ee.H=3]="H"})(zn||(zn={}));class Or{constructor(l,p,m){this.value=l,this.stringValue=p,this.bits=m,Or.FOR_BITS.set(m,this),Or.FOR_VALUE.set(l,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(l){switch(l){case"L":return Or.L;case"M":return Or.M;case"Q":return Or.Q;case"H":return Or.H;default:throw new h(l+"not available")}}toString(){return this.stringValue}equals(l){if(!(l instanceof Or))return!1;const p=l;return this.value===p.value}static forBits(l){if(l<0||l>=Or.FOR_BITS.size)throw new g;return Or.FOR_BITS.get(l)}}Or.FOR_BITS=new Map,Or.FOR_VALUE=new Map,Or.L=new Or(zn.L,"L",1),Or.M=new Or(zn.M,"M",0),Or.Q=new Or(zn.Q,"Q",3),Or.H=new Or(zn.H,"H",2);class da{constructor(l){this.errorCorrectionLevel=Or.forBits(l>>3&3),this.dataMask=l&7}static numBitsDiffering(l,p){return F.bitCount(l^p)}static decodeFormatInformation(l,p){const m=da.doDecodeFormatInformation(l,p);return m!==null?m:da.doDecodeFormatInformation(l^da.FORMAT_INFO_MASK_QR,p^da.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(l,p){let m=Number.MAX_SAFE_INTEGER,w=0;for(const _ of da.FORMAT_INFO_DECODE_LOOKUP){const A=_[0];if(A===l||A===p)return new da(_[1]);let O=da.numBitsDiffering(l,A);O<m&&(w=_[1],m=O),l!==p&&(O=da.numBitsDiffering(p,A),O<m&&(w=_[1],m=O))}return m<=3?new da(w):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(l){if(!(l instanceof da))return!1;const p=l;return this.errorCorrectionLevel===p.errorCorrectionLevel&&this.dataMask===p.dataMask}}da.FORMAT_INFO_MASK_QR=21522,da.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class $e{constructor(l,...p){this.ecCodewordsPerBlock=l,this.ecBlocks=p}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let l=0;const p=this.ecBlocks;for(const m of p)l+=m.getCount();return l}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _e{constructor(l,p){this.count=l,this.dataCodewords=p}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class jt{constructor(l,p,...m){this.versionNumber=l,this.alignmentPatternCenters=p,this.ecBlocks=m;let w=0;const _=m[0].getECCodewordsPerBlock(),A=m[0].getECBlocks();for(const O of A)w+=O.getCount()*(O.getDataCodewords()+_);this.totalCodewords=w}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(l){return this.ecBlocks[l.getValue()]}static getProvisionalVersionForDimension(l){if(l%4!==1)throw new $;try{return this.getVersionForNumber((l-17)/4)}catch{throw new $}}static getVersionForNumber(l){if(l<1||l>40)throw new g;return jt.VERSIONS[l-1]}static decodeVersionInformation(l){let p=Number.MAX_SAFE_INTEGER,m=0;for(let w=0;w<jt.VERSION_DECODE_INFO.length;w++){const _=jt.VERSION_DECODE_INFO[w];if(_===l)return jt.getVersionForNumber(w+7);const A=da.numBitsDiffering(l,_);A<p&&(m=w+7,p=A)}return p<=3?jt.getVersionForNumber(m):null}buildFunctionPattern(){const l=this.getDimensionForVersion(),p=new J(l);p.setRegion(0,0,9,9),p.setRegion(l-8,0,8,9),p.setRegion(0,l-8,9,8);const m=this.alignmentPatternCenters.length;for(let w=0;w<m;w++){const _=this.alignmentPatternCenters[w]-2;for(let A=0;A<m;A++)w===0&&(A===0||A===m-1)||w===m-1&&A===0||p.setRegion(this.alignmentPatternCenters[A]-2,_,5,5)}return p.setRegion(6,9,1,l-17),p.setRegion(9,6,l-17,1),this.versionNumber>6&&(p.setRegion(l-11,0,3,6),p.setRegion(0,l-11,6,3)),p}toString(){return""+this.versionNumber}}jt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),jt.VERSIONS=[new jt(1,new Int32Array(0),new $e(7,new _e(1,19)),new $e(10,new _e(1,16)),new $e(13,new _e(1,13)),new $e(17,new _e(1,9))),new jt(2,Int32Array.from([6,18]),new $e(10,new _e(1,34)),new $e(16,new _e(1,28)),new $e(22,new _e(1,22)),new $e(28,new _e(1,16))),new jt(3,Int32Array.from([6,22]),new $e(15,new _e(1,55)),new $e(26,new _e(1,44)),new $e(18,new _e(2,17)),new $e(22,new _e(2,13))),new jt(4,Int32Array.from([6,26]),new $e(20,new _e(1,80)),new $e(18,new _e(2,32)),new $e(26,new _e(2,24)),new $e(16,new _e(4,9))),new jt(5,Int32Array.from([6,30]),new $e(26,new _e(1,108)),new $e(24,new _e(2,43)),new $e(18,new _e(2,15),new _e(2,16)),new $e(22,new _e(2,11),new _e(2,12))),new jt(6,Int32Array.from([6,34]),new $e(18,new _e(2,68)),new $e(16,new _e(4,27)),new $e(24,new _e(4,19)),new $e(28,new _e(4,15))),new jt(7,Int32Array.from([6,22,38]),new $e(20,new _e(2,78)),new $e(18,new _e(4,31)),new $e(18,new _e(2,14),new _e(4,15)),new $e(26,new _e(4,13),new _e(1,14))),new jt(8,Int32Array.from([6,24,42]),new $e(24,new _e(2,97)),new $e(22,new _e(2,38),new _e(2,39)),new $e(22,new _e(4,18),new _e(2,19)),new $e(26,new _e(4,14),new _e(2,15))),new jt(9,Int32Array.from([6,26,46]),new $e(30,new _e(2,116)),new $e(22,new _e(3,36),new _e(2,37)),new $e(20,new _e(4,16),new _e(4,17)),new $e(24,new _e(4,12),new _e(4,13))),new jt(10,Int32Array.from([6,28,50]),new $e(18,new _e(2,68),new _e(2,69)),new $e(26,new _e(4,43),new _e(1,44)),new $e(24,new _e(6,19),new _e(2,20)),new $e(28,new _e(6,15),new _e(2,16))),new jt(11,Int32Array.from([6,30,54]),new $e(20,new _e(4,81)),new $e(30,new _e(1,50),new _e(4,51)),new $e(28,new _e(4,22),new _e(4,23)),new $e(24,new _e(3,12),new _e(8,13))),new jt(12,Int32Array.from([6,32,58]),new $e(24,new _e(2,92),new _e(2,93)),new $e(22,new _e(6,36),new _e(2,37)),new $e(26,new _e(4,20),new _e(6,21)),new $e(28,new _e(7,14),new _e(4,15))),new jt(13,Int32Array.from([6,34,62]),new $e(26,new _e(4,107)),new $e(22,new _e(8,37),new _e(1,38)),new $e(24,new _e(8,20),new _e(4,21)),new $e(22,new _e(12,11),new _e(4,12))),new jt(14,Int32Array.from([6,26,46,66]),new $e(30,new _e(3,115),new _e(1,116)),new $e(24,new _e(4,40),new _e(5,41)),new $e(20,new _e(11,16),new _e(5,17)),new $e(24,new _e(11,12),new _e(5,13))),new jt(15,Int32Array.from([6,26,48,70]),new $e(22,new _e(5,87),new _e(1,88)),new $e(24,new _e(5,41),new _e(5,42)),new $e(30,new _e(5,24),new _e(7,25)),new $e(24,new _e(11,12),new _e(7,13))),new jt(16,Int32Array.from([6,26,50,74]),new $e(24,new _e(5,98),new _e(1,99)),new $e(28,new _e(7,45),new _e(3,46)),new $e(24,new _e(15,19),new _e(2,20)),new $e(30,new _e(3,15),new _e(13,16))),new jt(17,Int32Array.from([6,30,54,78]),new $e(28,new _e(1,107),new _e(5,108)),new $e(28,new _e(10,46),new _e(1,47)),new $e(28,new _e(1,22),new _e(15,23)),new $e(28,new _e(2,14),new _e(17,15))),new jt(18,Int32Array.from([6,30,56,82]),new $e(30,new _e(5,120),new _e(1,121)),new $e(26,new _e(9,43),new _e(4,44)),new $e(28,new _e(17,22),new _e(1,23)),new $e(28,new _e(2,14),new _e(19,15))),new jt(19,Int32Array.from([6,30,58,86]),new $e(28,new _e(3,113),new _e(4,114)),new $e(26,new _e(3,44),new _e(11,45)),new $e(26,new _e(17,21),new _e(4,22)),new $e(26,new _e(9,13),new _e(16,14))),new jt(20,Int32Array.from([6,34,62,90]),new $e(28,new _e(3,107),new _e(5,108)),new $e(26,new _e(3,41),new _e(13,42)),new $e(30,new _e(15,24),new _e(5,25)),new $e(28,new _e(15,15),new _e(10,16))),new jt(21,Int32Array.from([6,28,50,72,94]),new $e(28,new _e(4,116),new _e(4,117)),new $e(26,new _e(17,42)),new $e(28,new _e(17,22),new _e(6,23)),new $e(30,new _e(19,16),new _e(6,17))),new jt(22,Int32Array.from([6,26,50,74,98]),new $e(28,new _e(2,111),new _e(7,112)),new $e(28,new _e(17,46)),new $e(30,new _e(7,24),new _e(16,25)),new $e(24,new _e(34,13))),new jt(23,Int32Array.from([6,30,54,78,102]),new $e(30,new _e(4,121),new _e(5,122)),new $e(28,new _e(4,47),new _e(14,48)),new $e(30,new _e(11,24),new _e(14,25)),new $e(30,new _e(16,15),new _e(14,16))),new jt(24,Int32Array.from([6,28,54,80,106]),new $e(30,new _e(6,117),new _e(4,118)),new $e(28,new _e(6,45),new _e(14,46)),new $e(30,new _e(11,24),new _e(16,25)),new $e(30,new _e(30,16),new _e(2,17))),new jt(25,Int32Array.from([6,32,58,84,110]),new $e(26,new _e(8,106),new _e(4,107)),new $e(28,new _e(8,47),new _e(13,48)),new $e(30,new _e(7,24),new _e(22,25)),new $e(30,new _e(22,15),new _e(13,16))),new jt(26,Int32Array.from([6,30,58,86,114]),new $e(28,new _e(10,114),new _e(2,115)),new $e(28,new _e(19,46),new _e(4,47)),new $e(28,new _e(28,22),new _e(6,23)),new $e(30,new _e(33,16),new _e(4,17))),new jt(27,Int32Array.from([6,34,62,90,118]),new $e(30,new _e(8,122),new _e(4,123)),new $e(28,new _e(22,45),new _e(3,46)),new $e(30,new _e(8,23),new _e(26,24)),new $e(30,new _e(12,15),new _e(28,16))),new jt(28,Int32Array.from([6,26,50,74,98,122]),new $e(30,new _e(3,117),new _e(10,118)),new $e(28,new _e(3,45),new _e(23,46)),new $e(30,new _e(4,24),new _e(31,25)),new $e(30,new _e(11,15),new _e(31,16))),new jt(29,Int32Array.from([6,30,54,78,102,126]),new $e(30,new _e(7,116),new _e(7,117)),new $e(28,new _e(21,45),new _e(7,46)),new $e(30,new _e(1,23),new _e(37,24)),new $e(30,new _e(19,15),new _e(26,16))),new jt(30,Int32Array.from([6,26,52,78,104,130]),new $e(30,new _e(5,115),new _e(10,116)),new $e(28,new _e(19,47),new _e(10,48)),new $e(30,new _e(15,24),new _e(25,25)),new $e(30,new _e(23,15),new _e(25,16))),new jt(31,Int32Array.from([6,30,56,82,108,134]),new $e(30,new _e(13,115),new _e(3,116)),new $e(28,new _e(2,46),new _e(29,47)),new $e(30,new _e(42,24),new _e(1,25)),new $e(30,new _e(23,15),new _e(28,16))),new jt(32,Int32Array.from([6,34,60,86,112,138]),new $e(30,new _e(17,115)),new $e(28,new _e(10,46),new _e(23,47)),new $e(30,new _e(10,24),new _e(35,25)),new $e(30,new _e(19,15),new _e(35,16))),new jt(33,Int32Array.from([6,30,58,86,114,142]),new $e(30,new _e(17,115),new _e(1,116)),new $e(28,new _e(14,46),new _e(21,47)),new $e(30,new _e(29,24),new _e(19,25)),new $e(30,new _e(11,15),new _e(46,16))),new jt(34,Int32Array.from([6,34,62,90,118,146]),new $e(30,new _e(13,115),new _e(6,116)),new $e(28,new _e(14,46),new _e(23,47)),new $e(30,new _e(44,24),new _e(7,25)),new $e(30,new _e(59,16),new _e(1,17))),new jt(35,Int32Array.from([6,30,54,78,102,126,150]),new $e(30,new _e(12,121),new _e(7,122)),new $e(28,new _e(12,47),new _e(26,48)),new $e(30,new _e(39,24),new _e(14,25)),new $e(30,new _e(22,15),new _e(41,16))),new jt(36,Int32Array.from([6,24,50,76,102,128,154]),new $e(30,new _e(6,121),new _e(14,122)),new $e(28,new _e(6,47),new _e(34,48)),new $e(30,new _e(46,24),new _e(10,25)),new $e(30,new _e(2,15),new _e(64,16))),new jt(37,Int32Array.from([6,28,54,80,106,132,158]),new $e(30,new _e(17,122),new _e(4,123)),new $e(28,new _e(29,46),new _e(14,47)),new $e(30,new _e(49,24),new _e(10,25)),new $e(30,new _e(24,15),new _e(46,16))),new jt(38,Int32Array.from([6,32,58,84,110,136,162]),new $e(30,new _e(4,122),new _e(18,123)),new $e(28,new _e(13,46),new _e(32,47)),new $e(30,new _e(48,24),new _e(14,25)),new $e(30,new _e(42,15),new _e(32,16))),new jt(39,Int32Array.from([6,26,54,82,110,138,166]),new $e(30,new _e(20,117),new _e(4,118)),new $e(28,new _e(40,47),new _e(7,48)),new $e(30,new _e(43,24),new _e(22,25)),new $e(30,new _e(10,15),new _e(67,16))),new jt(40,Int32Array.from([6,30,58,86,114,142,170]),new $e(30,new _e(19,118),new _e(6,119)),new $e(28,new _e(18,47),new _e(31,48)),new $e(30,new _e(34,24),new _e(34,25)),new $e(30,new _e(20,15),new _e(61,16)))];var ra;(function(ee){ee[ee.DATA_MASK_000=0]="DATA_MASK_000",ee[ee.DATA_MASK_001=1]="DATA_MASK_001",ee[ee.DATA_MASK_010=2]="DATA_MASK_010",ee[ee.DATA_MASK_011=3]="DATA_MASK_011",ee[ee.DATA_MASK_100=4]="DATA_MASK_100",ee[ee.DATA_MASK_101=5]="DATA_MASK_101",ee[ee.DATA_MASK_110=6]="DATA_MASK_110",ee[ee.DATA_MASK_111=7]="DATA_MASK_111"})(ra||(ra={}));class gi{constructor(l,p){this.value=l,this.isMasked=p}unmaskBitMatrix(l,p){for(let m=0;m<p;m++)for(let w=0;w<p;w++)this.isMasked(m,w)&&l.flip(w,m)}}gi.values=new Map([[ra.DATA_MASK_000,new gi(ra.DATA_MASK_000,(ee,l)=>(ee+l&1)===0)],[ra.DATA_MASK_001,new gi(ra.DATA_MASK_001,(ee,l)=>(ee&1)===0)],[ra.DATA_MASK_010,new gi(ra.DATA_MASK_010,(ee,l)=>l%3===0)],[ra.DATA_MASK_011,new gi(ra.DATA_MASK_011,(ee,l)=>(ee+l)%3===0)],[ra.DATA_MASK_100,new gi(ra.DATA_MASK_100,(ee,l)=>(Math.floor(ee/2)+Math.floor(l/3)&1)===0)],[ra.DATA_MASK_101,new gi(ra.DATA_MASK_101,(ee,l)=>ee*l%6===0)],[ra.DATA_MASK_110,new gi(ra.DATA_MASK_110,(ee,l)=>ee*l%6<3)],[ra.DATA_MASK_111,new gi(ra.DATA_MASK_111,(ee,l)=>(ee+l+ee*l%3&1)===0)]]);class Hs{constructor(l){const p=l.getHeight();if(p<21||(p&3)!==1)throw new $;this.bitMatrix=l}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let l=0;for(let _=0;_<6;_++)l=this.copyBit(_,8,l);l=this.copyBit(7,8,l),l=this.copyBit(8,8,l),l=this.copyBit(8,7,l);for(let _=5;_>=0;_--)l=this.copyBit(8,_,l);const p=this.bitMatrix.getHeight();let m=0;const w=p-7;for(let _=p-1;_>=w;_--)m=this.copyBit(8,_,m);for(let _=p-8;_<p;_++)m=this.copyBit(_,8,m);if(this.parsedFormatInfo=da.decodeFormatInformation(l,m),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new $}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const l=this.bitMatrix.getHeight(),p=Math.floor((l-17)/4);if(p<=6)return jt.getVersionForNumber(p);let m=0;const w=l-11;for(let A=5;A>=0;A--)for(let O=l-9;O>=w;O--)m=this.copyBit(O,A,m);let _=jt.decodeVersionInformation(m);if(_!==null&&_.getDimensionForVersion()===l)return this.parsedVersion=_,_;m=0;for(let A=5;A>=0;A--)for(let O=l-9;O>=w;O--)m=this.copyBit(A,O,m);if(_=jt.decodeVersionInformation(m),_!==null&&_.getDimensionForVersion()===l)return this.parsedVersion=_,_;throw new $}copyBit(l,p,m){return(this.isMirror?this.bitMatrix.get(p,l):this.bitMatrix.get(l,p))?m<<1|1:m<<1}readCodewords(){const l=this.readFormatInformation(),p=this.readVersion(),m=gi.values.get(l.getDataMask()),w=this.bitMatrix.getHeight();m.unmaskBitMatrix(this.bitMatrix,w);const _=p.buildFunctionPattern();let A=!0;const O=new Uint8Array(p.getTotalCodewords());let M=0,B=0,W=0;for(let te=w-1;te>0;te-=2){te===6&&te--;for(let ce=0;ce<w;ce++){const Ae=A?w-1-ce:ce;for(let je=0;je<2;je++)_.get(te-je,Ae)||(W++,B<<=1,this.bitMatrix.get(te-je,Ae)&&(B|=1),W===8&&(O[M++]=B,W=0,B=0))}A=!A}if(M!==p.getTotalCodewords())throw new $;return O}remask(){if(this.parsedFormatInfo===null)return;const l=gi.values[this.parsedFormatInfo.getDataMask()],p=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,p)}setMirror(l){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=l}mirror(){const l=this.bitMatrix;for(let p=0,m=l.getWidth();p<m;p++)for(let w=p+1,_=l.getHeight();w<_;w++)l.get(p,w)!==l.get(w,p)&&(l.flip(w,p),l.flip(p,w))}}class Po{constructor(l,p){this.numDataCodewords=l,this.codewords=p}static getDataBlocks(l,p,m){if(l.length!==p.getTotalCodewords())throw new g;const w=p.getECBlocksForLevel(m);let _=0;const A=w.getECBlocks();for(const je of A)_+=je.getCount();const O=new Array(_);let M=0;for(const je of A)for(let Pe=0;Pe<je.getCount();Pe++){const Be=je.getDataCodewords(),Ze=w.getECCodewordsPerBlock()+Be;O[M++]=new Po(Be,new Uint8Array(Ze))}const B=O[0].codewords.length;let W=O.length-1;for(;W>=0&&O[W].codewords.length!==B;)W--;W++;const te=B-w.getECCodewordsPerBlock();let ce=0;for(let je=0;je<te;je++)for(let Pe=0;Pe<M;Pe++)O[Pe].codewords[je]=l[ce++];for(let je=W;je<M;je++)O[je].codewords[te]=l[ce++];const Ae=O[0].codewords.length;for(let je=te;je<Ae;je++)for(let Pe=0;Pe<M;Pe++){const Be=Pe<W?je:je+1;O[Pe].codewords[Be]=l[ce++]}return O}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ti;(function(ee){ee[ee.TERMINATOR=0]="TERMINATOR",ee[ee.NUMERIC=1]="NUMERIC",ee[ee.ALPHANUMERIC=2]="ALPHANUMERIC",ee[ee.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",ee[ee.BYTE=4]="BYTE",ee[ee.ECI=5]="ECI",ee[ee.KANJI=6]="KANJI",ee[ee.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",ee[ee.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",ee[ee.HANZI=9]="HANZI"})(Ti||(Ti={}));class rr{constructor(l,p,m,w){this.value=l,this.stringValue=p,this.characterCountBitsForVersions=m,this.bits=w,rr.FOR_BITS.set(w,this),rr.FOR_VALUE.set(l,this)}static forBits(l){const p=rr.FOR_BITS.get(l);if(p===void 0)throw new g;return p}getCharacterCountBits(l){const p=l.getVersionNumber();let m;return p<=9?m=0:p<=26?m=1:m=2,this.characterCountBitsForVersions[m]}getValue(){return this.value}getBits(){return this.bits}equals(l){if(!(l instanceof rr))return!1;const p=l;return this.value===p.value}toString(){return this.stringValue}}rr.FOR_BITS=new Map,rr.FOR_VALUE=new Map,rr.TERMINATOR=new rr(Ti.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),rr.NUMERIC=new rr(Ti.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),rr.ALPHANUMERIC=new rr(Ti.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),rr.STRUCTURED_APPEND=new rr(Ti.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),rr.BYTE=new rr(Ti.BYTE,"BYTE",Int32Array.from([8,16,16]),4),rr.ECI=new rr(Ti.ECI,"ECI",Int32Array.from([0,0,0]),7),rr.KANJI=new rr(Ti.KANJI,"KANJI",Int32Array.from([8,10,12]),8),rr.FNC1_FIRST_POSITION=new rr(Ti.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),rr.FNC1_SECOND_POSITION=new rr(Ti.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),rr.HANZI=new rr(Ti.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class _n{static decode(l,p,m,w){const _=new ds(l);let A=new ue;const O=new Array;let M=-1,B=-1;try{let W=null,te=!1,ce;do{if(_.available()<4)ce=rr.TERMINATOR;else{const Ae=_.readBits(4);ce=rr.forBits(Ae)}switch(ce){case rr.TERMINATOR:break;case rr.FNC1_FIRST_POSITION:case rr.FNC1_SECOND_POSITION:te=!0;break;case rr.STRUCTURED_APPEND:if(_.available()<16)throw new $;M=_.readBits(8),B=_.readBits(8);break;case rr.ECI:const Ae=_n.parseECIValue(_);if(W=q.getCharacterSetECIByValue(Ae),W===null)throw new $;break;case rr.HANZI:const je=_.readBits(4),Pe=_.readBits(ce.getCharacterCountBits(p));je===_n.GB2312_SUBSET&&_n.decodeHanziSegment(_,A,Pe);break;default:const Be=_.readBits(ce.getCharacterCountBits(p));switch(ce){case rr.NUMERIC:_n.decodeNumericSegment(_,A,Be);break;case rr.ALPHANUMERIC:_n.decodeAlphanumericSegment(_,A,Be,te);break;case rr.BYTE:_n.decodeByteSegment(_,A,Be,W,O,w);break;case rr.KANJI:_n.decodeKanjiSegment(_,A,Be);break;default:throw new $}break}}while(ce!==rr.TERMINATOR)}catch{throw new $}return new Te(l,A.toString(),O.length===0?null:O,m===null?null:m.toString(),M,B)}static decodeHanziSegment(l,p,m){if(m*13>l.available())throw new $;const w=new Uint8Array(2*m);let _=0;for(;m>0;){const A=l.readBits(13);let O=A/96<<8&4294967295|A%96;O<959?O+=41377:O+=42657,w[_]=O>>8&255,w[_+1]=O&255,_+=2,m--}try{p.append(H.decode(w,G.GB2312))}catch(A){throw new $(A)}}static decodeKanjiSegment(l,p,m){if(m*13>l.available())throw new $;const w=new Uint8Array(2*m);let _=0;for(;m>0;){const A=l.readBits(13);let O=A/192<<8&4294967295|A%192;O<7936?O+=33088:O+=49472,w[_]=O>>8,w[_+1]=O,_+=2,m--}try{p.append(H.decode(w,G.SHIFT_JIS))}catch(A){throw new $(A)}}static decodeByteSegment(l,p,m,w,_,A){if(8*m>l.available())throw new $;const O=new Uint8Array(m);for(let B=0;B<m;B++)O[B]=l.readBits(8);let M;w===null?M=G.guessEncoding(O,A):M=w.getName();try{p.append(H.decode(O,M))}catch(B){throw new $(B)}_.push(O)}static toAlphaNumericChar(l){if(l>=_n.ALPHANUMERIC_CHARS.length)throw new $;return _n.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,p,m,w){const _=p.length();for(;m>1;){if(l.available()<11)throw new $;const A=l.readBits(11);p.append(_n.toAlphaNumericChar(Math.floor(A/45))),p.append(_n.toAlphaNumericChar(A%45)),m-=2}if(m===1){if(l.available()<6)throw new $;p.append(_n.toAlphaNumericChar(l.readBits(6)))}if(w)for(let A=_;A<p.length();A++)p.charAt(A)==="%"&&(A<p.length()-1&&p.charAt(A+1)==="%"?p.deleteCharAt(A+1):p.setCharAt(A,""))}static decodeNumericSegment(l,p,m){for(;m>=3;){if(l.available()<10)throw new $;const w=l.readBits(10);if(w>=1e3)throw new $;p.append(_n.toAlphaNumericChar(Math.floor(w/100))),p.append(_n.toAlphaNumericChar(Math.floor(w/10)%10)),p.append(_n.toAlphaNumericChar(w%10)),m-=3}if(m===2){if(l.available()<7)throw new $;const w=l.readBits(7);if(w>=100)throw new $;p.append(_n.toAlphaNumericChar(Math.floor(w/10))),p.append(_n.toAlphaNumericChar(w%10))}else if(m===1){if(l.available()<4)throw new $;const w=l.readBits(4);if(w>=10)throw new $;p.append(_n.toAlphaNumericChar(w))}}static parseECIValue(l){const p=l.readBits(8);if((p&128)===0)return p&127;if((p&192)===128){const m=l.readBits(8);return(p&63)<<8&4294967295|m}if((p&224)===192){const m=l.readBits(16);return(p&31)<<16&4294967295|m}throw new $}}_n.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",_n.GB2312_SUBSET=1;class dc{constructor(l){this.mirrored=l}isMirrored(){return this.mirrored}applyMirroredCorrection(l){if(!this.mirrored||l===null||l.length<3)return;const p=l[0];l[0]=l[2],l[2]=p}}class $u{constructor(){this.rsDecoder=new wt(lt.QR_CODE_FIELD_256)}decodeBooleanArray(l,p){return this.decodeBitMatrix(J.parseFromBooleanArray(l),p)}decodeBitMatrix(l,p){const m=new Hs(l);let w=null;try{return this.decodeBitMatrixParser(m,p)}catch(_){w=_}try{m.remask(),m.setMirror(!0),m.readVersion(),m.readFormatInformation(),m.mirror();const _=this.decodeBitMatrixParser(m,p);return _.setOther(new dc(!0)),_}catch(_){throw w!==null?w:_}}decodeBitMatrixParser(l,p){const m=l.readVersion(),w=l.readFormatInformation().getErrorCorrectionLevel(),_=l.readCodewords(),A=Po.getDataBlocks(_,m,w);let O=0;for(const W of A)O+=W.getNumDataCodewords();const M=new Uint8Array(O);let B=0;for(const W of A){const te=W.getCodewords(),ce=W.getNumDataCodewords();this.correctErrors(te,ce);for(let Ae=0;Ae<ce;Ae++)M[B++]=te[Ae]}return _n.decode(M,m,w,p)}correctErrors(l,p){const m=new Int32Array(l);try{this.rsDecoder.decode(m,l.length-p)}catch{throw new y}for(let w=0;w<p;w++)l[w]=m[w]}}class vi extends it{constructor(l,p,m){super(l,p),this.estimatedModuleSize=m}aboutEquals(l,p,m){if(Math.abs(p-this.getY())<=l&&Math.abs(m-this.getX())<=l){const w=Math.abs(l-this.estimatedModuleSize);return w<=1||w<=this.estimatedModuleSize}return!1}combineEstimate(l,p,m){const w=(this.getX()+p)/2,_=(this.getY()+l)/2,A=(this.estimatedModuleSize+m)/2;return new vi(w,_,A)}}class Gi{constructor(l,p,m,w,_,A,O){this.image=l,this.startX=p,this.startY=m,this.width=w,this.height=_,this.moduleSize=A,this.resultPointCallback=O,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const l=this.startX,p=this.height,m=this.width,w=l+m,_=this.startY+p/2,A=new Int32Array(3),O=this.image;for(let M=0;M<p;M++){const B=_+((M&1)===0?Math.floor((M+1)/2):-Math.floor((M+1)/2));A[0]=0,A[1]=0,A[2]=0;let W=l;for(;W<w&&!O.get(W,B);)W++;let te=0;for(;W<w;){if(O.get(W,B))if(te===1)A[1]++;else if(te===2){if(this.foundPatternCross(A)){const ce=this.handlePossibleCenter(A,B,W);if(ce!==null)return ce}A[0]=A[2],A[1]=1,A[2]=0,te=1}else A[++te]++;else te===1&&te++,A[te]++;W++}if(this.foundPatternCross(A)){const ce=this.handlePossibleCenter(A,B,w);if(ce!==null)return ce}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ae}static centerFromEnd(l,p){return p-l[2]-l[1]/2}foundPatternCross(l){const p=this.moduleSize,m=p/2;for(let w=0;w<3;w++)if(Math.abs(p-l[w])>=m)return!1;return!0}crossCheckVertical(l,p,m,w){const _=this.image,A=_.getHeight(),O=this.crossCheckStateCount;O[0]=0,O[1]=0,O[2]=0;let M=l;for(;M>=0&&_.get(p,M)&&O[1]<=m;)O[1]++,M--;if(M<0||O[1]>m)return NaN;for(;M>=0&&!_.get(p,M)&&O[0]<=m;)O[0]++,M--;if(O[0]>m)return NaN;for(M=l+1;M<A&&_.get(p,M)&&O[1]<=m;)O[1]++,M++;if(M===A||O[1]>m)return NaN;for(;M<A&&!_.get(p,M)&&O[2]<=m;)O[2]++,M++;if(O[2]>m)return NaN;const B=O[0]+O[1]+O[2];return 5*Math.abs(B-w)>=2*w?NaN:this.foundPatternCross(O)?Gi.centerFromEnd(O,M):NaN}handlePossibleCenter(l,p,m){const w=l[0]+l[1]+l[2],_=Gi.centerFromEnd(l,m),A=this.crossCheckVertical(p,_,2*l[1],w);if(!isNaN(A)){const O=(l[0]+l[1]+l[2])/3;for(const B of this.possibleCenters)if(B.aboutEquals(O,A,_))return B.combineEstimate(A,_,O);const M=new vi(_,A,O);this.possibleCenters.push(M),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(M)}return null}}class Gs extends it{constructor(l,p,m,w){super(l,p),this.estimatedModuleSize=m,this.count=w,w===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(l,p,m){if(Math.abs(p-this.getY())<=l&&Math.abs(m-this.getX())<=l){const w=Math.abs(l-this.estimatedModuleSize);return w<=1||w<=this.estimatedModuleSize}return!1}combineEstimate(l,p,m){const w=this.count+1,_=(this.count*this.getX()+p)/w,A=(this.count*this.getY()+l)/w,O=(this.count*this.estimatedModuleSize+m)/w;return new Gs(_,A,O,w)}}class jl{constructor(l){this.bottomLeft=l[0],this.topLeft=l[1],this.topRight=l[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class In{constructor(l,p){this.image=l,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=p}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const p=l!=null&&l.get(X.TRY_HARDER)!==void 0,m=l!=null&&l.get(X.PURE_BARCODE)!==void 0,w=this.image,_=w.getHeight(),A=w.getWidth();let O=Math.floor(3*_/(4*In.MAX_MODULES));(O<In.MIN_SKIP||p)&&(O=In.MIN_SKIP);let M=!1;const B=new Int32Array(5);for(let te=O-1;te<_&&!M;te+=O){B[0]=0,B[1]=0,B[2]=0,B[3]=0,B[4]=0;let ce=0;for(let Ae=0;Ae<A;Ae++)if(w.get(Ae,te))(ce&1)===1&&ce++,B[ce]++;else if((ce&1)===0)if(ce===4)if(In.foundPatternCross(B)){if(this.handlePossibleCenter(B,te,Ae,m)===!0)if(O=2,this.hasSkipped===!0)M=this.haveMultiplyConfirmedCenters();else{const Pe=this.findRowSkip();Pe>B[2]&&(te+=Pe-B[2]-O,Ae=A-1)}else{B[0]=B[2],B[1]=B[3],B[2]=B[4],B[3]=1,B[4]=0,ce=3;continue}ce=0,B[0]=0,B[1]=0,B[2]=0,B[3]=0,B[4]=0}else B[0]=B[2],B[1]=B[3],B[2]=B[4],B[3]=1,B[4]=0,ce=3;else B[++ce]++;else B[ce]++;In.foundPatternCross(B)&&this.handlePossibleCenter(B,te,A,m)===!0&&(O=B[0],this.hasSkipped&&(M=this.haveMultiplyConfirmedCenters()))}const W=this.selectBestPatterns();return it.orderBestPatterns(W),new jl(W)}static centerFromEnd(l,p){return p-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let p=0;for(let _=0;_<5;_++){const A=l[_];if(A===0)return!1;p+=A}if(p<7)return!1;const m=p/7,w=m/2;return Math.abs(m-l[0])<w&&Math.abs(m-l[1])<w&&Math.abs(3*m-l[2])<3*w&&Math.abs(m-l[3])<w&&Math.abs(m-l[4])<w}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,p,m,w){const _=this.getCrossCheckStateCount();let A=0;const O=this.image;for(;l>=A&&p>=A&&O.get(p-A,l-A);)_[2]++,A++;if(l<A||p<A)return!1;for(;l>=A&&p>=A&&!O.get(p-A,l-A)&&_[1]<=m;)_[1]++,A++;if(l<A||p<A||_[1]>m)return!1;for(;l>=A&&p>=A&&O.get(p-A,l-A)&&_[0]<=m;)_[0]++,A++;if(_[0]>m)return!1;const M=O.getHeight(),B=O.getWidth();for(A=1;l+A<M&&p+A<B&&O.get(p+A,l+A);)_[2]++,A++;if(l+A>=M||p+A>=B)return!1;for(;l+A<M&&p+A<B&&!O.get(p+A,l+A)&&_[3]<m;)_[3]++,A++;if(l+A>=M||p+A>=B||_[3]>=m)return!1;for(;l+A<M&&p+A<B&&O.get(p+A,l+A)&&_[4]<m;)_[4]++,A++;if(_[4]>=m)return!1;const W=_[0]+_[1]+_[2]+_[3]+_[4];return Math.abs(W-w)<2*w&&In.foundPatternCross(_)}crossCheckVertical(l,p,m,w){const _=this.image,A=_.getHeight(),O=this.getCrossCheckStateCount();let M=l;for(;M>=0&&_.get(p,M);)O[2]++,M--;if(M<0)return NaN;for(;M>=0&&!_.get(p,M)&&O[1]<=m;)O[1]++,M--;if(M<0||O[1]>m)return NaN;for(;M>=0&&_.get(p,M)&&O[0]<=m;)O[0]++,M--;if(O[0]>m)return NaN;for(M=l+1;M<A&&_.get(p,M);)O[2]++,M++;if(M===A)return NaN;for(;M<A&&!_.get(p,M)&&O[3]<m;)O[3]++,M++;if(M===A||O[3]>=m)return NaN;for(;M<A&&_.get(p,M)&&O[4]<m;)O[4]++,M++;if(O[4]>=m)return NaN;const B=O[0]+O[1]+O[2]+O[3]+O[4];return 5*Math.abs(B-w)>=2*w?NaN:In.foundPatternCross(O)?In.centerFromEnd(O,M):NaN}crossCheckHorizontal(l,p,m,w){const _=this.image,A=_.getWidth(),O=this.getCrossCheckStateCount();let M=l;for(;M>=0&&_.get(M,p);)O[2]++,M--;if(M<0)return NaN;for(;M>=0&&!_.get(M,p)&&O[1]<=m;)O[1]++,M--;if(M<0||O[1]>m)return NaN;for(;M>=0&&_.get(M,p)&&O[0]<=m;)O[0]++,M--;if(O[0]>m)return NaN;for(M=l+1;M<A&&_.get(M,p);)O[2]++,M++;if(M===A)return NaN;for(;M<A&&!_.get(M,p)&&O[3]<m;)O[3]++,M++;if(M===A||O[3]>=m)return NaN;for(;M<A&&_.get(M,p)&&O[4]<m;)O[4]++,M++;if(O[4]>=m)return NaN;const B=O[0]+O[1]+O[2]+O[3]+O[4];return 5*Math.abs(B-w)>=w?NaN:In.foundPatternCross(O)?In.centerFromEnd(O,M):NaN}handlePossibleCenter(l,p,m,w){const _=l[0]+l[1]+l[2]+l[3]+l[4];let A=In.centerFromEnd(l,m),O=this.crossCheckVertical(p,Math.floor(A),l[2],_);if(!isNaN(O)&&(A=this.crossCheckHorizontal(Math.floor(A),Math.floor(O),l[2],_),!isNaN(A)&&(!w||this.crossCheckDiagonal(Math.floor(O),Math.floor(A),l[2],_)))){const M=_/7;let B=!1;const W=this.possibleCenters;for(let te=0,ce=W.length;te<ce;te++){const Ae=W[te];if(Ae.aboutEquals(M,O,A)){W[te]=Ae.combineEstimate(O,A,M),B=!0;break}}if(!B){const te=new Gs(A,O,M);W.push(te),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(te)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let p=null;for(const m of this.possibleCenters)if(m.getCount()>=In.CENTER_QUORUM)if(p==null)p=m;else return this.hasSkipped=!0,Math.floor((Math.abs(p.getX()-m.getX())-Math.abs(p.getY()-m.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let l=0,p=0;const m=this.possibleCenters.length;for(const A of this.possibleCenters)A.getCount()>=In.CENTER_QUORUM&&(l++,p+=A.getEstimatedModuleSize());if(l<3)return!1;const w=p/m;let _=0;for(const A of this.possibleCenters)_+=Math.abs(A.getEstimatedModuleSize()-w);return _<=.05*p}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new ae;const p=this.possibleCenters;let m;if(l>3){let w=0,_=0;for(const M of this.possibleCenters){const B=M.getEstimatedModuleSize();w+=B,_+=B*B}m=w/l;let A=Math.sqrt(_/l-m*m);p.sort((M,B)=>{const W=Math.abs(B.getEstimatedModuleSize()-m),te=Math.abs(M.getEstimatedModuleSize()-m);return W<te?-1:W>te?1:0});const O=Math.max(.2*m,A);for(let M=0;M<p.length&&p.length>3;M++){const B=p[M];Math.abs(B.getEstimatedModuleSize()-m)>O&&(p.splice(M,1),M--)}}if(p.length>3){let w=0;for(const _ of p)w+=_.getEstimatedModuleSize();m=w/p.length,p.sort((_,A)=>{if(A.getCount()===_.getCount()){const O=Math.abs(A.getEstimatedModuleSize()-m),M=Math.abs(_.getEstimatedModuleSize()-m);return O<M?1:O>M?-1:0}else return A.getCount()-_.getCount()}),p.splice(3)}return[p[0],p[1],p[2]]}}In.CENTER_QUORUM=2,In.MIN_SKIP=3,In.MAX_MODULES=57;class cr{constructor(l){this.image=l}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(l){this.resultPointCallback=l==null?null:l.get(X.NEED_RESULT_POINT_CALLBACK);const m=new In(this.image,this.resultPointCallback).find(l);return this.processFinderPatternInfo(m)}processFinderPatternInfo(l){const p=l.getTopLeft(),m=l.getTopRight(),w=l.getBottomLeft(),_=this.calculateModuleSize(p,m,w);if(_<1)throw new ae("No pattern found in proccess finder.");const A=cr.computeDimension(p,m,w,_),O=jt.getProvisionalVersionForDimension(A),M=O.getDimensionForVersion()-7;let B=null;if(O.getAlignmentPatternCenters().length>0){const Ae=m.getX()-p.getX()+w.getX(),je=m.getY()-p.getY()+w.getY(),Pe=1-3/M,Be=Math.floor(p.getX()+Pe*(Ae-p.getX())),Ze=Math.floor(p.getY()+Pe*(je-p.getY()));for(let ct=4;ct<=16;ct<<=1)try{B=this.findAlignmentInRegion(_,Be,Ze,ct);break}catch(ut){if(!(ut instanceof ae))throw ut}}const W=cr.createTransform(p,m,w,B,A),te=cr.sampleGrid(this.image,W,A);let ce;return B===null?ce=[w,p,m]:ce=[w,p,m,B],new ar(te,ce)}static createTransform(l,p,m,w,_){const A=_-3.5;let O,M,B,W;return w!==null?(O=w.getX(),M=w.getY(),B=A-3,W=B):(O=p.getX()-l.getX()+m.getX(),M=p.getY()-l.getY()+m.getY(),B=A,W=A),lr.quadrilateralToQuadrilateral(3.5,3.5,A,3.5,B,W,3.5,A,l.getX(),l.getY(),p.getX(),p.getY(),O,M,m.getX(),m.getY())}static sampleGrid(l,p,m){return Nr.getInstance().sampleGridWithTransform(l,m,m,p)}static computeDimension(l,p,m,w){const _=rt.round(it.distance(l,p)/w),A=rt.round(it.distance(l,m)/w);let O=Math.floor((_+A)/2)+7;switch(O&3){case 0:O++;break;case 2:O--;break;case 3:throw new ae("Dimensions could be not found.")}return O}calculateModuleSize(l,p,m){return(this.calculateModuleSizeOneWay(l,p)+this.calculateModuleSizeOneWay(l,m))/2}calculateModuleSizeOneWay(l,p){const m=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(p.getX()),Math.floor(p.getY())),w=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(p.getX()),Math.floor(p.getY()),Math.floor(l.getX()),Math.floor(l.getY()));return isNaN(m)?w/7:isNaN(w)?m/7:(m+w)/14}sizeOfBlackWhiteBlackRunBothWays(l,p,m,w){let _=this.sizeOfBlackWhiteBlackRun(l,p,m,w),A=1,O=l-(m-l);O<0?(A=l/(l-O),O=0):O>=this.image.getWidth()&&(A=(this.image.getWidth()-1-l)/(O-l),O=this.image.getWidth()-1);let M=Math.floor(p-(w-p)*A);return A=1,M<0?(A=p/(p-M),M=0):M>=this.image.getHeight()&&(A=(this.image.getHeight()-1-p)/(M-p),M=this.image.getHeight()-1),O=Math.floor(l+(O-l)*A),_+=this.sizeOfBlackWhiteBlackRun(l,p,O,M),_-1}sizeOfBlackWhiteBlackRun(l,p,m,w){const _=Math.abs(w-p)>Math.abs(m-l);if(_){let Ae=l;l=p,p=Ae,Ae=m,m=w,w=Ae}const A=Math.abs(m-l),O=Math.abs(w-p);let M=-A/2;const B=l<m?1:-1,W=p<w?1:-1;let te=0;const ce=m+B;for(let Ae=l,je=p;Ae!==ce;Ae+=B){const Pe=_?je:Ae,Be=_?Ae:je;if(te===1===this.image.get(Pe,Be)){if(te===2)return rt.distance(Ae,je,l,p);te++}if(M+=O,M>0){if(je===w)break;je+=W,M-=A}}return te===2?rt.distance(m+B,w,l,p):NaN}findAlignmentInRegion(l,p,m,w){const _=Math.floor(w*l),A=Math.max(0,p-_),O=Math.min(this.image.getWidth()-1,p+_);if(O-A<l*3)throw new ae("Alignment top exceeds estimated module size.");const M=Math.max(0,m-_),B=Math.min(this.image.getHeight()-1,m+_);if(B-M<l*3)throw new ae("Alignment bottom exceeds estimated module size.");return new Gi(this.image,A,M,O-A,B-M,l,this.resultPointCallback).find()}}class $s{constructor(){this.decoder=new $u}getDecoder(){return this.decoder}decode(l,p){let m,w;if(p!=null&&p.get(X.PURE_BARCODE)!==void 0){const M=$s.extractPureBits(l.getBlackMatrix());m=this.decoder.decodeBitMatrix(M,p),w=$s.NO_POINTS}else{const M=new cr(l.getBlackMatrix()).detect(p);m=this.decoder.decodeBitMatrix(M.getBits(),p),w=M.getPoints()}m.getOther()instanceof dc&&m.getOther().applyMirroredCorrection(w);const _=new me(m.getText(),m.getRawBytes(),void 0,w,we.QR_CODE,void 0),A=m.getByteSegments();A!==null&&_.putMetadata(ze.BYTE_SEGMENTS,A);const O=m.getECLevel();return O!==null&&_.putMetadata(ze.ERROR_CORRECTION_LEVEL,O),m.hasStructuredAppend()&&(_.putMetadata(ze.STRUCTURED_APPEND_SEQUENCE,m.getStructuredAppendSequenceNumber()),_.putMetadata(ze.STRUCTURED_APPEND_PARITY,m.getStructuredAppendParity())),_}reset(){}static extractPureBits(l){const p=l.getTopLeftOnBit(),m=l.getBottomRightOnBit();if(p===null||m===null)throw new ae;const w=this.moduleSize(p,l);let _=p[1],A=m[1],O=p[0],M=m[0];if(O>=M||_>=A)throw new ae;if(A-_!==M-O&&(M=O+(A-_),M>=l.getWidth()))throw new ae;const B=Math.round((M-O+1)/w),W=Math.round((A-_+1)/w);if(B<=0||W<=0)throw new ae;if(W!==B)throw new ae;const te=Math.floor(w/2);_+=te,O+=te;const ce=O+Math.floor((B-1)*w)-M;if(ce>0){if(ce>te)throw new ae;O-=ce}const Ae=_+Math.floor((W-1)*w)-A;if(Ae>0){if(Ae>te)throw new ae;_-=Ae}const je=new J(B,W);for(let Pe=0;Pe<W;Pe++){const Be=_+Math.floor(Pe*w);for(let Ze=0;Ze<B;Ze++)l.get(O+Math.floor(Ze*w),Be)&&je.set(Ze,Pe)}return je}static moduleSize(l,p){const m=p.getHeight(),w=p.getWidth();let _=l[0],A=l[1],O=!0,M=0;for(;_<w&&A<m;){if(O!==p.get(_,A)){if(++M===5)break;O=!O}_++,A++}if(_===w||A===m)throw new ae;return(_-l[0])/7}}$s.NO_POINTS=new Array;class ur{PDF417Common(){}static getBitCountSum(l){return rt.sum(l)}static toIntArray(l){if(l==null||!l.length)return ur.EMPTY_INT_ARRAY;const p=new Int32Array(l.length);let m=0;for(const w of l)p[m++]=w;return p}static getCodeword(l){const p=D.binarySearch(ur.SYMBOL_TABLE,l&262143);return p<0?-1:(ur.CODEWORD_TABLE[p]-1)%ur.NUMBER_OF_CODEWORDS}}ur.NUMBER_OF_CODEWORDS=929,ur.MAX_CODEWORDS_IN_BARCODE=ur.NUMBER_OF_CODEWORDS-1,ur.MIN_ROWS_IN_BARCODE=3,ur.MAX_ROWS_IN_BARCODE=90,ur.MODULES_IN_CODEWORD=17,ur.MODULES_IN_STOP_PATTERN=18,ur.BARS_IN_MODULE=8,ur.EMPTY_INT_ARRAY=new Int32Array([]),ur.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ur.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Wu{constructor(l,p){this.bits=l,this.points=p}getBits(){return this.bits}getPoints(){return this.points}}class fr{static detectMultiple(l,p,m){let w=l.getBlackMatrix(),_=fr.detect(m,w);return _.length||(w=w.clone(),w.rotate180(),_=fr.detect(m,w)),new Wu(w,_)}static detect(l,p){const m=new Array;let w=0,_=0,A=!1;for(;w<p.getHeight();){const O=fr.findVertices(p,w,_);if(O[0]==null&&O[3]==null){if(!A)break;A=!1,_=0;for(const M of m)M[1]!=null&&(w=Math.trunc(Math.max(w,M[1].getY()))),M[3]!=null&&(w=Math.max(w,Math.trunc(M[3].getY())));w+=fr.ROW_STEP;continue}if(A=!0,m.push(O),!l)break;O[2]!=null?(_=Math.trunc(O[2].getX()),w=Math.trunc(O[2].getY())):(_=Math.trunc(O[4].getX()),w=Math.trunc(O[4].getY()))}return m}static findVertices(l,p,m){const w=l.getHeight(),_=l.getWidth(),A=new Array(8);return fr.copyToResult(A,fr.findRowsWithPattern(l,w,_,p,m,fr.START_PATTERN),fr.INDEXES_START_PATTERN),A[4]!=null&&(m=Math.trunc(A[4].getX()),p=Math.trunc(A[4].getY())),fr.copyToResult(A,fr.findRowsWithPattern(l,w,_,p,m,fr.STOP_PATTERN),fr.INDEXES_STOP_PATTERN),A}static copyToResult(l,p,m){for(let w=0;w<m.length;w++)l[m[w]]=p[w]}static findRowsWithPattern(l,p,m,w,_,A){const O=new Array(4);let M=!1;const B=new Int32Array(A.length);for(;w<p;w+=fr.ROW_STEP){let te=fr.findGuardPattern(l,_,w,m,!1,A,B);if(te!=null){for(;w>0;){const ce=fr.findGuardPattern(l,_,--w,m,!1,A,B);if(ce!=null)te=ce;else{w++;break}}O[0]=new it(te[0],w),O[1]=new it(te[1],w),M=!0;break}}let W=w+1;if(M){let te=0,ce=Int32Array.from([Math.trunc(O[0].getX()),Math.trunc(O[1].getX())]);for(;W<p;W++){const Ae=fr.findGuardPattern(l,ce[0],W,m,!1,A,B);if(Ae!=null&&Math.abs(ce[0]-Ae[0])<fr.MAX_PATTERN_DRIFT&&Math.abs(ce[1]-Ae[1])<fr.MAX_PATTERN_DRIFT)ce=Ae,te=0;else{if(te>fr.SKIPPED_ROW_COUNT_MAX)break;te++}}W-=te+1,O[2]=new it(ce[0],W),O[3]=new it(ce[1],W)}return W-w<fr.BARCODE_MIN_HEIGHT&&D.fill(O,null),O}static findGuardPattern(l,p,m,w,_,A,O){D.fillWithin(O,0,O.length,0);let M=p,B=0;for(;l.get(M,m)&&M>0&&B++<fr.MAX_PIXEL_DRIFT;)M--;let W=M,te=0,ce=A.length;for(let Ae=_;W<w;W++)if(l.get(W,m)!==Ae)O[te]++;else{if(te===ce-1){if(fr.patternMatchVariance(O,A,fr.MAX_INDIVIDUAL_VARIANCE)<fr.MAX_AVG_VARIANCE)return new Int32Array([M,W]);M+=O[0]+O[1],N.arraycopy(O,2,O,0,te-1),O[te-1]=0,O[te]=0,te--}else te++;O[te]=1,Ae=!Ae}return te===ce-1&&fr.patternMatchVariance(O,A,fr.MAX_INDIVIDUAL_VARIANCE)<fr.MAX_AVG_VARIANCE?new Int32Array([M,W-1]):null}static patternMatchVariance(l,p,m){let w=l.length,_=0,A=0;for(let B=0;B<w;B++)_+=l[B],A+=p[B];if(_<A)return 1/0;let O=_/A;m*=O;let M=0;for(let B=0;B<w;B++){let W=l[B],te=p[B]*O,ce=W>te?W-te:te-W;if(ce>m)return 1/0;M+=ce}return M/_}}fr.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),fr.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),fr.MAX_AVG_VARIANCE=.42,fr.MAX_INDIVIDUAL_VARIANCE=.8,fr.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),fr.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),fr.MAX_PIXEL_DRIFT=3,fr.MAX_PATTERN_DRIFT=5,fr.SKIPPED_ROW_COUNT_MAX=25,fr.ROW_STEP=5,fr.BARCODE_MIN_HEIGHT=10;class Qr{constructor(l,p){if(p.length===0)throw new g;this.field=l;let m=p.length;if(m>1&&p[0]===0){let w=1;for(;w<m&&p[w]===0;)w++;w===m?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(m-w),N.arraycopy(p,w,this.coefficients,0,this.coefficients.length))}else this.coefficients=p}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);if(l===1){let w=0;for(let _ of this.coefficients)w=this.field.add(w,_);return w}let p=this.coefficients[0],m=this.coefficients.length;for(let w=1;w<m;w++)p=this.field.add(this.field.multiply(l,p),this.coefficients[w]);return p}add(l){if(!this.field.equals(l.field))throw new g("ModulusPolys do not have same ModulusGF field");if(this.isZero())return l;if(l.isZero())return this;let p=this.coefficients,m=l.coefficients;if(p.length>m.length){let A=p;p=m,m=A}let w=new Int32Array(m.length),_=m.length-p.length;N.arraycopy(m,0,w,0,_);for(let A=_;A<m.length;A++)w[A]=this.field.add(p[A-_],m[A]);return new Qr(this.field,w)}subtract(l){if(!this.field.equals(l.field))throw new g("ModulusPolys do not have same ModulusGF field");return l.isZero()?this:this.add(l.negative())}multiply(l){return l instanceof Qr?this.multiplyOther(l):this.multiplyScalar(l)}multiplyOther(l){if(!this.field.equals(l.field))throw new g("ModulusPolys do not have same ModulusGF field");if(this.isZero()||l.isZero())return new Qr(this.field,new Int32Array([0]));let p=this.coefficients,m=p.length,w=l.coefficients,_=w.length,A=new Int32Array(m+_-1);for(let O=0;O<m;O++){let M=p[O];for(let B=0;B<_;B++)A[O+B]=this.field.add(A[O+B],this.field.multiply(M,w[B]))}return new Qr(this.field,A)}negative(){let l=this.coefficients.length,p=new Int32Array(l);for(let m=0;m<l;m++)p[m]=this.field.subtract(0,this.coefficients[m]);return new Qr(this.field,p)}multiplyScalar(l){if(l===0)return new Qr(this.field,new Int32Array([0]));if(l===1)return this;let p=this.coefficients.length,m=new Int32Array(p);for(let w=0;w<p;w++)m[w]=this.field.multiply(this.coefficients[w],l);return new Qr(this.field,m)}multiplyByMonomial(l,p){if(l<0)throw new g;if(p===0)return new Qr(this.field,new Int32Array([0]));let m=this.coefficients.length,w=new Int32Array(m+l);for(let _=0;_<m;_++)w[_]=this.field.multiply(this.coefficients[_],p);return new Qr(this.field,w)}toString(){let l=new ue;for(let p=this.getDegree();p>=0;p--){let m=this.getCoefficient(p);m!==0&&(m<0?(l.append(" - "),m=-m):l.length()>0&&l.append(" + "),(p===0||m!==1)&&l.append(m),p!==0&&(p===1?l.append("x"):(l.append("x^"),l.append(p))))}return l.toString()}}class Xc{add(l,p){return(l+p)%this.modulus}subtract(l,p){return(this.modulus+l-p)%this.modulus}exp(l){return this.expTable[l]}log(l){if(l===0)throw new g;return this.logTable[l]}inverse(l){if(l===0)throw new qe;return this.expTable[this.modulus-this.logTable[l]-1]}multiply(l,p){return l===0||p===0?0:this.expTable[(this.logTable[l]+this.logTable[p])%(this.modulus-1)]}getSize(){return this.modulus}equals(l){return l===this}}class Ro extends Xc{constructor(l,p){super(),this.modulus=l,this.expTable=new Int32Array(l),this.logTable=new Int32Array(l);let m=1;for(let w=0;w<l;w++)this.expTable[w]=m,m=m*p%l;for(let w=0;w<l-1;w++)this.logTable[this.expTable[w]]=w;this.zero=new Qr(this,new Int32Array([0])),this.one=new Qr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,p){if(l<0)throw new g;if(p===0)return this.zero;let m=new Int32Array(l+1);return m[0]=p,new Qr(this,m)}}Ro.PDF417_GF=new Ro(ur.NUMBER_OF_CODEWORDS,3);class $i{constructor(){this.field=Ro.PDF417_GF}decode(l,p,m){let w=new Qr(this.field,l),_=new Int32Array(p),A=!1;for(let je=p;je>0;je--){let Pe=w.evaluateAt(this.field.exp(je));_[p-je]=Pe,Pe!==0&&(A=!0)}if(!A)return 0;let O=this.field.getOne();if(m!=null)for(const je of m){let Pe=this.field.exp(l.length-1-je),Be=new Qr(this.field,new Int32Array([this.field.subtract(0,Pe),1]));O=O.multiply(Be)}let M=new Qr(this.field,_),B=this.runEuclideanAlgorithm(this.field.buildMonomial(p,1),M,p),W=B[0],te=B[1],ce=this.findErrorLocations(W),Ae=this.findErrorMagnitudes(te,W,ce);for(let je=0;je<ce.length;je++){let Pe=l.length-1-this.field.log(ce[je]);if(Pe<0)throw y.getChecksumInstance();l[Pe]=this.field.subtract(l[Pe],Ae[je])}return ce.length}runEuclideanAlgorithm(l,p,m){if(l.getDegree()<p.getDegree()){let ce=l;l=p,p=ce}let w=l,_=p,A=this.field.getZero(),O=this.field.getOne();for(;_.getDegree()>=Math.round(m/2);){let ce=w,Ae=A;if(w=_,A=O,w.isZero())throw y.getChecksumInstance();_=ce;let je=this.field.getZero(),Pe=w.getCoefficient(w.getDegree()),Be=this.field.inverse(Pe);for(;_.getDegree()>=w.getDegree()&&!_.isZero();){let Ze=_.getDegree()-w.getDegree(),ct=this.field.multiply(_.getCoefficient(_.getDegree()),Be);je=je.add(this.field.buildMonomial(Ze,ct)),_=_.subtract(w.multiplyByMonomial(Ze,ct))}O=je.multiply(A).subtract(Ae).negative()}let M=O.getCoefficient(0);if(M===0)throw y.getChecksumInstance();let B=this.field.inverse(M),W=O.multiply(B),te=_.multiply(B);return[W,te]}findErrorLocations(l){let p=l.getDegree(),m=new Int32Array(p),w=0;for(let _=1;_<this.field.getSize()&&w<p;_++)l.evaluateAt(_)===0&&(m[w]=this.field.inverse(_),w++);if(w!==p)throw y.getChecksumInstance();return m}findErrorMagnitudes(l,p,m){let w=p.getDegree(),_=new Int32Array(w);for(let B=1;B<=w;B++)_[w-B]=this.field.multiply(B,p.getCoefficient(B));let A=new Qr(this.field,_),O=m.length,M=new Int32Array(O);for(let B=0;B<O;B++){let W=this.field.inverse(m[B]),te=this.field.subtract(0,l.evaluateAt(W)),ce=this.field.inverse(A.evaluateAt(W));M[B]=this.field.multiply(te,ce)}return M}}class hs{constructor(l,p,m,w,_){l instanceof hs?this.constructor_2(l):this.constructor_1(l,p,m,w,_)}constructor_1(l,p,m,w,_){const A=p==null||m==null,O=w==null||_==null;if(A&&O)throw new ae;A?(p=new it(0,w.getY()),m=new it(0,_.getY())):O&&(w=new it(l.getWidth()-1,p.getY()),_=new it(l.getWidth()-1,m.getY())),this.image=l,this.topLeft=p,this.bottomLeft=m,this.topRight=w,this.bottomRight=_,this.minX=Math.trunc(Math.min(p.getX(),m.getX())),this.maxX=Math.trunc(Math.max(w.getX(),_.getX())),this.minY=Math.trunc(Math.min(p.getY(),w.getY())),this.maxY=Math.trunc(Math.max(m.getY(),_.getY()))}constructor_2(l){this.image=l.image,this.topLeft=l.getTopLeft(),this.bottomLeft=l.getBottomLeft(),this.topRight=l.getTopRight(),this.bottomRight=l.getBottomRight(),this.minX=l.getMinX(),this.maxX=l.getMaxX(),this.minY=l.getMinY(),this.maxY=l.getMaxY()}static merge(l,p){return l==null?p:p==null?l:new hs(l.image,l.topLeft,l.bottomLeft,p.topRight,p.bottomRight)}addMissingRows(l,p,m){let w=this.topLeft,_=this.bottomLeft,A=this.topRight,O=this.bottomRight;if(l>0){let M=m?this.topLeft:this.topRight,B=Math.trunc(M.getY()-l);B<0&&(B=0);let W=new it(M.getX(),B);m?w=W:A=W}if(p>0){let M=m?this.bottomLeft:this.bottomRight,B=Math.trunc(M.getY()+p);B>=this.image.getHeight()&&(B=this.image.getHeight()-1);let W=new it(M.getX(),B);m?_=W:O=W}return new hs(this.image,w,_,A,O)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class so{constructor(l,p,m,w){this.columnCount=l,this.errorCorrectionLevel=w,this.rowCountUpperPart=p,this.rowCountLowerPart=m,this.rowCount=p+m}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ol{constructor(){this.buffer=""}static form(l,p){let m=-1;function w(A,O,M,B,W,te){if(A==="%%")return"%";if(p[++m]===void 0)return;A=B?parseInt(B.substr(1)):void 0;let ce=W?parseInt(W.substr(1)):void 0,Ae;switch(te){case"s":Ae=p[m];break;case"c":Ae=p[m][0];break;case"f":Ae=parseFloat(p[m]).toFixed(A);break;case"p":Ae=parseFloat(p[m]).toPrecision(A);break;case"e":Ae=parseFloat(p[m]).toExponential(A);break;case"x":Ae=parseInt(p[m]).toString(ce||16);break;case"d":Ae=parseFloat(parseInt(p[m],ce||10).toPrecision(A)).toFixed(0);break}Ae=typeof Ae=="object"?JSON.stringify(Ae):(+Ae).toString(ce);let je=parseInt(M),Pe=M&&M[0]+""=="0"?"0":" ";for(;Ae.length<je;)Ae=O!==void 0?Ae+Pe:Pe+Ae;return Ae}let _=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(_,w)}format(l,...p){this.buffer+=ol.form(l,p)}toString(){return this.buffer}}class bi{constructor(l){this.boundingBox=new hs(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let p=this.getCodeword(l);if(p!=null)return p;for(let m=1;m<bi.MAX_NEARBY_DISTANCE;m++){let w=this.imageRowToCodewordIndex(l)-m;if(w>=0&&(p=this.codewords[w],p!=null)||(w=this.imageRowToCodewordIndex(l)+m,w<this.codewords.length&&(p=this.codewords[w],p!=null)))return p}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,p){this.codewords[this.imageRowToCodewordIndex(l)]=p}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new ol;let p=0;for(const m of this.codewords){if(m==null){l.format("%3d:    |   %n",p++);continue}l.format("%3d: %3d|%3d%n",p++,m.getRowNumber(),m.getValue())}return l.toString()}}bi.MAX_NEARBY_DISTANCE=5;class oo{constructor(){this.values=new Map}setValue(l){l=Math.trunc(l);let p=this.values.get(l);p==null&&(p=0),p++,this.values.set(l,p)}getValue(){let l=-1,p=new Array;for(const[m,w]of this.values.entries()){const _={getKey:()=>m,getValue:()=>w};_.getValue()>l?(l=_.getValue(),p=[],p.push(_.getKey())):_.getValue()===l&&p.push(_.getKey())}return ur.toIntArray(p)}getConfidence(l){return this.values.get(l)}}class kl extends bi{constructor(l,p){super(l),this._isLeft=p}setRowNumbers(){for(let l of this.getCodewords())l!=null&&l.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(l){let p=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(p,l);let m=this.getBoundingBox(),w=this._isLeft?m.getTopLeft():m.getTopRight(),_=this._isLeft?m.getBottomLeft():m.getBottomRight(),A=this.imageRowToCodewordIndex(Math.trunc(w.getY())),O=this.imageRowToCodewordIndex(Math.trunc(_.getY())),M=-1,B=1,W=0;for(let te=A;te<O;te++){if(p[te]==null)continue;let ce=p[te],Ae=ce.getRowNumber()-M;if(Ae===0)W++;else if(Ae===1)B=Math.max(B,W),W=1,M=ce.getRowNumber();else if(Ae<0||ce.getRowNumber()>=l.getRowCount()||Ae>te)p[te]=null;else{let je;B>2?je=(B-2)*Ae:je=Ae;let Pe=je>=te;for(let Be=1;Be<=je&&!Pe;Be++)Pe=p[te-Be]!=null;Pe?p[te]=null:(M=ce.getRowNumber(),W=1)}}}getRowHeights(){let l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);let p=new Int32Array(l.getRowCount());for(let m of this.getCodewords())if(m!=null){let w=m.getRowNumber();if(w>=p.length)continue;p[w]++}return p}adjustIncompleteIndicatorColumnRowNumbers(l){let p=this.getBoundingBox(),m=this._isLeft?p.getTopLeft():p.getTopRight(),w=this._isLeft?p.getBottomLeft():p.getBottomRight(),_=this.imageRowToCodewordIndex(Math.trunc(m.getY())),A=this.imageRowToCodewordIndex(Math.trunc(w.getY())),O=this.getCodewords(),M=-1;for(let B=_;B<A;B++){if(O[B]==null)continue;let W=O[B];W.setRowNumberAsRowIndicatorColumn();let te=W.getRowNumber()-M;te===0||(te===1?M=W.getRowNumber():W.getRowNumber()>=l.getRowCount()?O[B]=null:M=W.getRowNumber())}}getBarcodeMetadata(){let l=this.getCodewords(),p=new oo,m=new oo,w=new oo,_=new oo;for(let O of l){if(O==null)continue;O.setRowNumberAsRowIndicatorColumn();let M=O.getValue()%30,B=O.getRowNumber();switch(this._isLeft||(B+=2),B%3){case 0:m.setValue(M*3+1);break;case 1:_.setValue(M/3),w.setValue(M%3);break;case 2:p.setValue(M+1);break}}if(p.getValue().length===0||m.getValue().length===0||w.getValue().length===0||_.getValue().length===0||p.getValue()[0]<1||m.getValue()[0]+w.getValue()[0]<ur.MIN_ROWS_IN_BARCODE||m.getValue()[0]+w.getValue()[0]>ur.MAX_ROWS_IN_BARCODE)return null;let A=new so(p.getValue()[0],m.getValue()[0],w.getValue()[0],_.getValue()[0]);return this.removeIncorrectCodewords(l,A),A}removeIncorrectCodewords(l,p){for(let m=0;m<l.length;m++){let w=l[m];if(l[m]==null)continue;let _=w.getValue()%30,A=w.getRowNumber();if(A>p.getRowCount()){l[m]=null;continue}switch(this._isLeft||(A+=2),A%3){case 0:_*3+1!==p.getRowCountUpperPart()&&(l[m]=null);break;case 1:(Math.trunc(_/3)!==p.getErrorCorrectionLevel()||_%3!==p.getRowCountLowerPart())&&(l[m]=null);break;case 2:_+1!==p.getColumnCount()&&(l[m]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class na{constructor(l,p){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=l,this.barcodeColumnCount=l.getColumnCount(),this.boundingBox=p,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l=ur.MAX_CODEWORDS_IN_BARCODE,p;do p=l,l=this.adjustRowNumbersAndGetCount();while(l>0&&l<p);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(l){l!=null&&l.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let l=this.adjustRowNumbersByRow();if(l===0)return 0;for(let p=1;p<this.barcodeColumnCount+1;p++){let m=this.detectionResultColumns[p].getCodewords();for(let w=0;w<m.length;w++)m[w]!=null&&(m[w].hasValidRowNumber()||this.adjustRowNumbers(p,w,m))}return l}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let l=this.detectionResultColumns[0].getCodewords(),p=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let m=0;m<l.length;m++)if(l[m]!=null&&p[m]!=null&&l[m].getRowNumber()===p[m].getRowNumber())for(let w=1;w<=this.barcodeColumnCount;w++){let _=this.detectionResultColumns[w].getCodewords()[m];_!=null&&(_.setRowNumber(l[m].getRowNumber()),_.hasValidRowNumber()||(this.detectionResultColumns[w].getCodewords()[m]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let l=0,p=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let m=0;m<p.length;m++){if(p[m]==null)continue;let w=p[m].getRowNumber(),_=0;for(let A=this.barcodeColumnCount+1;A>0&&_<this.ADJUST_ROW_NUMBER_SKIP;A--){let O=this.detectionResultColumns[A].getCodewords()[m];O!=null&&(_=na.adjustRowNumberIfValid(w,_,O),O.hasValidRowNumber()||l++)}}return l}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let l=0,p=this.detectionResultColumns[0].getCodewords();for(let m=0;m<p.length;m++){if(p[m]==null)continue;let w=p[m].getRowNumber(),_=0;for(let A=1;A<this.barcodeColumnCount+1&&_<this.ADJUST_ROW_NUMBER_SKIP;A++){let O=this.detectionResultColumns[A].getCodewords()[m];O!=null&&(_=na.adjustRowNumberIfValid(w,_,O),O.hasValidRowNumber()||l++)}}return l}static adjustRowNumberIfValid(l,p,m){return m==null||m.hasValidRowNumber()||(m.isValidRowNumber(l)?(m.setRowNumber(l),p=0):++p),p}adjustRowNumbers(l,p,m){if(!this.detectionResultColumns[l-1])return;let w=m[p],_=this.detectionResultColumns[l-1].getCodewords(),A=_;this.detectionResultColumns[l+1]!=null&&(A=this.detectionResultColumns[l+1].getCodewords());let O=new Array(14);O[2]=_[p],O[3]=A[p],p>0&&(O[0]=m[p-1],O[4]=_[p-1],O[5]=A[p-1]),p>1&&(O[8]=m[p-2],O[10]=_[p-2],O[11]=A[p-2]),p<m.length-1&&(O[1]=m[p+1],O[6]=_[p+1],O[7]=A[p+1]),p<m.length-2&&(O[9]=m[p+2],O[12]=_[p+2],O[13]=A[p+2]);for(let M of O)if(na.adjustRowNumber(w,M))return}static adjustRowNumber(l,p){return p==null?!1:p.hasValidRowNumber()&&p.getBucket()===l.getBucket()?(l.setRowNumber(p.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(l){this.boundingBox=l}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(l,p){this.detectionResultColumns[l]=p}getDetectionResultColumn(l){return this.detectionResultColumns[l]}toString(){let l=this.detectionResultColumns[0];l==null&&(l=this.detectionResultColumns[this.barcodeColumnCount+1]);let p=new ol;for(let m=0;m<l.getCodewords().length;m++){p.format("CW %3d:",m);for(let w=0;w<this.barcodeColumnCount+2;w++){if(this.detectionResultColumns[w]==null){p.format("    |   ");continue}let _=this.detectionResultColumns[w].getCodewords()[m];if(_==null){p.format("    |   ");continue}p.format(" %3d|%3d",_.getRowNumber(),_.getValue())}p.format("%n")}return p.toString()}}class Wi{constructor(l,p,m,w){this.rowNumber=Wi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(p),this.bucket=Math.trunc(m),this.value=Math.trunc(w)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==Wi.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}Wi.BARCODE_ROW_UNKNOWN=-1;class Mn{static initialize(){for(let l=0;l<ur.SYMBOL_TABLE.length;l++){let p=ur.SYMBOL_TABLE[l],m=p&1;for(let w=0;w<ur.BARS_IN_MODULE;w++){let _=0;for(;(p&1)===m;)_+=1,p>>=1;m=p&1,Mn.RATIOS_TABLE[l]||(Mn.RATIOS_TABLE[l]=new Array(ur.BARS_IN_MODULE)),Mn.RATIOS_TABLE[l][ur.BARS_IN_MODULE-w-1]=Math.fround(_/ur.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(l){let p=Mn.getDecodedCodewordValue(Mn.sampleBitCounts(l));return p!==-1?p:Mn.getClosestDecodedValue(l)}static sampleBitCounts(l){let p=rt.sum(l),m=new Int32Array(ur.BARS_IN_MODULE),w=0,_=0;for(let A=0;A<ur.MODULES_IN_CODEWORD;A++){let O=p/(2*ur.MODULES_IN_CODEWORD)+A*p/ur.MODULES_IN_CODEWORD;_+l[w]<=O&&(_+=l[w],w++),m[w]++}return m}static getDecodedCodewordValue(l){let p=Mn.getBitValue(l);return ur.getCodeword(p)===-1?-1:p}static getBitValue(l){let p=0;for(let m=0;m<l.length;m++)for(let w=0;w<l[m];w++)p=p<<1|(m%2===0?1:0);return Math.trunc(p)}static getClosestDecodedValue(l){let p=rt.sum(l),m=new Array(ur.BARS_IN_MODULE);if(p>1)for(let A=0;A<m.length;A++)m[A]=Math.fround(l[A]/p);let w=er.MAX_VALUE,_=-1;this.bSymbolTableReady||Mn.initialize();for(let A=0;A<Mn.RATIOS_TABLE.length;A++){let O=0,M=Mn.RATIOS_TABLE[A];for(let B=0;B<ur.BARS_IN_MODULE;B++){let W=Math.fround(M[B]-m[B]);if(O+=Math.fround(W*W),O>=w)break}O<w&&(w=O,_=ur.SYMBOL_TABLE[A])}return _}}Mn.bSymbolTableReady=!1,Mn.RATIOS_TABLE=new Array(ur.SYMBOL_TABLE.length).map(ee=>new Array(ur.BARS_IN_MODULE));class lo{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(l){this.segmentIndex=l}getFileId(){return this.fileId}setFileId(l){this.fileId=l}getOptionalData(){return this.optionalData}setOptionalData(l){this.optionalData=l}isLastSegment(){return this.lastSegment}setLastSegment(l){this.lastSegment=l}getSegmentCount(){return this.segmentCount}setSegmentCount(l){this.segmentCount=l}getSender(){return this.sender||null}setSender(l){this.sender=l}getAddressee(){return this.addressee||null}setAddressee(l){this.addressee=l}getFileName(){return this.fileName}setFileName(l){this.fileName=l}getFileSize(){return this.fileSize}setFileSize(l){this.fileSize=l}getChecksum(){return this.checksum}setChecksum(l){this.checksum=l}getTimestamp(){return this.timestamp}setTimestamp(l){this.timestamp=l}}class Il{static parseLong(l,p=void 0){return parseInt(l,p)}}class ll extends c{}ll.kind="NullPointerException";class Do{writeBytes(l){this.writeBytesOffset(l,0,l.length)}writeBytesOffset(l,p,m){if(l==null)throw new ll;if(p<0||p>l.length||m<0||p+m>l.length||p+m<0)throw new T;if(m===0)return;for(let w=0;w<m;w++)this.write(l[p+w])}flush(){}close(){}}class Lo extends c{}class Ml extends Do{constructor(l=32){if(super(),this.count=0,l<0)throw new g("Negative initial size: "+l);this.buf=new Uint8Array(l)}ensureCapacity(l){l-this.buf.length>0&&this.grow(l)}grow(l){let m=this.buf.length<<1;if(m-l<0&&(m=l),m<0){if(l<0)throw new Lo;m=F.MAX_VALUE}this.buf=D.copyOfUint8Array(this.buf,m)}write(l){this.ensureCapacity(this.count+1),this.buf[this.count]=l,this.count+=1}writeBytesOffset(l,p,m){if(p<0||p>l.length||m<0||p+m-l.length>0)throw new T;this.ensureCapacity(this.count+m),N.arraycopy(l,p,this.buf,this.count,m),this.count+=m}writeTo(l){l.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return D.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(l){return l?typeof l=="string"?this.toString_string(l):this.toString_number(l):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(l){return new String(this.buf).toString()}toString_number(l){return new String(this.buf).toString()}close(){}}var nn;(function(ee){ee[ee.ALPHA=0]="ALPHA",ee[ee.LOWER=1]="LOWER",ee[ee.MIXED=2]="MIXED",ee[ee.PUNCT=3]="PUNCT",ee[ee.ALPHA_SHIFT=4]="ALPHA_SHIFT",ee[ee.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(nn||(nn={}));function co(){if(typeof window<"u")return window.BigInt||null;if(typeof Vm<"u")return Vm.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Es;function Ws(ee){if(typeof Es>"u"&&(Es=co()),Es===null)throw new Error("BigInt is not supported!");return Es(ee)}function Bo(){let ee=[];ee[0]=Ws(1);let l=Ws(900);ee[1]=l;for(let p=2;p<16;p++)ee[p]=ee[p-1]*l;return ee}class et{static decode(l,p){let m=new ue(""),w=q.ISO8859_1;m.enableDecoding(w);let _=1,A=l[_++],O=new lo;for(;_<l[0];){switch(A){case et.TEXT_COMPACTION_MODE_LATCH:_=et.textCompaction(l,_,m);break;case et.BYTE_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH_6:_=et.byteCompaction(A,l,w,_,m);break;case et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(l[_++]);break;case et.NUMERIC_COMPACTION_MODE_LATCH:_=et.numericCompaction(l,_,m);break;case et.ECI_CHARSET:q.getCharacterSetECIByValue(l[_++]);break;case et.ECI_GENERAL_PURPOSE:_+=2;break;case et.ECI_USER_DEFINED:_++;break;case et.BEGIN_MACRO_PDF417_CONTROL_BLOCK:_=et.decodeMacroBlock(l,_,O);break;case et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case et.MACRO_PDF417_TERMINATOR:throw new $;default:_--,_=et.textCompaction(l,_,m);break}if(_<l.length)A=l[_++];else throw $.getFormatInstance()}if(m.length()===0)throw $.getFormatInstance();let M=new Te(null,m.toString(),null,p);return M.setOther(O),M}static decodeMacroBlock(l,p,m){if(p+et.NUMBER_OF_SEQUENCE_CODEWORDS>l[0])throw $.getFormatInstance();let w=new Int32Array(et.NUMBER_OF_SEQUENCE_CODEWORDS);for(let O=0;O<et.NUMBER_OF_SEQUENCE_CODEWORDS;O++,p++)w[O]=l[p];m.setSegmentIndex(F.parseInt(et.decodeBase900toBase10(w,et.NUMBER_OF_SEQUENCE_CODEWORDS)));let _=new ue;p=et.textCompaction(l,p,_),m.setFileId(_.toString());let A=-1;for(l[p]===et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(A=p+1);p<l[0];)switch(l[p]){case et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(p++,l[p]){case et.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let O=new ue;p=et.textCompaction(l,p+1,O),m.setFileName(O.toString());break;case et.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let M=new ue;p=et.textCompaction(l,p+1,M),m.setSender(M.toString());break;case et.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let B=new ue;p=et.textCompaction(l,p+1,B),m.setAddressee(B.toString());break;case et.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let W=new ue;p=et.numericCompaction(l,p+1,W),m.setSegmentCount(F.parseInt(W.toString()));break;case et.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let te=new ue;p=et.numericCompaction(l,p+1,te),m.setTimestamp(Il.parseLong(te.toString()));break;case et.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let ce=new ue;p=et.numericCompaction(l,p+1,ce),m.setChecksum(F.parseInt(ce.toString()));break;case et.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Ae=new ue;p=et.numericCompaction(l,p+1,Ae),m.setFileSize(Il.parseLong(Ae.toString()));break;default:throw $.getFormatInstance()}break;case et.MACRO_PDF417_TERMINATOR:p++,m.setLastSegment(!0);break;default:throw $.getFormatInstance()}if(A!==-1){let O=p-A;m.isLastSegment()&&O--,m.setOptionalData(D.copyOfRange(l,A,A+O))}return p}static textCompaction(l,p,m){let w=new Int32Array((l[0]-p)*2),_=new Int32Array((l[0]-p)*2),A=0,O=!1;for(;p<l[0]&&!O;){let M=l[p++];if(M<et.TEXT_COMPACTION_MODE_LATCH)w[A]=M/30,w[A+1]=M%30,A+=2;else switch(M){case et.TEXT_COMPACTION_MODE_LATCH:w[A++]=et.TEXT_COMPACTION_MODE_LATCH;break;case et.BYTE_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH_6:case et.NUMERIC_COMPACTION_MODE_LATCH:case et.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case et.MACRO_PDF417_TERMINATOR:p--,O=!0;break;case et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:w[A]=et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,M=l[p++],_[A]=M,A++;break}}return et.decodeTextCompaction(w,_,A,m),p}static decodeTextCompaction(l,p,m,w){let _=nn.ALPHA,A=nn.ALPHA,O=0;for(;O<m;){let M=l[O],B="";switch(_){case nn.ALPHA:if(M<26)B=String.fromCharCode(65+M);else switch(M){case 26:B=" ";break;case et.LL:_=nn.LOWER;break;case et.ML:_=nn.MIXED;break;case et.PS:A=_,_=nn.PUNCT_SHIFT;break;case et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:w.append(p[O]);break;case et.TEXT_COMPACTION_MODE_LATCH:_=nn.ALPHA;break}break;case nn.LOWER:if(M<26)B=String.fromCharCode(97+M);else switch(M){case 26:B=" ";break;case et.AS:A=_,_=nn.ALPHA_SHIFT;break;case et.ML:_=nn.MIXED;break;case et.PS:A=_,_=nn.PUNCT_SHIFT;break;case et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:w.append(p[O]);break;case et.TEXT_COMPACTION_MODE_LATCH:_=nn.ALPHA;break}break;case nn.MIXED:if(M<et.PL)B=et.MIXED_CHARS[M];else switch(M){case et.PL:_=nn.PUNCT;break;case 26:B=" ";break;case et.LL:_=nn.LOWER;break;case et.AL:_=nn.ALPHA;break;case et.PS:A=_,_=nn.PUNCT_SHIFT;break;case et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:w.append(p[O]);break;case et.TEXT_COMPACTION_MODE_LATCH:_=nn.ALPHA;break}break;case nn.PUNCT:if(M<et.PAL)B=et.PUNCT_CHARS[M];else switch(M){case et.PAL:_=nn.ALPHA;break;case et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:w.append(p[O]);break;case et.TEXT_COMPACTION_MODE_LATCH:_=nn.ALPHA;break}break;case nn.ALPHA_SHIFT:if(_=A,M<26)B=String.fromCharCode(65+M);else switch(M){case 26:B=" ";break;case et.TEXT_COMPACTION_MODE_LATCH:_=nn.ALPHA;break}break;case nn.PUNCT_SHIFT:if(_=A,M<et.PAL)B=et.PUNCT_CHARS[M];else switch(M){case et.PAL:_=nn.ALPHA;break;case et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:w.append(p[O]);break;case et.TEXT_COMPACTION_MODE_LATCH:_=nn.ALPHA;break}break}B!==""&&w.append(B),O++}}static byteCompaction(l,p,m,w,_){let A=new Ml,O=0,M=0,B=!1;switch(l){case et.BYTE_COMPACTION_MODE_LATCH:let W=new Int32Array(6),te=p[w++];for(;w<p[0]&&!B;)switch(W[O++]=te,M=900*M+te,te=p[w++],te){case et.TEXT_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH:case et.NUMERIC_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH_6:case et.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case et.MACRO_PDF417_TERMINATOR:w--,B=!0;break;default:if(O%5===0&&O>0){for(let ce=0;ce<6;++ce)A.write(Number(Ws(M)>>Ws(8*(5-ce))));M=0,O=0}break}w===p[0]&&te<et.TEXT_COMPACTION_MODE_LATCH&&(W[O++]=te);for(let ce=0;ce<O;ce++)A.write(W[ce]);break;case et.BYTE_COMPACTION_MODE_LATCH_6:for(;w<p[0]&&!B;){let ce=p[w++];if(ce<et.TEXT_COMPACTION_MODE_LATCH)O++,M=900*M+ce;else switch(ce){case et.TEXT_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH:case et.NUMERIC_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH_6:case et.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case et.MACRO_PDF417_TERMINATOR:w--,B=!0;break}if(O%5===0&&O>0){for(let Ae=0;Ae<6;++Ae)A.write(Number(Ws(M)>>Ws(8*(5-Ae))));M=0,O=0}}break}return _.append(H.decode(A.toByteArray(),m)),w}static numericCompaction(l,p,m){let w=0,_=!1,A=new Int32Array(et.MAX_NUMERIC_CODEWORDS);for(;p<l[0]&&!_;){let O=l[p++];if(p===l[0]&&(_=!0),O<et.TEXT_COMPACTION_MODE_LATCH)A[w]=O,w++;else switch(O){case et.TEXT_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH_6:case et.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case et.MACRO_PDF417_TERMINATOR:p--,_=!0;break}(w%et.MAX_NUMERIC_CODEWORDS===0||O===et.NUMERIC_COMPACTION_MODE_LATCH||_)&&w>0&&(m.append(et.decodeBase900toBase10(A,w)),w=0)}return p}static decodeBase900toBase10(l,p){let m=Ws(0);for(let _=0;_<p;_++)m+=et.EXP900[p-_-1]*Ws(l[_]);let w=m.toString();if(w.charAt(0)!=="1")throw new $;return w.substring(1)}}et.TEXT_COMPACTION_MODE_LATCH=900,et.BYTE_COMPACTION_MODE_LATCH=901,et.NUMERIC_COMPACTION_MODE_LATCH=902,et.BYTE_COMPACTION_MODE_LATCH_6=924,et.ECI_USER_DEFINED=925,et.ECI_GENERAL_PURPOSE=926,et.ECI_CHARSET=927,et.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,et.MACRO_PDF417_TERMINATOR=922,et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,et.MAX_NUMERIC_CODEWORDS=15,et.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,et.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,et.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,et.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,et.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,et.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,et.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,et.PL=25,et.LL=27,et.AS=27,et.ML=28,et.AL=28,et.PS=29,et.PAL=29,et.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,et.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",et.EXP900=co()?Bo():[],et.NUMBER_OF_SEQUENCE_CODEWORDS=2;class L{constructor(){}static decode(l,p,m,w,_,A,O){let M=new hs(l,p,m,w,_),B=null,W=null,te;for(let je=!0;;je=!1){if(p!=null&&(B=L.getRowIndicatorColumn(l,M,p,!0,A,O)),w!=null&&(W=L.getRowIndicatorColumn(l,M,w,!1,A,O)),te=L.merge(B,W),te==null)throw ae.getNotFoundInstance();let Pe=te.getBoundingBox();if(je&&Pe!=null&&(Pe.getMinY()<M.getMinY()||Pe.getMaxY()>M.getMaxY()))M=Pe;else break}te.setBoundingBox(M);let ce=te.getBarcodeColumnCount()+1;te.setDetectionResultColumn(0,B),te.setDetectionResultColumn(ce,W);let Ae=B!=null;for(let je=1;je<=ce;je++){let Pe=Ae?je:ce-je;if(te.getDetectionResultColumn(Pe)!==void 0)continue;let Be;Pe===0||Pe===ce?Be=new kl(M,Pe===0):Be=new bi(M),te.setDetectionResultColumn(Pe,Be);let Ze=-1,ct=Ze;for(let ut=M.getMinY();ut<=M.getMaxY();ut++){if(Ze=L.getStartColumn(te,Pe,ut,Ae),Ze<0||Ze>M.getMaxX()){if(ct===-1)continue;Ze=ct}let ot=L.detectCodeword(l,M.getMinX(),M.getMaxX(),Ae,Ze,ut,A,O);ot!=null&&(Be.setCodeword(ut,ot),ct=Ze,A=Math.min(A,ot.getWidth()),O=Math.max(O,ot.getWidth()))}}return L.createDecoderResult(te)}static merge(l,p){if(l==null&&p==null)return null;let m=L.getBarcodeMetadata(l,p);if(m==null)return null;let w=hs.merge(L.adjustBoundingBox(l),L.adjustBoundingBox(p));return new na(m,w)}static adjustBoundingBox(l){if(l==null)return null;let p=l.getRowHeights();if(p==null)return null;let m=L.getMax(p),w=0;for(let O of p)if(w+=m-O,O>0)break;let _=l.getCodewords();for(let O=0;w>0&&_[O]==null;O++)w--;let A=0;for(let O=p.length-1;O>=0&&(A+=m-p[O],!(p[O]>0));O--);for(let O=_.length-1;A>0&&_[O]==null;O--)A--;return l.getBoundingBox().addMissingRows(w,A,l.isLeft())}static getMax(l){let p=-1;for(let m of l)p=Math.max(p,m);return p}static getBarcodeMetadata(l,p){let m;if(l==null||(m=l.getBarcodeMetadata())==null)return p==null?null:p.getBarcodeMetadata();let w;return p==null||(w=p.getBarcodeMetadata())==null?m:m.getColumnCount()!==w.getColumnCount()&&m.getErrorCorrectionLevel()!==w.getErrorCorrectionLevel()&&m.getRowCount()!==w.getRowCount()?null:m}static getRowIndicatorColumn(l,p,m,w,_,A){let O=new kl(p,w);for(let M=0;M<2;M++){let B=M===0?1:-1,W=Math.trunc(Math.trunc(m.getX()));for(let te=Math.trunc(Math.trunc(m.getY()));te<=p.getMaxY()&&te>=p.getMinY();te+=B){let ce=L.detectCodeword(l,0,l.getWidth(),w,W,te,_,A);ce!=null&&(O.setCodeword(te,ce),w?W=ce.getStartX():W=ce.getEndX())}}return O}static adjustCodewordCount(l,p){let m=p[0][1],w=m.getValue(),_=l.getBarcodeColumnCount()*l.getBarcodeRowCount()-L.getNumberOfECCodeWords(l.getBarcodeECLevel());if(w.length===0){if(_<1||_>ur.MAX_CODEWORDS_IN_BARCODE)throw ae.getNotFoundInstance();m.setValue(_)}else w[0]!==_&&m.setValue(_)}static createDecoderResult(l){let p=L.createBarcodeMatrix(l);L.adjustCodewordCount(l,p);let m=new Array,w=new Int32Array(l.getBarcodeRowCount()*l.getBarcodeColumnCount()),_=[],A=new Array;for(let M=0;M<l.getBarcodeRowCount();M++)for(let B=0;B<l.getBarcodeColumnCount();B++){let W=p[M][B+1].getValue(),te=M*l.getBarcodeColumnCount()+B;W.length===0?m.push(te):W.length===1?w[te]=W[0]:(A.push(te),_.push(W))}let O=new Array(_.length);for(let M=0;M<O.length;M++)O[M]=_[M];return L.createDecoderResultFromAmbiguousValues(l.getBarcodeECLevel(),w,ur.toIntArray(m),ur.toIntArray(A),O)}static createDecoderResultFromAmbiguousValues(l,p,m,w,_){let A=new Int32Array(w.length),O=100;for(;O-- >0;){for(let M=0;M<A.length;M++)p[w[M]]=_[M][A[M]];try{return L.decodeCodewords(p,l,m)}catch(M){if(!(M instanceof y))throw M}if(A.length===0)throw y.getChecksumInstance();for(let M=0;M<A.length;M++)if(A[M]<_[M].length-1){A[M]++;break}else if(A[M]=0,M===A.length-1)throw y.getChecksumInstance()}throw y.getChecksumInstance()}static createBarcodeMatrix(l){let p=Array.from({length:l.getBarcodeRowCount()},()=>new Array(l.getBarcodeColumnCount()+2));for(let w=0;w<p.length;w++)for(let _=0;_<p[w].length;_++)p[w][_]=new oo;let m=0;for(let w of l.getDetectionResultColumns()){if(w!=null){for(let _ of w.getCodewords())if(_!=null){let A=_.getRowNumber();if(A>=0){if(A>=p.length)continue;p[A][m].setValue(_.getValue())}}}m++}return p}static isValidBarcodeColumn(l,p){return p>=0&&p<=l.getBarcodeColumnCount()+1}static getStartColumn(l,p,m,w){let _=w?1:-1,A=null;if(L.isValidBarcodeColumn(l,p-_)&&(A=l.getDetectionResultColumn(p-_).getCodeword(m)),A!=null)return w?A.getEndX():A.getStartX();if(A=l.getDetectionResultColumn(p).getCodewordNearby(m),A!=null)return w?A.getStartX():A.getEndX();if(L.isValidBarcodeColumn(l,p-_)&&(A=l.getDetectionResultColumn(p-_).getCodewordNearby(m)),A!=null)return w?A.getEndX():A.getStartX();let O=0;for(;L.isValidBarcodeColumn(l,p-_);){p-=_;for(let M of l.getDetectionResultColumn(p).getCodewords())if(M!=null)return(w?M.getEndX():M.getStartX())+_*O*(M.getEndX()-M.getStartX());O++}return w?l.getBoundingBox().getMinX():l.getBoundingBox().getMaxX()}static detectCodeword(l,p,m,w,_,A,O,M){_=L.adjustCodewordStartColumn(l,p,m,w,_,A);let B=L.getModuleBitCount(l,p,m,w,_,A);if(B==null)return null;let W,te=rt.sum(B);if(w)W=_+te;else{for(let je=0;je<B.length/2;je++){let Pe=B[je];B[je]=B[B.length-1-je],B[B.length-1-je]=Pe}W=_,_=W-te}if(!L.checkCodewordSkew(te,O,M))return null;let ce=Mn.getDecodedValue(B),Ae=ur.getCodeword(ce);return Ae===-1?null:new Wi(_,W,L.getCodewordBucketNumber(ce),Ae)}static getModuleBitCount(l,p,m,w,_,A){let O=_,M=new Int32Array(8),B=0,W=w?1:-1,te=w;for(;(w?O<m:O>=p)&&B<M.length;)l.get(O,A)===te?(M[B]++,O+=W):(B++,te=!te);return B===M.length||O===(w?m:p)&&B===M.length-1?M:null}static getNumberOfECCodeWords(l){return 2<<l}static adjustCodewordStartColumn(l,p,m,w,_,A){let O=_,M=w?-1:1;for(let B=0;B<2;B++){for(;(w?O>=p:O<m)&&w===l.get(O,A);){if(Math.abs(_-O)>L.CODEWORD_SKEW_SIZE)return _;O+=M}M=-M,w=!w}return O}static checkCodewordSkew(l,p,m){return p-L.CODEWORD_SKEW_SIZE<=l&&l<=m+L.CODEWORD_SKEW_SIZE}static decodeCodewords(l,p,m){if(l.length===0)throw $.getFormatInstance();let w=1<<p+1,_=L.correctErrors(l,m,w);L.verifyCodewordCount(l,w);let A=et.decode(l,""+p);return A.setErrorsCorrected(_),A.setErasures(m.length),A}static correctErrors(l,p,m){if(p!=null&&p.length>m/2+L.MAX_ERRORS||m<0||m>L.MAX_EC_CODEWORDS)throw y.getChecksumInstance();return L.errorCorrection.decode(l,m,p)}static verifyCodewordCount(l,p){if(l.length<4)throw $.getFormatInstance();let m=l[0];if(m>l.length)throw $.getFormatInstance();if(m===0)if(p<l.length)l[0]=l.length-p;else throw $.getFormatInstance()}static getBitCountForCodeword(l){let p=new Int32Array(8),m=0,w=p.length-1;for(;!((l&1)!==m&&(m=l&1,w--,w<0));)p[w]++,l>>=1;return p}static getCodewordBucketNumber(l){return l instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(l):this.getCodewordBucketNumber_number(l)}static getCodewordBucketNumber_number(l){return L.getCodewordBucketNumber(L.getBitCountForCodeword(l))}static getCodewordBucketNumber_Int32Array(l){return(l[0]-l[2]+l[4]-l[6]+9)%9}static toString(l){let p=new ol;for(let m=0;m<l.length;m++){p.format("Row %2d: ",m);for(let w=0;w<l[m].length;w++){let _=l[m][w];_.getValue().length===0?p.format("        ",null):p.format("%4d(%2d)",_.getValue()[0],_.getConfidence(_.getValue()[0]))}p.format("%n")}return p.toString()}}L.CODEWORD_SKEW_SIZE=2,L.MAX_ERRORS=3,L.MAX_EC_CODEWORDS=512,L.errorCorrection=new $i;class ne{decode(l,p=null){let m=ne.decode(l,p,!1);if(m==null||m.length===0||m[0]==null)throw ae.getNotFoundInstance();return m[0]}decodeMultiple(l,p=null){try{return ne.decode(l,p,!0)}catch(m){throw m instanceof $||m instanceof y?ae.getNotFoundInstance():m}}static decode(l,p,m){const w=new Array,_=fr.detectMultiple(l,p,m);for(const A of _.getPoints()){const O=L.decode(_.getBits(),A[4],A[5],A[6],A[7],ne.getMinCodewordWidth(A),ne.getMaxCodewordWidth(A)),M=new me(O.getText(),O.getRawBytes(),void 0,A,we.PDF_417);M.putMetadata(ze.ERROR_CORRECTION_LEVEL,O.getECLevel());const B=O.getOther();B!=null&&M.putMetadata(ze.PDF417_EXTRA_METADATA,B),w.push(M)}return w.map(A=>A)}static getMaxWidth(l,p){return l==null||p==null?0:Math.trunc(Math.abs(l.getX()-p.getX()))}static getMinWidth(l,p){return l==null||p==null?F.MAX_VALUE:Math.trunc(Math.abs(l.getX()-p.getX()))}static getMaxCodewordWidth(l){return Math.floor(Math.max(Math.max(ne.getMaxWidth(l[0],l[4]),ne.getMaxWidth(l[6],l[2])*ur.MODULES_IN_CODEWORD/ur.MODULES_IN_STOP_PATTERN),Math.max(ne.getMaxWidth(l[1],l[5]),ne.getMaxWidth(l[7],l[3])*ur.MODULES_IN_CODEWORD/ur.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(l){return Math.floor(Math.min(Math.min(ne.getMinWidth(l[0],l[4]),ne.getMinWidth(l[6],l[2])*ur.MODULES_IN_CODEWORD/ur.MODULES_IN_STOP_PATTERN),Math.min(ne.getMinWidth(l[1],l[5]),ne.getMinWidth(l[7],l[3])*ur.MODULES_IN_CODEWORD/ur.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ee extends c{}Ee.kind="ReaderException";class Ie{constructor(l,p){this.verbose=l===!0,p&&this.setHints(p)}decode(l,p){return p&&this.setHints(p),this.decodeInternal(l)}decodeWithState(l){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(l)}setHints(l){this.hints=l;const p=!n(l)&&l.get(X.TRY_HARDER)===!0,m=n(l)?null:l.get(X.POSSIBLE_FORMATS),w=new Array;if(!n(m)){const _=m.some(A=>A===we.UPC_A||A===we.UPC_E||A===we.EAN_13||A===we.EAN_8||A===we.CODABAR||A===we.CODE_39||A===we.CODE_93||A===we.CODE_128||A===we.ITF||A===we.RSS_14||A===we.RSS_EXPANDED);_&&!p&&w.push(new Hi(l,this.verbose)),m.includes(we.QR_CODE)&&w.push(new $s),m.includes(we.DATA_MATRIX)&&w.push(new As),m.includes(we.AZTEC)&&w.push(new Ht),m.includes(we.PDF_417)&&w.push(new ne),_&&p&&w.push(new Hi(l,this.verbose))}w.length===0&&(p||w.push(new Hi(l,this.verbose)),w.push(new $s),w.push(new As),w.push(new Ht),w.push(new ne),p&&w.push(new Hi(l,this.verbose))),this.readers=w}reset(){if(this.readers!==null)for(const l of this.readers)l.reset()}decodeInternal(l){if(this.readers===null)throw new Ee("No readers where selected, nothing can be read.");for(const p of this.readers)try{return p.decode(l,this.hints)}catch(m){if(m instanceof Ee)continue}throw new ae("No MultiFormat Readers were able to detect the code.")}}class Fe extends le{constructor(l=null,p=500){const m=new Ie;m.setHints(l),super(m,p)}decodeBitmap(l){return this.reader.decodeWithState(l)}}class dt extends le{constructor(l=500){super(new ne,l)}}class bt extends le{constructor(l=500){super(new $s,l)}}var Pt;(function(ee){ee[ee.ERROR_CORRECTION=0]="ERROR_CORRECTION",ee[ee.CHARACTER_SET=1]="CHARACTER_SET",ee[ee.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",ee[ee.MIN_SIZE=3]="MIN_SIZE",ee[ee.MAX_SIZE=4]="MAX_SIZE",ee[ee.MARGIN=5]="MARGIN",ee[ee.PDF417_COMPACT=6]="PDF417_COMPACT",ee[ee.PDF417_COMPACTION=7]="PDF417_COMPACTION",ee[ee.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",ee[ee.AZTEC_LAYERS=9]="AZTEC_LAYERS",ee[ee.QR_VERSION=10]="QR_VERSION"})(Pt||(Pt={}));var Et=Pt;class br{constructor(l){this.field=l,this.cachedGenerators=[],this.cachedGenerators.push(new Je(l,Int32Array.from([1])))}buildGenerator(l){const p=this.cachedGenerators;if(l>=p.length){let m=p[p.length-1];const w=this.field;for(let _=p.length;_<=l;_++){const A=m.multiply(new Je(w,Int32Array.from([1,w.exp(_-1+w.getGeneratorBase())])));p.push(A),m=A}}return p[l]}encode(l,p){if(p===0)throw new g("No error correction bytes");const m=l.length-p;if(m<=0)throw new g("No data bytes provided");const w=this.buildGenerator(p),_=new Int32Array(m);N.arraycopy(l,0,_,0,m);let A=new Je(this.field,_);A=A.multiplyByMonomial(p,1);const M=A.divide(w)[1].getCoefficients(),B=p-M.length;for(let W=0;W<B;W++)l[m+W]=0;N.arraycopy(M,0,l,m+B,M.length)}}class Lt{constructor(){}static applyMaskPenaltyRule1(l){return Lt.applyMaskPenaltyRule1Internal(l,!0)+Lt.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let p=0;const m=l.getArray(),w=l.getWidth(),_=l.getHeight();for(let A=0;A<_-1;A++){const O=m[A];for(let M=0;M<w-1;M++){const B=O[M];B===O[M+1]&&B===m[A+1][M]&&B===m[A+1][M+1]&&p++}}return Lt.N2*p}static applyMaskPenaltyRule3(l){let p=0;const m=l.getArray(),w=l.getWidth(),_=l.getHeight();for(let A=0;A<_;A++)for(let O=0;O<w;O++){const M=m[A];O+6<w&&M[O]===1&&M[O+1]===0&&M[O+2]===1&&M[O+3]===1&&M[O+4]===1&&M[O+5]===0&&M[O+6]===1&&(Lt.isWhiteHorizontal(M,O-4,O)||Lt.isWhiteHorizontal(M,O+7,O+11))&&p++,A+6<_&&m[A][O]===1&&m[A+1][O]===0&&m[A+2][O]===1&&m[A+3][O]===1&&m[A+4][O]===1&&m[A+5][O]===0&&m[A+6][O]===1&&(Lt.isWhiteVertical(m,O,A-4,A)||Lt.isWhiteVertical(m,O,A+7,A+11))&&p++}return p*Lt.N3}static isWhiteHorizontal(l,p,m){p=Math.max(p,0),m=Math.min(m,l.length);for(let w=p;w<m;w++)if(l[w]===1)return!1;return!0}static isWhiteVertical(l,p,m,w){m=Math.max(m,0),w=Math.min(w,l.length);for(let _=m;_<w;_++)if(l[_][p]===1)return!1;return!0}static applyMaskPenaltyRule4(l){let p=0;const m=l.getArray(),w=l.getWidth(),_=l.getHeight();for(let M=0;M<_;M++){const B=m[M];for(let W=0;W<w;W++)B[W]===1&&p++}const A=l.getHeight()*l.getWidth();return Math.floor(Math.abs(p*2-A)*10/A)*Lt.N4}static getDataMaskBit(l,p,m){let w,_;switch(l){case 0:w=m+p&1;break;case 1:w=m&1;break;case 2:w=p%3;break;case 3:w=(m+p)%3;break;case 4:w=Math.floor(m/2)+Math.floor(p/3)&1;break;case 5:_=m*p,w=(_&1)+_%3;break;case 6:_=m*p,w=(_&1)+_%3&1;break;case 7:_=m*p,w=_%3+(m+p&1)&1;break;default:throw new g("Invalid mask pattern: "+l)}return w===0}static applyMaskPenaltyRule1Internal(l,p){let m=0;const w=p?l.getHeight():l.getWidth(),_=p?l.getWidth():l.getHeight(),A=l.getArray();for(let O=0;O<w;O++){let M=0,B=-1;for(let W=0;W<_;W++){const te=p?A[O][W]:A[W][O];te===B?M++:(M>=5&&(m+=Lt.N1+(M-5)),M=1,B=te)}M>=5&&(m+=Lt.N1+(M-5))}return m}}Lt.N1=3,Lt.N2=3,Lt.N3=40,Lt.N4=10;class Gr{constructor(l,p){this.width=l,this.height=p;const m=new Array(p);for(let w=0;w!==p;w++)m[w]=new Uint8Array(l);this.bytes=m}getHeight(){return this.height}getWidth(){return this.width}get(l,p){return this.bytes[p][l]}getArray(){return this.bytes}setNumber(l,p,m){this.bytes[p][l]=m}setBoolean(l,p,m){this.bytes[p][l]=m?1:0}clear(l){for(const p of this.bytes)D.fill(p,l)}equals(l){if(!(l instanceof Gr))return!1;const p=l;if(this.width!==p.width||this.height!==p.height)return!1;for(let m=0,w=this.height;m<w;++m){const _=this.bytes[m],A=p.bytes[m];for(let O=0,M=this.width;O<M;++O)if(_[O]!==A[O])return!1}return!0}toString(){const l=new ue;for(let p=0,m=this.height;p<m;++p){const w=this.bytes[p];for(let _=0,A=this.width;_<A;++_)switch(w[_]){case 0:l.append(" 0");break;case 1:l.append(" 1");break;default:l.append("  ");break}l.append(`
`)}return l.toString()}}class mn{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new ue;return l.append(`<<
`),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append(`
 ecLevel: `),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append(`
 version: `),l.append(this.version?this.version.toString():"null"),l.append(`
 maskPattern: `),l.append(this.maskPattern.toString()),this.matrix?(l.append(`
 matrix:
`),l.append(this.matrix.toString())):l.append(`
 matrix: null
`),l.append(`>>
`),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<mn.NUM_MASK_PATTERNS}}mn.NUM_MASK_PATTERNS=8;class Sr extends c{}Sr.kind="WriterException";class Nt{constructor(){}static clearMatrix(l){l.clear(255)}static buildMatrix(l,p,m,w,_){Nt.clearMatrix(_),Nt.embedBasicPatterns(m,_),Nt.embedTypeInfo(p,w,_),Nt.maybeEmbedVersionInfo(m,_),Nt.embedDataBits(l,w,_)}static embedBasicPatterns(l,p){Nt.embedPositionDetectionPatternsAndSeparators(p),Nt.embedDarkDotAtLeftBottomCorner(p),Nt.maybeEmbedPositionAdjustmentPatterns(l,p),Nt.embedTimingPatterns(p)}static embedTypeInfo(l,p,m){const w=new U;Nt.makeTypeInfoBits(l,p,w);for(let _=0,A=w.getSize();_<A;++_){const O=w.get(w.getSize()-1-_),M=Nt.TYPE_INFO_COORDINATES[_],B=M[0],W=M[1];if(m.setBoolean(B,W,O),_<8){const te=m.getWidth()-_-1;m.setBoolean(te,8,O)}else{const ce=m.getHeight()-7+(_-8);m.setBoolean(8,ce,O)}}}static maybeEmbedVersionInfo(l,p){if(l.getVersionNumber()<7)return;const m=new U;Nt.makeVersionInfoBits(l,m);let w=17;for(let _=0;_<6;++_)for(let A=0;A<3;++A){const O=m.get(w);w--,p.setBoolean(_,p.getHeight()-11+A,O),p.setBoolean(p.getHeight()-11+A,_,O)}}static embedDataBits(l,p,m){let w=0,_=-1,A=m.getWidth()-1,O=m.getHeight()-1;for(;A>0;){for(A===6&&(A-=1);O>=0&&O<m.getHeight();){for(let M=0;M<2;++M){const B=A-M;if(!Nt.isEmpty(m.get(B,O)))continue;let W;w<l.getSize()?(W=l.get(w),++w):W=!1,p!==255&&Lt.getDataMaskBit(p,B,O)&&(W=!W),m.setBoolean(B,O,W)}O+=_}_=-_,O+=_,A-=2}if(w!==l.getSize())throw new Sr("Not all bits consumed: "+w+"/"+l.getSize())}static findMSBSet(l){return 32-F.numberOfLeadingZeros(l)}static calculateBCHCode(l,p){if(p===0)throw new g("0 polynomial");const m=Nt.findMSBSet(p);for(l<<=m-1;Nt.findMSBSet(l)>=m;)l^=p<<Nt.findMSBSet(l)-m;return l}static makeTypeInfoBits(l,p,m){if(!mn.isValidMaskPattern(p))throw new Sr("Invalid mask pattern");const w=l.getBits()<<3|p;m.appendBits(w,5);const _=Nt.calculateBCHCode(w,Nt.TYPE_INFO_POLY);m.appendBits(_,10);const A=new U;if(A.appendBits(Nt.TYPE_INFO_MASK_PATTERN,15),m.xor(A),m.getSize()!==15)throw new Sr("should not happen but we got: "+m.getSize())}static makeVersionInfoBits(l,p){p.appendBits(l.getVersionNumber(),6);const m=Nt.calculateBCHCode(l.getVersionNumber(),Nt.VERSION_INFO_POLY);if(p.appendBits(m,12),p.getSize()!==18)throw new Sr("should not happen but we got: "+p.getSize())}static isEmpty(l){return l===255}static embedTimingPatterns(l){for(let p=8;p<l.getWidth()-8;++p){const m=(p+1)%2;Nt.isEmpty(l.get(p,6))&&l.setNumber(p,6,m),Nt.isEmpty(l.get(6,p))&&l.setNumber(6,p,m)}}static embedDarkDotAtLeftBottomCorner(l){if(l.get(8,l.getHeight()-8)===0)throw new Sr;l.setNumber(8,l.getHeight()-8,1)}static embedHorizontalSeparationPattern(l,p,m){for(let w=0;w<8;++w){if(!Nt.isEmpty(m.get(l+w,p)))throw new Sr;m.setNumber(l+w,p,0)}}static embedVerticalSeparationPattern(l,p,m){for(let w=0;w<7;++w){if(!Nt.isEmpty(m.get(l,p+w)))throw new Sr;m.setNumber(l,p+w,0)}}static embedPositionAdjustmentPattern(l,p,m){for(let w=0;w<5;++w){const _=Nt.POSITION_ADJUSTMENT_PATTERN[w];for(let A=0;A<5;++A)m.setNumber(l+A,p+w,_[A])}}static embedPositionDetectionPattern(l,p,m){for(let w=0;w<7;++w){const _=Nt.POSITION_DETECTION_PATTERN[w];for(let A=0;A<7;++A)m.setNumber(l+A,p+w,_[A])}}static embedPositionDetectionPatternsAndSeparators(l){const p=Nt.POSITION_DETECTION_PATTERN[0].length;Nt.embedPositionDetectionPattern(0,0,l),Nt.embedPositionDetectionPattern(l.getWidth()-p,0,l),Nt.embedPositionDetectionPattern(0,l.getWidth()-p,l);const m=8;Nt.embedHorizontalSeparationPattern(0,m-1,l),Nt.embedHorizontalSeparationPattern(l.getWidth()-m,m-1,l),Nt.embedHorizontalSeparationPattern(0,l.getWidth()-m,l);const w=7;Nt.embedVerticalSeparationPattern(w,0,l),Nt.embedVerticalSeparationPattern(l.getHeight()-w-1,0,l),Nt.embedVerticalSeparationPattern(w,l.getHeight()-w,l)}static maybeEmbedPositionAdjustmentPatterns(l,p){if(l.getVersionNumber()<2)return;const m=l.getVersionNumber()-1,w=Nt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[m];for(let _=0,A=w.length;_!==A;_++){const O=w[_];if(O>=0)for(let M=0;M!==A;M++){const B=w[M];B>=0&&Nt.isEmpty(p.get(B,O))&&Nt.embedPositionAdjustmentPattern(B-2,O-2,p)}}}}Nt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Nt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Nt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Nt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Nt.VERSION_INFO_POLY=7973,Nt.TYPE_INFO_POLY=1335,Nt.TYPE_INFO_MASK_PATTERN=21522;class ja{constructor(l,p){this.dataBytes=l,this.errorCorrectionBytes=p}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class jr{constructor(){}static calculateMaskPenalty(l){return Lt.applyMaskPenaltyRule1(l)+Lt.applyMaskPenaltyRule2(l)+Lt.applyMaskPenaltyRule3(l)+Lt.applyMaskPenaltyRule4(l)}static encode(l,p,m=null){let w=jr.DEFAULT_BYTE_MODE_ENCODING;const _=m!==null&&m.get(Et.CHARACTER_SET)!==void 0;_&&(w=m.get(Et.CHARACTER_SET).toString());const A=this.chooseMode(l,w),O=new U;if(A===rr.BYTE&&(_||jr.DEFAULT_BYTE_MODE_ENCODING!==w)){const ut=q.getCharacterSetECIByName(w);ut!==void 0&&this.appendECI(ut,O)}this.appendModeInfo(A,O);const M=new U;this.appendBytes(l,A,M,w);let B;if(m!==null&&m.get(Et.QR_VERSION)!==void 0){const ut=Number.parseInt(m.get(Et.QR_VERSION).toString(),10);B=jt.getVersionForNumber(ut);const ot=this.calculateBitsNeeded(A,O,M,B);if(!this.willFit(ot,B,p))throw new Sr("Data too big for requested version")}else B=this.recommendVersion(p,A,O,M);const W=new U;W.appendBitArray(O);const te=A===rr.BYTE?M.getSizeInBytes():l.length;this.appendLengthInfo(te,B,A,W),W.appendBitArray(M);const ce=B.getECBlocksForLevel(p),Ae=B.getTotalCodewords()-ce.getTotalECCodewords();this.terminateBits(Ae,W);const je=this.interleaveWithECBytes(W,B.getTotalCodewords(),Ae,ce.getNumBlocks()),Pe=new mn;Pe.setECLevel(p),Pe.setMode(A),Pe.setVersion(B);const Be=B.getDimensionForVersion(),Ze=new Gr(Be,Be),ct=this.chooseMaskPattern(je,p,B,Ze);return Pe.setMaskPattern(ct),Nt.buildMatrix(je,p,B,ct,Ze),Pe.setMatrix(Ze),Pe}static recommendVersion(l,p,m,w){const _=this.calculateBitsNeeded(p,m,w,jt.getVersionForNumber(1)),A=this.chooseVersion(_,l),O=this.calculateBitsNeeded(p,m,w,A);return this.chooseVersion(O,l)}static calculateBitsNeeded(l,p,m,w){return p.getSize()+l.getCharacterCountBits(w)+m.getSize()}static getAlphanumericCode(l){return l<jr.ALPHANUMERIC_TABLE.length?jr.ALPHANUMERIC_TABLE[l]:-1}static chooseMode(l,p=null){if(q.SJIS.getName()===p&&this.isOnlyDoubleByteKanji(l))return rr.KANJI;let m=!1,w=!1;for(let _=0,A=l.length;_<A;++_){const O=l.charAt(_);if(jr.isDigit(O))m=!0;else if(this.getAlphanumericCode(O.charCodeAt(0))!==-1)w=!0;else return rr.BYTE}return w?rr.ALPHANUMERIC:m?rr.NUMERIC:rr.BYTE}static isOnlyDoubleByteKanji(l){let p;try{p=H.encode(l,q.SJIS)}catch{return!1}const m=p.length;if(m%2!==0)return!1;for(let w=0;w<m;w+=2){const _=p[w]&255;if((_<129||_>159)&&(_<224||_>235))return!1}return!0}static chooseMaskPattern(l,p,m,w){let _=Number.MAX_SAFE_INTEGER,A=-1;for(let O=0;O<mn.NUM_MASK_PATTERNS;O++){Nt.buildMatrix(l,p,m,O,w);let M=this.calculateMaskPenalty(w);M<_&&(_=M,A=O)}return A}static chooseVersion(l,p){for(let m=1;m<=40;m++){const w=jt.getVersionForNumber(m);if(jr.willFit(l,w,p))return w}throw new Sr("Data too big")}static willFit(l,p,m){const w=p.getTotalCodewords(),A=p.getECBlocksForLevel(m).getTotalECCodewords(),O=w-A,M=(l+7)/8;return O>=M}static terminateBits(l,p){const m=l*8;if(p.getSize()>m)throw new Sr("data bits cannot fit in the QR Code"+p.getSize()+" > "+m);for(let A=0;A<4&&p.getSize()<m;++A)p.appendBit(!1);const w=p.getSize()&7;if(w>0)for(let A=w;A<8;A++)p.appendBit(!1);const _=l-p.getSizeInBytes();for(let A=0;A<_;++A)p.appendBits((A&1)===0?236:17,8);if(p.getSize()!==m)throw new Sr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(l,p,m,w,_,A){if(w>=m)throw new Sr("Block ID too large");const O=l%m,M=m-O,B=Math.floor(l/m),W=B+1,te=Math.floor(p/m),ce=te+1,Ae=B-te,je=W-ce;if(Ae!==je)throw new Sr("EC bytes mismatch");if(m!==M+O)throw new Sr("RS blocks mismatch");if(l!==(te+Ae)*M+(ce+je)*O)throw new Sr("Total bytes mismatch");w<M?(_[0]=te,A[0]=Ae):(_[0]=ce,A[0]=je)}static interleaveWithECBytes(l,p,m,w){if(l.getSizeInBytes()!==m)throw new Sr("Number of bits and data bytes does not match");let _=0,A=0,O=0;const M=new Array;for(let W=0;W<w;++W){const te=new Int32Array(1),ce=new Int32Array(1);jr.getNumDataBytesAndNumECBytesForBlockID(p,m,w,W,te,ce);const Ae=te[0],je=new Uint8Array(Ae);l.toBytes(8*_,je,0,Ae);const Pe=jr.generateECBytes(je,ce[0]);M.push(new ja(je,Pe)),A=Math.max(A,Ae),O=Math.max(O,Pe.length),_+=te[0]}if(m!==_)throw new Sr("Data bytes does not match offset");const B=new U;for(let W=0;W<A;++W)for(const te of M){const ce=te.getDataBytes();W<ce.length&&B.appendBits(ce[W],8)}for(let W=0;W<O;++W)for(const te of M){const ce=te.getErrorCorrectionBytes();W<ce.length&&B.appendBits(ce[W],8)}if(p!==B.getSizeInBytes())throw new Sr("Interleaving error: "+p+" and "+B.getSizeInBytes()+" differ.");return B}static generateECBytes(l,p){const m=l.length,w=new Int32Array(m+p);for(let A=0;A<m;A++)w[A]=l[A]&255;new br(lt.QR_CODE_FIELD_256).encode(w,p);const _=new Uint8Array(p);for(let A=0;A<p;A++)_[A]=w[m+A];return _}static appendModeInfo(l,p){p.appendBits(l.getBits(),4)}static appendLengthInfo(l,p,m,w){const _=m.getCharacterCountBits(p);if(l>=1<<_)throw new Sr(l+" is bigger than "+((1<<_)-1));w.appendBits(l,_)}static appendBytes(l,p,m,w){switch(p){case rr.NUMERIC:jr.appendNumericBytes(l,m);break;case rr.ALPHANUMERIC:jr.appendAlphanumericBytes(l,m);break;case rr.BYTE:jr.append8BitBytes(l,m,w);break;case rr.KANJI:jr.appendKanjiBytes(l,m);break;default:throw new Sr("Invalid mode: "+p)}}static getDigit(l){return l.charCodeAt(0)-48}static isDigit(l){const p=jr.getDigit(l);return p>=0&&p<=9}static appendNumericBytes(l,p){const m=l.length;let w=0;for(;w<m;){const _=jr.getDigit(l.charAt(w));if(w+2<m){const A=jr.getDigit(l.charAt(w+1)),O=jr.getDigit(l.charAt(w+2));p.appendBits(_*100+A*10+O,10),w+=3}else if(w+1<m){const A=jr.getDigit(l.charAt(w+1));p.appendBits(_*10+A,7),w+=2}else p.appendBits(_,4),w++}}static appendAlphanumericBytes(l,p){const m=l.length;let w=0;for(;w<m;){const _=jr.getAlphanumericCode(l.charCodeAt(w));if(_===-1)throw new Sr;if(w+1<m){const A=jr.getAlphanumericCode(l.charCodeAt(w+1));if(A===-1)throw new Sr;p.appendBits(_*45+A,11),w+=2}else p.appendBits(_,6),w++}}static append8BitBytes(l,p,m){let w;try{w=H.encode(l,m)}catch(_){throw new Sr(_)}for(let _=0,A=w.length;_!==A;_++){const O=w[_];p.appendBits(O,8)}}static appendKanjiBytes(l,p){let m;try{m=H.encode(l,q.SJIS)}catch(_){throw new Sr(_)}const w=m.length;for(let _=0;_<w;_+=2){const A=m[_]&255,O=m[_+1]&255,M=A<<8&4294967295|O;let B=-1;if(M>=33088&&M<=40956?B=M-33088:M>=57408&&M<=60351&&(B=M-49472),B===-1)throw new Sr("Invalid byte sequence");const W=(B>>8)*192+(B&255);p.appendBits(W,13)}}static appendECI(l,p){p.appendBits(rr.ECI.getBits(),4),p.appendBits(l.getValue(),8)}}jr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),jr.DEFAULT_BYTE_MODE_ENCODING=q.UTF8.getName();class Xn{write(l,p,m,w=null){if(l.length===0)throw new g("Found empty contents");if(p<0||m<0)throw new g("Requested dimensions are too small: "+p+"x"+m);let _=Or.L,A=Xn.QUIET_ZONE_SIZE;w!==null&&(w.get(Et.ERROR_CORRECTION)!==void 0&&(_=Or.fromString(w.get(Et.ERROR_CORRECTION).toString())),w.get(Et.MARGIN)!==void 0&&(A=Number.parseInt(w.get(Et.MARGIN).toString(),10)));const O=jr.encode(l,_,w);return this.renderResult(O,p,m,A)}writeToDom(l,p,m,w,_=null){typeof l=="string"&&(l=document.querySelector(l));const A=this.write(p,m,w,_);l&&l.appendChild(A)}renderResult(l,p,m,w){const _=l.getMatrix();if(_===null)throw new ye;const A=_.getWidth(),O=_.getHeight(),M=A+w*2,B=O+w*2,W=Math.max(p,M),te=Math.max(m,B),ce=Math.min(Math.floor(W/M),Math.floor(te/B)),Ae=Math.floor((W-A*ce)/2),je=Math.floor((te-O*ce)/2),Pe=this.createSVGElement(W,te);for(let Be=0,Ze=je;Be<O;Be++,Ze+=ce)for(let ct=0,ut=Ae;ct<A;ct++,ut+=ce)if(_.get(ct,Be)===1){const ot=this.createSvgRectElement(ut,Ze,ce,ce);Pe.appendChild(ot)}return Pe}createSVGElement(l,p){const m=document.createElementNS(Xn.SVG_NS,"svg");return m.setAttributeNS(null,"height",l.toString()),m.setAttributeNS(null,"width",p.toString()),m}createSvgRectElement(l,p,m,w){const _=document.createElementNS(Xn.SVG_NS,"rect");return _.setAttributeNS(null,"x",l.toString()),_.setAttributeNS(null,"y",p.toString()),_.setAttributeNS(null,"height",m.toString()),_.setAttributeNS(null,"width",w.toString()),_.setAttributeNS(null,"fill","#000000"),_}}Xn.QUIET_ZONE_SIZE=4,Xn.SVG_NS="http://www.w3.org/2000/svg";class Vi{encode(l,p,m,w,_){if(l.length===0)throw new g("Found empty contents");if(p!==we.QR_CODE)throw new g("Can only encode QR_CODE, but got "+p);if(m<0||w<0)throw new g(`Requested dimensions are too small: ${m}x${w}`);let A=Or.L,O=Vi.QUIET_ZONE_SIZE;_!==null&&(_.get(Et.ERROR_CORRECTION)!==void 0&&(A=Or.fromString(_.get(Et.ERROR_CORRECTION).toString())),_.get(Et.MARGIN)!==void 0&&(O=Number.parseInt(_.get(Et.MARGIN).toString(),10)));const M=jr.encode(l,A,_);return Vi.renderResult(M,m,w,O)}static renderResult(l,p,m,w){const _=l.getMatrix();if(_===null)throw new ye;const A=_.getWidth(),O=_.getHeight(),M=A+w*2,B=O+w*2,W=Math.max(p,M),te=Math.max(m,B),ce=Math.min(Math.floor(W/M),Math.floor(te/B)),Ae=Math.floor((W-A*ce)/2),je=Math.floor((te-O*ce)/2),Pe=new J(W,te);for(let Be=0,Ze=je;Be<O;Be++,Ze+=ce)for(let ct=0,ut=Ae;ct<A;ct++,ut+=ce)_.get(ct,Be)===1&&Pe.setRegion(ut,Ze,ce,ce);return Pe}}Vi.QUIET_ZONE_SIZE=4;class Vs{encode(l,p,m,w,_){let A;switch(p){case we.QR_CODE:A=new Vi;break;default:throw new g("No encoder available for format "+p)}return A.encode(l,p,m,w,_)}}class La extends Se{constructor(l,p,m,w,_,A,O,M){if(super(A,O),this.yuvData=l,this.dataWidth=p,this.dataHeight=m,this.left=w,this.top=_,w+A>p||_+O>m)throw new g("Crop rectangle does not fit within image data.");M&&this.reverseHorizontal(A,O)}getRow(l,p){if(l<0||l>=this.getHeight())throw new g("Requested row is outside the image: "+l);const m=this.getWidth();(p==null||p.length<m)&&(p=new Uint8ClampedArray(m));const w=(l+this.top)*this.dataWidth+this.left;return N.arraycopy(this.yuvData,w,p,0,m),p}getMatrix(){const l=this.getWidth(),p=this.getHeight();if(l===this.dataWidth&&p===this.dataHeight)return this.yuvData;const m=l*p,w=new Uint8ClampedArray(m);let _=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return N.arraycopy(this.yuvData,_,w,0,m),w;for(let A=0;A<p;A++){const O=A*l;N.arraycopy(this.yuvData,_,w,O,l),_+=this.dataWidth}return w}isCropSupported(){return!0}crop(l,p,m,w){return new La(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+p,m,w,!1)}renderThumbnail(){const l=this.getWidth()/La.THUMBNAIL_SCALE_FACTOR,p=this.getHeight()/La.THUMBNAIL_SCALE_FACTOR,m=new Int32Array(l*p),w=this.yuvData;let _=this.top*this.dataWidth+this.left;for(let A=0;A<p;A++){const O=A*l;for(let M=0;M<l;M++){const B=w[_+M*La.THUMBNAIL_SCALE_FACTOR]&255;m[O+M]=4278190080|B*65793}_+=this.dataWidth*La.THUMBNAIL_SCALE_FACTOR}return m}getThumbnailWidth(){return this.getWidth()/La.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/La.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,p){const m=this.yuvData;for(let w=0,_=this.top*this.dataWidth+this.left;w<p;w++,_+=this.dataWidth){const A=_+l/2;for(let O=_,M=_+l-1;O<A;O++,M--){const B=m[O];m[O]=m[M],m[M]=B}}}invert(){return new pe(this)}}La.THUMBNAIL_SCALE_FACTOR=2;class Pl extends Se{constructor(l,p,m,w,_,A,O){if(super(p,m),this.dataWidth=w,this.dataHeight=_,this.left=A,this.top=O,l.BYTES_PER_ELEMENT===4){const M=p*m,B=new Uint8ClampedArray(M);for(let W=0;W<M;W++){const te=l[W],ce=te>>16&255,Ae=te>>7&510,je=te&255;B[W]=(ce+Ae+je)/4&255}this.luminances=B}else this.luminances=l;if(w===void 0&&(this.dataWidth=p),_===void 0&&(this.dataHeight=m),A===void 0&&(this.left=0),O===void 0&&(this.top=0),this.left+p>this.dataWidth||this.top+m>this.dataHeight)throw new g("Crop rectangle does not fit within image data.")}getRow(l,p){if(l<0||l>=this.getHeight())throw new g("Requested row is outside the image: "+l);const m=this.getWidth();(p==null||p.length<m)&&(p=new Uint8ClampedArray(m));const w=(l+this.top)*this.dataWidth+this.left;return N.arraycopy(this.luminances,w,p,0,m),p}getMatrix(){const l=this.getWidth(),p=this.getHeight();if(l===this.dataWidth&&p===this.dataHeight)return this.luminances;const m=l*p,w=new Uint8ClampedArray(m);let _=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return N.arraycopy(this.luminances,_,w,0,m),w;for(let A=0;A<p;A++){const O=A*l;N.arraycopy(this.luminances,_,w,O,l),_+=this.dataWidth}return w}isCropSupported(){return!0}crop(l,p,m,w){return new Pl(this.luminances,m,w,this.dataWidth,this.dataHeight,this.left+l,this.top+p)}invert(){return new pe(this)}}class Rl extends q{static forName(l){return this.getCharacterSetECIByName(l)}}class Ns{}Ns.ISO_8859_1=q.ISO8859_1;class Cs{isCompact(){return this.compact}setCompact(l){this.compact=l}getSize(){return this.size}setSize(l){this.size=l}getLayers(){return this.layers}setLayers(l){this.layers=l}getCodeWords(){return this.codeWords}setCodeWords(l){this.codeWords=l}getMatrix(){return this.matrix}setMatrix(l){this.matrix=l}}class cl{static singletonList(l){return[l]}static min(l,p){return l.sort(p)[0]}}class Fo{constructor(l){this.previous=l}getPrevious(){return this.previous}}class Kn extends Fo{constructor(l,p,m){super(l),this.value=p,this.bitCount=m}appendTo(l,p){l.appendBits(this.value,this.bitCount)}add(l,p){return new Kn(this,l,p)}addBinaryShift(l,p){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Kn(this,l,p)}toString(){let l=this.value&(1<<this.bitCount)-1;return l|=1<<this.bitCount,"<"+F.toBinaryString(l|1<<this.bitCount).substring(1)+">"}}class uo extends Kn{constructor(l,p,m){super(l,0,0),this.binaryShiftStart=p,this.binaryShiftByteCount=m}appendTo(l,p){for(let m=0;m<this.binaryShiftByteCount;m++)(m===0||m===31&&this.binaryShiftByteCount<=62)&&(l.appendBits(31,5),this.binaryShiftByteCount>62?l.appendBits(this.binaryShiftByteCount-31,16):m===0?l.appendBits(Math.min(this.binaryShiftByteCount,31),5):l.appendBits(this.binaryShiftByteCount-31,5)),l.appendBits(p[this.binaryShiftStart+m],8)}addBinaryShift(l,p){return new uo(this,l,p)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ul(ee,l,p){return new uo(ee,l,p)}function fo(ee,l,p){return new Kn(ee,l,p)}const ho=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],aa=0,Os=1,ai=2,hc=3,ia=4,Ys=new Kn(null,0,0),Xs=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Kc(ee){for(let l of ee)D.fill(l,-1);return ee[aa][ia]=0,ee[Os][ia]=0,ee[Os][aa]=28,ee[hc][ia]=0,ee[ai][ia]=0,ee[ai][aa]=15,ee}const Ts=Kc(D.createInt32Array(6,6));class ii{constructor(l,p,m,w){this.token=l,this.mode=p,this.binaryShiftByteCount=m,this.bitCount=w}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(l,p){let m=this.bitCount,w=this.token;if(l!==this.mode){let A=Xs[this.mode][l];w=fo(w,A&65535,A>>16),m+=A>>16}let _=l===ai?4:5;return w=fo(w,p,_),new ii(w,l,0,m+_)}shiftAndAppend(l,p){let m=this.token,w=this.mode===ai?4:5;return m=fo(m,Ts[this.mode][l],w),m=fo(m,p,5),new ii(m,this.mode,0,this.bitCount+w+5)}addBinaryShiftChar(l){let p=this.token,m=this.mode,w=this.bitCount;if(this.mode===ia||this.mode===ai){let O=Xs[m][aa];p=fo(p,O&65535,O>>16),w+=O>>16,m=aa}let _=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,A=new ii(p,m,this.binaryShiftByteCount+1,w+_);return A.binaryShiftByteCount===2078&&(A=A.endBinaryShift(l+1)),A}endBinaryShift(l){if(this.binaryShiftByteCount===0)return this;let p=this.token;return p=ul(p,l-this.binaryShiftByteCount,this.binaryShiftByteCount),new ii(p,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(l){let p=this.bitCount+(Xs[this.mode][l.mode]>>16);return this.binaryShiftByteCount<l.binaryShiftByteCount?p+=ii.calculateBinaryShiftCost(l)-ii.calculateBinaryShiftCost(this):this.binaryShiftByteCount>l.binaryShiftByteCount&&l.binaryShiftByteCount>0&&(p+=10),p<=l.bitCount}toBitArray(l){let p=[];for(let w=this.endBinaryShift(l.length).token;w!==null;w=w.getPrevious())p.unshift(w);let m=new U;for(const w of p)w.appendTo(m,l);return m}toString(){return G.format("%s bits=%d bytes=%d",ho[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(l){return l.binaryShiftByteCount>62?21:l.binaryShiftByteCount>31?20:l.binaryShiftByteCount>0?10:0}}ii.INITIAL_STATE=new ii(Ys,aa,0,0);function Yi(ee){const l=G.getCharCode(" "),p=G.getCharCode("."),m=G.getCharCode(",");ee[aa][l]=1;const w=G.getCharCode("Z"),_=G.getCharCode("A");for(let ce=_;ce<=w;ce++)ee[aa][ce]=ce-_+2;ee[Os][l]=1;const A=G.getCharCode("z"),O=G.getCharCode("a");for(let ce=O;ce<=A;ce++)ee[Os][ce]=ce-O+2;ee[ai][l]=1;const M=G.getCharCode("9"),B=G.getCharCode("0");for(let ce=B;ce<=M;ce++)ee[ai][ce]=ce-B+2;ee[ai][m]=12,ee[ai][p]=13;const W=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let ce=0;ce<W.length;ce++)ee[hc][G.getCharCode(W[ce])]=ce;const te=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let ce=0;ce<te.length;ce++)G.getCharCode(te[ce])>0&&(ee[ia][G.getCharCode(te[ce])]=ce);return ee}const si=Yi(D.createInt32Array(5,256));class Xi{constructor(l){this.text=l}encode(){const l=G.getCharCode(" "),p=G.getCharCode(`
`);let m=cl.singletonList(ii.INITIAL_STATE);for(let _=0;_<this.text.length;_++){let A,O=_+1<this.text.length?this.text[_+1]:0;switch(this.text[_]){case G.getCharCode("\r"):A=O===p?2:0;break;case G.getCharCode("."):A=O===l?3:0;break;case G.getCharCode(","):A=O===l?4:0;break;case G.getCharCode(":"):A=O===l?5:0;break;default:A=0}A>0?(m=Xi.updateStateListForPair(m,_,A),_++):m=this.updateStateListForChar(m,_)}return cl.min(m,(_,A)=>_.getBitCount()-A.getBitCount()).toBitArray(this.text)}updateStateListForChar(l,p){const m=[];for(let w of l)this.updateStateForChar(w,p,m);return Xi.simplifyStates(m)}updateStateForChar(l,p,m){let w=this.text[p]&255,_=si[l.getMode()][w]>0,A=null;for(let O=0;O<=ia;O++){let M=si[O][w];if(M>0){if(A==null&&(A=l.endBinaryShift(p)),!_||O===l.getMode()||O===ai){const B=A.latchAndAppend(O,M);m.push(B)}if(!_&&Ts[l.getMode()][O]>=0){const B=A.shiftAndAppend(O,M);m.push(B)}}}if(l.getBinaryShiftByteCount()>0||si[l.getMode()][w]===0){let O=l.addBinaryShiftChar(p);m.push(O)}}static updateStateListForPair(l,p,m){const w=[];for(let _ of l)this.updateStateForPair(_,p,m,w);return this.simplifyStates(w)}static updateStateForPair(l,p,m,w){let _=l.endBinaryShift(p);if(w.push(_.latchAndAppend(ia,m)),l.getMode()!==ia&&w.push(_.shiftAndAppend(ia,m)),m===3||m===4){let A=_.latchAndAppend(ai,16-m).latchAndAppend(ai,1);w.push(A)}if(l.getBinaryShiftByteCount()>0){let A=l.addBinaryShiftChar(p).addBinaryShiftChar(p+1);w.push(A)}}static simplifyStates(l){let p=[];for(const m of l){let w=!0;for(const _ of p){if(_.isBetterThanOrEqualTo(m)){w=!1;break}m.isBetterThanOrEqualTo(_)&&(p=p.filter(A=>A!==_))}w&&p.push(m)}return p}}class Mr{constructor(){}static encodeBytes(l){return Mr.encode(l,Mr.DEFAULT_EC_PERCENT,Mr.DEFAULT_AZTEC_LAYERS)}static encode(l,p,m){let w=new Xi(l).encode(),_=F.truncDivision(w.getSize()*p,100)+11,A=w.getSize()+_,O,M,B,W,te;if(m!==Mr.DEFAULT_AZTEC_LAYERS){if(O=m<0,M=Math.abs(m),M>(O?Mr.MAX_NB_BITS_COMPACT:Mr.MAX_NB_BITS))throw new g(G.format("Illegal value %s for layers",m));B=Mr.totalBitsInLayer(M,O),W=Mr.WORD_SIZE[M];let ot=B-B%W;if(te=Mr.stuffBits(w,W),te.getSize()+_>ot)throw new g("Data to large for user specified layer");if(O&&te.getSize()>W*64)throw new g("Data to large for user specified layer")}else{W=0,te=null;for(let ot=0;;ot++){if(ot>Mr.MAX_NB_BITS)throw new g("Data too large for an Aztec code");if(O=ot<=3,M=O?ot+1:ot,B=Mr.totalBitsInLayer(M,O),A>B)continue;(te==null||W!==Mr.WORD_SIZE[M])&&(W=Mr.WORD_SIZE[M],te=Mr.stuffBits(w,W));let nr=B-B%W;if(!(O&&te.getSize()>W*64)&&te.getSize()+_<=nr)break}}let ce=Mr.generateCheckWords(te,B,W),Ae=te.getSize()/W,je=Mr.generateModeMessage(O,M,Ae),Pe=(O?11:14)+M*4,Be=new Int32Array(Pe),Ze;if(O){Ze=Pe;for(let ot=0;ot<Be.length;ot++)Be[ot]=ot}else{Ze=Pe+1+2*F.truncDivision(F.truncDivision(Pe,2)-1,15);let ot=F.truncDivision(Pe,2),nr=F.truncDivision(Ze,2);for(let pr=0;pr<ot;pr++){let qn=pr+F.truncDivision(pr,15);Be[ot-pr-1]=nr-qn-1,Be[ot+pr]=nr+qn+1}}let ct=new J(Ze);for(let ot=0,nr=0;ot<M;ot++){let pr=(M-ot)*4+(O?9:12);for(let qn=0;qn<pr;qn++){let oi=qn*2;for(let Ba=0;Ba<2;Ba++)ce.get(nr+oi+Ba)&&ct.set(Be[ot*2+Ba],Be[ot*2+qn]),ce.get(nr+pr*2+oi+Ba)&&ct.set(Be[ot*2+qn],Be[Pe-1-ot*2-Ba]),ce.get(nr+pr*4+oi+Ba)&&ct.set(Be[Pe-1-ot*2-Ba],Be[Pe-1-ot*2-qn]),ce.get(nr+pr*6+oi+Ba)&&ct.set(Be[Pe-1-ot*2-qn],Be[ot*2+Ba])}nr+=pr*8}if(Mr.drawModeMessage(ct,O,Ze,je),O)Mr.drawBullsEye(ct,F.truncDivision(Ze,2),5);else{Mr.drawBullsEye(ct,F.truncDivision(Ze,2),7);for(let ot=0,nr=0;ot<F.truncDivision(Pe,2)-1;ot+=15,nr+=16)for(let pr=F.truncDivision(Ze,2)&1;pr<Ze;pr+=2)ct.set(F.truncDivision(Ze,2)-nr,pr),ct.set(F.truncDivision(Ze,2)+nr,pr),ct.set(pr,F.truncDivision(Ze,2)-nr),ct.set(pr,F.truncDivision(Ze,2)+nr)}let ut=new Cs;return ut.setCompact(O),ut.setSize(Ze),ut.setLayers(M),ut.setCodeWords(Ae),ut.setMatrix(ct),ut}static drawBullsEye(l,p,m){for(let w=0;w<m;w+=2)for(let _=p-w;_<=p+w;_++)l.set(_,p-w),l.set(_,p+w),l.set(p-w,_),l.set(p+w,_);l.set(p-m,p-m),l.set(p-m+1,p-m),l.set(p-m,p-m+1),l.set(p+m,p-m),l.set(p+m,p-m+1),l.set(p+m,p+m-1)}static generateModeMessage(l,p,m){let w=new U;return l?(w.appendBits(p-1,2),w.appendBits(m-1,6),w=Mr.generateCheckWords(w,28,4)):(w.appendBits(p-1,5),w.appendBits(m-1,11),w=Mr.generateCheckWords(w,40,4)),w}static drawModeMessage(l,p,m,w){let _=F.truncDivision(m,2);if(p)for(let A=0;A<7;A++){let O=_-3+A;w.get(A)&&l.set(O,_-5),w.get(A+7)&&l.set(_+5,O),w.get(20-A)&&l.set(O,_+5),w.get(27-A)&&l.set(_-5,O)}else for(let A=0;A<10;A++){let O=_-5+A+F.truncDivision(A,5);w.get(A)&&l.set(O,_-7),w.get(A+10)&&l.set(_+7,O),w.get(29-A)&&l.set(O,_+7),w.get(39-A)&&l.set(_-7,O)}}static generateCheckWords(l,p,m){let w=l.getSize()/m,_=new br(Mr.getGF(m)),A=F.truncDivision(p,m),O=Mr.bitsToWords(l,m,A);_.encode(O,A-w);let M=p%m,B=new U;B.appendBits(0,M);for(const W of Array.from(O))B.appendBits(W,m);return B}static bitsToWords(l,p,m){let w=new Int32Array(m),_,A;for(_=0,A=l.getSize()/p;_<A;_++){let O=0;for(let M=0;M<p;M++)O|=l.get(_*p+M)?1<<p-M-1:0;w[_]=O}return w}static getGF(l){switch(l){case 4:return lt.AZTEC_PARAM;case 6:return lt.AZTEC_DATA_6;case 8:return lt.AZTEC_DATA_8;case 10:return lt.AZTEC_DATA_10;case 12:return lt.AZTEC_DATA_12;default:throw new g("Unsupported word size "+l)}}static stuffBits(l,p){let m=new U,w=l.getSize(),_=(1<<p)-2;for(let A=0;A<w;A+=p){let O=0;for(let M=0;M<p;M++)(A+M>=w||l.get(A+M))&&(O|=1<<p-1-M);(O&_)===_?(m.appendBits(O&_,p),A--):(O&_)===0?(m.appendBits(O|1,p),A--):m.appendBits(O,p)}return m}static totalBitsInLayer(l,p){return((p?88:112)+16*l)*l}}Mr.DEFAULT_EC_PERCENT=33,Mr.DEFAULT_AZTEC_LAYERS=0,Mr.MAX_NB_BITS=32,Mr.MAX_NB_BITS_COMPACT=4,Mr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class js{encode(l,p,m,w){return this.encodeWithHints(l,p,m,w,null)}encodeWithHints(l,p,m,w,_){let A=Ns.ISO_8859_1,O=Mr.DEFAULT_EC_PERCENT,M=Mr.DEFAULT_AZTEC_LAYERS;return _!=null&&(_.has(Et.CHARACTER_SET)&&(A=Rl.forName(_.get(Et.CHARACTER_SET).toString())),_.has(Et.ERROR_CORRECTION)&&(O=F.parseInt(_.get(Et.ERROR_CORRECTION).toString())),_.has(Et.AZTEC_LAYERS)&&(M=F.parseInt(_.get(Et.AZTEC_LAYERS).toString()))),js.encodeLayers(l,p,m,w,A,O,M)}static encodeLayers(l,p,m,w,_,A,O){if(p!==we.AZTEC)throw new g("Can only encode AZTEC, but got "+p);let M=Mr.encode(G.getBytes(l,_),A,O);return js.renderResult(M,m,w)}static renderResult(l,p,m){let w=l.getMatrix();if(w==null)throw new ye;let _=w.getWidth(),A=w.getHeight(),O=Math.max(p,_),M=Math.max(m,A),B=Math.min(O/_,M/A),W=(O-_*B)/2,te=(M-A*B)/2,ce=new J(O,M);for(let Ae=0,je=te;Ae<A;Ae++,je+=B)for(let Pe=0,Be=W;Pe<_;Pe++,Be+=B)w.get(Pe,Ae)&&ce.setRegion(Be,je,B,B);return ce}}r.AbstractExpandedDecoder=pn,r.ArgumentException=h,r.ArithmeticException=qe,r.AztecCode=Cs,r.AztecCodeReader=Ht,r.AztecCodeWriter=js,r.AztecDecoder=_t,r.AztecDetector=Tr,r.AztecDetectorResult=ir,r.AztecEncoder=Mr,r.AztecHighLevelEncoder=Xi,r.AztecPoint=Tt,r.BarcodeFormat=we,r.Binarizer=E,r.BinaryBitmap=x,r.BitArray=U,r.BitMatrix=J,r.BitSource=ds,r.BrowserAztecCodeReader=ca,r.BrowserBarcodeReader=Yc,r.BrowserCodeReader=le,r.BrowserDatamatrixCodeReader=Oi,r.BrowserMultiFormatReader=Fe,r.BrowserPDF417Reader=dt,r.BrowserQRCodeReader=bt,r.BrowserQRCodeSvgWriter=Xn,r.CharacterSetECI=q,r.ChecksumException=y,r.Code128Reader=nt,r.Code39Reader=Dt,r.DataMatrixDecodedBitStreamParser=Ss,r.DataMatrixReader=As,r.DecodeHintType=X,r.DecoderResult=Te,r.DefaultGridSampler=Ur,r.DetectorResult=ar,r.EAN13Reader=_r,r.EncodeHintType=Et,r.Exception=c,r.FormatException=$,r.GenericGF=lt,r.GenericGFPoly=Je,r.GlobalHistogramBinarizer=re,r.GridSampler=Br,r.GridSamplerInstance=Nr,r.HTMLCanvasElementLuminanceSource=be,r.HybridBinarizer=he,r.ITFReader=Ft,r.IllegalArgumentException=g,r.IllegalStateException=ye,r.InvertedLuminanceSource=pe,r.LuminanceSource=Se,r.MathUtils=rt,r.MultiFormatOneDReader=Hi,r.MultiFormatReader=Ie,r.MultiFormatWriter=Vs,r.NotFoundException=ae,r.OneDReader=tr,r.PDF417DecodedBitStreamParser=et,r.PDF417DecoderErrorCorrection=$i,r.PDF417Reader=ne,r.PDF417ResultMetadata=lo,r.PerspectiveTransform=lr,r.PlanarYUVLuminanceSource=La,r.QRCodeByteMatrix=Gr,r.QRCodeDataMask=gi,r.QRCodeDecodedBitStreamParser=_n,r.QRCodeDecoderErrorCorrectionLevel=Or,r.QRCodeDecoderFormatInformation=da,r.QRCodeEncoder=jr,r.QRCodeEncoderQRCode=mn,r.QRCodeMaskUtil=Lt,r.QRCodeMatrixUtil=Nt,r.QRCodeMode=rr,r.QRCodeReader=$s,r.QRCodeVersion=jt,r.QRCodeWriter=Vi,r.RGBLuminanceSource=Pl,r.RSS14Reader=rn,r.RSSExpandedReader=gt,r.ReaderException=Ee,r.ReedSolomonDecoder=wt,r.ReedSolomonEncoder=br,r.ReedSolomonException=yt,r.Result=me,r.ResultMetadataType=ze,r.ResultPoint=it,r.StringUtils=G,r.UnsupportedOperationException=se,r.VideoInputDevice=oe,r.WhiteRectangleDetector=vr,r.WriterException=Sr,r.ZXingArrays=D,r.ZXingCharset=Rl,r.ZXingInteger=F,r.ZXingStandardCharsets=Ns,r.ZXingStringBuilder=ue,r.ZXingStringEncoding=H,r.ZXingSystem=N,r.createAbstractExpandedDecoder=sl,Object.defineProperty(r,"__esModule",{value:!0})}))})(K1,K1.exports)),K1.exports}var Ma=$fe();const Wfe=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var aj=(function(){function e(t,r,n){if(this.formatMap=new Map([[Bt.QR_CODE,Ma.BarcodeFormat.QR_CODE],[Bt.AZTEC,Ma.BarcodeFormat.AZTEC],[Bt.CODABAR,Ma.BarcodeFormat.CODABAR],[Bt.CODE_39,Ma.BarcodeFormat.CODE_39],[Bt.CODE_93,Ma.BarcodeFormat.CODE_93],[Bt.CODE_128,Ma.BarcodeFormat.CODE_128],[Bt.DATA_MATRIX,Ma.BarcodeFormat.DATA_MATRIX],[Bt.MAXICODE,Ma.BarcodeFormat.MAXICODE],[Bt.ITF,Ma.BarcodeFormat.ITF],[Bt.EAN_13,Ma.BarcodeFormat.EAN_13],[Bt.EAN_8,Ma.BarcodeFormat.EAN_8],[Bt.PDF_417,Ma.BarcodeFormat.PDF_417],[Bt.RSS_14,Ma.BarcodeFormat.RSS_14],[Bt.RSS_EXPANDED,Ma.BarcodeFormat.RSS_EXPANDED],[Bt.UPC_A,Ma.BarcodeFormat.UPC_A],[Bt.UPC_E,Ma.BarcodeFormat.UPC_E],[Bt.UPC_EAN_EXTENSION,Ma.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Wfe)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var a=this.createZXingFormats(t),i=new Map;i.set(Ma.DecodeHintType.POSSIBLE_FORMATS,a),i.set(Ma.DecodeHintType.TRY_HARDER,!1),this.hints=i}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,a){try{n(r.decode(t))}catch(i){a(i)}})},e.prototype.decode=function(t){var r=new Ma.MultiFormatReader(this.verbose,this.hints),n=new Ma.HTMLCanvasElementLuminanceSource(t),a=new Ma.BinaryBitmap(new Ma.HybridBinarizer(n)),i=r.decode(a);return{text:i.text,format:YL.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,a){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,a=t;n<a.length;n++){var i=a[n];this.formatMap.has(i)?r.push(this.formatMap.get(i)):this.logger.logError("".concat(i," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),Vfe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function u(h){try{c(n.next(h))}catch(g){o(g)}}function d(h){try{c(n.throw(h))}catch(g){o(g)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((n=n.apply(e,t||[])).next())})},Yfe=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return d([c,h])}}function d(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,a&&(i=c[0]&2?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(h){c=[6,h],a=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},ij=(function(){function e(t,r,n){if(this.formatMap=new Map([[Bt.QR_CODE,"qr_code"],[Bt.AZTEC,"aztec"],[Bt.CODABAR,"codabar"],[Bt.CODE_39,"code_39"],[Bt.CODE_93,"code_93"],[Bt.CODE_128,"code_128"],[Bt.DATA_MATRIX,"data_matrix"],[Bt.ITF,"itf"],[Bt.EAN_13,"ean_13"],[Bt.EAN_8,"ean_8"],[Bt.PDF_417,"pdf417"],[Bt.UPC_A,"upc_a"],[Bt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return Vfe(this,void 0,void 0,function(){var r,n;return Yfe(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=a.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:YL.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,a=0,i=t;a<i.length;a++){var o=i[a],u=o.boundingBox.width*o.boundingBox.height;u>n&&(n=u,r=o)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,a=t;n<a.length;n++){var i=a[n];this.formatMap.has(i)?r.push(this.formatMap.get(i)):this.logger.warn("".concat(i," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,a){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),sj=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function u(h){try{c(n.next(h))}catch(g){o(g)}}function d(h){try{c(n.throw(h))}catch(g){o(g)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((n=n.apply(e,t||[])).next())})},oj=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return d([c,h])}}function d(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,a&&(i=c[0]&2?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(h){c=[6,h],a=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Xfe=(function(){function e(t,r,n,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&ij.isSupported()?(this.primaryDecoder=new ij(t,n,a),this.secondaryDecoder=new aj(t,n,a)):this.primaryDecoder=new aj(t,n,a)}return e.prototype.decodeAsync=function(t){return sj(this,void 0,void 0,function(){var r;return oj(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return sj(this,void 0,void 0,function(){var r,n;return oj(this,function(a){switch(a.label){case 0:r=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,a.sent()];case 3:if(n=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var a=n[r];t+=a}var i=t/this.executionResults.length;console.log("".concat(i," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),RA=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Pb=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function u(h){try{c(n.next(h))}catch(g){o(g)}}function d(h){try{c(n.throw(h))}catch(g){o(g)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((n=n.apply(e,t||[])).next())})},Rb=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return d([c,h])}}function d(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,a&&(i=c[0]&2?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(h){c=[6,h],a=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},QL=(function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e})(),Kfe=(function(e){RA(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var a={advanced:[n]};return this.track.applyConstraints(a)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(QL),Zfe=(function(e){RA(t,e);function t(r){return e.call(this,"zoom",r)||this}return t})(Kfe),Qfe=(function(e){RA(t,e);function t(r){return e.call(this,"torch",r)||this}return t})(QL),Jfe=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new Zfe(this.track)},e.prototype.torchFeature=function(){return new Qfe(this.track)},e})(),ede=(function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,a=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,a),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,a){return Pb(this,void 0,void 0,function(){var i,o;return Rb(this,function(u){switch(u.label){case 0:return i=new e(t,r,a),n.aspectRatio?(o={aspectRatio:n.aspectRatio},[4,i.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:u.sent(),u.label=2;case 2:return i.setupSurface(),[2,i]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Pb(this,void 0,void 0,function(){return Rb(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var a=t.mediaStream.getVideoTracks(),i=a.length,o=0;t.mediaStream.getVideoTracks().forEach(function(u){t.mediaStream.removeTrack(u),u.stop(),++o,o>=i&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new Jfe(this.getFirstTrackOrFail())},e})(),tde=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return Pb(this,void 0,void 0,function(){return Rb(this,function(a){return[2,ede.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return Pb(this,void 0,void 0,function(){var r,n;return Rb(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=a.sent(),[2,new e(n)]}})})},e})(),lj=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function u(h){try{c(n.next(h))}catch(g){o(g)}}function d(h){try{c(n.throw(h))}catch(g){o(g)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((n=n.apply(e,t||[])).next())})},cj=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return d([c,h])}}function d(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,a&&(i=c[0]&2?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(h){c=[6,h],a=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},rde=(function(){function e(){}return e.failIfNotSupported=function(){return lj(this,void 0,void 0,function(){return cj(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return lj(this,void 0,void 0,function(){return cj(this,function(r){return[2,tde.create(t)]})})},e})(),nde=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function u(h){try{c(n.next(h))}catch(g){o(g)}}function d(h){try{c(n.throw(h))}catch(g){o(g)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((n=n.apply(e,t||[])).next())})},ade=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return d([c,h])}}function d(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,a&&(i=c[0]&2?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(h){c=[6,h],a=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},ide=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=n0.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=n0.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return nde(this,void 0,void 0,function(){var t,r,n,a,i,o,u;return ade(this,function(d){switch(d.label){case 0:return t=function(c){for(var h=c.getVideoTracks(),g=0,x=h;g<x.length;g++){var y=x[g];y.enabled=!1,y.stop(),c.removeTrack(y)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=d.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=d.sent(),a=[],i=0,o=n;i<o.length;i++)u=o[i],u.kind==="videoinput"&&a.push({id:u.deviceId,label:u.label});return t(r),[2,a]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(i){for(var o=[],u=0,d=i;u<d.length;u++){var c=d[u];c.kind==="video"&&o.push({id:c.id,label:c.label})}t(o)},a=MediaStreamTrack;a.getSources(n)})},e})(),Va;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Va||(Va={}));var sde=(function(){function e(){this.state=Va.NOT_STARTED,this.onGoingTransactionNewState=Va.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Va.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Va.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Va.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Va.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Va.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Va.UNKNOWN:throw"Transition from unknown is not allowed";case Va.NOT_STARTED:this.failIfNewStateIs(t,[Va.PAUSED]);break;case Va.SCANNING:break;case Va.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,a=r;n<a.length;n++){var i=a[n];if(t===i)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),ode=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Va.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Va.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Va.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Va.PAUSED},e})(),lde=(function(){function e(){}return e.create=function(){return new ode(new sde)},e})(),cde=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Yo=(function(e){cde(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(Zl),ude=(function(){function e(t,r){this.logger=r,this.fps=Yo.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Yo.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?ZL.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Ic(this.qrbox)},e.create=function(t,r){return new e(t,r)},e})(),uj=(function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new KL(this.verbose),this.qrcode=new Xfe(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=lde.create()}return e.prototype.start=function(t,r,n,a){var i=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;a?o=a:o=this.verbose?this.logger.log:function(){};var u=ude.create(r,this.logger);this.clearElement();var d=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?d=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var c=d,h=document.getElementById(this.elementId);h.clientWidth?h.clientWidth:Yo.DEFAULT_WIDTH,h.style.position="relative",this.shouldScan=!0,this.element=h;var g=this,x=this.stateManagerProxy.startTransition(Va.SCANNING);return new Promise(function(y,E){var N=c?u.videoConstraints:g.createVideoConstraints(t);if(!N){x.cancel(),E("videoConstraints should be defined");return}var T={};(!c||u.aspectRatio)&&(T.aspectRatio=u.aspectRatio);var j={onRenderSurfaceReady:function(D,F){g.setupUi(D,F,u),g.isScanning=!0,g.foreverScan(u,n,o)}};rde.failIfNotSupported().then(function(D){D.create(N).then(function(F){return F.render(i.element,T,j).then(function(U){g.renderedCamera=U,x.execute(),y(null)}).catch(function(U){x.cancel(),E(U)})}).catch(function(F){x.cancel(),E(n0.errorGettingUserMedia(F))})}).catch(function(D){x.cancel(),E(n0.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Va.PAUSED),this.showPausedState(),(Ic(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Va.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Va.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var i=document.getElementById(Yo.SHADED_REGION_ELEMENT_ID);i&&t.element.removeChild(i)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),n(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),r.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ic(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,i){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var u=o.width,d=o.height,c=document.getElementById(n.elementId),h=c.clientWidth?c.clientWidth:Yo.DEFAULT_WIDTH,g=Math.max(c.clientHeight?c.clientHeight:d,Yo.FILE_SCAN_MIN_HEIGHT),x=n.computeCanvasDrawConfig(u,d,h,g);if(r){var y=n.createCanvasElement(h,g,"qr-canvas-visible");y.style.display="inline-block",c.appendChild(y);var E=y.getContext("2d");if(!E)throw"Unable to get 2d context from canvas";E.canvas.width=h,E.canvas.height=g,E.drawImage(o,0,0,u,d,x.x,x.y,x.width,x.height)}var N=Yo.FILE_SCAN_HIDDEN_CANVAS_PADDING,T=Math.max(o.width,x.width),j=Math.max(o.height,x.height),D=T+2*N,F=j+2*N,U=n.createCanvasElement(D,F);c.appendChild(U);var Z=U.getContext("2d");if(!Z)throw"Unable to get 2d context from canvas";Z.canvas.width=D,Z.canvas.height=F,Z.drawImage(o,0,0,u,d,N,N,T,j);try{n.qrcode.decodeRobustlyAsync(U).then(function(X){a(tj.createFromQrcodeResult(X))}).catch(i)}catch(X){i("QR code parse error, error = ".concat(X))}},o.onerror=i,o.onabort=i,o.onstalled=i,o.onsuspend=i,o.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return ide.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!ZL.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[Bt.QR_CODE,Bt.AZTEC,Bt.CODABAR,Bt.CODE_39,Bt.CODE_93,Bt.CODE_128,Bt.DATA_MATRIX,Bt.MAXICODE,Bt.ITF,Bt.EAN_13,Bt.EAN_8,Bt.PDF_417,Bt.RSS_14,Bt.RSS_EXPANDED,Bt.UPC_A,Bt.UPC_E,Bt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],a=0,i=t.formatsToSupport;a<i.length;a++){var o=i[a];qfe(o)?n.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Ic(t))return!0;if(!Ic(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Ic(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return Ic(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var a=this,i=n.qrbox;this.validateQrboxConfig(i);var o=this.toQrdimensions(t,r,i),u=function(c){if(c<Yo.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Yo.MIN_QR_BOX_SIZE,"px.")},d=function(c){return c>t&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),c=t),c};u(o.width),u(o.height),o.width=d(o.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var a=Ic(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(a);var i=this.toQrdimensions(t,r,a);i.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=n.isShadedBoxEnabled()&&i.height<=r,u={x:0,y:0,width:t,height:r},d=o?this.getShadedRegionBounds(t,r,i):u,c=this.createCanvasElement(d.width,d.height),h={willReadFrequently:!0},g=c.getContext("2d",h);g.canvas.width=d.width,g.canvas.height=d.height,this.element.append(c),o&&this.possiblyInsertShadingElement(this.element,t,r,i),this.createScannerPausedUiElement(this.element),this.qrRegion=d,this.context=g,this.canvasElement=c},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=n0.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return t(a.text,tj.createFromQrcodeResult(a)),n.possiblyUpdateShaders(!0),!0}).catch(function(a){n.possiblyUpdateShaders(!1);var i=n0.codeParseError(a);return r(i,XL.createFrom(i)),!1})},e.prototype.foreverScan=function(t,r,n){var a=this;if(this.shouldScan&&this.renderedCamera){var i=this.renderedCamera.getSurface(),o=i.videoWidth/i.clientWidth,u=i.videoHeight/i.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var d=this.qrRegion.width*o,c=this.qrRegion.height*u,h=this.qrRegion.x*o,g=this.qrRegion.y*u;this.context.drawImage(i,h,g,d,c,0,0,this.qrRegion.width,this.qrRegion.height);var x=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(t,r,n)},a.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(y){!y&&t.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(r,n).finally(function(){x()})):x()}).catch(function(y){a.logger.logError("Error happend while scanning context",y),x()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",a={user:!0,environment:!0},i="exact",o=function(E){if(E in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(E,"'")},u=Object.keys(t);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var d=Object.keys(t)[0];if(d!==r&&d!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(d===r){var c=t.facingMode;if(typeof c=="string"){if(o(c))return{facingMode:c}}else if(typeof c=="object")if(i in c){if(o(c["".concat(i)]))return{facingMode:{exact:c["".concat(i)]}}}else throw"'facingMode' should be string or object with"+" ".concat(i," as key.");else{var h=typeof c;throw"Invalid type of 'facingMode' = ".concat(h)}}else{var g=t.deviceId;if(typeof g=="string")return{deviceId:g};if(typeof g=="object"){if(i in g)return{deviceId:{exact:g["".concat(i)]}};throw"'deviceId' should be string or object with"+" ".concat(i," as key.")}else{var x=typeof g;throw"Invalid type of 'deviceId' = ".concat(x)}}}var y=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(y)},e.prototype.computeCanvasDrawConfig=function(t,r,n,a){if(t<=n&&r<=a){var i=(n-t)/2,o=(a-r)/2;return{x:i,y:o,width:t,height:r}}else{var u=t,d=r;return t>n&&(r=n/t*r,t=n),r>a&&(t=a/r*t,r=a),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(d)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,a)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?Yo.BORDER_SHADER_MATCH_COLOR:Yo.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var a=t,i=r,o=document.createElement("canvas");return o.style.width="".concat(a,"px"),o.style.height="".concat(i,"px"),o.style.display="none",o.id=Ic(n)?"qr-canvas":n,o},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,a){if(!(r-a.width<1||n-a.height<1)){var i=document.createElement("div");i.style.position="absolute";var o=(r-a.width)/2,u=(n-a.height)/2;if(i.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),i.style.boxSizing="border-box",i.style.top="0px",i.style.bottom="0px",i.style.left="0px",i.style.right="0px",i.id="".concat(Yo.SHADED_REGION_ELEMENT_ID),r-a.width<11||n-a.height<11)this.hasBorderShaders=!1;else{var d=5,c=40;this.insertShaderBorders(i,c,d,-d,null,0,!0),this.insertShaderBorders(i,c,d,-d,null,0,!1),this.insertShaderBorders(i,c,d,null,-d,0,!0),this.insertShaderBorders(i,c,d,null,-d,0,!1),this.insertShaderBorders(i,d,c+d,-d,null,-d,!0),this.insertShaderBorders(i,d,c+d,null,-d,-d,!0),this.insertShaderBorders(i,d,c+d,-d,null,-d,!1),this.insertShaderBorders(i,d,c+d,null,-d,-d,!1),this.hasBorderShaders=!0}t.append(i)}},e.prototype.insertShaderBorders=function(t,r,n,a,i,o,u){var d=document.createElement("div");d.style.position="absolute",d.style.backgroundColor=Yo.BORDER_SHADER_DEFAULT_COLOR,d.style.width="".concat(r,"px"),d.style.height="".concat(n,"px"),a!==null&&(d.style.top="".concat(a,"px")),i!==null&&(d.style.bottom="".concat(i,"px")),u?d.style.left="".concat(o,"px"):d.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(d),t.appendChild(d)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),DA="data:image/svg+xml;base64,",fde=DA+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",dde=DA+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",fj=DA+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",hde="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",dj=(function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e})(),pde=(function(){function e(){this.data=dj.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=dj.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e})(),mde=(function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=rj.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var n=document.createElement("br"),a=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(a);var i=document.createElement("a");i.innerText=rj.reportIssues(),i.href="https://github.com/mebjas/html5-qrcode/issues",i.target="new",i.style.color="white",this.infoDiv.appendChild(i),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e})(),gde=(function(){function e(t,r){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=r,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=fj,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(n){return r.onHoverIn()},this.infoIcon.onmouseout=function(n){return r.onHoverOut()},this.infoIcon.onclick=function(n){return r.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=hde,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=fj,this.infoIcon.style.opacity="0.6")},e})(),vde=(function(){function e(){var t=this;this.infoDiv=new mde,this.infoIcon=new gde(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e})(),bde=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function u(h){try{c(n.next(h))}catch(g){o(g)}}function d(h){try{c(n.throw(h))}catch(g){o(g)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((n=n.apply(e,t||[])).next())})},yde=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return d([c,h])}}function d(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,a&&(i=c[0]&2?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(h){c=[6,h],a=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},hj=(function(){function e(){}return e.hasPermissions=function(){return bde(this,void 0,void 0,function(){var t,r,n,a;return yde(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=i.sent(),r=0,n=t;r<n.length;r++)if(a=n[r],a.kind==="videoinput"&&a.label)return[2,!0];return[2,!1]}})})},e})(),yf=(function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++){var n=r[t];if(e.isCameraScanType(n))return!0}return!1},e.isCameraScanType=function(t){return t===Df.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Df.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Zl.DEFAULT_SUPPORTED_SCAN_TYPE;var r=Zl.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var n=0,a=t;n<a.length;n++){var i=a[n];if(!Zl.DEFAULT_SUPPORTED_SCAN_TYPE.includes(i))throw"Unsupported scan type ".concat(i)}return t},e})(),Qo=(function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e})(),Au=(function(){function e(){}return e.createElement=function(t,r){var n=document.createElement(t);return n.id=r,n.classList.add(Qo.ALL_ELEMENT_CLASS),t==="button"&&n.setAttribute("type","button"),n},e})(),JL=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function u(h){try{c(n.next(h))}catch(g){o(g)}}function d(h){try{c(n.throw(h))}catch(g){o(g)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((n=n.apply(e,t||[])).next())})},e9=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return d([c,h])}}function d(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,a&&(i=c[0]&2?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(h){c=[6,h],a=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},pj=(function(){function e(t,r,n){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=r,this.onTorchActionFailureCallback=n}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return JL(this,void 0,void 0,function(){var t,r;return e9(this,function(n){switch(n.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return r=n.sent(),this.propagateFailure(t,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,r){t===r?(this.buttonController.setText(r?Bn.torchOffButton():Bn.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},e.prototype.propagateFailure=function(t,r){var n=t?Bn.torchOnFailedMessage():Bn.torchOffFailedMessage();r&&(n+="; Error = "+r),this.onTorchActionFailureCallback(n)},e.prototype.reset=function(){this.isTorchOn=!1},e})(),xde=(function(){function e(t,r){this.onTorchActionFailureCallback=r,this.torchButton=Au.createElement("button",Qo.TORCH_BUTTON_ID),this.torchController=new pj(t,this,r)}return e.prototype.render=function(t,r){var n=this;this.torchButton.innerText=Bn.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var a=this;this.torchButton.addEventListener("click",function(i){return JL(n,void 0,void 0,function(){return e9(this,function(o){switch(o.label){case 0:return[4,a.torchController.flipState()];case 1:return o.sent(),a.torchController.isTorchEnabled()?(a.torchButton.classList.remove(Qo.TORCH_BUTTON_CLASS_TORCH_OFF),a.torchButton.classList.add(Qo.TORCH_BUTTON_CLASS_TORCH_ON)):(a.torchButton.classList.remove(Qo.TORCH_BUTTON_CLASS_TORCH_ON),a.torchButton.classList.add(Qo.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new pj(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Bn.torchOnButton(),this.torchController.reset()},e.create=function(t,r,n,a){var i=new e(r,a);return i.render(t,n),i},e})(),wde=(function(){function e(t,r,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",t.appendChild(this.fileBasedScanRegion);var a=document.createElement("label");a.setAttribute("for",this.getFileScanInputId()),a.style.display="inline-block",this.fileBasedScanRegion.appendChild(a),this.fileSelectionButton=Au.createElement("button",Qo.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(u){a.click()}),a.append(this.fileSelectionButton),this.fileScanInput=Au.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",a.appendChild(this.fileScanInput);var i=this;this.fileScanInput.addEventListener("change",function(u){if(!(u==null||u.target==null)){var d=u.target;if(!(d.files&&d.files.length===0)){var c=d.files,h=c[0],g=h.name;i.setImageNameToButton(g),n(h)}}});var o=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o),this.fileBasedScanRegion.addEventListener("dragenter",function(u){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(u){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionDefaultBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(u){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(u){u.stopPropagation(),u.preventDefault(),i.fileBasedScanRegion.style.border=i.fileBasedScanRegionDefaultBorder();var d=u.dataTransfer;if(d){var c=d.files;if(!c||c.length===0)return;for(var h=!1,g=0;g<c.length;++g){var x=c.item(g);if(x){var y=/image.*/;if(x.type.match(y)){h=!0;var E=x.name;i.setImageNameToButton(E),n(x),o.innerText=Bn.dragAndDropMessage();break}}}h||(o.innerText=Bn.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Bn.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var r=20;if(t.length>r){var n=t.substring(0,8),a=t.length,i=t.substring(a-8,a);t="".concat(n,"....").concat(i)}var o=Bn.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=o},e.prototype.setInitialValueToButton=function(){var t=Bn.fileSelectionChooseImage()+" - "+Bn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,n){var a=new e(t,r,n);return a},e})(),_de=(function(){function e(t){this.selectElement=Au.createElement("select",Qo.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var r=document.createElement("span");r.style.marginRight="10px";var n=this.cameras.length;if(n===0)throw new Error("No cameras found");if(n===1)r.style.display="none";else{var a=Bn.selectCamera();r.innerText="".concat(a," (").concat(this.cameras.length,")  ")}for(var i=1,o=0,u=this.cameras;o<u.length;o++){var d=u[o],c=d.id,h=d.label==null?c:d.label;(!h||h==="")&&(h=[Bn.anonymousCameraPrefix(),i++].join(" "));var g=document.createElement("option");g.value=c,g.innerText=h,this.options.push(g),this.selectElement.appendChild(g)}r.appendChild(this.selectElement),t.appendChild(r)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var r=0,n=this.options;r<n.length;r++){var a=n[r];if(a.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var n=new e(r);return n.render(t),n},e})(),Sde=(function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Au.createElement("input",Qo.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var n=Bn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.rangeText.style.marginRight="10px";var a=this;this.rangeInput.addEventListener("input",function(){return a.onValueChange()}),this.rangeInput.addEventListener("change",function(){return a.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Bn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,r,n,a){this.rangeInput.min=t.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=a.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var n=new e;return n.render(t,r),n},e})(),Xo;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Xo||(Xo={}));function Ade(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function Ede(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var Nde=(function(){function e(t,r,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(r),this.verbose=n===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new yf(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new KL(this.verbose),this.persistedDataManager=new pde,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,r){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(i,o){if(t)t(i,o);else{if(n.lastMatchFound===i)return;n.lastMatchFound=i,n.setHeaderMessage(Bn.lastMatch(i),Xo.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(i,o){r&&r(i,o)};var a=document.getElementById(this.elementId);if(!a)throw"HTML Element with id=".concat(this.elementId," not found");a.innerHTML="",this.createBasicLayout(a),this.html5Qrcode=new uj(this.getScanRegionId(),Ede(this.config,this.verbose))},e.prototype.pause=function(t){(Ic(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,r=function(){var n=document.getElementById(t.elementId);n&&(n.innerHTML="",t.resetBasicLayout(n))};return this.html5Qrcode?new Promise(function(n,a){if(!t.html5Qrcode){n();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(i){if(!t.html5Qrcode){n();return}t.html5Qrcode.clear(),r(),n()}).catch(function(i){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",i),a(i)}):(t.html5Qrcode.clear(),r(),n())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Zl.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Zl.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Zl.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Zl.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Zl.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Zl.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Zl.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var r=document.createElement("div"),n=this.getScanRegionId();r.id=n,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",t.appendChild(r),yf.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var a=document.createElement("div"),i=this.getDashboardId();a.id=i,a.style.width="100%",t.appendChild(a),this.setupInitialDashboard(a)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",t.appendChild(r);var n=new vde;n.renderInto(r);var a=document.createElement("div");a.id=this.getHeaderMessageContainerId(),a.style.display="none",a.style.textAlign="center",a.style.fontSize="14px",a.style.padding="2px 10px",a.style.margin="4px",a.style.borderTop="1px solid #f6f6f6",r.appendChild(a)},e.prototype.createSection=function(t){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",t.appendChild(r)},e.prototype.createCameraListUi=function(t,r,n){var a=this;a.showHideScanTypeSwapLink(!1),a.setHeaderMessage(Bn.cameraPermissionRequesting());var i=function(){n||a.createPermissionButton(t,r)};uj.getCameras().then(function(o){a.persistedDataManager.setHasPermission(!0),a.showHideScanTypeSwapLink(!0),a.resetHeaderMessage(),o&&o.length>0?(t.removeChild(r),a.renderCameraSelection(o)):(a.setHeaderMessage(Bn.noCameraFound(),Xo.STATUS_WARNING),i())}).catch(function(o){a.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:i(),a.setHeaderMessage(o,Xo.STATUS_WARNING),a.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,r){var n=this,a=Au.createElement("button",this.getCameraPermissionButtonId());a.innerText=Bn.cameraPermissionTitle(),a.addEventListener("click",function(){a.disabled=!0,n.createCameraListUi(t,r,a)}),r.appendChild(a)},e.prototype.createPermissionsUi=function(t,r){var n=this;if(yf.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){hj.hasPermissions().then(function(a){a?n.createCameraListUi(t,r):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(t,r))}).catch(function(a){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(t,r)});return}this.createPermissionButton(t,r)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");t.appendChild(r);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=yf.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(n);var a=document.createElement("div");a.style.textAlign="center",n.appendChild(a),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,a),this.renderFileScanUi(r)},e.prototype.renderFileScanUi=function(t){var r=yf.isFileScanType(this.currentScanType),n=this,a=function(i){if(!n.html5Qrcode)throw"html5Qrcode not defined";yf.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(Bn.loadingImage()),n.html5Qrcode.scanFileV2(i,!0).then(function(o){n.resetHeaderMessage(),n.qrCodeSuccessCallback(o.decodedText,o)}).catch(function(o){n.setHeaderMessage(o,Xo.STATUS_WARNING),n.qrCodeErrorCallback(o,XL.createFrom(o))}))};this.fileSelectionUi=wde.create(t,r,a)},e.prototype.renderCameraSelection=function(t){var r=this,n=this,a=document.getElementById(this.getDashboardSectionCameraScanRegionId());a.style.textAlign="center";var i=Sde.create(a,!1),o=function(N){var T=N.zoomFeature();if(T.isSupported()){i.setOnCameraZoomValueChangeCallback(function(D){T.apply(D)});var j=1;r.config.defaultZoomValueIfSupported&&(j=r.config.defaultZoomValueIfSupported),j=Hfe(j,T.min(),T.max()),i.setValues(T.min(),T.max(),j,T.step()),i.show()}},u=_de.create(a,t),d=document.createElement("span"),c=Au.createElement("button",Qo.CAMERA_START_BUTTON_ID);c.innerText=Bn.scanButtonStartScanningText(),d.appendChild(c);var h=Au.createElement("button",Qo.CAMERA_STOP_BUTTON_ID);h.innerText=Bn.scanButtonStopScanningText(),h.style.display="none",h.disabled=!0,d.appendChild(h);var g,x=function(N){if(!N.torchFeature().isSupported()){g&&g.hide();return}g?g.updateTorchCapability(N.torchFeature()):g=xde.create(d,N.torchFeature(),{display:"none",marginLeft:"5px"},function(T){n.setHeaderMessage(T,Xo.STATUS_WARNING)}),g.show()};a.appendChild(d);var y=function(N){N||(c.style.display="none"),c.innerText=Bn.scanButtonStartScanningText(),c.style.opacity="1",c.disabled=!1,N&&(c.style.display="inline-block")};if(c.addEventListener("click",function(N){c.innerText=Bn.scanButtonScanningStarting(),u.disable(),c.disabled=!0,c.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var T=u.getValue();n.persistedDataManager.setLastUsedCameraId(T),n.html5Qrcode.start(T,Ade(n.config),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then(function(j){h.disabled=!1,h.style.display="inline-block",y(!1);var D=n.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&x(D),r.config.showZoomSliderIfSupported===!0&&o(D)}).catch(function(j){n.showHideScanTypeSwapLink(!0),u.enable(),y(!0),n.setHeaderMessage(j,Xo.STATUS_WARNING)})}),u.hasSingleItem()&&c.click(),h.addEventListener("click",function(N){if(!n.html5Qrcode)throw"html5Qrcode not defined";h.disabled=!0,n.html5Qrcode.stop().then(function(T){r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),u.enable(),c.disabled=!1,h.style.display="none",c.style.display="inline-block",g&&(g.reset(),g.hide()),i.removeOnCameraZoomValueChangeCallback(),i.hide(),n.insertCameraScanImageToScanRegion()}).catch(function(T){h.disabled=!1,n.setHeaderMessage(T,Xo.STATUS_WARNING)})}),n.persistedDataManager.getLastUsedCameraId()){var E=n.persistedDataManager.getLastUsedCameraId();u.hasValue(E)?(u.setValue(E),c.click()):n.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,r=Bn.textIfCameraScanSelected(),n=Bn.textIfFileScanSelected(),a=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");i.style.textAlign="center";var o=Au.createElement("span",this.getDashboardSectionSwapLinkId());o.style.textDecoration="underline",o.style.cursor="pointer",o.innerText=yf.isCameraScanType(this.currentScanType)?r:n,o.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,yf.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),o.innerText=n,t.currentScanType=Df.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),o.innerText=r,t.currentScanType=Df.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),i.appendChild(o),a.appendChild(i)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){hj.hasPermissions().then(function(n){if(n){var a=document.getElementById(r.getCameraPermissionButtonId());if(!a)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";a.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(n){r.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,r){r||(r=Xo.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=t,n.style.display="block",r){case Xo.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case Xo.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;case Xo.STATUS_DEFAULT:default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=fde,this.cameraScanImage.alt=Bn.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=dde,this.fileScanImage.alt=Bn.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Qo.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Qo.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e})();function Cde({isOpen:e,onClose:t,onScan:r}){const n=R.useRef(null);return R.useEffect(()=>{if(e){const a=setTimeout(()=>{n.current=new Nde("qr-reader-quick-entry",{fps:10,qrbox:{width:300,height:150},rememberLastUsedCamera:!0,supportedScanTypes:[]},!1),n.current.render(i=>{n.current&&n.current.pause(!0),r(i)},i=>{})},100);return()=>{clearTimeout(a),n.current&&n.current.clear().catch(i=>console.error("Failed to clear scanner",i))}}},[e,r]),e?b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/80 backdrop-blur-sm p-4 animate-in fade-in",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden flex flex-col animate-in zoom-in-95",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-100",children:[b.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[b.jsx(LM,{className:"h-5 w-5"}),b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Escanear Cdigo / Gua"})]}),b.jsx("button",{onClick:t,className:"p-2 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-full transition-colors",children:b.jsx(zc,{className:"h-5 w-5"})})]}),b.jsx("div",{className:"p-4 bg-slate-50 flex items-center justify-center",children:b.jsx("div",{id:"qr-reader-quick-entry",className:"w-full bg-white rounded-xl overflow-hidden shadow-sm border border-slate-200"})}),b.jsx("div",{className:"p-4 bg-white border-t border-slate-100 text-center text-sm text-slate-500",children:"Apunta la cmara al cdigo de barras del paquete. El escaneo suceder automticamente."})]})}):null}const l5=(e="",t="")=>({id:Math.random().toString(36).substring(7),tracking:"",cliente_id:"",bodega_id:e,transportista_id:t,peso_lbs:"",largo_in:"",ancho_in:"",alto_in:"",piezas:"1",valor_declarado:"",es_fragil:!1,reempaque:!1,notas:"",clientSearch:"",clientResults:[],isSearchingClient:!1,showClientDropdown:!1});function Ode(){const{user:e}=Ja(),[t,r]=R.useState([]),[n,a]=R.useState([]),[i,o]=R.useState([]),[u,d]=R.useState(!1),[c,h]=R.useState(""),[g,x]=R.useState(""),[y,E]=R.useState(!1),[N,T]=R.useState(null);R.useEffect(()=>{j()},[]);async function j(){try{const[J,ae]=await Promise.all([At.from("bodegas").select("id, nombre").eq("activo",!0),At.from("transportistas").select("id, nombre").eq("activo",!0)]);let re="",he="";J.data&&J.data.length>0&&(r(J.data),re=J.data[0].id,h(re)),ae.data&&ae.data.length>0&&(a(ae.data),he=ae.data[0].id,x(he)),o([l5(re,he)])}catch(J){console.error("Error fetching catalogs:",J)}}const D=()=>{const J=i[i.length-1],ae=J?J.bodega_id:c,re=J?J.transportista_id:g,he=Math.random().toString(36).substring(7),Se=l5(ae,re);Se.id=he,o(pe=>[...pe,Se]),setTimeout(()=>{const pe=document.getElementById(`tracking-${he}`);pe&&pe.focus()},50)},F=J=>{i.length!==1&&o(i.filter(ae=>ae.id!==J))},U=(J,ae,re)=>{o(he=>he.map(Se=>Se.id===J?{...Se,[ae]:re}:Se))},Z=(J,ae)=>{U(J,"clientSearch",ae),U(J,"cliente_id",""),ae.length>=2?(U(J,"isSearchingClient",!0),setTimeout(()=>X(J,ae),400)):(U(J,"clientResults",[]),U(J,"showClientDropdown",!1))},X=async(J,ae)=>{try{const{data:re,error:he}=await At.from("clientes").select("id, locker_id, nombre, apellido").or(`locker_id.ilike.%${ae}%,nombre.ilike.%${ae}%,apellido.ilike.%${ae}%`).eq("activo",!0).limit(8);!he&&re&&o(Se=>Se.map(pe=>pe.id===J?{...pe,clientResults:re,showClientDropdown:!0,isSearchingClient:!1}:pe))}catch(re){console.error("Search error:",re)}},$=(J,ae)=>{o(re=>re.map(he=>he.id===J?{...he,cliente_id:ae.id,clientSearch:`${ae.locker_id} - ${ae.nombre} ${ae.apellido}`,showClientDropdown:!1,clientResults:[]}:he)),setTimeout(()=>{const re=document.getElementById(`peso-${J}`);re&&re.focus()},50)},Q=(J,ae,re,he)=>{if(J.key==="Enter"){if(J.preventDefault(),re==="tracking"){const Se=document.getElementById(`client-${ae}`);Se&&Se.focus()}else if(re==="client"){const Se=document.getElementById(`peso-${ae}`);Se&&Se.focus()}else if(re==="peso")if(he===i.length-1)i[he].tracking.trim()!==""&&D();else{const pe=i[he+1].id,be=document.getElementById(`tracking-${pe}`);be&&be.focus()}}},q=J=>{T(J),E(!0)},se=J=>{N&&(U(N,"tracking",J),E(!1),T(null),setTimeout(()=>{const ae=document.getElementById(`client-${N}`);ae&&ae.focus()},100))},H=J=>{setTimeout(()=>{U(J,"showClientDropdown",!1)},200)},G=async()=>{const J=i.filter(ae=>ae.tracking.trim()!==""&&ae.cliente_id!=="");if(J.length===0){alert("Debes completar al menos una fila con Tracking y Cliente vlido (casillero asignado).");return}try{d(!0);const ae=J.map(he=>{let Se=null;const pe=parseFloat(he.largo_in)||0,be=parseFloat(he.ancho_in)||0,oe=parseFloat(he.alto_in)||0;return pe>0&&be>0&&oe>0&&(Se=pe*be*oe/166),{tracking:he.tracking.trim(),cliente_id:he.cliente_id,bodega_id:he.bodega_id||c,transportista_id:he.transportista_id||g,peso_lbs:parseFloat(he.peso_lbs)||null,largo_in:pe||null,ancho_in:be||null,alto_in:oe||null,peso_volumetrico:Se,piezas:parseInt(he.piezas)||1,valor_declarado:parseFloat(he.valor_declarado)||null,es_fragil:he.es_fragil,reempaque:he.reempaque,notas:he.notas,estado:"en_bodega",usuario_recepcion:(e==null?void 0:e.id)==="admin-001"?null:e==null?void 0:e.id}}),{error:re}=await At.from("paquetes").insert(ae);if(re)throw re;alert(`xito! ${ae.length} paquete(s) guardado(s) correctamente.`),o([l5(c,g)])}catch(ae){console.error("Error saving batch:",ae),alert("Error inesperado al guardar el lote: "+ae.message)}finally{d(!1)}},ue=J=>{if(J===i.length-1){const ae=i[J];(ae.tracking!==""||ae.cliente_id!=="")&&D()}};return b.jsxs("div",{className:"space-y-6 max-w-[1400px] mx-auto animate-fade-in relative z-10 w-full max-w-full pb-10",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end justify-between gap-5",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900 bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-600",children:"Multi-Entry (Bulk)"}),b.jsxs("p",{className:"text-sm font-medium text-slate-500 mt-1",children:["Ingreso masivo de paquetes en matriz optimizada para lectores ",b.jsx(XG,{className:"inline h-3 w-3 mx-0.5 text-slate-400"})," y cmara."]})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("button",{onClick:D,className:"inline-flex items-center gap-2 rounded-xl bg-white/80 px-4 py-2.5 text-sm font-bold text-slate-700 shadow-sm border border-slate-200/60 hover:bg-white hover:-translate-y-0.5 hover:shadow-md transition-all focus:outline-none",children:[b.jsx(O0,{className:"h-4 w-4 text-blue-500"}),"Aadir Fila"]}),b.jsxs("button",{disabled:u,onClick:G,className:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-2.5 text-sm font-bold text-white shadow-md shadow-blue-500/20 hover:from-blue-500 hover:to-indigo-500 hover:-translate-y-0.5 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:ring-offset-2",children:[u?b.jsx(to,{className:"h-5 w-5 animate-spin"}):b.jsx(Pf,{className:"h-5 w-5"}),u?"Procesando...":"Guardar Lote Completo"]})]})]}),b.jsxs("div",{className:"glass border border-slate-200/60 rounded-2xl shadow-sm overflow-hidden flex flex-col min-h-[500px]",children:[b.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:b.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[b.jsx("thead",{className:"bg-slate-50/50 backdrop-blur-md text-xs font-extrabold text-slate-500 uppercase tracking-wider border-b border-slate-200/60 sticky top-0 z-10",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-4 py-3.5 w-12 text-center text-slate-400",children:"#"}),b.jsx("th",{className:"px-4 py-3.5 w-40",children:"Bodega de Salida"}),b.jsxs("th",{className:"px-4 py-3.5 min-w-[200px]",children:["Tracking Number ",b.jsx("span",{className:"text-red-500 text-base",children:"*"})]}),b.jsxs("th",{className:"px-4 py-3.5 min-w-[240px]",children:["Cliente / Locker ",b.jsx("span",{className:"text-red-500 text-base",children:"*"})]}),b.jsx("th",{className:"px-4 py-3.5 w-24",children:"Peso(lbs)"}),b.jsx("th",{className:"px-4 py-3.5 w-36 text-center",children:"Dim(L,W,H)"}),b.jsx("th",{className:"px-4 py-3.5 w-20 text-center",children:"Pz"}),b.jsx("th",{className:"px-4 py-3.5 w-24 text-center",children:"Frgil/Re"}),b.jsx("th",{className:"px-4 py-3.5 w-12 text-center"})]})}),b.jsx("tbody",{className:"divide-y divide-slate-100/50 bg-white/40",children:i.map((J,ae)=>b.jsxs("tr",{className:"hover:bg-blue-50/40 transition-colors group",children:[b.jsx("td",{className:"px-4 py-2.5 text-center text-slate-400 font-bold font-mono text-xs",children:ae+1}),b.jsx("td",{className:"px-4 py-2.5",children:b.jsx("select",{value:J.bodega_id,onChange:re=>U(J.id,"bodega_id",re.target.value),className:"block w-full rounded-lg border-slate-200/80 bg-slate-50/50 py-1.5 px-2.5 text-slate-900 shadow-sm transition-all focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 hover:border-slate-300 sm:text-xs font-semibold",children:t.map(re=>b.jsx("option",{value:re.id,children:re.nombre},re.id))})}),b.jsx("td",{className:"px-4 py-2.5",children:b.jsxs("div",{className:"flex gap-1.5",children:[b.jsx("input",{id:`tracking-${J.id}`,type:"text",className:"block w-full rounded-lg border-slate-200/80 bg-white/80 py-1.5 px-3 text-slate-900 shadow-sm transition-all focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 placeholder:text-slate-400 hover:border-slate-300 sm:text-sm font-bold tracking-tight uppercase",placeholder:"Escanea o escribe...",value:J.tracking,onChange:re=>{U(J.id,"tracking",re.target.value),ue(ae)},onKeyDown:re=>Q(re,J.id,"tracking",ae)}),b.jsx("button",{type:"button",onClick:()=>q(J.id),className:"p-1.5 rounded-lg text-slate-400 hover:text-blue-600 hover:bg-blue-50 border border-slate-200/60 shadow-sm transition-all hover:border-blue-200 active:scale-95",title:"Usar Cmara (Scan ptico)",children:b.jsx(LM,{className:"h-4 w-4"})})]})}),b.jsx("td",{className:"px-4 py-2.5",children:b.jsxs("div",{className:"relative group/search",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-2.5 flex items-center pointer-events-none",children:b.jsx(Id,{className:"h-3.5 w-3.5 text-slate-400 group-focus-within/search:text-blue-500 transition-colors"})}),b.jsx("input",{id:`client-${J.id}`,type:"text",className:`block w-full rounded-lg py-1.5 pl-8 pr-3 text-slate-900 shadow-sm transition-all focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 placeholder:text-slate-400 hover:border-slate-300 sm:text-sm font-bold ${!J.cliente_id&&J.clientSearch?"border-amber-400 ring-2 ring-amber-400/20 bg-amber-50/10 text-amber-900":"border border-slate-200/80 bg-white/80"}`,placeholder:"Buscar YBG...",value:J.clientSearch,onChange:re=>Z(J.id,re.target.value),onBlur:()=>H(J.id),onKeyDown:re=>Q(re,J.id,"client",ae),autoComplete:"off"}),J.isSearchingClient&&b.jsx("div",{className:"absolute inset-y-0 right-0 pr-2 flex items-center pointer-events-none",children:b.jsx(to,{className:"h-3 w-3 text-slate-400 animate-spin"})}),J.showClientDropdown&&J.clientResults.length>0&&b.jsx("div",{className:"absolute z-50 w-full lg:w-[350px] mt-1 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none max-h-60 overflow-auto",children:b.jsx("ul",{className:"py-1",children:J.clientResults.map(re=>b.jsx("li",{onMouseDown:()=>$(J.id,re),className:"text-slate-900 hover:bg-blue-50 cursor-pointer select-none relative py-2 pl-3 pr-3 border-b border-slate-50 last:border-0",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"font-bold text-blue-700",children:re.locker_id}),b.jsxs("span",{className:"text-sm text-slate-700 truncate",children:[re.nombre," ",re.apellido]})]})},re.id))})})]})}),b.jsx("td",{className:"px-4 py-2.5",children:b.jsx("input",{id:`peso-${J.id}`,type:"number",step:"0.01",className:"block w-full rounded-lg border-slate-200/80 bg-white/80 py-1.5 px-2.5 text-slate-900 shadow-sm transition-all focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 placeholder:text-slate-400 hover:border-slate-300 text-right sm:text-sm font-mono font-bold",placeholder:"0.00",value:J.peso_lbs,onChange:re=>U(J.id,"peso_lbs",re.target.value),onKeyDown:re=>Q(re,J.id,"peso",ae)})}),b.jsx("td",{className:"px-4 py-2.5",children:b.jsxs("div",{className:"flex items-center gap-1.5 bg-slate-50/50 p-1 rounded-lg border border-slate-200/60 shadow-inner",children:[b.jsx("input",{type:"number",className:"block w-1/3 rounded-md border-0 py-1 px-1.5 text-slate-900 bg-white shadow-sm ring-1 ring-inset ring-slate-200 focus:ring-2 focus:ring-inset focus:ring-blue-500 sm:text-xs text-center font-mono font-bold",placeholder:"L",value:J.largo_in,onChange:re=>U(J.id,"largo_in",re.target.value),title:"Largo"}),b.jsx("input",{type:"number",className:"block w-1/3 rounded-md border-0 py-1 px-1.5 text-slate-900 bg-white shadow-sm ring-1 ring-inset ring-slate-200 focus:ring-2 focus:ring-inset focus:ring-blue-500 sm:text-xs text-center font-mono font-bold",placeholder:"W",value:J.ancho_in,onChange:re=>U(J.id,"ancho_in",re.target.value),title:"Ancho"}),b.jsx("input",{type:"number",className:"block w-1/3 rounded-md border-0 py-1 px-1.5 text-slate-900 bg-white shadow-sm ring-1 ring-inset ring-slate-200 focus:ring-2 focus:ring-inset focus:ring-blue-500 sm:text-xs text-center font-mono font-bold",placeholder:"H",value:J.alto_in,onChange:re=>U(J.id,"alto_in",re.target.value),title:"Alto"})]})}),b.jsx("td",{className:"px-4 py-2.5",children:b.jsx("input",{type:"number",min:"1",className:"block w-full rounded-lg border-slate-200/80 bg-white/80 py-1.5 px-2 text-slate-900 shadow-sm transition-all focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 placeholder:text-slate-400 hover:border-slate-300 sm:text-sm text-center font-bold",value:J.piezas,onChange:re=>U(J.id,"piezas",re.target.value)})}),b.jsx("td",{className:"px-4 py-2.5",children:b.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[b.jsxs("label",{title:"Frgil",className:"flex items-center cursor-pointer group/cb",children:[b.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded-md border-slate-300 text-red-500 focus:ring-red-500 focus:ring-offset-1 cursor-pointer transition-all",checked:J.es_fragil,onChange:re=>U(J.id,"es_fragil",re.target.checked)}),b.jsx("span",{className:"ml-1.5 text-xs font-bold uppercase text-slate-400 group-hover/cb:text-slate-600 transition-colors hidden sm:inline",children:"Fg"})]}),b.jsxs("label",{title:"Reempaque",className:"flex items-center cursor-pointer group/cb",children:[b.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded-md border-slate-300 text-blue-600 focus:ring-blue-600 focus:ring-offset-1 cursor-pointer transition-all",checked:J.reempaque,onChange:re=>U(J.id,"reempaque",re.target.checked)}),b.jsx("span",{className:"ml-1.5 text-xs font-bold uppercase text-slate-400 group-hover/cb:text-slate-600 transition-colors hidden sm:inline",children:"Rm"})]})]})}),b.jsx("td",{className:"px-4 py-2.5 text-center",children:b.jsx("button",{onClick:()=>F(J.id),disabled:i.length===1,className:"text-slate-400 hover:text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-all disabled:opacity-30 disabled:hover:text-slate-400 disabled:hover:bg-transparent",title:"Eliminar fila",children:b.jsx(M3,{className:"h-4 w-4"})})})]},J.id))})]})}),b.jsxs("div",{className:"bg-slate-50/80 backdrop-blur-sm border-t border-slate-200/60 p-4.5 flex flex-col sm:flex-row items-center justify-between gap-3",children:[b.jsxs("p",{className:"text-sm text-slate-500 font-medium",children:["Mostrando ",b.jsx("span",{className:"font-extrabold text-blue-600 bg-blue-100/50 px-2 py-0.5 rounded-md border border-blue-200/50",children:i.length})," fila(s) para captura de datos."]}),b.jsxs("p",{className:"text-sm font-medium text-slate-500 flex items-center gap-1.5 bg-white border border-slate-200/60 px-3 py-1.5 rounded-lg shadow-sm",children:["Compatible con lector lser. Presiona ",b.jsx("kbd",{className:"font-mono bg-slate-100 border border-slate-300 px-1.5 py-0.5 rounded text-xs font-bold text-slate-700 shadow-sm",children:"Enter"})," para saltar."]})]})]}),b.jsx(Cde,{isOpen:y,onClose:()=>{E(!1),T(null)},onScan:se})]})}const t9=6048e5,Tde=864e5,r9=6e4,n9=36e5,mj=Symbol.for("constructDateFrom");function Cl(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&mj in e?e[mj](t):e instanceof Date?new e.constructor(t):new Date(t)}function jo(e,t){return Cl(t||e,e)}function jde(e,t,r){const n=jo(e,r==null?void 0:r.in);if(isNaN(t))return Cl(e,NaN);const a=n.getDate(),i=Cl(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const o=i.getDate();return a>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}let kde={};function G2(){return kde}function Op(e,t){var u,d,c,h;const r=G2(),n=(t==null?void 0:t.weekStartsOn)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((h=(c=r.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??0,a=jo(e,t==null?void 0:t.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Db(e,t){return Op(e,{...t,weekStartsOn:1})}function a9(e,t){const r=jo(e,t==null?void 0:t.in),n=r.getFullYear(),a=Cl(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=Db(a),o=Cl(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const u=Db(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function gj(e){const t=jo(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function i9(e,...t){const r=Cl.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function vj(e,t){const r=jo(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function Ide(e,t,r){const[n,a]=i9(r==null?void 0:r.in,e,t),i=vj(n),o=vj(a),u=+i-gj(i),d=+o-gj(o);return Math.round((u-d)/Tde)}function Mde(e,t){const r=a9(e,t),n=Cl(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Db(n)}function Pde(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Rde(e){return!(!Pde(e)&&typeof e!="number"||isNaN(+jo(e)))}function Dde(e,t){const[r,n]=i9(e,t.start,t.end);return{start:r,end:n}}function Lde(e,t){const{start:r,end:n}=Dde(t==null?void 0:t.in,e);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0),o.setDate(1);let u=1;const d=[];for(;+o<=i;)d.push(Cl(r,o)),o.setMonth(o.getMonth()+u);return a?d.reverse():d}function Bde(e,t){const r=jo(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Fde={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ude=(e,t,r)=>{let n;const a=Fde[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function l0(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const zde={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qde={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Hde={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Gde={date:l0({formats:zde,defaultWidth:"full"}),time:l0({formats:qde,defaultWidth:"full"}),dateTime:l0({formats:Hde,defaultWidth:"full"})},$de={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Wde=(e,t,r,n)=>$de[e];function Pc(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,u=r!=null&&r.width?String(r.width):o;a=e.formattingValues[u]||e.formattingValues[o]}else{const o=e.defaultWidth,u=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[u]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Vde={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Yde={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Xde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Kde={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Zde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Qde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Jde=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ehe={ordinalNumber:Jde,era:Pc({values:Vde,defaultWidth:"wide"}),quarter:Pc({values:Yde,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Pc({values:Xde,defaultWidth:"wide"}),day:Pc({values:Kde,defaultWidth:"wide"}),dayPeriod:Pc({values:Zde,defaultWidth:"wide",formattingValues:Qde,defaultFormattingWidth:"wide"})};function Rc(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?rhe(u,g=>g.test(o)):the(u,g=>g.test(o));let c;c=e.valueCallback?e.valueCallback(d):d,c=r.valueCallback?r.valueCallback(c):c;const h=t.slice(o.length);return{value:c,rest:h}}}function the(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function rhe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function s9(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const u=t.slice(a.length);return{value:o,rest:u}}}const nhe=/^(\d+)(th|st|nd|rd)?/i,ahe=/\d+/i,ihe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},she={any:[/^b/i,/^(a|c)/i]},ohe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lhe={any:[/1/i,/2/i,/3/i,/4/i]},che={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uhe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fhe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dhe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hhe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},phe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mhe={ordinalNumber:s9({matchPattern:nhe,parsePattern:ahe,valueCallback:e=>parseInt(e,10)}),era:Rc({matchPatterns:ihe,defaultMatchWidth:"wide",parsePatterns:she,defaultParseWidth:"any"}),quarter:Rc({matchPatterns:ohe,defaultMatchWidth:"wide",parsePatterns:lhe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Rc({matchPatterns:che,defaultMatchWidth:"wide",parsePatterns:uhe,defaultParseWidth:"any"}),day:Rc({matchPatterns:fhe,defaultMatchWidth:"wide",parsePatterns:dhe,defaultParseWidth:"any"}),dayPeriod:Rc({matchPatterns:hhe,defaultMatchWidth:"any",parsePatterns:phe,defaultParseWidth:"any"})},ghe={code:"en-US",formatDistance:Ude,formatLong:Gde,formatRelative:Wde,localize:ehe,match:mhe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vhe(e,t){const r=jo(e,t==null?void 0:t.in);return Ide(r,Bde(r))+1}function bhe(e,t){const r=jo(e,t==null?void 0:t.in),n=+Db(r)-+Mde(r);return Math.round(n/t9)+1}function o9(e,t){var h,g,x,y;const r=jo(e,t==null?void 0:t.in),n=r.getFullYear(),a=G2(),i=(t==null?void 0:t.firstWeekContainsDate)??((g=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??a.firstWeekContainsDate??((y=(x=a.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,o=Cl((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const u=Op(o,t),d=Cl((t==null?void 0:t.in)||e,0);d.setFullYear(n,0,i),d.setHours(0,0,0,0);const c=Op(d,t);return+r>=+u?n+1:+r>=+c?n:n-1}function yhe(e,t){var u,d,c,h;const r=G2(),n=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(c=r.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??1,a=o9(e,t),i=Cl((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Op(i,t)}function xhe(e,t){const r=jo(e,t==null?void 0:t.in),n=+Op(r,t)-+yhe(r,t);return Math.round(n/t9)+1}function Ln(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const xf={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ln(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ln(r+1,2)},d(e,t){return Ln(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ln(e.getHours()%12||12,t.length)},H(e,t){return Ln(e.getHours(),t.length)},m(e,t){return Ln(e.getMinutes(),t.length)},s(e,t){return Ln(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Ln(a,t.length)}},zh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bj={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return xf.y(e,t)},Y:function(e,t,r,n){const a=o9(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Ln(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ln(i,t.length)},R:function(e,t){const r=a9(e);return Ln(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ln(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ln(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ln(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return xf.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ln(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=xhe(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Ln(a,t.length)},I:function(e,t,r){const n=bhe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ln(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):xf.d(e,t)},D:function(e,t,r){const n=vhe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ln(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ln(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ln(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Ln(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=zh.noon:n===0?a=zh.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=zh.evening:n>=12?a=zh.afternoon:n>=4?a=zh.morning:a=zh.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return xf.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):xf.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ln(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ln(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):xf.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):xf.s(e,t)},S:function(e,t){return xf.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return xj(n);case"XXXX":case"XX":return md(n);case"XXXXX":case"XXX":default:return md(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return xj(n);case"xxxx":case"xx":return md(n);case"xxxxx":case"xxx":default:return md(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+yj(n,":");case"OOOO":default:return"GMT"+md(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+yj(n,":");case"zzzz":default:return"GMT"+md(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Ln(n,t.length)},T:function(e,t,r){return Ln(+e,t.length)}};function yj(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Ln(i,2)}function xj(e,t){return e%60===0?(e>0?"-":"+")+Ln(Math.abs(e)/60,2):md(e,t)}function md(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Ln(Math.trunc(n/60),2),i=Ln(n%60,2);return r+a+t+i}const wj=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},l9=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},whe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return wj(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",wj(n,t)).replace("{{time}}",l9(a,t))},_he={p:l9,P:whe},She=/^D+$/,Ahe=/^Y+$/,Ehe=["D","DD","YY","YYYY"];function Nhe(e){return She.test(e)}function Che(e){return Ahe.test(e)}function Ohe(e,t,r){const n=The(e,t,r);if(console.warn(n),Ehe.includes(e))throw new RangeError(n)}function The(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jhe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,khe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ihe=/^'([^]*?)'?$/,Mhe=/''/g,Phe=/[a-zA-Z]/;function rl(e,t,r){var h,g,x,y,E,N,T,j;const n=G2(),a=(r==null?void 0:r.locale)??n.locale??ghe,i=(r==null?void 0:r.firstWeekContainsDate)??((g=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(x=n.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((N=(E=r==null?void 0:r.locale)==null?void 0:E.options)==null?void 0:N.weekStartsOn)??n.weekStartsOn??((j=(T=n.locale)==null?void 0:T.options)==null?void 0:j.weekStartsOn)??0,u=jo(e,r==null?void 0:r.in);if(!Rde(u))throw new RangeError("Invalid time value");let d=t.match(khe).map(D=>{const F=D[0];if(F==="p"||F==="P"){const U=_he[F];return U(D,a.formatLong)}return D}).join("").match(jhe).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const F=D[0];if(F==="'")return{isToken:!1,value:Rhe(D)};if(bj[F])return{isToken:!0,value:D};if(F.match(Phe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return{isToken:!1,value:D}});a.localize.preprocessor&&(d=a.localize.preprocessor(u,d));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return d.map(D=>{if(!D.isToken)return D.value;const F=D.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Che(F)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Nhe(F))&&Ohe(F,t,String(e));const U=bj[F[0]];return U(u,F,a.localize,c)}).join("")}function Rhe(e){const t=e.match(Ihe);return t?t[1].replace(Mhe,"'"):e}function _j(e,t){const r=()=>Cl(t==null?void 0:t.in,NaN),a=Fhe(e);let i;if(a.date){const c=Uhe(a.date,2);i=zhe(c.restDateString,c.year)}if(!i||isNaN(+i))return r();const o=+i;let u=0,d;if(a.time&&(u=qhe(a.time),isNaN(u)))return r();if(a.timezone){if(d=Hhe(a.timezone),isNaN(d))return r()}else{const c=new Date(o+u),h=jo(0,t==null?void 0:t.in);return h.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),h.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),h}return jo(o+u+d,t==null?void 0:t.in)}const _g={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Dhe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Lhe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Bhe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Fhe(e){const t={},r=e.split(_g.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],_g.timeZoneDelimiter.test(t.date)&&(t.date=e.split(_g.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=_g.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Uhe(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function zhe(e,t){if(t===null)return new Date(NaN);const r=e.match(Dhe);if(!r)return new Date(NaN);const n=!!r[4],a=R1(r[1]),i=R1(r[2])-1,o=R1(r[3]),u=R1(r[4]),d=R1(r[5])-1;if(n)return Yhe(t,u,d)?Ghe(t,u,d):new Date(NaN);{const c=new Date(0);return!Whe(t,i,o)||!Vhe(t,a)?new Date(NaN):(c.setUTCFullYear(t,i,Math.max(a,o)),c)}}function R1(e){return e?parseInt(e):1}function qhe(e){const t=e.match(Lhe);if(!t)return NaN;const r=c5(t[1]),n=c5(t[2]),a=c5(t[3]);return Xhe(r,n,a)?r*n9+n*r9+a*1e3:NaN}function c5(e){return e&&parseFloat(e.replace(",","."))||0}function Hhe(e){if(e==="Z")return 0;const t=e.match(Bhe);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Khe(n,a)?r*(n*n9+a*r9):NaN}function Ghe(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const $he=[31,null,31,30,31,30,31,31,30,31,30,31];function c9(e){return e%400===0||e%4===0&&e%100!==0}function Whe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=($he[t]||(c9(e)?29:28))}function Vhe(e,t){return t>=1&&t<=(c9(e)?366:365)}function Yhe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Xhe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Khe(e,t){return t>=0&&t<=59}function Zhe(e,t,r){return jde(e,-5,r)}function Qhe(){const[e,t]=R.useState(!0),[r,n]=R.useState(""),[a,i]=R.useState({}),[o,u]=R.useState({});R.useEffect(()=>{d()},[]);async function d(){t(!0);try{const{data:g,error:x}=await At.from("paquetes").select(`
          id,
          tracking,
          peso_lbs,
          piezas,
          fecha_recepcion,
          transportistas(nombre),
          clientes(id, nombre, apellido, locker_id),
          bodegas(id, nombre)
        `).in("estado",["en_bodega","recibido"]).order("fecha_recepcion",{ascending:!1});if(x)throw x;if(g){const y=g.reduce((E,N)=>{var F,U;const T=((F=N.clientes)==null?void 0:F.locker_id)||"SIN_LOCKER",j=((U=N.bodegas)==null?void 0:U.id)||"SIN_BODEGA",D=`${T}_${j}`;return E[D]||(E[D]={cliente:N.clientes,bodega:N.bodegas,paquetes:[]}),E[D].paquetes.push(N),E},{});i(y)}}catch(g){console.error("Error fetching warehouse packages:",g)}finally{t(!1)}}const c=g=>{u(x=>({...x,[g]:!x[g]}))},h=Object.entries(a).filter(([g,x])=>{var D;const y=r.toLowerCase(),E=g.toLowerCase().includes(y),N=x.cliente?`${x.cliente.nombre} ${x.cliente.apellido}`.toLowerCase().includes(y):!1,T=(D=x.bodega)==null?void 0:D.nombre.toLowerCase().includes(y),j=x.paquetes.some(F=>F.tracking.toLowerCase().includes(y));return E||N||T||j});return b.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto animate-fade-in relative z-10 w-full pb-10",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end justify-between gap-5",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900 bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-600",children:"Warehouse"}),b.jsx("p",{className:"text-sm font-medium text-slate-500 mt-1",children:"Agrupacin temporal de paquetes por cliente y bodega."})]}),b.jsxs("div",{className:"relative group/search outline-none",children:[b.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4",children:b.jsx(Id,{className:"h-4.5 w-4.5 text-slate-400 group-focus-within/search:text-blue-500 transition-colors","aria-hidden":"true"})}),b.jsx("input",{type:"text",className:"block w-full rounded-2xl border border-slate-200/80 bg-white/70 py-2.5 pl-11 pr-5 text-slate-900 shadow-sm transition-all duration-300 focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 placeholder:text-slate-400 font-medium sm:text-sm min-w-[320px] backdrop-blur-xl hover:border-slate-300 hover:bg-white/90",placeholder:"Buscar casillero, nombre, bodega o tracking...",value:r,onChange:g=>n(g.target.value)})]})]}),e?b.jsxs("div",{className:"flex justify-center flex-col items-center py-20 gap-4",children:[b.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-blue-500 border-t-transparent shadow-sm"}),b.jsx("p",{className:"text-sm font-bold text-slate-500",children:"Cargando inventario..."})]}):h.length===0?b.jsxs("div",{className:"text-center glass rounded-2xl border border-slate-200/60 py-20 px-8 shadow-sm",children:[b.jsx("div",{className:"mx-auto flex h-20 w-20 items-center justify-center rounded-full bg-slate-100 shadow-inner mb-5",children:b.jsx(Kb,{className:"h-10 w-10 text-slate-300"})}),b.jsx("h3",{className:"mt-4 text-lg font-extrabold text-slate-800 tracking-tight",children:"No hay paquetes en bodega"}),b.jsx("p",{className:"mt-2 text-sm font-medium text-slate-500 max-w-md mx-auto",children:"Todos los paquetes han sido consolidados o la bsqueda actual no arroj resultados. Intenta ajustar tus filtros."})]}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:h.map(([g,x],y)=>{var T,j;const E=!!o[g],N=((T=x.cliente)==null?void 0:T.locker_id)||"SIN_LOCKER";return b.jsxs("div",{className:"glass rounded-2xl shadow-sm border border-slate-200/60 overflow-hidden hover:shadow-lg transition-all duration-300 flex flex-col hover:-translate-y-1 animate-fade-in",style:{animationDelay:`${y*40}ms`},children:[b.jsxs("div",{className:"p-5 cursor-pointer flex-none select-none hover:bg-white/40 transition-colors duration-200",onClick:()=>c(g),children:[b.jsx("div",{className:"flex items-start justify-between mb-4",children:b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 shadow-md shadow-blue-500/20 text-white flex-shrink-0 group-hover:scale-105 transition-transform",children:b.jsx(tc,{className:"h-6 w-6"})}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[b.jsx("h3",{className:"text-xl font-extrabold text-slate-900 tracking-tight",children:N}),b.jsx("span",{className:"inline-flex items-center rounded-lg bg-indigo-50 px-2 py-0.5 text-[10px] font-extrabold text-indigo-700 uppercase tracking-wider border border-indigo-100 shadow-sm",children:((j=x.bodega)==null?void 0:j.nombre)||"Desconocida"})]}),x.cliente?b.jsxs("p",{className:"text-sm font-semibold text-slate-500 flex items-center gap-1.5",children:[b.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),x.cliente.nombre," ",x.cliente.apellido]}):b.jsx("p",{className:"text-sm text-red-500 font-bold bg-red-50 px-2 py-0.5 rounded-md inline-block mt-0.5 border border-red-100 shadow-sm",children:"Cliente Desconocido"})]})]})}),b.jsxs("div",{className:"flex items-center justify-between text-xs font-bold text-slate-500 uppercase tracking-wider border-t border-slate-200/60 pt-4",children:[b.jsxs("div",{className:"flex items-center gap-2 text-slate-600 bg-white/60 px-2.5 py-1 rounded-lg shadow-sm border border-slate-100",children:[b.jsx(Sl,{className:"h-4.5 w-4.5 text-blue-500"}),b.jsxs("span",{className:"font-extrabold text-blue-900",children:[x.paquetes.length," pz"]})]}),b.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-colors border ${E?"bg-indigo-50 text-indigo-700 border-indigo-200 shadow-sm":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50 shadow-sm"}`,children:[b.jsx("span",{children:E?"Ocultar":"Ver Contenido"}),E?b.jsx(NG,{className:"h-4 w-4"}):b.jsx(SG,{className:"h-4 w-4"})]})]})]}),E&&b.jsx("div",{className:"bg-slate-50/50 backdrop-blur-sm border-t border-slate-200/60 p-5 flex-1 animate-slide-up origin-top",children:b.jsx("div",{className:"space-y-3",children:x.paquetes.map(D=>{var F;return b.jsxs("div",{className:"bg-white/80 rounded-xl p-3.5 border border-slate-200/80 shadow-sm flex flex-col gap-2.5 hover:shadow-md hover:-translate-y-0.5 transition-all",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{className:"flex items-center gap-2.5",children:[b.jsx("div",{className:"p-1.5 bg-blue-50 rounded-lg text-blue-500 shadow-sm border border-blue-100/50",children:b.jsx(Sl,{className:"h-4 w-4"})}),b.jsx("span",{className:"text-sm font-extrabold text-slate-900 break-all tracking-tight selection:bg-blue-100 font-mono",children:D.tracking})]}),D.peso_lbs&&b.jsxs("span",{className:"text-xs font-bold bg-slate-100 text-slate-700 border border-slate-200/60 rounded-lg px-2 py-0.5 whitespace-nowrap shadow-sm font-mono",children:[D.peso_lbs," lbs"]})]}),b.jsxs("div",{className:"flex items-center justify-between text-xs font-semibold text-slate-500",children:[b.jsxs("div",{className:"flex items-center gap-1.5 bg-slate-50 px-2 py-1 rounded-md border border-slate-100",children:[b.jsx(T0,{className:"h-3.5 w-3.5 text-slate-400"}),b.jsx("span",{children:((F=D.transportistas)==null?void 0:F.nombre)||"Desconocido"})]}),b.jsxs("div",{className:"flex items-center gap-1.5 bg-slate-50 px-2 py-1 rounded-md border border-slate-100",children:[b.jsx(fp,{className:"h-3.5 w-3.5 text-slate-400"}),b.jsx("span",{children:D.fecha_recepcion?rl(new Date(D.fecha_recepcion),"dd/MM/yyyy"):"N/A"})]})]})]},D.id)})})})]},g)})})]})}const Jhe={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},e0e=(e,t,r)=>{let n;const a=Jhe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},t0e={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},r0e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},n0e={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},a0e={date:l0({formats:t0e,defaultWidth:"full"}),time:l0({formats:r0e,defaultWidth:"full"}),dateTime:l0({formats:n0e,defaultWidth:"full"})},i0e={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},s0e={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},o0e=(e,t,r,n)=>t.getHours()!==1?s0e[e]:i0e[e],l0e={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},c0e={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},u0e={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},f0e={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},d0e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},h0e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},p0e=(e,t)=>Number(e)+"",m0e={ordinalNumber:p0e,era:Pc({values:l0e,defaultWidth:"wide"}),quarter:Pc({values:c0e,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Pc({values:u0e,defaultWidth:"wide"}),day:Pc({values:f0e,defaultWidth:"wide"}),dayPeriod:Pc({values:d0e,defaultWidth:"wide",formattingValues:h0e,defaultFormattingWidth:"wide"})},g0e=/^(\d+)()?/i,v0e=/\d+/i,b0e={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},y0e={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},x0e={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},w0e={any:[/1/i,/2/i,/3/i,/4/i]},_0e={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},S0e={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},A0e={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},E0e={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},N0e={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},C0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},O0e={ordinalNumber:s9({matchPattern:g0e,parsePattern:v0e,valueCallback:function(e){return parseInt(e,10)}}),era:Rc({matchPatterns:b0e,defaultMatchWidth:"wide",parsePatterns:y0e,defaultParseWidth:"any"}),quarter:Rc({matchPatterns:x0e,defaultMatchWidth:"wide",parsePatterns:w0e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Rc({matchPatterns:_0e,defaultMatchWidth:"wide",parsePatterns:S0e,defaultParseWidth:"any"}),day:Rc({matchPatterns:A0e,defaultMatchWidth:"wide",parsePatterns:E0e,defaultParseWidth:"any"}),dayPeriod:Rc({matchPatterns:N0e,defaultMatchWidth:"any",parsePatterns:C0e,defaultParseWidth:"any"})},Lf={code:"es",formatDistance:e0e,formatLong:a0e,formatRelative:o0e,localize:m0e,match:O0e,options:{weekStartsOn:1,firstWeekContainsDate:1}};var Sg={},D1={},Ag={},Sj;function il(){if(Sj)return Ag;Sj=1,Object.defineProperty(Ag,"__esModule",{value:!0});function e(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}var t=function r(n,a){e(this,r),this.data=n,this.text=a.text||n,this.options=a};return Ag.default=t,Ag}var Aj;function T0e(){if(Aj)return D1;Aj=1,Object.defineProperty(D1,"__esModule",{value:!0}),D1.CODE39=void 0;var e=(function(){function N(T,j){for(var D=0;D<j.length;D++){var F=j[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(T,F.key,F)}}return function(T,j,D){return j&&N(T.prototype,j),D&&N(T,D),T}})(),t=il(),r=n(t);function n(N){return N&&N.__esModule?N:{default:N}}function a(N,T){if(!(N instanceof T))throw new TypeError("Cannot call a class as a function")}function i(N,T){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:N}function o(N,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);N.prototype=Object.create(T&&T.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(N,T):N.__proto__=T)}var u=(function(N){o(T,N);function T(j,D){return a(this,T),j=j.toUpperCase(),D.mod43&&(j+=x(E(j))),i(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,j,D))}return e(T,[{key:"encode",value:function(){for(var D=h("*"),F=0;F<this.data.length;F++)D+=h(this.data[F])+"0";return D+=h("*"),{data:D,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),T})(r.default),d=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],c=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function h(N){return g(y(N))}function g(N){return c[N].toString(2)}function x(N){return d[N]}function y(N){return d.indexOf(N)}function E(N){for(var T=0,j=0;j<N.length;j++)T+=y(N[j]);return T=T%43,T}return D1.CODE39=u,D1}var Wl={},Eg={},Ng={},Wa={},Ej;function Jp(){if(Ej)return Wa;Ej=1,Object.defineProperty(Wa,"__esModule",{value:!0});var e;function t(d,c,h){return c in d?Object.defineProperty(d,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[c]=h,d}var r=Wa.SET_A=0,n=Wa.SET_B=1,a=Wa.SET_C=2;Wa.SHIFT=98;var i=Wa.START_A=103,o=Wa.START_B=104,u=Wa.START_C=105;return Wa.MODULO=103,Wa.STOP=106,Wa.FNC1=207,Wa.SET_BY_CODE=(e={},t(e,i,r),t(e,o,n),t(e,u,a),e),Wa.SWAP={101:r,100:n,99:a},Wa.A_START_CHAR="",Wa.B_START_CHAR="",Wa.C_START_CHAR="",Wa.A_CHARS="[\0-_-]",Wa.B_CHARS="[ --]",Wa.C_CHARS="(*[0-9]{2}*)",Wa.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],Wa}var Nj;function $2(){if(Nj)return Ng;Nj=1,Object.defineProperty(Ng,"__esModule",{value:!0});var e=(function(){function c(h,g){for(var x=0;x<g.length;x++){var y=g[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,g,x){return g&&c(h.prototype,g),x&&c(h,x),h}})(),t=il(),r=a(t),n=Jp();function a(c){return c&&c.__esModule?c:{default:c}}function i(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function o(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=(function(c){u(h,c);function h(g,x){i(this,h);var y=o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,g.substring(1),x));return y.bytes=g.split("").map(function(E){return E.charCodeAt(0)}),y}return e(h,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var x=this.bytes,y=x.shift()-105,E=n.SET_BY_CODE[y];if(E===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&x.unshift(n.FNC1);var N=h.next(x,1,E);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:h.getBar(y)+N.result+h.getBar((N.checksum+y)%n.MODULO)+h.getBar(n.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var x=this.options.ean128||!1;return typeof x=="string"&&(x=x.toLowerCase()==="true"),x}}],[{key:"getBar",value:function(x){return n.BARS[x]?n.BARS[x].toString():""}},{key:"correctIndex",value:function(x,y){if(y===n.SET_A){var E=x.shift();return E<32?E+64:E-32}else return y===n.SET_B?x.shift()-32:(x.shift()-48)*10+x.shift()-48}},{key:"next",value:function(x,y,E){if(!x.length)return{result:"",checksum:0};var N=void 0,T=void 0;if(x[0]>=200){T=x.shift()-105;var j=n.SWAP[T];j!==void 0?N=h.next(x,y+1,j):((E===n.SET_A||E===n.SET_B)&&T===n.SHIFT&&(x[0]=E===n.SET_A?x[0]>95?x[0]-96:x[0]:x[0]<32?x[0]+96:x[0]),N=h.next(x,y+1,E))}else T=h.correctIndex(x,E),N=h.next(x,y+1,E);var D=h.getBar(T),F=T*y;return{result:D+N.result,checksum:F+N.checksum}}}]),h})(r.default);return Ng.default=d,Ng}var Cg={},Cj;function j0e(){if(Cj)return Cg;Cj=1,Object.defineProperty(Cg,"__esModule",{value:!0});var e=Jp(),t=function(u){return u.match(new RegExp("^"+e.A_CHARS+"*"))[0].length},r=function(u){return u.match(new RegExp("^"+e.B_CHARS+"*"))[0].length},n=function(u){return u.match(new RegExp("^"+e.C_CHARS+"*"))[0]};function a(o,u){var d=u?e.A_CHARS:e.B_CHARS,c=o.match(new RegExp("^("+d+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(c)return c[1]+""+i(o.substring(c[1].length));var h=o.match(new RegExp("^"+d+"+"))[0];return h.length===o.length?o:h+String.fromCharCode(u?205:206)+a(o.substring(h.length),!u)}function i(o){var u=n(o),d=u.length;if(d===o.length)return o;o=o.substring(d);var c=t(o)>=r(o);return u+String.fromCharCode(c?206:205)+a(o,c)}return Cg.default=function(o){var u=void 0,d=n(o).length;if(d>=2)u=e.C_START_CHAR+i(o);else{var c=t(o)>r(o);u=(c?e.A_START_CHAR:e.B_START_CHAR)+a(o,c)}return u.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(h,g){return""+g})},Cg}var Oj;function k0e(){if(Oj)return Eg;Oj=1,Object.defineProperty(Eg,"__esModule",{value:!0});var e=$2(),t=a(e),r=j0e(),n=a(r);function a(c){return c&&c.__esModule?c:{default:c}}function i(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function o(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=(function(c){u(h,c);function h(g,x){if(i(this,h),/^[\x00-\x7F\xC8-\xD3]+$/.test(g))var y=o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,(0,n.default)(g),x));else var y=o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,g,x));return o(y)}return h})(t.default);return Eg.default=d,Eg}var Og={},Tj;function I0e(){if(Tj)return Og;Tj=1,Object.defineProperty(Og,"__esModule",{value:!0});var e=(function(){function c(h,g){for(var x=0;x<g.length;x++){var y=g[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,g,x){return g&&c(h.prototype,g),x&&c(h,x),h}})(),t=$2(),r=a(t),n=Jp();function a(c){return c&&c.__esModule?c:{default:c}}function i(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function o(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=(function(c){u(h,c);function h(g,x){return i(this,h),o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,n.A_START_CHAR+g,x))}return e(h,[{key:"valid",value:function(){return new RegExp("^"+n.A_CHARS+"+$").test(this.data)}}]),h})(r.default);return Og.default=d,Og}var Tg={},jj;function M0e(){if(jj)return Tg;jj=1,Object.defineProperty(Tg,"__esModule",{value:!0});var e=(function(){function c(h,g){for(var x=0;x<g.length;x++){var y=g[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,g,x){return g&&c(h.prototype,g),x&&c(h,x),h}})(),t=$2(),r=a(t),n=Jp();function a(c){return c&&c.__esModule?c:{default:c}}function i(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function o(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=(function(c){u(h,c);function h(g,x){return i(this,h),o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,n.B_START_CHAR+g,x))}return e(h,[{key:"valid",value:function(){return new RegExp("^"+n.B_CHARS+"+$").test(this.data)}}]),h})(r.default);return Tg.default=d,Tg}var jg={},kj;function P0e(){if(kj)return jg;kj=1,Object.defineProperty(jg,"__esModule",{value:!0});var e=(function(){function c(h,g){for(var x=0;x<g.length;x++){var y=g[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,g,x){return g&&c(h.prototype,g),x&&c(h,x),h}})(),t=$2(),r=a(t),n=Jp();function a(c){return c&&c.__esModule?c:{default:c}}function i(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function o(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=(function(c){u(h,c);function h(g,x){return i(this,h),o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,n.C_START_CHAR+g,x))}return e(h,[{key:"valid",value:function(){return new RegExp("^"+n.C_CHARS+"+$").test(this.data)}}]),h})(r.default);return jg.default=d,jg}var Ij;function R0e(){if(Ij)return Wl;Ij=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.CODE128C=Wl.CODE128B=Wl.CODE128A=Wl.CODE128=void 0;var e=k0e(),t=d(e),r=I0e(),n=d(r),a=M0e(),i=d(a),o=P0e(),u=d(o);function d(c){return c&&c.__esModule?c:{default:c}}return Wl.CODE128=t.default,Wl.CODE128A=n.default,Wl.CODE128B=i.default,Wl.CODE128C=u.default,Wl}var Qs={},kg={},mu={},Mj;function em(){return Mj||(Mj=1,Object.defineProperty(mu,"__esModule",{value:!0}),mu.SIDE_BIN="101",mu.MIDDLE_BIN="01010",mu.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},mu.EAN2_STRUCTURE=["LL","LG","GL","GG"],mu.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],mu.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),mu}var Ig={},Mg={},Pj;function tm(){if(Pj)return Mg;Pj=1,Object.defineProperty(Mg,"__esModule",{value:!0});var e=em(),t=function(n,a,i){var o=n.split("").map(function(d,c){return e.BINARIES[a[c]]}).map(function(d,c){return d?d[n[c]]:""});if(i){var u=n.length-1;o=o.map(function(d,c){return c<u?d+i:d})}return o.join("")};return Mg.default=t,Mg}var Rj;function u9(){if(Rj)return Ig;Rj=1,Object.defineProperty(Ig,"__esModule",{value:!0});var e=(function(){function g(x,y){for(var E=0;E<y.length;E++){var N=y[E];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,y,E){return y&&g(x.prototype,y),E&&g(x,E),x}})(),t=em(),r=tm(),n=o(r),a=il(),i=o(a);function o(g){return g&&g.__esModule?g:{default:g}}function u(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")}function d(g,x){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:g}function c(g,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);g.prototype=Object.create(x&&x.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(g,x):g.__proto__=x)}var h=(function(g){c(x,g);function x(y,E){u(this,x);var N=d(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,y,E));return N.fontSize=!E.flat&&E.fontSize>E.width*10?E.width*10:E.fontSize,N.guardHeight=E.height+N.fontSize/2+E.textMargin,N}return e(x,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(E,N){return this.text.substr(E,N)}},{key:"leftEncode",value:function(E,N){return(0,n.default)(E,N)}},{key:"rightText",value:function(E,N){return this.text.substr(E,N)}},{key:"rightEncode",value:function(E,N){return(0,n.default)(E,N)}},{key:"encodeGuarded",value:function(){var E={fontSize:this.fontSize},N={height:this.guardHeight};return[{data:t.SIDE_BIN,options:N},{data:this.leftEncode(),text:this.leftText(),options:E},{data:t.MIDDLE_BIN,options:N},{data:this.rightEncode(),text:this.rightText(),options:E},{data:t.SIDE_BIN,options:N}]}},{key:"encodeFlat",value:function(){var E=[t.SIDE_BIN,this.leftEncode(),t.MIDDLE_BIN,this.rightEncode(),t.SIDE_BIN];return{data:E.join(""),text:this.text}}}]),x})(i.default);return Ig.default=h,Ig}var Dj;function D0e(){if(Dj)return kg;Dj=1,Object.defineProperty(kg,"__esModule",{value:!0});var e=(function(){function g(x,y){for(var E=0;E<y.length;E++){var N=y[E];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,y,E){return y&&g(x.prototype,y),E&&g(x,E),x}})(),t=function g(x,y,E){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,y);if(N===void 0){var T=Object.getPrototypeOf(x);return T===null?void 0:g(T,y,E)}else{if("value"in N)return N.value;var j=N.get;return j===void 0?void 0:j.call(E)}},r=em(),n=u9(),a=i(n);function i(g){return g&&g.__esModule?g:{default:g}}function o(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")}function u(g,x){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:g}function d(g,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);g.prototype=Object.create(x&&x.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(g,x):g.__proto__=x)}var c=function(x){var y=x.substr(0,12).split("").map(function(E){return+E}).reduce(function(E,N,T){return T%2?E+N*3:E+N},0);return(10-y%10)%10},h=(function(g){d(x,g);function x(y,E){o(this,x),y.search(/^[0-9]{12}$/)!==-1&&(y+=c(y));var N=u(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,y,E));return N.lastChar=E.lastChar,N}return e(x,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===c(this.data)}},{key:"leftText",value:function(){return t(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var E=this.data.substr(1,6),N=r.EAN13_STRUCTURE[this.data[0]];return t(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"leftEncode",this).call(this,E,N)}},{key:"rightText",value:function(){return t(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var E=this.data.substr(7,6);return t(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"rightEncode",this).call(this,E,"RRRRRR")}},{key:"encodeGuarded",value:function(){var E=t(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(E.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(E.push({data:"00"}),E.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),E}}]),x})(a.default);return kg.default=h,kg}var Pg={},Lj;function L0e(){if(Lj)return Pg;Lj=1,Object.defineProperty(Pg,"__esModule",{value:!0});var e=(function(){function h(g,x){for(var y=0;y<x.length;y++){var E=x[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(g,E.key,E)}}return function(g,x,y){return x&&h(g.prototype,x),y&&h(g,y),g}})(),t=function h(g,x,y){g===null&&(g=Function.prototype);var E=Object.getOwnPropertyDescriptor(g,x);if(E===void 0){var N=Object.getPrototypeOf(g);return N===null?void 0:h(N,x,y)}else{if("value"in E)return E.value;var T=E.get;return T===void 0?void 0:T.call(y)}},r=u9(),n=a(r);function a(h){return h&&h.__esModule?h:{default:h}}function i(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}function o(h,g){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:h}function u(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);h.prototype=Object.create(g&&g.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(h,g):h.__proto__=g)}var d=function(g){var x=g.substr(0,7).split("").map(function(y){return+y}).reduce(function(y,E,N){return N%2?y+E:y+E*3},0);return(10-x%10)%10},c=(function(h){u(g,h);function g(x,y){return i(this,g),x.search(/^[0-9]{7}$/)!==-1&&(x+=d(x)),o(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,x,y))}return e(g,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===d(this.data)}},{key:"leftText",value:function(){return t(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var y=this.data.substr(0,4);return t(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"leftEncode",this).call(this,y,"LLLL")}},{key:"rightText",value:function(){return t(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var y=this.data.substr(4,4);return t(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"rightEncode",this).call(this,y,"RRRR")}}]),g})(n.default);return Pg.default=c,Pg}var Rg={},Bj;function B0e(){if(Bj)return Rg;Bj=1,Object.defineProperty(Rg,"__esModule",{value:!0});var e=(function(){function x(y,E){for(var N=0;N<E.length;N++){var T=E[N];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,E,N){return E&&x(y.prototype,E),N&&x(y,N),y}})(),t=em(),r=tm(),n=o(r),a=il(),i=o(a);function o(x){return x&&x.__esModule?x:{default:x}}function u(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function d(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function c(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var h=function(y){var E=y.split("").map(function(N){return+N}).reduce(function(N,T,j){return j%2?N+T*9:N+T*3},0);return E%10},g=(function(x){c(y,x);function y(E,N){return u(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,E,N))}return e(y,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var N=t.EAN5_STRUCTURE[h(this.data)];return{data:"1011"+(0,n.default)(this.data,N,"01"),text:this.text}}}]),y})(i.default);return Rg.default=g,Rg}var Dg={},Fj;function F0e(){if(Fj)return Dg;Fj=1,Object.defineProperty(Dg,"__esModule",{value:!0});var e=(function(){function g(x,y){for(var E=0;E<y.length;E++){var N=y[E];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,y,E){return y&&g(x.prototype,y),E&&g(x,E),x}})(),t=em(),r=tm(),n=o(r),a=il(),i=o(a);function o(g){return g&&g.__esModule?g:{default:g}}function u(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")}function d(g,x){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:g}function c(g,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);g.prototype=Object.create(x&&x.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(g,x):g.__proto__=x)}var h=(function(g){c(x,g);function x(y,E){return u(this,x),d(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,y,E))}return e(x,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var E=t.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,n.default)(this.data,E,"01"),text:this.text}}}]),x})(i.default);return Dg.default=h,Dg}var L1={},Uj;function f9(){if(Uj)return L1;Uj=1,Object.defineProperty(L1,"__esModule",{value:!0});var e=(function(){function g(x,y){for(var E=0;E<y.length;E++){var N=y[E];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,y,E){return y&&g(x.prototype,y),E&&g(x,E),x}})();L1.checksum=h;var t=tm(),r=i(t),n=il(),a=i(n);function i(g){return g&&g.__esModule?g:{default:g}}function o(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")}function u(g,x){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:g}function d(g,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);g.prototype=Object.create(x&&x.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(g,x):g.__proto__=x)}var c=(function(g){d(x,g);function x(y,E){o(this,x),y.search(/^[0-9]{11}$/)!==-1&&(y+=h(y));var N=u(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,y,E));return N.displayValue=E.displayValue,E.fontSize>E.width*10?N.fontSize=E.width*10:N.fontSize=E.fontSize,N.guardHeight=E.height+N.fontSize/2+E.textMargin,N}return e(x,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==h(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var E="";return E+="101",E+=(0,r.default)(this.data.substr(0,6),"LLLLLL"),E+="01010",E+=(0,r.default)(this.data.substr(6,6),"RRRRRR"),E+="101",{data:E,text:this.text}}},{key:"guardedEncoding",value:function(){var E=[];return this.displayValue&&E.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),E.push({data:"101"+(0,r.default)(this.data[0],"L"),options:{height:this.guardHeight}}),E.push({data:(0,r.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),E.push({data:"01010",options:{height:this.guardHeight}}),E.push({data:(0,r.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),E.push({data:(0,r.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&E.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),E}}]),x})(a.default);function h(g){var x=0,y;for(y=1;y<11;y+=2)x+=parseInt(g[y]);for(y=0;y<11;y+=2)x+=parseInt(g[y])*3;return(10-x%10)%10}return L1.default=c,L1}var Lg={},zj;function U0e(){if(zj)return Lg;zj=1,Object.defineProperty(Lg,"__esModule",{value:!0});var e=(function(){function E(N,T){for(var j=0;j<T.length;j++){var D=T[j];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}}return function(N,T,j){return T&&E(N.prototype,T),j&&E(N,j),N}})(),t=tm(),r=o(t),n=il(),a=o(n),i=f9();function o(E){return E&&E.__esModule?E:{default:E}}function u(E,N){if(!(E instanceof N))throw new TypeError("Cannot call a class as a function")}function d(E,N){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:E}function c(E,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);E.prototype=Object.create(N&&N.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(E,N):E.__proto__=N)}var h=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],g=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],x=(function(E){c(N,E);function N(T,j){u(this,N);var D=d(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,T,j));if(D.isValid=!1,T.search(/^[0-9]{6}$/)!==-1)D.middleDigits=T,D.upcA=y(T,"0"),D.text=j.text||""+D.upcA[0]+T+D.upcA[D.upcA.length-1],D.isValid=!0;else if(T.search(/^[01][0-9]{7}$/)!==-1)if(D.middleDigits=T.substring(1,T.length-1),D.upcA=y(D.middleDigits,T[0]),D.upcA[D.upcA.length-1]===T[T.length-1])D.isValid=!0;else return d(D);else return d(D);return D.displayValue=j.displayValue,j.fontSize>j.width*10?D.fontSize=j.width*10:D.fontSize=j.fontSize,D.guardHeight=j.height+D.fontSize/2+j.textMargin,D}return e(N,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var j="";return j+="101",j+=this.encodeMiddleDigits(),j+="010101",{data:j,text:this.text}}},{key:"guardedEncoding",value:function(){var j=[];return this.displayValue&&j.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),j.push({data:"101",options:{height:this.guardHeight}}),j.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),j.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&j.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),j}},{key:"encodeMiddleDigits",value:function(){var j=this.upcA[0],D=this.upcA[this.upcA.length-1],F=g[parseInt(D)][parseInt(j)];return(0,r.default)(this.middleDigits,F)}}]),N})(a.default);function y(E,N){for(var T=parseInt(E[E.length-1]),j=h[T],D="",F=0,U=0;U<j.length;U++){var Z=j[U];Z==="X"?D+=E[F++]:D+=Z}return D=""+N+D,""+D+(0,i.checksum)(D)}return Lg.default=x,Lg}var qj;function z0e(){if(qj)return Qs;qj=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.UPCE=Qs.UPC=Qs.EAN2=Qs.EAN5=Qs.EAN8=Qs.EAN13=void 0;var e=D0e(),t=x(e),r=L0e(),n=x(r),a=B0e(),i=x(a),o=F0e(),u=x(o),d=f9(),c=x(d),h=U0e(),g=x(h);function x(y){return y&&y.__esModule?y:{default:y}}return Qs.EAN13=t.default,Qs.EAN8=n.default,Qs.EAN5=i.default,Qs.EAN2=u.default,Qs.UPC=c.default,Qs.UPCE=g.default,Qs}var cd={},Bg={},qh={},Hj;function q0e(){return Hj||(Hj=1,Object.defineProperty(qh,"__esModule",{value:!0}),qh.START_BIN="1010",qh.END_BIN="11101",qh.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),qh}var Gj;function d9(){if(Gj)return Bg;Gj=1,Object.defineProperty(Bg,"__esModule",{value:!0});var e=(function(){function c(h,g){for(var x=0;x<g.length;x++){var y=g[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,g,x){return g&&c(h.prototype,g),x&&c(h,x),h}})(),t=q0e(),r=il(),n=a(r);function a(c){return c&&c.__esModule?c:{default:c}}function i(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function o(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=(function(c){u(h,c);function h(){return i(this,h),o(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return e(h,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var x=this,y=this.data.match(/.{2}/g).map(function(E){return x.encodePair(E)}).join("");return{data:t.START_BIN+y+t.END_BIN,text:this.text}}},{key:"encodePair",value:function(x){var y=t.BINARIES[x[1]];return t.BINARIES[x[0]].split("").map(function(E,N){return(E==="1"?"111":"1")+(y[N]==="1"?"000":"0")}).join("")}}]),h})(n.default);return Bg.default=d,Bg}var Fg={},$j;function H0e(){if($j)return Fg;$j=1,Object.defineProperty(Fg,"__esModule",{value:!0});var e=(function(){function c(h,g){for(var x=0;x<g.length;x++){var y=g[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,g,x){return g&&c(h.prototype,g),x&&c(h,x),h}})(),t=d9(),r=n(t);function n(c){return c&&c.__esModule?c:{default:c}}function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function i(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function o(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var u=function(h){var g=h.substr(0,13).split("").map(function(x){return parseInt(x,10)}).reduce(function(x,y,E){return x+y*(3-E%2*2)},0);return Math.ceil(g/10)*10-g},d=(function(c){o(h,c);function h(g,x){return a(this,h),g.search(/^[0-9]{13}$/)!==-1&&(g+=u(g)),i(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,g,x))}return e(h,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===u(this.data)}}]),h})(r.default);return Fg.default=d,Fg}var Wj;function G0e(){if(Wj)return cd;Wj=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.ITF14=cd.ITF=void 0;var e=d9(),t=a(e),r=H0e(),n=a(r);function a(i){return i&&i.__esModule?i:{default:i}}return cd.ITF=t.default,cd.ITF14=n.default,cd}var Go={},Ug={},Vj;function rm(){if(Vj)return Ug;Vj=1,Object.defineProperty(Ug,"__esModule",{value:!0});var e=(function(){function c(h,g){for(var x=0;x<g.length;x++){var y=g[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,g,x){return g&&c(h.prototype,g),x&&c(h,x),h}})(),t=il(),r=n(t);function n(c){return c&&c.__esModule?c:{default:c}}function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function i(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function o(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var u=(function(c){o(h,c);function h(g,x){return a(this,h),i(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,g,x))}return e(h,[{key:"encode",value:function(){for(var x="110",y=0;y<this.data.length;y++){var E=parseInt(this.data[y]),N=E.toString(2);N=d(N,4-N.length);for(var T=0;T<N.length;T++)x+=N[T]=="0"?"100":"110"}return x+="1001",{data:x,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),h})(r.default);function d(c,h){for(var g=0;g<h;g++)c="0"+c;return c}return Ug.default=u,Ug}var zg={},B1={},Yj;function W2(){if(Yj)return B1;Yj=1,Object.defineProperty(B1,"__esModule",{value:!0}),B1.mod10=e,B1.mod11=t;function e(r){for(var n=0,a=0;a<r.length;a++){var i=parseInt(r[a]);(a+r.length)%2===0?n+=i:n+=i*2%10+Math.floor(i*2/10)}return(10-n%10)%10}function t(r){for(var n=0,a=[2,3,4,5,6,7],i=0;i<r.length;i++){var o=parseInt(r[r.length-1-i]);n+=a[i%a.length]*o}return(11-n%11)%11}return B1}var Xj;function $0e(){if(Xj)return zg;Xj=1,Object.defineProperty(zg,"__esModule",{value:!0});var e=rm(),t=n(e),r=W2();function n(d){return d&&d.__esModule?d:{default:d}}function a(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function i(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,g){return a(this,c),i(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h+(0,r.mod10)(h),g))}return c})(t.default);return zg.default=u,zg}var qg={},Kj;function W0e(){if(Kj)return qg;Kj=1,Object.defineProperty(qg,"__esModule",{value:!0});var e=rm(),t=n(e),r=W2();function n(d){return d&&d.__esModule?d:{default:d}}function a(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function i(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,g){return a(this,c),i(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h+(0,r.mod11)(h),g))}return c})(t.default);return qg.default=u,qg}var Hg={},Zj;function V0e(){if(Zj)return Hg;Zj=1,Object.defineProperty(Hg,"__esModule",{value:!0});var e=rm(),t=n(e),r=W2();function n(d){return d&&d.__esModule?d:{default:d}}function a(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function i(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,g){return a(this,c),h+=(0,r.mod10)(h),h+=(0,r.mod10)(h),i(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h,g))}return c})(t.default);return Hg.default=u,Hg}var Gg={},Qj;function Y0e(){if(Qj)return Gg;Qj=1,Object.defineProperty(Gg,"__esModule",{value:!0});var e=rm(),t=n(e),r=W2();function n(d){return d&&d.__esModule?d:{default:d}}function a(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function i(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,g){return a(this,c),h+=(0,r.mod11)(h),h+=(0,r.mod10)(h),i(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h,g))}return c})(t.default);return Gg.default=u,Gg}var Jj;function X0e(){if(Jj)return Go;Jj=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.MSI1110=Go.MSI1010=Go.MSI11=Go.MSI10=Go.MSI=void 0;var e=rm(),t=h(e),r=$0e(),n=h(r),a=W0e(),i=h(a),o=V0e(),u=h(o),d=Y0e(),c=h(d);function h(g){return g&&g.__esModule?g:{default:g}}return Go.MSI=t.default,Go.MSI10=n.default,Go.MSI11=i.default,Go.MSI1010=u.default,Go.MSI1110=c.default,Go}var F1={},ek;function K0e(){if(ek)return F1;ek=1,Object.defineProperty(F1,"__esModule",{value:!0}),F1.pharmacode=void 0;var e=(function(){function d(c,h){for(var g=0;g<h.length;g++){var x=h[g];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(c,x.key,x)}}return function(c,h,g){return h&&d(c.prototype,h),g&&d(c,g),c}})(),t=il(),r=n(t);function n(d){return d&&d.__esModule?d:{default:d}}function a(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function i(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,g){a(this,c);var x=i(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h,g));return x.number=parseInt(h,10),x}return e(c,[{key:"encode",value:function(){for(var g=this.number,x="";!isNaN(g)&&g!=0;)g%2===0?(x="11100"+x,g=(g-2)/2):(x="100"+x,g=(g-1)/2);return x=x.slice(0,-2),{data:x,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),c})(r.default);return F1.pharmacode=u,F1}var U1={},tk;function Z0e(){if(tk)return U1;tk=1,Object.defineProperty(U1,"__esModule",{value:!0}),U1.codabar=void 0;var e=(function(){function d(c,h){for(var g=0;g<h.length;g++){var x=h[g];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(c,x.key,x)}}return function(c,h,g){return h&&d(c.prototype,h),g&&d(c,g),c}})(),t=il(),r=n(t);function n(d){return d&&d.__esModule?d:{default:d}}function a(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function i(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,g){a(this,c),h.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(h="A"+h+"A");var x=i(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h.toUpperCase(),g));return x.text=x.options.text||x.text.replace(/[A-D]/g,""),x}return e(c,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var g=[],x=this.getEncodings(),y=0;y<this.data.length;y++)g.push(x[this.data.charAt(y)]),y!==this.data.length-1&&g.push("0");return{text:this.text,data:g.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),c})(r.default);return U1.codabar=u,U1}var ud={},$g={},Hh={},rk;function Q0e(){return rk||(rk=1,Object.defineProperty(Hh,"__esModule",{value:!0}),Hh.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""],Hh.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],Hh.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),Hh}var nk;function h9(){if(nk)return $g;nk=1,Object.defineProperty($g,"__esModule",{value:!0});var e=(function(){function c(h,g){for(var x=0;x<g.length;x++){var y=g[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,g,x){return g&&c(h.prototype,g),x&&c(h,x),h}})(),t=Q0e(),r=il(),n=a(r);function a(c){return c&&c.__esModule?c:{default:c}}function i(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function o(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=(function(c){u(h,c);function h(g,x){return i(this,h),o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,g,x))}return e(h,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var x=this.data.split("").flatMap(function(T){return t.MULTI_SYMBOLS[T]||T}),y=x.map(function(T){return h.getEncoding(T)}).join(""),E=h.checksum(x,20),N=h.checksum(x.concat(E),15);return{text:this.text,data:h.getEncoding("")+y+h.getEncoding(E)+h.getEncoding(N)+h.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(x){return t.BINARIES[h.symbolValue(x)]}},{key:"getSymbol",value:function(x){return t.SYMBOLS[x]}},{key:"symbolValue",value:function(x){return t.SYMBOLS.indexOf(x)}},{key:"checksum",value:function(x,y){var E=x.slice().reverse().reduce(function(N,T,j){var D=j%y+1;return N+h.symbolValue(T)*D},0);return h.getSymbol(E%47)}}]),h})(n.default);return $g.default=d,$g}var Wg={},ak;function J0e(){if(ak)return Wg;ak=1,Object.defineProperty(Wg,"__esModule",{value:!0});var e=(function(){function d(c,h){for(var g=0;g<h.length;g++){var x=h[g];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(c,x.key,x)}}return function(c,h,g){return h&&d(c.prototype,h),g&&d(c,g),c}})(),t=h9(),r=n(t);function n(d){return d&&d.__esModule?d:{default:d}}function a(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function i(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,g){return a(this,c),i(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h,g))}return e(c,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),c})(r.default);return Wg.default=u,Wg}var ik;function e1e(){if(ik)return ud;ik=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.CODE93FullASCII=ud.CODE93=void 0;var e=h9(),t=a(e),r=J0e(),n=a(r);function a(i){return i&&i.__esModule?i:{default:i}}return ud.CODE93=t.default,ud.CODE93FullASCII=n.default,ud}var z1={},sk;function t1e(){if(sk)return z1;sk=1,Object.defineProperty(z1,"__esModule",{value:!0}),z1.GenericBarcode=void 0;var e=(function(){function d(c,h){for(var g=0;g<h.length;g++){var x=h[g];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(c,x.key,x)}}return function(c,h,g){return h&&d(c.prototype,h),g&&d(c,g),c}})(),t=il(),r=n(t);function n(d){return d&&d.__esModule?d:{default:d}}function a(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function i(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,g){return a(this,c),i(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h,g))}return e(c,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),c})(r.default);return z1.GenericBarcode=u,z1}var ok;function r1e(){if(ok)return Sg;ok=1,Object.defineProperty(Sg,"__esModule",{value:!0});var e=T0e(),t=R0e(),r=z0e(),n=G0e(),a=X0e(),i=K0e(),o=Z0e(),u=e1e(),d=t1e();return Sg.default={CODE39:e.CODE39,CODE128:t.CODE128,CODE128A:t.CODE128A,CODE128B:t.CODE128B,CODE128C:t.CODE128C,EAN13:r.EAN13,EAN8:r.EAN8,EAN5:r.EAN5,EAN2:r.EAN2,UPC:r.UPC,UPCE:r.UPCE,ITF14:n.ITF14,ITF:n.ITF,MSI:a.MSI,MSI10:a.MSI10,MSI11:a.MSI11,MSI1010:a.MSI1010,MSI1110:a.MSI1110,pharmacode:i.pharmacode,codabar:o.codabar,CODE93:u.CODE93,CODE93FullASCII:u.CODE93FullASCII,GenericBarcode:d.GenericBarcode},Sg}var Vg={},lk;function V2(){if(lk)return Vg;lk=1,Object.defineProperty(Vg,"__esModule",{value:!0});var e=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t};return Vg.default=function(t,r){return e({},t,r)},Vg}var Yg={},ck;function n1e(){if(ck)return Yg;ck=1,Object.defineProperty(Yg,"__esModule",{value:!0}),Yg.default=e;function e(t){var r=[];function n(a){if(Array.isArray(a))for(var i=0;i<a.length;i++)n(a[i]);else a.text=a.text||"",a.data=a.data||"",r.push(a)}return n(t),r}return Yg}var Xg={},uk;function a1e(){if(uk)return Xg;uk=1,Object.defineProperty(Xg,"__esModule",{value:!0}),Xg.default=e;function e(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}return Xg}var Kg={},Zg={},Qg={},fk;function p9(){if(fk)return Qg;fk=1,Object.defineProperty(Qg,"__esModule",{value:!0}),Qg.default=e;function e(t){var r=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in r)r.hasOwnProperty(n)&&(n=r[n],typeof t[n]=="string"&&(t[n]=parseInt(t[n],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}return Qg}var Jg={},dk;function m9(){if(dk)return Jg;dk=1,Object.defineProperty(Jg,"__esModule",{value:!0});var e={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return Jg.default=e,Jg}var hk;function i1e(){if(hk)return Zg;hk=1,Object.defineProperty(Zg,"__esModule",{value:!0});var e=p9(),t=a(e),r=m9(),n=a(r);function a(o){return o&&o.__esModule?o:{default:o}}function i(o){var u={};for(var d in n.default)n.default.hasOwnProperty(d)&&(o.hasAttribute("jsbarcode-"+d.toLowerCase())&&(u[d]=o.getAttribute("jsbarcode-"+d.toLowerCase())),o.hasAttribute("data-"+d.toLowerCase())&&(u[d]=o.getAttribute("data-"+d.toLowerCase())));return u.value=o.getAttribute("jsbarcode-value")||o.getAttribute("data-value"),u=(0,t.default)(u),u}return Zg.default=i,Zg}var ev={},tv={},$o={},pk;function g9(){if(pk)return $o;pk=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.getTotalWidthOfEncodings=$o.calculateEncodingAttributes=$o.getBarcodePadding=$o.getEncodingHeight=$o.getMaximumHeightOfEncodings=void 0;var e=V2(),t=r(e);function r(c){return c&&c.__esModule?c:{default:c}}function n(c,h){return h.height+(h.displayValue&&c.text.length>0?h.fontSize+h.textMargin:0)+h.marginTop+h.marginBottom}function a(c,h,g){if(g.displayValue&&h<c){if(g.textAlign=="center")return Math.floor((c-h)/2);if(g.textAlign=="left")return 0;if(g.textAlign=="right")return Math.floor(c-h)}return 0}function i(c,h,g){for(var x=0;x<c.length;x++){var y=c[x],E=(0,t.default)(h,y.options),N;E.displayValue?N=d(y.text,E,g):N=0;var T=y.data.length*E.width;y.width=Math.ceil(Math.max(N,T)),y.height=n(y,E),y.barcodePadding=a(N,T,E)}}function o(c){for(var h=0,g=0;g<c.length;g++)h+=c[g].width;return h}function u(c){for(var h=0,g=0;g<c.length;g++)c[g].height>h&&(h=c[g].height);return h}function d(c,h,g){var x;if(g)x=g;else if(typeof document<"u")x=document.createElement("canvas").getContext("2d");else return 0;x.font=h.fontOptions+" "+h.fontSize+"px "+h.font;var y=x.measureText(c);if(!y)return 0;var E=y.width;return E}return $o.getMaximumHeightOfEncodings=u,$o.getEncodingHeight=n,$o.getBarcodePadding=a,$o.calculateEncodingAttributes=i,$o.getTotalWidthOfEncodings=o,$o}var mk;function s1e(){if(mk)return tv;mk=1,Object.defineProperty(tv,"__esModule",{value:!0});var e=(function(){function u(d,c){for(var h=0;h<c.length;h++){var g=c[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,c,h){return c&&u(d.prototype,c),h&&u(d,h),d}})(),t=V2(),r=a(t),n=g9();function a(u){return u&&u.__esModule?u:{default:u}}function i(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}var o=(function(){function u(d,c,h){i(this,u),this.canvas=d,this.encodings=c,this.options=h}return e(u,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var c=0;c<this.encodings.length;c++){var h=(0,r.default)(this.options,this.encodings[c].options);this.drawCanvasBarcode(h,this.encodings[c]),this.drawCanvasText(h,this.encodings[c]),this.moveCanvasDrawing(this.encodings[c])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var c=this.canvas.getContext("2d");c.save(),(0,n.calculateEncodingAttributes)(this.encodings,this.options,c);var h=(0,n.getTotalWidthOfEncodings)(this.encodings),g=(0,n.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=h+this.options.marginLeft+this.options.marginRight,this.canvas.height=g,c.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(c.fillStyle=this.options.background,c.fillRect(0,0,this.canvas.width,this.canvas.height)),c.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(c,h){var g=this.canvas.getContext("2d"),x=h.data,y;c.textPosition=="top"?y=c.marginTop+c.fontSize+c.textMargin:y=c.marginTop,g.fillStyle=c.lineColor;for(var E=0;E<x.length;E++){var N=E*c.width+h.barcodePadding;x[E]==="1"?g.fillRect(N,y,c.width,c.height):x[E]&&g.fillRect(N,y,c.width,c.height*x[E])}}},{key:"drawCanvasText",value:function(c,h){var g=this.canvas.getContext("2d"),x=c.fontOptions+" "+c.fontSize+"px "+c.font;if(c.displayValue){var y,E;c.textPosition=="top"?E=c.marginTop+c.fontSize-c.textMargin:E=c.height+c.textMargin+c.marginTop+c.fontSize,g.font=x,c.textAlign=="left"||h.barcodePadding>0?(y=0,g.textAlign="left"):c.textAlign=="right"?(y=h.width-1,g.textAlign="right"):(y=h.width/2,g.textAlign="center"),g.fillText(h.text,y,E)}}},{key:"moveCanvasDrawing",value:function(c){var h=this.canvas.getContext("2d");h.translate(c.width,0)}},{key:"restoreCanvas",value:function(){var c=this.canvas.getContext("2d");c.restore()}}]),u})();return tv.default=o,tv}var rv={},gk;function o1e(){if(gk)return rv;gk=1,Object.defineProperty(rv,"__esModule",{value:!0});var e=(function(){function d(c,h){for(var g=0;g<h.length;g++){var x=h[g];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(c,x.key,x)}}return function(c,h,g){return h&&d(c.prototype,h),g&&d(c,g),c}})(),t=V2(),r=a(t),n=g9();function a(d){return d&&d.__esModule?d:{default:d}}function i(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}var o="http://www.w3.org/2000/svg",u=(function(){function d(c,h,g){i(this,d),this.svg=c,this.encodings=h,this.options=g,this.document=g.xmlDocument||document}return e(d,[{key:"render",value:function(){var h=this.options.marginLeft;this.prepareSVG();for(var g=0;g<this.encodings.length;g++){var x=this.encodings[g],y=(0,r.default)(this.options,x.options),E=this.createGroup(h,y.marginTop,this.svg);this.setGroupOptions(E,y),this.drawSvgBarcode(E,y,x),this.drawSVGText(E,y,x),h+=x.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,n.calculateEncodingAttributes)(this.encodings,this.options);var h=(0,n.getTotalWidthOfEncodings)(this.encodings),g=(0,n.getMaximumHeightOfEncodings)(this.encodings),x=h+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(x,g),this.options.background&&this.drawRect(0,0,x,g,this.svg).setAttribute("fill",this.options.background)}},{key:"drawSvgBarcode",value:function(h,g,x){var y=x.data,E;g.textPosition=="top"?E=g.fontSize+g.textMargin:E=0;for(var N=0,T=0,j=0;j<y.length;j++)T=j*g.width+x.barcodePadding,y[j]==="1"?N++:N>0&&(this.drawRect(T-g.width*N,E,g.width*N,g.height,h),N=0);N>0&&this.drawRect(T-g.width*(N-1),E,g.width*N,g.height,h)}},{key:"drawSVGText",value:function(h,g,x){var y=this.document.createElementNS(o,"text");if(g.displayValue){var E,N;y.setAttribute("font-family",g.font),y.setAttribute("font-size",g.fontSize),g.fontOptions.includes("bold")&&y.setAttribute("font-weight","bold"),g.fontOptions.includes("italic")&&y.setAttribute("font-style","italic"),g.textPosition=="top"?N=g.fontSize-g.textMargin:N=g.height+g.textMargin+g.fontSize,g.textAlign=="left"||x.barcodePadding>0?(E=0,y.setAttribute("text-anchor","start")):g.textAlign=="right"?(E=x.width-1,y.setAttribute("text-anchor","end")):(E=x.width/2,y.setAttribute("text-anchor","middle")),y.setAttribute("x",E),y.setAttribute("y",N),y.appendChild(this.document.createTextNode(x.text)),h.appendChild(y)}}},{key:"setSvgAttributes",value:function(h,g){var x=this.svg;x.setAttribute("width",h+"px"),x.setAttribute("height",g+"px"),x.setAttribute("x","0px"),x.setAttribute("y","0px"),x.setAttribute("viewBox","0 0 "+h+" "+g),x.setAttribute("xmlns",o),x.setAttribute("version","1.1")}},{key:"createGroup",value:function(h,g,x){var y=this.document.createElementNS(o,"g");return y.setAttribute("transform","translate("+h+", "+g+")"),x.appendChild(y),y}},{key:"setGroupOptions",value:function(h,g){h.setAttribute("fill",g.lineColor)}},{key:"drawRect",value:function(h,g,x,y,E){var N=this.document.createElementNS(o,"rect");return N.setAttribute("x",h),N.setAttribute("y",g),N.setAttribute("width",x),N.setAttribute("height",y),E.appendChild(N),N}}]),d})();return rv.default=u,rv}var nv={},vk;function l1e(){if(vk)return nv;vk=1,Object.defineProperty(nv,"__esModule",{value:!0});var e=(function(){function n(a,i){for(var o=0;o<i.length;o++){var u=i[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}return function(a,i,o){return i&&n(a.prototype,i),o&&n(a,o),a}})();function t(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}var r=(function(){function n(a,i,o){t(this,n),this.object=a,this.encodings=i,this.options=o}return e(n,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),n})();return nv.default=r,nv}var bk;function c1e(){if(bk)return ev;bk=1,Object.defineProperty(ev,"__esModule",{value:!0});var e=s1e(),t=o(e),r=o1e(),n=o(r),a=l1e(),i=o(a);function o(u){return u&&u.__esModule?u:{default:u}}return ev.default={CanvasRenderer:t.default,SVGRenderer:n.default,ObjectRenderer:i.default},ev}var Gh={},yk;function v9(){if(yk)return Gh;yk=1,Object.defineProperty(Gh,"__esModule",{value:!0});function e(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}function t(o,u){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:o}function r(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(o,u):o.__proto__=u)}var n=(function(o){r(u,o);function u(d,c){e(this,u);var h=t(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return h.name="InvalidInputException",h.symbology=d,h.input=c,h.message='"'+h.input+'" is not a valid input for '+h.symbology,h}return u})(Error),a=(function(o){r(u,o);function u(){e(this,u);var d=t(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return d.name="InvalidElementException",d.message="Not supported type to render on",d}return u})(Error),i=(function(o){r(u,o);function u(){e(this,u);var d=t(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return d.name="NoElementException",d.message="No element to render on.",d}return u})(Error);return Gh.InvalidInputException=n,Gh.InvalidElementException=a,Gh.NoElementException=i,Gh}var xk;function u1e(){if(xk)return Kg;xk=1,Object.defineProperty(Kg,"__esModule",{value:!0});var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},t=i1e(),r=o(t),n=c1e(),a=o(n),i=v9();function o(h){return h&&h.__esModule?h:{default:h}}function u(h){if(typeof h=="string")return d(h);if(Array.isArray(h)){for(var g=[],x=0;x<h.length;x++)g.push(u(h[x]));return g}else{if(typeof HTMLCanvasElement<"u"&&h instanceof HTMLImageElement)return c(h);if(h&&h.nodeName&&h.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&h instanceof SVGElement)return{element:h,options:(0,r.default)(h),renderer:a.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&h instanceof HTMLCanvasElement)return{element:h,options:(0,r.default)(h),renderer:a.default.CanvasRenderer};if(h&&h.getContext)return{element:h,renderer:a.default.CanvasRenderer};if(h&&(typeof h>"u"?"undefined":e(h))==="object"&&!h.nodeName)return{element:h,renderer:a.default.ObjectRenderer};throw new i.InvalidElementException}}function d(h){var g=document.querySelectorAll(h);if(g.length!==0){for(var x=[],y=0;y<g.length;y++)x.push(u(g[y]));return x}}function c(h){var g=document.createElement("canvas");return{element:g,options:(0,r.default)(h),renderer:a.default.CanvasRenderer,afterRender:function(){h.setAttribute("src",g.toDataURL())}}}return Kg.default=u,Kg}var av={},wk;function f1e(){if(wk)return av;wk=1,Object.defineProperty(av,"__esModule",{value:!0});var e=(function(){function n(a,i){for(var o=0;o<i.length;o++){var u=i[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}return function(a,i,o){return i&&n(a.prototype,i),o&&n(a,o),a}})();function t(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}var r=(function(){function n(a){t(this,n),this.api=a}return e(n,[{key:"handleCatch",value:function(i){if(i.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw i.message;else throw i;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(i){try{var o=i.apply(void 0,arguments);return this.api._options.valid(!0),o}catch(u){return this.handleCatch(u),this.api}}}]),n})();return av.default=r,av}var u5,_k;function d1e(){if(_k)return u5;_k=1;var e=r1e(),t=j(e),r=V2(),n=j(r),a=n1e(),i=j(a),o=a1e(),u=j(o),d=u1e(),c=j(d),h=p9(),g=j(h),x=f1e(),y=j(x),E=v9(),N=m9(),T=j(N);function j(q){return q&&q.__esModule?q:{default:q}}var D=function(){},F=function(se,H,G){var ue=new D;if(typeof se>"u")throw Error("No element to render on was provided.");return ue._renderProperties=(0,c.default)(se),ue._encodings=[],ue._options=T.default,ue._errorHandler=new y.default(ue),typeof H<"u"&&(G=G||{},G.format||(G.format=$()),ue.options(G)[G.format](H,G).render()),ue};F.getModule=function(q){return t.default[q]};for(var U in t.default)t.default.hasOwnProperty(U)&&Z(t.default,U);function Z(q,se){D.prototype[se]=D.prototype[se.toUpperCase()]=D.prototype[se.toLowerCase()]=function(H,G){var ue=this;return ue._errorHandler.wrapBarcodeCall(function(){G.text=typeof G.text>"u"?void 0:""+G.text;var J=(0,n.default)(ue._options,G);J=(0,g.default)(J);var ae=q[se],re=X(H,ae,J);return ue._encodings.push(re),ue})}}function X(q,se,H){q=""+q;var G=new se(q,H);if(!G.valid())throw new E.InvalidInputException(G.constructor.name,q);var ue=G.encode();ue=(0,i.default)(ue);for(var J=0;J<ue.length;J++)ue[J].options=(0,n.default)(H,ue[J].options);return ue}function $(){return t.default.CODE128?"CODE128":Object.keys(t.default)[0]}D.prototype.options=function(q){return this._options=(0,n.default)(this._options,q),this},D.prototype.blank=function(q){var se=new Array(q+1).join("0");return this._encodings.push({data:se}),this},D.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var q;for(var se in this._renderProperties){q=this._renderProperties[se];var H=(0,n.default)(this._options,q.options);H.format=="auto"&&(H.format=$()),this._errorHandler.wrapBarcodeCall(function(){var G=H.value,ue=t.default[H.format.toUpperCase()],J=X(G,ue,H);Q(q,J,H)})}}},D.prototype.render=function(){if(!this._renderProperties)throw new E.NoElementException;if(Array.isArray(this._renderProperties))for(var q=0;q<this._renderProperties.length;q++)Q(this._renderProperties[q],this._encodings,this._options);else Q(this._renderProperties,this._encodings,this._options);return this},D.prototype._defaults=T.default;function Q(q,se,H){se=(0,i.default)(se);for(var G=0;G<se.length;G++)se[G].options=(0,n.default)(H,se[G].options),(0,u.default)(se[G].options);(0,u.default)(H);var ue=q.renderer,J=new ue(q.element,se,H);J.render(),q.afterRender&&q.afterRender()}return typeof window<"u"&&(window.JsBarcode=F),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(q,se){var H=[];return jQuery(this).each(function(){H.push(this)}),F(H,q,se)}),u5=F,u5}var h1e=d1e();const p1e=Wc(h1e),m1e="modulepreload",g1e=function(e){return"/"+e},Sk={},f5=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let o=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=o(r.map(c=>{if(c=g1e(c),c in Sk)return;Sk[c]=!0;const h=c.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${g}`))return;const x=document.createElement("link");if(x.rel=h?"stylesheet":m1e,h||(x.as="script"),x.crossOrigin="",x.href=c,d&&x.setAttribute("nonce",d),document.head.appendChild(x),h)return new Promise((y,E)=>{x.addEventListener("load",y),x.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return a.then(o=>{for(const u of o||[])u.status==="rejected"&&i(u.reason);return t().catch(i)})};function Un(e){"@babel/helpers - typeof";return Un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Un(e)}var ic=Uint8Array,el=Uint16Array,LA=Int32Array,BA=new ic([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),FA=new ic([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ak=new ic([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),b9=function(e,t){for(var r=new el(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new LA(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},y9=b9(BA,2),v1e=y9.b,i3=y9.r;v1e[28]=258,i3[258]=28;var b1e=b9(FA,0),Ek=b1e.r,s3=new el(32768);for(var ba=0;ba<32768;++ba){var wf=(ba&43690)>>1|(ba&21845)<<1;wf=(wf&52428)>>2|(wf&13107)<<2,wf=(wf&61680)>>4|(wf&3855)<<4,s3[ba]=((wf&65280)>>8|(wf&255)<<8)>>1}var ep=(function(e,t,r){for(var n=e.length,a=0,i=new el(t);a<n;++a)e[a]&&++i[e[a]-1];var o=new el(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var u;if(r){u=new el(1<<t);var d=15-t;for(a=0;a<n;++a)if(e[a])for(var c=a<<4|e[a],h=t-e[a],g=o[e[a]-1]++<<h,x=g|(1<<h)-1;g<=x;++g)u[s3[g]>>d]=c}else for(u=new el(n),a=0;a<n;++a)e[a]&&(u[a]=s3[o[e[a]-1]++]>>15-e[a]);return u}),qd=new ic(288);for(var ba=0;ba<144;++ba)qd[ba]=8;for(var ba=144;ba<256;++ba)qd[ba]=9;for(var ba=256;ba<280;++ba)qd[ba]=7;for(var ba=280;ba<288;++ba)qd[ba]=8;var Lb=new ic(32);for(var ba=0;ba<32;++ba)Lb[ba]=5;var y1e=ep(qd,9,0),x1e=ep(Lb,5,0),x9=function(e){return(e+7)/8|0},w1e=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new ic(e.subarray(t,r))},gu=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},q1=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},d5=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:_9,l:0};if(a==1){var o=new ic(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(Z,X){return Z.f-X.f}),r.push({s:-1,f:25001});var u=r[0],d=r[1],c=0,h=1,g=2;for(r[0]={s:-1,f:u.f+d.f,l:u,r:d};h!=a-1;)u=r[r[c].f<r[g].f?c++:g++],d=r[c!=h&&r[c].f<r[g].f?c++:g++],r[h++]={s:-1,f:u.f+d.f,l:u,r:d};for(var x=i[0].s,n=1;n<a;++n)i[n].s>x&&(x=i[n].s);var y=new el(x+1),E=o3(r[h-1],y,0);if(E>t){var n=0,N=0,T=E-t,j=1<<T;for(i.sort(function(X,$){return y[$.s]-y[X.s]||X.f-$.f});n<a;++n){var D=i[n].s;if(y[D]>t)N+=j-(1<<E-y[D]),y[D]=t;else break}for(N>>=T;N>0;){var F=i[n].s;y[F]<t?N-=1<<t-y[F]++-1:++n}for(;n>=0&&N;--n){var U=i[n].s;y[U]==t&&(--y[U],++N)}E=t}return{t:new ic(y),l:E}},o3=function(e,t,r){return e.s==-1?Math.max(o3(e.l,t,r+1),o3(e.r,t,r+1)):t[e.s]=r},Nk=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new el(++t),n=0,a=e[0],i=1,o=function(d){r[n++]=d},u=1;u<=t;++u)if(e[u]==a&&u!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[u]}return{c:r.subarray(0,n),n:t}},H1=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},w9=function(e,t,r){var n=r.length,a=x9(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},Ck=function(e,t,r,n,a,i,o,u,d,c,h){gu(t,h++,r),++a[256];for(var g=d5(a,15),x=g.t,y=g.l,E=d5(i,15),N=E.t,T=E.l,j=Nk(x),D=j.c,F=j.n,U=Nk(N),Z=U.c,X=U.n,$=new el(19),Q=0;Q<D.length;++Q)++$[D[Q]&31];for(var Q=0;Q<Z.length;++Q)++$[Z[Q]&31];for(var q=d5($,7),se=q.t,H=q.l,G=19;G>4&&!se[Ak[G-1]];--G);var ue=c+5<<3,J=H1(a,qd)+H1(i,Lb)+o,ae=H1(a,x)+H1(i,N)+o+14+3*G+H1($,se)+2*$[16]+3*$[17]+7*$[18];if(d>=0&&ue<=J&&ue<=ae)return w9(t,h,e.subarray(d,d+c));var re,he,Se,pe;if(gu(t,h,1+(ae<J)),h+=2,ae<J){re=ep(x,y,0),he=x,Se=ep(N,T,0),pe=N;var be=ep(se,H,0);gu(t,h,F-257),gu(t,h+5,X-1),gu(t,h+10,G-4),h+=14;for(var Q=0;Q<G;++Q)gu(t,h+3*Q,se[Ak[Q]]);h+=3*G;for(var oe=[D,Z],Y=0;Y<2;++Y)for(var le=oe[Y],Q=0;Q<le.length;++Q){var me=le[Q]&31;gu(t,h,be[me]),h+=se[me],me>15&&(gu(t,h,le[Q]>>5&127),h+=le[Q]>>12)}}else re=y1e,he=qd,Se=x1e,pe=Lb;for(var Q=0;Q<u;++Q){var Ce=n[Q];if(Ce>255){var me=Ce>>18&31;q1(t,h,re[me+257]),h+=he[me+257],me>7&&(gu(t,h,Ce>>23&31),h+=BA[me]);var we=Ce&31;q1(t,h,Se[we]),h+=pe[we],we>3&&(q1(t,h,Ce>>5&8191),h+=FA[we])}else q1(t,h,re[Ce]),h+=he[Ce]}return q1(t,h,re[256]),h+he[256]},_1e=new LA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),_9=new ic(0),S1e=function(e,t,r,n,a,i){var o=i.z||e.length,u=new ic(n+o+5*(1+Math.ceil(o/7e3))+a),d=u.subarray(n,u.length-a),c=i.l,h=(i.r||0)&7;if(t){h&&(d[0]=i.r>>3);for(var g=_1e[t-1],x=g>>13,y=g&8191,E=(1<<r)-1,N=i.p||new el(32768),T=i.h||new el(E+1),j=Math.ceil(r/3),D=2*j,F=function(yt){return(e[yt]^e[yt+1]<<j^e[yt+2]<<D)&E},U=new LA(25e3),Z=new el(288),X=new el(32),$=0,Q=0,q=i.i||0,se=0,H=i.w||0,G=0;q+2<o;++q){var ue=F(q),J=q&32767,ae=T[ue];if(N[J]=ae,T[ue]=J,H<=q){var re=o-q;if(($>7e3||se>24576)&&(re>423||!c)){h=Ck(e,d,0,U,Z,X,Q,se,G,q-G,h),se=$=Q=0,G=q;for(var he=0;he<286;++he)Z[he]=0;for(var he=0;he<30;++he)X[he]=0}var Se=2,pe=0,be=y,oe=J-ae&32767;if(re>2&&ue==F(q-oe))for(var Y=Math.min(x,re)-1,le=Math.min(32767,q),me=Math.min(258,re);oe<=le&&--be&&J!=ae;){if(e[q+Se]==e[q+Se-oe]){for(var Ce=0;Ce<me&&e[q+Ce]==e[q+Ce-oe];++Ce);if(Ce>Se){if(Se=Ce,pe=oe,Ce>Y)break;for(var we=Math.min(oe,Ce-2),Me=0,he=0;he<we;++he){var ze=q-oe+he&32767,Te=N[ze],Ge=ze-Te&32767;Ge>Me&&(Me=Ge,ae=ze)}}}J=ae,ae=N[J],oe+=J-ae&32767}if(pe){U[se++]=268435456|i3[Se]<<18|Ek[pe];var Je=i3[Se]&31,qe=Ek[pe]&31;Q+=BA[Je]+FA[qe],++Z[257+Je],++X[qe],H=q+Se,++$}else U[se++]=e[q],++Z[e[q]]}}for(q=Math.max(q,H);q<o;++q)U[se++]=e[q],++Z[e[q]];h=Ck(e,d,c,U,Z,X,Q,se,G,q-G,h),c||(i.r=h&7|d[h/8|0]<<3,h-=7,i.h=T,i.p=N,i.i=q,i.w=H)}else{for(var q=i.w||0;q<o+c;q+=65535){var lt=q+65535;lt>=o&&(d[h/8|0]=c,lt=o),h=w9(d,h+1,e.subarray(q,lt))}i.i=o}return w1e(u,0,n+x9(h)+a)},S9=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,o=0;o!=i;){for(var u=Math.min(o+2655,i);o<u;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},A1e=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new ic(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return S1e(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},A9=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},E1e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=S9();a.p(t.dictionary),A9(e,2,a.d())}};function l3(e,t){t||(t={});var r=S9();r.p(e);var n=A1e(e,t,t.dictionary?6:2,4);return E1e(n,t),A9(n,n.length-4,r.d()),n}var N1e=typeof TextDecoder<"u"&&new TextDecoder,C1e=0;try{N1e.decode(_9,{stream:!0}),C1e=1}catch{}function O1e(e){if(Array.isArray(e))return e}function T1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,u=[],d=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return u}}function Ok(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function j1e(e,t){if(e){if(typeof e=="string")return Ok(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ok(e,t):void 0}}function k1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tk(e,t){return O1e(e)||T1e(e,t)||j1e(e,t)||k1e()}function jk(e,t="utf8"){return new TextDecoder(t).decode(e)}const I1e=new TextEncoder;function M1e(e){return I1e.encode(e)}const P1e=1024*8,R1e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),h5={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class UA{constructor(t=P1e,r={}){Nn(this,"buffer");Nn(this,"byteLength");Nn(this,"byteOffset");Nn(this,"length");Nn(this,"offset");Nn(this,"lastWrittenByte");Nn(this,"littleEndian");Nn(this,"_data");Nn(this,"_mark");Nn(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,i=t.byteLength-a;let o=a;(ArrayBuffer.isView(t)||t instanceof UA)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=h5[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===R1e&&r!=="uint8"&&r!=="int8"){const u=new Uint8Array(this.buffer.slice(a,a+n));u.reverse();const d=new h5[r](u.buffer);return this.offset+=n,d.reverse(),d}const o=new h5[r](i);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return jk(this.readBytes(t))}decodeText(t=1,r="utf8"){return jk(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(M1e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function q0(e){let t=e.length;for(;--t>=0;)e[t]=0}const D1e=3,L1e=258,E9=29,B1e=256,F1e=B1e+1+E9,N9=30,U1e=512,z1e=new Array((F1e+2)*2);q0(z1e);const q1e=new Array(N9*2);q0(q1e);const H1e=new Array(U1e);q0(H1e);const G1e=new Array(L1e-D1e+1);q0(G1e);const $1e=new Array(E9);q0($1e);const W1e=new Array(N9);q0(W1e);const V1e=(e,t,r,n)=>{let a=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+t[n++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0};var c3=V1e;const Y1e=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},X1e=new Uint32Array(Y1e()),K1e=(e,t,r,n)=>{const a=X1e,i=n+r;e^=-1;for(let o=n;o<i;o++)e=e>>>8^a[(e^t[o])&255];return e^-1};var jc=K1e,u3={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},C9={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Z1e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Q1e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Z1e(r,n)&&(e[n]=r[n])}}return e},J1e=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,i=e.length;n<i;n++){let o=e[n];r.set(o,a),a+=o.length}return r},O9={assign:Q1e,flattenChunks:J1e};let T9=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{T9=!1}const Tp=new Uint8Array(256);for(let e=0;e<256;e++)Tp[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Tp[254]=Tp[254]=1;var epe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,i,o=e.length,u=0;for(a=0;a<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),u+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(u),i=0,a=0;i<u;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const tpe=(e,t)=>{if(t<65534&&e.subarray&&T9)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var rpe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let o=e[n++];if(o<128){i[a++]=o;continue}let u=Tp[o];if(u>4){i[a++]=65533,n+=u-1;continue}for(o&=u===2?31:u===3?15:7;u>1&&n<r;)o=o<<6|e[n++]&63,u--;if(u>1){i[a++]=65533;continue}o<65536?i[a++]=o:(o-=65536,i[a++]=55296|o>>10&1023,i[a++]=56320|o&1023)}return tpe(i,a)},npe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Tp[e[r]]>t?r:t},f3={string2buf:epe,buf2string:rpe,utf8border:npe};function ape(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ipe=ape;const iv=16209,spe=16191;var ope=function(t,r){let n,a,i,o,u,d,c,h,g,x,y,E,N,T,j,D,F,U,Z,X,$,Q,q,se;const H=t.state;n=t.next_in,q=t.input,a=n+(t.avail_in-5),i=t.next_out,se=t.output,o=i-(r-t.avail_out),u=i+(t.avail_out-257),d=H.dmax,c=H.wsize,h=H.whave,g=H.wnext,x=H.window,y=H.hold,E=H.bits,N=H.lencode,T=H.distcode,j=(1<<H.lenbits)-1,D=(1<<H.distbits)-1;e:do{E<15&&(y+=q[n++]<<E,E+=8,y+=q[n++]<<E,E+=8),F=N[y&j];t:for(;;){if(U=F>>>24,y>>>=U,E-=U,U=F>>>16&255,U===0)se[i++]=F&65535;else if(U&16){Z=F&65535,U&=15,U&&(E<U&&(y+=q[n++]<<E,E+=8),Z+=y&(1<<U)-1,y>>>=U,E-=U),E<15&&(y+=q[n++]<<E,E+=8,y+=q[n++]<<E,E+=8),F=T[y&D];r:for(;;){if(U=F>>>24,y>>>=U,E-=U,U=F>>>16&255,U&16){if(X=F&65535,U&=15,E<U&&(y+=q[n++]<<E,E+=8,E<U&&(y+=q[n++]<<E,E+=8)),X+=y&(1<<U)-1,X>d){t.msg="invalid distance too far back",H.mode=iv;break e}if(y>>>=U,E-=U,U=i-o,X>U){if(U=X-U,U>h&&H.sane){t.msg="invalid distance too far back",H.mode=iv;break e}if($=0,Q=x,g===0){if($+=c-U,U<Z){Z-=U;do se[i++]=x[$++];while(--U);$=i-X,Q=se}}else if(g<U){if($+=c+g-U,U-=g,U<Z){Z-=U;do se[i++]=x[$++];while(--U);if($=0,g<Z){U=g,Z-=U;do se[i++]=x[$++];while(--U);$=i-X,Q=se}}}else if($+=g-U,U<Z){Z-=U;do se[i++]=x[$++];while(--U);$=i-X,Q=se}for(;Z>2;)se[i++]=Q[$++],se[i++]=Q[$++],se[i++]=Q[$++],Z-=3;Z&&(se[i++]=Q[$++],Z>1&&(se[i++]=Q[$++]))}else{$=i-X;do se[i++]=se[$++],se[i++]=se[$++],se[i++]=se[$++],Z-=3;while(Z>2);Z&&(se[i++]=se[$++],Z>1&&(se[i++]=se[$++]))}}else if((U&64)===0){F=T[(F&65535)+(y&(1<<U)-1)];continue r}else{t.msg="invalid distance code",H.mode=iv;break e}break}}else if((U&64)===0){F=N[(F&65535)+(y&(1<<U)-1)];continue t}else if(U&32){H.mode=spe;break e}else{t.msg="invalid literal/length code",H.mode=iv;break e}break}}while(n<a&&i<u);Z=E>>3,n-=Z,E-=Z<<3,y&=(1<<E)-1,t.next_in=n,t.next_out=i,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=i<u?257+(u-i):257-(i-u),H.hold=y,H.bits=E};const $h=15,kk=852,Ik=592,Mk=0,p5=1,Pk=2,lpe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),cpe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),upe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),fpe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),dpe=(e,t,r,n,a,i,o,u)=>{const d=u.bits;let c=0,h=0,g=0,x=0,y=0,E=0,N=0,T=0,j=0,D=0,F,U,Z,X,$,Q=null,q;const se=new Uint16Array($h+1),H=new Uint16Array($h+1);let G=null,ue,J,ae;for(c=0;c<=$h;c++)se[c]=0;for(h=0;h<n;h++)se[t[r+h]]++;for(y=d,x=$h;x>=1&&se[x]===0;x--);if(y>x&&(y=x),x===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,u.bits=1,0;for(g=1;g<x&&se[g]===0;g++);for(y<g&&(y=g),T=1,c=1;c<=$h;c++)if(T<<=1,T-=se[c],T<0)return-1;if(T>0&&(e===Mk||x!==1))return-1;for(H[1]=0,c=1;c<$h;c++)H[c+1]=H[c]+se[c];for(h=0;h<n;h++)t[r+h]!==0&&(o[H[t[r+h]]++]=h);if(e===Mk?(Q=G=o,q=20):e===p5?(Q=lpe,G=cpe,q=257):(Q=upe,G=fpe,q=0),D=0,h=0,c=g,$=i,E=y,N=0,Z=-1,j=1<<y,X=j-1,e===p5&&j>kk||e===Pk&&j>Ik)return 1;for(;;){ue=c-N,o[h]+1<q?(J=0,ae=o[h]):o[h]>=q?(J=G[o[h]-q],ae=Q[o[h]-q]):(J=96,ae=0),F=1<<c-N,U=1<<E,g=U;do U-=F,a[$+(D>>N)+U]=ue<<24|J<<16|ae|0;while(U!==0);for(F=1<<c-1;D&F;)F>>=1;if(F!==0?(D&=F-1,D+=F):D=0,h++,--se[c]===0){if(c===x)break;c=t[r+o[h]]}if(c>y&&(D&X)!==Z){for(N===0&&(N=y),$+=g,E=c-N,T=1<<E;E+N<x&&(T-=se[E+N],!(T<=0));)E++,T<<=1;if(j+=1<<E,e===p5&&j>kk||e===Pk&&j>Ik)return 1;Z=D&X,a[Z]=y<<24|E<<16|$-i|0}}return D!==0&&(a[$+D]=c-N<<24|64<<16|0),u.bits=y,0};var tp=dpe;const hpe=0,j9=1,k9=2,{Z_FINISH:Rk,Z_BLOCK:ppe,Z_TREES:sv,Z_OK:Hd,Z_STREAM_END:mpe,Z_NEED_DICT:gpe,Z_STREAM_ERROR:Ol,Z_DATA_ERROR:I9,Z_MEM_ERROR:M9,Z_BUF_ERROR:vpe,Z_DEFLATED:Dk}=C9,Y2=16180,Lk=16181,Bk=16182,Fk=16183,Uk=16184,zk=16185,qk=16186,Hk=16187,Gk=16188,$k=16189,Bb=16190,vu=16191,m5=16192,Wk=16193,g5=16194,Vk=16195,Yk=16196,Xk=16197,Kk=16198,ov=16199,lv=16200,Zk=16201,Qk=16202,Jk=16203,eI=16204,tI=16205,v5=16206,rI=16207,nI=16208,Ea=16209,P9=16210,R9=16211,bpe=852,ype=592,xpe=15,wpe=xpe,aI=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function _pe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Zd=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Y2||t.mode>R9?1:0},D9=e=>{if(Zd(e))return Ol;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Y2,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(bpe),t.distcode=t.distdyn=new Int32Array(ype),t.sane=1,t.back=-1,Hd},L9=e=>{if(Zd(e))return Ol;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,D9(e)},B9=(e,t)=>{let r;if(Zd(e))return Ol;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ol:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,L9(e))},F9=(e,t)=>{if(!e)return Ol;const r=new _pe;e.state=r,r.strm=e,r.window=null,r.mode=Y2;const n=B9(e,t);return n!==Hd&&(e.state=null),n},Spe=e=>F9(e,wpe);let iI=!0,b5,y5;const Ape=e=>{if(iI){b5=new Int32Array(512),y5=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(tp(j9,e.lens,0,288,b5,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;tp(k9,e.lens,0,32,y5,0,e.work,{bits:5}),iI=!1}e.lencode=b5,e.lenbits=9,e.distcode=y5,e.distbits=5},U9=(e,t,r,n)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},Epe=(e,t)=>{let r,n,a,i,o,u,d,c,h,g,x,y,E,N,T=0,j,D,F,U,Z,X,$,Q;const q=new Uint8Array(4);let se,H;const G=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Zd(e)||!e.output||!e.input&&e.avail_in!==0)return Ol;r=e.state,r.mode===vu&&(r.mode=m5),o=e.next_out,a=e.output,d=e.avail_out,i=e.next_in,n=e.input,u=e.avail_in,c=r.hold,h=r.bits,g=u,x=d,Q=Hd;e:for(;;)switch(r.mode){case Y2:if(r.wrap===0){r.mode=m5;break}for(;h<16;){if(u===0)break e;u--,c+=n[i++]<<h,h+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,q[0]=c&255,q[1]=c>>>8&255,r.check=jc(r.check,q,2,0),c=0,h=0,r.mode=Lk;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=Ea;break}if((c&15)!==Dk){e.msg="unknown compression method",r.mode=Ea;break}if(c>>>=4,h-=4,$=(c&15)+8,r.wbits===0&&(r.wbits=$),$>15||$>r.wbits){e.msg="invalid window size",r.mode=Ea;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=c&512?$k:vu,c=0,h=0;break;case Lk:for(;h<16;){if(u===0)break e;u--,c+=n[i++]<<h,h+=8}if(r.flags=c,(r.flags&255)!==Dk){e.msg="unknown compression method",r.mode=Ea;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Ea;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(q[0]=c&255,q[1]=c>>>8&255,r.check=jc(r.check,q,2,0)),c=0,h=0,r.mode=Bk;case Bk:for(;h<32;){if(u===0)break e;u--,c+=n[i++]<<h,h+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(q[0]=c&255,q[1]=c>>>8&255,q[2]=c>>>16&255,q[3]=c>>>24&255,r.check=jc(r.check,q,4,0)),c=0,h=0,r.mode=Fk;case Fk:for(;h<16;){if(u===0)break e;u--,c+=n[i++]<<h,h+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(q[0]=c&255,q[1]=c>>>8&255,r.check=jc(r.check,q,2,0)),c=0,h=0,r.mode=Uk;case Uk:if(r.flags&1024){for(;h<16;){if(u===0)break e;u--,c+=n[i++]<<h,h+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(q[0]=c&255,q[1]=c>>>8&255,r.check=jc(r.check,q,2,0)),c=0,h=0}else r.head&&(r.head.extra=null);r.mode=zk;case zk:if(r.flags&1024&&(y=r.length,y>u&&(y=u),y&&(r.head&&($=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+y),$)),r.flags&512&&r.wrap&4&&(r.check=jc(r.check,n,y,i)),u-=y,i+=y,r.length-=y),r.length))break e;r.length=0,r.mode=qk;case qk:if(r.flags&2048){if(u===0)break e;y=0;do $=n[i+y++],r.head&&$&&r.length<65536&&(r.head.name+=String.fromCharCode($));while($&&y<u);if(r.flags&512&&r.wrap&4&&(r.check=jc(r.check,n,y,i)),u-=y,i+=y,$)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Hk;case Hk:if(r.flags&4096){if(u===0)break e;y=0;do $=n[i+y++],r.head&&$&&r.length<65536&&(r.head.comment+=String.fromCharCode($));while($&&y<u);if(r.flags&512&&r.wrap&4&&(r.check=jc(r.check,n,y,i)),u-=y,i+=y,$)break e}else r.head&&(r.head.comment=null);r.mode=Gk;case Gk:if(r.flags&512){for(;h<16;){if(u===0)break e;u--,c+=n[i++]<<h,h+=8}if(r.wrap&4&&c!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Ea;break}c=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=vu;break;case $k:for(;h<32;){if(u===0)break e;u--,c+=n[i++]<<h,h+=8}e.adler=r.check=aI(c),c=0,h=0,r.mode=Bb;case Bb:if(r.havedict===0)return e.next_out=o,e.avail_out=d,e.next_in=i,e.avail_in=u,r.hold=c,r.bits=h,gpe;e.adler=r.check=1,r.mode=vu;case vu:if(t===ppe||t===sv)break e;case m5:if(r.last){c>>>=h&7,h-=h&7,r.mode=v5;break}for(;h<3;){if(u===0)break e;u--,c+=n[i++]<<h,h+=8}switch(r.last=c&1,c>>>=1,h-=1,c&3){case 0:r.mode=Wk;break;case 1:if(Ape(r),r.mode=ov,t===sv){c>>>=2,h-=2;break e}break;case 2:r.mode=Yk;break;case 3:e.msg="invalid block type",r.mode=Ea}c>>>=2,h-=2;break;case Wk:for(c>>>=h&7,h-=h&7;h<32;){if(u===0)break e;u--,c+=n[i++]<<h,h+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Ea;break}if(r.length=c&65535,c=0,h=0,r.mode=g5,t===sv)break e;case g5:r.mode=Vk;case Vk:if(y=r.length,y){if(y>u&&(y=u),y>d&&(y=d),y===0)break e;a.set(n.subarray(i,i+y),o),u-=y,i+=y,d-=y,o+=y,r.length-=y;break}r.mode=vu;break;case Yk:for(;h<14;){if(u===0)break e;u--,c+=n[i++]<<h,h+=8}if(r.nlen=(c&31)+257,c>>>=5,h-=5,r.ndist=(c&31)+1,c>>>=5,h-=5,r.ncode=(c&15)+4,c>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Ea;break}r.have=0,r.mode=Xk;case Xk:for(;r.have<r.ncode;){for(;h<3;){if(u===0)break e;u--,c+=n[i++]<<h,h+=8}r.lens[G[r.have++]]=c&7,c>>>=3,h-=3}for(;r.have<19;)r.lens[G[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,se={bits:r.lenbits},Q=tp(hpe,r.lens,0,19,r.lencode,0,r.work,se),r.lenbits=se.bits,Q){e.msg="invalid code lengths set",r.mode=Ea;break}r.have=0,r.mode=Kk;case Kk:for(;r.have<r.nlen+r.ndist;){for(;T=r.lencode[c&(1<<r.lenbits)-1],j=T>>>24,D=T>>>16&255,F=T&65535,!(j<=h);){if(u===0)break e;u--,c+=n[i++]<<h,h+=8}if(F<16)c>>>=j,h-=j,r.lens[r.have++]=F;else{if(F===16){for(H=j+2;h<H;){if(u===0)break e;u--,c+=n[i++]<<h,h+=8}if(c>>>=j,h-=j,r.have===0){e.msg="invalid bit length repeat",r.mode=Ea;break}$=r.lens[r.have-1],y=3+(c&3),c>>>=2,h-=2}else if(F===17){for(H=j+3;h<H;){if(u===0)break e;u--,c+=n[i++]<<h,h+=8}c>>>=j,h-=j,$=0,y=3+(c&7),c>>>=3,h-=3}else{for(H=j+7;h<H;){if(u===0)break e;u--,c+=n[i++]<<h,h+=8}c>>>=j,h-=j,$=0,y=11+(c&127),c>>>=7,h-=7}if(r.have+y>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Ea;break}for(;y--;)r.lens[r.have++]=$}}if(r.mode===Ea)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Ea;break}if(r.lenbits=9,se={bits:r.lenbits},Q=tp(j9,r.lens,0,r.nlen,r.lencode,0,r.work,se),r.lenbits=se.bits,Q){e.msg="invalid literal/lengths set",r.mode=Ea;break}if(r.distbits=6,r.distcode=r.distdyn,se={bits:r.distbits},Q=tp(k9,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,se),r.distbits=se.bits,Q){e.msg="invalid distances set",r.mode=Ea;break}if(r.mode=ov,t===sv)break e;case ov:r.mode=lv;case lv:if(u>=6&&d>=258){e.next_out=o,e.avail_out=d,e.next_in=i,e.avail_in=u,r.hold=c,r.bits=h,ope(e,x),o=e.next_out,a=e.output,d=e.avail_out,i=e.next_in,n=e.input,u=e.avail_in,c=r.hold,h=r.bits,r.mode===vu&&(r.back=-1);break}for(r.back=0;T=r.lencode[c&(1<<r.lenbits)-1],j=T>>>24,D=T>>>16&255,F=T&65535,!(j<=h);){if(u===0)break e;u--,c+=n[i++]<<h,h+=8}if(D&&(D&240)===0){for(U=j,Z=D,X=F;T=r.lencode[X+((c&(1<<U+Z)-1)>>U)],j=T>>>24,D=T>>>16&255,F=T&65535,!(U+j<=h);){if(u===0)break e;u--,c+=n[i++]<<h,h+=8}c>>>=U,h-=U,r.back+=U}if(c>>>=j,h-=j,r.back+=j,r.length=F,D===0){r.mode=tI;break}if(D&32){r.back=-1,r.mode=vu;break}if(D&64){e.msg="invalid literal/length code",r.mode=Ea;break}r.extra=D&15,r.mode=Zk;case Zk:if(r.extra){for(H=r.extra;h<H;){if(u===0)break e;u--,c+=n[i++]<<h,h+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Qk;case Qk:for(;T=r.distcode[c&(1<<r.distbits)-1],j=T>>>24,D=T>>>16&255,F=T&65535,!(j<=h);){if(u===0)break e;u--,c+=n[i++]<<h,h+=8}if((D&240)===0){for(U=j,Z=D,X=F;T=r.distcode[X+((c&(1<<U+Z)-1)>>U)],j=T>>>24,D=T>>>16&255,F=T&65535,!(U+j<=h);){if(u===0)break e;u--,c+=n[i++]<<h,h+=8}c>>>=U,h-=U,r.back+=U}if(c>>>=j,h-=j,r.back+=j,D&64){e.msg="invalid distance code",r.mode=Ea;break}r.offset=F,r.extra=D&15,r.mode=Jk;case Jk:if(r.extra){for(H=r.extra;h<H;){if(u===0)break e;u--,c+=n[i++]<<h,h+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Ea;break}r.mode=eI;case eI:if(d===0)break e;if(y=x-d,r.offset>y){if(y=r.offset-y,y>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Ea;break}y>r.wnext?(y-=r.wnext,E=r.wsize-y):E=r.wnext-y,y>r.length&&(y=r.length),N=r.window}else N=a,E=o-r.offset,y=r.length;y>d&&(y=d),d-=y,r.length-=y;do a[o++]=N[E++];while(--y);r.length===0&&(r.mode=lv);break;case tI:if(d===0)break e;a[o++]=r.length,d--,r.mode=lv;break;case v5:if(r.wrap){for(;h<32;){if(u===0)break e;u--,c|=n[i++]<<h,h+=8}if(x-=d,e.total_out+=x,r.total+=x,r.wrap&4&&x&&(e.adler=r.check=r.flags?jc(r.check,a,x,o-x):c3(r.check,a,x,o-x)),x=d,r.wrap&4&&(r.flags?c:aI(c))!==r.check){e.msg="incorrect data check",r.mode=Ea;break}c=0,h=0}r.mode=rI;case rI:if(r.wrap&&r.flags){for(;h<32;){if(u===0)break e;u--,c+=n[i++]<<h,h+=8}if(r.wrap&4&&c!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Ea;break}c=0,h=0}r.mode=nI;case nI:Q=mpe;break e;case Ea:Q=I9;break e;case P9:return M9;case R9:default:return Ol}return e.next_out=o,e.avail_out=d,e.next_in=i,e.avail_in=u,r.hold=c,r.bits=h,(r.wsize||x!==e.avail_out&&r.mode<Ea&&(r.mode<v5||t!==Rk))&&U9(e,e.output,e.next_out,x-e.avail_out),g-=e.avail_in,x-=e.avail_out,e.total_in+=g,e.total_out+=x,r.total+=x,r.wrap&4&&x&&(e.adler=r.check=r.flags?jc(r.check,a,x,e.next_out-x):c3(r.check,a,x,e.next_out-x)),e.data_type=r.bits+(r.last?64:0)+(r.mode===vu?128:0)+(r.mode===ov||r.mode===g5?256:0),(g===0&&x===0||t===Rk)&&Q===Hd&&(Q=vpe),Q},Npe=e=>{if(Zd(e))return Ol;let t=e.state;return t.window&&(t.window=null),e.state=null,Hd},Cpe=(e,t)=>{if(Zd(e))return Ol;const r=e.state;return(r.wrap&2)===0?Ol:(r.head=t,t.done=!1,Hd)},Ope=(e,t)=>{const r=t.length;let n,a,i;return Zd(e)||(n=e.state,n.wrap!==0&&n.mode!==Bb)?Ol:n.mode===Bb&&(a=1,a=c3(a,t,r,0),a!==n.check)?I9:(i=U9(e,t,r,r),i?(n.mode=P9,M9):(n.havedict=1,Hd))};var Tpe=L9,jpe=B9,kpe=D9,Ipe=Spe,Mpe=F9,Ppe=Epe,Rpe=Npe,Dpe=Cpe,Lpe=Ope,Bpe="pako inflate (from Nodeca project)",xu={inflateReset:Tpe,inflateReset2:jpe,inflateResetKeep:kpe,inflateInit:Ipe,inflateInit2:Mpe,inflate:Ppe,inflateEnd:Rpe,inflateGetHeader:Dpe,inflateSetDictionary:Lpe,inflateInfo:Bpe};function Fpe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Upe=Fpe;const z9=Object.prototype.toString,{Z_NO_FLUSH:zpe,Z_FINISH:qpe,Z_OK:jp,Z_STREAM_END:x5,Z_NEED_DICT:w5,Z_STREAM_ERROR:Hpe,Z_DATA_ERROR:sI,Z_MEM_ERROR:Gpe}=C9;function nm(e){this.options=O9.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ipe,this.strm.avail_out=0;let r=xu.inflateInit2(this.strm,t.windowBits);if(r!==jp)throw new Error(u3[r]);if(this.header=new Upe,xu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=f3.string2buf(t.dictionary):z9.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=xu.inflateSetDictionary(this.strm,t.dictionary),r!==jp)))throw new Error(u3[r])}nm.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,o,u;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?qpe:zpe,z9.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=xu.inflate(r,o),i===w5&&a&&(i=xu.inflateSetDictionary(r,a),i===jp?i=xu.inflate(r,o):i===sI&&(i=w5));r.avail_in>0&&i===x5&&r.state.wrap>0&&e[r.next_in]!==0;)xu.inflateReset(r),i=xu.inflate(r,o);switch(i){case Hpe:case sI:case w5:case Gpe:return this.onEnd(i),this.ended=!0,!1}if(u=r.avail_out,r.next_out&&(r.avail_out===0||i===x5))if(this.options.to==="string"){let d=f3.utf8border(r.output,r.next_out),c=r.next_out-d,h=f3.buf2string(r.output,d);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(d,d+c),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===jp&&u===0)){if(i===x5)return i=xu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};nm.prototype.onData=function(e){this.chunks.push(e)};nm.prototype.onEnd=function(e){e===jp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=O9.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function $pe(e,t){const r=new nm(t);if(r.push(e),r.err)throw r.msg||u3[r.err];return r.result}var Wpe=nm,Vpe=$pe,Ype={Inflate:Wpe,inflate:Vpe};const{Inflate:Xpe,inflate:Kpe}=Ype;var oI=Xpe,Zpe=Kpe;const q9=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;q9[e]=t}const lI=4294967295;function Qpe(e,t,r){let n=e;for(let a=0;a<r;a++)n=q9[(n^t[a])&255]^n>>>8;return n}function Jpe(e,t){return(Qpe(lI,e,t)^lI)>>>0}function cI(e,t,r){const n=e.readUint32(),a=Jpe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function H9(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function G9(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function $9(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function W9(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-a]+r[i]>>1)&255}}function V9(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+eme(t[i-a],r[i],r[i-a])&255}}function eme(e,t,r){const n=e+t-r,a=Math.abs(n-e),i=Math.abs(n-t),o=Math.abs(n-r);return a<=i&&a<=o?e:i<=o?t:r}function tme(e,t,r,n,a,i){switch(e){case 0:H9(t,r,a);break;case 1:G9(t,r,a,i);break;case 2:$9(t,r,n,a);break;case 3:W9(t,r,n,a,i);break;case 4:V9(t,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const rme=new Uint16Array([255]),nme=new Uint8Array(rme.buffer),ame=nme[0]===255;function ime(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(i/8)*a,d=new Uint8Array(n*r*u);let c=0;for(let h=0;h<7;h++){const g=o[h],x=Math.ceil((r-g.x)/g.xStep),y=Math.ceil((n-g.y)/g.yStep);if(x<=0||y<=0)continue;const E=x*u,N=new Uint8Array(E);for(let T=0;T<y;T++){const j=t[c++],D=t.subarray(c,c+E);c+=E;const F=new Uint8Array(E);tme(j,D,F,N,E,u),N.set(F);for(let U=0;U<x;U++){const Z=g.x+U*g.xStep,X=g.y+T*g.yStep;if(!(Z>=r||X>=n))for(let $=0;$<u;$++)d[(X*r+Z)*u+$]=F[U*u+$]}}}if(i===16){const h=new Uint16Array(d.buffer);if(ame)for(let g=0;g<h.length;g++)h[g]=sme(h[g]);return h}else return d}function sme(e){return(e&255)<<8|e>>8&255}const ome=new Uint16Array([255]),lme=new Uint8Array(ome.buffer),cme=lme[0]===255,ume=new Uint8Array(0);function uI(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,o=Math.ceil(i/8)*a,u=Math.ceil(i/8*a*r),d=new Uint8Array(n*u);let c=ume,h=0,g,x;for(let y=0;y<n;y++){switch(g=t.subarray(h+1,h+1+u),x=d.subarray(y*u,(y+1)*u),t[h]){case 0:H9(g,x,u);break;case 1:G9(g,x,u,o);break;case 2:$9(g,x,c,u);break;case 3:W9(g,x,c,u,o);break;case 4:V9(g,x,c,u,o);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}c=x,h+=u+1}if(i===16){const y=new Uint16Array(d.buffer);if(cme)for(let E=0;E<y.length;E++)y[E]=fme(y[E]);return y}else return d}function fme(e){return(e&255)<<8|e>>8&255}const Av=Uint8Array.of(137,80,78,71,13,10,26,10);function fI(e){if(!dme(e.readBytes(Av.length)))throw new Error("wrong PNG signature")}function dme(e){if(e.length<Av.length)return!1;for(let t=0;t<Av.length;t++)if(e[t]!==Av[t])return!1;return!0}const hme="tEXt",pme=0,Y9=new TextDecoder("latin1");function mme(e){if(vme(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const gme=/^[\u0000-\u00FF]*$/;function vme(e){if(!gme.test(e))throw new Error("invalid latin1 text")}function bme(e,t,r){const n=X9(t);e[n]=yme(t,r-n.length-1)}function X9(e){for(e.mark();e.readByte()!==pme;);const t=e.offset;e.reset();const r=Y9.decode(e.readBytes(t-e.offset-1));return e.skip(1),mme(r),r}function yme(e,t){return Y9.decode(e.readBytes(t))}const Wo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},_5={UNKNOWN:-1,DEFLATE:0},dI={UNKNOWN:-1,ADAPTIVE:0},S5={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},cv={NONE:0,BACKGROUND:1,PREVIOUS:2},A5={SOURCE:0,OVER:1};class xme extends UA{constructor(r,n={}){super(r);Nn(this,"_checkCrc");Nn(this,"_inflator");Nn(this,"_png");Nn(this,"_apng");Nn(this,"_end");Nn(this,"_hasPalette");Nn(this,"_palette");Nn(this,"_hasTransparency");Nn(this,"_transparency");Nn(this,"_compressionMethod");Nn(this,"_filterMethod");Nn(this,"_interlaceMethod");Nn(this,"_colorType");Nn(this,"_isAnimated");Nn(this,"_numberOfFrames");Nn(this,"_numberOfPlays");Nn(this,"_frames");Nn(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new oI,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=_5.UNKNOWN,this._filterMethod=dI.UNKNOWN,this._interlaceMethod=S5.UNKNOWN,this._colorType=Wo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(fI(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(fI(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case hme:bme(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?cI(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?cI(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=wme(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case Wo.GREYSCALE:a=1;break;case Wo.TRUECOLOUR:a=3;break;case Wo.INDEXED_COLOUR:a=1;break;case Wo.GREYSCALE_ALPHA:a=2;break;case Wo.TRUECOLOUR_ALPHA:a=4;break;case Wo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==_5.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<n;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Wo.GREYSCALE:case Wo.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Wo.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Wo.UNKNOWN:case Wo.GREYSCALE_ALPHA:case Wo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=X9(this),a=this.readUint8();if(a!==_5.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Zpe(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=uI({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(a,i,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case cv.NONE:break;case cv.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const u=(i*r.width+o)*this._png.channels;for(let d=0;d<this._png.channels;d++)a.data[u+d]=0}break;case cv.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,i=(o,u)=>{const d=((o+n.yOffset)*this._png.width+n.xOffset+u)*this._png.channels,c=(o*n.width+u)*this._png.channels;return{index:d,frameIndex:c}};switch(n.blendOp){case A5.SOURCE:for(let o=0;o<n.height;o++)for(let u=0;u<n.width;u++){const{index:d,frameIndex:c}=i(o,u);for(let h=0;h<this._png.channels;h++)r.data[d+h]=n.data[c+h]}break;case A5.OVER:for(let o=0;o<n.height;o++)for(let u=0;u<n.width;u++){const{index:d,frameIndex:c}=i(o,u);for(let h=0;h<this._png.channels;h++){const g=n.data[c+this._png.channels-1]/a,x=h%(this._png.channels-1)===0?1:n.data[c+h],y=Math.floor(g*x+(1-g)*r.data[d+h]);r.data[d+h]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==dI.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===S5.NO_INTERLACE)this._png.data=uI({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===S5.ADAM7)this._png.data=ime({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:cv.NONE,blendOp:A5.SOURCE,data:r}),this._inflator=new oI,this._writingDataChunks=!1}}function wme(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var hI;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(hI||(hI={}));function _me(e,t){return new xme(e,t).decode()}var Ir=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function E5(){Ir.console&&typeof Ir.console.log=="function"&&Ir.console.log.apply(Ir.console,arguments)}var ea={log:E5,warn:function(e){Ir.console&&(typeof Ir.console.warn=="function"?Ir.console.warn.apply(Ir.console,arguments):E5.call(null,arguments))},error:function(e){Ir.console&&(typeof Ir.console.error=="function"?Ir.console.error.apply(Ir.console,arguments):E5(e))}};function N5(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){gd(n.response,t,r)},n.onerror=function(){ea.error("could not download file")},n.send()}function pI(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function uv(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var gd=Ir.saveAs||((typeof window>"u"?"undefined":Un(window))!=="object"||window!==Ir?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Ir.URL||Ir.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?pI(a.href)?N5(e,t,r):uv(a,a.target="_blank"):uv(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){uv(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(pI(e))N5(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){uv(n)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:Un(i)!=="object"&&(ea.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return N5(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(Ir.HTMLElement)||Ir.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":Un(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var h=u.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},u.readAsDataURL(e)}else{var d=Ir.URL||Ir.webkitURL,c=d.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){d.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function K9(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),d=this.g.toString(16),c=this.b.toString(16);return u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),c.length==1&&(c="0"+c),"#"+u+d+c}}var Ev=Ir.atob.bind(Ir),mI=Ir.btoa.bind(Ir);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function C5(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Ms(r,n,a,i,t[0],7,-680876936),i=Ms(i,r,n,a,t[1],12,-389564586),a=Ms(a,i,r,n,t[2],17,606105819),n=Ms(n,a,i,r,t[3],22,-1044525330),r=Ms(r,n,a,i,t[4],7,-176418897),i=Ms(i,r,n,a,t[5],12,1200080426),a=Ms(a,i,r,n,t[6],17,-1473231341),n=Ms(n,a,i,r,t[7],22,-45705983),r=Ms(r,n,a,i,t[8],7,1770035416),i=Ms(i,r,n,a,t[9],12,-1958414417),a=Ms(a,i,r,n,t[10],17,-42063),n=Ms(n,a,i,r,t[11],22,-1990404162),r=Ms(r,n,a,i,t[12],7,1804603682),i=Ms(i,r,n,a,t[13],12,-40341101),a=Ms(a,i,r,n,t[14],17,-1502002290),r=Ps(r,n=Ms(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Ps(i,r,n,a,t[6],9,-1069501632),a=Ps(a,i,r,n,t[11],14,643717713),n=Ps(n,a,i,r,t[0],20,-373897302),r=Ps(r,n,a,i,t[5],5,-701558691),i=Ps(i,r,n,a,t[10],9,38016083),a=Ps(a,i,r,n,t[15],14,-660478335),n=Ps(n,a,i,r,t[4],20,-405537848),r=Ps(r,n,a,i,t[9],5,568446438),i=Ps(i,r,n,a,t[14],9,-1019803690),a=Ps(a,i,r,n,t[3],14,-187363961),n=Ps(n,a,i,r,t[8],20,1163531501),r=Ps(r,n,a,i,t[13],5,-1444681467),i=Ps(i,r,n,a,t[2],9,-51403784),a=Ps(a,i,r,n,t[7],14,1735328473),r=Rs(r,n=Ps(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Rs(i,r,n,a,t[8],11,-2022574463),a=Rs(a,i,r,n,t[11],16,1839030562),n=Rs(n,a,i,r,t[14],23,-35309556),r=Rs(r,n,a,i,t[1],4,-1530992060),i=Rs(i,r,n,a,t[4],11,1272893353),a=Rs(a,i,r,n,t[7],16,-155497632),n=Rs(n,a,i,r,t[10],23,-1094730640),r=Rs(r,n,a,i,t[13],4,681279174),i=Rs(i,r,n,a,t[0],11,-358537222),a=Rs(a,i,r,n,t[3],16,-722521979),n=Rs(n,a,i,r,t[6],23,76029189),r=Rs(r,n,a,i,t[9],4,-640364487),i=Rs(i,r,n,a,t[12],11,-421815835),a=Rs(a,i,r,n,t[15],16,530742520),r=Ds(r,n=Rs(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Ds(i,r,n,a,t[7],10,1126891415),a=Ds(a,i,r,n,t[14],15,-1416354905),n=Ds(n,a,i,r,t[5],21,-57434055),r=Ds(r,n,a,i,t[12],6,1700485571),i=Ds(i,r,n,a,t[3],10,-1894986606),a=Ds(a,i,r,n,t[10],15,-1051523),n=Ds(n,a,i,r,t[1],21,-2054922799),r=Ds(r,n,a,i,t[8],6,1873313359),i=Ds(i,r,n,a,t[15],10,-30611744),a=Ds(a,i,r,n,t[6],15,-1560198380),n=Ds(n,a,i,r,t[13],21,1309151649),r=Ds(r,n,a,i,t[4],6,-145523070),i=Ds(i,r,n,a,t[11],10,-1120210379),a=Ds(a,i,r,n,t[2],15,718787259),n=Ds(n,a,i,r,t[9],21,-343485551),e[0]=Tf(r,e[0]),e[1]=Tf(n,e[1]),e[2]=Tf(a,e[2]),e[3]=Tf(i,e[3])}function X2(e,t,r,n,a,i){return t=Tf(Tf(t,e),Tf(n,i)),Tf(t<<a|t>>>32-a,r)}function Ms(e,t,r,n,a,i,o){return X2(t&r|~t&n,e,t,a,i,o)}function Ps(e,t,r,n,a,i,o){return X2(t&n|r&~n,e,t,a,i,o)}function Rs(e,t,r,n,a,i,o){return X2(t^r^n,e,t,a,i,o)}function Ds(e,t,r,n,a,i,o){return X2(r^(t|~n),e,t,a,i,o)}function Z9(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)C5(n,Sme(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(C5(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,C5(n,a),n}function Sme(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var gI="0123456789abcdef".split("");function Ame(e){for(var t="",r=0;r<4;r++)t+=gI[e>>8*r+4&15]+gI[e>>8*r&15];return t}function Eme(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function d3(e){return Z9(e).map(Eme).join("")}var Nme=(function(e){for(var t=0;t<e.length;t++)e[t]=Ame(e[t]);return e.join("")})(Z9("hello"))!="5d41402abc4b2a76b9719d911017c592";function Tf(e,t){if(Nme){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function h3(e,t){var r,n,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),u=[],d=0;d<256;d++)u[d]=d;var c=0;for(d=0;d<256;d++){var h=u[d];c=(c+h+o.charCodeAt(d))%256,u[d]=u[c],u[c]=h}r=e,n=u}else u=n;var g=t.length,x=0,y=0,E="";for(d=0;d<g;d++)y=(y+(h=u[x=(x+1)%256]))%256,u[x]=u[y],u[y]=h,o=u[(u[x]+u[y])%256],E+=String.fromCharCode(t.charCodeAt(d)^o);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var vI={print:4,modify:8,copy:16,"annot-forms":32};function Qh(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(u){if(vI.perm!==void 0)throw new Error("Invalid permission: "+u);a+=vI[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=d3(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=h3(this.encryptionKey,this.padding)}function Jh(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function bI(e){if(Un(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(u){Ir.console&&ea.error("jsPDF PubSub Error",u.message,u)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Fb(e){if(!(this instanceof Fb))return new Fb(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Q9(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function yd(e,t,r,n,a){if(!(this instanceof yd))return new yd(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Q9.call(this,n,a)}function a0(e,t,r,n,a){if(!(this instanceof a0))return new a0(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Q9.call(this,n,a)}function or(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],u=1,d=16,c="S",h=null;Un(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),u=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(d=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var g=e.putOnlyUsedFonts||!1,x={},y={internal:{},__private__:{}};y.__private__.PubSub=bI;var E="1.3",N=y.__private__.getPdfVersion=function(){return E};y.__private__.setPdfVersion=function(L){E=L};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return T};var j=y.__private__.getPageFormat=function(L){return T[L]};a=a||"a4";var D="compat",F="advanced",U=D;function Z(){this.saveGraphicsState(),ye(new Zt(Tr,0,0,-Tr,0,Bo()*Tr).toString()+" cm"),this.setFontSize(this.getFontSize()/Tr),c="n",U=F}function X(){this.restoreGraphicsState(),c="S",U=D}var $=y.__private__.combineFontStyleAndFontWeight=function(L,ne){if(L=="bold"&&ne=="normal"||L=="bold"&&ne==400||L=="normal"&&ne=="italic"||L=="bold"&&ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(L=ne==400||ne==="normal"?L==="italic"?"italic":"normal":ne!=700&&ne!=="bold"||L!=="normal"?(ne==700?"bold":ne)+""+L:"bold"),L};y.advancedAPI=function(L){var ne=U===D;return ne&&Z.call(this),typeof L!="function"||(L(this),ne&&X.call(this)),this},y.compatAPI=function(L){var ne=U===F;return ne&&X.call(this),typeof L!="function"||(L(this),ne&&Z.call(this)),this},y.isAdvancedAPI=function(){return U===F};var Q,q=function(L){if(U!==F)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},se=y.roundToPrecision=y.__private__.roundToPrecision=function(L,ne){var Ee=t||ne;if(isNaN(L)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Ee).replace(/0+$/,"")};Q=y.hpf=y.__private__.hpf=typeof d=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return se(L,d)}:d==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return se(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return se(L,16)};var H=y.f2=y.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return se(L,2)},G=y.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return se(L,3)},ue=y.scale=y.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return U===D?L*Tr:U===F?L:void 0},J=function(L){return ue((function(ne){return U===D?Bo()-ne:U===F?ne:void 0})(L))};y.__private__.setPrecision=y.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var ae,re="00000000000000000000000000000000",he=y.__private__.getFileId=function(){return re},Se=y.__private__.setFileId=function(L){return re=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(zn=new Qh(h.userPermissions,h.userPassword,h.ownerPassword,re)),re};y.setFileId=function(L){return Se(L),this},y.getFileId=function(){return he()};var pe=y.__private__.convertDateToPDFDate=function(L){var ne=L.getTimezoneOffset(),Ee=ne<0?"+":"-",Ie=Math.floor(Math.abs(ne/60)),Fe=Math.abs(ne%60),dt=[Ee,me(Ie),"'",me(Fe),"'"].join("");return["D:",L.getFullYear(),me(L.getMonth()+1),me(L.getDate()),me(L.getHours()),me(L.getMinutes()),me(L.getSeconds()),dt].join("")},be=y.__private__.convertPDFDateToDate=function(L){var ne=parseInt(L.substr(2,4),10),Ee=parseInt(L.substr(6,2),10)-1,Ie=parseInt(L.substr(8,2),10),Fe=parseInt(L.substr(10,2),10),dt=parseInt(L.substr(12,2),10),bt=parseInt(L.substr(14,2),10);return new Date(ne,Ee,Ie,Fe,dt,bt,0)},oe=y.__private__.setCreationDate=function(L){var ne;if(L===void 0&&(L=new Date),L instanceof Date)ne=pe(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=L}return ae=ne},Y=y.__private__.getCreationDate=function(L){var ne=ae;return L==="jsDate"&&(ne=be(ae)),ne};y.setCreationDate=function(L){return oe(L),this},y.getCreationDate=function(L){return Y(L)};var le,me=y.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},Ce=y.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},we=0,Me=[],ze=[],Te=0,Ge=[],Je=[],qe=!1,lt=ze;y.__private__.setCustomOutputDestination=function(L){qe=!0,lt=L};var yt=function(L){qe||(lt=L)};y.__private__.resetCustomOutputDestination=function(){qe=!1,lt=ze};var ye=y.__private__.out=function(L){return L=L.toString(),Te+=L.length+1,lt.push(L),lt},wt=y.__private__.write=function(L){return ye(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Rt=y.__private__.getArrayBuffer=function(L){for(var ne=L.length,Ee=new ArrayBuffer(ne),Ie=new Uint8Array(Ee);ne--;)Ie[ne]=L.charCodeAt(ne);return Ee},_t=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return _t};var rt=e.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(L){return rt=U===F?L/Tr:L,this};var er,it=y.__private__.getFontSize=y.getFontSize=function(){return U===D?rt:rt*Tr},ar=e.R2L||!1;y.__private__.setR2L=y.setR2L=function(L){return ar=L,this},y.__private__.getR2L=y.getR2L=function(){return ar};var ir,vr=y.__private__.setZoomMode=function(L){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))er=L;else if(isNaN(L)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');er=L}else er=parseInt(L,10)};y.__private__.getZoomMode=function(){return er};var Br,lr=y.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');ir=L};y.__private__.getPageMode=function(){return ir};var Ur=y.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');Br=L};y.__private__.getLayoutMode=function(){return Br},y.__private__.setDisplayMode=y.setDisplayMode=function(L,ne,Ee){return vr(L),Ur(ne),lr(Ee),this};var Nr={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(L){if(Object.keys(Nr).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Nr[L]},y.__private__.getDocumentProperties=function(){return Nr},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(L){for(var ne in Nr)Nr.hasOwnProperty(ne)&&L[ne]&&(Nr[ne]=L[ne]);return this},y.__private__.setDocumentProperty=function(L,ne){if(Object.keys(Nr).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Nr[L]=ne};var Tt,Tr,Ht,ca,tr,nt={},Dt={},Ft=[],Ct={},cn={},hr={},wr={},Xt=null,_r=0,Kt=[],Yr=new bI(y),ua=e.hotfixes||[],Ra={},jn={},ti=[],Zt=function L(ne,Ee,Ie,Fe,dt,bt){if(!(this instanceof L))return new L(ne,Ee,Ie,Fe,dt,bt);isNaN(ne)&&(ne=1),isNaN(Ee)&&(Ee=0),isNaN(Ie)&&(Ie=0),isNaN(Fe)&&(Fe=1),isNaN(dt)&&(dt=0),isNaN(bt)&&(bt=0),this._matrix=[ne,Ee,Ie,Fe,dt,bt]};Object.defineProperty(Zt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Zt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Zt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Zt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Zt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Zt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Zt.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Zt.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Zt.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Zt.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Zt.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Zt.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Zt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Zt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Zt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Zt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Zt.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Q).join(L)},Zt.prototype.multiply=function(L){var ne=L.sx*this.sx+L.shy*this.shx,Ee=L.sx*this.shy+L.shy*this.sy,Ie=L.shx*this.sx+L.sy*this.shx,Fe=L.shx*this.shy+L.sy*this.sy,dt=L.tx*this.sx+L.ty*this.shx+this.tx,bt=L.tx*this.shy+L.ty*this.sy+this.ty;return new Zt(ne,Ee,Ie,Fe,dt,bt)},Zt.prototype.decompose=function(){var L=this.sx,ne=this.shy,Ee=this.shx,Ie=this.sy,Fe=this.tx,dt=this.ty,bt=Math.sqrt(L*L+ne*ne),Pt=(L/=bt)*Ee+(ne/=bt)*Ie;Ee-=L*Pt,Ie-=ne*Pt;var Et=Math.sqrt(Ee*Ee+Ie*Ie);return Pt/=Et,L*(Ie/=Et)<ne*(Ee/=Et)&&(L=-L,ne=-ne,Pt=-Pt,bt=-bt),{scale:new Zt(bt,0,0,Et,0,0),translate:new Zt(1,0,0,1,Fe,dt),rotate:new Zt(L,ne,-ne,L,0,0),skew:new Zt(1,0,Pt,1,0,0)}},Zt.prototype.toString=function(L){return this.join(" ")},Zt.prototype.inversed=function(){var L=this.sx,ne=this.shy,Ee=this.shx,Ie=this.sy,Fe=this.tx,dt=this.ty,bt=1/(L*Ie-ne*Ee),Pt=Ie*bt,Et=-ne*bt,br=-Ee*bt,Lt=L*bt;return new Zt(Pt,Et,br,Lt,-Pt*Fe-br*dt,-Et*Fe-Lt*dt)},Zt.prototype.applyToPoint=function(L){var ne=L.x*this.sx+L.y*this.shx+this.tx,Ee=L.x*this.shy+L.y*this.sy+this.ty;return new Mn(ne,Ee)},Zt.prototype.applyToRectangle=function(L){var ne=this.applyToPoint(L),Ee=this.applyToPoint(new Mn(L.x+L.w,L.y+L.h));return new lo(ne.x,ne.y,Ee.x-ne.x,Ee.y-ne.y)},Zt.prototype.clone=function(){var L=this.sx,ne=this.shy,Ee=this.shx,Ie=this.sy,Fe=this.tx,dt=this.ty;return new Zt(L,ne,Ee,Ie,Fe,dt)},y.Matrix=Zt;var Da=y.matrixMult=function(L,ne){return ne.multiply(L)},ao=new Zt(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=ao;var Ta=function(L,ne){if(!cn[L]){var Ee=(ne instanceof yd?"Sh":"P")+(Object.keys(Ct).length+1).toString(10);ne.id=Ee,cn[L]=Ee,Ct[Ee]=ne,Yr.publish("addPattern",ne)}};y.ShadingPattern=yd,y.TilingPattern=a0,y.addShadingPattern=function(L,ne){return q("addShadingPattern()"),Ta(L,ne),this},y.beginTilingPattern=function(L){q("beginTilingPattern()"),ll(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},y.endTilingPattern=function(L,ne){q("endTilingPattern()"),ne.stream=Je[le].join(`
`),Ta(L,ne),Yr.publish("endTilingPattern",ne),ti.pop().restore()};var Ei,zr=y.__private__.newObject=function(){var L=Cn();return hn(L,!0),L},Cn=y.__private__.newObjectDeferred=function(){return we++,Me[we]=function(){return Te},we},hn=function(L,ne){return ne=typeof ne=="boolean"&&ne,Me[L]=Te,ne&&ye(L+" 0 obj"),L},Ot=y.__private__.newAdditionalObject=function(){var L={objId:Cn(),content:""};return Ge.push(L),L},xa=Cn(),pn=Cn(),Hr=y.__private__.decodeColorString=function(L){var ne=L.split(" ");if(ne.length!==2||ne[1]!=="g"&&ne[1]!=="G")ne.length!==5||ne[4]!=="k"&&ne[4]!=="K"||(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var Ee=parseFloat(ne[0]);ne=[Ee,Ee,Ee,"r"]}for(var Ie="#",Fe=0;Fe<3;Fe++)Ie+=("0"+Math.floor(255*parseFloat(ne[Fe])).toString(16)).slice(-2);return Ie},fa=y.__private__.encodeColorString=function(L){var ne;typeof L=="string"&&(L={ch1:L});var Ee=L.ch1,Ie=L.ch2,Fe=L.ch3,dt=L.ch4,bt=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var Pt=new K9(Ee);if(Pt.ok)Ee=Pt.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var Et=parseInt(Ee.substr(1),16);Ee=Et>>16&255,Ie=Et>>8&255,Fe=255&Et}if(Ie===void 0||dt===void 0&&Ee===Ie&&Ie===Fe)ne=typeof Ee=="string"?Ee+" "+bt[0]:L.precision===2?H(Ee/255)+" "+bt[0]:G(Ee/255)+" "+bt[0];else if(dt===void 0||Un(dt)==="object"){if(dt&&!isNaN(dt.a)&&dt.a===0)return["1.","1.","1.",bt[1]].join(" ");ne=typeof Ee=="string"?[Ee,Ie,Fe,bt[1]].join(" "):L.precision===2?[H(Ee/255),H(Ie/255),H(Fe/255),bt[1]].join(" "):[G(Ee/255),G(Ie/255),G(Fe/255),bt[1]].join(" ")}else ne=typeof Ee=="string"?[Ee,Ie,Fe,dt,bt[2]].join(" "):L.precision===2?[H(Ee),H(Ie),H(Fe),H(dt),bt[2]].join(" "):[G(Ee),G(Ie),G(Fe),G(dt),bt[2]].join(" ");return ne},pi=y.__private__.getFilters=function(){return o},Ni=y.__private__.putStream=function(L){var ne=(L=L||{}).data||"",Ee=L.filters||pi(),Ie=L.alreadyAppliedFilters||[],Fe=L.addLength1||!1,dt=ne.length,bt=L.objectId,Pt=function(ja){return ja};if(h!==null&&bt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Pt=zn.encryptor(bt,0));var Et={};Ee===!0&&(Ee=["FlateEncode"]);var br=L.additionalKeyValues||[],Lt=(Et=or.API.processDataByFilters!==void 0?or.API.processDataByFilters(ne,Ee):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray(Ie)?Ie.join(" "):Ie.toString());if(Et.data.length!==0&&(br.push({key:"Length",value:Et.data.length}),Fe===!0&&br.push({key:"Length1",value:dt})),Lt.length!=0)if(Lt.split("/").length-1==1)br.push({key:"Filter",value:Lt});else{br.push({key:"Filter",value:"["+Lt+"]"});for(var Gr=0;Gr<br.length;Gr+=1)if(br[Gr].key==="DecodeParms"){for(var mn=[],Sr=0;Sr<Et.reverseChain.split("/").length-1;Sr+=1)mn.push("null");mn.push(br[Gr].value),br[Gr].value="["+mn.join(" ")+"]"}}ye("<<");for(var Nt=0;Nt<br.length;Nt++)ye("/"+br[Nt].key+" "+br[Nt].value);ye(">>"),Et.data.length!==0&&(ye("stream"),ye(Pt(Et.data)),ye("endstream"))},mi=y.__private__.putPage=function(L){var ne=L.number,Ee=L.data,Ie=L.objId,Fe=L.contentsObjId;hn(Ie,!0),ye("<</Type /Page"),ye("/Parent "+L.rootDictionaryObjId+" 0 R"),ye("/Resources "+L.resourceDictionaryObjId+" 0 R"),ye("/MediaBox ["+parseFloat(Q(L.mediaBox.bottomLeftX))+" "+parseFloat(Q(L.mediaBox.bottomLeftY))+" "+Q(L.mediaBox.topRightX)+" "+Q(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&ye("/CropBox ["+Q(L.cropBox.bottomLeftX)+" "+Q(L.cropBox.bottomLeftY)+" "+Q(L.cropBox.topRightX)+" "+Q(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&ye("/BleedBox ["+Q(L.bleedBox.bottomLeftX)+" "+Q(L.bleedBox.bottomLeftY)+" "+Q(L.bleedBox.topRightX)+" "+Q(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&ye("/TrimBox ["+Q(L.trimBox.bottomLeftX)+" "+Q(L.trimBox.bottomLeftY)+" "+Q(L.trimBox.topRightX)+" "+Q(L.trimBox.topRightY)+"]"),L.artBox!==null&&ye("/ArtBox ["+Q(L.artBox.bottomLeftX)+" "+Q(L.artBox.bottomLeftY)+" "+Q(L.artBox.topRightX)+" "+Q(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&ye("/UserUnit "+L.userUnit),Yr.publish("putPage",{objId:Ie,pageContext:Kt[ne],pageNumber:ne,page:Ee}),ye("/Contents "+Fe+" 0 R"),ye(">>"),ye("endobj");var dt=Ee.join(`
`);return U===F&&(dt+=`
Q`),hn(Fe,!0),Ni({data:dt,filters:pi(),objectId:Fe}),ye("endobj"),Ie},Us=y.__private__.putPages=function(){var L,ne,Ee=[];for(L=1;L<=_r;L++)Kt[L].objId=Cn(),Kt[L].contentsObjId=Cn();for(L=1;L<=_r;L++)Ee.push(mi({number:L,data:Je[L],objId:Kt[L].objId,contentsObjId:Kt[L].contentsObjId,mediaBox:Kt[L].mediaBox,cropBox:Kt[L].cropBox,bleedBox:Kt[L].bleedBox,trimBox:Kt[L].trimBox,artBox:Kt[L].artBox,userUnit:Kt[L].userUnit,rootDictionaryObjId:xa,resourceDictionaryObjId:pn}));hn(xa,!0),ye("<</Type /Pages");var Ie="/Kids [";for(ne=0;ne<_r;ne++)Ie+=Ee[ne]+" 0 R ";ye(Ie+"]"),ye("/Count "+_r),ye(">>"),ye("endobj"),Yr.publish("postPutPages")},zs=function(L){Yr.publish("putFont",{font:L,out:ye,newObject:zr,putStream:Ni}),L.isAlreadyPutted!==!0&&(L.objectNumber=zr(),ye("<<"),ye("/Type /Font"),ye("/BaseFont /"+Jh(L.postScriptName)),ye("/Subtype /Type1"),typeof L.encoding=="string"&&ye("/Encoding /"+L.encoding),ye("/FirstChar 32"),ye("/LastChar 255"),ye(">>"),ye("endobj"))},ri=function(L){L.objectNumber=zr();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[Q(L.x),Q(L.y),Q(L.x+L.width),Q(L.y+L.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Ee=L.pages[1].join(`
`);Ni({data:Ee,additionalKeyValues:ne,objectId:L.objectNumber}),ye("endobj")},kn=function(L,ne){ne||(ne=21);var Ee=zr(),Ie=(function(bt,Pt){var Et,br=[],Lt=1/(Pt-1);for(Et=0;Et<1;Et+=Lt)br.push(Et);if(br.push(1),bt[0].offset!=0){var Gr={offset:0,color:bt[0].color};bt.unshift(Gr)}if(bt[bt.length-1].offset!=1){var mn={offset:1,color:bt[bt.length-1].color};bt.push(mn)}for(var Sr="",Nt=0,ja=0;ja<br.length;ja++){for(Et=br[ja];Et>bt[Nt+1].offset;)Nt++;var jr=bt[Nt].offset,Xn=(Et-jr)/(bt[Nt+1].offset-jr),Vi=bt[Nt].color,Vs=bt[Nt+1].color;Sr+=Ce(Math.round((1-Xn)*Vi[0]+Xn*Vs[0]).toString(16))+Ce(Math.round((1-Xn)*Vi[1]+Xn*Vs[1]).toString(16))+Ce(Math.round((1-Xn)*Vi[2]+Xn*Vs[2]).toString(16))}return Sr.trim()})(L.colors,ne),Fe=[];Fe.push({key:"FunctionType",value:"0"}),Fe.push({key:"Domain",value:"[0.0 1.0]"}),Fe.push({key:"Size",value:"["+ne+"]"}),Fe.push({key:"BitsPerSample",value:"8"}),Fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ni({data:Ie,additionalKeyValues:Fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),ye("endobj"),L.objectNumber=zr(),ye("<< /ShadingType "+L.type),ye("/ColorSpace /DeviceRGB");var dt="/Coords ["+Q(parseFloat(L.coords[0]))+" "+Q(parseFloat(L.coords[1]))+" ";L.type===2?dt+=Q(parseFloat(L.coords[2]))+" "+Q(parseFloat(L.coords[3])):dt+=Q(parseFloat(L.coords[2]))+" "+Q(parseFloat(L.coords[3]))+" "+Q(parseFloat(L.coords[4]))+" "+Q(parseFloat(L.coords[5])),ye(dt+="]"),L.matrix&&ye("/Matrix ["+L.matrix.toString()+"]"),ye("/Function "+Ee+" 0 R"),ye("/Extend [true true]"),ye(">>"),ye("endobj")},Xr=function(L,ne){var Ee=Cn(),Ie=zr();ne.push({resourcesOid:Ee,objectOid:Ie}),L.objectNumber=Ie;var Fe=[];Fe.push({key:"Type",value:"/Pattern"}),Fe.push({key:"PatternType",value:"1"}),Fe.push({key:"PaintType",value:"1"}),Fe.push({key:"TilingType",value:"1"}),Fe.push({key:"BBox",value:"["+L.boundingBox.map(Q).join(" ")+"]"}),Fe.push({key:"XStep",value:Q(L.xStep)}),Fe.push({key:"YStep",value:Q(L.yStep)}),Fe.push({key:"Resources",value:Ee+" 0 R"}),L.matrix&&Fe.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),Ni({data:L.stream,additionalKeyValues:Fe,objectId:L.objectNumber}),ye("endobj")},sl=function(L){for(var ne in L.objectNumber=zr(),ye("<<"),L)switch(ne){case"opacity":ye("/ca "+H(L[ne]));break;case"stroke-opacity":ye("/CA "+H(L[ne]))}ye(">>"),ye("endobj")},ni=function(L){hn(L.resourcesOid,!0),ye("<<"),ye("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ne in ye("/Font <<"),nt)nt.hasOwnProperty(ne)&&(g===!1||g===!0&&x.hasOwnProperty(ne))&&ye("/"+ne+" "+nt[ne].objectNumber+" 0 R");ye(">>")})(),(function(){if(Object.keys(Ct).length>0){for(var ne in ye("/Shading <<"),Ct)Ct.hasOwnProperty(ne)&&Ct[ne]instanceof yd&&Ct[ne].objectNumber>=0&&ye("/"+ne+" "+Ct[ne].objectNumber+" 0 R");Yr.publish("putShadingPatternDict"),ye(">>")}})(),(function(ne){if(Object.keys(Ct).length>0){for(var Ee in ye("/Pattern <<"),Ct)Ct.hasOwnProperty(Ee)&&Ct[Ee]instanceof y.TilingPattern&&Ct[Ee].objectNumber>=0&&Ct[Ee].objectNumber<ne&&ye("/"+Ee+" "+Ct[Ee].objectNumber+" 0 R");Yr.publish("putTilingPatternDict"),ye(">>")}})(L.objectOid),(function(){if(Object.keys(hr).length>0){var ne;for(ne in ye("/ExtGState <<"),hr)hr.hasOwnProperty(ne)&&hr[ne].objectNumber>=0&&ye("/"+ne+" "+hr[ne].objectNumber+" 0 R");Yr.publish("putGStateDict"),ye(">>")}})(),(function(){for(var ne in ye("/XObject <<"),Ra)Ra.hasOwnProperty(ne)&&Ra[ne].objectNumber>=0&&ye("/"+ne+" "+Ra[ne].objectNumber+" 0 R");Yr.publish("putXobjectDict"),ye(">>")})(),ye(">>"),ye("endobj")},Yn=function(L){Dt[L.fontName]=Dt[L.fontName]||{},Dt[L.fontName][L.fontStyle]=L.id},gt=function(L,ne,Ee,Ie,Fe){var dt={id:"F"+(Object.keys(nt).length+1).toString(10),postScriptName:L,fontName:ne,fontStyle:Ee,encoding:Ie,isStandardFont:Fe||!1,metadata:{}};return Yr.publish("addFont",{font:dt,instance:this}),nt[dt.id]=dt,Yn(dt),dt.id},fs=y.__private__.pdfEscape=y.pdfEscape=function(L,ne){return(function(Ee,Ie){var Fe,dt,bt,Pt,Et,br,Lt,Gr,mn;if(bt=(Ie=Ie||{}).sourceEncoding||"Unicode",Et=Ie.outputEncoding,(Ie.autoencode||Et)&&nt[Tt].metadata&&nt[Tt].metadata[bt]&&nt[Tt].metadata[bt].encoding&&(Pt=nt[Tt].metadata[bt].encoding,!Et&&nt[Tt].encoding&&(Et=nt[Tt].encoding),!Et&&Pt.codePages&&(Et=Pt.codePages[0]),typeof Et=="string"&&(Et=Pt[Et]),Et)){for(Lt=!1,br=[],Fe=0,dt=Ee.length;Fe<dt;Fe++)(Gr=Et[Ee.charCodeAt(Fe)])?br.push(String.fromCharCode(Gr)):br.push(Ee[Fe]),br[Fe].charCodeAt(0)>>8&&(Lt=!0);Ee=br.join("")}for(Fe=Ee.length;Lt===void 0&&Fe!==0;)Ee.charCodeAt(Fe-1)>>8&&(Lt=!0),Fe--;if(!Lt)return Ee;for(br=Ie.noBOM?[]:[254,255],Fe=0,dt=Ee.length;Fe<dt;Fe++){if((mn=(Gr=Ee.charCodeAt(Fe))>>8)>>8)throw new Error("Character at position "+Fe+" of string '"+Ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");br.push(mn),br.push(Gr-(mn<<8))}return String.fromCharCode.apply(void 0,br)})(L,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rn=y.__private__.beginPage=function(L){Je[++_r]=[],Kt[_r]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Kr(_r),yt(Je[le])},Hi=function(L,ne){var Ee,Ie,Fe;switch(r=ne||r,typeof L=="string"&&(Ee=j(L.toLowerCase()),Array.isArray(Ee)&&(Ie=Ee[0],Fe=Ee[1])),Array.isArray(L)&&(Ie=L[0]*Tr,Fe=L[1]*Tr),isNaN(Ie)&&(Ie=a[0],Fe=a[1]),(Ie>14400||Fe>14400)&&(ea.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ie=Math.min(14400,Ie),Fe=Math.min(14400,Fe)),a=[Ie,Fe],r.substr(0,1)){case"l":Fe>Ie&&(a=[Fe,Ie]);break;case"p":Ie>Fe&&(a=[Fe,Ie])}rn(a),cr(jl),ye($i),kl!==0&&ye(kl+" J"),na!==0&&ye(na+" j"),Yr.publish("addPage",{pageNumber:_r})},Yc=function(L){L>0&&L<=_r&&(Je.splice(L,1),Kt.splice(L,1),_r--,le>_r&&(le=_r),this.setPage(le))},Kr=function(L){L>0&&L<=_r&&(le=L)},Wr=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Je.length-1},Fr=function(L,ne,Ee){var Ie,Fe=void 0;return Ee=Ee||{},L=L!==void 0?L:nt[Tt].fontName,ne=ne!==void 0?ne:nt[Tt].fontStyle,Ie=L.toLowerCase(),Dt[Ie]!==void 0&&Dt[Ie][ne]!==void 0?Fe=Dt[Ie][ne]:Dt[L]!==void 0&&Dt[L][ne]!==void 0?Fe=Dt[L][ne]:Ee.disableWarning===!1&&ea.warn("Unable to look up font label for font '"+L+"', '"+ne+"'. Refer to getFontList() for available fonts."),Fe||Ee.noFallback||(Fe=Dt.times[ne])==null&&(Fe=Dt.times.normal),Fe},Ci=y.__private__.putInfo=function(){var L=zr(),ne=function(Ie){return Ie};for(var Ee in h!==null&&(ne=zn.encryptor(L,0)),ye("<<"),ye("/Producer ("+fs(ne("jsPDF "+or.version))+")"),Nr)Nr.hasOwnProperty(Ee)&&Nr[Ee]&&ye("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+fs(ne(Nr[Ee]))+")");ye("/CreationDate ("+fs(ne(ae))+")"),ye(">>"),ye("endobj")},qs=y.__private__.putCatalog=function(L){var ne=(L=L||{}).rootDictionaryObjId||xa;switch(zr(),ye("<<"),ye("/Type /Catalog"),ye("/Pages "+ne+" 0 R"),er||(er="fullwidth"),er){case"fullwidth":ye("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ye("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ye("/OpenAction [3 0 R /Fit]");break;case"original":ye("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+er;Ee.substr(Ee.length-1)==="%"&&(er=parseInt(er)/100),typeof er=="number"&&ye("/OpenAction [3 0 R /XYZ null null "+H(er)+"]")}switch(Br||(Br="continuous"),Br){case"continuous":ye("/PageLayout /OneColumn");break;case"single":ye("/PageLayout /SinglePage");break;case"two":case"twoleft":ye("/PageLayout /TwoColumnLeft");break;case"tworight":ye("/PageLayout /TwoColumnRight")}ir&&ye("/PageMode /"+ir),Yr.publish("putCatalog"),ye(">>"),ye("endobj")},ds=y.__private__.putTrailer=function(){ye("trailer"),ye("<<"),ye("/Size "+(we+1)),ye("/Root "+we+" 0 R"),ye("/Info "+(we-1)+" 0 R"),h!==null&&ye("/Encrypt "+zn.oid+" 0 R"),ye("/ID [ <"+re+"> <"+re+"> ]"),ye(">>")},yr=y.__private__.putHeader=function(){ye("%PDF-"+E),ye("%")},Ss=y.__private__.putXRef=function(){var L="0000000000";ye("xref"),ye("0 "+(we+1)),ye("0000000000 65535 f ");for(var ne=1;ne<=we;ne++)typeof Me[ne]=="function"?ye((L+Me[ne]()).slice(-10)+" 00000 n "):Me[ne]!==void 0?ye((L+Me[ne]).slice(-10)+" 00000 n "):ye("0000000000 00000 n ")},io=y.__private__.buildDocument=function(){var L;we=0,Te=0,ze=[],Me=[],Ge=[],xa=Cn(),pn=Cn(),yt(ze),Yr.publish("buildDocument"),yr(),Us(),(function(){Yr.publish("putAdditionalObjects");for(var Ee=0;Ee<Ge.length;Ee++){var Ie=Ge[Ee];hn(Ie.objId,!0),ye(Ie.content),ye("endobj")}Yr.publish("postPutAdditionalObjects")})(),L=[],(function(){for(var Ee in nt)nt.hasOwnProperty(Ee)&&(g===!1||g===!0&&x.hasOwnProperty(Ee))&&zs(nt[Ee])})(),(function(){var Ee;for(Ee in hr)hr.hasOwnProperty(Ee)&&sl(hr[Ee])})(),(function(){for(var Ee in Ra)Ra.hasOwnProperty(Ee)&&ri(Ra[Ee])})(),(function(Ee){var Ie;for(Ie in Ct)Ct.hasOwnProperty(Ie)&&(Ct[Ie]instanceof yd?kn(Ct[Ie]):Ct[Ie]instanceof a0&&Xr(Ct[Ie],Ee))})(L),Yr.publish("putResources"),L.forEach(ni),ni({resourcesOid:pn,objectOid:Number.MAX_SAFE_INTEGER}),Yr.publish("postPutResources"),h!==null&&(zn.oid=zr(),ye("<<"),ye("/Filter /Standard"),ye("/V "+zn.v),ye("/R "+zn.r),ye("/U <"+zn.toHexString(zn.U)+">"),ye("/O <"+zn.toHexString(zn.O)+">"),ye("/P "+zn.P),ye(">>"),ye("endobj")),Ci(),qs();var ne=Te;return Ss(),ds(),ye("startxref"),ye(""+ne),ye("%%EOF"),yt(Je[le]),ze.join(`
`)},bn=y.__private__.getBlob=function(L){return new Blob([Rt(L)],{type:"application/pdf"})},As=y.output=y.__private__.output=(Ei=function(L,ne){switch(typeof(ne=ne||{})=="string"?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",L){case void 0:return io();case"save":y.save(ne.filename);break;case"arraybuffer":return Rt(io());case"blob":return bn(io());case"bloburi":case"bloburl":if(Ir.URL!==void 0&&typeof Ir.URL.createObjectURL=="function")return Ir.URL&&Ir.URL.createObjectURL(bn(io()))||void 0;ea.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",Ie=io();try{Ee=mI(Ie)}catch{Ee=mI(unescape(encodeURIComponent(Ie)))}return"data:application/pdf;filename="+ne.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ir)==="[object Window]"){var Fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",dt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&(Fe=ne.pdfObjectUrl,dt="");var bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Fe+'"'+dt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",Pt=Ir.open();return Pt!==null&&Pt.document.write(bt),Pt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ir)==="[object Window]"){var Et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',br=Ir.open();if(br!==null){br.document.write(Et);var Lt=this;br.document.documentElement.querySelector("#pdfViewer").onload=function(){br.document.title=ne.filename,br.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Lt.output("bloburl"))}}return br}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ir)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',mn=Ir.open();if(mn!==null&&(mn.document.write(Gr),mn.document.title=ne.filename),mn||typeof safari>"u")return mn;break;case"datauri":case"dataurl":return Ir.document.location.href=this.output("datauristring",ne);default:return null}},Ei.foo=function(){try{return Ei.apply(this,arguments)}catch(Ee){var L=Ee.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var ne="Error in function "+L.split(`
`)[0].split("<")[0]+": "+Ee.message;if(!Ir.console)throw new Error(ne);Ir.console.error(ne,Ee),Ir.alert&&alert(ne)}},Ei.foo.bar=Ei,Ei.foo),Oi=function(L){return Array.isArray(ua)===!0&&ua.indexOf(L)>-1};switch(n){case"pt":Tr=1;break;case"mm":Tr=72/25.4;break;case"cm":Tr=72/2.54;break;case"in":Tr=72;break;case"px":Tr=Oi("px_scaling")==1?.75:96/72;break;case"pc":case"em":Tr=12;break;case"ex":Tr=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Tr=n}var zn=null;oe(),Se();var Or=y.__private__.getPageInfo=y.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Kt[L].objId,pageNumber:L,pageContext:Kt[L]}},da=y.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in Kt)if(Kt[ne].objId===L)break;return Or(ne)},$e=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Kt[le].objId,pageNumber:le,pageContext:Kt[le]}};y.addPage=function(){return Hi.apply(this,arguments),this},y.setPage=function(){return Kr.apply(this,arguments),yt.call(this,Je[le]),this},y.insertPage=function(L){return this.addPage(),this.movePage(le,L),this},y.movePage=function(L,ne){var Ee,Ie;if(L>ne){Ee=Je[L],Ie=Kt[L];for(var Fe=L;Fe>ne;Fe--)Je[Fe]=Je[Fe-1],Kt[Fe]=Kt[Fe-1];Je[ne]=Ee,Kt[ne]=Ie,this.setPage(ne)}else if(L<ne){Ee=Je[L],Ie=Kt[L];for(var dt=L;dt<ne;dt++)Je[dt]=Je[dt+1],Kt[dt]=Kt[dt+1];Je[ne]=Ee,Kt[ne]=Ie,this.setPage(ne)}return this},y.deletePage=function(){return Yc.apply(this,arguments),this},y.__private__.text=y.text=function(L,ne,Ee,Ie,Fe){var dt,bt,Pt,Et,br,Lt,Gr,mn,Sr,Nt=(Ie=Ie||{}).scope||this;if(typeof L=="number"&&typeof ne=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var ja=Ee;Ee=ne,ne=L,L=ja}if(arguments[3]instanceof Zt==0?(Pt=arguments[4],Et=arguments[5],Un(Gr=arguments[3])==="object"&&Gr!==null||(typeof Pt=="string"&&(Et=Pt,Pt=null),typeof Gr=="string"&&(Et=Gr,Gr=null),typeof Gr=="number"&&(Pt=Gr,Gr=null),Ie={flags:Gr,angle:Pt,align:Et})):(q("The transform parameter of text() with a Matrix value"),Sr=Fe),isNaN(ne)||isNaN(Ee)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return Nt;var jr,Xn="",Vi=typeof Ie.lineHeightFactor=="number"?Ie.lineHeightFactor:Gs,Vs=Nt.internal.scaleFactor;function La(ct){return ct=ct.split("	").join(Array(Ie.TabLen||9).join(" ")),fs(ct,Gr)}function Pl(ct){for(var ut,ot=ct.concat(),nr=[],pr=ot.length;pr--;)typeof(ut=ot.shift())=="string"?nr.push(ut):Array.isArray(ct)&&(ut.length===1||ut[1]===void 0&&ut[2]===void 0)?nr.push(ut[0]):nr.push([ut[0],ut[1],ut[2]]);return nr}function Rl(ct,ut){var ot;if(typeof ct=="string")ot=ut(ct)[0];else if(Array.isArray(ct)){for(var nr,pr,qn=ct.concat(),oi=[],Ba=qn.length;Ba--;)typeof(nr=qn.shift())=="string"?oi.push(ut(nr)[0]):Array.isArray(nr)&&typeof nr[0]=="string"&&(pr=ut(nr[0],nr[1],nr[2]),oi.push([pr[0],pr[1],pr[2]]));ot=oi}return ot}var Ns=!1,Cs=!0;if(typeof L=="string")Ns=!0;else if(Array.isArray(L)){var cl=L.concat();bt=[];for(var Fo,Kn=cl.length;Kn--;)(typeof(Fo=cl.shift())!="string"||Array.isArray(Fo)&&typeof Fo[0]!="string")&&(Cs=!1);Ns=Cs}if(Ns===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var uo=rt/Nt.internal.scaleFactor,ul=uo*(Vi-1);switch(Ie.baseline){case"bottom":Ee-=ul;break;case"top":Ee+=uo-ul;break;case"hanging":Ee+=uo-2*ul;break;case"middle":Ee+=uo/2-ul}if((Lt=Ie.maxWidth||0)>0&&(typeof L=="string"?L=Nt.splitTextToSize(L,Lt):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(ct,ut){return ct.concat(Nt.splitTextToSize(ut,Lt))},[]))),dt={text:L,x:ne,y:Ee,options:Ie,mutex:{pdfEscape:fs,activeFontKey:Tt,fonts:nt,activeFontSize:rt}},Yr.publish("preProcessText",dt),L=dt.text,Pt=(Ie=dt.options).angle,Sr instanceof Zt==0&&Pt&&typeof Pt=="number"){Pt*=Math.PI/180,Ie.rotationDirection===0&&(Pt=-Pt),U===F&&(Pt=-Pt);var fo=Math.cos(Pt),ho=Math.sin(Pt);Sr=new Zt(fo,ho,-ho,fo,0,0)}else Pt&&Pt instanceof Zt&&(Sr=Pt);U!==F||Sr||(Sr=ao),(br=Ie.charSpace||bi)!==void 0&&(Xn+=Q(ue(br))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(mn=Ie.horizontalScale)!==void 0&&(Xn+=Q(100*mn)+` Tz
`),Ie.lang;var aa=-1,Os=Ie.renderingMode!==void 0?Ie.renderingMode:Ie.stroke,ai=Nt.internal.getCurrentPageInfo().pageContext;switch(Os){case 0:case!1:case"fill":aa=0;break;case 1:case!0:case"stroke":aa=1;break;case 2:case"fillThenStroke":aa=2;break;case 3:case"invisible":aa=3;break;case 4:case"fillAndAddForClipping":aa=4;break;case 5:case"strokeAndAddPathForClipping":aa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":aa=6;break;case 7:case"addToPathForClipping":aa=7}var hc=ai.usedRenderingMode!==void 0?ai.usedRenderingMode:-1;aa!==-1?Xn+=aa+` Tr
`:hc!==-1&&(Xn+=`0 Tr
`),aa!==-1&&(ai.usedRenderingMode=aa),Et=Ie.align||"left";var ia,Ys=rt*Vi,Xs=Nt.internal.pageSize.getWidth(),Kc=nt[Tt];br=Ie.charSpace||bi,Lt=Ie.maxWidth||0,Gr=Object.assign({autoencode:!0,noBOM:!0},Ie.flags);var Ts=[],ii=function(ct){return Nt.getStringUnitWidth(ct,{font:Kc,charSpace:br,fontSize:rt,doKerning:!1})*rt/Vs};if(Object.prototype.toString.call(L)==="[object Array]"){var Yi;bt=Pl(L),Et!=="left"&&(ia=bt.map(ii));var si,Xi=0;if(Et==="right"){ne-=ia[0],L=[],Kn=bt.length;for(var Mr=0;Mr<Kn;Mr++)Mr===0?(si=fr(ne),Yi=Qr(Ee)):(si=ue(Xi-ia[Mr]),Yi=-Ys),L.push([bt[Mr],si,Yi]),Xi=ia[Mr]}else if(Et==="center"){ne-=ia[0]/2,L=[],Kn=bt.length;for(var js=0;js<Kn;js++)js===0?(si=fr(ne),Yi=Qr(Ee)):(si=ue((Xi-ia[js])/2),Yi=-Ys),L.push([bt[js],si,Yi]),Xi=ia[js]}else if(Et==="left"){L=[],Kn=bt.length;for(var ee=0;ee<Kn;ee++)L.push(bt[ee])}else if(Et==="justify"&&Kc.encoding==="Identity-H"){L=[],Kn=bt.length,Lt=Lt!==0?Lt:Xs;for(var l=0,p=0;p<Kn;p++)if(Yi=p===0?Qr(Ee):-Ys,si=p===0?fr(ne):l,p<Kn-1){var m=ue((Lt-ia[p])/(bt[p].split(" ").length-1)),w=bt[p].split(" ");L.push([w[0]+" ",si,Yi]),l=0;for(var _=1;_<w.length;_++){var A=(ii(w[_-1]+" "+w[_])-ii(w[_]))*Vs+m;_==w.length-1?L.push([w[_],A,0]):L.push([w[_]+" ",A,0]),l-=A}}else L.push([bt[p],si,Yi]);L.push(["",l,0])}else{if(Et!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],Kn=bt.length,Lt=Lt!==0?Lt:Xs,p=0;p<Kn;p++){Yi=p===0?Qr(Ee):-Ys,si=p===0?fr(ne):0;var O=bt[p].split(" ").length-1,M=O>0?(Lt-ia[p])/O:0;p<Kn-1?Ts.push(Q(ue(M))):Ts.push(0),L.push([bt[p],si,Yi])}}}(typeof Ie.R2L=="boolean"?Ie.R2L:ar)===!0&&(L=Rl(L,function(ct,ut,ot){return[ct.split("").reverse().join(""),ut,ot]})),dt={text:L,x:ne,y:Ee,options:Ie,mutex:{pdfEscape:fs,activeFontKey:Tt,fonts:nt,activeFontSize:rt}},Yr.publish("postProcessText",dt),L=dt.text,jr=dt.mutex.isHex||!1;var B=nt[Tt].encoding;B!=="WinAnsiEncoding"&&B!=="StandardEncoding"||(L=Rl(L,function(ct,ut,ot){return[La(ct),ut,ot]})),bt=Pl(L),L=[];for(var W,te,ce,Ae=Array.isArray(bt[0])?1:0,je="",Pe=function(ct,ut,ot){var nr="";return ot instanceof Zt?(ot=typeof Ie.angle=="number"?Da(ot,new Zt(1,0,0,1,ct,ut)):Da(new Zt(1,0,0,1,ct,ut),ot),U===F&&(ot=Da(new Zt(1,0,0,-1,0,0),ot)),nr=ot.join(" ")+` Tm
`):nr=Q(ct)+" "+Q(ut)+` Td
`,nr},Be=0;Be<bt.length;Be++){switch(je="",Ae){case 1:ce=(jr?"<":"(")+bt[Be][0]+(jr?">":")"),W=parseFloat(bt[Be][1]),te=parseFloat(bt[Be][2]);break;case 0:ce=(jr?"<":"(")+bt[Be]+(jr?">":")"),W=fr(ne),te=Qr(Ee)}Ts!==void 0&&Ts[Be]!==void 0&&(je=Ts[Be]+` Tw
`),Be===0?L.push(je+Pe(W,te,Sr)+ce):Ae===0?L.push(je+ce):Ae===1&&L.push(je+Pe(W,te,Sr)+ce)}L=Ae===0?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var Ze=`BT
/`;return Ze+=Tt+" "+rt+` Tf
`,Ze+=Q(rt*Vi)+` TL
`,Ze+=so+`
`,Ze+=Xn,Ze+=L,ye(Ze+="ET"),x[Tt]=!0,Nt};var _e=y.__private__.clip=y.clip=function(L){return ye(L==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return _e("evenodd")},y.__private__.discardPath=y.discardPath=function(){return ye("n"),this};var jt=y.__private__.isValidStyle=function(L){var ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(ne=!0),ne};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(L){return jt(L)&&(c=L),this};var ra=y.__private__.getStyle=y.getStyle=function(L){var ne=c;switch(L){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=L}return ne},gi=y.close=function(){return ye("h"),this};y.stroke=function(){return ye("S"),this},y.fill=function(L){return Hs("f",L),this},y.fillEvenOdd=function(L){return Hs("f*",L),this},y.fillStroke=function(L){return Hs("B",L),this},y.fillStrokeEvenOdd=function(L){return Hs("B*",L),this};var Hs=function(L,ne){Un(ne)==="object"?rr(ne,L):ye(L)},Po=function(L){L===null||U===F&&L===void 0||(L=ra(L),ye(L))};function Ti(L,ne,Ee,Ie,Fe){var dt=new a0(ne||this.boundingBox,Ee||this.xStep,Ie||this.yStep,this.gState,Fe||this.matrix);dt.stream=this.stream;var bt=L+"$$"+this.cloneIndex+++"$$";return Ta(bt,dt),dt}var rr=function(L,ne){var Ee=cn[L.key],Ie=Ct[Ee];if(Ie instanceof yd)ye("q"),ye(_n(ne)),Ie.gState&&y.setGState(Ie.gState),ye(L.matrix.toString()+" cm"),ye("/"+Ee+" sh"),ye("Q");else if(Ie instanceof a0){var Fe=new Zt(1,0,0,-1,0,Bo());L.matrix&&(Fe=Fe.multiply(L.matrix||ao),Ee=Ti.call(Ie,L.key,L.boundingBox,L.xStep,L.yStep,Fe).id),ye("q"),ye("/Pattern cs"),ye("/"+Ee+" scn"),Ie.gState&&y.setGState(Ie.gState),ye(ne),ye("Q")}},_n=function(L){switch(L){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},dc=y.moveTo=function(L,ne){return ye(Q(ue(L))+" "+Q(J(ne))+" m"),this},$u=y.lineTo=function(L,ne){return ye(Q(ue(L))+" "+Q(J(ne))+" l"),this},vi=y.curveTo=function(L,ne,Ee,Ie,Fe,dt){return ye([Q(ue(L)),Q(J(ne)),Q(ue(Ee)),Q(J(Ie)),Q(ue(Fe)),Q(J(dt)),"c"].join(" ")),this};y.__private__.line=y.line=function(L,ne,Ee,Ie,Fe){if(isNaN(L)||isNaN(ne)||isNaN(Ee)||isNaN(Ie)||!jt(Fe))throw new Error("Invalid arguments passed to jsPDF.line");return U===D?this.lines([[Ee-L,Ie-ne]],L,ne,[1,1],Fe||"S"):this.lines([[Ee-L,Ie-ne]],L,ne,[1,1]).stroke()},y.__private__.lines=y.lines=function(L,ne,Ee,Ie,Fe,dt){var bt,Pt,Et,br,Lt,Gr,mn,Sr,Nt,ja,jr,Xn;if(typeof L=="number"&&(Xn=Ee,Ee=ne,ne=L,L=Xn),Ie=Ie||[1,1],dt=dt||!1,isNaN(ne)||isNaN(Ee)||!Array.isArray(L)||!Array.isArray(Ie)||!jt(Fe)||typeof dt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(dc(ne,Ee),bt=Ie[0],Pt=Ie[1],br=L.length,ja=ne,jr=Ee,Et=0;Et<br;Et++)(Lt=L[Et]).length===2?(ja=Lt[0]*bt+ja,jr=Lt[1]*Pt+jr,$u(ja,jr)):(Gr=Lt[0]*bt+ja,mn=Lt[1]*Pt+jr,Sr=Lt[2]*bt+ja,Nt=Lt[3]*Pt+jr,ja=Lt[4]*bt+ja,jr=Lt[5]*Pt+jr,vi(Gr,mn,Sr,Nt,ja,jr));return dt&&gi(),Po(Fe),this},y.path=function(L){for(var ne=0;ne<L.length;ne++){var Ee=L[ne],Ie=Ee.c;switch(Ee.op){case"m":dc(Ie[0],Ie[1]);break;case"l":$u(Ie[0],Ie[1]);break;case"c":vi.apply(this,Ie);break;case"h":gi()}}return this},y.__private__.rect=y.rect=function(L,ne,Ee,Ie,Fe){if(isNaN(L)||isNaN(ne)||isNaN(Ee)||isNaN(Ie)||!jt(Fe))throw new Error("Invalid arguments passed to jsPDF.rect");return U===D&&(Ie=-Ie),ye([Q(ue(L)),Q(J(ne)),Q(ue(Ee)),Q(ue(Ie)),"re"].join(" ")),Po(Fe),this},y.__private__.triangle=y.triangle=function(L,ne,Ee,Ie,Fe,dt,bt){if(isNaN(L)||isNaN(ne)||isNaN(Ee)||isNaN(Ie)||isNaN(Fe)||isNaN(dt)||!jt(bt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-L,Ie-ne],[Fe-Ee,dt-Ie],[L-Fe,ne-dt]],L,ne,[1,1],bt,!0),this},y.__private__.roundedRect=y.roundedRect=function(L,ne,Ee,Ie,Fe,dt,bt){if(isNaN(L)||isNaN(ne)||isNaN(Ee)||isNaN(Ie)||isNaN(Fe)||isNaN(dt)||!jt(bt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Pt=4/3*(Math.SQRT2-1);return Fe=Math.min(Fe,.5*Ee),dt=Math.min(dt,.5*Ie),this.lines([[Ee-2*Fe,0],[Fe*Pt,0,Fe,dt-dt*Pt,Fe,dt],[0,Ie-2*dt],[0,dt*Pt,-Fe*Pt,dt,-Fe,dt],[2*Fe-Ee,0],[-Fe*Pt,0,-Fe,-dt*Pt,-Fe,-dt],[0,2*dt-Ie],[0,-dt*Pt,Fe*Pt,-dt,Fe,-dt]],L+Fe,ne,[1,1],bt,!0),this},y.__private__.ellipse=y.ellipse=function(L,ne,Ee,Ie,Fe){if(isNaN(L)||isNaN(ne)||isNaN(Ee)||isNaN(Ie)||!jt(Fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var dt=4/3*(Math.SQRT2-1)*Ee,bt=4/3*(Math.SQRT2-1)*Ie;return dc(L+Ee,ne),vi(L+Ee,ne-bt,L+dt,ne-Ie,L,ne-Ie),vi(L-dt,ne-Ie,L-Ee,ne-bt,L-Ee,ne),vi(L-Ee,ne+bt,L-dt,ne+Ie,L,ne+Ie),vi(L+dt,ne+Ie,L+Ee,ne+bt,L+Ee,ne),Po(Fe),this},y.__private__.circle=y.circle=function(L,ne,Ee,Ie){if(isNaN(L)||isNaN(ne)||isNaN(Ee)||!jt(Ie))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,ne,Ee,Ee,Ie)},y.setFont=function(L,ne,Ee){return Ee&&(ne=$(ne,Ee)),Tt=Fr(L,ne,{disableWarning:!1}),this};var Gi=y.__private__.getFont=y.getFont=function(){return nt[Fr.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var L,ne,Ee={};for(L in Dt)if(Dt.hasOwnProperty(L))for(ne in Ee[L]=[],Dt[L])Dt[L].hasOwnProperty(ne)&&Ee[L].push(ne);return Ee},y.addFont=function(L,ne,Ee,Ie,Fe){var dt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&dt.indexOf(arguments[3])!==-1?Fe=arguments[3]:arguments[3]&&dt.indexOf(arguments[3])==-1&&(Ee=$(Ee,Ie)),gt.call(this,L,ne,Ee,Fe=Fe||"Identity-H")};var Gs,jl=e.lineWidth||.200025,In=y.__private__.getLineWidth=y.getLineWidth=function(){return jl},cr=y.__private__.setLineWidth=y.setLineWidth=function(L){return jl=L,ye(Q(ue(L))+" w"),this};y.__private__.setLineDash=or.API.setLineDash=or.API.setLineDashPattern=function(L,ne){if(L=L||[],ne=ne||0,isNaN(ne)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Ee){return Q(ue(Ee))}).join(" "),ne=Q(ue(ne)),ye("["+L+"] "+ne+" d"),this};var $s=y.__private__.getLineHeight=y.getLineHeight=function(){return rt*Gs};y.__private__.getLineHeight=y.getLineHeight=function(){return rt*Gs};var ur=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(Gs=L),this},Wu=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Gs};ur(e.lineHeight);var fr=y.__private__.getHorizontalCoordinate=function(L){return ue(L)},Qr=y.__private__.getVerticalCoordinate=function(L){return U===F?L:Kt[le].mediaBox.topRightY-Kt[le].mediaBox.bottomLeftY-ue(L)},Xc=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(L){return Q(fr(L))},Ro=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(L){return Q(Qr(L))},$i=e.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Hr($i)},y.__private__.setStrokeColor=y.setDrawColor=function(L,ne,Ee,Ie){return $i=fa({ch1:L,ch2:ne,ch3:Ee,ch4:Ie,pdfColorType:"draw",precision:2}),ye($i),this};var hs=e.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Hr(hs)},y.__private__.setFillColor=y.setFillColor=function(L,ne,Ee,Ie){return hs=fa({ch1:L,ch2:ne,ch3:Ee,ch4:Ie,pdfColorType:"fill",precision:2}),ye(hs),this};var so=e.textColor||"0 g",ol=y.__private__.getTextColor=y.getTextColor=function(){return Hr(so)};y.__private__.setTextColor=y.setTextColor=function(L,ne,Ee,Ie){return so=fa({ch1:L,ch2:ne,ch3:Ee,ch4:Ie,pdfColorType:"text",precision:3}),this};var bi=e.charSpace,oo=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(bi||0)};y.__private__.setCharSpace=y.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return bi=L,this};var kl=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(L){var ne=y.CapJoinStyles[L];if(ne===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return kl=ne,ye(ne+" J"),this};var na=0;y.__private__.setLineJoin=y.setLineJoin=function(L){var ne=y.CapJoinStyles[L];if(ne===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return na=ne,ye(ne+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ye(Q(ue(L))+" M"),this},y.GState=Fb,y.setGState=function(L){(L=typeof L=="string"?hr[wr[L]]:Wi(null,L)).equals(Xt)||(ye("/"+L.id+" gs"),Xt=L)};var Wi=function(L,ne){if(!L||!wr[L]){var Ee=!1;for(var Ie in hr)if(hr.hasOwnProperty(Ie)&&hr[Ie].equals(ne)){Ee=!0;break}if(Ee)ne=hr[Ie];else{var Fe="GS"+(Object.keys(hr).length+1).toString(10);hr[Fe]=ne,ne.id=Fe}return L&&(wr[L]=ne.id),Yr.publish("addGState",ne),ne}};y.addGState=function(L,ne){return Wi(L,ne),this},y.saveGraphicsState=function(){return ye("q"),Ft.push({key:Tt,size:rt,color:so}),this},y.restoreGraphicsState=function(){ye("Q");var L=Ft.pop();return Tt=L.key,rt=L.size,so=L.color,Xt=null,this},y.setCurrentTransformationMatrix=function(L){return ye(L.toString()+" cm"),this},y.comment=function(L){return ye("#"+L),this};var Mn=function(L,ne){var Ee=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function(dt){isNaN(dt)||(Ee=parseFloat(dt))}});var Ie=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ie},set:function(dt){isNaN(dt)||(Ie=parseFloat(dt))}});var Fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fe},set:function(dt){Fe=dt.toString()}}),this},lo=function(L,ne,Ee,Ie){Mn.call(this,L,ne),this.type="rect";var Fe=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fe},set:function(bt){isNaN(bt)||(Fe=parseFloat(bt))}});var dt=Ie||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return dt},set:function(bt){isNaN(bt)||(dt=parseFloat(bt))}}),this},Il=function(){this.page=_r,this.currentPage=le,this.pages=Je.slice(0),this.pagesContext=Kt.slice(0),this.x=Ht,this.y=ca,this.matrix=tr,this.width=Lo(le),this.height=nn(le),this.outputDestination=lt,this.id="",this.objectNumber=-1};Il.prototype.restore=function(){_r=this.page,le=this.currentPage,Kt=this.pagesContext,Je=this.pages,Ht=this.x,ca=this.y,tr=this.matrix,Ml(le,this.width),co(le,this.height),lt=this.outputDestination};var ll=function(L,ne,Ee,Ie,Fe){ti.push(new Il),_r=le=0,Je=[],Ht=L,ca=ne,tr=Fe,rn([Ee,Ie])};for(var Do in y.beginFormObject=function(L,ne,Ee,Ie,Fe){return ll(L,ne,Ee,Ie,Fe),this},y.endFormObject=function(L){return(function(ne){if(jn[ne])ti.pop().restore();else{var Ee=new Il,Ie="Xo"+(Object.keys(Ra).length+1).toString(10);Ee.id=Ie,jn[ne]=Ie,Ra[Ie]=Ee,Yr.publish("addFormObject",Ee),ti.pop().restore()}})(L),this},y.doFormObject=function(L,ne){var Ee=Ra[jn[L]];return ye("q"),ye(ne.toString()+" cm"),ye("/"+Ee.id+" Do"),ye("Q"),this},y.getFormObject=function(L){var ne=Ra[jn[L]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},y.save=function(L,ne){return L=L||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,ne.returnPromise===!1?(gd(bn(io()),L),typeof gd.unload=="function"&&Ir.setTimeout&&setTimeout(gd.unload,911),this):new Promise(function(Ee,Ie){try{var Fe=gd(bn(io()),L);typeof gd.unload=="function"&&Ir.setTimeout&&setTimeout(gd.unload,911),Ee(Fe)}catch(dt){Ie(dt.message)}})},or.API)or.API.hasOwnProperty(Do)&&(Do==="events"&&or.API.events.length?(function(L,ne){var Ee,Ie,Fe;for(Fe=ne.length-1;Fe!==-1;Fe--)Ee=ne[Fe][0],Ie=ne[Fe][1],L.subscribe.apply(L,[Ee].concat(typeof Ie=="function"?[Ie]:Ie))})(Yr,or.API.events):y[Do]=or.API[Do]);function Lo(L){return Kt[L].mediaBox.topRightX-Kt[L].mediaBox.bottomLeftX}function Ml(L,ne){Kt[L].mediaBox.topRightX=ne+Kt[L].mediaBox.bottomLeftX}function nn(L){return Kt[L].mediaBox.topRightY-Kt[L].mediaBox.bottomLeftY}function co(L,ne){Kt[L].mediaBox.topRightY=ne+Kt[L].mediaBox.bottomLeftY}var Es=y.getPageWidth=function(L){return Lo(L=L||le)/Tr},Ws=y.setPageWidth=function(L,ne){Ml(L,ne*Tr)},Bo=y.getPageHeight=function(L){return nn(L=L||le)/Tr},et=y.setPageHeight=function(L,ne){co(L,ne*Tr)};return y.internal={pdfEscape:fs,getStyle:ra,getFont:Gi,getFontSize:it,getCharSpace:oo,getTextColor:ol,getLineHeight:$s,getLineHeightFactor:Wu,getLineWidth:In,write:wt,getHorizontalCoordinate:fr,getVerticalCoordinate:Qr,getCoordinateString:Xc,getVerticalCoordinateString:Ro,collections:{},newObject:zr,newAdditionalObject:Ot,newObjectDeferred:Cn,newObjectDeferredBegin:hn,getFilters:pi,putStream:Ni,events:Yr,scaleFactor:Tr,pageSize:{getWidth:function(){return Es(le)},setWidth:function(L){Ws(le,L)},getHeight:function(){return Bo(le)},setHeight:function(L){et(le,L)}},encryptionOptions:h,encryption:zn,getEncryptor:function(L){return h!==null?zn.encryptor(L,0):function(ne){return ne}},output:As,getNumberOfPages:Wr,get pages(){return Je},out:ye,f2:H,f3:G,getPageInfo:Or,getPageInfoByObjId:da,getCurrentPageInfo:$e,getPDFVersion:N,Point:Mn,Rectangle:lo,Matrix:Zt,hasHotfix:Oi},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Es(le)},set:function(L){Ws(le,L)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return Bo(le)},set:function(L){et(le,L)},enumerable:!0,configurable:!0}),(function(L){for(var ne=0,Ee=_t.length;ne<Ee;ne++){var Ie=gt.call(this,L[ne][0],L[ne][1],L[ne][2],_t[ne][3],!0);g===!1&&(x[Ie]=!0);var Fe=L[ne][0].split("-");Yn({id:Ie,fontName:Fe[0],fontStyle:Fe[1]||""})}Yr.publish("addFonts",{fonts:nt,dictionary:Dt})}).call(y,_t),Tt="F1",Hi(a,r),Yr.publish("initialized"),y}Qh.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Qh.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Qh.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Qh.prototype.processOwnerPassword=function(e,t){return h3(d3(t).substr(0,5),e)},Qh.prototype.encryptor=function(e,t){var r=d3(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return h3(r,n)}},Fb.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Un(e)!==Un(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},or.API={events:[]},or.version="4.2.0";var Ya=or.API,zA=1,Qd=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Gd=function(e){return e.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var r=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(r.length===1?"0"+r:r)})},Dr=function(e){return e.toFixed(2)},_f=function(e){return e.toFixed(5)};Ya.__acroform__={};var Mo=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},yI=function(e){return e*zA},kc=function(e){var t=new eB,r=Wt.internal.getHeight(e)||0,n=Wt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Dr(n)),Number(Dr(r))],t},Cme=Ya.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},Ome=Ya.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Tme=Ya.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},fi=Ya.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Tme(e,t-1)},di=Ya.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Cme(e,t-1)},hi=Ya.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Ome(e,t-1)},jme=Ya.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],u=e[3],d={};return d.lowerLeft_X=r(a)||0,d.lowerLeft_Y=n(i+u)||0,d.upperRight_X=r(a+o)||0,d.upperRight_Y=n(i)||0,[Number(Dr(d.lowerLeft_X)),Number(Dr(d.lowerLeft_Y)),Number(Dr(d.upperRight_X)),Number(Dr(d.upperRight_Y))]},kme=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=p3(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Dr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=kc(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},p3=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(H){return H.split(`
`)}):a.map(function(H){return[H]});var i=r,o=Wt.internal.getHeight(e)||0;o=o<0?-o:o;var u=Wt.internal.getWidth(e)||0;u=u<0?-u:u;var d=function(H,G,ue){if(H+1<a.length){var J=G+" "+a[H+1][0];return fv(J,e,ue).width<=u-4}return!1};i++;e:for(;i>0;){t="",i--;var c,h,g=fv("3",e,i).height,x=e.multiline?o-i:(o-g)/2,y=x+=2,E=0,N=0,T=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+fv(t,e,i=12).width+", FieldWidth:"+u+`
`;break}for(var j="",D=0,F=0;F<a.length;F++)if(a.hasOwnProperty(F)){var U=!1;if(a[F].length!==1&&T!==a[F].length-1){if((g+2)*(D+2)+2>o)continue e;j+=a[F][T],U=!0,N=F,F--}else{j=(j+=a[F][T]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var Z=parseInt(F),X=d(Z,j,i),$=F>=a.length-1;if(X&&!$){j+=" ",T=0;continue}if(X||$){if($)N=Z;else if(e.multiline&&(g+2)*(D+2)+2>o)continue e}else{if(!e.multiline||(g+2)*(D+2)+2>o)continue e;N=Z}}for(var Q="",q=E;q<=N;q++){var se=a[q];if(e.multiline){if(q===N){Q+=se[T]+" ",T=(T+1)%se.length;continue}if(q===E){Q+=se[se.length-1]+" ";continue}}Q+=se[0]+" "}switch(Q=Q.substr(Q.length-1)==" "?Q.substr(0,Q.length-1):Q,h=fv(Q,e,i).width,e.textAlign){case"right":c=u-h-2;break;case"center":c=(u-h)/2;break;default:c=2}t+=Dr(c)+" "+Dr(y)+` Td
`,t+="("+Qd(Q)+`) Tj
`,t+=-Dr(c)+` 0 Td
`,y=-(i+2),h=0,E=U?N:N+1,D++,j=""}break}return n.text=t,n.fontSize=i,n},fv=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},Ime={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Mme=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Pme=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(uc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Ime)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");zA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new tB,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&Mme(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var u=n[o],d=[],c=u.Rect;if(u.Rect&&(u.Rect=jme(u.Rect,a)),a.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Wt.createDefaultAppearanceStream(u),Un(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(d=u.getKeyValueListForStream()),u.Rect=c,u.hasAppearanceStream&&!u.appearanceStreamContent){var h=kme(u);d.push({key:"AP",value:"<</N "+h+">>"}),a.internal.acroformPlugin.xForms.push(h)}if(u.appearanceStreamContent){var g="";for(var x in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(x)){var y=u.appearanceStreamContent[x];if(g+="/"+x+" ",g+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var o in y)if(y.hasOwnProperty(o)){var E=y[o];typeof E=="function"&&(E=E.call(a,u)),g+="/"+o+" "+E+" ",a.internal.acroformPlugin.xForms.indexOf(E)>=0||a.internal.acroformPlugin.xForms.push(E)}}else typeof(E=y)=="function"&&(E=E.call(a,u)),g+="/"+o+" "+E,a.internal.acroformPlugin.xForms.indexOf(E)>=0||a.internal.acroformPlugin.xForms.push(E);g+=">>"}d.push({key:"AP",value:`<<
`+g+">>"})}a.internal.putStream({additionalKeyValues:d,objectId:u.objId}),a.internal.out("endobj")}i&&(function(N,T){for(var j in N)if(N.hasOwnProperty(j)){var D=j,F=N[j];T.internal.newObjectDeferredBegin(F.objId,!0),Un(F)==="object"&&typeof F.putStream=="function"&&F.putStream(),delete N[D]}})(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},J9=Ya.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Un(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)==="/"?a+="/"+Gd(e[i].substr(1)):(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Qd(n(e[i].toString()))+")")}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},O5=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Qd(n(e))+")"},Bc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Bc.prototype.toString=function(){return this.objId+" 0 R"},Bc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Bc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:J9(a,this.objId,this.scope)}):a instanceof Bc?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var eB=function(){Bc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Mo(eB,Bc);var tB=function(){Bc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Qd(r(e))+")"}},set:function(r){e=r}})};Mo(tB,Bc);var uc=function e(){Bc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');t=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!fi(t,3)},set:function(j){j?this.F=di(t,3):this.F=hi(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');r=j}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(j){n=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(j){n[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(j){n[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(j){n[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(j){n[3]=j}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Ub)return;i="FieldObject"+e.FieldNum++}var j=function(D){return D};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+Qd(j(i))+")"},set:function(j){i=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(j){i=j}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(j){o=j}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(j){u=j}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(j){d=j}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/zA:c},set:function(j){c=j}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(j){h=j}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Ub||this instanceof kd))return O5(g,this.objId,this.scope)},set:function(j){j=j.toString(),g=j}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof is==0?O5(x,this.objId,this.scope):x},set:function(j){j=j.toString(),x=this instanceof is==0?j.substr(0,1)==="("?Wh(j.substr(1,j.length-2)):Wh(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof is==1?Wh(x.substr(1,x.length-1)):x},set:function(j){j=j.toString(),x=this instanceof is==1?"/"+Gd(j):j}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof is==0?O5(y,this.objId,this.scope):y},set:function(j){j=j.toString(),y=this instanceof is==0?j.substr(0,1)==="("?Wh(j.substr(1,j.length-2)):Wh(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof is==1?Wh(y.substr(1,y.length-1)):y},set:function(j){j=j.toString(),y=this instanceof is==1?"/"+Gd(j):j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(j){j=!!j,N=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(j){E=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,1)},set:function(j){j?this.Ff=di(this.Ff,1):this.Ff=hi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,2)},set:function(j){j?this.Ff=di(this.Ff,2):this.Ff=hi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,3)},set:function(j){j?this.Ff=di(this.Ff,3):this.Ff=hi(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');T=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(T){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:T=2;break;case"center":case 1:T=1;break;default:T=0}}})};Mo(uc,Bc);var c0=function(){uc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return J9(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(i,o,u){u||(u=1);for(var d,c=[];d=o.exec(i);)c.push(d[u]);return c})(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,18)},set:function(r){r?this.Ff=di(this.Ff,18):this.Ff=hi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=di(this.Ff,19):this.Ff=hi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,20)},set:function(r){r?(this.Ff=di(this.Ff,20),t.sort()):this.Ff=hi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,22)},set:function(r){r?this.Ff=di(this.Ff,22):this.Ff=hi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,23)},set:function(r){r?this.Ff=di(this.Ff,23):this.Ff=hi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,27)},set:function(r){r?this.Ff=di(this.Ff,27):this.Ff=hi(this.Ff,27)}}),this.hasAppearanceStream=!1};Mo(c0,uc);var u0=function(){c0.call(this),this.fontName="helvetica",this.combo=!1};Mo(u0,c0);var f0=function(){u0.call(this),this.combo=!0};Mo(f0,u0);var Nv=function(){f0.call(this),this.edit=!0};Mo(Nv,f0);var is=function(){uc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,15)},set:function(r){r?this.Ff=di(this.Ff,15):this.Ff=hi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,16)},set:function(r){r?this.Ff=di(this.Ff,16):this.Ff=hi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,17)},set:function(r){r?this.Ff=di(this.Ff,17):this.Ff=hi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,26)},set:function(r){r?this.Ff=di(this.Ff,26):this.Ff=hi(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Qd(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Un(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){var n=r==null?"":r.toString();n.substr(0,1)==="/"&&(n=n.substr(1)),e="/"+Gd(n)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+Gd(r)}})};Mo(is,uc);var Cv=function(){is.call(this),this.pushButton=!0};Mo(Cv,is);var d0=function(){is.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Mo(d0,is);var Ub=function(){var e,t;uc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(u){return u};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Qd(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Un(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){var i=a==null?"":a.toString();i.substr(0,1)==="/"&&(i=i.substr(1)),r="/"+Gd(i)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){var i=a==null?"":a.toString();i.substr(0,1)==="/"&&(i=i.substr(1)),r="/"+Gd(i)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Mo(Ub,uc),d0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},d0.prototype.createOption=function(e){var t=new Ub;return t.Parent=this,t.optionName=e,this.Kids.push(t),Rme.call(this.scope,t),t};var Ov=function(){is.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Wt.CheckBox.createAppearanceStream()};Mo(Ov,is);var kd=function(){uc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,13)},set:function(t){t?this.Ff=di(this.Ff,13):this.Ff=hi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,21)},set:function(t){t?this.Ff=di(this.Ff,21):this.Ff=hi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,23)},set:function(t){t?this.Ff=di(this.Ff,23):this.Ff=hi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,24)},set:function(t){t?this.Ff=di(this.Ff,24):this.Ff=hi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,25)},set:function(t){t?this.Ff=di(this.Ff,25):this.Ff=hi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,26)},set:function(t){t?this.Ff=di(this.Ff,26):this.Ff=hi(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Mo(kd,uc);var Tv=function(){kd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,14)},set:function(e){e?this.Ff=di(this.Ff,14):this.Ff=hi(this.Ff,14)}}),this.password=!0};Mo(Tv,kd);var Wt={CheckBox:{createAppearanceStream:function(){return{N:{On:Wt.CheckBox.YesNormal},D:{On:Wt.CheckBox.YesPushDown,Off:Wt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=kc(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=p3(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Dr(Wt.internal.getWidth(e))+" "+Dr(Wt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Dr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=kc(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Wt.internal.getHeight(e),o=Wt.internal.getWidth(e),u=p3(e,e.caption);return a.push("1 g"),a.push("0 0 "+Dr(o)+" "+Dr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Dr(o-1)+" "+Dr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Dr(u.fontSize)+" Tf "+n),a.push(u.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=kc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Dr(Wt.internal.getWidth(e))+" "+Dr(Wt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Wt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Wt.RadioButton.Circle.YesNormal,t.D[e]=Wt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=kc(e);t.scope=e.scope;var r=[],n=Wt.internal.getWidth(e)<=Wt.internal.getHeight(e)?Wt.internal.getWidth(e)/4:Wt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Wt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+_f(Wt.internal.getWidth(e)/2)+" "+_f(Wt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=kc(e);t.scope=e.scope;var r=[],n=Wt.internal.getWidth(e)<=Wt.internal.getHeight(e)?Wt.internal.getWidth(e)/4:Wt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Wt.internal.Bezier_C).toFixed(5)),o=Number((n*Wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+_f(Wt.internal.getWidth(e)/2)+" "+_f(Wt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+_f(Wt.internal.getWidth(e)/2)+" "+_f(Wt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=kc(e);t.scope=e.scope;var r=[],n=Wt.internal.getWidth(e)<=Wt.internal.getHeight(e)?Wt.internal.getWidth(e)/4:Wt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+_f(Wt.internal.getWidth(e)/2)+" "+_f(Wt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Wt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Wt.RadioButton.Cross.YesNormal,t.D[e]=Wt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=kc(e);t.scope=e.scope;var r=[],n=Wt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Dr(Wt.internal.getWidth(e)-2)+" "+Dr(Wt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Dr(n.x1.x)+" "+Dr(n.x1.y)+" m"),r.push(Dr(n.x2.x)+" "+Dr(n.x2.y)+" l"),r.push(Dr(n.x4.x)+" "+Dr(n.x4.y)+" m"),r.push(Dr(n.x3.x)+" "+Dr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=kc(e);t.scope=e.scope;var r=Wt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Dr(Wt.internal.getWidth(e))+" "+Dr(Wt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Dr(Wt.internal.getWidth(e)-2)+" "+Dr(Wt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Dr(r.x1.x)+" "+Dr(r.x1.y)+" m"),n.push(Dr(r.x2.x)+" "+Dr(r.x2.y)+" l"),n.push(Dr(r.x4.x)+" "+Dr(r.x4.y)+" m"),n.push(Dr(r.x3.x)+" "+Dr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=kc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Dr(Wt.internal.getWidth(e))+" "+Dr(Wt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Wt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Wt.internal.getWidth(e),r=Wt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Wt.internal.getWidth=function(e){var t=0;return Un(e)==="object"&&(t=yI(e.Rect[2])),t},Wt.internal.getHeight=function(e){var t=0;return Un(e)==="object"&&(t=yI(e.Rect[3])),t};var Rme=Ya.addField=function(e){if(Pme(this,e),!(e instanceof uc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ya.AcroFormChoiceField=c0,Ya.AcroFormListBox=u0,Ya.AcroFormComboBox=f0,Ya.AcroFormEditBox=Nv,Ya.AcroFormButton=is,Ya.AcroFormPushButton=Cv,Ya.AcroFormRadioButton=d0,Ya.AcroFormCheckBox=Ov,Ya.AcroFormTextField=kd,Ya.AcroFormPasswordField=Tv,Ya.AcroFormAppearance=Wt,Ya.AcroForm={ChoiceField:c0,ListBox:u0,ComboBox:f0,EditBox:Nv,Button:is,PushButton:Cv,RadioButton:d0,CheckBox:Ov,TextField:kd,PasswordField:Tv,Appearance:Wt},or.AcroForm={ChoiceField:c0,ListBox:u0,ComboBox:f0,EditBox:Nv,Button:is,PushButton:Cv,RadioButton:d0,CheckBox:Ov,TextField:kd,PasswordField:Tv,Appearance:Wt};or.AcroForm;function rB(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(H,G){var ue,J,ae,re,he,Se=r;if((G=G||r)==="RGBA"||H.data!==void 0&&H.data instanceof Uint8ClampedArray&&"height"in H&&"width"in H)return"RGBA";if(X(H))for(he in n)for(ae=n[he],ue=0;ue<ae.length;ue+=1){for(re=!0,J=0;J<ae[ue].length;J+=1)if(ae[ue][J]!==void 0&&ae[ue][J]!==H[J]){re=!1;break}if(re===!0){Se=he;break}}else for(he in n)for(ae=n[he],ue=0;ue<ae.length;ue+=1){for(re=!0,J=0;J<ae[ue].length;J+=1)if(ae[ue][J]!==void 0&&ae[ue][J]!==H.charCodeAt(J)){re=!1;break}if(re===!0){Se=he;break}}return Se===r&&G!==r&&(Se=G),Se},i=function H(G){for(var ue=this.internal.write,J=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);G.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:G.width}),re.push({key:"Height",value:G.height}),G.colorSpace===j.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(G.palette.length/3-1)+" "+("sMask"in G&&G.sMask!==void 0?G.objectId+2:G.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+G.colorSpace}),G.colorSpace===j.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:G.bitsPerComponent}),"decodeParameters"in G&&G.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+G.decodeParameters+">>"}),"transparency"in G&&Array.isArray(G.transparency)&&G.transparency.length>0){for(var he="",Se=0,pe=G.transparency.length;Se<pe;Se++)he+=G.transparency[Se]+" "+G.transparency[Se]+" ";re.push({key:"Mask",value:"["+he+"]"})}G.sMask!==void 0&&re.push({key:"SMask",value:G.objectId+1+" 0 R"});var be=G.filter!==void 0?["/"+G.filter]:void 0;if(J({data:G.data,additionalKeyValues:re,alreadyAppliedFilters:be,objectId:G.objectId}),ue("endobj"),"sMask"in G&&G.sMask!==void 0){var oe,Y=(oe=G.sMaskBitsPerComponent)!==null&&oe!==void 0?oe:G.bitsPerComponent,le={width:G.width,height:G.height,colorSpace:"DeviceGray",bitsPerComponent:Y,data:G.sMask};"filter"in G&&(le.decodeParameters="/Predictor ".concat(G.predictor," /Colors 1 /BitsPerComponent ").concat(Y," /Columns ").concat(G.width),le.filter=G.filter),H.call(this,le)}if(G.colorSpace===j.INDEXED){var me=this.internal.newObject();J({data:Q(new Uint8Array(G.palette)),objectId:me}),ue("endobj")}},o=function(){var H=this.internal.collections[t+"images"];for(var G in H)i.call(this,H[G])},u=function(){var H,G=this.internal.collections[t+"images"],ue=this.internal.write;for(var J in G)ue("/I"+(H=G[J]).index,H.objectId,"0","R")},d=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",u))},c=function(){var H=this.internal.collections[t+"images"];return d.call(this),H},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},g=function(H){return typeof e["process"+H.toUpperCase()]=="function"},x=function(H){return Un(H)==="object"&&H.nodeType===1},y=function(H,G){if(H.nodeName==="IMG"&&H.hasAttribute("src")){var ue=""+H.getAttribute("src");if(ue.indexOf("data:image/")===0)return Ev(unescape(ue).split("base64,").pop());var J=e.loadFile(ue,!0);if(J!==void 0)return J}if(H.nodeName==="CANVAS"){if(H.width===0||H.height===0)throw new Error("Given canvas must have data. Canvas width: "+H.width+", height: "+H.height);var ae;switch(G){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;default:ae="image/jpeg"}return Ev(H.toDataURL(ae,1).split("base64,").pop())}},E=function(H){var G=this.internal.collections[t+"images"];if(G){for(var ue in G)if(H===G[ue].alias)return G[ue]}},N=function(H,G,ue){return H||G||(H=-96,G=-96),H<0&&(H=-1*ue.width*72/H/this.internal.scaleFactor),G<0&&(G=-1*ue.height*72/G/this.internal.scaleFactor),H===0&&(H=G*ue.width/ue.height),G===0&&(G=H*ue.height/ue.width),[H,G]},T=function(H,G,ue,J,ae,re){var he=N.call(this,ue,J,ae),Se=this.internal.getCoordinateString,pe=this.internal.getVerticalCoordinateString,be=c.call(this);if(ue=he[0],J=he[1],be[ae.index]=ae,re){re*=Math.PI/180;var oe=Math.cos(re),Y=Math.sin(re),le=function(Ce){return Ce.toFixed(4)},me=[le(oe),le(Y),le(-1*Y),le(oe),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,Se(H),pe(G+J),"cm"].join(" ")),this.internal.write(me.join(" ")),this.internal.write([Se(ue),"0","0",Se(J),"0","0","cm"].join(" "))):this.internal.write([Se(ue),"0","0",Se(J),Se(H),pe(G+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},j=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var D=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},F=e.__addimage__.sHashCode=function(H){var G,ue,J=0;if(typeof H=="string")for(ue=H.length,G=0;G<ue;G++)J=(J<<5)-J+H.charCodeAt(G),J|=0;else if(X(H))for(ue=H.byteLength/2,G=0;G<ue;G++)J=(J<<5)-J+H[G],J|=0;return J},U=e.__addimage__.validateStringAsBase64=function(H){(H=H||"").toString().trim();var G=!0;return H.length===0&&(G=!1),H.length%4!=0&&(G=!1),/^[A-Za-z0-9+/]+$/.test(H.substr(0,H.length-2))===!1&&(G=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(H.substr(-2))===!1&&(G=!1),G},Z=e.__addimage__.extractImageFromDataUrl=function(H){if(H==null||!(H=H.trim()).startsWith("data:"))return null;var G=H.indexOf(",");return G<0?null:H.substring(0,G).trim().endsWith("base64")?H.substring(G+1):null};e.__addimage__.isArrayBuffer=function(H){return H instanceof ArrayBuffer};var X=e.__addimage__.isArrayBufferView=function(H){return H instanceof Int8Array||H instanceof Uint8Array||H instanceof Uint8ClampedArray||H instanceof Int16Array||H instanceof Uint16Array||H instanceof Int32Array||H instanceof Uint32Array||H instanceof Float32Array||H instanceof Float64Array},$=e.__addimage__.binaryStringToUint8Array=function(H){for(var G=H.length,ue=new Uint8Array(G),J=0;J<G;J++)ue[J]=H.charCodeAt(J);return ue},Q=e.__addimage__.arrayBufferToBinaryString=function(H){for(var G="",ue=X(H)?H:new Uint8Array(H),J=0;J<ue.length;J+=8192)G+=String.fromCharCode.apply(null,ue.subarray(J,J+8192));return G};e.addImage=function(){var H,G,ue,J,ae,re,he,Se,pe;if(typeof arguments[1]=="number"?(G=r,ue=arguments[1],J=arguments[2],ae=arguments[3],re=arguments[4],he=arguments[5],Se=arguments[6],pe=arguments[7]):(G=arguments[1],ue=arguments[2],J=arguments[3],ae=arguments[4],re=arguments[5],he=arguments[6],Se=arguments[7],pe=arguments[8]),Un(H=arguments[0])==="object"&&!x(H)&&"imageData"in H){var be=H;H=be.imageData,G=be.format||G||r,ue=be.x||ue||0,J=be.y||J||0,ae=be.w||be.width||ae,re=be.h||be.height||re,he=be.alias||he,Se=be.compression||Se,pe=be.rotation||be.angle||pe}var oe=this.internal.getFilters();if(Se===void 0&&oe.indexOf("FlateEncode")!==-1&&(Se="SLOW"),isNaN(ue)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var Y=q.call(this,H,G,he,Se);return T.call(this,ue,J,ae,re,Y,pe),this};var q=function(H,G,ue,J){var ae,re,he;if(typeof H=="string"&&a(H)===r){H=unescape(H);var Se=se(H,!1);(Se!==""||(Se=e.loadFile(H,!0))!==void 0)&&(H=Se)}if(x(H)&&(H=y(H,G)),G=a(H,G),!g(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(((he=ue)==null||he.length===0)&&(ue=(function(pe){return typeof pe=="string"||X(pe)?F(pe):X(pe.data)?F(pe.data):null})(H)),(ae=E.call(this,ue))||(H instanceof Uint8Array||G==="RGBA"||(re=H,H=$(H)),ae=this["process"+G.toUpperCase()](H,h.call(this),ue,(function(pe){return pe&&typeof pe=="string"&&(pe=pe.toUpperCase()),pe in e.image_compression?pe:D.NONE})(J),re)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},se=e.__addimage__.convertBase64ToBinaryString=function(H,G){G=typeof G!="boolean"||G;var ue,J="";if(typeof H=="string"){var ae;ue=(ae=Z(H))!==null&&ae!==void 0?ae:H;try{J=Ev(ue)}catch(re){if(G)throw U(ue)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};e.getImageProperties=function(H){var G,ue,J="";if(x(H)&&(H=y(H)),typeof H=="string"&&a(H)===r&&((J=se(H,!1))===""&&(J=e.loadFile(H)||""),H=J),ue=a(H),!g(ue))throw new Error("addImage does not support files of type '"+ue+"', please ensure that a plugin for '"+ue+"' support is added.");if(H instanceof Uint8Array||(H=$(H)),!(G=this["process"+ue.toUpperCase()](H)))throw new Error("An unknown error occurred whilst processing the image");return G.fileType=ue,G}})(or.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};or.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,h=!1,g=0;g<c.length&&!h;g++)switch((n=c[g]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var x=0;x<c.length;x++){n=c[x];var y=this.internal.pdfEscape,E=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(N.objId),D=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+u(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y)+"] ")+"/Contents ("+y(j(n.contents))+")",i+=" /Popup "+T.objId+" 0 R",i+=" /P "+d.objId+" 0 R",i+=" /T ("+y(j(D))+") >>",N.content=i;var F=N.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+u(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+u(n.bounds.y)+"] ")+" /Parent "+F,n.open&&(i+=" /Open true"),i+=" >>",T.content=i,this.internal.write(N.objId,"0 R",T.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+u(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y+n.bounds.h)+"] ";var U=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+y(E(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+U+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var Z=this.annotations._nameMap[n.options.name];n.options.pageNumber=Z.page,n.options.top=Z.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+y(E(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var X=u(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+X+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,o){var u=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:d(r),y:c(n),w:d(r+a),h:c(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,a,i){var o,u,d=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){u=i.maxWidth;var h=this.splitTextToSize(r,u).length;o=Math.ceil(c*h)}else u=d,o=c;return this.text(r,n,a,i),a+=.2*c,i.align==="center"&&(n-=d/2),i.align==="right"&&(n-=d),this.link(n,a-c,u,o,i),d},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(or.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(N){return t[N.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},u=e.__arabicParser__.isArabicEndLetter=function(N){return o(N)&&i(N)&&t[N.charCodeAt(0)].length<=2},d=e.__arabicParser__.isArabicAlfLetter=function(N){return o(N)&&a.indexOf(N.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return o(N)&&i(N)&&t[N.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(N){return o(N)&&i(N)&&t[N.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(N){return o(N)&&i(N)&&t[N.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(N){return o(N)&&i(N)&&t[N.charCodeAt(0)].length==4},g=e.__arabicParser__.resolveLigatures=function(N){var T=0,j=r,D="",F=0;for(T=0;T<N.length;T+=1)j[N.charCodeAt(T)]!==void 0?(F++,typeof(j=j[N.charCodeAt(T)])=="number"&&(D+=String.fromCharCode(j),j=r,F=0),T===N.length-1&&(j=r,D+=N.charAt(T-(F-1)),T-=F-1,F=0)):(j=r,D+=N.charAt(T-F),T-=F,F=0);return D};e.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&n[N.charCodeAt(0)]!==void 0};var x=e.__arabicParser__.getCorrectForm=function(N,T,j){return o(N)?i(N)===!1?-1:!c(N)||!o(T)&&!o(j)||!o(j)&&u(T)||u(N)&&!o(T)||u(N)&&d(T)||u(N)&&u(T)?0:h(N)&&o(T)&&!u(T)&&o(j)&&c(j)?3:u(N)||!o(j)?1:2:-1},y=function(N){var T=0,j=0,D=0,F="",U="",Z="",X=(N=N||"").split("\\s+"),$=[];for(T=0;T<X.length;T+=1){for($.push(""),j=0;j<X[T].length;j+=1)F=X[T][j],U=X[T][j-1],Z=X[T][j+1],o(F)?(D=x(F,U,Z),$[T]+=D!==-1?String.fromCharCode(t[F.charCodeAt(0)][D]):F):$[T]+=F;$[T]=g($[T])}return $.join(" ")},E=e.__arabicParser__.processArabic=e.processArabic=function(){var N,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(T)){var D=0;for(j=[],D=0;D<T.length;D+=1)Array.isArray(T[D])?j.push([y(T[D][0]),T[D][1],T[D][2]]):j.push([y(T[D])]);N=j}else N=y(T);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};e.events.push(["preProcessText",E])})(or.API),or.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(u){r=u}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(u){n=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(u){a=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(u){i=u}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(u){o=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(or.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(N){d=N}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(N){c=N}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(N){h=N}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(N){g=N}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(N){x=N}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(N){y=N}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(N){E=N}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},e.getTextDimensions=function(d,c){n.call(this);var h=(c=c||{}).fontSize||this.getFontSize(),g=c.font||this.getFont(),x=c.scaleFactor||this.internal.scaleFactor,y=0,E=0,N=0,T=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var j=c.maxWidth;j>0?typeof d=="string"?d=this.splitTextToSize(d,j):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(F,U){return F.concat(T.splitTextToSize(U,j))},[])):d=Array.isArray(d)?d:[d];for(var D=0;D<d.length;D++)y<(N=this.getStringUnitWidth(d[D],{font:g})*h)&&(y=N);return y!==0&&(E=d.length),{w:y/=x,h:Math.max((E*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/x,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var d;d=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var c=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,g=this.internal.__cell__.margins||t,x=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===d.lineNumber?(d.x=(c.x||0)+(c.width||0),d.y=c.y||0):c.y+c.height+d.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=g.top,y&&x&&(this.printHeaderRow(d.lineNumber,!0),d.y+=x[0].height)):d.y=c.y+c.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,r===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-h,d.y+h,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+h,{align:"center",baseline:"top",maxWidth:d.width-h-h}):this.text(d.text,d.x+h,d.y+h,{align:"left",baseline:"top",maxWidth:d.width-h-h})),this.internal.__cell__.lastCell=d,this};e.table=function(d,c,h,g,x){if(n.call(this),!h)throw new Error("No data for PDF table.");var y,E,N,T,j=[],D=[],F=[],U={},Z={},X=[],$=[],Q=(x=x||{}).autoSize||!1,q=x.printHeaders!==!1,se=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,H=x.margins||Object.assign({width:this.getPageWidth()},t),G=typeof x.padding=="number"?x.padding:3,ue=x.headerBackgroundColor||"#c8c8c8",J=x.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=q,this.internal.__cell__.margins=H,this.internal.__cell__.table_font_size=se,this.internal.__cell__.padding=G,this.internal.__cell__.headerBackgroundColor=ue,this.internal.__cell__.headerTextColor=J,this.setFontSize(se),g==null)D=j=Object.keys(h[0]),F=j.map(function(){return"left"});else if(Array.isArray(g)&&Un(g[0])==="object")for(j=g.map(function(be){return be.name}),D=g.map(function(be){return be.prompt||be.name||""}),F=g.map(function(be){return be.align||"left"}),y=0;y<g.length;y+=1)Z[g[y].name]=.7499990551181103*g[y].width;else Array.isArray(g)&&typeof g[0]=="string"&&(D=j=g,F=j.map(function(){return"left"}));if(Q||Array.isArray(g)&&typeof g[0]=="string")for(y=0;y<j.length;y+=1){for(U[T=j[y]]=h.map(function(be){return be[T]}),this.setFont(void 0,"bold"),X.push(this.getTextDimensions(D[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=U[T],this.setFont(void 0,"normal"),N=0;N<E.length;N+=1)X.push(this.getTextDimensions(E[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Z[T]=Math.max.apply(null,X)+G+G,X=[]}if(q){var ae={};for(y=0;y<j.length;y+=1)ae[j[y]]={},ae[j[y]].text=D[y],ae[j[y]].align=F[y];var re=u.call(this,ae,Z);$=j.map(function(be){return new i(d,c,Z[be],re,ae[be].text,void 0,ae[be].align)}),this.setTableHeaderRow($),this.printHeaderRow(1,!1)}var he=g.reduce(function(be,oe){return be[oe.name]=oe.align,be},{});for(y=0;y<h.length;y+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:y,data:h[y]},this);var Se=u.call(this,h[y],Z);for(N=0;N<j.length;N+=1){var pe=h[y][j[N]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:y,col:N,data:pe},this),o.call(this,new i(d,c,Z[j[N]],Se,pe,y+2,he[j[N]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=c,this};var u=function(d,c){var h=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(d).map(function(y){var E=d[y];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,c[y]-h-h)},this).map(function(y){return this.getLineHeightFactor()*y.length*g/x+h+h},this).reduce(function(y,E){return Math.max(y,E)},0)};e.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},e.printHeaderRow=function(d,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){h=this.internal.__cell__.tableHeaderRow[y].clone(),c&&(h.y=this.internal.__cell__.margins.top||0,x.push(h)),h.lineNumber=d;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(E)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),r=!1}})(or.API);var nB={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},aB=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],m3=rB(aB),iB=[100,200,300,400,500,600,700,800,900],Dme=rB(iB);function T5(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return nB[i=i||"normal"]?i:"normal"})(e.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),a=(function(i){return typeof m3[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function xI(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var Lme={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},wI={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function _I(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function SI(e){return e.trimLeft()}function Bme(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Fme(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Vh,dv,AI,EI,NI,j5=["times"];function CI(e,t,r,n,a){var i=4,o=TI;switch(a){case or.API.image_compression.FAST:i=1,o=OI;break;case or.API.image_compression.MEDIUM:i=6,o=jI;break;case or.API.image_compression.SLOW:i=9,o=kI}e=(function(d,c,h,g){for(var x,y=d.length/c,E=new Uint8Array(d.length+y),N=[Ume,OI,TI,jI,kI],T=0;T<y;T+=1){var j=T*c,D=d.subarray(j,j+c);if(g)E.set(g(D,h,x),j+T);else{for(var F=N.length,U=[],Z=0;Z<F;Z+=1)U[Z]=N[Z](D,h,x);var X=qme(U.concat());E.set(U[X],j+T)}x=D}return E})(e,t,Math.ceil(r*n/8),o);var u=l3(e,{level:i});return or.API.__addimage__.arrayBufferToBinaryString(u)}function Ume(e){var t=Array.apply([],e);return t.unshift(0),t}function OI(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=e[a-t]||0;n[a+1]=e[a]-i+256&255}return n}function TI(e,t,r){var n=e.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var o=r&&r[i]||0;a[i+1]=e[i]-o+256&255}return a}function jI(e,t,r){var n=e.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var o=e[i-t]||0,u=r&&r[i]||0;a[i+1]=e[i]+256-(o+u>>>1)&255}return a}function kI(e,t,r){var n=e.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var o=zme(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);a[i+1]=e[i]-o+256&255}return a}function zme(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=a&&n<=i?e:a<=i?t:r}function qme(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function k5(e,t,r){var n=t*r,a=Math.floor(n/8),i=16-(n-8*a+r),o=(1<<r)-1;return sB(e,a)>>i&o}function II(e,t,r,n){var a=r*n,i=Math.floor(a/8),o=16-(a-8*i+n),u=(1<<n)-1,d=(t&u)<<o;(function(c,h,g){if(h+1<c.byteLength)c.setUint16(h,g,!1);else{var x=g>>8&255;c.setUint8(h,x)}})(e,i,sB(e,i)&~(u<<o)&65535|d)}function sB(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Hme(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<1+(7&a);e[t++],e[t++];var u=null,d=null;i&&(u=t,d=o,t+=3*o);var c=!0,h=[],g=0,x=null,y=0,E=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,E=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((H=e[t++])>=0))throw Error("Invalid block size");if(H===0)break;t+=H}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var N=e[t++];g=e[t++]|e[t++]<<8,x=e[t++],1&N||(x=null),y=N>>2&7,t++;break;case 254:for(;;){if(!((H=e[t++])>=0))throw Error("Invalid block size");if(H===0)break;t+=H}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var T=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,D=e[t++]|e[t++]<<8,F=e[t++]|e[t++]<<8,U=e[t++],Z=U>>6&1,X=1<<1+(7&U),$=u,Q=d,q=!1;U>>7&&(q=!0,$=t,Q=X,t+=3*X);var se=t;for(t++;;){var H;if(!((H=e[t++])>=0))throw Error("Invalid block size");if(H===0)break;t+=H}h.push({x:T,y:j,width:D,height:F,has_local_palette:q,palette_offset:$,palette_size:Q,data_offset:se,data_length:t-se,transparent_index:x,interlaced:!!Z,delay:g,disposal:y});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return E},this.frameInfo=function(G){if(G<0||G>=h.length)throw new Error("Frame index out of range.");return h[G]},this.decodeAndBlitFrameBGRA=function(G,ue){var J=this.frameInfo(G),ae=J.width*J.height;if(ae>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var re=new Uint8Array(ae);MI(e,J.data_offset,re,ae);var he=J.palette_offset,Se=J.transparent_index;Se===null&&(Se=256);var pe=J.width,be=r-pe,oe=pe,Y=4*(J.y*r+J.x),le=4*((J.y+J.height)*r+J.x),me=Y,Ce=4*be;J.interlaced===!0&&(Ce+=4*r*7);for(var we=8,Me=0,ze=re.length;Me<ze;++Me){var Te=re[Me];if(oe===0&&(oe=pe,(me+=Ce)>=le&&(Ce=4*be+4*r*(we-1),me=Y+(pe+be)*(we<<1),we>>=1)),Te===Se)me+=4;else{var Ge=e[he+3*Te],Je=e[he+3*Te+1],qe=e[he+3*Te+2];ue[me++]=qe,ue[me++]=Je,ue[me++]=Ge,ue[me++]=255}--oe}},this.decodeAndBlitFrameRGBA=function(G,ue){var J=this.frameInfo(G),ae=J.width*J.height;if(ae>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var re=new Uint8Array(ae);MI(e,J.data_offset,re,ae);var he=J.palette_offset,Se=J.transparent_index;Se===null&&(Se=256);var pe=J.width,be=r-pe,oe=pe,Y=4*(J.y*r+J.x),le=4*((J.y+J.height)*r+J.x),me=Y,Ce=4*be;J.interlaced===!0&&(Ce+=4*r*7);for(var we=8,Me=0,ze=re.length;Me<ze;++Me){var Te=re[Me];if(oe===0&&(oe=pe,(me+=Ce)>=le&&(Ce=4*be+4*r*(we-1),me=Y+(pe+be)*(we<<1),we>>=1)),Te===Se)me+=4;else{var Ge=e[he+3*Te],Je=e[he+3*Te+1],qe=e[he+3*Te+2];ue[me++]=Ge,ue[me++]=Je,ue[me++]=qe,ue[me++]=255}--oe}}}function MI(e,t,r,n){for(var a=e[t++],i=1<<a,o=i+1,u=o+1,d=a+1,c=(1<<d)-1,h=0,g=0,x=0,y=e[t++],E=new Int32Array(4096),N=null;;){for(;h<16&&y!==0;)g|=e[t++]<<h,h+=8,y===1?y=e[t++]:--y;if(h<d)break;var T=g&c;if(g>>=d,h-=d,T!==i){if(T===o)break;for(var j=T<u?T:N,D=0,F=j;F>i;)F=E[F]>>8,++D;var U=F;if(x+D+(j!==T?1:0)>n)return void ea.log("Warning, gif stream longer than expected.");r[x++]=U;var Z=x+=D;for(j!==T&&(r[x++]=U),F=j;D--;)F=E[F],r[--Z]=255&F,F>>=8;N!==null&&u<4096&&(E[u++]=N<<8|U,u>=c+1&&d<12&&(++d,c=c<<1|1)),N=T}else u=o+1,c=(1<<(d=a+1))-1,N=null}return x!==n&&ea.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function I5(e){var t,r,n,a,i,o=Math.floor,u=new Array(64),d=new Array(64),c=new Array(64),h=new Array(64),g=new Array(65535),x=new Array(65535),y=new Array(64),E=new Array(64),N=[],T=0,j=7,D=new Array(64),F=new Array(64),U=new Array(64),Z=new Array(256),X=new Array(2048),$=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],H=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],G=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ue=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(Y,le){for(var me=0,Ce=0,we=new Array,Me=1;Me<=16;Me++){for(var ze=1;ze<=Y[Me];ze++)we[le[Ce]]=[],we[le[Ce]][0]=me,we[le[Ce]][1]=Me,Ce++,me++;me*=2}return we}function he(Y){for(var le=Y[0],me=Y[1]-1;me>=0;)le&1<<me&&(T|=1<<j),me--,--j<0&&(T==255?(Se(255),Se(0)):Se(T),j=7,T=0)}function Se(Y){N.push(Y)}function pe(Y){Se(Y>>8&255),Se(255&Y)}function be(Y,le,me,Ce,we){for(var Me,ze=we[0],Te=we[240],Ge=(function(rt,er){var it,ar,ir,vr,Br,lr,Ur,Nr,Tt,Tr,Ht=0;for(Tt=0;Tt<8;++Tt){it=rt[Ht],ar=rt[Ht+1],ir=rt[Ht+2],vr=rt[Ht+3],Br=rt[Ht+4],lr=rt[Ht+5],Ur=rt[Ht+6];var ca=it+(Nr=rt[Ht+7]),tr=it-Nr,nt=ar+Ur,Dt=ar-Ur,Ft=ir+lr,Ct=ir-lr,cn=vr+Br,hr=vr-Br,wr=ca+cn,Xt=ca-cn,_r=nt+Ft,Kt=nt-Ft;rt[Ht]=wr+_r,rt[Ht+4]=wr-_r;var Yr=.707106781*(Kt+Xt);rt[Ht+2]=Xt+Yr,rt[Ht+6]=Xt-Yr;var ua=.382683433*((wr=hr+Ct)-(Kt=Dt+tr)),Ra=.5411961*wr+ua,jn=1.306562965*Kt+ua,ti=.707106781*(_r=Ct+Dt),Zt=tr+ti,Da=tr-ti;rt[Ht+5]=Da+Ra,rt[Ht+3]=Da-Ra,rt[Ht+1]=Zt+jn,rt[Ht+7]=Zt-jn,Ht+=8}for(Ht=0,Tt=0;Tt<8;++Tt){it=rt[Ht],ar=rt[Ht+8],ir=rt[Ht+16],vr=rt[Ht+24],Br=rt[Ht+32],lr=rt[Ht+40],Ur=rt[Ht+48];var ao=it+(Nr=rt[Ht+56]),Ta=it-Nr,Ei=ar+Ur,zr=ar-Ur,Cn=ir+lr,hn=ir-lr,Ot=vr+Br,xa=vr-Br,pn=ao+Ot,Hr=ao-Ot,fa=Ei+Cn,pi=Ei-Cn;rt[Ht]=pn+fa,rt[Ht+32]=pn-fa;var Ni=.707106781*(pi+Hr);rt[Ht+16]=Hr+Ni,rt[Ht+48]=Hr-Ni;var mi=.382683433*((pn=xa+hn)-(pi=zr+Ta)),Us=.5411961*pn+mi,zs=1.306562965*pi+mi,ri=.707106781*(fa=hn+zr),kn=Ta+ri,Xr=Ta-ri;rt[Ht+40]=Xr+Us,rt[Ht+24]=Xr-Us,rt[Ht+8]=kn+zs,rt[Ht+56]=kn-zs,Ht++}for(Tt=0;Tt<64;++Tt)Tr=rt[Tt]*er[Tt],y[Tt]=Tr>0?Tr+.5|0:Tr-.5|0;return y})(Y,le),Je=0;Je<64;++Je)E[$[Je]]=Ge[Je];var qe=E[0]-me;me=E[0],qe==0?he(Ce[0]):(he(Ce[x[Me=32767+qe]]),he(g[Me]));for(var lt=63;lt>0&&E[lt]==0;)lt--;if(lt==0)return he(ze),me;for(var yt,ye=1;ye<=lt;){for(var wt=ye;E[ye]==0&&ye<=lt;)++ye;var Rt=ye-wt;if(Rt>=16){yt=Rt>>4;for(var _t=1;_t<=yt;++_t)he(Te);Rt&=15}Me=32767+E[ye],he(we[(Rt<<4)+x[Me]]),he(g[Me]),ye++}return lt!=63&&he(ze),me}function oe(Y){Y=Math.min(Math.max(Y,1),100),i!=Y&&((function(le){for(var me=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ce=0;Ce<64;Ce++){var we=o((me[Ce]*le+50)/100);we=Math.min(Math.max(we,1),255),u[$[Ce]]=we}for(var Me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ze=0;ze<64;ze++){var Te=o((Me[ze]*le+50)/100);Te=Math.min(Math.max(Te,1),255),d[$[ze]]=Te}for(var Ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Je=0,qe=0;qe<8;qe++)for(var lt=0;lt<8;lt++)c[Je]=1/(u[$[Je]]*Ge[qe]*Ge[lt]*8),h[Je]=1/(d[$[Je]]*Ge[qe]*Ge[lt]*8),Je++})(Y<50?Math.floor(5e3/Y):Math.floor(200-2*Y)),i=Y)}this.encode=function(Y,le){le&&oe(le),N=new Array,T=0,j=7,pe(65496),pe(65504),pe(16),Se(74),Se(70),Se(73),Se(70),Se(0),Se(1),Se(1),Se(0),pe(1),pe(1),Se(0),Se(0),(function(){pe(65499),pe(132),Se(0);for(var ar=0;ar<64;ar++)Se(u[ar]);Se(1);for(var ir=0;ir<64;ir++)Se(d[ir])})(),(function(ar,ir){pe(65472),pe(17),Se(8),pe(ir),pe(ar),Se(3),Se(1),Se(17),Se(0),Se(2),Se(17),Se(1),Se(3),Se(17),Se(1)})(Y.width,Y.height),(function(){pe(65476),pe(418),Se(0);for(var ar=0;ar<16;ar++)Se(Q[ar+1]);for(var ir=0;ir<=11;ir++)Se(q[ir]);Se(16);for(var vr=0;vr<16;vr++)Se(se[vr+1]);for(var Br=0;Br<=161;Br++)Se(H[Br]);Se(1);for(var lr=0;lr<16;lr++)Se(G[lr+1]);for(var Ur=0;Ur<=11;Ur++)Se(ue[Ur]);Se(17);for(var Nr=0;Nr<16;Nr++)Se(J[Nr+1]);for(var Tt=0;Tt<=161;Tt++)Se(ae[Tt])})(),pe(65498),pe(12),Se(3),Se(1),Se(0),Se(2),Se(17),Se(3),Se(17),Se(0),Se(63),Se(0);var me=0,Ce=0,we=0;T=0,j=7,this.encode.displayName="_encode_";for(var Me,ze,Te,Ge,Je,qe,lt,yt,ye,wt=Y.data,Rt=Y.width,_t=Y.height,rt=4*Rt,er=0;er<_t;){for(Me=0;Me<rt;){for(Je=rt*er+Me,lt=-1,yt=0,ye=0;ye<64;ye++)qe=Je+(yt=ye>>3)*rt+(lt=4*(7&ye)),er+yt>=_t&&(qe-=rt*(er+1+yt-_t)),Me+lt>=rt&&(qe-=Me+lt-rt+4),ze=wt[qe++],Te=wt[qe++],Ge=wt[qe++],D[ye]=(X[ze]+X[Te+256|0]+X[Ge+512|0]>>16)-128,F[ye]=(X[ze+768|0]+X[Te+1024|0]+X[Ge+1280|0]>>16)-128,U[ye]=(X[ze+1280|0]+X[Te+1536|0]+X[Ge+1792|0]>>16)-128;me=be(D,c,me,t,n),Ce=be(F,h,Ce,r,a),we=be(U,h,we,r,a),Me+=32}er+=8}if(j>=0){var it=[];it[1]=j+1,it[0]=(1<<j+1)-1,he(it)}return pe(65497),new Uint8Array(N)},e=e||50,(function(){for(var Y=String.fromCharCode,le=0;le<256;le++)Z[le]=Y(le)})(),t=re(Q,q),r=re(G,ue),n=re(se,H),a=re(J,ae),(function(){for(var Y=1,le=2,me=1;me<=15;me++){for(var Ce=Y;Ce<le;Ce++)x[32767+Ce]=me,g[32767+Ce]=[],g[32767+Ce][1]=me,g[32767+Ce][0]=Ce;for(var we=-(le-1);we<=-Y;we++)x[32767+we]=me,g[32767+we]=[],g[32767+we][1]=me,g[32767+we][0]=le-1+we;Y<<=1,le<<=1}})(),(function(){for(var Y=0;Y<256;Y++)X[Y]=19595*Y,X[Y+256|0]=38470*Y,X[Y+512|0]=7471*Y+32768,X[Y+768|0]=-11059*Y,X[Y+1024|0]=-21709*Y,X[Y+1280|0]=32768*Y+8421375,X[Y+1536|0]=-27439*Y,X[Y+1792|0]=-5329*Y})(),oe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Vl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function PI(e){function t(q){if(!q)throw Error("assert :P")}function r(q,se,H){for(var G=0;4>G;G++)if(q[se+G]!=H.charCodeAt(G))return!0;return!1}function n(q,se,H,G,ue){for(var J=0;J<ue;J++)q[se+J]=H[G+J]}function a(q,se,H,G){for(var ue=0;ue<G;ue++)q[se+ue]=H}function i(q){return new Int32Array(q)}function o(q,se){for(var H=[],G=0;G<q;G++)H.push(new se);return H}function u(q,se){var H=[];return(function G(ue,J,ae){for(var re=ae[J],he=0;he<re&&(ue.push(ae.length>J+1?[]:new se),!(ae.length<J+1));he++)G(ue[he],J+1,ae)})(H,0,q),H}var d=function(){var q=this;function se(C,I){for(var z=1<<I-1>>>0;C&z;)z>>>=1;return z?(C&z-1)+z:C}function H(C,I,z,V,ie){t(!(V%z));do C[I+(V-=z)]=ie;while(0<V)}function G(C,I,z,V,ie){if(t(2328>=ie),512>=ie)var fe=i(512);else if((fe=i(ie))==null)return 0;return(function(de,ve,xe,Oe,Re,Ve){var Ne,Le,He=ve,st=1<<xe,We=i(16),at=i(16);for(t(Re!=0),t(Oe!=null),t(de!=null),t(0<xe),Le=0;Le<Re;++Le){if(15<Oe[Le])return 0;++We[Oe[Le]]}if(We[0]==Re)return 0;for(at[1]=0,Ne=1;15>Ne;++Ne){if(We[Ne]>1<<Ne)return 0;at[Ne+1]=at[Ne]+We[Ne]}for(Le=0;Le<Re;++Le)Ne=Oe[Le],0<Oe[Le]&&(Ve[at[Ne]++]=Le);if(at[15]==1)return(Oe=new ue).g=0,Oe.value=Ve[0],H(de,He,1,st,Oe),st;var ht,xt=-1,vt=st-1,Gt=0,It=1,kr=1,Ut=1<<xe;for(Le=0,Ne=1,Re=2;Ne<=xe;++Ne,Re<<=1){if(It+=kr<<=1,0>(kr-=We[Ne]))return 0;for(;0<We[Ne];--We[Ne])(Oe=new ue).g=Ne,Oe.value=Ve[Le++],H(de,He+Gt,Re,Ut,Oe),Gt=se(Gt,Ne)}for(Ne=xe+1,Re=2;15>=Ne;++Ne,Re<<=1){if(It+=kr<<=1,0>(kr-=We[Ne]))return 0;for(;0<We[Ne];--We[Ne]){if(Oe=new ue,(Gt&vt)!=xt){for(He+=Ut,ht=1<<(xt=Ne)-xe;15>xt&&!(0>=(ht-=We[xt]));)++xt,ht<<=1;st+=Ut=1<<(ht=xt-xe),de[ve+(xt=Gt&vt)].g=ht+xe,de[ve+xt].value=He-ve-xt}Oe.g=Ne-xe,Oe.value=Ve[Le++],H(de,He+(Gt>>xe),Re,Ut,Oe),Gt=se(Gt,Ne)}}return It!=2*at[15]-1?0:st})(C,I,z,V,ie,fe)}function ue(){this.value=this.g=0}function J(){this.value=this.g=0}function ae(){this.G=o(5,ue),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ii,J)}function re(C,I,z,V){t(C!=null),t(I!=null),t(2147483648>V),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=I,C.pa=z,C.Jd=I,C.Yc=z+V,C.Zc=4<=V?z+V-4+1:z,ze(C)}function he(C,I){for(var z=0;0<I--;)z|=Ge(C,128)<<I;return z}function Se(C,I){var z=he(C,I);return Te(C)?-z:z}function pe(C,I,z,V){var ie,fe=0;for(t(C!=null),t(I!=null),t(4294967288>V),C.Sb=V,C.Ra=0,C.u=0,C.h=0,4<V&&(V=4),ie=0;ie<V;++ie)fe+=I[z+ie]<<8*ie;C.Ra=fe,C.bb=V,C.oa=I,C.pa=z}function be(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<Xi-8>>>0,++C.bb,C.u-=8;Ce(C)&&(C.h=1,C.u=0)}function oe(C,I){if(t(0<=I),!C.h&&I<=si){var z=me(C)&Yi[I];return C.u+=I,be(C),z}return C.h=1,C.u=0}function Y(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function le(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function me(C){return C.Ra>>>(C.u&Xi-1)>>>0}function Ce(C){return t(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>Xi}function we(C,I){C.u=I,C.h=Ce(C)}function Me(C){C.u>=Mr&&(t(C.u>=Mr),be(C))}function ze(C){t(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(t(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function Te(C){return he(C,1)}function Ge(C,I){var z=C.Ca;0>C.b&&ze(C);var V=C.b,ie=z*I>>>8,fe=(C.I>>>V>ie)+0;for(fe?(z-=ie,C.I-=ie+1<<V>>>0):z=ie+1,V=z,ie=0;256<=V;)ie+=8,V>>=8;return V=7^ie+js[V],C.b-=V,C.Ca=(z<<V)-1,fe}function Je(C,I,z){C[I+0]=z>>24&255,C[I+1]=z>>16&255,C[I+2]=z>>8&255,C[I+3]=255&z}function qe(C,I){return C[I+0]|C[I+1]<<8}function lt(C,I){return qe(C,I)|C[I+2]<<16}function yt(C,I){return qe(C,I)|qe(C,I+2)<<16}function ye(C,I){var z=1<<I;return t(C!=null),t(0<I),C.X=i(z),C.X==null?0:(C.Mb=32-I,C.Xa=I,1)}function wt(C,I){t(C!=null),t(I!=null),t(C.Xa==I.Xa),n(I.X,0,C.X,0,1<<I.Xa)}function Rt(){this.X=[],this.Xa=this.Mb=0}function _t(C,I,z,V){t(z!=null),t(V!=null);var ie=z[0],fe=V[0];return ie==0&&(ie=(C*fe+I/2)/I),fe==0&&(fe=(I*ie+C/2)/C),0>=ie||0>=fe?0:(z[0]=ie,V[0]=fe,1)}function rt(C,I){return C+(1<<I)-1>>>I}function er(C,I){return((4278255360&C)+(4278255360&I)>>>0&4278255360)+((16711935&C)+(16711935&I)>>>0&16711935)>>>0}function it(C,I){q[I]=function(z,V,ie,fe,de,ve,xe){var Oe;for(Oe=0;Oe<de;++Oe){var Re=q[C](ve[xe+Oe-1],ie,fe+Oe);ve[xe+Oe]=er(z[V+Oe],Re)}}}function ar(){this.ud=this.hd=this.jd=0}function ir(C,I){return((4278124286&(C^I))>>>1)+(C&I)>>>0}function vr(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function Br(C,I){return vr(C+(C-I+.5>>1))}function lr(C,I,z){return Math.abs(I-z)-Math.abs(C-z)}function Ur(C,I,z,V,ie,fe,de){for(V=fe[de-1],z=0;z<ie;++z)fe[de+z]=V=er(C[I+z],V)}function Nr(C,I,z,V,ie){var fe;for(fe=0;fe<z;++fe){var de=C[I+fe],ve=de>>8&255,xe=16711935&(xe=(xe=16711935&de)+((ve<<16)+ve));V[ie+fe]=(4278255360&de)+xe>>>0}}function Tt(C,I){I.jd=255&C,I.hd=C>>8&255,I.ud=C>>16&255}function Tr(C,I,z,V,ie,fe){var de;for(de=0;de<V;++de){var ve=I[z+de],xe=ve>>>8,Oe=ve,Re=255&(Re=(Re=ve>>>16)+((C.jd<<24>>24)*(xe<<24>>24)>>>5));Oe=255&(Oe=(Oe+=(C.hd<<24>>24)*(xe<<24>>24)>>>5)+((C.ud<<24>>24)*(Re<<24>>24)>>>5)),ie[fe+de]=(4278255360&ve)+(Re<<16)+Oe}}function Ht(C,I,z,V,ie){q[I]=function(fe,de,ve,xe,Oe,Re,Ve,Ne,Le){for(xe=Ve;xe<Ne;++xe)for(Ve=0;Ve<Le;++Ve)Oe[Re++]=ie(ve[V(fe[de++])])},q[C]=function(fe,de,ve,xe,Oe,Re,Ve){var Ne=8>>fe.b,Le=fe.Ea,He=fe.K[0],st=fe.w;if(8>Ne)for(fe=(1<<fe.b)-1,st=(1<<Ne)-1;de<ve;++de){var We,at=0;for(We=0;We<Le;++We)We&fe||(at=V(xe[Oe++])),Re[Ve++]=ie(He[at&st]),at>>=Ne}else q["VP8LMapColor"+z](xe,Oe,He,st,Re,Ve,de,ve,Le)}}function ca(C,I,z,V,ie){for(z=I+z;I<z;){var fe=C[I++];V[ie++]=fe>>16&255,V[ie++]=fe>>8&255,V[ie++]=255&fe}}function tr(C,I,z,V,ie){for(z=I+z;I<z;){var fe=C[I++];V[ie++]=fe>>16&255,V[ie++]=fe>>8&255,V[ie++]=255&fe,V[ie++]=fe>>24&255}}function nt(C,I,z,V,ie){for(z=I+z;I<z;){var fe=(de=C[I++])>>16&240|de>>12&15,de=240&de|de>>28&15;V[ie++]=fe,V[ie++]=de}}function Dt(C,I,z,V,ie){for(z=I+z;I<z;){var fe=(de=C[I++])>>16&248|de>>13&7,de=de>>5&224|de>>3&31;V[ie++]=fe,V[ie++]=de}}function Ft(C,I,z,V,ie){for(z=I+z;I<z;){var fe=C[I++];V[ie++]=255&fe,V[ie++]=fe>>8&255,V[ie++]=fe>>16&255}}function Ct(C,I,z,V,ie,fe){if(fe==0)for(z=I+z;I<z;)Je(V,((fe=C[I++])[0]>>24|fe[1]>>8&65280|fe[2]<<8&16711680|fe[3]<<24)>>>0),ie+=32;else n(V,ie,C,I,z)}function cn(C,I){q[I][0]=q[C+"0"],q[I][1]=q[C+"1"],q[I][2]=q[C+"2"],q[I][3]=q[C+"3"],q[I][4]=q[C+"4"],q[I][5]=q[C+"5"],q[I][6]=q[C+"6"],q[I][7]=q[C+"7"],q[I][8]=q[C+"8"],q[I][9]=q[C+"9"],q[I][10]=q[C+"10"],q[I][11]=q[C+"11"],q[I][12]=q[C+"12"],q[I][13]=q[C+"13"],q[I][14]=q[C+"0"],q[I][15]=q[C+"0"]}function hr(C){return C==Kf||C==nh||C==Yu||C==ah}function wr(){this.eb=[],this.size=this.A=this.fb=0}function Xt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function _r(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new wr,this.f.kb=new Xt,this.sd=null}function Kt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Yr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ua(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function Ra(C,I){var z=C.T,V=I.ba.f.RGBA,ie=V.eb,fe=V.fb+C.ka*V.A,de=Ii[I.ba.S],ve=C.y,xe=C.O,Oe=C.f,Re=C.N,Ve=C.ea,Ne=C.W,Le=I.cc,He=I.dc,st=I.Mc,We=I.Nc,at=C.ka,ht=C.ka+C.T,xt=C.U,vt=xt+1>>1;for(at==0?de(ve,xe,null,null,Oe,Re,Ve,Ne,Oe,Re,Ve,Ne,ie,fe,null,null,xt):(de(I.ec,I.fc,ve,xe,Le,He,st,We,Oe,Re,Ve,Ne,ie,fe-V.A,ie,fe,xt),++z);at+2<ht;at+=2)Le=Oe,He=Re,st=Ve,We=Ne,Re+=C.Rc,Ne+=C.Rc,fe+=2*V.A,de(ve,(xe+=2*C.fa)-C.fa,ve,xe,Le,He,st,We,Oe,Re,Ve,Ne,ie,fe-V.A,ie,fe,xt);return xe+=C.fa,C.j+ht<C.o?(n(I.ec,I.fc,ve,xe,xt),n(I.cc,I.dc,Oe,Re,vt),n(I.Mc,I.Nc,Ve,Ne,vt),z--):1&ht||de(ve,xe,null,null,Oe,Re,Ve,Ne,Oe,Re,Ve,Ne,ie,fe+V.A,null,null,xt),z}function jn(C,I,z){var V=C.F,ie=[C.J];if(V!=null){var fe=C.U,de=I.ba.S,ve=de==Xf||de==Yu;I=I.ba.f.RGBA;var xe=[0],Oe=C.ka;xe[0]=C.T,C.Kb&&(Oe==0?--xe[0]:(--Oe,ie[0]-=C.width),C.j+C.ka+C.T==C.o&&(xe[0]=C.o-C.j-Oe));var Re=I.eb;Oe=I.fb+Oe*I.A,C=$f(V,ie[0],C.width,fe,xe,Re,Oe+(ve?0:3),I.A),t(z==xe),C&&hr(de)&&Ll(Re,Oe,ve,fe,xe,I.A)}return 0}function ti(C){var I=C.ma,z=I.ba.S,V=11>z,ie=z==Qi||z==mo||z==Xf||z==Vu||z==12||hr(z);if(I.memory=null,I.Ib=null,I.Jb=null,I.Nd=null,!Xs(I.Oa,C,ie?11:12))return 0;if(ie&&hr(z)&&Pl(),C.da)alert("todo:use_scaling");else{if(V){if(I.Ib=ua,C.Kb){if(z=C.U+1>>1,I.memory=i(C.U+2*z),I.memory==null)return 0;I.ec=I.memory,I.fc=0,I.cc=I.ec,I.dc=I.fc+C.U,I.Mc=I.cc,I.Nc=I.dc+z,I.Ib=Ra,Pl()}}else alert("todo:EmitYUV");ie&&(I.Jb=jn,V&&Vs())}if(V&&!xc){for(C=0;256>C;++C)Mi[C]=89858*(C-128)+Zu>>wo,Z2[C]=-22014*(C-128)+Zu,sm[C]=-45773*(C-128),ch[C]=113618*(C-128)+Zu>>wo;for(C=eu;C<yc;++C)I=76283*(C-16)+Zu>>wo,Q2[C-eu]=Ci(I,255),J2[C-eu]=Ci(I+8>>4,15);xc=1}return 1}function Zt(C){var I=C.ma,z=C.U,V=C.T;return t(!(1&C.ka)),0>=z||0>=V?0:(z=I.Ib(C,I),I.Jb!=null&&I.Jb(C,I,z),I.Dc+=z,1)}function Da(C){C.ma.memory=null}function ao(C,I,z,V){return oe(C,8)!=47?0:(I[0]=oe(C,14)+1,z[0]=oe(C,14)+1,V[0]=oe(C,1),oe(C,3)!=0?0:!C.h)}function Ta(C,I){if(4>C)return C+1;var z=C-2>>1;return(2+(1&C)<<z)+oe(I,z)+1}function Ei(C,I){return 120<I?I-120:1<=(z=((z=vo[I-1])>>4)*C+(8-(15&z)))?z:1;var z}function zr(C,I,z){var V=me(z),ie=C[I+=255&V].g-8;return 0<ie&&(we(z,z.u+8),V=me(z),I+=C[I].value,I+=V&(1<<ie)-1),we(z,z.u+C[I].g),C[I].value}function Cn(C,I,z){return z.g+=C.g,z.value+=C.value<<I>>>0,t(8>=z.g),C.g}function hn(C,I,z){var V=C.xc;return t((I=V==0?0:C.vc[C.md*(z>>V)+(I>>V)])<C.Wb),C.Ya[I]}function Ot(C,I,z,V){var ie=C.ab,fe=C.c*I,de=C.C;I=de+I;var ve=z,xe=V;for(V=C.Ta,z=C.Ua;0<ie--;){var Oe=C.gc[ie],Re=de,Ve=I,Ne=ve,Le=xe,He=(xe=V,ve=z,Oe.Ea);switch(t(Re<Ve),t(Ve<=Oe.nc),Oe.hc){case 2:p(Ne,Le,(Ve-Re)*He,xe,ve);break;case 0:var st=Re,We=Ve,at=xe,ht=ve,xt=(Ut=Oe).Ea;st==0&&(ee(Ne,Le,null,null,1,at,ht),Ur(Ne,Le+1,0,0,xt-1,at,ht+1),Le+=xt,ht+=xt,++st);for(var vt=1<<Ut.b,Gt=vt-1,It=rt(xt,Ut.b),kr=Ut.K,Ut=Ut.w+(st>>Ut.b)*It;st<We;){var Zr=kr,Qn=Ut,Pr=1;for(l(Ne,Le,at,ht-xt,1,at,ht);Pr<xt;){var Mt=(Pr&~Gt)+vt;Mt>xt&&(Mt=xt),(0,O[Zr[Qn++]>>8&15])(Ne,Le+ +Pr,at,ht+Pr-xt,Mt-Pr,at,ht+Pr),Pr=Mt}Le+=xt,ht+=xt,++st&Gt||(Ut+=It)}Ve!=Oe.nc&&n(xe,ve-He,xe,ve+(Ve-Re-1)*He,He);break;case 1:for(He=Ne,We=Le,xt=(Ne=Oe.Ea)-(ht=Ne&~(at=(Le=1<<Oe.b)-1)),st=rt(Ne,Oe.b),vt=Oe.K,Oe=Oe.w+(Re>>Oe.b)*st;Re<Ve;){for(Gt=vt,It=Oe,kr=new ar,Ut=We+ht,Zr=We+Ne;We<Ut;)Tt(Gt[It++],kr),M(kr,He,We,Le,xe,ve),We+=Le,ve+=Le;We<Zr&&(Tt(Gt[It++],kr),M(kr,He,We,xt,xe,ve),We+=xt,ve+=xt),++Re&at||(Oe+=st)}break;case 3:if(Ne==xe&&Le==ve&&0<Oe.b){for(We=xe,Ne=He=ve+(Ve-Re)*He-(ht=(Ve-Re)*rt(Oe.Ea,Oe.b)),Le=xe,at=ve,st=[],ht=(xt=ht)-1;0<=ht;--ht)st[ht]=Le[at+ht];for(ht=xt-1;0<=ht;--ht)We[Ne+ht]=st[ht];m(Oe,Re,Ve,xe,He,xe,ve)}else m(Oe,Re,Ve,Ne,Le,xe,ve)}ve=V,xe=z}xe!=z&&n(V,z,ve,xe,fe)}function xa(C,I){var z=C.V,V=C.Ba+C.c*C.C,ie=I-C.C;if(t(I<=C.l.o),t(16>=ie),0<ie){var fe=C.l,de=C.Ta,ve=C.Ua,xe=fe.width;if(Ot(C,ie,z,V),ie=ve=[ve],t((z=C.C)<(V=I)),t(fe.v<fe.va),V>fe.o&&(V=fe.o),z<fe.j){var Oe=fe.j-z;z=fe.j,ie[0]+=Oe*xe}if(z>=V?z=0:(ie[0]+=4*fe.v,fe.ka=z-fe.j,fe.U=fe.va-fe.v,fe.T=V-z,z=1),z){if(ve=ve[0],11>(z=C.ca).S){var Re=z.f.RGBA,Ve=(V=z.S,ie=fe.U,fe=fe.T,Oe=Re.eb,Re.A),Ne=fe;for(Re=Re.fb+C.Ma*Re.A;0<Ne--;){var Le=de,He=ve,st=ie,We=Oe,at=Re;switch(V){case th:B(Le,He,st,We,at);break;case Qi:W(Le,He,st,We,at);break;case Kf:W(Le,He,st,We,at),Ll(We,at,0,st,1,0);break;case rh:Ae(Le,He,st,We,at);break;case mo:Ct(Le,He,st,We,at,1);break;case nh:Ct(Le,He,st,We,at,1),Ll(We,at,0,st,1,0);break;case Xf:Ct(Le,He,st,We,at,0);break;case Yu:Ct(Le,He,st,We,at,0),Ll(We,at,1,st,1,0);break;case Vu:te(Le,He,st,We,at);break;case ah:te(Le,He,st,We,at),po(We,at,st,1,0);break;case pc:ce(Le,He,st,We,at);break;default:t(0)}ve+=xe,Re+=Ve}C.Ma+=fe}else alert("todo:EmitRescaledRowsYUVA");t(C.Ma<=z.height)}}C.C=I,t(C.C<=C.i)}function pn(C){var I;if(0<C.ua)return 0;for(I=0;I<C.Wb;++I){var z=C.Ya[I].G,V=C.Ya[I].H;if(0<z[1][V[1]+0].g||0<z[2][V[2]+0].g||0<z[3][V[3]+0].g)return 0}return 1}function Hr(C,I,z,V,ie,fe){if(C.Z!=0){var de=C.qd,ve=C.rd;for(t(Fl[C.Z]!=null);I<z;++I)Fl[C.Z](de,ve,V,ie,V,ie,fe),de=V,ve=ie,ie+=fe;C.qd=de,C.rd=ve}}function fa(C,I){var z=C.l.ma,V=z.Z==0||z.Z==1?C.l.j:C.C;if(V=C.C<V?V:C.C,t(I<=C.l.o),I>V){var ie=C.l.width,fe=z.ca,de=z.tb+ie*V,ve=C.V,xe=C.Ba+C.c*V,Oe=C.gc;t(C.ab==1),t(Oe[0].hc==3),_(Oe[0],V,I,ve,xe,fe,de),Hr(z,V,I,fe,de,ie)}C.C=C.Ma=I}function pi(C,I,z,V,ie,fe,de){var ve=C.$/V,xe=C.$%V,Oe=C.m,Re=C.s,Ve=z+C.$,Ne=Ve;ie=z+V*ie;var Le=z+V*fe,He=280+Re.ua,st=C.Pb?ve:16777216,We=0<Re.ua?Re.Wa:null,at=Re.wc,ht=Ve<Le?hn(Re,xe,ve):null;t(C.C<fe),t(Le<=ie);var xt=!1;e:for(;;){for(;xt||Ve<Le;){var vt=0;if(ve>=st){var Gt=Ve-z;t((st=C).Pb),st.wd=st.m,st.xd=Gt,0<st.s.ua&&wt(st.s.Wa,st.s.vb),st=ve+mc}if(xe&at||(ht=hn(Re,xe,ve)),t(ht!=null),ht.Qb&&(I[Ve]=ht.qb,xt=!0),!xt)if(Me(Oe),ht.jc){vt=Oe,Gt=I;var It=Ve,kr=ht.pd[me(vt)&ii-1];t(ht.jc),256>kr.g?(we(vt,vt.u+kr.g),Gt[It]=kr.value,vt=0):(we(vt,vt.u+kr.g-256),t(256<=kr.value),vt=kr.value),vt==0&&(xt=!0)}else vt=zr(ht.G[0],ht.H[0],Oe);if(Oe.h)break;if(xt||256>vt){if(!xt)if(ht.nd)I[Ve]=(ht.qb|vt<<8)>>>0;else{if(Me(Oe),xt=zr(ht.G[1],ht.H[1],Oe),Me(Oe),Gt=zr(ht.G[2],ht.H[2],Oe),It=zr(ht.G[3],ht.H[3],Oe),Oe.h)break;I[Ve]=(It<<24|xt<<16|vt<<8|Gt)>>>0}if(xt=!1,++Ve,++xe>=V&&(xe=0,++ve,de!=null&&ve<=fe&&!(ve%16)&&de(C,ve),We!=null))for(;Ne<Ve;)vt=I[Ne++],We.X[(506832829*vt&4294967295)>>>We.Mb]=vt}else if(280>vt){if(vt=Ta(vt-256,Oe),Gt=zr(ht.G[4],ht.H[4],Oe),Me(Oe),Gt=Ei(V,Gt=Ta(Gt,Oe)),Oe.h)break;if(Ve-z<Gt||ie-Ve<vt)break e;for(It=0;It<vt;++It)I[Ve+It]=I[Ve+It-Gt];for(Ve+=vt,xe+=vt;xe>=V;)xe-=V,++ve,de!=null&&ve<=fe&&!(ve%16)&&de(C,ve);if(t(Ve<=ie),xe&at&&(ht=hn(Re,xe,ve)),We!=null)for(;Ne<Ve;)vt=I[Ne++],We.X[(506832829*vt&4294967295)>>>We.Mb]=vt}else{if(!(vt<He))break e;for(xt=vt-280,t(We!=null);Ne<Ve;)vt=I[Ne++],We.X[(506832829*vt&4294967295)>>>We.Mb]=vt;vt=Ve,t(!(xt>>>(Gt=We).Xa)),I[vt]=Gt.X[xt],xt=!0}xt||t(Oe.h==Ce(Oe))}if(C.Pb&&Oe.h&&Ve<ie)t(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&wt(C.s.vb,C.s.Wa);else{if(Oe.h)break e;de!=null&&de(C,ve>fe?fe:ve),C.a=0,C.$=Ve-z}return 1}return C.a=3,0}function Ni(C){t(C!=null),C.vc=null,C.yc=null,C.Ya=null;var I=C.Wa;I!=null&&(I.X=null),C.vb=null,t(C!=null)}function mi(){var C=new br;return C==null?null:(C.a=0,C.xb=G0,cn("Predictor","VP8LPredictors"),cn("Predictor","VP8LPredictors_C"),cn("PredictorAdd","VP8LPredictorsAdd"),cn("PredictorAdd","VP8LPredictorsAdd_C"),p=Nr,M=Tr,B=ca,W=tr,te=nt,ce=Dt,Ae=Ft,q.VP8LMapColor32b=w,q.VP8LMapColor8b=A,C)}function Us(C,I,z,V,ie){var fe=1,de=[C],ve=[I],xe=V.m,Oe=V.s,Re=null,Ve=0;e:for(;;){if(z)for(;fe&&oe(xe,1);){var Ne=de,Le=ve,He=V,st=1,We=He.m,at=He.gc[He.ab],ht=oe(We,2);if(He.Oc&1<<ht)fe=0;else{switch(He.Oc|=1<<ht,at.hc=ht,at.Ea=Ne[0],at.nc=Le[0],at.K=[null],++He.ab,t(4>=He.ab),ht){case 0:case 1:at.b=oe(We,3)+2,st=Us(rt(at.Ea,at.b),rt(at.nc,at.b),0,He,at.K),at.K=at.K[0];break;case 3:var xt,vt=oe(We,8)+1,Gt=16<vt?0:4<vt?1:2<vt?2:3;if(Ne[0]=rt(at.Ea,Gt),at.b=Gt,xt=st=Us(vt,1,0,He,at.K)){var It,kr=vt,Ut=at,Zr=1<<(8>>Ut.b),Qn=i(Zr);if(Qn==null)xt=0;else{var Pr=Ut.K[0],Mt=Ut.w;for(Qn[0]=Ut.K[0][0],It=1;It<1*kr;++It)Qn[It]=er(Pr[Mt+It],Qn[It-1]);for(;It<4*Zr;++It)Qn[It]=0;Ut.K[0]=null,Ut.K[0]=Qn,xt=1}}st=xt;break;case 2:break;default:t(0)}fe=st}}if(de=de[0],ve=ve[0],fe&&oe(xe,1)&&!(fe=1<=(Ve=oe(xe,4))&&11>=Ve)){V.a=3;break e}var St;if(St=fe)t:{var ha,xr,Lr,Sn=V,li=de,Pi=ve,Hn=Ve,Ua=z,Ji=Sn.m,za=Sn.s,$r=[null],un=1,pa=0,vn=bo[Hn];r:for(;;){if(Ua&&oe(Ji,1)){var ci=oe(Ji,3)+2,ma=rt(li,ci),fn=rt(Pi,ci),Ia=ma*fn;if(!Us(ma,fn,0,Sn,$r))break r;for($r=$r[0],za.xc=ci,ha=0;ha<Ia;++ha){var An=$r[ha]>>8&65535;$r[ha]=An,An>=un&&(un=An+1)}}if(Ji.h)break r;for(xr=0;5>xr;++xr){var qa=Qc[xr];!xr&&0<Hn&&(qa+=1<<Hn),pa<qa&&(pa=qa)}var Ha=o(un*vn,ue),Pn=un,on=o(Pn,ae);if(on==null)var es=null;else t(65536>=Pn),es=on;var _a=i(pa);if(es==null||_a==null||Ha==null){Sn.a=1;break r}var dr=Ha;for(ha=Lr=0;ha<un;++ha){var mr=es[ha],dn=mr.G,ks=mr.H,_o=0,ms=1,Ga=0;for(xr=0;5>xr;++xr){qa=Qc[xr],dn[xr]=dr,ks[xr]=Lr,!xr&&0<Hn&&(qa+=1<<Hn);a:{var wc,_c=qa,fh=Sn,Gn=_a,W0=dr,V0=Lr,dh=0,Ul=fh.m,ey=oe(Ul,1);if(a(Gn,0,0,_c),ey){var Y0=oe(Ul,1)+1,X0=oe(Ul,1),hh=oe(Ul,X0==0?1:8);Gn[hh]=1,Y0==2&&(Gn[hh=oe(Ul,8)]=1);var yi=1}else{var Sa=i(19),ed=oe(Ul,4)+4;if(19<ed){fh.a=3;var Sc=0;break a}for(wc=0;wc<ed;++wc)Sa[Zf[wc]]=oe(Ul,3);var Ju=void 0,tu=void 0,hl=fh,ph=Sa,ef=_c,mh=Gn,gh=0,zl=hl.m,K0=8,Z0=o(128,ue);n:for(;G(Z0,0,7,ph,19);){if(oe(zl,1)){var om=2+2*oe(zl,3);if((Ju=2+oe(zl,om))>ef)break n}else Ju=ef;for(tu=0;tu<ef&&Ju--;){Me(zl);var Q0=Z0[0+(127&me(zl))];we(zl,zl.u+Q0.g);var Ac=Q0.value;if(16>Ac)mh[tu++]=Ac,Ac!=0&&(K0=Ac);else{var lm=Ac==16,cm=Ac-16,um=Xu[cm],J0=oe(zl,go[cm])+um;if(tu+J0>ef)break n;for(var fm=lm?K0:0;0<J0--;)mh[tu++]=fm}}gh=1;break n}gh||(hl.a=3),yi=gh}(yi=yi&&!Ul.h)&&(dh=G(W0,V0,8,Gn,_c)),yi&&dh!=0?Sc=dh:(fh.a=3,Sc=0)}if(Sc==0)break r;if(ms&&ih[xr]==1&&(ms=dr[Lr].g==0),_o+=dr[Lr].g,Lr+=Sc,3>=xr){var ru,vh=_a[0];for(ru=1;ru<qa;++ru)_a[ru]>vh&&(vh=_a[ru]);Ga+=vh}}if(mr.nd=ms,mr.Qb=0,ms&&(mr.qb=(dn[3][ks[3]+0].value<<24|dn[1][ks[1]+0].value<<16|dn[2][ks[2]+0].value)>>>0,_o==0&&256>dn[0][ks[0]+0].value&&(mr.Qb=1,mr.qb+=dn[0][ks[0]+0].value<<8)),mr.jc=!mr.Qb&&6>Ga,mr.jc){var td,pl=mr;for(td=0;td<ii;++td){var ql=td,Hl=pl.pd[ql],bh=pl.G[0][pl.H[0]+ql];256<=bh.value?(Hl.g=bh.g+256,Hl.value=bh.value):(Hl.g=0,Hl.value=0,ql>>=Cn(bh,8,Hl),ql>>=Cn(pl.G[1][pl.H[1]+ql],16,Hl),ql>>=Cn(pl.G[2][pl.H[2]+ql],0,Hl),Cn(pl.G[3][pl.H[3]+ql],24,Hl))}}}za.vc=$r,za.Wb=un,za.Ya=es,za.yc=Ha,St=1;break t}St=0}if(!(fe=St)){V.a=3;break e}if(0<Ve){if(Oe.ua=1<<Ve,!ye(Oe.Wa,Ve)){V.a=1,fe=0;break e}}else Oe.ua=0;var yh=V,nu=de,dm=ve,tf=yh.s,rf=tf.xc;if(yh.c=nu,yh.i=dm,tf.md=rt(nu,rf),tf.wc=rf==0?-1:(1<<rf)-1,z){V.xb=gc;break e}if((Re=i(de*ve))==null){V.a=1,fe=0;break e}fe=(fe=pi(V,Re,0,de,ve,ve,null))&&!xe.h;break e}return fe?(ie!=null?ie[0]=Re:(t(Re==null),t(z)),V.$=0,z||Ni(Oe)):Ni(Oe),fe}function zs(C,I){var z=C.c*C.i,V=z+I+16*I;return t(C.c<=I),C.V=i(V),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+z+I,1)}function ri(C,I){var z=C.C,V=I-z,ie=C.V,fe=C.Ba+C.c*z;for(t(I<=C.l.o);0<V;){var de=16<V?16:V,ve=C.l.ma,xe=C.l.width,Oe=xe*de,Re=ve.ca,Ve=ve.tb+xe*z,Ne=C.Ta,Le=C.Ua;Ot(C,de,ie,fe),Ks(Ne,Le,Re,Ve,Oe),Hr(ve,z,z+de,Re,Ve,xe),V-=de,ie+=de*C.c,z+=de}t(z==I),C.C=C.Ma=I}function kn(){this.ub=this.yd=this.td=this.Rb=0}function Xr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function sl(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function ni(){this.Yb=(function(){var C=[];return(function I(z,V,ie){for(var fe=ie[V],de=0;de<fe&&(z.push(ie.length>V+1?[]:0),!(ie.length<V+1));de++)I(z[de],V+1,ie)})(C,0,[3,11]),C})()}function Yn(){this.jb=i(3),this.Wc=u([4,8],ni),this.Xc=u([4,17],ni)}function gt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function fs(){this.ld=this.La=this.dd=this.tc=0}function rn(){this.Na=this.la=0}function Hi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Yc(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Kr(){this.uc=this.M=this.Nb=0,this.wa=Array(new fs),this.Y=0,this.ya=Array(new Yc),this.aa=0,this.l=new qs}function Wr(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Fr(){this.cb=this.a=0,this.sc="",this.m=new Y,this.Od=new kn,this.Kc=new Xr,this.ed=new gt,this.Qa=new sl,this.Ic=this.$c=this.Aa=0,this.D=new Kr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Y),this.ia=0,this.pb=o(4,Hi),this.Pa=new Yn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Wr),this.Hd=0,this.rb=Array(new rn),this.sb=0,this.wa=Array(new fs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Yc),this.L=this.aa=0,this.gd=u([4,2],fs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ci(C,I){return 0>C?0:C>I?I:C}function qs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ds(){var C=new Fr;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,Zs||(Zs=bn)),C}function yr(C,I,z){return C.a==0&&(C.a=I,C.sc=z,C.cb=0),0}function Ss(C,I,z){return 3<=z&&C[I+0]==157&&C[I+1]==1&&C[I+2]==42}function io(C,I){if(C==null)return 0;if(C.a=0,C.sc="OK",I==null)return yr(C,2,"null VP8Io passed to VP8GetHeaders()");var z=I.data,V=I.w,ie=I.ha;if(4>ie)return yr(C,7,"Truncated header.");var fe=z[V+0]|z[V+1]<<8|z[V+2]<<16,de=C.Od;if(de.Rb=!(1&fe),de.td=fe>>1&7,de.yd=fe>>4&1,de.ub=fe>>5,3<de.td)return yr(C,3,"Incorrect keyframe parameters.");if(!de.yd)return yr(C,4,"Frame not displayable.");V+=3,ie-=3;var ve=C.Kc;if(de.Rb){if(7>ie)return yr(C,7,"cannot parse picture header");if(!Ss(z,V,ie))return yr(C,3,"Bad code word");ve.c=16383&(z[V+4]<<8|z[V+3]),ve.Td=z[V+4]>>6,ve.i=16383&(z[V+6]<<8|z[V+5]),ve.Ud=z[V+6]>>6,V+=7,ie-=7,C.za=ve.c+15>>4,C.Ub=ve.i+15>>4,I.width=ve.c,I.height=ve.i,I.Da=0,I.j=0,I.v=0,I.va=I.width,I.o=I.height,I.da=0,I.ib=I.width,I.hb=I.height,I.U=I.width,I.T=I.height,a((fe=C.Pa).jb,0,255,fe.jb.length),t((fe=C.Qa)!=null),fe.Cb=0,fe.Bb=0,fe.Fb=1,a(fe.Zb,0,0,fe.Zb.length),a(fe.Lb,0,0,fe.Lb)}if(de.ub>ie)return yr(C,7,"bad partition length");re(fe=C.m,z,V,de.ub),V+=de.ub,ie-=de.ub,de.Rb&&(ve.Ld=Te(fe),ve.Kd=Te(fe)),ve=C.Qa;var xe,Oe=C.Pa;if(t(fe!=null),t(ve!=null),ve.Cb=Te(fe),ve.Cb){if(ve.Bb=Te(fe),Te(fe)){for(ve.Fb=Te(fe),xe=0;4>xe;++xe)ve.Zb[xe]=Te(fe)?Se(fe,7):0;for(xe=0;4>xe;++xe)ve.Lb[xe]=Te(fe)?Se(fe,6):0}if(ve.Bb)for(xe=0;3>xe;++xe)Oe.jb[xe]=Te(fe)?he(fe,8):255}else ve.Bb=0;if(fe.Ka)return yr(C,3,"cannot parse segment header");if((ve=C.ed).zd=Te(fe),ve.Tb=he(fe,6),ve.wb=he(fe,3),ve.Pc=Te(fe),ve.Pc&&Te(fe)){for(Oe=0;4>Oe;++Oe)Te(fe)&&(ve.vd[Oe]=Se(fe,6));for(Oe=0;4>Oe;++Oe)Te(fe)&&(ve.od[Oe]=Se(fe,6))}if(C.L=ve.Tb==0?0:ve.zd?1:2,fe.Ka)return yr(C,3,"cannot parse filter header");var Re=ie;if(ie=xe=V,V=xe+Re,ve=Re,C.Xb=(1<<he(C.m,2))-1,Re<3*(Oe=C.Xb))z=7;else{for(xe+=3*Oe,ve-=3*Oe,Re=0;Re<Oe;++Re){var Ve=z[ie+0]|z[ie+1]<<8|z[ie+2]<<16;Ve>ve&&(Ve=ve),re(C.Jc[+Re],z,xe,Ve),xe+=Ve,ve-=Ve,ie+=3}re(C.Jc[+Oe],z,xe,ve),z=xe<V?0:5}if(z!=0)return yr(C,z,"cannot parse partitions");for(z=he(xe=C.m,7),ie=Te(xe)?Se(xe,4):0,V=Te(xe)?Se(xe,4):0,ve=Te(xe)?Se(xe,4):0,Oe=Te(xe)?Se(xe,4):0,xe=Te(xe)?Se(xe,4):0,Re=C.Qa,Ve=0;4>Ve;++Ve){if(Re.Cb){var Ne=Re.Zb[Ve];Re.Fb||(Ne+=z)}else{if(0<Ve){C.pb[Ve]=C.pb[0];continue}Ne=z}var Le=C.pb[Ve];Le.Sc[0]=yo[Ci(Ne+ie,127)],Le.Sc[1]=xo[Ci(Ne+0,127)],Le.Eb[0]=2*yo[Ci(Ne+V,127)],Le.Eb[1]=101581*xo[Ci(Ne+ve,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=yo[Ci(Ne+Oe,117)],Le.Qc[1]=xo[Ci(Ne+xe,127)],Le.lc=Ne+xe}if(!de.Rb)return yr(C,4,"Not a key frame.");for(Te(fe),de=C.Pa,z=0;4>z;++z){for(ie=0;8>ie;++ie)for(V=0;3>V;++V)for(ve=0;11>ve;++ve)Oe=Ge(fe,Zn[z][ie][V][ve])?he(fe,8):im[z][ie][V][ve],de.Wc[z][ie].Yb[V][ve]=Oe;for(ie=0;17>ie;++ie)de.Xc[z][ie]=de.Wc[z][Jr[ie]]}return C.kc=Te(fe),C.kc&&(C.Bd=he(fe,8)),C.cb=1}function bn(C,I,z,V,ie,fe,de){var ve=I[ie].Yb[z];for(z=0;16>ie;++ie){if(!Ge(C,ve[z+0]))return ie;for(;!Ge(C,ve[z+1]);)if(ve=I[++ie].Yb[0],z=0,ie==16)return 16;var xe=I[ie+1].Yb;if(Ge(C,ve[z+2])){var Oe=C,Re=0;if(Ge(Oe,(Ne=ve)[(Ve=z)+3]))if(Ge(Oe,Ne[Ve+6])){for(ve=0,Ve=2*(Re=Ge(Oe,Ne[Ve+8]))+(Ne=Ge(Oe,Ne[Ve+9+Re])),Re=0,Ne=am[Ve];Ne[ve];++ve)Re+=Re+Ge(Oe,Ne[ve]);Re+=3+(8<<Ve)}else Ge(Oe,Ne[Ve+7])?(Re=7+2*Ge(Oe,165),Re+=Ge(Oe,145)):Re=5+Ge(Oe,159);else Re=Ge(Oe,Ne[Ve+4])?3+Ge(Oe,Ne[Ve+5]):2;ve=xe[2]}else Re=1,ve=xe[1];xe=de+H0[ie],0>(Oe=C).b&&ze(Oe);var Ve,Ne=Oe.b,Le=(Ve=Oe.Ca>>1)-(Oe.I>>Ne)>>31;--Oe.b,Oe.Ca+=Le,Oe.Ca|=1,Oe.I-=(Ve+1&Le)<<Ne,fe[xe]=((Re^Le)-Le)*V[(0<ie)+0]}return 16}function As(C){var I=C.rb[C.sb-1];I.la=0,I.Na=0,a(C.zc,0,0,C.zc.length),C.ja=0}function Oi(C,I,z,V,ie){ie=C[I+z+32*V]+(ie>>3),C[I+z+32*V]=-256&ie?0>ie?0:255:ie}function zn(C,I,z,V,ie,fe){Oi(C,I,0,z,V+ie),Oi(C,I,1,z,V+fe),Oi(C,I,2,z,V-fe),Oi(C,I,3,z,V-ie)}function Or(C){return(20091*C>>16)+C}function da(C,I,z,V){var ie,fe=0,de=i(16);for(ie=0;4>ie;++ie){var ve=C[I+0]+C[I+8],xe=C[I+0]-C[I+8],Oe=(35468*C[I+4]>>16)-Or(C[I+12]),Re=Or(C[I+4])+(35468*C[I+12]>>16);de[fe+0]=ve+Re,de[fe+1]=xe+Oe,de[fe+2]=xe-Oe,de[fe+3]=ve-Re,fe+=4,I++}for(ie=fe=0;4>ie;++ie)ve=(C=de[fe+0]+4)+de[fe+8],xe=C-de[fe+8],Oe=(35468*de[fe+4]>>16)-Or(de[fe+12]),Oi(z,V,0,0,ve+(Re=Or(de[fe+4])+(35468*de[fe+12]>>16))),Oi(z,V,1,0,xe+Oe),Oi(z,V,2,0,xe-Oe),Oi(z,V,3,0,ve-Re),fe++,V+=32}function $e(C,I,z,V){var ie=C[I+0]+4,fe=35468*C[I+4]>>16,de=Or(C[I+4]),ve=35468*C[I+1]>>16;zn(z,V,0,ie+de,C=Or(C[I+1]),ve),zn(z,V,1,ie+fe,C,ve),zn(z,V,2,ie-fe,C,ve),zn(z,V,3,ie-de,C,ve)}function _e(C,I,z,V,ie){da(C,I,z,V),ie&&da(C,I+16,z,V+4)}function jt(C,I,z,V){Pe(C,I+0,z,V,1),Pe(C,I+32,z,V+128,1)}function ra(C,I,z,V){var ie;for(C=C[I+0]+4,ie=0;4>ie;++ie)for(I=0;4>I;++I)Oi(z,V,I,ie,C)}function gi(C,I,z,V){C[I+0]&&ct(C,I+0,z,V),C[I+16]&&ct(C,I+16,z,V+4),C[I+32]&&ct(C,I+32,z,V+128),C[I+48]&&ct(C,I+48,z,V+128+4)}function Hs(C,I,z,V){var ie,fe=i(16);for(ie=0;4>ie;++ie){var de=C[I+0+ie]+C[I+12+ie],ve=C[I+4+ie]+C[I+8+ie],xe=C[I+4+ie]-C[I+8+ie],Oe=C[I+0+ie]-C[I+12+ie];fe[0+ie]=de+ve,fe[8+ie]=de-ve,fe[4+ie]=Oe+xe,fe[12+ie]=Oe-xe}for(ie=0;4>ie;++ie)de=(C=fe[0+4*ie]+3)+fe[3+4*ie],ve=fe[1+4*ie]+fe[2+4*ie],xe=fe[1+4*ie]-fe[2+4*ie],Oe=C-fe[3+4*ie],z[V+0]=de+ve>>3,z[V+16]=Oe+xe>>3,z[V+32]=de-ve>>3,z[V+48]=Oe-xe>>3,V+=64}function Po(C,I,z){var V,ie=I-32,fe=Zi,de=255-C[ie-1];for(V=0;V<z;++V){var ve,xe=fe,Oe=de+C[I-1];for(ve=0;ve<z;++ve)C[I+ve]=xe[Oe+C[ie+ve]];I+=32}}function Ti(C,I){Po(C,I,4)}function rr(C,I){Po(C,I,8)}function _n(C,I){Po(C,I,16)}function dc(C,I){var z;for(z=0;16>z;++z)n(C,I+32*z,C,I-32,16)}function $u(C,I){var z;for(z=16;0<z;--z)a(C,I,C[I-1],16),I+=32}function vi(C,I,z){var V;for(V=0;16>V;++V)a(I,z+32*V,C,16)}function Gi(C,I){var z,V=16;for(z=0;16>z;++z)V+=C[I-1+32*z]+C[I+z-32];vi(V>>5,C,I)}function Gs(C,I){var z,V=8;for(z=0;16>z;++z)V+=C[I-1+32*z];vi(V>>4,C,I)}function jl(C,I){var z,V=8;for(z=0;16>z;++z)V+=C[I+z-32];vi(V>>4,C,I)}function In(C,I){vi(128,C,I)}function cr(C,I,z){return C+2*I+z+2>>2}function $s(C,I){var z,V=I-32;for(V=new Uint8Array([cr(C[V-1],C[V+0],C[V+1]),cr(C[V+0],C[V+1],C[V+2]),cr(C[V+1],C[V+2],C[V+3]),cr(C[V+2],C[V+3],C[V+4])]),z=0;4>z;++z)n(C,I+32*z,V,0,V.length)}function ur(C,I){var z=C[I-1],V=C[I-1+32],ie=C[I-1+64],fe=C[I-1+96];Je(C,I+0,16843009*cr(C[I-1-32],z,V)),Je(C,I+32,16843009*cr(z,V,ie)),Je(C,I+64,16843009*cr(V,ie,fe)),Je(C,I+96,16843009*cr(ie,fe,fe))}function Wu(C,I){var z,V=4;for(z=0;4>z;++z)V+=C[I+z-32]+C[I-1+32*z];for(V>>=3,z=0;4>z;++z)a(C,I+32*z,V,4)}function fr(C,I){var z=C[I-1+0],V=C[I-1+32],ie=C[I-1+64],fe=C[I-1-32],de=C[I+0-32],ve=C[I+1-32],xe=C[I+2-32],Oe=C[I+3-32];C[I+0+96]=cr(V,ie,C[I-1+96]),C[I+1+96]=C[I+0+64]=cr(z,V,ie),C[I+2+96]=C[I+1+64]=C[I+0+32]=cr(fe,z,V),C[I+3+96]=C[I+2+64]=C[I+1+32]=C[I+0+0]=cr(de,fe,z),C[I+3+64]=C[I+2+32]=C[I+1+0]=cr(ve,de,fe),C[I+3+32]=C[I+2+0]=cr(xe,ve,de),C[I+3+0]=cr(Oe,xe,ve)}function Qr(C,I){var z=C[I+1-32],V=C[I+2-32],ie=C[I+3-32],fe=C[I+4-32],de=C[I+5-32],ve=C[I+6-32],xe=C[I+7-32];C[I+0+0]=cr(C[I+0-32],z,V),C[I+1+0]=C[I+0+32]=cr(z,V,ie),C[I+2+0]=C[I+1+32]=C[I+0+64]=cr(V,ie,fe),C[I+3+0]=C[I+2+32]=C[I+1+64]=C[I+0+96]=cr(ie,fe,de),C[I+3+32]=C[I+2+64]=C[I+1+96]=cr(fe,de,ve),C[I+3+64]=C[I+2+96]=cr(de,ve,xe),C[I+3+96]=cr(ve,xe,xe)}function Xc(C,I){var z=C[I-1+0],V=C[I-1+32],ie=C[I-1+64],fe=C[I-1-32],de=C[I+0-32],ve=C[I+1-32],xe=C[I+2-32],Oe=C[I+3-32];C[I+0+0]=C[I+1+64]=fe+de+1>>1,C[I+1+0]=C[I+2+64]=de+ve+1>>1,C[I+2+0]=C[I+3+64]=ve+xe+1>>1,C[I+3+0]=xe+Oe+1>>1,C[I+0+96]=cr(ie,V,z),C[I+0+64]=cr(V,z,fe),C[I+0+32]=C[I+1+96]=cr(z,fe,de),C[I+1+32]=C[I+2+96]=cr(fe,de,ve),C[I+2+32]=C[I+3+96]=cr(de,ve,xe),C[I+3+32]=cr(ve,xe,Oe)}function Ro(C,I){var z=C[I+0-32],V=C[I+1-32],ie=C[I+2-32],fe=C[I+3-32],de=C[I+4-32],ve=C[I+5-32],xe=C[I+6-32],Oe=C[I+7-32];C[I+0+0]=z+V+1>>1,C[I+1+0]=C[I+0+64]=V+ie+1>>1,C[I+2+0]=C[I+1+64]=ie+fe+1>>1,C[I+3+0]=C[I+2+64]=fe+de+1>>1,C[I+0+32]=cr(z,V,ie),C[I+1+32]=C[I+0+96]=cr(V,ie,fe),C[I+2+32]=C[I+1+96]=cr(ie,fe,de),C[I+3+32]=C[I+2+96]=cr(fe,de,ve),C[I+3+64]=cr(de,ve,xe),C[I+3+96]=cr(ve,xe,Oe)}function $i(C,I){var z=C[I-1+0],V=C[I-1+32],ie=C[I-1+64],fe=C[I-1+96];C[I+0+0]=z+V+1>>1,C[I+2+0]=C[I+0+32]=V+ie+1>>1,C[I+2+32]=C[I+0+64]=ie+fe+1>>1,C[I+1+0]=cr(z,V,ie),C[I+3+0]=C[I+1+32]=cr(V,ie,fe),C[I+3+32]=C[I+1+64]=cr(ie,fe,fe),C[I+3+64]=C[I+2+64]=C[I+0+96]=C[I+1+96]=C[I+2+96]=C[I+3+96]=fe}function hs(C,I){var z=C[I-1+0],V=C[I-1+32],ie=C[I-1+64],fe=C[I-1+96],de=C[I-1-32],ve=C[I+0-32],xe=C[I+1-32],Oe=C[I+2-32];C[I+0+0]=C[I+2+32]=z+de+1>>1,C[I+0+32]=C[I+2+64]=V+z+1>>1,C[I+0+64]=C[I+2+96]=ie+V+1>>1,C[I+0+96]=fe+ie+1>>1,C[I+3+0]=cr(ve,xe,Oe),C[I+2+0]=cr(de,ve,xe),C[I+1+0]=C[I+3+32]=cr(z,de,ve),C[I+1+32]=C[I+3+64]=cr(V,z,de),C[I+1+64]=C[I+3+96]=cr(ie,V,z),C[I+1+96]=cr(fe,ie,V)}function so(C,I){var z;for(z=0;8>z;++z)n(C,I+32*z,C,I-32,8)}function ol(C,I){var z;for(z=0;8>z;++z)a(C,I,C[I-1],8),I+=32}function bi(C,I,z){var V;for(V=0;8>V;++V)a(I,z+32*V,C,8)}function oo(C,I){var z,V=8;for(z=0;8>z;++z)V+=C[I+z-32]+C[I-1+32*z];bi(V>>4,C,I)}function kl(C,I){var z,V=4;for(z=0;8>z;++z)V+=C[I+z-32];bi(V>>3,C,I)}function na(C,I){var z,V=4;for(z=0;8>z;++z)V+=C[I-1+32*z];bi(V>>3,C,I)}function Wi(C,I){bi(128,C,I)}function Mn(C,I,z){var V=C[I-z],ie=C[I+0],fe=3*(ie-V)+Bl[1020+C[I-2*z]-C[I+z]],de=Yf[112+(fe+4>>3)];C[I-z]=Zi[255+V+Yf[112+(fe+3>>3)]],C[I+0]=Zi[255+ie-de]}function lo(C,I,z,V){var ie=C[I+0],fe=C[I+z];return ji[255+C[I-2*z]-C[I-z]]>V||ji[255+fe-ie]>V}function Il(C,I,z,V){return 4*ji[255+C[I-z]-C[I+0]]+ji[255+C[I-2*z]-C[I+z]]<=V}function ll(C,I,z,V,ie){var fe=C[I-3*z],de=C[I-2*z],ve=C[I-z],xe=C[I+0],Oe=C[I+z],Re=C[I+2*z],Ve=C[I+3*z];return 4*ji[255+ve-xe]+ji[255+de-Oe]>V?0:ji[255+C[I-4*z]-fe]<=ie&&ji[255+fe-de]<=ie&&ji[255+de-ve]<=ie&&ji[255+Ve-Re]<=ie&&ji[255+Re-Oe]<=ie&&ji[255+Oe-xe]<=ie}function Do(C,I,z,V){var ie=2*V+1;for(V=0;16>V;++V)Il(C,I+V,z,ie)&&Mn(C,I+V,z)}function Lo(C,I,z,V){var ie=2*V+1;for(V=0;16>V;++V)Il(C,I+V*z,1,ie)&&Mn(C,I+V*z,1)}function Ml(C,I,z,V){var ie;for(ie=3;0<ie;--ie)Do(C,I+=4*z,z,V)}function nn(C,I,z,V){var ie;for(ie=3;0<ie;--ie)Lo(C,I+=4,z,V)}function co(C,I,z,V,ie,fe,de,ve){for(fe=2*fe+1;0<ie--;){if(ll(C,I,z,fe,de))if(lo(C,I,z,ve))Mn(C,I,z);else{var xe=C,Oe=I,Re=z,Ve=xe[Oe-2*Re],Ne=xe[Oe-Re],Le=xe[Oe+0],He=xe[Oe+Re],st=xe[Oe+2*Re],We=27*(ht=Bl[1020+3*(Le-Ne)+Bl[1020+Ve-He]])+63>>7,at=18*ht+63>>7,ht=9*ht+63>>7;xe[Oe-3*Re]=Zi[255+xe[Oe-3*Re]+ht],xe[Oe-2*Re]=Zi[255+Ve+at],xe[Oe-Re]=Zi[255+Ne+We],xe[Oe+0]=Zi[255+Le-We],xe[Oe+Re]=Zi[255+He-at],xe[Oe+2*Re]=Zi[255+st-ht]}I+=V}}function Es(C,I,z,V,ie,fe,de,ve){for(fe=2*fe+1;0<ie--;){if(ll(C,I,z,fe,de))if(lo(C,I,z,ve))Mn(C,I,z);else{var xe=C,Oe=I,Re=z,Ve=xe[Oe-Re],Ne=xe[Oe+0],Le=xe[Oe+Re],He=Yf[112+(4+(st=3*(Ne-Ve))>>3)],st=Yf[112+(st+3>>3)],We=He+1>>1;xe[Oe-2*Re]=Zi[255+xe[Oe-2*Re]+We],xe[Oe-Re]=Zi[255+Ve+st],xe[Oe+0]=Zi[255+Ne-He],xe[Oe+Re]=Zi[255+Le-We]}I+=V}}function Ws(C,I,z,V,ie,fe){co(C,I,z,1,16,V,ie,fe)}function Bo(C,I,z,V,ie,fe){co(C,I,1,z,16,V,ie,fe)}function et(C,I,z,V,ie,fe){var de;for(de=3;0<de;--de)Es(C,I+=4*z,z,1,16,V,ie,fe)}function L(C,I,z,V,ie,fe){var de;for(de=3;0<de;--de)Es(C,I+=4,1,z,16,V,ie,fe)}function ne(C,I,z,V,ie,fe,de,ve){co(C,I,ie,1,8,fe,de,ve),co(z,V,ie,1,8,fe,de,ve)}function Ee(C,I,z,V,ie,fe,de,ve){co(C,I,1,ie,8,fe,de,ve),co(z,V,1,ie,8,fe,de,ve)}function Ie(C,I,z,V,ie,fe,de,ve){Es(C,I+4*ie,ie,1,8,fe,de,ve),Es(z,V+4*ie,ie,1,8,fe,de,ve)}function Fe(C,I,z,V,ie,fe,de,ve){Es(C,I+4,1,ie,8,fe,de,ve),Es(z,V+4,1,ie,8,fe,de,ve)}function dt(){this.ba=new _r,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Yr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function bt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Pt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Et(){this.ua=0,this.Wa=new Rt,this.vb=new Rt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new ue}function br(){this.xb=this.a=0,this.l=new qs,this.ca=new _r,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new le,this.Pb=0,this.wd=new le,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Et,this.ab=0,this.gc=o(4,Pt),this.Oc=0}function Lt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Gr(C,I,z,V,ie,fe,de){for(C=C==null?0:C[I+0],I=0;I<de;++I)ie[fe+I]=C+z[V+I]&255,C=ie[fe+I]}function mn(C,I,z,V,ie,fe,de){var ve;if(C==null)Gr(null,null,z,V,ie,fe,de);else for(ve=0;ve<de;++ve)ie[fe+ve]=C[I+ve]+z[V+ve]&255}function Sr(C,I,z,V,ie,fe,de){if(C==null)Gr(null,null,z,V,ie,fe,de);else{var ve,xe=C[I+0],Oe=xe,Re=xe;for(ve=0;ve<de;++ve)Oe=Re+(xe=C[I+ve])-Oe,Re=z[V+ve]+(-256&Oe?0>Oe?0:255:Oe)&255,Oe=xe,ie[fe+ve]=Re}}function Nt(C,I,z,V){var ie=I.width,fe=I.o;if(t(C!=null&&I!=null),0>z||0>=V||z+V>fe)return null;if(!C.Cc){if(C.ga==null){var de;if(C.ga=new Lt,(de=C.ga==null)||(de=I.width*I.o,t(C.Gb.length==0),C.Gb=i(de),C.Uc=0,C.Gb==null?de=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,de=1),de=!de),!de){de=C.ga;var ve=C.Fa,xe=C.P,Oe=C.qc,Re=C.mb,Ve=C.nb,Ne=xe+1,Le=Oe-1,He=de.l;if(t(ve!=null&&Re!=null&&I!=null),Fl[0]=null,Fl[1]=Gr,Fl[2]=mn,Fl[3]=Sr,de.ca=Re,de.tb=Ve,de.c=I.width,de.i=I.height,t(0<de.c&&0<de.i),1>=Oe)I=0;else if(de.$a=3&ve[xe+0],de.Z=ve[xe+0]>>2&3,de.Lc=ve[xe+0]>>4&3,xe=ve[xe+0]>>6&3,0>de.$a||1<de.$a||4<=de.Z||1<de.Lc||xe)I=0;else if(He.put=Zt,He.ac=ti,He.bc=Da,He.ma=de,He.width=I.width,He.height=I.height,He.Da=I.Da,He.v=I.v,He.va=I.va,He.j=I.j,He.o=I.o,de.$a)e:{t(de.$a==1),I=mi();t:for(;;){if(I==null){I=0;break e}if(t(de!=null),de.mc=I,I.c=de.c,I.i=de.i,I.l=de.l,I.l.ma=de,I.l.width=de.c,I.l.height=de.i,I.a=0,pe(I.m,ve,Ne,Le),!Us(de.c,de.i,1,I,null)||(I.ab==1&&I.gc[0].hc==3&&pn(I.s)?(de.ic=1,ve=I.c*I.i,I.Ta=null,I.Ua=0,I.V=i(ve),I.Ba=0,I.V==null?(I.a=1,I=0):I=1):(de.ic=0,I=zs(I,de.c)),!I))break t;I=1;break e}de.mc=null,I=0}else I=Le>=de.c*de.i;de=!I}if(de)return null;C.ga.Lc!=1?C.Ga=0:V=fe-z}t(C.ga!=null),t(z+V<=fe);e:{if(I=(ve=C.ga).c,fe=ve.l.o,ve.$a==0){if(Ne=C.rc,Le=C.Vc,He=C.Fa,xe=C.P+1+z*I,Oe=C.mb,Re=C.nb+z*I,t(xe<=C.P+C.qc),ve.Z!=0)for(t(Fl[ve.Z]!=null),de=0;de<V;++de)Fl[ve.Z](Ne,Le,He,xe,Oe,Re,I),Ne=Oe,Le=Re,Re+=I,xe+=I;else for(de=0;de<V;++de)n(Oe,Re,He,xe,I),Ne=Oe,Le=Re,Re+=I,xe+=I;C.rc=Ne,C.Vc=Le}else{if(t(ve.mc!=null),I=z+V,t((de=ve.mc)!=null),t(I<=de.i),de.C>=I)I=1;else if(ve.ic||Vs(),ve.ic){ve=de.V,Ne=de.Ba,Le=de.c;var st=de.i,We=(He=1,xe=de.$/Le,Oe=de.$%Le,Re=de.m,Ve=de.s,de.$),at=Le*st,ht=Le*I,xt=Ve.wc,vt=We<ht?hn(Ve,Oe,xe):null;t(We<=at),t(I<=st),t(pn(Ve));t:for(;;){for(;!Re.h&&We<ht;){if(Oe&xt||(vt=hn(Ve,Oe,xe)),t(vt!=null),Me(Re),256>(st=zr(vt.G[0],vt.H[0],Re)))ve[Ne+We]=st,++We,++Oe>=Le&&(Oe=0,++xe<=I&&!(xe%16)&&fa(de,xe));else{if(!(280>st)){He=0;break t}st=Ta(st-256,Re);var Gt,It=zr(vt.G[4],vt.H[4],Re);if(Me(Re),!(We>=(It=Ei(Le,It=Ta(It,Re)))&&at-We>=st)){He=0;break t}for(Gt=0;Gt<st;++Gt)ve[Ne+We+Gt]=ve[Ne+We+Gt-It];for(We+=st,Oe+=st;Oe>=Le;)Oe-=Le,++xe<=I&&!(xe%16)&&fa(de,xe);We<ht&&Oe&xt&&(vt=hn(Ve,Oe,xe))}t(Re.h==Ce(Re))}fa(de,xe>I?I:xe);break t}!He||Re.h&&We<at?(He=0,de.a=Re.h?5:3):de.$=We,I=He}else I=pi(de,de.V,de.Ba,de.c,de.i,I,ri);if(!I){V=0;break e}}z+V>=fe&&(C.Cc=1),V=1}if(!V)return null;if(C.Cc&&((V=C.ga)!=null&&(V.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+z*ie}function ja(C,I,z,V,ie,fe){for(;0<ie--;){var de,ve=C,xe=I+(z?1:0),Oe=C,Re=I+(z?0:3);for(de=0;de<V;++de){var Ve=Oe[Re+4*de];Ve!=255&&(Ve*=32897,ve[xe+4*de+0]=ve[xe+4*de+0]*Ve>>23,ve[xe+4*de+1]=ve[xe+4*de+1]*Ve>>23,ve[xe+4*de+2]=ve[xe+4*de+2]*Ve>>23)}I+=fe}}function jr(C,I,z,V,ie){for(;0<V--;){var fe;for(fe=0;fe<z;++fe){var de=C[I+2*fe+0],ve=15&(Oe=C[I+2*fe+1]),xe=4369*ve,Oe=(240&Oe|Oe>>4)*xe>>16;C[I+2*fe+0]=(240&de|de>>4)*xe>>16&240|(15&de|de<<4)*xe>>16>>4&15,C[I+2*fe+1]=240&Oe|ve}I+=ie}}function Xn(C,I,z,V,ie,fe,de,ve){var xe,Oe,Re=255;for(Oe=0;Oe<ie;++Oe){for(xe=0;xe<V;++xe){var Ve=C[I+xe];fe[de+4*xe]=Ve,Re&=Ve}I+=z,de+=ve}return Re!=255}function Vi(C,I,z,V,ie){var fe;for(fe=0;fe<ie;++fe)z[V+fe]=C[I+fe]>>8}function Vs(){Ll=ja,po=jr,$f=Xn,Ks=Vi}function La(C,I,z){q[C]=function(V,ie,fe,de,ve,xe,Oe,Re,Ve,Ne,Le,He,st,We,at,ht,xt){var vt,Gt=xt-1>>1,It=ve[xe+0]|Oe[Re+0]<<16,kr=Ve[Ne+0]|Le[He+0]<<16;t(V!=null);var Ut=3*It+kr+131074>>2;for(I(V[ie+0],255&Ut,Ut>>16,st,We),fe!=null&&(Ut=3*kr+It+131074>>2,I(fe[de+0],255&Ut,Ut>>16,at,ht)),vt=1;vt<=Gt;++vt){var Zr=ve[xe+vt]|Oe[Re+vt]<<16,Qn=Ve[Ne+vt]|Le[He+vt]<<16,Pr=It+Zr+kr+Qn+524296,Mt=Pr+2*(Zr+kr)>>3;Ut=Mt+It>>1,It=(Pr=Pr+2*(It+Qn)>>3)+Zr>>1,I(V[ie+2*vt-1],255&Ut,Ut>>16,st,We+(2*vt-1)*z),I(V[ie+2*vt-0],255&It,It>>16,st,We+(2*vt-0)*z),fe!=null&&(Ut=Pr+kr>>1,It=Mt+Qn>>1,I(fe[de+2*vt-1],255&Ut,Ut>>16,at,ht+(2*vt-1)*z),I(fe[de+2*vt+0],255&It,It>>16,at,ht+(2*vt+0)*z)),It=Zr,kr=Qn}1&xt||(Ut=3*It+kr+131074>>2,I(V[ie+xt-1],255&Ut,Ut>>16,st,We+(xt-1)*z),fe!=null&&(Ut=3*kr+It+131074>>2,I(fe[de+xt-1],255&Ut,Ut>>16,at,ht+(xt-1)*z)))}}function Pl(){Ii[th]=Jc,Ii[Qi]=Ku,Ii[rh]=$0,Ii[mo]=oh,Ii[Xf]=vc,Ii[Vu]=dl,Ii[pc]=bc,Ii[Kf]=Ku,Ii[nh]=oh,Ii[Yu]=vc,Ii[ah]=dl}function Rl(C){return C&-16384?0>C?0:255:C>>lh}function Ns(C,I){return Rl((19077*C>>8)+(26149*I>>8)-14234)}function Cs(C,I,z){return Rl((19077*C>>8)-(6419*I>>8)-(13320*z>>8)+8708)}function cl(C,I){return Rl((19077*C>>8)+(33050*I>>8)-17685)}function Fo(C,I,z,V,ie){V[ie+0]=Ns(C,z),V[ie+1]=Cs(C,I,z),V[ie+2]=cl(C,I)}function Kn(C,I,z,V,ie){V[ie+0]=cl(C,I),V[ie+1]=Cs(C,I,z),V[ie+2]=Ns(C,z)}function uo(C,I,z,V,ie){var fe=Cs(C,I,z);I=fe<<3&224|cl(C,I)>>3,V[ie+0]=248&Ns(C,z)|fe>>5,V[ie+1]=I}function ul(C,I,z,V,ie){var fe=240&cl(C,I)|15;V[ie+0]=240&Ns(C,z)|Cs(C,I,z)>>4,V[ie+1]=fe}function fo(C,I,z,V,ie){V[ie+0]=255,Fo(C,I,z,V,ie+1)}function ho(C,I,z,V,ie){Kn(C,I,z,V,ie),V[ie+3]=255}function aa(C,I,z,V,ie){Fo(C,I,z,V,ie),V[ie+3]=255}function Os(C,I,z){q[C]=function(V,ie,fe,de,ve,xe,Oe,Re,Ve){for(var Ne=Re+(-2&Ve)*z;Re!=Ne;)I(V[ie+0],fe[de+0],ve[xe+0],Oe,Re),I(V[ie+1],fe[de+0],ve[xe+0],Oe,Re+z),ie+=2,++de,++xe,Re+=2*z;1&Ve&&I(V[ie+0],fe[de+0],ve[xe+0],Oe,Re)}}function ai(C,I,z){return z==0?C==0?I==0?6:5:I==0?4:0:z}function hc(C,I,z,V,ie){switch(C>>>30){case 3:Pe(I,z,V,ie,0);break;case 2:Be(I,z,V,ie);break;case 1:ct(I,z,V,ie)}}function ia(C,I){var z,V,ie=I.M,fe=I.Nb,de=C.oc,ve=C.pc+40,xe=C.oc,Oe=C.pc+584,Re=C.oc,Ve=C.pc+600;for(z=0;16>z;++z)de[ve+32*z-1]=129;for(z=0;8>z;++z)xe[Oe+32*z-1]=129,Re[Ve+32*z-1]=129;for(0<ie?de[ve-1-32]=xe[Oe-1-32]=Re[Ve-1-32]=129:(a(de,ve-32-1,127,21),a(xe,Oe-32-1,127,9),a(Re,Ve-32-1,127,9)),V=0;V<C.za;++V){var Ne=I.ya[I.aa+V];if(0<V){for(z=-1;16>z;++z)n(de,ve+32*z-4,de,ve+32*z+12,4);for(z=-1;8>z;++z)n(xe,Oe+32*z-4,xe,Oe+32*z+4,4),n(Re,Ve+32*z-4,Re,Ve+32*z+4,4)}var Le=C.Gd,He=C.Hd+V,st=Ne.ad,We=Ne.Hc;if(0<ie&&(n(de,ve-32,Le[He].y,0,16),n(xe,Oe-32,Le[He].f,0,8),n(Re,Ve-32,Le[He].ea,0,8)),Ne.Za){var at=de,ht=ve-32+16;for(0<ie&&(V>=C.za-1?a(at,ht,Le[He].y[15],4):n(at,ht,Le[He+1].y,0,4)),z=0;4>z;z++)at[ht+128+z]=at[ht+256+z]=at[ht+384+z]=at[ht+0+z];for(z=0;16>z;++z,We<<=2)at=de,ht=ve+ka[z],wa[Ne.Ob[z]](at,ht),hc(We,st,16*+z,at,ht)}else if(at=ai(V,ie,Ne.Ob[0]),ps[at](de,ve),We!=0)for(z=0;16>z;++z,We<<=2)hc(We,st,16*+z,de,ve+ka[z]);for(z=Ne.Gc,at=ai(V,ie,Ne.Dd),Uo[at](xe,Oe),Uo[at](Re,Ve),We=st,at=xe,ht=Oe,255&(Ne=0|z)&&(170&Ne?Ze(We,256,at,ht):ut(We,256,at,ht)),Ne=Re,We=Ve,255&(z>>=8)&&(170&z?Ze(st,320,Ne,We):ut(st,320,Ne,We)),ie<C.Ub-1&&(n(Le[He].y,0,de,ve+480,16),n(Le[He].f,0,xe,Oe+224,8),n(Le[He].ea,0,Re,Ve+224,8)),z=8*fe*C.B,Le=C.sa,He=C.ta+16*V+16*fe*C.R,st=C.qa,Ne=C.ra+8*V+z,We=C.Ha,at=C.Ia+8*V+z,z=0;16>z;++z)n(Le,He+z*C.R,de,ve+32*z,16);for(z=0;8>z;++z)n(st,Ne+z*C.B,xe,Oe+32*z,8),n(We,at+z*C.B,Re,Ve+32*z,8)}}function Ys(C,I,z,V,ie,fe,de,ve,xe){var Oe=[0],Re=[0],Ve=0,Ne=xe!=null?xe.kd:0,Le=xe??new bt;if(C==null||12>z)return 7;Le.data=C,Le.w=I,Le.ha=z,I=[I],z=[z],Le.gb=[Le.gb];e:{var He=I,st=z,We=Le.gb;if(t(C!=null),t(st!=null),t(We!=null),We[0]=0,12<=st[0]&&!r(C,He[0],"RIFF")){if(r(C,He[0]+8,"WEBP")){We=3;break e}var at=yt(C,He[0]+4);if(12>at||4294967286<at){We=3;break e}if(Ne&&at>st[0]-8){We=7;break e}We[0]=at,He[0]+=12,st[0]-=12}We=0}if(We!=0)return We;for(at=0<Le.gb[0],z=z[0];;){e:{var ht=C;st=I,We=z;var xt=Oe,vt=Re,Gt=He=[0];if((Ut=Ve=[Ve])[0]=0,8>We[0])We=7;else{if(!r(ht,st[0],"VP8X")){if(yt(ht,st[0]+4)!=10){We=3;break e}if(18>We[0]){We=7;break e}var It=yt(ht,st[0]+8),kr=1+lt(ht,st[0]+12);if(2147483648<=kr*(ht=1+lt(ht,st[0]+15))){We=3;break e}Gt!=null&&(Gt[0]=It),xt!=null&&(xt[0]=kr),vt!=null&&(vt[0]=ht),st[0]+=18,We[0]-=18,Ut[0]=1}We=0}}if(Ve=Ve[0],He=He[0],We!=0)return We;if(st=!!(2&He),!at&&Ve)return 3;if(fe!=null&&(fe[0]=!!(16&He)),de!=null&&(de[0]=st),ve!=null&&(ve[0]=0),de=Oe[0],He=Re[0],Ve&&st&&xe==null){We=0;break}if(4>z){We=7;break}if(at&&Ve||!at&&!Ve&&!r(C,I[0],"ALPH")){z=[z],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{It=C,We=I,at=z;var Ut=Le.gb;xt=Le.na,vt=Le.P,Gt=Le.Sa,kr=22,t(It!=null),t(at!=null),ht=We[0];var Zr=at[0];for(t(xt!=null),t(Gt!=null),xt[0]=null,vt[0]=null,Gt[0]=0;;){if(We[0]=ht,at[0]=Zr,8>Zr){We=7;break e}var Qn=yt(It,ht+4);if(4294967286<Qn){We=3;break e}var Pr=8+Qn+1&-2;if(kr+=Pr,0<Ut&&kr>Ut){We=3;break e}if(!r(It,ht,"VP8 ")||!r(It,ht,"VP8L")){We=0;break e}if(Zr[0]<Pr){We=7;break e}r(It,ht,"ALPH")||(xt[0]=It,vt[0]=ht+8,Gt[0]=Qn),ht+=Pr,Zr-=Pr}}if(z=z[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],We!=0)break}z=[z],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(Ut=C,We=I,at=z,xt=Le.gb[0],vt=Le.Ja,Gt=Le.xa,It=We[0],ht=!r(Ut,It,"VP8 "),kr=!r(Ut,It,"VP8L"),t(Ut!=null),t(at!=null),t(vt!=null),t(Gt!=null),8>at[0])We=7;else{if(ht||kr){if(Ut=yt(Ut,It+4),12<=xt&&Ut>xt-12){We=3;break e}if(Ne&&Ut>at[0]-8){We=7;break e}vt[0]=Ut,We[0]+=8,at[0]-=8,Gt[0]=kr}else Gt[0]=5<=at[0]&&Ut[It+0]==47&&!(Ut[It+4]>>5),vt[0]=at[0];We=0}if(z=z[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],I=I[0],We!=0)break;if(4294967286<Le.Ja)return 3;if(ve==null||st||(ve[0]=Le.xa?2:1),de=[de],He=[He],Le.xa){if(5>z){We=7;break}ve=de,Ne=He,st=fe,C==null||5>z?C=0:5<=z&&C[I+0]==47&&!(C[I+4]>>5)?(at=[0],Ut=[0],xt=[0],pe(vt=new le,C,I,z),ao(vt,at,Ut,xt)?(ve!=null&&(ve[0]=at[0]),Ne!=null&&(Ne[0]=Ut[0]),st!=null&&(st[0]=xt[0]),C=1):C=0):C=0}else{if(10>z){We=7;break}ve=He,C==null||10>z||!Ss(C,I+3,z-3)?C=0:(Ne=C[I+0]|C[I+1]<<8|C[I+2]<<16,st=16383&(C[I+7]<<8|C[I+6]),C=16383&(C[I+9]<<8|C[I+8]),1&Ne||3<(Ne>>1&7)||!(Ne>>4&1)||Ne>>5>=Le.Ja||!st||!C?C=0:(de&&(de[0]=st),ve&&(ve[0]=C),C=1))}if(!C||(de=de[0],He=He[0],Ve&&(Oe[0]!=de||Re[0]!=He)))return 3;xe!=null&&(xe[0]=Le,xe.offset=I-xe.w,t(4294967286>I-xe.w),t(xe.offset==xe.ha-z));break}return We==0||We==7&&Ve&&xe==null?(fe!=null&&(fe[0]|=Le.na!=null&&0<Le.na.length),V!=null&&(V[0]=de),ie!=null&&(ie[0]=He),0):We}function Xs(C,I,z){var V=I.width,ie=I.height,fe=0,de=0,ve=V,xe=ie;if(I.Da=C!=null&&0<C.Da,I.Da&&(ve=C.cd,xe=C.bd,fe=C.v,de=C.j,11>z||(fe&=-2,de&=-2),0>fe||0>de||0>=ve||0>=xe||fe+ve>V||de+xe>ie))return 0;if(I.v=fe,I.j=de,I.va=fe+ve,I.o=de+xe,I.U=ve,I.T=xe,I.da=C!=null&&0<C.da,I.da){if(!_t(ve,xe,z=[C.ib],fe=[C.hb]))return 0;I.ib=z[0],I.hb=fe[0]}return I.ob=C!=null&&C.ob,I.Kb=C==null||!C.Sd,I.da&&(I.ob=I.ib<3*V/4&&I.hb<3*ie/4,I.Kb=0),1}function Kc(C){if(C==null)return 2;if(11>C.S){var I=C.f.RGBA;I.fb+=(C.height-1)*I.A,I.A=-I.A}else I=C.f.kb,C=C.height,I.O+=(C-1)*I.fa,I.fa=-I.fa,I.N+=(C-1>>1)*I.Ab,I.Ab=-I.Ab,I.W+=(C-1>>1)*I.Db,I.Db=-I.Db,I.F!=null&&(I.J+=(C-1)*I.lb,I.lb=-I.lb);return 0}function Ts(C,I,z,V){if(V==null||0>=C||0>=I)return 2;if(z!=null){if(z.Da){var ie=z.cd,fe=z.bd,de=-2&z.v,ve=-2&z.j;if(0>de||0>ve||0>=ie||0>=fe||de+ie>C||ve+fe>I)return 2;C=ie,I=fe}if(z.da){if(!_t(C,I,ie=[z.ib],fe=[z.hb]))return 2;C=ie[0],I=fe[0]}}V.width=C,V.height=I;e:{var xe=V.width,Oe=V.height;if(C=V.S,0>=xe||0>=Oe||!(C>=th&&13>C))C=2;else{if(0>=V.Rd&&V.sd==null){de=fe=ie=I=0;var Re=(ve=xe*uh[C])*Oe;if(11>C||(fe=(Oe+1)/2*(I=(xe+1)/2),C==12&&(de=(ie=xe)*Oe)),(Oe=i(Re+2*fe+de))==null){C=1;break e}V.sd=Oe,11>C?((xe=V.f.RGBA).eb=Oe,xe.fb=0,xe.A=ve,xe.size=Re):((xe=V.f.kb).y=Oe,xe.O=0,xe.fa=ve,xe.Fd=Re,xe.f=Oe,xe.N=0+Re,xe.Ab=I,xe.Cd=fe,xe.ea=Oe,xe.W=0+Re+fe,xe.Db=I,xe.Ed=fe,C==12&&(xe.F=Oe,xe.J=0+Re+2*fe),xe.Tc=de,xe.lb=ie)}if(I=1,ie=V.S,fe=V.width,de=V.height,ie>=th&&13>ie)if(11>ie)C=V.f.RGBA,I&=(ve=Math.abs(C.A))*(de-1)+fe<=C.size,I&=ve>=fe*uh[ie],I&=C.eb!=null;else{C=V.f.kb,ve=(fe+1)/2,Re=(de+1)/2,xe=Math.abs(C.fa),Oe=Math.abs(C.Ab);var Ve=Math.abs(C.Db),Ne=Math.abs(C.lb),Le=Ne*(de-1)+fe;I&=xe*(de-1)+fe<=C.Fd,I&=Oe*(Re-1)+ve<=C.Cd,I=(I&=Ve*(Re-1)+ve<=C.Ed)&xe>=fe&Oe>=ve&Ve>=ve,I&=C.y!=null,I&=C.f!=null,I&=C.ea!=null,ie==12&&(I&=Ne>=fe,I&=Le<=C.Tc,I&=C.F!=null)}else I=0;C=I?0:2}}return C!=0||z!=null&&z.fd&&(C=Kc(V)),C}var ii=64,Yi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],si=24,Xi=32,Mr=8,js=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];it("Predictor0","PredictorAdd0"),q.Predictor0=function(){return 4278190080},q.Predictor1=function(C){return C},q.Predictor2=function(C,I,z){return I[z+0]},q.Predictor3=function(C,I,z){return I[z+1]},q.Predictor4=function(C,I,z){return I[z-1]},q.Predictor5=function(C,I,z){return ir(ir(C,I[z+1]),I[z+0])},q.Predictor6=function(C,I,z){return ir(C,I[z-1])},q.Predictor7=function(C,I,z){return ir(C,I[z+0])},q.Predictor8=function(C,I,z){return ir(I[z-1],I[z+0])},q.Predictor9=function(C,I,z){return ir(I[z+0],I[z+1])},q.Predictor10=function(C,I,z){return ir(ir(C,I[z-1]),ir(I[z+0],I[z+1]))},q.Predictor11=function(C,I,z){var V=I[z+0];return 0>=lr(V>>24&255,C>>24&255,(I=I[z-1])>>24&255)+lr(V>>16&255,C>>16&255,I>>16&255)+lr(V>>8&255,C>>8&255,I>>8&255)+lr(255&V,255&C,255&I)?V:C},q.Predictor12=function(C,I,z){var V=I[z+0];return(vr((C>>24&255)+(V>>24&255)-((I=I[z-1])>>24&255))<<24|vr((C>>16&255)+(V>>16&255)-(I>>16&255))<<16|vr((C>>8&255)+(V>>8&255)-(I>>8&255))<<8|vr((255&C)+(255&V)-(255&I)))>>>0},q.Predictor13=function(C,I,z){var V=I[z-1];return(Br((C=ir(C,I[z+0]))>>24&255,V>>24&255)<<24|Br(C>>16&255,V>>16&255)<<16|Br(C>>8&255,V>>8&255)<<8|Br(255&C,255&V))>>>0};var ee=q.PredictorAdd0;q.PredictorAdd1=Ur,it("Predictor2","PredictorAdd2"),it("Predictor3","PredictorAdd3"),it("Predictor4","PredictorAdd4"),it("Predictor5","PredictorAdd5"),it("Predictor6","PredictorAdd6"),it("Predictor7","PredictorAdd7"),it("Predictor8","PredictorAdd8"),it("Predictor9","PredictorAdd9"),it("Predictor10","PredictorAdd10"),it("Predictor11","PredictorAdd11"),it("Predictor12","PredictorAdd12"),it("Predictor13","PredictorAdd13");var l=q.PredictorAdd2;Ht("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),Ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var p,m=q.ColorIndexInverseTransform,w=q.MapARGB,_=q.VP8LColorIndexInverseTransformAlpha,A=q.MapAlpha,O=q.VP8LPredictorsAdd=[];O.length=16,(q.VP8LPredictors=[]).length=16,(q.VP8LPredictorsAdd_C=[]).length=16,(q.VP8LPredictors_C=[]).length=16;var M,B,W,te,ce,Ae,je,Pe,Be,Ze,ct,ut,ot,nr,pr,qn,oi,Ba,gn,Fa,Ki,Dl,fl,Gf,Ll,po,$f,Ks,Zc=i(511),Jd=i(2041),Wf=i(225),Vf=i(767),eh=0,Bl=Jd,Yf=Wf,Zi=Vf,ji=Zc,th=0,Qi=1,rh=2,mo=3,Xf=4,Vu=5,pc=6,Kf=7,nh=8,Yu=9,ah=10,go=[2,3,7],Xu=[3,3,11],Qc=[280,256,256,256,40],ih=[0,1,1,1,0],Zf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],vo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],bo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],mc=8,yo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],xo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Zs=null,am=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],H0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],sh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],im=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ki=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Zn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Jr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ps=[],wa=[],Uo=[],gc=1,G0=2,Fl=[],Ii=[];La("UpsampleRgbLinePair",Fo,3),La("UpsampleBgrLinePair",Kn,3),La("UpsampleRgbaLinePair",aa,4),La("UpsampleBgraLinePair",ho,4),La("UpsampleArgbLinePair",fo,4),La("UpsampleRgba4444LinePair",ul,2),La("UpsampleRgb565LinePair",uo,2);var Jc=q.UpsampleRgbLinePair,$0=q.UpsampleBgrLinePair,Ku=q.UpsampleRgbaLinePair,oh=q.UpsampleBgraLinePair,vc=q.UpsampleArgbLinePair,dl=q.UpsampleRgba4444LinePair,bc=q.UpsampleRgb565LinePair,wo=16,Zu=1<<wo-1,eu=-227,yc=482,lh=6,xc=0,Mi=i(256),ch=i(256),sm=i(256),Z2=i(256),Q2=i(yc-eu),J2=i(yc-eu);Os("YuvToRgbRow",Fo,3),Os("YuvToBgrRow",Kn,3),Os("YuvToRgbaRow",aa,4),Os("YuvToBgraRow",ho,4),Os("YuvToArgbRow",fo,4),Os("YuvToRgba4444Row",ul,2),Os("YuvToRgb565Row",uo,2);var ka=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Qu=[0,2,8],Qf=[8,7,6,4,4,2,2,2,1,1,1,1],Jf=1;this.WebPDecodeRGBA=function(C,I,z,V,ie){var fe=Qi,de=new dt,ve=new _r;de.ba=ve,ve.S=fe,ve.width=[ve.width],ve.height=[ve.height];var xe=ve.width,Oe=ve.height,Re=new Kt;if(Re==null||C==null)var Ve=2;else t(Re!=null),Ve=Ys(C,I,z,Re.width,Re.height,Re.Pd,Re.Qd,Re.format,null);if(Ve!=0?xe=0:(xe!=null&&(xe[0]=Re.width[0]),Oe!=null&&(Oe[0]=Re.height[0]),xe=1),xe){ve.width=ve.width[0],ve.height=ve.height[0],V!=null&&(V[0]=ve.width),ie!=null&&(ie[0]=ve.height);e:{if(V=new qs,(ie=new bt).data=C,ie.w=I,ie.ha=z,ie.kd=1,I=[0],t(ie!=null),((C=Ys(ie.data,ie.w,ie.ha,null,null,null,I,null,ie))==0||C==7)&&I[0]&&(C=4),(I=C)==0){if(t(de!=null),V.data=ie.data,V.w=ie.w+ie.offset,V.ha=ie.ha-ie.offset,V.put=Zt,V.ac=ti,V.bc=Da,V.ma=de,ie.xa){if((C=mi())==null){de=1;break e}if((function(Ne,Le){var He=[0],st=[0],We=[0];t:for(;;){if(Ne==null)return 0;if(Le==null)return Ne.a=2,0;if(Ne.l=Le,Ne.a=0,pe(Ne.m,Le.data,Le.w,Le.ha),!ao(Ne.m,He,st,We)){Ne.a=3;break t}if(Ne.xb=G0,Le.width=He[0],Le.height=st[0],!Us(He[0],st[0],1,Ne,null))break t;return 1}return t(Ne.a!=0),0})(C,V)){if(V=(I=Ts(V.width,V.height,de.Oa,de.ba))==0){t:{V=C;r:for(;;){if(V==null){V=0;break t}if(t(V.s.yc!=null),t(V.s.Ya!=null),t(0<V.s.Wb),t((z=V.l)!=null),t((ie=z.ma)!=null),V.xb!=0){if(V.ca=ie.ba,V.tb=ie.tb,t(V.ca!=null),!Xs(ie.Oa,z,mo)){V.a=2;break r}if(!zs(V,z.width)||z.da)break r;if((z.da||hr(V.ca.S))&&Vs(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),V.ca.f.kb.F!=null&&Vs()),V.Pb&&0<V.s.ua&&V.s.vb.X==null&&!ye(V.s.vb,V.s.Wa.Xa)){V.a=1;break r}V.xb=0}if(!pi(V,V.V,V.Ba,V.c,V.i,z.o,xa))break r;ie.Dc=V.Ma,V=1;break t}t(V.a!=0),V=0}V=!V}V&&(I=C.a)}else I=C.a}else{if((C=new ds)==null){de=1;break e}if(C.Fa=ie.na,C.P=ie.P,C.qc=ie.Sa,io(C,V)){if((I=Ts(V.width,V.height,de.Oa,de.ba))==0){if(C.Aa=0,z=de.Oa,t((ie=C)!=null),z!=null){if(0<(xe=0>(xe=z.Md)?0:100<xe?255:255*xe/100)){for(Oe=Re=0;4>Oe;++Oe)12>(Ve=ie.pb[Oe]).lc&&(Ve.ia=xe*Qf[0>Ve.lc?0:Ve.lc]>>3),Re|=Ve.ia;Re&&(alert("todo:VP8InitRandom"),ie.ia=1)}ie.Ga=z.Id,100<ie.Ga?ie.Ga=100:0>ie.Ga&&(ie.Ga=0)}(function(Ne,Le){if(Ne==null)return 0;if(Le==null)return yr(Ne,2,"NULL VP8Io parameter in VP8Decode().");if(!Ne.cb&&!io(Ne,Le))return 0;if(t(Ne.cb),Le.ac==null||Le.ac(Le)){Le.ob&&(Ne.L=0);var He=Qu[Ne.L];if(Ne.L==2?(Ne.yb=0,Ne.zb=0):(Ne.yb=Le.v-He>>4,Ne.zb=Le.j-He>>4,0>Ne.yb&&(Ne.yb=0),0>Ne.zb&&(Ne.zb=0)),Ne.Va=Le.o+15+He>>4,Ne.Hb=Le.va+15+He>>4,Ne.Hb>Ne.za&&(Ne.Hb=Ne.za),Ne.Va>Ne.Ub&&(Ne.Va=Ne.Ub),0<Ne.L){var st=Ne.ed;for(He=0;4>He;++He){var We;if(Ne.Qa.Cb){var at=Ne.Qa.Lb[He];Ne.Qa.Fb||(at+=st.Tb)}else at=st.Tb;for(We=0;1>=We;++We){var ht=Ne.gd[He][We],xt=at;if(st.Pc&&(xt+=st.vd[0],We&&(xt+=st.od[0])),0<(xt=0>xt?0:63<xt?63:xt)){var vt=xt;0<st.wb&&(vt=4<st.wb?vt>>2:vt>>1)>9-st.wb&&(vt=9-st.wb),1>vt&&(vt=1),ht.dd=vt,ht.tc=2*xt+vt,ht.ld=40<=xt?2:15<=xt?1:0}else ht.tc=0;ht.La=We}}}He=0}else yr(Ne,6,"Frame setup failed"),He=Ne.a;if(He=He==0){if(He){Ne.$c=0,0<Ne.Aa||(Ne.Ic=Jf);t:{He=Ne.Ic,st=4*(vt=Ne.za);var Gt=32*vt,It=vt+1,kr=0<Ne.L?vt*(0<Ne.Aa?2:1):0,Ut=(Ne.Aa==2?2:1)*vt;if((ht=st+832+(We=3*(16*He+Qu[Ne.L])/2*Gt)+(at=Ne.Fa!=null&&0<Ne.Fa.length?Ne.Kc.c*Ne.Kc.i:0))!=ht)He=0;else{if(ht>Ne.Vb){if(Ne.Vb=0,Ne.Ec=i(ht),Ne.Fc=0,Ne.Ec==null){He=yr(Ne,1,"no memory during frame initialization.");break t}Ne.Vb=ht}ht=Ne.Ec,xt=Ne.Fc,Ne.Ac=ht,Ne.Bc=xt,xt+=st,Ne.Gd=o(Gt,Wr),Ne.Hd=0,Ne.rb=o(It+1,rn),Ne.sb=1,Ne.wa=kr?o(kr,fs):null,Ne.Y=0,Ne.D.Nb=0,Ne.D.wa=Ne.wa,Ne.D.Y=Ne.Y,0<Ne.Aa&&(Ne.D.Y+=vt),t(!0),Ne.oc=ht,Ne.pc=xt,xt+=832,Ne.ya=o(Ut,Yc),Ne.aa=0,Ne.D.ya=Ne.ya,Ne.D.aa=Ne.aa,Ne.Aa==2&&(Ne.D.aa+=vt),Ne.R=16*vt,Ne.B=8*vt,vt=(Gt=Qu[Ne.L])*Ne.R,Gt=Gt/2*Ne.B,Ne.sa=ht,Ne.ta=xt+vt,Ne.qa=Ne.sa,Ne.ra=Ne.ta+16*He*Ne.R+Gt,Ne.Ha=Ne.qa,Ne.Ia=Ne.ra+8*He*Ne.B+Gt,Ne.$c=0,xt+=We,Ne.mb=at?ht:null,Ne.nb=at?xt:null,t(xt+at<=Ne.Fc+Ne.Vb),As(Ne),a(Ne.Ac,Ne.Bc,0,st),He=1}}if(He){if(Le.ka=0,Le.y=Ne.sa,Le.O=Ne.ta,Le.f=Ne.qa,Le.N=Ne.ra,Le.ea=Ne.Ha,Le.Vd=Ne.Ia,Le.fa=Ne.R,Le.Rc=Ne.B,Le.F=null,Le.J=0,!eh){for(He=-255;255>=He;++He)Zc[255+He]=0>He?-He:He;for(He=-1020;1020>=He;++He)Jd[1020+He]=-128>He?-128:127<He?127:He;for(He=-112;112>=He;++He)Wf[112+He]=-16>He?-16:15<He?15:He;for(He=-255;510>=He;++He)Vf[255+He]=0>He?0:255<He?255:He;eh=1}je=Hs,Pe=_e,Ze=jt,ct=ra,ut=gi,Be=$e,ot=Ws,nr=Bo,pr=ne,qn=Ee,oi=et,Ba=L,gn=Ie,Fa=Fe,Ki=Do,Dl=Lo,fl=Ml,Gf=nn,wa[0]=Wu,wa[1]=Ti,wa[2]=$s,wa[3]=ur,wa[4]=fr,wa[5]=Xc,wa[6]=Qr,wa[7]=Ro,wa[8]=hs,wa[9]=$i,ps[0]=Gi,ps[1]=_n,ps[2]=dc,ps[3]=$u,ps[4]=Gs,ps[5]=jl,ps[6]=In,Uo[0]=oo,Uo[1]=rr,Uo[2]=so,Uo[3]=ol,Uo[4]=na,Uo[5]=kl,Uo[6]=Wi,He=1}else He=0}He&&(He=(function(Zr,Qn){for(Zr.M=0;Zr.M<Zr.Va;++Zr.M){var Pr,Mt=Zr.Jc[Zr.M&Zr.Xb],St=Zr.m,ha=Zr;for(Pr=0;Pr<ha.za;++Pr){var xr=St,Lr=ha,Sn=Lr.Ac,li=Lr.Bc+4*Pr,Pi=Lr.zc,Hn=Lr.ya[Lr.aa+Pr];if(Lr.Qa.Bb?Hn.$b=Ge(xr,Lr.Pa.jb[0])?2+Ge(xr,Lr.Pa.jb[2]):Ge(xr,Lr.Pa.jb[1]):Hn.$b=0,Lr.kc&&(Hn.Ad=Ge(xr,Lr.Bd)),Hn.Za=!Ge(xr,145)+0,Hn.Za){var Ua=Hn.Ob,Ji=0;for(Lr=0;4>Lr;++Lr){var za,$r=Pi[0+Lr];for(za=0;4>za;++za){$r=ki[Sn[li+za]][$r];for(var un=sh[Ge(xr,$r[0])];0<un;)un=sh[2*un+Ge(xr,$r[un])];$r=-un,Sn[li+za]=$r}n(Ua,Ji,Sn,li,4),Ji+=4,Pi[0+Lr]=$r}}else $r=Ge(xr,156)?Ge(xr,128)?1:3:Ge(xr,163)?2:0,Hn.Ob[0]=$r,a(Sn,li,$r,4),a(Pi,0,$r,4);Hn.Dd=Ge(xr,142)?Ge(xr,114)?Ge(xr,183)?1:3:2:0}if(ha.m.Ka)return yr(Zr,7,"Premature end-of-partition0 encountered.");for(;Zr.ja<Zr.za;++Zr.ja){if(ha=Mt,xr=(St=Zr).rb[St.sb-1],Sn=St.rb[St.sb+St.ja],Pr=St.ya[St.aa+St.ja],li=St.kc?Pr.Ad:0)xr.la=Sn.la=0,Pr.Za||(xr.Na=Sn.Na=0),Pr.Hc=0,Pr.Gc=0,Pr.ia=0;else{var pa,vn;if(xr=Sn,Sn=ha,li=St.Pa.Xc,Pi=St.ya[St.aa+St.ja],Hn=St.pb[Pi.$b],Lr=Pi.ad,Ua=0,Ji=St.rb[St.sb-1],$r=za=0,a(Lr,Ua,0,384),Pi.Za)var ci=0,ma=li[3];else{un=i(16);var fn=xr.Na+Ji.Na;if(fn=Zs(Sn,li[1],fn,Hn.Eb,0,un,0),xr.Na=Ji.Na=(0<fn)+0,1<fn)je(un,0,Lr,Ua);else{var Ia=un[0]+3>>3;for(un=0;256>un;un+=16)Lr[Ua+un]=Ia}ci=1,ma=li[0]}var An=15&xr.la,qa=15&Ji.la;for(un=0;4>un;++un){var Ha=1&qa;for(Ia=vn=0;4>Ia;++Ia)An=An>>1|(Ha=(fn=Zs(Sn,ma,fn=Ha+(1&An),Hn.Sc,ci,Lr,Ua))>ci)<<7,vn=vn<<2|(3<fn?3:1<fn?2:Lr[Ua+0]!=0),Ua+=16;An>>=4,qa=qa>>1|Ha<<7,za=(za<<8|vn)>>>0}for(ma=An,ci=qa>>4,pa=0;4>pa;pa+=2){for(vn=0,An=xr.la>>4+pa,qa=Ji.la>>4+pa,un=0;2>un;++un){for(Ha=1&qa,Ia=0;2>Ia;++Ia)fn=Ha+(1&An),An=An>>1|(Ha=0<(fn=Zs(Sn,li[2],fn,Hn.Qc,0,Lr,Ua)))<<3,vn=vn<<2|(3<fn?3:1<fn?2:Lr[Ua+0]!=0),Ua+=16;An>>=2,qa=qa>>1|Ha<<5}$r|=vn<<4*pa,ma|=An<<4<<pa,ci|=(240&qa)<<pa}xr.la=ma,Ji.la=ci,Pi.Hc=za,Pi.Gc=$r,Pi.ia=43690&$r?0:Hn.ia,li=!(za|$r)}if(0<St.L&&(St.wa[St.Y+St.ja]=St.gd[Pr.$b][Pr.Za],St.wa[St.Y+St.ja].La|=!li),ha.Ka)return yr(Zr,7,"Premature end-of-file encountered.")}if(As(Zr),St=Qn,ha=1,Pr=(Mt=Zr).D,xr=0<Mt.L&&Mt.M>=Mt.zb&&Mt.M<=Mt.Va,Mt.Aa==0)t:{if(Pr.M=Mt.M,Pr.uc=xr,ia(Mt,Pr),ha=1,Pr=(vn=Mt.D).Nb,xr=($r=Qu[Mt.L])*Mt.R,Sn=$r/2*Mt.B,un=16*Pr*Mt.R,Ia=8*Pr*Mt.B,li=Mt.sa,Pi=Mt.ta-xr+un,Hn=Mt.qa,Lr=Mt.ra-Sn+Ia,Ua=Mt.Ha,Ji=Mt.Ia-Sn+Ia,qa=(An=vn.M)==0,za=An>=Mt.Va-1,Mt.Aa==2&&ia(Mt,vn),vn.uc)for(Ha=(fn=Mt).D.M,t(fn.D.uc),vn=fn.yb;vn<fn.Hb;++vn){ci=vn,ma=Ha;var Pn=(on=(Ga=fn).D).Nb;pa=Ga.R;var on=on.wa[on.Y+ci],es=Ga.sa,_a=Ga.ta+16*Pn*pa+16*ci,dr=on.dd,mr=on.tc;if(mr!=0)if(t(3<=mr),Ga.L==1)0<ci&&Dl(es,_a,pa,mr+4),on.La&&Gf(es,_a,pa,mr),0<ma&&Ki(es,_a,pa,mr+4),on.La&&fl(es,_a,pa,mr);else{var dn=Ga.B,ks=Ga.qa,_o=Ga.ra+8*Pn*dn+8*ci,ms=Ga.Ha,Ga=Ga.Ia+8*Pn*dn+8*ci;Pn=on.ld,0<ci&&(nr(es,_a,pa,mr+4,dr,Pn),qn(ks,_o,ms,Ga,dn,mr+4,dr,Pn)),on.La&&(Ba(es,_a,pa,mr,dr,Pn),Fa(ks,_o,ms,Ga,dn,mr,dr,Pn)),0<ma&&(ot(es,_a,pa,mr+4,dr,Pn),pr(ks,_o,ms,Ga,dn,mr+4,dr,Pn)),on.La&&(oi(es,_a,pa,mr,dr,Pn),gn(ks,_o,ms,Ga,dn,mr,dr,Pn))}}if(Mt.ia&&alert("todo:DitherRow"),St.put!=null){if(vn=16*An,An=16*(An+1),qa?(St.y=Mt.sa,St.O=Mt.ta+un,St.f=Mt.qa,St.N=Mt.ra+Ia,St.ea=Mt.Ha,St.W=Mt.Ia+Ia):(vn-=$r,St.y=li,St.O=Pi,St.f=Hn,St.N=Lr,St.ea=Ua,St.W=Ji),za||(An-=$r),An>St.o&&(An=St.o),St.F=null,St.J=null,Mt.Fa!=null&&0<Mt.Fa.length&&vn<An&&(St.J=Nt(Mt,St,vn,An-vn),St.F=Mt.mb,St.F==null&&St.F.length==0)){ha=yr(Mt,3,"Could not decode alpha data.");break t}vn<St.j&&($r=St.j-vn,vn=St.j,t(!(1&$r)),St.O+=Mt.R*$r,St.N+=Mt.B*($r>>1),St.W+=Mt.B*($r>>1),St.F!=null&&(St.J+=St.width*$r)),vn<An&&(St.O+=St.v,St.N+=St.v>>1,St.W+=St.v>>1,St.F!=null&&(St.J+=St.v),St.ka=vn-St.j,St.U=St.va-St.v,St.T=An-vn,ha=St.put(St))}Pr+1!=Mt.Ic||za||(n(Mt.sa,Mt.ta-xr,li,Pi+16*Mt.R,xr),n(Mt.qa,Mt.ra-Sn,Hn,Lr+8*Mt.B,Sn),n(Mt.Ha,Mt.Ia-Sn,Ua,Ji+8*Mt.B,Sn))}if(!ha)return yr(Zr,6,"Output aborted.")}return 1})(Ne,Le)),Le.bc!=null&&Le.bc(Le),He&=1}return He?(Ne.cb=0,He):0})(C,V)||(I=C.a)}}else I=C.a}I==0&&de.Oa!=null&&de.Oa.fd&&(I=Kc(de.ba))}de=I}fe=de!=0?null:11>fe?ve.f.RGBA.eb:ve.f.kb.y}else fe=null;return fe};var uh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(q,se){for(var H="",G=0;G<4;G++)H+=String.fromCharCode(q[se++]);return H}function h(q,se){return q[se+0]|q[se+1]<<8}function g(q,se){return(q[se+0]|q[se+1]<<8|q[se+2]<<16)>>>0}function x(q,se){return(q[se+0]|q[se+1]<<8|q[se+2]<<16|q[se+3]<<24)>>>0}new d;var y=[0],E=[0],N=[],T=new d,j=e,D=(function(q,se){var H={},G=0,ue=!1,J=0,ae=0;if(H.frames=[],!(function(Y,le){for(var me=0;me<4;me++)if(Y[le+me]!="RIFF".charCodeAt(me))return!0;return!1})(q,se)){for(x(q,se+=4),se+=8;se<q.length;){var re=c(q,se),he=x(q,se+=4);se+=4;var Se=he+(1&he);switch(re){case"VP8 ":case"VP8L":H.frames[G]===void 0&&(H.frames[G]={}),(oe=H.frames[G]).src_off=ue?ae:se-8,oe.src_size=J+he+8,G++,ue&&(ue=!1,J=0,ae=0);break;case"VP8X":(oe=H.header={}).feature_flags=q[se];var pe=se+4;oe.canvas_width=1+g(q,pe),pe+=3,oe.canvas_height=1+g(q,pe),pe+=3;break;case"ALPH":ue=!0,J=Se+8,ae=se-8;break;case"ANIM":(oe=H.header).bgcolor=x(q,se),pe=se+4,oe.loop_count=h(q,pe),pe+=2;break;case"ANMF":var be,oe;(oe=H.frames[G]={}).offset_x=2*g(q,se),se+=3,oe.offset_y=2*g(q,se),se+=3,oe.width=1+g(q,se),se+=3,oe.height=1+g(q,se),se+=3,oe.duration=g(q,se),se+=3,be=q[se++],oe.dispose=1&be,oe.blend=be>>1&1}re!="ANMF"&&(se+=Se)}return H}})(j,0);D.response=j,D.rgbaoutput=!0,D.dataurl=!1;var F=D.header?D.header:null,U=D.frames?D.frames:null;if(F){F.loop_counter=F.loop_count,y=[F.canvas_height],E=[F.canvas_width];for(var Z=0;Z<U.length&&U[Z].blend!=0;Z++);}var X=U[0],$=T.WebPDecodeRGBA(j,X.src_off,X.src_size,E,y);X.rgba=$,X.imgwidth=E[0],X.imgheight=y[0];for(var Q=0;Q<E[0]*y[0]*4;Q++)N[Q]=$[Q];return this.width=E,this.height=y,this.data=N,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function Gme(){var e,t=this.internal.__metadata__.metadata,r=unescape(encodeURIComponent(t));e=this.internal.__metadata__.rawXml?r:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+e.length+" >>"),this.internal.write("stream"),this.internal.write(e),this.internal.write("endstream"),this.internal.write("endobj")}function $me(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(e){var t,r,n,a,i,o,u,d,c,h=function(Y){return Y=Y||{},this.isStrokeTransparent=Y.isStrokeTransparent||!1,this.strokeOpacity=Y.strokeOpacity||1,this.strokeStyle=Y.strokeStyle||"#000000",this.fillStyle=Y.fillStyle||"#000000",this.isFillTransparent=Y.isFillTransparent||!1,this.fillOpacity=Y.fillOpacity||1,this.font=Y.font||"10px sans-serif",this.textBaseline=Y.textBaseline||"alphabetic",this.textAlign=Y.textAlign||"left",this.lineWidth=Y.lineWidth||1,this.lineJoin=Y.lineJoin||"miter",this.lineCap=Y.lineCap||"butt",this.path=Y.path||[],this.transform=Y.transform!==void 0?Y.transform.clone():new d,this.globalCompositeOperation=Y.globalCompositeOperation||"normal",this.globalAlpha=Y.globalAlpha||1,this.clip_path=Y.clip_path||[],this.currentPoint=Y.currentPoint||new o,this.miterLimit=Y.miterLimit||10,this.lastPoint=Y.lastPoint||new o,this.lineDashOffset=Y.lineDashOffset||0,this.lineDash=Y.lineDash||[],this.margin=Y.margin||[0,0,0,0],this.prevPageLastElemOffset=Y.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Y.ignoreClearRect!="boolean"||Y.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new g(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,u=this.internal.Rectangle,d=this.internal.Matrix,c=new h}]);var g=function(Y){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var le=Y;Object.defineProperty(this,"pdf",{get:function(){return le}});var me=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return me},set:function(ye){me=!!ye}});var Ce=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ce},set:function(ye){Ce=!!ye}});var we=0;Object.defineProperty(this,"posX",{get:function(){return we},set:function(ye){isNaN(ye)||(we=ye)}});var Me=0;Object.defineProperty(this,"posY",{get:function(){return Me},set:function(ye){isNaN(ye)||(Me=ye)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ye){var wt;typeof ye=="number"?wt=[ye,ye,ye,ye]:((wt=new Array(4))[0]=ye[0],wt[1]=ye.length>=2?ye[1]:wt[0],wt[2]=ye.length>=3?ye[2]:wt[0],wt[3]=ye.length>=4?ye[3]:wt[1]),c.margin=wt}});var ze=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ze},set:function(ye){ze=ye}});var Te=0;Object.defineProperty(this,"lastBreak",{get:function(){return Te},set:function(ye){Te=ye}});var Ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ge},set:function(ye){Ge=ye}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ye){ye instanceof h&&(c=ye)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ye){c.path=ye}});var Je=[];Object.defineProperty(this,"ctxStack",{get:function(){return Je},set:function(ye){Je=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var wt;wt=x(ye),this.ctx.fillStyle=wt.style,this.ctx.isFillTransparent=wt.a===0,this.ctx.fillOpacity=wt.a,this.pdf.setFillColor(wt.r,wt.g,wt.b,{a:wt.a}),this.pdf.setTextColor(wt.r,wt.g,wt.b,{a:wt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var wt=x(ye);this.ctx.strokeStyle=wt.style,this.ctx.isStrokeTransparent=wt.a===0,this.ctx.strokeOpacity=wt.a,wt.a===0?this.pdf.setDrawColor(255,255,255):(wt.a,this.pdf.setDrawColor(wt.r,wt.g,wt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var qe=null,lt=null,yt=null;Object.defineProperty(this,"fontFaces",{get:function(){return yt},set:function(ye){qe=null,lt=null,yt=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var wt;if(this.ctx.font=ye,(wt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ye))!==null){var Rt=wt[1];wt[2];var _t=wt[3],rt=wt[4];wt[5];var er=wt[6],it=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(rt)[2];rt=Math.floor(it==="px"?parseFloat(rt)*this.pdf.internal.scaleFactor:it==="em"?parseFloat(rt)*this.pdf.getFontSize():parseFloat(rt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(rt);var ar=(function(Ht){var ca,tr,nt=[],Dt=Ht.trim();if(Dt==="")return j5;if(Dt in wI)return[wI[Dt]];for(;Dt!=="";){switch(tr=null,ca=(Dt=SI(Dt)).charAt(0)){case'"':case"'":tr=Bme(Dt.substring(1),ca);break;default:tr=Fme(Dt)}if(tr===null||(nt.push(tr[0]),(Dt=SI(tr[1]))!==""&&Dt.charAt(0)!==","))return j5;Dt=Dt.replace(/^,/,"")}return nt})(er);if(this.fontFaces){var ir=(function(Ht,ca){var tr=Ht.getFontList(),nt=JSON.stringify(tr);if(qe===null||lt!==nt){var Dt=(function(Ft){var Ct=[];return Object.keys(Ft).forEach(function(cn){Ft[cn].forEach(function(hr){var wr=null;switch(hr){case"bold":wr={family:cn,weight:"bold"};break;case"italic":wr={family:cn,style:"italic"};break;case"bolditalic":wr={family:cn,weight:"bold",style:"italic"};break;case"":case"normal":wr={family:cn}}wr!==null&&(wr.ref={name:cn,style:hr},Ct.push(wr))})}),Ct})(tr);qe=(function(Ft){for(var Ct={},cn=0;cn<Ft.length;++cn){var hr=T5(Ft[cn]),wr=hr.family,Xt=hr.stretch,_r=hr.style,Kt=hr.weight;Ct[wr]=Ct[wr]||{},Ct[wr][Xt]=Ct[wr][Xt]||{},Ct[wr][Xt][_r]=Ct[wr][Xt][_r]||{},Ct[wr][Xt][_r][Kt]=hr}return Ct})(Dt.concat(ca)),lt=nt}return qe})(this.pdf,this.fontFaces),vr=ar.map(function(Ht){return{family:Ht,stretch:"normal",weight:_t,style:Rt}}),Br=(function(Ht,ca,tr){for(var nt=(tr=tr||{}).defaultFontFamily||"times",Dt=Object.assign({},Lme,tr.genericFontFamilies||{}),Ft=null,Ct=null,cn=0;cn<ca.length;++cn)if(Dt[(Ft=T5(ca[cn])).family]&&(Ft.family=Dt[Ft.family]),Ht.hasOwnProperty(Ft.family)){Ct=Ht[Ft.family];break}if(!(Ct=Ct||Ht[nt]))throw new Error("Could not find a font-family for the rule '"+_I(Ft)+"' and default family '"+nt+"'.");if(Ct=(function(hr,wr){if(wr[hr])return wr[hr];var Xt=m3[hr],_r=Xt<=m3.normal?-1:1,Kt=xI(wr,aB,Xt,_r);if(!Kt)throw new Error("Could not find a matching font-stretch value for "+hr);return Kt})(Ft.stretch,Ct),Ct=(function(hr,wr){if(wr[hr])return wr[hr];for(var Xt=nB[hr],_r=0;_r<Xt.length;++_r)if(wr[Xt[_r]])return wr[Xt[_r]];throw new Error("Could not find a matching font-style for "+hr)})(Ft.style,Ct),!(Ct=(function(hr,wr){if(wr[hr])return wr[hr];if(hr===400&&wr[500])return wr[500];if(hr===500&&wr[400])return wr[400];var Xt=Dme[hr],_r=xI(wr,iB,Xt,hr<400?-1:1);if(!_r)throw new Error("Could not find a matching font-weight for value "+hr);return _r})(Ft.weight,Ct)))throw new Error("Failed to resolve a font for the rule '"+_I(Ft)+"'.");return Ct})(ir,vr);this.pdf.setFont(Br.ref.name,Br.ref.style)}else{var lr="";(_t==="bold"||parseInt(_t,10)>=700||Rt==="bold")&&(lr="bold"),Rt==="italic"&&(lr+="italic"),lr.length===0&&(lr="normal");for(var Ur="",Nr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Tt=0;Tt<ar.length;Tt++){if(this.pdf.internal.getFont(ar[Tt],lr,{noFallback:!0,disableWarning:!0})!==void 0){Ur=ar[Tt];break}if(lr==="bolditalic"&&this.pdf.internal.getFont(ar[Tt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ur=ar[Tt],lr="bold";else if(this.pdf.internal.getFont(ar[Tt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ur=ar[Tt],lr="normal";break}}if(Ur===""){for(var Tr=0;Tr<ar.length;Tr++)if(Nr[ar[Tr]]){Ur=Nr[ar[Tr]];break}}Ur=Ur===""?"Times":Ur,this.pdf.setFont(Ur,lr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};g.prototype.setLineDash=function(Y){this.lineDash=Y},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){U.call(this,"fill",!1)},g.prototype.stroke=function(){U.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(Y,le){if(isNaN(Y)||isNaN(le))throw ea.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var me=this.ctx.transform.applyToPoint(new o(Y,le));this.path.push({type:"mt",x:me.x,y:me.y}),this.ctx.lastPoint=new o(Y,le)},g.prototype.closePath=function(){var Y=new o(0,0),le=0;for(le=this.path.length-1;le!==-1;le--)if(this.path[le].type==="begin"&&Un(this.path[le+1])==="object"&&typeof this.path[le+1].x=="number"){Y=new o(this.path[le+1].x,this.path[le+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(Y.x,Y.y)},g.prototype.lineTo=function(Y,le){if(isNaN(Y)||isNaN(le))throw ea.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var me=this.ctx.transform.applyToPoint(new o(Y,le));this.path.push({type:"lt",x:me.x,y:me.y}),this.ctx.lastPoint=new o(me.x,me.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),U.call(this,null,!0)},g.prototype.quadraticCurveTo=function(Y,le,me,Ce){if(isNaN(me)||isNaN(Ce)||isNaN(Y)||isNaN(le))throw ea.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var we=this.ctx.transform.applyToPoint(new o(me,Ce)),Me=this.ctx.transform.applyToPoint(new o(Y,le));this.path.push({type:"qct",x1:Me.x,y1:Me.y,x:we.x,y:we.y}),this.ctx.lastPoint=new o(we.x,we.y)},g.prototype.bezierCurveTo=function(Y,le,me,Ce,we,Me){if(isNaN(we)||isNaN(Me)||isNaN(Y)||isNaN(le)||isNaN(me)||isNaN(Ce))throw ea.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ze=this.ctx.transform.applyToPoint(new o(we,Me)),Te=this.ctx.transform.applyToPoint(new o(Y,le)),Ge=this.ctx.transform.applyToPoint(new o(me,Ce));this.path.push({type:"bct",x1:Te.x,y1:Te.y,x2:Ge.x,y2:Ge.y,x:ze.x,y:ze.y}),this.ctx.lastPoint=new o(ze.x,ze.y)},g.prototype.arc=function(Y,le,me,Ce,we,Me){if(isNaN(Y)||isNaN(le)||isNaN(me)||isNaN(Ce)||isNaN(we))throw ea.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Me=!!Me,!this.ctx.transform.isIdentity){var ze=this.ctx.transform.applyToPoint(new o(Y,le));Y=ze.x,le=ze.y;var Te=this.ctx.transform.applyToPoint(new o(0,me)),Ge=this.ctx.transform.applyToPoint(new o(0,0));me=Math.sqrt(Math.pow(Te.x-Ge.x,2)+Math.pow(Te.y-Ge.y,2))}Math.abs(we-Ce)>=2*Math.PI&&(Ce=0,we=2*Math.PI),this.path.push({type:"arc",x:Y,y:le,radius:me,startAngle:Ce,endAngle:we,counterclockwise:Me})},g.prototype.arcTo=function(Y,le,me,Ce,we){throw new Error("arcTo not implemented.")},g.prototype.rect=function(Y,le,me,Ce){if(isNaN(Y)||isNaN(le)||isNaN(me)||isNaN(Ce))throw ea.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Y,le),this.lineTo(Y+me,le),this.lineTo(Y+me,le+Ce),this.lineTo(Y,le+Ce),this.lineTo(Y,le),this.lineTo(Y+me,le),this.lineTo(Y,le)},g.prototype.fillRect=function(Y,le,me,Ce){if(isNaN(Y)||isNaN(le)||isNaN(me)||isNaN(Ce))throw ea.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var we={};this.lineCap!=="butt"&&(we.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(we.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Y,le,me,Ce),this.fill(),we.hasOwnProperty("lineCap")&&(this.lineCap=we.lineCap),we.hasOwnProperty("lineJoin")&&(this.lineJoin=we.lineJoin)}},g.prototype.strokeRect=function(Y,le,me,Ce){if(isNaN(Y)||isNaN(le)||isNaN(me)||isNaN(Ce))throw ea.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(Y,le,me,Ce),this.stroke())},g.prototype.clearRect=function(Y,le,me,Ce){if(isNaN(Y)||isNaN(le)||isNaN(me)||isNaN(Ce))throw ea.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Y,le,me,Ce))},g.prototype.save=function(Y){Y=typeof Y!="boolean"||Y;for(var le=this.pdf.internal.getCurrentPageInfo().pageNumber,me=0;me<this.pdf.internal.getNumberOfPages();me++)this.pdf.setPage(me+1),this.pdf.internal.out("q");if(this.pdf.setPage(le),Y){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ce=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ce}},g.prototype.restore=function(Y){Y=typeof Y!="boolean"||Y;for(var le=this.pdf.internal.getCurrentPageInfo().pageNumber,me=0;me<this.pdf.internal.getNumberOfPages();me++)this.pdf.setPage(me+1),this.pdf.internal.out("Q");this.pdf.setPage(le),Y&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(Y){var le,me,Ce,we;if(Y.isCanvasGradient===!0&&(Y=Y.getColor()),!Y)return{r:0,g:0,b:0,a:0,style:Y};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Y))le=0,me=0,Ce=0,we=0;else{var Me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Y);if(Me!==null)le=parseInt(Me[1]),me=parseInt(Me[2]),Ce=parseInt(Me[3]),we=1;else if((Me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Y))!==null)le=parseInt(Me[1]),me=parseInt(Me[2]),Ce=parseInt(Me[3]),we=parseFloat(Me[4]);else{if(we=1,typeof Y=="string"&&Y.charAt(0)!=="#"){var ze=new K9(Y);Y=ze.ok?ze.toHex():"#000000"}Y.length===4?(le=Y.substring(1,2),le+=le,me=Y.substring(2,3),me+=me,Ce=Y.substring(3,4),Ce+=Ce):(le=Y.substring(1,3),me=Y.substring(3,5),Ce=Y.substring(5,7)),le=parseInt(le,16),me=parseInt(me,16),Ce=parseInt(Ce,16)}}return{r:le,g:me,b:Ce,a:we,style:Y}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(Y,le,me,Ce){if(isNaN(le)||isNaN(me)||typeof Y!="string")throw ea.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ce=isNaN(Ce)?void 0:Ce,!y.call(this)){var we=Se(this.ctx.transform.rotation),Me=this.ctx.transform.scaleX;G.call(this,{text:Y,x:le,y:me,scale:Me,angle:we,align:this.textAlign,maxWidth:Ce})}},g.prototype.strokeText=function(Y,le,me,Ce){if(isNaN(le)||isNaN(me)||typeof Y!="string")throw ea.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){Ce=isNaN(Ce)?void 0:Ce;var we=Se(this.ctx.transform.rotation),Me=this.ctx.transform.scaleX;G.call(this,{text:Y,x:le,y:me,scale:Me,renderingMode:"stroke",angle:we,align:this.textAlign,maxWidth:Ce})}},g.prototype.measureText=function(Y){if(typeof Y!="string")throw ea.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var le=this.pdf,me=this.pdf.internal.scaleFactor,Ce=le.internal.getFontSize(),we=le.getStringUnitWidth(Y)*Ce/le.internal.scaleFactor;return new function(Me){var ze=(Me=Me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ze}}),this}({width:we*=Math.round(96*me/72*1e4)/1e4})},g.prototype.scale=function(Y,le){if(isNaN(Y)||isNaN(le))throw ea.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var me=new d(Y,0,0,le,0,0);this.ctx.transform=this.ctx.transform.multiply(me)},g.prototype.rotate=function(Y){if(isNaN(Y))throw ea.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var le=new d(Math.cos(Y),Math.sin(Y),-Math.sin(Y),Math.cos(Y),0,0);this.ctx.transform=this.ctx.transform.multiply(le)},g.prototype.translate=function(Y,le){if(isNaN(Y)||isNaN(le))throw ea.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var me=new d(1,0,0,1,Y,le);this.ctx.transform=this.ctx.transform.multiply(me)},g.prototype.transform=function(Y,le,me,Ce,we,Me){if(isNaN(Y)||isNaN(le)||isNaN(me)||isNaN(Ce)||isNaN(we)||isNaN(Me))throw ea.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ze=new d(Y,le,me,Ce,we,Me);this.ctx.transform=this.ctx.transform.multiply(ze)},g.prototype.setTransform=function(Y,le,me,Ce,we,Me){Y=isNaN(Y)?1:Y,le=isNaN(le)?0:le,me=isNaN(me)?0:me,Ce=isNaN(Ce)?1:Ce,we=isNaN(we)?0:we,Me=isNaN(Me)?0:Me,this.ctx.transform=new d(Y,le,me,Ce,we,Me)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(Y,le,me,Ce,we,Me,ze,Te,Ge){var Je=this.pdf.getImageProperties(Y),qe=1,lt=1,yt=1,ye=1;Ce!==void 0&&Te!==void 0&&(yt=Te/Ce,ye=Ge/we,qe=Je.width/Ce*Te/Ce,lt=Je.height/we*Ge/we),Me===void 0&&(Me=le,ze=me,le=0,me=0),Ce!==void 0&&Te===void 0&&(Te=Ce,Ge=we),Ce===void 0&&Te===void 0&&(Te=Je.width,Ge=Je.height);var wt=this.ctx.transform.decompose(),Rt=Se(wt.rotate.shx),_t=new d,rt=(_t=(_t=(_t=_t.multiply(wt.translate)).multiply(wt.skew)).multiply(wt.scale)).applyToRectangle(new u(Me-le*yt,ze-me*ye,Ce*qe,we*lt));if(this.autoPaging){for(var er,it=T.call(this,rt),ar=[],ir=0;ir<it.length;ir+=1)ar.indexOf(it[ir])===-1&&ar.push(it[ir]);F(ar);for(var vr=ar[0],Br=ar[ar.length-1],lr=vr;lr<Br+1;lr++){this.pdf.setPage(lr);var Ur=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nr=lr===1?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ht=lr===1?0:Tt+(lr-2)*Tr;if(this.ctx.clip_path.length!==0){var ca=this.path;er=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(er,this.posX+this.margin[3],-Ht+Nr+this.ctx.prevPageLastElemOffset),Z.call(this,"fill",!0),this.path=ca}var tr=JSON.parse(JSON.stringify(rt));tr=D([tr],this.posX+this.margin[3],-Ht+Nr+this.ctx.prevPageLastElemOffset)[0];var nt=(lr>vr||lr<Br)&&N.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ur,Tr,null).clip().discardPath()),this.pdf.addImage(Y,"JPEG",tr.x,tr.y,tr.w,tr.h,null,null,Rt),nt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(Y,"JPEG",rt.x,rt.y,rt.w,rt.h,null,null,Rt)};var T=function(Y,le,me){var Ce=[];le=le||this.pdf.internal.pageSize.width,me=me||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var we=this.posY+this.ctx.prevPageLastElemOffset;switch(Y.type){default:case"mt":case"lt":Ce.push(Math.floor((Y.y+we)/me)+1);break;case"arc":Ce.push(Math.floor((Y.y+we-Y.radius)/me)+1),Ce.push(Math.floor((Y.y+we+Y.radius)/me)+1);break;case"qct":var Me=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Y.x1,Y.y1,Y.x,Y.y);Ce.push(Math.floor((Me.y+we)/me)+1),Ce.push(Math.floor((Me.y+Me.h+we)/me)+1);break;case"bct":var ze=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Y.x1,Y.y1,Y.x2,Y.y2,Y.x,Y.y);Ce.push(Math.floor((ze.y+we)/me)+1),Ce.push(Math.floor((ze.y+ze.h+we)/me)+1);break;case"rect":Ce.push(Math.floor((Y.y+we)/me)+1),Ce.push(Math.floor((Y.y+Y.h+we)/me)+1)}for(var Te=0;Te<Ce.length;Te+=1)for(;this.pdf.internal.getNumberOfPages()<Ce[Te];)j.call(this);return Ce},j=function(){var Y=this.fillStyle,le=this.strokeStyle,me=this.font,Ce=this.lineCap,we=this.lineWidth,Me=this.lineJoin;this.pdf.addPage(),this.fillStyle=Y,this.strokeStyle=le,this.font=me,this.lineCap=Ce,this.lineWidth=we,this.lineJoin=Me},D=function(Y,le,me){for(var Ce=0;Ce<Y.length;Ce++)switch(Y[Ce].type){case"bct":Y[Ce].x2+=le,Y[Ce].y2+=me;case"qct":Y[Ce].x1+=le,Y[Ce].y1+=me;default:Y[Ce].x+=le,Y[Ce].y+=me}return Y},F=function(Y){return Y.sort(function(le,me){return le-me})},U=function(Y,le){var me=this.fillStyle,Ce=this.strokeStyle,we=this.lineCap,Me=this.lineWidth,ze=Math.abs(Me*this.ctx.transform.scaleX),Te=this.lineJoin;if(this.autoPaging){for(var Ge,Je,qe=JSON.parse(JSON.stringify(this.path)),lt=JSON.parse(JSON.stringify(this.path)),yt=[],ye=0;ye<lt.length;ye++)if(lt[ye].x!==void 0)for(var wt=T.call(this,lt[ye]),Rt=0;Rt<wt.length;Rt+=1)yt.indexOf(wt[Rt])===-1&&yt.push(wt[Rt]);for(var _t=0;_t<yt.length;_t++)for(;this.pdf.internal.getNumberOfPages()<yt[_t];)j.call(this);F(yt);for(var rt=yt[0],er=yt[yt.length-1],it=rt;it<er+1;it++){this.pdf.setPage(it),this.fillStyle=me,this.strokeStyle=Ce,this.lineCap=we,this.lineWidth=ze,this.lineJoin=Te;var ar=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ir=it===1?this.posY+this.margin[0]:this.margin[0],vr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Br=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lr=it===1?0:vr+(it-2)*Br;if(this.ctx.clip_path.length!==0){var Ur=this.path;Ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(Ge,this.posX+this.margin[3],-lr+ir+this.ctx.prevPageLastElemOffset),Z.call(this,Y,!0),this.path=Ur}if(Je=JSON.parse(JSON.stringify(qe)),this.path=D(Je,this.posX+this.margin[3],-lr+ir+this.ctx.prevPageLastElemOffset),le===!1||it===0){var Nr=(it>rt||it<er)&&N.call(this);Nr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ar,Br,null).clip().discardPath()),Z.call(this,Y,le),Nr&&this.pdf.restoreGraphicsState()}this.lineWidth=Me}this.path=qe}else this.lineWidth=ze,Z.call(this,Y,le),this.lineWidth=Me},Z=function(Y,le){if((Y!=="stroke"||le||!E.call(this))&&(Y==="stroke"||le||!y.call(this))){for(var me,Ce,we=[],Me=this.path,ze=0;ze<Me.length;ze++){var Te=Me[ze];switch(Te.type){case"begin":we.push({begin:!0});break;case"close":we.push({close:!0});break;case"mt":we.push({start:Te,deltas:[],abs:[]});break;case"lt":var Ge=we.length;if(Me[ze-1]&&!isNaN(Me[ze-1].x)&&(me=[Te.x-Me[ze-1].x,Te.y-Me[ze-1].y],Ge>0)){for(;Ge>=0;Ge--)if(we[Ge-1].close!==!0&&we[Ge-1].begin!==!0){we[Ge-1].deltas.push(me),we[Ge-1].abs.push(Te);break}}break;case"bct":me=[Te.x1-Me[ze-1].x,Te.y1-Me[ze-1].y,Te.x2-Me[ze-1].x,Te.y2-Me[ze-1].y,Te.x-Me[ze-1].x,Te.y-Me[ze-1].y],we[we.length-1].deltas.push(me);break;case"qct":var Je=Me[ze-1].x+2/3*(Te.x1-Me[ze-1].x),qe=Me[ze-1].y+2/3*(Te.y1-Me[ze-1].y),lt=Te.x+2/3*(Te.x1-Te.x),yt=Te.y+2/3*(Te.y1-Te.y),ye=Te.x,wt=Te.y;me=[Je-Me[ze-1].x,qe-Me[ze-1].y,lt-Me[ze-1].x,yt-Me[ze-1].y,ye-Me[ze-1].x,wt-Me[ze-1].y],we[we.length-1].deltas.push(me);break;case"arc":we.push({deltas:[],abs:[],arc:!0}),Array.isArray(we[we.length-1].abs)&&we[we.length-1].abs.push(Te)}}Ce=le?null:Y==="stroke"?"stroke":"fill";for(var Rt=!1,_t=0;_t<we.length;_t++)if(we[_t].arc)for(var rt=we[_t].abs,er=0;er<rt.length;er++){var it=rt[er];it.type==="arc"?Q.call(this,it.x,it.y,it.radius,it.startAngle,it.endAngle,it.counterclockwise,void 0,le,!Rt):ue.call(this,it.x,it.y),Rt=!0}else if(we[_t].close===!0)this.pdf.internal.out("h"),Rt=!1;else if(we[_t].begin!==!0){var ar=we[_t].start.x,ir=we[_t].start.y;J.call(this,we[_t].deltas,ar,ir),Rt=!0}Ce&&q.call(this,Ce),le&&se.call(this)}},X=function(Y){var le=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,me=le*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Y-me;case"top":return Y+le-me;case"hanging":return Y+le-2*me;case"middle":return Y+le/2-me;default:return Y}},$=function(Y){return Y+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var Y=function(){};return Y.colorStops=[],Y.addColorStop=function(le,me){this.colorStops.push([le,me])},Y.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Y.isCanvasGradient=!0,Y},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Q=function(Y,le,me,Ce,we,Me,ze,Te,Ge){for(var Je=re.call(this,me,Ce,we,Me),qe=0;qe<Je.length;qe++){var lt=Je[qe];qe===0&&(Ge?H.call(this,lt.x1+Y,lt.y1+le):ue.call(this,lt.x1+Y,lt.y1+le)),ae.call(this,Y,le,lt.x2,lt.y2,lt.x3,lt.y3,lt.x4,lt.y4)}Te?se.call(this):q.call(this,ze)},q=function(Y){switch(Y){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},se=function(){this.pdf.clip(),this.pdf.discardPath()},H=function(Y,le){this.pdf.internal.out(r(Y)+" "+n(le)+" m")},G=function(Y){var le;switch(Y.align){case"right":case"end":le="right";break;case"center":le="center";break;default:le="left"}var me,Ce,we,Me=this.pdf.getTextDimensions(Y.text),ze=X.call(this,Y.y),Te=$.call(this,ze)-Me.h,Ge=this.ctx.transform.applyToPoint(new o(Y.x,ze));if(this.autoPaging){var Je=this.ctx.transform.decompose(),qe=new d;qe=(qe=(qe=qe.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale);for(var lt=this.ctx.transform.applyToRectangle(new u(Y.x,ze,Me.w,Me.h)),yt=qe.applyToRectangle(new u(Y.x,Te,Me.w,Me.h)),ye=T.call(this,yt),wt=[],Rt=0;Rt<ye.length;Rt+=1)wt.indexOf(ye[Rt])===-1&&wt.push(ye[Rt]);F(wt);for(var _t=wt[0],rt=wt[wt.length-1],er=_t;er<rt+1;er++){this.pdf.setPage(er);var it=er===1?this.posY+this.margin[0]:this.margin[0],ar=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ir=this.pdf.internal.pageSize.height-this.margin[2],vr=ir-this.margin[0],Br=this.pdf.internal.pageSize.width-this.margin[1],lr=Br-this.margin[3],Ur=er===1?0:ar+(er-2)*vr;if(this.ctx.clip_path.length!==0){var Nr=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(me,this.posX+this.margin[3],-1*Ur+it),Z.call(this,"fill",!0),this.path=Nr}var Tt=D([JSON.parse(JSON.stringify(yt))],this.posX+this.margin[3],-Ur+it+this.ctx.prevPageLastElemOffset)[0];Y.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*Y.scale),we=this.lineWidth,this.lineWidth=we*Y.scale);var Tr=this.autoPaging!=="text";if(Tr||Tt.y+Tt.h<=ir){if(Tr||Tt.y>=it&&Tt.x<=Br){var Ht=Tr?Y.text:this.pdf.splitTextToSize(Y.text,Y.maxWidth||Br-Tt.x)[0],ca=D([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-Ur+it+this.ctx.prevPageLastElemOffset)[0],tr=Tr&&(er>_t||er<rt)&&N.call(this);tr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lr,vr,null).clip().discardPath()),this.pdf.text(Ht,ca.x,ca.y,{angle:Y.angle,align:le,renderingMode:Y.renderingMode}),tr&&this.pdf.restoreGraphicsState()}}else Tt.y<ir&&(this.ctx.prevPageLastElemOffset+=ir-Tt.y);Y.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=we)}}else Y.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*Y.scale),we=this.lineWidth,this.lineWidth=we*Y.scale),this.pdf.text(Y.text,Ge.x+this.posX,Ge.y+this.posY,{angle:Y.angle,align:le,renderingMode:Y.renderingMode,maxWidth:Y.maxWidth}),Y.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=we)},ue=function(Y,le,me,Ce){me=me||0,Ce=Ce||0,this.pdf.internal.out(r(Y+me)+" "+n(le+Ce)+" l")},J=function(Y,le,me){return this.pdf.lines(Y,le,me,null,null)},ae=function(Y,le,me,Ce,we,Me,ze,Te){this.pdf.internal.out([t(a(me+Y)),t(i(Ce+le)),t(a(we+Y)),t(i(Me+le)),t(a(ze+Y)),t(i(Te+le)),"c"].join(" "))},re=function(Y,le,me,Ce){for(var we=2*Math.PI,Me=Math.PI/2;le>me;)le-=we;var ze=Math.abs(me-le);ze<we&&Ce&&(ze=we-ze);for(var Te=[],Ge=Ce?-1:1,Je=le;ze>1e-5;){var qe=Je+Ge*Math.min(ze,Me);Te.push(he.call(this,Y,Je,qe)),ze-=Math.abs(qe-Je),Je=qe}return Te},he=function(Y,le,me){var Ce=(me-le)/2,we=Y*Math.cos(Ce),Me=Y*Math.sin(Ce),ze=we,Te=-Me,Ge=ze*ze+Te*Te,Je=Ge+ze*we+Te*Me,qe=4/3*(Math.sqrt(2*Ge*Je)-Je)/(ze*Me-Te*we),lt=ze-qe*Te,yt=Te+qe*ze,ye=lt,wt=-yt,Rt=Ce+le,_t=Math.cos(Rt),rt=Math.sin(Rt);return{x1:Y*Math.cos(le),y1:Y*Math.sin(le),x2:lt*_t-yt*rt,y2:lt*rt+yt*_t,x3:ye*_t-wt*rt,y3:ye*rt+wt*_t,x4:Y*Math.cos(me),y4:Y*Math.sin(me)}},Se=function(Y){return 180*Y/Math.PI},pe=function(Y,le,me,Ce,we,Me){var ze=Y+.5*(me-Y),Te=le+.5*(Ce-le),Ge=we+.5*(me-we),Je=Me+.5*(Ce-Me),qe=Math.min(Y,we,ze,Ge),lt=Math.max(Y,we,ze,Ge),yt=Math.min(le,Me,Te,Je),ye=Math.max(le,Me,Te,Je);return new u(qe,yt,lt-qe,ye-yt)},be=function(Y,le,me,Ce,we,Me,ze,Te){var Ge,Je,qe,lt,yt,ye,wt,Rt,_t,rt,er,it,ar,ir,vr=me-Y,Br=Ce-le,lr=we-me,Ur=Me-Ce,Nr=ze-we,Tt=Te-Me;for(Je=0;Je<41;Je++)_t=(wt=(qe=Y+(Ge=Je/40)*vr)+Ge*((yt=me+Ge*lr)-qe))+Ge*(yt+Ge*(we+Ge*Nr-yt)-wt),rt=(Rt=(lt=le+Ge*Br)+Ge*((ye=Ce+Ge*Ur)-lt))+Ge*(ye+Ge*(Me+Ge*Tt-ye)-Rt),Je==0?(er=_t,it=rt,ar=_t,ir=rt):(er=Math.min(er,_t),it=Math.min(it,rt),ar=Math.max(ar,_t),ir=Math.max(ir,rt));return new u(Math.round(er),Math.round(it),Math.round(ar-er),Math.round(ir-it))},oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Y,le,me=(Y=this.ctx.lineDash,le=this.ctx.lineDashOffset,JSON.stringify({lineDash:Y,lineDashOffset:le}));this.prevLineDash!==me&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=me)}}})(or.API),(function(e){var t=function(o){var u,d,c,h,g,x,y,E,N,T;for(d=[],c=0,h=(o+=u="\0\0\0\0".slice(o.length%4||4)).length;h>c;c+=4)(g=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(x=(g=((g=((g=((g=(g-(T=g%85))/85)-(N=g%85))/85)-(E=g%85))/85)-(y=g%85))/85)%85,d.push(x+33,y+33,E+33,N+33,T+33)):d.push(122);return(function(j,D){for(var F=D;F>0;F--)j.pop()})(d,u.length),String.fromCharCode.apply(String,d)+"~>"},r=function(o){var u,d,c,h,g,x=String,y="length",E=255,N="charCodeAt",T="slice",j="replace";for(o[T](-2),o=o[T](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),c=[],h=0,g=(o+=u="uuuuu"[T](o[y]%5||5))[y];g>h;h+=5)d=52200625*(o[N](h)-33)+614125*(o[N](h+1)-33)+7225*(o[N](h+2)-33)+85*(o[N](h+3)-33)+(o[N](h+4)-33),c.push(E&d>>24,E&d>>16,E&d>>8,E&d);return(function(D,F){for(var U=F;U>0;U--)D.pop()})(c,u[y]),x.fromCharCode.apply(x,c)},n=function(o){return o.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),u.test(o)===!1)return"";for(var d="",c=0;c<o.length;c+=2)d+=String.fromCharCode("0x"+(o[c]+o[c+1]));return d},i=function(o){for(var u=new Uint8Array(o.length),d=o.length;d--;)u[d]=o.charCodeAt(d);return(u=l3(u)).reduce(function(c,h){return c+String.fromCharCode(h)},"")};e.processDataByFilters=function(o,u){var d=0,c=o||"",h=[];for(typeof(u=u||[])=="string"&&(u=[u]),d=0;d<u.length;d+=1)switch(u[d]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=a(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[d]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}})(or.API),(function(e){e.loadFile=function(t,r,n){return(function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var u=void 0;try{u=(function(d,c,h){var g=new XMLHttpRequest,x=0,y=function(E){var N=E.length,T=[],j=String.fromCharCode;for(x=0;x<N;x+=1)T.push(j(255&E.charCodeAt(x)));return T.join("")};if(g.open("GET",d,!c),g.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(g.onload=function(){g.status===200?h(y(this.responseText)):h(void 0)}),g.send(null),c&&g.status===200)return y(g.responseText)})(a,i,o)}catch{}return u})(t,r,n)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile})(or.API),(function(e){function t(){return(Ir.html2canvas?Promise.resolve(Ir.html2canvas):f5(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function r(){return(Ir.DOMPurify?Promise.resolve(Ir.DOMPurify):f5(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var n=function(u){var d=Un(u);return d==="undefined"?"undefined":d==="string"||u instanceof String?"string":d==="number"||u instanceof Number?"number":d==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":d==="object"?"object":"unknown"},a=function(u,d){var c=document.createElement(u);for(var h in d.className&&(c.className=d.className),d.innerHTML&&d.dompurify&&(c.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)c.style[h]=d.style[h];return c},i=function u(d,c){for(var h=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),g=d.firstChild;g;g=g.nextSibling)c!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||h.appendChild(u(g,c));return d.nodeType===1&&(d.nodeName==="CANVAS"?(h.width=d.width,h.height=d.height,h.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(h.value=d.value),h.addEventListener("load",function(){h.scrollTop=d.scrollTop,h.scrollLeft=d.scrollLeft},!0)),h},o=function u(d){var c=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),h=u.convert(Promise.resolve(),c);return(h=h.setProgress(1,u,1,[u])).set(d)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(u,d){return u.__proto__=d||o.prototype,u},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(u,d){return this.then(function(){switch(d=d||(function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),d){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:u,dompurify:c})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},o.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(d){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,d(this.prop.container,c)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(d){var c=this.opt.jsPDF,h=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var y=0;y<h.length;++y){var E=h[y],N=E.src.find(function(T){return T.format==="truetype"});N&&c.addFont(N.url,E.ref.name,E.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,c.context2d.save(!0),d(this.prop.container,x)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(u,d,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(u,d):this.outputPdf(u,d)},o.prototype.outputPdf=function(u,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,d)})},o.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},o.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(u){if(n(u)!=="object")return this;var d=Object.keys(u||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=u[c]};switch(c){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[c]=u[c]}}},this);return this.then(function(){return this.thenList(d)})},o.prototype.get=function(u,d){return this.then(function(){var c=u in o.template.prop?this.prop[u]:this.opt[u];return d?d(c):c})},o.prototype.setMargin=function(u){return this.then(function(){switch(n(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},o.prototype.setPageSize=function(u){function d(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(u=u||or.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:d(u.inner.width,u.k),height:d(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},o.prototype.setProgress=function(u,d,c,h){return u!=null&&(this.progress.val=u),d!=null&&(this.progress.state=d),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(u,d,c,h){return this.setProgress(u?this.progress.val+u:null,d||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},o.prototype.then=function(u,d){var c=this;return this.thenCore(u,d,function(h,g){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(x){return c.updateProgress(null,h),x}).then(h,g).then(function(x){return c.updateProgress(1),x})})},o.prototype.thenCore=function(u,d,c){c=c||Promise.prototype.then;var h=this;u&&(u=u.bind(h)),d&&(d=d.bind(h));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:o.convert(Object.assign({},h),Promise.prototype),x=c.call(g,u,d);return o.convert(x,h.__proto__)},o.prototype.thenExternal=function(u,d){return Promise.prototype.then.call(this,u,d)},o.prototype.thenList=function(u){var d=this;return u.forEach(function(c){d=d.thenCore(c)}),d},o.prototype.catch=function(u){u&&(u=u.bind(this));var d=Promise.prototype.catch.call(this,u);return o.convert(d,this)},o.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},o.prototype.error=function(u){return this.then(function(){throw new Error(u)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,or.getPageSize=function(u,d,c){if(Un(u)==="object"){var h=u;u=h.orientation,d=h.unit||d,c=h.format||c}d=d||"mm",c=c||"a4",u=(""+(u||"P")).toLowerCase();var g,x=(""+c).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+d}var E,N=0,T=0;if(y.hasOwnProperty(x))N=y[x][1]/g,T=y[x][0]/g;else try{N=c[1],T=c[0]}catch{throw new Error("Invalid format: "+c)}if(u==="p"||u==="portrait")u="p",T>N&&(E=T,T=N,N=E);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",N>T&&(E=T,T=N,N=E)}return{width:T,height:N,unit:d,k:g,orientation:u}},e.html=function(u,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(T5):null;var c=new o(d);return d.worker?c:c.from(u).doCallback()}})(or.API),or.API.addJS=function(e){var t,r,n=(function(a){for(var i="",o=0;o<a.length;o++){var u=a[o];if(u==="("||u===")"){for(var d=0,c=o-1;c>=0&&a[c]==="\\";c--)d++;i+=d%2==0?"\\"+u:u}else i+=u}return i})(e);return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&r!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],u=n.exec(o);if(u!=null){var d=u[1];r.internal.newObjectDeferredBegin(d,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,h=[];for(i=0;i<c;i++){var g=r.internal.newObject();h.push(g);var x=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var y=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+y+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var u=this.count=this.count_r({count:0},o);if(u>0&&this.line("/Count "+u),o.options&&o.options.pageNumber){var d=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(or.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,o,u){var d,c=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,d=(function(g){for(var x,y=256*g.charCodeAt(4)+g.charCodeAt(5),E=g.length,N={width:0,height:0,numcomponents:1},T=4;T<E;T+=2){if(T+=y,t.indexOf(g.charCodeAt(T+1))!==-1){x=256*g.charCodeAt(T+5)+g.charCodeAt(T+6),N={width:256*g.charCodeAt(T+7)+g.charCodeAt(T+8),height:x,numcomponents:g.charCodeAt(T+9)};break}y=256*g.charCodeAt(T+2)+g.charCodeAt(T+3)}return N})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),d.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}h={data:r,width:d.width,height:d.height,colorSpace:u,bitsPerComponent:8,filter:c,index:n,alias:a}}return h}})(or.API),or.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=_me(e,{checkCrc:!0}),o=i.width,u=i.height,d=i.channels,c=i.palette,h=i.depth;a=c&&d===1?(function(Q){for(var q=Q.width,se=Q.height,H=Q.data,G=Q.palette,ue=Q.depth,J=!1,ae=[],re=[],he=void 0,Se=!1,pe=0,be=0;be<G.length;be++){var oe=Tk(G[be],4),Y=oe[0],le=oe[1],me=oe[2],Ce=oe[3];ae.push(Y,le,me),Ce!=null&&(Ce===0?(pe++,re.length<1&&re.push(be)):Ce<255&&(Se=!0))}if(Se||pe>1){J=!0,re=void 0;var we=q*se;he=new Uint8Array(we);for(var Me=new DataView(H.buffer),ze=0;ze<we;ze++){var Te=k5(Me,ze,ue),Ge=Tk(G[Te],4)[3];he[ze]=Ge}}else pe===0&&(re=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:J?8:void 0,colorBytes:H,alphaBytes:he,needSMask:J,palette:ae,mask:re}})(i):d===2||d===4?(function(Q){for(var q=Q.data,se=Q.width,H=Q.height,G=Q.channels,ue=Q.depth,J=G===2?"DeviceGray":"DeviceRGB",ae=G-1,re=se*H,he=ae,Se=re*he,pe=1*re,be=Math.ceil(Se*ue/8),oe=Math.ceil(pe*ue/8),Y=new Uint8Array(be),le=new Uint8Array(oe),me=new DataView(q.buffer),Ce=new DataView(Y.buffer),we=new DataView(le.buffer),Me=!1,ze=0;ze<re;ze++){for(var Te=ze*G,Ge=0;Ge<he;Ge++)II(Ce,k5(me,Te+Ge,ue),ze*he+Ge,ue);var Je=k5(me,Te+he,ue);Je<(1<<ue)-1&&(Me=!0),II(we,Je,1*ze,ue)}return{colorSpace:J,colorsPerPixel:ae,sMaskBitsPerComponent:Me?ue:void 0,colorBytes:Y,alphaBytes:le,needSMask:Me}})(i):(function(Q){var q=Q.data,se=Q.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:se,colorsPerPixel:se==="DeviceGray"?1:3,colorBytes:q instanceof Uint16Array?(function(H){for(var G=H.length,ue=new Uint8Array(2*G),J=new DataView(ue.buffer,ue.byteOffset,ue.byteLength),ae=0;ae<G;ae++)J.setUint16(2*ae,H[ae],!1);return ue})(q):q,needSMask:!1}})(i);var g,x,y,E=a,N=E.colorSpace,T=E.colorsPerPixel,j=E.sMaskBitsPerComponent,D=E.colorBytes,F=E.alphaBytes,U=E.needSMask,Z=E.palette,X=E.mask,$=null;return n!==or.API.image_compression.NONE&&typeof l3=="function"?($=(function(Q){var q;switch(Q){case or.API.image_compression.FAST:q=11;break;case or.API.image_compression.MEDIUM:q=13;break;case or.API.image_compression.SLOW:q=14;break;default:q=12}return q})(n),g=this.decode.FLATE_DECODE,x="/Predictor ".concat($," /Colors ").concat(T," /BitsPerComponent ").concat(h," /Columns ").concat(o),e=CI(D,Math.ceil(o*T*h/8),T,h,n),U&&(y=CI(F,Math.ceil(o*j/8),1,j,n))):(g=void 0,x=void 0,e=D,U&&(y=F)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:r,data:e,index:t,filter:g,decodeParameters:x,transparency:X,palette:Z,sMask:y,predictor:$,width:o,height:u,bitsPerComponent:h,sMaskBitsPerComponent:j,colorSpace:N}}},(function(e){e.processGIF89A=function(t,r,n,a){var i=new Hme(t),o=i.width,u=i.height,d=[];i.decodeAndBlitFrameRGBA(0,d);var c={data:d,width:o,height:u},h=new I5(100).encode(c,100);return e.processJPEG.call(this,h,r,n,a)},e.processGIF87A=e.processGIF89A})(or.API),Vl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Vl.prototype.parseBGR=function(){this.pos=this.offset;var e="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[e]()}catch(r){ea.log("bit decode error:"+r)}},Vl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,u=0;u<8&&8*a+u<this.width;u++){var d=this.palette[i>>7-u&1];this.data[o+4*u]=d.blue,this.data[o+4*u+1]=d.green,this.data[o+4*u+2]=d.red,this.data[o+4*u+3]=255}r!==0&&(this.pos+=4-r)}},Vl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,u=i>>4,d=15&i,c=this.palette[u];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*a+1>=this.width)break;c=this.palette[d],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Vl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Vl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,u=(i>>5&t)/t*255|0,d=(i>>10&t)/t*255|0,c=i>>15?255:0,h=n*this.width*4+4*a;this.data[h]=d,this.data[h+1]=u,this.data[h+2]=o,this.data[h+3]=c}this.pos+=e}},Vl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&t)/t*255|0,d=(o>>5&r)/r*255|0,c=(o>>11)/t*255|0,h=a*this.width*4+4*i;this.data[h]=c,this.data[h+1]=d,this.data[h+2]=u,this.data[h+3]=255}this.pos+=e}},Vl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Vl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*r;this.data[u]=i,this.data[u+1]=a,this.data[u+2]=n,this.data[u+3]=o}},Vl.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,a){var i=new Vl(t,!1),o=i.width,u=i.height,d={data:i.getData(),width:o,height:u},c=new I5(100).encode(d,100);return e.processJPEG.call(this,c,r,n,a)}})(or.API),PI.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,a){var i=new PI(t),o=i.width,u=i.height,d={data:i.getData(),width:o,height:u},c=new I5(100).encode(d,100);return e.processJPEG.call(this,c,r,n,a)}})(or.API),or.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),u=0,d=0,c=0;c<a;c+=4){var h=n[c],g=n[c+1],x=n[c+2],y=n[c+3];i[u++]=h,i[u++]=g,i[u++]=x,o[d++]=y}var E=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:E,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},or.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vh=or.API,dv=Vh.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:a.metadata.Unicode.widths,d=u.fof?u.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,h=c.fof?c.fof:1,g=t.doKerning!==!1,x=0,y=e.length,E=0,N=u[0]||d,T=[];for(r=0;r<y;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?T.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(x=g&&Un(c[n])==="object"&&!isNaN(parseInt(c[n][E],10))?c[n][E]/h:0,T.push((u[n]||N)/d+x)),E=n;return T},AI=Vh.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Vh.processArabic&&(e=Vh.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:dv.apply(this,arguments).reduce(function(i,o){return i+o},0)},EI=function(e,t,r,n){for(var a=[],i=0,o=e.length,u=0;i!==o&&u+t[i]<r;)u+=t[i],i++;a.push(e.slice(0,i));var d=i;for(u=0;i!==o;)u+t[i]>n&&(a.push(e.slice(d,i)),u=0,d=i),u+=t[i],i++;return d!==i&&a.push(e.slice(d,i)),a},NI=function(e,t,r){r||(r={});var n,a,i,o,u,d,c,h=[],g=[h],x=r.textIndent||0,y=0,E=0,N=e.split(" "),T=dv.apply(this,[" ",r])[0];if(d=r.lineIndent===-1?N[0].length+2:r.lineIndent||0){var j=Array(d).join(" "),D=[];N.map(function(U){(U=U.split(/\s*\n/)).length>1?D=D.concat(U.map(function(Z,X){return(X&&Z.length?`
`:"")+Z})):D.push(U[0])}),N=D,d=AI.apply(this,[j,r])}for(i=0,o=N.length;i<o;i++){var F=0;if(n=N[i],d&&n[0]==`
`&&(n=n.substr(1),F=1),x+y+(E=(a=dv.apply(this,[n,r])).reduce(function(U,Z){return U+Z},0))>t||F){if(E>t){for(u=EI.apply(this,[n,a,t-(x+y),t]),h.push(u.shift()),h=[u.pop()];u.length;)g.push([u.shift()]);E=a.slice(n.length-(h[0]?h[0].length:0)).reduce(function(U,Z){return U+Z},0)}else h=[n];g.push(h),x=E+d,y=T}else h.push(n),x+=y+E,y=T}return c=d?function(U,Z){return(Z?j:"")+U.join(" ")}:function(U){return U.join(" ")},g.map(c)},Vh.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var g=this.internal.getFont(h.fontName,h.fontStyle),x="Unicode";return g.metadata[x]?{widths:g.metadata[x].widths||{0:1},kerning:g.metadata[x].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var u,d,c=[];for(u=0,d=n.length;u<d;u++)c=c.concat(NI.apply(this,[n[u],o,i]));return c},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=t[i],a[t[i]]=r[i];var o=function(x){return"0x"+parseInt(x,10).toString(16)},u=e.__fontmetrics__.compress=function(x){var y,E,N,T,j=["{"];for(var D in x){if(y=x[D],isNaN(parseInt(D,10))?E="'"+D+"'":(D=parseInt(D,10),E=(E=o(D).slice(2)).slice(0,-1)+a[E.slice(-1)]),typeof y=="number")y<0?(N=o(y).slice(3),T="-"):(N=o(y).slice(2),T=""),N=T+N.slice(0,-1)+a[N.slice(-1)];else{if(Un(y)!=="object")throw new Error("Don't know what to do with value type "+Un(y)+".");N=u(y)}j.push(E+N)}return j.push("}"),j.join("")},d=e.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,E,N,T,j={},D=1,F=j,U=[],Z="",X="",$=x.length-1,Q=1;Q<$;Q+=1)(T=x[Q])=="'"?y?(N=y.join(""),y=void 0):y=[]:y?y.push(T):T=="{"?(U.push([F,N]),F={},N=void 0):T=="}"?((E=U.pop())[0][E[1]]=F,N=void 0,F=E[0]):T=="-"?D=-1:N===void 0?n.hasOwnProperty(T)?(Z+=n[T],N=parseInt(Z,16)*D,D=1,Z=""):Z+=T:n.hasOwnProperty(T)?(X+=n[T],F[N]=parseInt(X,16)*D,D=1,N=void 0,X=""):X+=T;return j},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},g={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(x){var y=x.font,E=g.Unicode[y.postScriptName];E&&(y.metadata.Unicode={},y.metadata.Unicode.widths=E.widths,y.metadata.Unicode.kerning=E.kerning);var N=h.Unicode[y.postScriptName];N&&(y.metadata.Unicode.encoding=N,y.encoding=N.codePages[0])}])})(or.API),(function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(Ev(u)),o.metadata=e.API.TTFFont.open(u),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])})(or),or.API.addSvgAsImage=function(e,t,r,n,a,i,o,u){if(isNaN(t)||isNaN(r))throw ea.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw ea.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=n,d.height=a;var c=d.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(Ir.canvg?Promise.resolve(Ir.canvg):f5(()=>import("./index.es-BDGq195C.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(c,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(h)}).then(function(){g.addImage(d.toDataURL("image/jpeg",1),t,r,n,a,o,u)})},or.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},or.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(o),d=[],c=0,h=0,g=0;function x(E,N){var T,j=!1;for(T=0;T<E.length;T+=1)E[T]===N&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var y=u.length;for(g=0;g<y;g+=1)r[u[g]].value=r[u[g]].defaultValue,r[u[g]].explicitSet=!1}if(Un(e)==="object"){for(a in e)if(i=e[a],x(u,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&x(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")d.push(String(i[c]-1));else if(i[c].length>1){for(h=0;h<i[c].length;h+=1)typeof i[c][h]!="number"&&(n=!1);n===!0&&d.push([i[c][0]-1,i[c][1]-1].join(" "))}r[a].value="["+d.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,N=[];for(E in r)r[E].explicitSet===!0&&(r[E].type==="name"?N.push("/"+E+" /"+r[E].value):N.push("/"+E+" "+r[E].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},or.API.addMetadata=function(e,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:e,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",$me),this.internal.events.subscribe("postPutResources",Gme)),this},(function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var u,d=o.metadata.Unicode.widths,c=["","0","00","000","0000"],h=[""],g=0,x=i.length;g<x;++g){if(u=o.metadata.characterToGlyph(i.charCodeAt(g)),o.metadata.glyIdsUsed.push(u),o.metadata.toUnicode[u]=i.charCodeAt(g),d.indexOf(u)==-1&&(d.push(u),d.push([parseInt(o.metadata.widthOfGlyph(u),10)])),u=="0")return h.join("");u=u.toString(16),h.push(c[4-u.length],u)}return h.join("")},n=function(i){var o,u,d,c,h,g,x;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],g=0,x=(u=Object.keys(i).sort(function(y,E){return y-E})).length;g<x;g++)o=u[g],d.length>=100&&(h+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(c=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),d.push("<"+o+"><"+c+">"));return d.length&&(h+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var u=o.font,d=o.out,c=o.newObject,h=o.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="Identity-H"){for(var g=u.metadata.Unicode.widths,x=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),y="",E=0;E<x.length;E++)y+=String.fromCharCode(x[E]);var N=c();h({data:y,addLength1:!0,objectId:N}),d("endobj");var T=c();h({data:n(u.metadata.toUnicode),addLength1:!0,objectId:T}),d("endobj");var j=c();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Jh(u.fontName)),d("/FontFile2 "+N+" 0 R"),d("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),d("/Flags "+u.metadata.flags),d("/StemV "+u.metadata.stemV),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d(">>"),d("endobj");var D=c();d("<<"),d("/Type /Font"),d("/BaseFont /"+Jh(u.fontName)),d("/FontDescriptor "+j+" 0 R"),d("/W "+e.API.PDFObject.convert(g)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+u.encoding+")"),d(">>"),d(">>"),d("endobj"),u.objectNumber=c(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+T+" 0 R"),d("/BaseFont /"+Jh(u.fontName)),d("/Encoding /"+u.encoding),d("/DescendantFonts ["+D+" 0 R]"),d(">>"),d("endobj"),u.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var u=o.font,d=o.out,c=o.newObject,h=o.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var g=u.metadata.rawData,x="",y=0;y<g.length;y++)x+=String.fromCharCode(g[y]);var E=c();h({data:x,addLength1:!0,objectId:E}),d("endobj");var N=c();h({data:n(u.metadata.toUnicode),addLength1:!0,objectId:N}),d("endobj");var T=c();d("<<"),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d("/StemV "+u.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+E+" 0 R"),d("/Flags 96"),d("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),d("/FontName /"+Jh(u.fontName)),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d(">>"),d("endobj"),u.objectNumber=c();for(var j=0;j<u.metadata.hmtx.widths.length;j++)u.metadata.hmtx.widths[j]=parseInt(u.metadata.hmtx.widths[j]*(1e3/u.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+Jh(u.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),d("endobj"),u.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,u=i.text||"",d=i.x,c=i.y,h=i.options||{},g=i.mutex||{},x=g.pdfEscape,y=g.activeFontKey,E=g.fonts,N=y,T="",j=0,D="",F=E[N].encoding;if(E[N].encoding!=="Identity-H")return{text:u,x:d,y:c,options:h,mutex:g};for(D=u,N=y,Array.isArray(u)&&(D=u[0]),j=0;j<D.length;j+=1)E[N].metadata.hasOwnProperty("cmap")&&(o=E[N].metadata.cmap.unicode.codeMap[D[j].charCodeAt(0)]),o||D[j].charCodeAt(0)<256&&E[N].metadata.hasOwnProperty("Unicode")?T+=D[j]:T+="";var U="";return parseInt(N.slice(1))<14||F==="WinAnsiEncoding"?U=x(T,N).split("").map(function(Z){return Z.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(U=r(T,E[N])),g.isHex=!0,{text:U,x:d,y:c,options:h,mutex:g}};t.events.push(["postProcessText",function(i){var o=i.text||"",u=[],d={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?u.push([a(Object.assign({},d,{text:o[c][0]})).text,o[c][1],o[c][2]]):u.push(a(Object.assign({},d,{text:o[c]})).text);i.text=u}else i.text=a(Object.assign({},d,{text:o})).text}])})(or),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(or.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,o,u,d,c,h,g=t,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,F=0;this.__bidiEngine__={};var U=function(H){var G=H.charCodeAt(),ue=G>>8,J=N[ue];return J!==void 0?g[256*J+(255&G)]:ue===252||ue===253?"AL":j.test(ue)?"L":ue===8?"R":"N"},Z=function(H){for(var G,ue=0;ue<H.length;ue++){if((G=U(H.charAt(ue)))==="L")return!1;if(G==="R")return!0}return!1},X=function(H,G,ue,J){var ae,re,he,Se,pe=G[J];switch(pe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"N":case"AN":break;case"EN":D&&(pe="AN");break;case"AL":D=!0,pe="R";break;case"WS":case"BN":pe="N";break;case"CS":J<1||J+1>=G.length||(ae=ue[J-1])!=="EN"&&ae!=="AN"||(re=G[J+1])!=="EN"&&re!=="AN"?pe="N":D&&(re="AN"),pe=re===ae?re:"N";break;case"ES":pe=(ae=J>0?ue[J-1]:"B")==="EN"&&J+1<G.length&&G[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&ue[J-1]==="EN"){pe="EN";break}if(D){pe="N";break}for(he=J+1,Se=G.length;he<Se&&G[he]==="ET";)he++;pe=he<Se&&G[he]==="EN"?"EN":"N";break;case"NSM":if(o&&!u){for(Se=G.length,he=J+1;he<Se&&G[he]==="NSM";)he++;if(he<Se){var be=H[J],oe=be>=1425&&be<=2303||be===64286;if(ae=G[he],oe&&(ae==="R"||ae==="AL")){pe="R";break}}}pe=J<1||(ae=G[J-1])==="B"?"N":ue[J-1];break;case"B":D=!1,a=!0,pe=F;break;case"S":i=!0,pe="N"}return pe},$=function(H,G,ue){var J=H.split("");return ue&&Q(J,ue,{hiLevel:F}),J.reverse(),G&&G.reverse(),J.join("")},Q=function(H,G,ue){var J,ae,re,he,Se,pe=-1,be=H.length,oe=0,Y=[],le=F?y:x,me=[];for(D=!1,a=!1,i=!1,ae=0;ae<be;ae++)me[ae]=U(H[ae]);for(re=0;re<be;re++){if(Se=oe,Y[re]=X(H,me,Y,re),J=240&(oe=le[Se][E[Y[re]]]),oe&=15,G[re]=he=le[oe][5],J>0)if(J===16){for(ae=pe;ae<re;ae++)G[ae]=1;pe=-1}else pe=-1;if(le[oe][6])pe===-1&&(pe=re);else if(pe>-1){for(ae=pe;ae<re;ae++)G[ae]=he;pe=-1}me[re]==="B"&&(G[re]=0),ue.hiLevel|=he}i&&(function(Ce,we,Me){for(var ze=0;ze<Me;ze++)if(Ce[ze]==="S"){we[ze]=F;for(var Te=ze-1;Te>=0&&Ce[Te]==="WS";Te--)we[Te]=F}})(me,G,be)},q=function(H,G,ue,J,ae){if(!(ae.hiLevel<H)){if(H===1&&F===1&&!a)return G.reverse(),void(ue&&ue.reverse());for(var re,he,Se,pe,be=G.length,oe=0;oe<be;){if(J[oe]>=H){for(Se=oe+1;Se<be&&J[Se]>=H;)Se++;for(pe=oe,he=Se-1;pe<he;pe++,he--)re=G[pe],G[pe]=G[he],G[he]=re,ue&&(re=ue[pe],ue[pe]=ue[he],ue[he]=re);oe=Se}oe++}}},se=function(H,G,ue){var J=H.split(""),ae={hiLevel:F};return ue||(ue=[]),Q(J,ue,ae),(function(re,he,Se){if(Se.hiLevel!==0&&h)for(var pe,be=0;be<re.length;be++)he[be]===1&&(pe=T.indexOf(re[be]))>=0&&(re[be]=T[pe+1])})(J,ue,ae),q(2,J,G,ue,ae),q(1,J,G,ue,ae),J.join("")};return this.__bidiEngine__.doBidiReorder=function(H,G,ue){if((function(ae,re){if(re)for(var he=0;he<ae.length;he++)re[he]=he;u===void 0&&(u=Z(ae)),c===void 0&&(c=Z(ae))})(H,G),o||!d||c)if(o&&d&&u^c)F=u?1:0,H=$(H,G,ue);else if(!o&&d&&c)F=u?1:0,H=se(H,G,ue),H=$(H,G);else if(!o||u||d||c){if(o&&!d&&u^c)H=$(H,G),u?(F=0,H=se(H,G,ue)):(F=1,H=se(H,G,ue),H=$(H,G));else if(o&&u&&!d&&c)F=1,H=se(H,G,ue),H=$(H,G);else if(!o&&!d&&u^c){var J=h;u?(F=1,H=se(H,G,ue),F=0,h=!1,H=se(H,G,ue),h=J):(F=0,H=se(H,G,ue),H=$(H,G),F=1,h=!1,H=se(H,G,ue),h=J,H=$(H,G))}}else F=0,H=se(H,G,ue);else F=u?1:0,H=se(H,G,ue);return H},this.__bidiEngine__.setOptions=function(H){H&&(o=H.isInputVisual,d=H.isOutputVisual,u=H.isInputRtl,c=H.isOutputRtl,h=H.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var u=0;for(o=[],u=0;u<a.length;u+=1)Object.prototype.toString.call(a[u])==="[object Array]"?o.push([r.doBidiReorder(a[u][0]),a[u][1],a[u][2]]):o.push([r.doBidiReorder(a[u])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(or),or.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Bf(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new sge(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Wme(this.contents),this.head=new Yme(this),this.name=new Jme(this),this.cmap=new oB(this),this.toUnicode={},this.hhea=new Xme(this),this.maxp=new ege(this),this.hmtx=new tge(this),this.post=new Zme(this),this.os2=new Kme(this),this.loca=new ige(this),this.glyf=new rge(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,u,d,c;for(c=[],o=0,u=(d=this.bbox).length;o<u;o++)t=d[o],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,o,u;for(o=0,i=0,u=(t=""+t).length;0<=u?i<u:i>u;i=0<=u?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var fc,Bf=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,o,u,d;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),u=this.readByte(),d=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^u)+(255^d)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*u+d},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e})(),Wme=(function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,o,u,d,c,h,g,x,y,E,N;for(N in y=Object.keys(r).length,d=Math.log(2),g=16*Math.floor(Math.log(y)/d),o=Math.floor(g/d),h=16*y-g,(a=new Bf).writeInt(this.scalarType),a.writeShort(y),a.writeShort(g),a.writeShort(o),a.writeShort(h),i=16*y,c=a.pos+i,u=null,E=[],r)for(x=r[N],a.writeString(N),a.writeInt(e(x)),a.writeInt(c),a.writeInt(x.length),E=E.concat(x),N==="head"&&(u=c),c+=x.length;c%4;)E.push(0),c++;return a.write(E),n=2981146554-e(a.data),a.pos=u+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,o;for(r=lB.call(r);r.length%4;)r.push(0);for(i=new Bf(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},t})(),Vme={}.hasOwnProperty,Vc=function(e,t){for(var r in t)Vme.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};fc=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var Yme=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Vc(e,fc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Bf).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),RI=(function(){function e(t,r){var n,a,i,o,u,d,c,h,g,x,y,E,N,T,j,D,F;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),g=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=t.readByte();break;case 4:for(y=t.readUInt16(),x=y/2,t.pos+=6,i=(function(){var U,Z;for(Z=[],d=U=0;0<=x?U<x:U>x;d=0<=x?++U:--U)Z.push(t.readUInt16());return Z})(),t.pos+=2,N=(function(){var U,Z;for(Z=[],d=U=0;0<=x?U<x:U>x;d=0<=x?++U:--U)Z.push(t.readUInt16());return Z})(),c=(function(){var U,Z;for(Z=[],d=U=0;0<=x?U<x:U>x;d=0<=x?++U:--U)Z.push(t.readUInt16());return Z})(),h=(function(){var U,Z;for(Z=[],d=U=0;0<=x?U<x:U>x;d=0<=x?++U:--U)Z.push(t.readUInt16());return Z})(),a=(this.length-t.pos+this.offset)/2,u=(function(){var U,Z;for(Z=[],d=U=0;0<=a?U<a:U>a;d=0<=a?++U:--U)Z.push(t.readUInt16());return Z})(),d=j=0,F=i.length;j<F;d=++j)for(T=i[d],n=D=E=N[d];E<=T?D<=T:D>=T;n=E<=T?++D:--D)h[d]===0?o=n+c[d]:(o=u[h[d]/2+(n-E)-(x-d)]||0)!==0&&(o+=c[d]),this.codeMap[n]=65535&o}t.pos=g}return e.encode=function(t,r){var n,a,i,o,u,d,c,h,g,x,y,E,N,T,j,D,F,U,Z,X,$,Q,q,se,H,G,ue,J,ae,re,he,Se,pe,be,oe,Y,le,me,Ce,we,Me,ze,Te,Ge,Je,qe;switch(J=new Bf,o=Object.keys(t).sort(function(lt,yt){return lt-yt}),r){case"macroman":for(N=0,T=(function(){var lt=[];for(E=0;E<256;++E)lt.push(0);return lt})(),D={0:0},i={},ae=0,pe=o.length;ae<pe;ae++)D[Te=t[a=o[ae]]]==null&&(D[Te]=++N),i[a]={old:t[a],new:D[t[a]]},T[a]=D[t[a]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(T),{charMap:i,subtable:J.data,maxGlyphID:N+1};case"unicode":for(G=[],g=[],F=0,D={},n={},j=c=null,re=0,be=o.length;re<be;re++)D[Z=t[a=o[re]]]==null&&(D[Z]=++F),n[a]={old:Z,new:D[Z]},u=D[Z]-a,j!=null&&u===c||(j&&g.push(j),G.push(a),c=u),j=a;for(j&&g.push(j),g.push(65535),G.push(65535),se=2*(q=G.length),Q=2*Math.pow(Math.log(q)/Math.LN2,2),x=Math.log(Q/2)/Math.LN2,$=2*q-Q,d=[],X=[],y=[],E=he=0,oe=G.length;he<oe;E=++he){if(H=G[E],h=g[E],H===65535){d.push(0),X.push(0);break}if(H-(ue=n[H].new)>=32768)for(d.push(0),X.push(2*(y.length+q-E)),a=Se=H;H<=h?Se<=h:Se>=h;a=H<=h?++Se:--Se)y.push(n[a].new);else d.push(ue-H),X.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*q+2*y.length),J.writeUInt16(0),J.writeUInt16(se),J.writeUInt16(Q),J.writeUInt16(x),J.writeUInt16($),Me=0,Y=g.length;Me<Y;Me++)a=g[Me],J.writeUInt16(a);for(J.writeUInt16(0),ze=0,le=G.length;ze<le;ze++)a=G[ze],J.writeUInt16(a);for(Ge=0,me=d.length;Ge<me;Ge++)u=d[Ge],J.writeUInt16(u);for(Je=0,Ce=X.length;Je<Ce;Je++)U=X[Je],J.writeUInt16(U);for(qe=0,we=y.length;qe<we;qe++)N=y[qe],J.writeUInt16(N);return{charMap:n,subtable:J.data,maxGlyphID:F+1}}},e})(),oB=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Vc(e,fc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new RI(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=RI.encode(t,r),(a=new Bf).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e})(),Xme=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Vc(e,fc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),Kme=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Vc(e,fc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),Zme=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Vc(e,fc),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,u,d;for(d=[],i=o=0,u=this.file.maxp.numGlyphs;0<=u?o<u:o>u;i=0<=u?++o:--o)d.push(t.readUInt32());return d}).call(this)}},e})(),Qme=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Jme=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Vc(e,fc),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,i,o,u,d,c,h,g,x;for(t.pos=this.offset,t.readShort(),r=t.readShort(),u=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(d={},i=h=0,g=n.length;h<g;i=++h)a=n[i],t.pos=a.offset,c=t.readString(a.length),o=new Qme(c,a),d[x=a.nameID]==null&&(d[x]=[]),d[a.nameID].push(o);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e})(),ege=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Vc(e,fc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),tge=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Vc(e,fc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,i,o,u,d;for(t.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,h;for(h=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)h.push(t.readInt16());return h})(),this.widths=(function(){var c,h,g,x;for(x=[],c=0,h=(g=this.metrics).length;c<h;c++)i=g[c],x.push(i.advance);return x}).call(this),n=this.widths[this.widths.length-1],d=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)d.push(this.widths.push(n));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),lB=[].slice,rge=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Vc(e,fc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,i,o,u,d,c,h,g;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(u=new Bf(r.read(a))).readShort(),c=u.readShort(),g=u.readShort(),d=u.readShort(),h=u.readShort(),this.cache[t]=o===-1?new age(u,c,g,d,h):new nge(u,o,c,g,d,h),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,i,o,u,d;for(o=[],i=[],u=0,d=r.length;u<d;u++)a=t[r[u]],i.push(o.length),a&&(o=o.concat(a.encode(n)));return i.push(o.length),{table:o,offsets:i}},e})(),nge=(function(){function e(t,r,n,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),age=(function(){function e(t,r,n,a,i){var o,u;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;u=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&u;)o.pos+=1&u?4:2,128&u?o.pos+=8:64&u?o.pos+=4:8&u&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Bf(lB.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),ige=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Vc(e,fc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<n.length;++o)if(n[o]=a,i<r.length&&r[i]==o){++i,n[o]=a;var u=this.offsets[o],d=this.offsets[o+1]-u;d>0&&(a+=d)}for(var c=new Array(4*n.length),h=0;h<n.length;++h)c[4*h+3]=255&n[h],c[4*h+2]=(65280&n[h])>>8,c[4*h+1]=(16711680&n[h])>>16,c[4*h]=(4278190080&n[h])>>24;return c},e})(),sge=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,o,u,d;for(a={},o=0,u=t.length;o<u;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in d=this.glyphsFor(r))n=d[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,o,u,d,c,h,g,x,y,E,N,T,j;for(a in n=oB.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),y={0:0},j=n.charMap)y[(d=j[a]).old]=d.new;for(E in x=n.maxGlyphID,o)E in y||(y[E]=x++);return h=(function(D){var F,U;for(F in U={},D)U[D[F]]=F;return U})(y),g=Object.keys(h).sort(function(D,F){return D-F}),N=(function(){var D,F,U;for(U=[],D=0,F=g.length;D<F;D++)u=g[D],U.push(h[u]);return U})(),i=this.font.glyf.encode(o,N,y),c=this.font.loca.encode(i.offsets,N),T={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},e})();or.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+(function(){var u,d,c;for(c=[],u=0,d=r.length;u<d;u++)n=r[u],c.push(t.convert(n));return c})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t})();function oge({isOpen:e,onClose:t,paquete:r}){const[n,a]=R.useState(r),[i,o]=R.useState(!1),[u,d]=R.useState(!1),c=R.useRef(null);R.useEffect(()=>{a(r),o(!1)},[r]),R.useEffect(()=>{if(e&&c.current&&n.trackingOriginal)try{p1e(c.current,n.trackingOriginal,{format:"CODE128",lineColor:"#000",width:2,height:50,displayValue:!1,margin:0})}catch{console.error("Barcode generation failed for:",n.trackingOriginal)}},[e,n.trackingOriginal,i]);const h=async()=>{d(!0);try{const g=new or({orientation:"portrait",unit:"mm",format:[101.6,152.4]});if(g.setFont("helvetica"),g.setFontSize(10),g.setFont("helvetica","bold"),g.text("YOUBOX LOGISTICS",5,10),g.setFontSize(8),g.setFont("helvetica","normal"),g.text("Miami Processing Center, FL",5,14),g.setFontSize(24),g.setFont("helvetica","bold"),g.text(n.bodegaDestino,96,14,{align:"right"}),g.setLineWidth(.5),g.line(5,18,96,18),g.setFontSize(10),g.setFont("helvetica","normal"),g.text("SHIP TO:",5,25),g.setFontSize(36),g.setFont("helvetica","bold"),g.text(n.clienteCasillero||"N/A",5,40),g.setFontSize(14),g.text((n.clienteNombre||"CLIENTE NO ASIGNADO").toUpperCase(),5,50),g.line(5,56,96,56),g.setFontSize(12),g.setFont("helvetica","bold"),g.text(`PIEZAS: ${n.piezas}`,5,65),g.text(`PESO: ${n.pesoLbs} LBS`,50,65),g.setFontSize(10),g.setFont("helvetica","normal"),g.text(`REMITENTE: ${n.remitenteInfo||"NO ESPECIFICADO"}`,5,75),g.line(5,82,96,82),c.current){const x=new XMLSerializer().serializeToString(c.current),y=document.createElement("canvas"),E=y.getContext("2d"),N=new Image;N.onload=()=>{if(y.width=N.width,y.height=N.height,E){E.fillStyle="white",E.fillRect(0,0,y.width,y.height),E.drawImage(N,0,0);const T=y.toDataURL("image/png");g.addImage(T,"PNG",10,95,80,25),g.setFontSize(11),g.setFont("helvetica","bold"),g.text(n.trackingOriginal,50.8,125,{align:"center"}),g.autoPrint();const j=g.output("bloburl");window.open(j,"_blank"),d(!1)}},N.src="data:image/svg+xml;base64,"+btoa(x)}else d(!1)}catch(g){console.error(g),alert("Error al generar PDF de la etiqueta."),d(!1)}};return e?b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/80 backdrop-blur-sm p-4 animate-in fade-in",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col animate-in zoom-in-95",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-100",children:[b.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[b.jsx(WN,{className:"h-5 w-5"}),b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:'Generar Etiqueta 4x6"'})]}),b.jsx("button",{onClick:t,className:"p-2 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-full transition-colors",children:b.jsx(zc,{className:"h-5 w-5"})})]}),b.jsxs("div",{className:"p-6 bg-slate-50 flex-1 overflow-y-auto",children:[b.jsx("div",{className:"hidden",children:b.jsx("svg",{ref:c})}),i?b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"bg-blue-50 text-blue-800 p-3 rounded-md text-sm mb-4",children:["Estas modificaciones solo aplicarn a la ",b.jsx("strong",{children:"impresin fsica"})," de la etiqueta, no alteran la base de datos oficial."]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Tracking (Cdigo de Barras)"}),b.jsx("input",{type:"text",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",value:n.trackingOriginal,onChange:g=>a({...n,trackingOriginal:g.target.value})})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Casillero (Grande)"}),b.jsx("input",{type:"text",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm font-bold uppercase",value:n.clienteCasillero,onChange:g=>a({...n,clienteCasillero:g.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Destino (Sucursal)"}),b.jsx("input",{type:"text",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm uppercase",value:n.bodegaDestino,onChange:g=>a({...n,bodegaDestino:g.target.value})})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Nombre Cliente"}),b.jsx("input",{type:"text",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",value:n.clienteNombre,onChange:g=>a({...n,clienteNombre:g.target.value})})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Peso (Lbs)"}),b.jsx("input",{type:"number",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",value:n.pesoLbs,onChange:g=>a({...n,pesoLbs:Number(g.target.value)})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Piezas"}),b.jsx("input",{type:"number",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",value:n.piezas,onChange:g=>a({...n,piezas:Number(g.target.value)})})]})]}),b.jsxs("button",{onClick:()=>o(!1),className:"w-full flex justify-center items-center gap-2 px-4 py-2 mt-2 border border-transparent text-sm font-medium rounded-md text-white bg-slate-800 hover:bg-slate-700",children:[b.jsx(Pf,{className:"h-4 w-4"}),"Guardar Borrador"]})]}):b.jsxs("div",{className:"bg-white border text-center border-slate-300 rounded-lg p-6 shadow-sm mx-auto max-w-[320px] aspect-[4/6] flex flex-col relative group",children:[b.jsx("button",{onClick:()=>o(!0),className:"absolute top-2 right-2 p-2 bg-white/80 hover:bg-slate-100 rounded-md text-slate-400 hover:text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity",title:"Modificar Informacin",children:b.jsx(S$,{className:"h-4 w-4"})}),b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsxs("div",{className:"text-left",children:[b.jsx("p",{className:"text-[10px] font-bold",children:"YOUBOX LOGISTICS"}),b.jsx("p",{className:"text-[8px] text-slate-500",children:"Miami, FL"})]}),b.jsx("h3",{className:"text-xl font-bold bg-slate-100 px-2 py-0.5 rounded",children:n.bodegaDestino})]}),b.jsx("hr",{className:"my-2 border-slate-200 border-2"}),b.jsxs("div",{className:"text-left mt-2 flex-1",children:[b.jsx("p",{className:"text-[10px] text-slate-500",children:"SHIP TO:"}),b.jsx("h2",{className:"text-4xl font-black mt-1 leading-none",children:n.clienteCasillero||"N/A"}),b.jsx("p",{className:"text-sm font-bold mt-2 truncate w-full",children:n.clienteNombre.toUpperCase()})]}),b.jsx("hr",{className:"my-2 border-slate-200"}),b.jsxs("div",{className:"flex justify-between text-xs font-bold my-2 px-2",children:[b.jsxs("p",{children:["PZ: ",n.piezas]}),b.jsxs("p",{children:["WT: ",n.pesoLbs," LBS"]})]}),b.jsxs("div",{className:"mb-4 text-center mx-auto bg-white p-2 border border-slate-100 rounded",children:[b.jsx("div",{className:"w-full h-12 bg-slate-900 mx-auto",style:{backgroundImage:"repeating-linear-gradient(90deg, transparent, transparent 2px, white 2px, white 4px)",backgroundSize:"10px 100%"}}),b.jsx("p",{className:"text-xs font-mono font-bold mt-1 tracking-widest",children:n.trackingOriginal.substring(0,25)})]})]})]}),b.jsxs("div",{className:"p-4 bg-white border-t border-slate-100 flex gap-3",children:[b.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-50",children:"Cancelar"}),b.jsxs("button",{onClick:h,disabled:u||i,className:"flex-1 inline-flex justify-center items-center gap-2 px-4 py-2 text-sm font-bold text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50",children:[u?b.jsx(to,{className:"h-4 w-4 animate-spin"}):b.jsx(WN,{className:"h-4 w-4"}),u?"Procesando...":"Mandat Imprimir"]})]})]})}):null}const DI={recibido:{label:"Recibido",color:"bg-blue-100 text-blue-700 ring-blue-600/20"},en_bodega:{label:"En Bodega",color:"bg-purple-100 text-purple-700 ring-purple-600/20"},listo_consolidar:{label:"Listo Consolidar",color:"bg-indigo-100 text-indigo-700 ring-indigo-600/20"},consolidado:{label:"Consolidado",color:"bg-amber-100 text-amber-700 ring-amber-600/20"},en_transito:{label:"En Trnsito",color:"bg-orange-100 text-orange-700 ring-orange-600/20"},entregado:{label:"Entregado",color:"bg-green-100 text-green-700 ring-green-600/20"},devuelto:{label:"Devuelto",color:"bg-red-100 text-red-700 ring-red-600/20"},perdido:{label:"Perdido",color:"bg-slate-100 text-slate-700 ring-slate-600/20"}};function lge(){const{user:e,isAdmin:t}=Ja(),[r,n]=R.useState([]),[a,i]=R.useState(!0),[o]=dM(),u=o.get("search")||"",[d,c]=R.useState(u),[h,g]=R.useState(null);R.useEffect(()=>{x()},[e]);async function x(){if(e)try{i(!0);let E=At.from("paquetes").select(`
          id, tracking, peso_lbs, estado, fecha_recepcion,
          bodegas (nombre),
          clientes (nombre, apellido, locker_id),
          transportistas (nombre)
        `).order("fecha_recepcion",{ascending:!1});t||(E=E.eq("cliente_id",e.id));const{data:N,error:T}=await E;if(T)throw T;n(N||[])}catch(E){console.error("Error fetching paquetes:",E)}finally{i(!1)}}const y=r.filter(E=>{var N,T;return E.tracking.toLowerCase().includes(d.toLowerCase())||((T=(N=E.clientes)==null?void 0:N.locker_id)==null?void 0:T.toLowerCase().includes(d.toLowerCase()))});return b.jsxs("div",{className:"space-y-6 animate-fade-in relative z-10 w-full max-w-full overflow-hidden",children:[b.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900 bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-600",children:t?"Control de Inventario":"Mis Paquetes"}),b.jsx("p",{className:"text-sm font-medium text-slate-500 mt-1",children:t?"Gestin de paquetes en almacn (Warehouses).":"Rastrea el estado de tus compras en tiempo real."})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("button",{className:"inline-flex flex-1 md:flex-none items-center justify-center gap-2 rounded-xl bg-white/70 backdrop-blur-sm px-4 py-2.5 text-sm font-semibold text-slate-700 shadow-sm border border-slate-200/80 hover:bg-white hover:shadow-md transition-all duration-200",children:[b.jsx(HG,{className:"h-4 w-4 text-blue-500"}),"Filtros"]}),t&&b.jsxs("button",{className:"inline-flex flex-1 md:flex-none items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2.5 text-sm font-semibold text-white shadow-md shadow-blue-500/20 hover:from-blue-500 hover:to-indigo-500 hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200",children:[b.jsx(IM,{className:"h-4 w-4"}),"Exportar"]})]})]}),b.jsx("div",{className:"rounded-2xl glass overflow-hidden flex flex-col min-w-0",children:b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full divide-y divide-slate-200/60",children:[b.jsx("thead",{className:"bg-slate-50/50 backdrop-blur-sm",children:b.jsxs("tr",{children:[b.jsx("th",{scope:"col",className:"py-4 pl-4 pr-3 text-left text-xs font-bold uppercase tracking-wider text-slate-500 sm:pl-6",children:"Tracking / Envo"}),t&&b.jsx("th",{scope:"col",className:"px-3 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-500",children:"Cliente"}),b.jsx("th",{scope:"col",className:"px-3 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-500 hidden sm:table-cell",children:"Ingreso"}),b.jsx("th",{scope:"col",className:"px-3 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-500 hidden sm:table-cell",children:"Peso"}),b.jsx("th",{scope:"col",className:"px-3 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-500 hidden md:table-cell",children:"Ubicacin"}),b.jsx("th",{scope:"col",className:"px-3 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-500",children:"Estatus"}),t&&b.jsx("th",{scope:"col",className:"relative py-4 pl-3 pr-4 sm:pr-6",children:b.jsx("span",{className:"sr-only",children:"Acciones"})})]})}),b.jsx("tbody",{className:"divide-y divide-slate-100 bg-white/40",children:a?b.jsx("tr",{children:b.jsx("td",{colSpan:t?7:6,className:"py-20 text-center",children:b.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[b.jsx(to,{className:"h-8 w-8 animate-spin text-blue-500"}),b.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Sincronizando inventario..."})]})})}):y.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:t?7:6,className:"py-20 text-center",children:b.jsxs("div",{className:"flex flex-col items-center gap-3",children:[b.jsx("div",{className:"h-16 w-16 rounded-full bg-slate-100 flex items-center justify-center",children:b.jsx(Kb,{className:"h-8 w-8 text-slate-400"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-base font-semibold text-slate-700",children:"No hay paquetes registrados"}),b.jsx("p",{className:"text-sm text-slate-500 mt-1 max-w-sm mx-auto",children:"Los paquetes aparecern aqu en cuanto sean procesados en nuestras bodegas."})]})]})})}):y.map((E,N)=>{var T,j,D,F,U,Z,X;return b.jsxs("tr",{className:"hover:bg-blue-50/50 transition-colors animate-fade-in group",style:{animationDelay:`${N*50}ms`},children:[b.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 sm:pl-6",children:b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"rounded-xl bg-gradient-to-br from-blue-100 to-indigo-100 p-2.5 hidden sm:block shadow-sm group-hover:scale-105 transition-transform",children:b.jsx(Sl,{className:"h-5 w-5 text-blue-600"})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-bold text-slate-900 text-sm tracking-tight",children:E.tracking}),b.jsxs("div",{className:"text-xs font-medium text-slate-500 mt-0.5 flex items-center gap-1.5",children:[b.jsx(T0,{className:"h-3 w-3"}),((T=E.transportistas)==null?void 0:T.nombre)||"Carrier"]}),b.jsxs("div",{className:"sm:hidden flex items-center gap-2 text-xs font-medium text-slate-400 mt-1.5",children:[b.jsxs("span",{className:"bg-slate-100 px-2 py-0.5 rounded-md",children:[E.peso_lbs," lbs"]}),b.jsx("span",{children:""}),b.jsx("span",{children:E.fecha_recepcion?rl(new Date(E.fecha_recepcion),"dd/MM",{locale:Lf}):"N/A"})]})]})]})}),t&&b.jsxs("td",{className:"whitespace-nowrap px-3 py-4",children:[b.jsxs("div",{className:"text-sm font-semibold text-slate-700",children:[(j=E.clientes)==null?void 0:j.nombre," ",(D=E.clientes)==null?void 0:D.apellido]}),b.jsx("div",{className:"text-xs font-bold text-blue-600 bg-blue-50 inline-flex items-center px-2 py-0.5 rounded-md mt-1",children:(F=E.clientes)==null?void 0:F.locker_id})]}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm font-medium text-slate-600 hidden sm:table-cell",children:E.fecha_recepcion?rl(new Date(E.fecha_recepcion),"dd MMM yyyy",{locale:Lf}):"N/A"}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4 hidden sm:table-cell",children:b.jsxs("span",{className:"inline-flex items-center rounded-lg bg-slate-100 px-2.5 py-1 text-xs font-semibold text-slate-700",children:[E.peso_lbs," ",b.jsx("span",{className:"text-slate-400 ml-1",children:"lbs"})]})}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4 hidden md:table-cell",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-emerald-500"}),b.jsx("span",{className:"text-sm font-medium text-slate-700",children:((U=E.bodegas)==null?void 0:U.nombre)||"Bodega General"})]})}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm",children:b.jsxs("span",{className:`inline-flex items-center gap-1.5 rounded-lg px-2.5 py-1 text-xs font-bold ring-1 ring-inset shadow-sm ${((Z=DI[E.estado])==null?void 0:Z.color)||"bg-slate-50 text-slate-600 ring-slate-500/10"}`,children:[b.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-current opacity-70"}),((X=DI[E.estado])==null?void 0:X.label)||E.estado]})}),t&&b.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:b.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[b.jsx("button",{onClick:()=>{var $,Q,q,se,H;return g({remitenteInfo:(($=E.transportistas)==null?void 0:$.nombre)||"",trackingOriginal:E.tracking,clienteCasillero:((Q=E.clientes)==null?void 0:Q.locker_id)||"",clienteNombre:`${((q=E.clientes)==null?void 0:q.nombre)||""} ${((se=E.clientes)==null?void 0:se.apellido)||""}`.trim(),bodegaDestino:((H=E.bodegas)==null?void 0:H.nombre)||"General",pesoLbs:E.peso_lbs,piezas:1})},className:"p-2 rounded-xl text-slate-400 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200",title:"Imprimir Etiqueta",children:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),b.jsx("path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6"}),b.jsx("rect",{x:"6",y:"14",width:"12",height:"8",rx:"1"})]})}),b.jsx("button",{className:"p-2 rounded-xl text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 transition-all duration-200",title:"Editar Paquete",children:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M12 20h9"}),b.jsx("path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"})]})})]})})]},E.id)})})]})})}),h&&b.jsx(oge,{isOpen:!!h,onClose:()=>g(null),paquete:h})]})}const LI=["Creado","En trnsito","SAT","Pago de Impuestos","Oficina Quetzaltenango","Entregado","ALERTA","SEGURO","Update Mobile"];function cge({consolidacionId:e,codigoMaster:t,onClose:r,onUpdate:n}){const{user:a}=Ja(),[i,o]=R.useState([]),[u,d]=R.useState(!0),[c,h]=R.useState(!1),[g,x]=R.useState(LI[0]),[y,E]=R.useState(new Date().toISOString().split("T")[0]),[N,T]=R.useState(""),[j,D]=R.useState(""),[F,U]=R.useState(!1),[Z,X]=R.useState(!1);R.useEffect(()=>{$()},[e]);async function $(){d(!0);try{const{data:se,error:H}=await At.from("historial_consolidaciones").select("*, usuarios(nombre, apellido)").eq("consolidacion_id",e).order("fecha_evento",{ascending:!1}).order("created_at",{ascending:!1});if(H)throw H;o(se||[])}catch(se){console.error("Error fetching tracking history:",se)}finally{d(!1)}}const Q=async se=>{if(se.preventDefault(),!g||!y){alert("Completar campos obligatorios (Fecha y Estado).");return}h(!0);try{const{error:H}=await At.from("historial_consolidaciones").insert([{consolidacion_id:e,estado:g,ciudad:N||null,comentario:j||null,notificar_wa:F,notificar_email:Z,creado_por:a==null?void 0:a.id,fecha_evento:new Date(y).toISOString()}]);if(H)throw H;const ue={Creado:"abierta","En trnsito":"en_transito",Entregado:"entregada"}[g]||"en_transito";await At.from("consolidaciones").update({estado:ue}).eq("id",e);const{data:J}=await At.from("consolidacion_paquetes").select("paquete_id").eq("consolidacion_id",e);if(J&&J.length>0){const ae=J.map(Se=>Se.paquete_id);let re="";g==="Creado"?re="consolidado":["En trnsito","SAT","Pago de Impuestos","Oficina Quetzaltenango"].includes(g)?re="en_transito":g==="Entregado"&&(re="entregado"),re&&await At.from("paquetes").update({estado:re}).in("id",ae);const he=ae.map(Se=>({paquete_id:Se,estado_anterior:"Actualizacin Automtica",estado_nuevo:re||"en_transito",usuario_id:a==null?void 0:a.id,notas:`[Actualizacin de Contenedor Master ${t}] - ${g}${N?` en ${N}`:""}. ${j||""}`.trim()}));if(await At.from("historial_estados").insert(he),Z){const{data:Se}=await At.from("paquetes").select("cliente_id, clientes(nombre, apellido)").in("id",ae);if(Se){const pe=new Map;Se.forEach(oe=>{oe.cliente_id&&oe.clientes&&!pe.has(oe.cliente_id)&&pe.set(oe.cliente_id,oe.clientes)});const be=Array.from(pe.entries());if(be.length>0){const oe=be.map(([Y,le])=>({cliente_id:Y,tipo:"email",asunto:`Actualizacin de Envo - Master ${t}`,mensaje:`Hola ${le.nombre},

Tu paquete perteneciente al viaje ${t} ha sido actualizado al siguiente estado: **${g}**${N?` en ${N}`:""}.

${j?"Nota: "+j:""}

Gracias por confiar en nosotros.`,estado:"pendiente"}));await At.from("notificaciones").insert(oe)}}}}T(""),D(""),U(!1),X(!1),await $(),n()}catch(H){alert("Error guardando estatus: "+H.message),console.error(H)}finally{h(!1)}},q=se=>{switch(se){case"Creado":return b.jsx(k3,{className:"h-5 w-5 text-blue-500"});case"En trnsito":return b.jsx(T0,{className:"h-5 w-5 text-blue-500"});case"SAT":return b.jsx(T3,{className:"h-5 w-5 text-orange-500"});case"Pago de Impuestos":return b.jsx(Pv,{className:"h-5 w-5 text-indigo-500"});case"Oficina Quetzaltenango":return b.jsx(tc,{className:"h-5 w-5 text-teal-600"});case"Entregado":return b.jsx(g$,{className:"h-5 w-5 text-green-600"});case"ALERTA":return b.jsx(K$,{className:"h-5 w-5 text-red-500"});case"SEGURO":return b.jsx(Pv,{className:"h-5 w-5 text-blue-700"});case"Update Mobile":return b.jsx(F$,{className:"h-5 w-5 text-slate-600"});default:return b.jsx(Q5,{className:"h-5 w-5 text-slate-400"})}};return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-5xl max-h-[90vh] flex flex-col overflow-hidden animate-in zoom-in-95 duration-200",children:[b.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100 bg-slate-50",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold text-slate-800 tracking-tight",children:"Estatus de Consolidado"}),b.jsxs("p",{className:"text-sm text-slate-500 font-medium mt-0.5",children:["Master: ",b.jsx("span",{className:"text-blue-600 font-bold",children:t})]})]}),b.jsx("button",{onClick:r,className:"p-2 text-slate-400 hover:bg-slate-200 hover:text-slate-600 rounded-full transition-colors",children:b.jsx(zc,{className:"h-5 w-5"})})]}),b.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[b.jsxs("div",{className:"w-full md:w-1/2 p-6 overflow-y-auto border-r border-slate-100 bg-white",children:[b.jsxs("div",{className:"mb-6 pb-2 border-b border-slate-100 flex items-center gap-2",children:[b.jsx("div",{className:"p-1.5 bg-blue-100 text-blue-600 rounded-lg",children:b.jsx(P$,{className:"h-4 w-4"})}),b.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Nuevo Estatus"})]}),b.jsxs("form",{onSubmit:Q,className:"space-y-5",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-1.5",children:[b.jsxs("label",{className:"text-sm font-semibold text-slate-700 flex items-center gap-1.5 hover:text-blue-600 cursor-pointer group",children:[b.jsx(fp,{className:"h-3.5 w-3.5 text-slate-400 group-hover:text-blue-500"})," Fecha ",b.jsx("span",{className:"text-red-500",children:"*"})]}),b.jsx("input",{type:"date",required:!0,value:y,onChange:se=>E(se.target.value),className:"block w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm h-10 px-3"})]}),b.jsxs("div",{className:"space-y-1.5",children:[b.jsxs("label",{className:"text-sm font-semibold text-slate-700 flex items-center gap-1.5",children:["Estado ",b.jsx("span",{className:"text-red-500",children:"*"})]}),b.jsx("select",{required:!0,value:g,onChange:se=>x(se.target.value),className:"block w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm font-medium h-10 px-3 bg-slate-50",children:LI.map(se=>b.jsx("option",{value:se,children:se},se))})]})]}),b.jsxs("div",{className:"space-y-1.5",children:[b.jsxs("label",{className:"text-sm font-semibold text-slate-700 flex items-center gap-1.5",children:[b.jsx(tc,{className:"h-3.5 w-3.5 text-slate-400"})," Ciudad / Ubicacin"]}),b.jsx("input",{type:"text",placeholder:"Ej. Aduana Tecn Umn",value:N,onChange:se=>T(se.target.value),className:"block w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm h-10 px-3",list:"ciudades-sugeridas"}),b.jsxs("datalist",{id:"ciudades-sugeridas",children:[b.jsx("option",{value:"Laredo, TX"}),b.jsx("option",{value:"Tapachula"}),b.jsx("option",{value:"Ciudad de Guatemala"}),b.jsx("option",{value:"Quetzaltenango"})]})]}),b.jsxs("div",{className:"space-y-1.5",children:[b.jsxs("label",{className:"text-sm font-semibold text-slate-700 flex items-center gap-1.5",children:[b.jsx(p$,{className:"h-3.5 w-3.5 text-slate-400"})," Comentario"]}),b.jsx("textarea",{rows:3,value:j,onChange:se=>D(se.target.value),placeholder:"Instrucciones, notas de aduana o detalles del atraso...",className:"block w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-3 resize-none"})]}),b.jsxs("div",{className:"pt-2",children:[b.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"Notificaciones a Clientes"}),b.jsxs("div",{className:"space-y-3 bg-slate-50 p-4 rounded-xl border border-slate-100",children:[b.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[b.jsx("input",{type:"checkbox",checked:F,onChange:se=>U(se.target.checked),className:"h-4 w-4 rounded border-slate-300 text-green-600 focus:ring-green-600"}),b.jsxs("span",{className:"text-sm font-medium text-slate-700 group-hover:text-green-700 transition-colors",children:["Enviar notificacin por ",b.jsx("b",{children:"WhatsApp"})]})]}),b.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[b.jsx("input",{type:"checkbox",checked:Z,onChange:se=>X(se.target.checked),className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-600"}),b.jsxs("span",{className:"text-sm font-medium text-slate-700 group-hover:text-blue-700 transition-colors",children:["Enviar notificacin por ",b.jsx("b",{children:"Correo Automtico"})]})]})]})]}),b.jsx("div",{className:"pt-4",children:b.jsx("button",{type:"submit",disabled:c,className:"w-full inline-flex justify-center items-center gap-2 rounded-xl bg-blue-600 px-4 py-3 text-sm font-bold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Registrando Estatus...":"Aadir Estatus"})})]})]}),b.jsxs("div",{className:"w-full md:w-1/2 bg-slate-50 overflow-y-auto p-6 relative",children:[b.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-6 sticky top-0 bg-slate-50/90 backdrop-blur z-10 pb-2",children:"Lnea de Tiempo Operativa"}),u?b.jsx("div",{className:"flex justify-center py-20",children:b.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"})}):i.length===0?b.jsxs("div",{className:"text-center py-16 px-4",children:[b.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-slate-200 flex items-center justify-center mb-3",children:b.jsx(Q5,{className:"h-6 w-6 text-slate-400"})}),b.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"No se han registrado movimientos todava."})]}):b.jsx("div",{className:"flow-root",children:b.jsx("ul",{role:"list",className:"-mb-8",children:i.map((se,H)=>b.jsx("li",{children:b.jsxs("div",{className:"relative pb-8",children:[H!==i.length-1?b.jsx("span",{className:"absolute left-5 top-5 -ml-px h-full w-0.5 bg-slate-200","aria-hidden":"true"}):null,b.jsxs("div",{className:"relative flex items-start space-x-3",children:[b.jsx("div",{className:`relative px-1 ${H===0?"bg-blue-50":"bg-slate-50"} rounded-full ring-8 ring-white flex h-8 w-8 items-center justify-center shadow-sm`,children:q(se.estado)}),b.jsxs("div",{className:"min-w-0 flex-1 bg-white p-4 rounded-xl border border-slate-200 shadow-sm ml-2 relative group",children:[b.jsxs("div",{className:"text-sm mb-1",children:[b.jsx("span",{className:"font-bold text-slate-900 mr-2",children:se.estado}),se.ciudad&&b.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-slate-100 px-2 py-0.5 text-xs font-semibold text-slate-700",children:[b.jsx(tc,{className:"h-3 w-3"})," ",se.ciudad]})]}),se.comentario&&b.jsxs("p",{className:"mt-2 text-sm text-slate-600 leading-relaxed bg-slate-50 p-2.5 rounded-lg border border-slate-100 italic",children:['"',se.comentario,'"']}),b.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-slate-400 font-medium",children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(fp,{className:"h-3.5 w-3.5"}),rl(new Date(se.fecha_evento||se.created_at),"dd MMM yyyy 'a las' HH:mm")]}),b.jsxs("span",{children:["por ",se.usuarios?`${se.usuarios.nombre} ${se.usuarios.apellido}`:"Sistema"]})]})]})]})]})},se.id))})})]})]})]})})}function uge({isOpen:e,onClose:t,onSuccess:r,consolidacionId:n,bodegaId:a}){const{user:i}=Ja(),[o,u]=R.useState(!1),[d,c]=R.useState(!1),[h,g]=R.useState([]),[x,y]=R.useState([]),[E,N]=R.useState(!0);R.useEffect(()=>{e&&n&&a?j():T()},[e,n,a]);const T=()=>{g([]),y([]),N(!0)},j=async()=>{u(!0);try{const{data:U,error:Z}=await At.from("tarifas").select("id, nombre_servicio, tarifa_q, tipo_cobro").eq("bodega_id",a).eq("activa",!0);if(Z)throw Z;const X=U||[];y(X);const{data:$,error:Q}=await At.from("consolidacion_paquetes").select("paquete_id").eq("consolidacion_id",n);if(Q)throw Q;if(!$||$.length===0){g([]),u(!1);return}const q=$.map(J=>J.paquete_id),{data:se,error:H}=await At.from("paquetes").select("id, peso_lbs, cliente_id, clientes(id, nombre, apellido, locker_id, email)").in("id",q);if(H)throw H;const G=new Map;se.forEach(J=>{if(!J.cliente_id||!J.clientes)return;const ae=J.cliente_id;G.has(ae)||G.set(ae,{cliente:J.clientes,paquetes:[],totalLbs:0,tarifaAplicada:null,totalQ:0});const re=G.get(ae);re.paquetes.push(J),re.totalLbs+=Number(J.peso_lbs)||0});const ue=Array.from(G.values()).map(J=>{let ae=null,re=0;return X.length>0&&(ae=X.find(he=>he.tipo_cobro==="por_libra")||X[0],ae.tipo_cobro==="por_libra"?re=ae.tarifa_q*(J.totalLbs>0?J.totalLbs:1):ae.tipo_cobro==="fijo"?re=ae.tarifa_q:ae.tipo_cobro==="por_paquete"&&(re=ae.tarifa_q*J.paquetes.length)),{...J,tarifaAplicada:ae,totalQ:re}});g(ue)}catch(U){console.error("Error cargando previsualizacin:",U),alert("Ocurri un error leyendo los paquetes de la consolidacin.")}finally{u(!1)}},D=async()=>{var U,Z;if(h.length!==0){c(!0);try{let X=0;for(const $ of h){if($.totalQ<=0)continue;const Q=`FAC-${Math.random().toString(36).substring(2,8).toUpperCase()}`,q=await At.from("facturas").insert([{numero:Q,cliente_id:$.cliente.id,consolidacion_id:n,monto_subtotal:$.totalQ,monto_total:$.totalQ,estado:"pendiente",moneda:"GTQ",creado_por:(U=i==null?void 0:i.id)!=null&&U.includes("-")&&i.id.length>15?i.id:null,notas:`Factura masiva por importacin de ${$.paquetes.length} paquete(s) consolidado(s).`}]).select().single();if(q.error)throw q.error;const se=q.data,H=await At.from("conceptos_factura").insert([{factura_id:se.id,descripcion:`Servicio de Logstica (${((Z=$.tarifaAplicada)==null?void 0:Z.nombre_servicio)||"Genrico"}) - ${$.totalLbs.toFixed(2)} lbs agrupadas.`,cantidad:1,precio_unitario:$.totalQ,subtotal:$.totalQ}]);if(H.error)throw H.error;E&&$.cliente.email&&await At.from("notificaciones").insert([{cliente_id:$.cliente.id,tipo:"email",asunto:"Nueva Factura Generada - Lote Consolidado",mensaje:`Hola ${$.cliente.nombre}, hemos generado tu factura ${Q} por procesar ${$.paquetes.length} paquete(s) por un monto de Q${$.totalQ.toFixed(2)}. Puedes revisar tu portal para realizar el pago.`,estado:"pendiente"}]),X++}alert(`Facturacin Masiva Completada! Se generaron ${X} facturas.`),r(),t()}catch(X){console.error(X),alert("Error al generar las facturas: "+X.message)}finally{c(!1)}}};if(!e)return null;const F=h.reduce((U,Z)=>U+Z.totalQ,0);return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in-95",children:[b.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200",children:[b.jsxs("div",{children:[b.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[b.jsx(Cd,{className:"h-5 w-5 text-blue-600"}),"Facturacin Masiva por Consolidado"]}),b.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Auto-clculo agrupando paquetes y tarifas asociadas al origen"})]}),b.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:text-slate-600 rounded-full hover:bg-slate-100 transition-colors",children:b.jsx(zc,{className:"h-5 w-5"})})]}),b.jsx("div",{className:"p-6 flex-1 overflow-y-auto bg-slate-50/50",children:o?b.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[b.jsx(to,{className:"h-10 w-10 text-blue-600 animate-spin mb-4"}),b.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Calculando e indexando paquetes..."})]}):h.length===0?b.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-slate-200",children:[b.jsx(Sl,{className:"h-12 w-12 text-slate-300 mx-auto mb-3"}),b.jsx("p",{className:"text-slate-900 font-semibold",children:"Consolidado sin paquetes."}),b.jsx("p",{className:"text-slate-500 text-sm",children:"No hay paquetes asociados o los clientes no son legibles."})]}):b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center gap-4",children:[b.jsx("div",{className:"bg-indigo-100 p-3 rounded-lg text-indigo-600",children:b.jsx(_d,{className:"h-6 w-6"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Clientes"}),b.jsx("p",{className:"text-2xl font-black text-slate-900",children:h.length})]})]}),b.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center gap-4",children:[b.jsx("div",{className:"bg-sky-100 p-3 rounded-lg text-sky-600",children:b.jsx(Sl,{className:"h-6 w-6"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Total Cajas"}),b.jsx("p",{className:"text-2xl font-black text-slate-900",children:h.reduce((U,Z)=>U+Z.paquetes.length,0)})]})]}),b.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center gap-4",children:[b.jsx("div",{className:"bg-emerald-100 p-3 rounded-lg text-emerald-600",children:b.jsx(Cd,{className:"h-6 w-6"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Facturacin Bruta"}),b.jsxs("p",{className:"text-2xl font-black text-slate-900",children:["Q",F.toFixed(2)]})]})]})]}),b.jsx("div",{className:"bg-white border text-sm border-slate-200 rounded-xl overflow-hidden shadow-sm",children:b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"bg-slate-100 text-slate-600 border-b border-slate-200",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-4 py-3 font-semibold",children:"Casillero y Cliente"}),b.jsx("th",{className:"px-4 py-3 font-semibold text-center",children:"Cajas (Lbs)"}),b.jsx("th",{className:"px-4 py-3 font-semibold",children:"Tarifa Sugerida"}),b.jsx("th",{className:"px-4 py-3 font-semibold text-right",children:"Monto a Facturar"})]})}),b.jsx("tbody",{className:"divide-y divide-slate-100",children:h.map((U,Z)=>b.jsxs("tr",{className:"hover:bg-slate-50/50",children:[b.jsxs("td",{className:"px-4 py-3",children:[b.jsx("p",{className:"font-bold text-slate-900",children:U.cliente.locker_id}),b.jsxs("p",{className:"text-xs text-slate-500",children:[U.cliente.nombre," ",U.cliente.apellido]})]}),b.jsxs("td",{className:"px-4 py-3 text-center",children:[b.jsxs("p",{className:"font-medium text-slate-800",children:[U.paquetes.length," Pz"]}),b.jsxs("p",{className:"text-xs text-slate-500",children:[U.totalLbs.toFixed(2)," Lbs"]})]}),b.jsx("td",{className:"px-4 py-3",children:U.tarifaAplicada?b.jsxs(b.Fragment,{children:[b.jsx("p",{className:"font-medium text-slate-800 text-xs inline-flex items-center px-2 py-0.5 rounded-md bg-slate-200",children:U.tarifaAplicada.nombre_servicio}),b.jsxs("p",{className:"text-[10px] text-slate-500 mt-1",children:["Q",U.tarifaAplicada.tarifa_q," - ",U.tarifaAplicada.tipo_cobro]})]}):b.jsx("span",{className:"text-red-500 text-xs font-medium",children:"Asignacin Manual Requerida"})}),b.jsx("td",{className:"px-4 py-3 text-right",children:b.jsxs("span",{className:"font-bold bg-green-100 text-green-800 px-2 py-1 rounded-md border border-green-200",children:["Q",U.totalQ.toFixed(2)]})})]},Z))})]})})]})}),b.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 bg-white flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"checkbox",id:"sendEmailBulk",checked:E,onChange:U=>N(U.target.checked),className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-600"}),b.jsx("label",{htmlFor:"sendEmailBulk",className:"text-sm text-slate-700 font-medium cursor-pointer",children:"Enviar avisos por correo"})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium rounded-md text-slate-700 bg-white border border-slate-300 hover:bg-slate-50",children:"Cancelar"}),b.jsxs("button",{onClick:D,disabled:d||o||h.length===0,className:"inline-flex items-center gap-2 px-6 py-2 text-sm font-bold rounded-md text-white bg-blue-600 hover:bg-blue-500 disabled:opacity-50",children:[d?b.jsx(to,{className:"h-4 w-4 animate-spin"}):b.jsx(Pf,{className:"h-4 w-4"}),d?"Generando recibos...":"Generar y Facturar Todo"]})]})]})]})})}function fge(){const[e,t]=R.useState([]),[r,n]=R.useState(!0),[a,i]=R.useState(""),[o,u]=R.useState(null),[d,c]=R.useState(""),[h,g]=R.useState(!1),[x,y]=R.useState(""),[E,N]=R.useState(""),{user:T,isAdmin:j}=Ja();R.useEffect(()=>{D()},[]);async function D(){n(!0);try{const{data:$,error:Q}=await At.from("consolidaciones").select(`
          id, codigo, estado, peso_total_lbs, created_at,
          bodegas(id, nombre),
          zonas(id, nombre),
          consolidacion_paquetes(count)
        `).order("created_at",{ascending:!1});if(Q)throw Q;const q=($||[]).map(se=>{var H,G;return{id:se.id,codigo:se.codigo,estado:se.estado,peso_total_lbs:se.peso_total_lbs,created_at:se.created_at,bodegas:Array.isArray(se.bodegas)?se.bodegas[0]:se.bodegas,zonas:Array.isArray(se.zonas)?se.zonas[0]:se.zonas,paquetes_count:Array.isArray(se.consolidacion_paquetes)?((H=se.consolidacion_paquetes[0])==null?void 0:H.count)||0:((G=se.consolidacion_paquetes)==null?void 0:G.count)||0}});t(q)}catch($){console.error("Error fetching consolidaciones:",$)}finally{n(!1)}}const F=($,Q)=>{u($),c(Q)},U=($,Q)=>{y($),N(Q),g(!0)},Z=$=>{switch($){case"abierta":return"bg-blue-100 text-blue-800 border-blue-200";case"en_transito":return"bg-amber-100 text-amber-800 border-amber-200";case"entregada":return"bg-emerald-100 text-emerald-800 border-emerald-200";default:return"bg-slate-100 text-slate-800 border-slate-200"}},X=e.filter($=>$.codigo.toLowerCase().includes(a.toLowerCase())||$.estado.toLowerCase().includes(a.toLowerCase()));return b.jsxs("div",{className:"space-y-6 animate-fade-in relative z-10 w-full max-w-full overflow-hidden",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 glass p-4 rounded-2xl w-full",children:[b.jsxs("div",{className:"relative w-full sm:w-96 group",children:[b.jsx(Id,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),b.jsx("input",{type:"text",placeholder:"Buscar por cdigo de Consolidado o Estatus...",value:a,onChange:$=>i($.target.value),className:"h-10 w-full rounded-xl border border-slate-200/80 bg-slate-50/50 pl-10 pr-4 text-sm text-slate-700 outline-none transition-all duration-300 focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 placeholder:text-slate-400 hover:border-slate-300"})]}),b.jsx("button",{onClick:D,className:"inline-flex items-center justify-center gap-2 rounded-xl bg-white/70 backdrop-blur-sm px-4 py-2 text-sm font-semibold text-slate-700 shadow-sm border border-slate-200/80 hover:bg-white hover:shadow-md transition-all duration-200 w-full sm:w-auto",children:"Refrescar Lista"})]}),b.jsx("div",{className:"rounded-2xl glass overflow-hidden flex flex-col min-w-0",children:r?b.jsxs("div",{className:"flex justify-center flex-col items-center py-20 px-4",children:[b.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-500 border-t-transparent mb-4"}),b.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Sincronizando bitcora maestra..."})]}):X.length===0?b.jsxs("div",{className:"text-center py-20 px-4",children:[b.jsx("div",{className:"h-16 w-16 rounded-full bg-slate-100 flex items-center justify-center mx-auto mb-4",children:b.jsx(wd,{className:"h-8 w-8 text-slate-400"})}),b.jsx("h3",{className:"text-base font-semibold text-slate-700",children:"No hay consolidados"}),b.jsx("p",{className:"mt-1 text-sm text-slate-500 max-w-sm mx-auto",children:"Todava no has agrupado ningn envo maestro."})]}):b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full divide-y divide-slate-200/60",children:[b.jsx("thead",{className:"bg-slate-50/50 backdrop-blur-sm",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Detalle del Consolidado"}),b.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-500 uppercase tracking-wider hidden sm:table-cell",children:"Ruta"}),b.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-slate-500 uppercase tracking-wider hidden md:table-cell",children:"Estatus Actual"}),b.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Carga"}),b.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Acciones"})]})}),b.jsx("tbody",{className:"bg-white/40 divide-y divide-slate-100",children:X.map(($,Q)=>{var q,se,H,G,ue;return b.jsxs("tr",{className:"hover:bg-blue-50/50 transition-colors animate-fade-in group",style:{animationDelay:`${Q*50}ms`},children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"h-10 w-10 shrink-0 hidden sm:flex items-center justify-center rounded-xl bg-gradient-to-br from-indigo-100 to-blue-100 p-2.5 shadow-sm group-hover:scale-105 transition-transform",children:b.jsx(T0,{className:"h-5 w-5 text-indigo-600"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-bold text-slate-900 tracking-tight",children:$.codigo}),b.jsxs("p",{className:"text-xs font-medium text-slate-500 flex items-center gap-1.5 mt-0.5",children:[b.jsx(fp,{className:"h-3 w-3"}),rl(new Date($.created_at),"dd MMM yyyy",{locale:Lf})]}),b.jsxs("div",{className:"sm:hidden flex flex-col gap-1 mt-2",children:[b.jsx("span",{className:`inline-flex items-center w-fit px-2 py-0.5 rounded-md text-[10px] font-bold uppercase tracking-wide ${Z($.estado)}`,children:$.estado.replace("_"," ")}),b.jsxs("span",{className:"text-xs text-slate-400 truncate max-w-[150px]",children:[(q=$.bodegas)==null?void 0:q.nombre,"  ",(se=$.zonas)==null?void 0:se.nombre]})]})]})]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap hidden sm:table-cell",children:b.jsxs("div",{className:"flex flex-col text-sm text-slate-600 space-y-1",children:[b.jsxs("span",{className:"flex items-center gap-1.5",children:[b.jsx(tc,{className:"h-3.5 w-3.5 text-slate-400"})," ",b.jsx("span",{className:"font-semibold text-slate-700",children:"Origen:"})," ",((H=$.bodegas)==null?void 0:H.nombre)||"N/A"]}),b.jsxs("span",{className:"flex items-center gap-1.5",children:[b.jsx(tc,{className:"h-3.5 w-3.5 text-slate-400"})," ",b.jsx("span",{className:"font-semibold text-slate-700",children:"Destino:"})," ",((G=$.zonas)==null?void 0:G.nombre)||"N/A"]})]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center hidden md:table-cell",children:b.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-bold border uppercase tracking-wide shadow-sm ${Z($.estado)}`,children:$.estado.replace("_"," ")})}),b.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center gap-1",children:[b.jsxs("p",{className:"text-sm font-bold text-slate-800 bg-slate-100 inline-block px-2 py-0.5 rounded-md",children:[$.paquetes_count," ",b.jsx("span",{className:"text-xs text-slate-500 font-medium",children:"Paquetes"})]}),b.jsxs("p",{className:"text-xs font-bold text-slate-500 mt-1",children:[(ue=$.peso_total_lbs)==null?void 0:ue.toFixed(2)," lbs"]})]}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:b.jsxs("div",{className:"flex items-center justify-end gap-2",children:[j&&$.bodegas&&b.jsxs("button",{onClick:()=>U($.id,$.bodegas.id),className:"inline-flex items-center justify-center gap-1.5 text-emerald-600 bg-emerald-50 border border-emerald-100 hover:bg-emerald-600 hover:text-white px-3 py-1.5 rounded-xl transition-all duration-200 font-bold shadow-sm",title:"Generar Facturas",children:[b.jsx(wd,{className:"h-4 w-4"})," ",b.jsx("span",{className:"hidden lg:inline",children:"Facturar Lote"})]}),b.jsxs("button",{onClick:()=>F($.id,$.codigo),className:"inline-flex items-center justify-center gap-1.5 text-indigo-600 bg-indigo-50 border border-indigo-100 hover:bg-indigo-600 hover:text-white px-3 py-1.5 rounded-xl transition-all duration-200 font-bold shadow-sm",children:[b.jsx(MM,{className:"h-4 w-4"})," ",b.jsx("span",{className:"hidden lg:inline",children:"Tracking"})]})]})})]},$.id)})})]})})}),o&&b.jsx(cge,{consolidacionId:o,codigoMaster:d,onClose:()=>u(null),onUpdate:D}),h&&b.jsx(uge,{isOpen:h,onClose:()=>g(!1),onSuccess:()=>{D()},consolidacionId:x,bodegaId:E})]})}function dge(){const{user:e}=Ja(),[t,r]=R.useState("create"),[n,a]=R.useState([]),[i,o]=R.useState([]),[u,d]=R.useState([]),[c,h]=R.useState(!0),[g,x]=R.useState(!1),[y,E]=R.useState(""),[N,T]=R.useState({nombre_alternativo:"",origen_id:"",destino_id:""}),[j,D]=R.useState(new Set);R.useEffect(()=>{F()},[]);async function F(){h(!0);try{const[H,G,ue]=await Promise.all([At.from("bodegas").select("id, nombre").eq("activo",!0),At.from("zonas").select("id, nombre").eq("activo",!0),At.from("paquetes").select("id, tracking, peso_lbs, peso_volumetrico, piezas, clientes(nombre, apellido, locker_id), bodegas(id, nombre)").in("estado",["en_bodega","recibido"]).order("fecha_recepcion",{ascending:!1})]);H.data&&(a(H.data),H.data.length>0&&T(J=>({...J,origen_id:H.data[0].id}))),G.data&&(o(G.data),G.data.length>0&&T(J=>({...J,destino_id:G.data[0].id}))),ue.data&&d(ue.data)}catch(H){console.error("Error fetching data for consolidation:",H)}finally{h(!1)}}const U=H=>{H.target.name==="origen_id"&&j.size>0&&D(new Set),T({...N,[H.target.name]:H.target.value})},Z=R.useMemo(()=>{const H=y.toLowerCase();return u.filter(G=>{var J,ae,re,he;return N.origen_id&&((J=G.bodegas)==null?void 0:J.id)!==N.origen_id?!1:`${(ae=G.clientes)==null?void 0:ae.locker_id} ${(re=G.clientes)==null?void 0:re.nombre} ${(he=G.clientes)==null?void 0:he.apellido}`.toLowerCase().includes(H)||G.tracking.toLowerCase().includes(H)})},[u,y,N.origen_id]),X=H=>{const G=new Set(j);G.has(H)?G.delete(H):G.add(H),D(G)},$=()=>{j.size===Z.length&&Z.length>0?D(new Set):D(new Set(Z.map(H=>H.id)))},Q=R.useMemo(()=>{let H=0,G=0;return j.forEach(ue=>{const J=u.find(ae=>ae.id===ue);J&&(H+=Number(J.peso_lbs)||0,G+=Number(J.peso_volumetrico)||0)}),{cantidad:j.size,peso:H,volumen:G}},[j,u]),q=async()=>{if(j.size===0){alert("Debes seleccionar al menos un paquete.");return}if(!N.origen_id||!N.destino_id){alert("Origen y Destino son obligatorios.");return}try{x(!0);const G=`CON-${new Date().toISOString().slice(0,10).replace(/-/g,"")}-${Math.floor(1e3+Math.random()*9e3)}`,ue={codigo:N.nombre_alternativo||G,bodega_id:N.origen_id,zona_destino_id:N.destino_id,estado:"abierta",peso_total_lbs:Q.peso,notas:`Consolidacin generada por ${(e==null?void 0:e.nombre)||"Operador"}`},{data:J,error:ae}=await At.from("consolidaciones").insert([ue]).select().single();if(ae||!J)throw ae;const re=J.id,he=Array.from(j),Se=he.map(be=>({consolidacion_id:re,paquete_id:be})),{error:pe}=await At.from("consolidacion_paquetes").insert(Se);if(pe)throw pe;for(const be of he)await At.from("paquetes").update({estado:"consolidado"}).eq("id",be);alert("Consolidacin creada con xito. Los paquetes ahora estn listos para envo."),T(be=>({...be,nombre_alternativo:""})),D(new Set),F()}catch(H){console.error("Error creating consolidation:",H),alert("Hubo un error al crear la consolidacin: "+(H.message||"Desconocido"))}finally{x(!1)}},se=Z.length>0&&j.size===Z.length;return b.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto animate-fade-in relative z-10 w-full max-w-full pb-10",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end justify-between gap-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900 bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-600",children:"Mdulo de Consolidacin"}),b.jsx("p",{className:"text-sm font-medium text-slate-500 mt-1",children:"Agrupa envos y administra el Tracking Maestro."})]}),b.jsxs("div",{className:"flex glass p-1.5 rounded-xl border border-slate-200/50 shadow-sm",children:[b.jsxs("button",{onClick:()=>r("create"),className:`px-4 py-2.5 text-sm font-bold rounded-lg transition-all flex items-center gap-2 ${t==="create"?"bg-white shadow-sm text-blue-600 scale-95":"text-slate-500 hover:text-slate-800 hover:bg-slate-50/50"}`,children:[b.jsx(wd,{className:"h-4 w-4"}),"Crear Consolidado"]}),b.jsxs("button",{onClick:()=>r("list"),className:`px-4 py-2.5 text-sm font-bold rounded-lg transition-all flex items-center gap-2 ${t==="list"?"bg-white shadow-sm text-blue-600 scale-95":"text-slate-500 hover:text-slate-800 hover:bg-slate-50/50"}`,children:[b.jsx(kG,{className:"h-4 w-4"}),"Tracking Master"]})]})]}),t==="create"?b.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-12",children:[b.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[b.jsxs("div",{className:"glass border border-slate-200/60 rounded-2xl shadow-sm p-6 space-y-5 relative overflow-hidden group",children:[b.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/5 rounded-bl-full -z-10 transition-transform group-hover:scale-110"}),b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-3 tracking-tight",children:[b.jsx("div",{className:"p-2 bg-indigo-100/50 rounded-lg text-indigo-600",children:b.jsx(Sl,{className:"h-5 w-5"})}),"Detalles del Envo"]}),b.jsx("button",{onClick:F,className:"inline-flex items-center gap-1.5 rounded-lg bg-white/50 border border-slate-200/60 px-2.5 py-1.5 text-xs font-bold text-slate-600 shadow-sm hover:bg-white hover:-translate-y-0.5 transition-all focus:outline-none",title:"Refrescar datos",children:""})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-1.5",children:[b.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Nombre Alternativo ",b.jsx("span",{className:"text-slate-400 font-normal text-xs",children:"(Opcional)"})]}),b.jsx("input",{type:"text",name:"nombre_alternativo",value:N.nombre_alternativo,onChange:U,className:"block w-full rounded-xl border-slate-200/80 bg-slate-50/50 py-2.5 px-3.5 text-slate-900 shadow-sm transition-all duration-300 focus:border-indigo-500/50 focus:bg-white focus:ring-4 focus:ring-indigo-500/10 placeholder:text-slate-400 hover:border-slate-300 sm:text-sm sm:leading-6 font-medium",placeholder:"Dejar vaco para auto-generar"})]}),b.jsxs("div",{className:"space-y-1.5",children:[b.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Bodega de Origen"}),b.jsx("select",{name:"origen_id",value:N.origen_id,onChange:U,className:"block w-full rounded-xl border-slate-200/80 bg-slate-50/50 py-2.5 px-3.5 text-slate-900 shadow-sm transition-all duration-300 focus:border-indigo-500/50 focus:bg-white focus:ring-4 focus:ring-indigo-500/10 hover:border-slate-300 sm:text-sm sm:leading-6 font-medium",children:n.map(H=>b.jsx("option",{value:H.id,children:H.nombre},H.id))})]}),b.jsxs("div",{className:"space-y-1.5",children:[b.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Zona de Destino"}),b.jsx("select",{name:"destino_id",value:N.destino_id,onChange:U,className:"block w-full rounded-xl border-slate-200/80 bg-slate-50/50 py-2.5 px-3.5 text-slate-900 shadow-sm transition-all duration-300 focus:border-indigo-500/50 focus:bg-white focus:ring-4 focus:ring-indigo-500/10 hover:border-slate-300 sm:text-sm sm:leading-6 font-medium",children:i.map(H=>b.jsx("option",{value:H.id,children:H.nombre},H.id))})]})]})]}),b.jsxs("div",{className:"glass border border-slate-200/60 rounded-2xl shadow-sm p-6 relative overflow-hidden group",children:[b.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-amber-500/5 rounded-bl-full -z-10 transition-transform group-hover:scale-110"}),b.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-3 tracking-tight mb-5",children:[b.jsx("div",{className:"p-2 bg-amber-100/50 rounded-lg text-amber-600",children:b.jsx(wd,{className:"h-5 w-5"})}),"Resumen"]}),b.jsxs("dl",{className:"space-y-3 pt-2",children:[b.jsxs("div",{className:"flex justify-between items-center py-2.5 px-3 bg-white/60 rounded-xl border border-slate-100 shadow-sm",children:[b.jsx("dt",{className:"text-sm font-bold text-slate-500",children:"Paquetes seleccionados:"}),b.jsx("dd",{className:"font-extrabold text-blue-600 text-lg bg-blue-50 px-2 py-0.5 rounded-lg border border-blue-100",children:Q.cantidad})]}),b.jsxs("div",{className:"flex justify-between py-2 px-3",children:[b.jsx("dt",{className:"text-sm font-medium text-slate-500",children:"Peso total estimado:"}),b.jsxs("dd",{className:"font-bold text-slate-800 font-mono bg-slate-100/50 px-2 rounded-md",children:[Q.peso.toFixed(2)," lbs"]})]}),b.jsxs("div",{className:"flex justify-between py-2 px-3",children:[b.jsx("dt",{className:"text-sm font-medium text-slate-500",children:"Vol. total estimado:"}),b.jsxs("dd",{className:"font-bold text-slate-800 font-mono bg-slate-100/50 px-2 rounded-md",children:[Q.volumen.toFixed(2)," ft"]})]})]}),b.jsxs("button",{onClick:q,disabled:j.size===0||g,className:"mt-8 w-full flex items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-slate-800 to-slate-900 px-4 py-3.5 text-sm font-bold text-white shadow-md shadow-slate-900/20 hover:from-slate-700 hover:to-slate-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-900 disabled:opacity-50 disabled:cursor-not-allowed transition-all hover:shadow-lg hover:-translate-y-0.5",children:[g?b.jsx(to,{className:"h-5 w-5 animate-spin"}):b.jsx(wd,{className:"h-5 w-5"}),g?"Procesando...":"Crear Consolidado Maestro"]})]})]}),b.jsx("div",{className:"lg:col-span-8",children:b.jsxs("div",{className:"glass border border-slate-200/60 rounded-2xl shadow-sm h-full flex flex-col min-h-[600px] overflow-hidden",children:[b.jsxs("div",{className:"p-5 border-b border-slate-200/60 bg-slate-50/50 backdrop-blur-sm flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Paquetes Disponibles"}),b.jsxs("span",{className:"inline-flex items-center rounded-lg bg-blue-50 px-2.5 py-1 text-xs font-extrabold text-blue-700 ring-1 ring-inset ring-blue-600/20 shadow-sm",children:[u.length," en bodega"]})]}),b.jsxs("div",{className:"relative w-full sm:w-80 group/search",children:[b.jsx(Id,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400 group-focus-within/search:text-blue-500 transition-colors"}),b.jsx("input",{type:"text",value:y,onChange:H=>E(H.target.value),placeholder:"Buscar paquete o locker...",className:"h-10 w-full rounded-xl border border-slate-200/80 bg-white/80 pl-10 pr-4 text-sm outline-none focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 transition-all font-medium placeholder:text-slate-400 shadow-sm"})]})]}),b.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3.5 border-b border-slate-200/60 bg-slate-50/40 backdrop-blur-md text-xs font-extrabold text-slate-500 uppercase tracking-wider sticky top-0 z-10",children:[b.jsx("div",{className:"col-span-1 flex items-center",children:b.jsx("button",{onClick:$,className:"text-slate-400 hover:text-blue-600 focus:outline-none transition-colors",children:se?b.jsx(VN,{className:"h-5 w-5 text-blue-600"}):b.jsx(YN,{className:"h-5 w-5"})})}),b.jsx("div",{className:"col-span-5",children:"Detalle del Paquete"}),b.jsx("div",{className:"col-span-4",children:"Cliente / Casillero"}),b.jsx("div",{className:"col-span-2 text-right",children:"Peso (lbs)"})]}),b.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar relative",children:c?b.jsx("div",{className:"absolute inset-0 flex justify-center items-center bg-white/40 backdrop-blur-sm z-10",children:b.jsxs("div",{className:"flex flex-col items-center gap-3",children:[b.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-blue-500 border-t-transparent"}),b.jsx("p",{className:"text-sm font-bold text-slate-500",children:"Cargando paquetes..."})]})}):Z.length===0?b.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-12 h-full",children:[b.jsx("div",{className:"mx-auto flex h-20 w-20 items-center justify-center rounded-full bg-slate-100 shadow-inner mb-4",children:b.jsx(wd,{className:"h-10 w-10 text-slate-300"})}),b.jsx("h3",{className:"text-lg font-bold text-slate-800 tracking-tight",children:y?"No hay resultados para tu bsqueda":"No hay paquetes en bodega"}),b.jsx("p",{className:"mt-2 text-sm font-medium text-slate-500 max-w-sm",children:y?"Intenta usar otros trminos de bsqueda o verifica que estn en la bodega correcta.":"Todos los paquetes disponibles ya han sido consolidados o asignados."})]}):b.jsx("div",{className:"divide-y divide-slate-100 bg-white/40",children:Z.map((H,G)=>{var J,ae,re;const ue=j.has(H.id);return b.jsxs("div",{onClick:()=>X(H.id),className:`grid grid-cols-12 gap-4 px-6 py-4 items-center cursor-pointer transition-all duration-300 animate-fade-in ${ue?"bg-indigo-50/60 border-l-4 border-l-blue-500":"hover:bg-blue-50/40 border-l-4 border-transparent"}`,style:{animationDelay:`${G*30}ms`},children:[b.jsx("div",{className:"col-span-1",children:ue?b.jsx(VN,{className:"h-5 w-5 text-blue-600 transition-transform scale-110"}):b.jsx(YN,{className:"h-5 w-5 text-slate-300 hover:text-slate-400 transition-colors"})}),b.jsxs("div",{className:"col-span-5 flex items-center gap-3 overflow-hidden",children:[b.jsx("div",{className:`flex h-10 w-10 shrink-0 items-center justify-center rounded-xl border shadow-sm transition-colors ${ue?"bg-blue-500 border-blue-600":"bg-white border-slate-200"}`,children:b.jsx(Sl,{className:`h-5 w-5 ${ue?"text-white":"text-slate-400"}`})}),b.jsxs("div",{className:"min-w-0",children:[b.jsx("p",{className:`truncate text-sm font-bold ${ue?"text-blue-900":"text-slate-900"}`,title:H.tracking,children:H.tracking}),b.jsxs("p",{className:"text-xs font-medium text-slate-500 mt-0.5",children:[H.piezas||1," ",H.piezas===1?"pieza":"piezas"]})]})]}),b.jsxs("div",{className:"col-span-4 min-w-0",children:[b.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[b.jsx(tc,{className:`h-3 w-3 shrink-0 ${ue?"text-blue-400":"text-slate-400"}`}),b.jsx("p",{className:`text-sm font-bold truncate ${ue?"text-blue-800":"text-slate-800"}`,children:((J=H.clientes)==null?void 0:J.locker_id)||"N/A"})]}),b.jsxs("p",{className:"text-xs font-medium text-slate-500 truncate",children:[(ae=H.clientes)==null?void 0:ae.nombre," ",(re=H.clientes)==null?void 0:re.apellido]})]}),b.jsx("div",{className:"col-span-2 text-right",children:b.jsx("span",{className:`inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-bold font-mono shadow-sm border ${ue?"bg-white text-blue-700 border-blue-200":"bg-slate-50 text-slate-700 border-slate-200/60"}`,children:H.peso_lbs?`${Number(H.peso_lbs).toFixed(2)} lbs`:"-"})})]},H.id)})})}),Z.length>0&&b.jsxs("div",{className:"p-4 border-t border-slate-200/60 bg-slate-50/80 backdrop-blur-sm flex justify-between items-center text-sm font-bold text-slate-500",children:[b.jsxs("span",{children:["Mostrando ",Z.length," ",Z.length===1?"paquete":"paquetes"]}),j.size>0&&b.jsxs("span",{className:"text-blue-600 bg-blue-100/50 px-3 py-1 rounded-lg border border-blue-200/50 shadow-sm",children:[j.size," seleccionados"]})]})]})})]}):b.jsx("div",{className:"animate-fade-in",children:b.jsx(fge,{})})]})}function hge({isOpen:e,onClose:t,onSuccess:r}){const{user:n}=Ja(),[a,i]=R.useState(!1),[o,u]=R.useState([]),[d,c]=R.useState([]),[h,g]=R.useState([]),[x,y]=R.useState(""),[E,N]=R.useState(""),[T,j]=R.useState(!1),[D,F]=R.useState(""),[U,Z]=R.useState(""),[X,$]=R.useState(""),[Q,q]=R.useState([]),[se,H]=R.useState(!0);R.useEffect(()=>{e&&(ue(),G())},[e]),R.useEffect(()=>{E?J(E):g([])},[E]);const G=()=>{j(!1),F(""),Z(""),$(""),y(""),N(""),q([]),H(!0)},ue=async()=>{try{const[be,oe]=await Promise.all([At.from("clientes").select("id, nombre, apellido, locker_id, email").eq("activo",!0).order("nombre").limit(1e5),At.from("bodegas").select("id, nombre").eq("activo",!0).order("nombre")]);be.data&&u(be.data),oe.data&&c(oe.data)}catch(be){console.error("Error fetching initial data for invoice",be)}},J=async be=>{try{const{data:oe}=await At.from("tarifas").select("id, nombre_servicio, tarifa_q, tipo_cobro").eq("bodega_id",be).eq("activa",!0);oe&&g(oe)}catch(oe){console.error("Error fetching tarifas",oe)}},ae=()=>{q([...Q,{id:crypto.randomUUID(),descripcion:"",cantidad:1,precio_unitario:0}])},re=be=>{q(Q.filter(oe=>oe.id!==be))},he=(be,oe,Y)=>{q(Q.map(le=>{if(le.id===be){const me={...le,[oe]:Y};if(oe==="descripcion"){const Ce=h.find(we=>we.nombre_servicio===Y);Ce&&(me.precio_unitario=Ce.tarifa_q)}return me}return le}))},Se=()=>Q.reduce((be,oe)=>be+oe.cantidad*oe.precio_unitario,0),pe=async()=>{if(!T&&!x){alert("Seleccione un cliente registrado o use la opcin de cliente manual.");return}if(T&&!D.trim()){alert("Ingrese el nombre del cliente manual.");return}if(Q.length===0){alert("Agregue al menos un concepto a la factura.");return}if(Q.some(be=>!be.descripcion||be.cantidad<=0||be.precio_unitario<0)){alert("Revise que todos los conceptos tengan descripcin, cantidad vlida y precio vlido.");return}i(!0);try{const be=`FAC-${Math.random().toString(36).substring(2,8).toUpperCase()}`,oe=Se(),{data:Y,error:le}=await At.from("facturas").insert([{numero:be,cliente_id:T?null:x,cliente_manual_nombre:T?D.trim():null,cliente_manual_nit:T?U.trim():null,monto_subtotal:oe,monto_total:oe,moneda:"GTQ",estado:"pendiente",creado_por:n==null?void 0:n.id}]).select().single();if(le)throw le;const me=Q.map(we=>({factura_id:Y.id,descripcion:we.descripcion,cantidad:we.cantidad,precio_unitario:we.precio_unitario,subtotal:we.cantidad*we.precio_unitario})),{error:Ce}=await At.from("conceptos_factura").insert(me);if(Ce)throw Ce;if(se&&!T){const we=o.find(Me=>Me.id===x);we!=null&&we.email&&await At.from("notificaciones").insert([{cliente_id:x,tipo:"email",asunto:`Nueva Factura Generada - ${be}`,mensaje:`Se ha generado una nueva factura por el monto de Q${oe.toFixed(2)}. Por favor ingrese a su portal para revisar detalles o contactarnos para el pago.`,estado:"pendiente"}])}r(),t()}catch(be){console.error(be),alert("Error al generar la factura: "+be.message)}finally{i(!1)}};return e?b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in-95",children:[b.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200",children:[b.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Generar Factura Manual"}),b.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:text-slate-600 rounded-full hover:bg-slate-100 transition-colors",children:b.jsx(zc,{className:"h-5 w-5"})})]}),b.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-6",children:[b.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 space-y-4",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[b.jsx("input",{type:"radio",name:"clientType",checked:!T,onChange:()=>j(!1),className:"text-blue-600 focus:ring-blue-500"}),b.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Cliente Registrado"})]}),b.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[b.jsx("input",{type:"radio",name:"clientType",checked:T,onChange:()=>j(!0),className:"text-blue-600 focus:ring-blue-500"}),b.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Factura Manual / Consumidor Final"})]})]}),T?b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nombre Facturacin *"}),b.jsx("input",{type:"text",placeholder:"Ej. Consumidor Final o Nombre",value:D,onChange:be=>F(be.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"NIT"}),b.jsx("input",{type:"text",placeholder:"Opcional",value:U,onChange:be=>Z(be.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]})]}):b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Buscar y Seleccionar Cliente *"}),b.jsx("input",{type:"text",placeholder:"Buscar por nombre, locker o email...",value:X,onChange:be=>$(be.target.value),className:"w-full mb-2 rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"}),b.jsxs("select",{value:x,onChange:be=>y(be.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm max-h-40 overflow-y-auto",size:4,children:[o.filter(be=>`${be.nombre} ${be.apellido} ${be.locker_id} ${be.email}`.toLowerCase().includes(X.toLowerCase())).map(be=>b.jsxs("option",{value:be.id,className:"p-2 border-b border-slate-100 last:border-0 hover:bg-slate-100 cursor-pointer",children:[be.locker_id," - ",be.nombre," ",be.apellido," (",be.email,")"]},be.id)),o.filter(be=>`${be.nombre} ${be.apellido} ${be.locker_id} ${be.email}`.toLowerCase().includes(X.toLowerCase())).length===0&&b.jsx("option",{disabled:!0,className:"p-2 text-slate-500 text-center",children:"No se encontraron clientes"})]})]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Cargar Tarifas de Bodega"}),b.jsxs("select",{value:E,onChange:be=>N(be.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[b.jsx("option",{value:"",children:"-- Sin Bodega / Cargos Manuales --"}),d.map(be=>b.jsx("option",{value:be.id,children:be.nombre},be.id))]})]})}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Conceptos (Cargos) *"}),b.jsxs("button",{type:"button",onClick:ae,className:"inline-flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-700",children:[b.jsx(O0,{className:"h-3 w-3"})," Agregar Elemento"]})]}),b.jsxs("div",{className:"space-y-3",children:[Q.map((be,oe)=>b.jsxs("div",{className:"flex gap-3 items-start bg-slate-50 p-3 rounded-lg border border-slate-200",children:[b.jsx("div",{className:"flex-1",children:b.jsx("input",{type:"text",placeholder:"Descripcin o Seleccionar Tarifa",value:be.descripcion,onChange:Y=>he(be.id,"descripcion",Y.target.value),list:"tarifas-list",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})}),b.jsx("div",{className:"w-24",children:b.jsx("input",{type:"number",min:"0.01",step:"0.01",placeholder:"Cant.",value:be.cantidad,onChange:Y=>he(be.id,"cantidad",parseFloat(Y.target.value)),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})}),b.jsx("div",{className:"w-32",children:b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:b.jsx("span",{className:"text-slate-500 sm:text-sm",children:"Q"})}),b.jsx("input",{type:"number",min:"0",step:"0.01",placeholder:"Precio",value:be.precio_unitario,onChange:Y=>he(be.id,"precio_unitario",parseFloat(Y.target.value)),className:"w-full rounded-md border-slate-300 pl-7 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]})}),b.jsx("div",{className:"w-24 text-right flex flex-col justify-center py-2",children:b.jsxs("span",{className:"text-sm font-semibold text-slate-700",children:["Q",(be.cantidad*be.precio_unitario).toFixed(2)]})}),b.jsx("button",{onClick:()=>re(be.id),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",children:b.jsx(M3,{className:"h-4 w-4"})})]},be.id)),Q.length===0&&b.jsx("div",{className:"text-center py-4 text-sm text-slate-500 border-2 border-dashed border-slate-200 rounded-lg",children:"No hay conceptos agregados."})]}),b.jsxs("datalist",{id:"tarifas-list",children:[b.jsx("option",{value:"Servicios de Compras",children:"Servicios Extras de Bodega"}),b.jsx("option",{value:"Seguro de Envo",children:"Cargo Fijo"}),b.jsx("option",{value:"Tarifa de Manejo",children:"Cargo Administrativo"}),b.jsx("option",{value:"Otros Cargos",children:"Cargo Variable"}),h.map(be=>b.jsxs("option",{value:be.nombre_servicio,children:["Q",be.tarifa_q," (",be.tipo_cobro.replace("_"," "),")"]},be.id))]})]}),b.jsxs("div",{className:"flex justify-between items-center bg-blue-50 p-4 rounded-xl border border-blue-100",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"checkbox",id:"sendEmail",checked:se,onChange:be=>H(be.target.checked),className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-600"}),b.jsx("label",{htmlFor:"sendEmail",className:"text-sm text-slate-700 font-medium",children:"Enviar Notificacin por Correo al Cliente (Si est registrado)"})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Monto Total"}),b.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["Q",Se().toFixed(2)]})]})]})]}),b.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 bg-slate-50 flex justify-end gap-3",children:[b.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium rounded-md text-slate-700 bg-white border border-slate-300 hover:bg-slate-50",children:"Cancelar"}),b.jsxs("button",{onClick:pe,disabled:a||Q.length===0||!T&&!x||T&&!D.trim(),className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-bold rounded-md text-white bg-blue-600 hover:bg-blue-500 disabled:opacity-50",children:[a?b.jsx(to,{className:"h-4 w-4 animate-spin"}):b.jsx(Pf,{className:"h-4 w-4"}),"Guardar Factura"]})]})]})}):null}function pge({isOpen:e,onClose:t,onSuccess:r,facturaId:n,facturaTotal:a,facturaNumero:i}){const{user:o}=Ja(),[u,d]=R.useState(!1),[c,h]=R.useState(a.toString()),[g,x]=R.useState("transferencia"),[y,E]=R.useState(""),[N,T]=R.useState(""),j=async()=>{if(!c||isNaN(Number(c))||Number(c)<=0){alert("Ingrese un monto vlido mayor a 0.");return}d(!0);try{const D=parseFloat(c),{error:F}=await At.from("pagos").insert([{factura_id:n,monto:D,metodo:g,referencia:y,estado:"verificado",verificado_por:o==null?void 0:o.id,notas:N}]);if(F)throw F;const{error:U}=await At.from("facturas").update({estado:"verificado"}).eq("id",n);if(U)throw U;r(),t()}catch(D){console.error(D),alert("Error al registrar pago: "+D.message)}finally{d(!1)}};return e?b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md flex flex-col overflow-hidden animate-in fade-in zoom-in-95",children:[b.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200",children:[b.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[b.jsx(k3,{className:"h-5 w-5 text-green-500"})," Registrar Pago"]}),b.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:text-slate-600 rounded-full hover:bg-slate-100 transition-colors",children:b.jsx(zc,{className:"h-5 w-5"})})]}),b.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[b.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 mb-4",children:[b.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Factura a Pagar"}),b.jsxs("div",{className:"flex justify-between items-center mt-1",children:[b.jsx("span",{className:"font-bold text-slate-900",children:i}),b.jsxs("span",{className:"font-bold text-blue-600",children:["Total: Q",a.toFixed(2)]})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Monto Recibido (Q) *"}),b.jsx("input",{type:"number",step:"0.01",required:!0,value:c,onChange:D=>h(D.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Mtodo de Pago *"}),b.jsxs("select",{value:g,onChange:D=>x(D.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm",children:[b.jsx("option",{value:"transferencia",children:"Transferencia Bancaria"}),b.jsx("option",{value:"deposito",children:"Depsito Fsico"}),b.jsx("option",{value:"efectivo",children:"Efectivo"}),b.jsx("option",{value:"tarjeta",children:"Link / Tarjeta"}),b.jsx("option",{value:"otro",children:"Otro"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nmero de Referencia / Boleta"}),b.jsx("input",{type:"text",placeholder:"Ej. AB-123456",value:y,onChange:D=>E(D.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notas u Observaciones"}),b.jsx("textarea",{rows:2,value:N,onChange:D=>T(D.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm"})]})]}),b.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 bg-slate-50 flex justify-end gap-3",children:[b.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium rounded-md text-slate-700 bg-white border border-slate-300 hover:bg-slate-50",children:"Cancelar"}),b.jsxs("button",{onClick:j,disabled:u,className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-bold rounded-md text-white bg-green-600 hover:bg-green-500 disabled:opacity-50",children:[u?b.jsx(to,{className:"h-4 w-4 animate-spin"}):b.jsx(Pf,{className:"h-4 w-4"}),"Confirmar Pago"]})]})]})}):null}function cB(e,t,r,n,a){n=n||{};var i=1.15,o=a.internal.scaleFactor,u=a.internal.getFontSize()/o,d=a.getLineHeightFactor?a.getLineHeightFactor():i,c=u*d,h=/\r\n|\r|\n/g,g="",x=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(g=typeof e=="string"?e.split(h):e,x=g.length||1),r+=u*(2-i),n.valign==="middle"?r-=x/2*c:n.valign==="bottom"&&(r-=x*c),n.halign==="center"||n.halign==="right"){var y=u;if(n.halign==="center"&&(y*=.5),g&&x>=1){for(var E=0;E<g.length;E++)a.text(g[E],t-a.getStringUnitWidth(g[E])*y,r),r+=c;return a}t-=a.getStringUnitWidth(e)*y}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var BI={},h0=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:BI=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),u=o.fontStyle,d=o.fontName;if(t.font&&(d=t.font),t.fontStyle){u=t.fontStyle;var c=this.getFontList()[d];c&&c.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),u=c[0])}if(this.jsPDFDocument.setFont(d,u),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var h=e.unifyColor(t.fillColor);h&&(n=this.jsPDFDocument).setFillColor.apply(n,h),h=e.unifyColor(t.textColor),h&&(a=this.jsPDFDocument).setTextColor.apply(a,h),h=e.unifyColor(t.lineColor),h&&(i=this.jsPDFDocument).setDrawColor.apply(i,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return BI||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),g3=function(e,t){return g3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},g3(e,t)};function uB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");g3(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var fB=(function(e){uB(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t})(Array);function mge(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function gge(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function zb(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return a}function dB(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var o=hB(a,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,o)}function hB(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function K2(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function pB(e,t){var r=K2(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function vge(e,t,r,n,a){var i={},o=1.3333333333333333,u=M5(t,function(F){return a.getComputedStyle(F).backgroundColor});u!=null&&(i.fillColor=u);var d=M5(t,function(F){return a.getComputedStyle(F).color});d!=null&&(i.textColor=d);var c=yge(n,r);c&&(i.cellPadding=c);var h="borderTopColor",g=o*r,x=n.borderTopWidth;if(n.borderBottomWidth===x&&n.borderRightWidth===x&&n.borderLeftWidth===x){var y=(parseFloat(x)||0)/g;y&&(i.lineWidth=y)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/g,right:(parseFloat(n.borderRightWidth)||0)/g,bottom:(parseFloat(n.borderBottomWidth)||0)/g,left:(parseFloat(n.borderLeftWidth)||0)/g},i.lineWidth.top||(i.lineWidth.right?h="borderRightColor":i.lineWidth.bottom?h="borderBottomColor":i.lineWidth.left&&(h="borderLeftColor"));var E=M5(t,function(F){return a.getComputedStyle(F)[h]});E!=null&&(i.lineColor=E);var N=["left","right","center","justify"];N.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),N=["middle","bottom","top"],N.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var T=parseInt(n.fontSize||"");isNaN(T)||(i.fontSize=T/o);var j=bge(n);j&&(i.fontStyle=j);var D=(n.fontFamily||"").toLowerCase();return e.indexOf(D)!==-1&&(i.font=D),i}function bge(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function M5(e,t){var r=mB(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function mB(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:mB(e.parentElement,t):r}function yge(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(u){return parseInt(u||"0")/n}),o=K2(i,0);return a>o.top&&(o.top=a),a>o.bottom&&(o.bottom=a),o}function gB(e,t,r,n,a){var i,o;n===void 0&&(n=!1),a===void 0&&(a=!1);var u;typeof t=="string"?u=r.document.querySelector(t):u=t;var d=Object.keys(e.getFontList()),c=e.scaleFactor(),h=[],g=[],x=[];if(!u)return console.error("Html table could not be found with input: ",t),{head:h,body:g,foot:x};for(var y=0;y<u.rows.length;y++){var E=u.rows[y],N=(o=(i=E==null?void 0:E.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),T=xge(d,c,r,E,n,a);T&&(N==="thead"?h.push(T):N==="tfoot"?x.push(T):g.push(T))}return{head:h,body:g,foot:x}}function xge(e,t,r,n,a,i){for(var o=new fB(n),u=0;u<n.cells.length;u++){var d=n.cells[u],c=r.getComputedStyle(d);if(a||c.display!=="none"){var h=void 0;i&&(h=vge(e,d,t,c,r)),o.push({rowSpan:d.rowSpan,colSpan:d.colSpan,styles:h,_element:d,content:wge(d)})}}var g=r.getComputedStyle(n);if(o.length>0&&(a||g.display!=="none"))return o}function wge(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function _ge(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Eu(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),o=1;o<arguments.length;o++){var u=arguments[o];if(u!=null)for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(i[d]=u[d])}return i}function vB(e,t){var r=new h0(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();_ge(a,n,t);var i=Eu({},a,n,t),o;typeof window<"u"&&(o=window);var u=Sge(a,n,t),d=Age(a,n,t),c=Ege(r,i),h=Cge(r,i,o);return{id:t.tableId,content:h,hooks:d,styles:u,settings:c}}function Sge(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(d){if(d==="columnStyles"){var c=e[d],h=t[d],g=r[d];n.columnStyles=Eu({},c,h,g)}else{var x=[e,t,r],y=x.map(function(E){return E[d]||{}});n[d]=Eu({},y[0],y[1],y[2])}},i=0,o=Object.keys(n);i<o.length;i++){var u=o[i];a(u)}return n}function Age(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=n;i<o.length;i++){var u=o[i];u.didParseCell&&a.didParseCell.push(u.didParseCell),u.willDrawCell&&a.willDrawCell.push(u.willDrawCell),u.didDrawCell&&a.didDrawCell.push(u.didDrawCell),u.willDrawPage&&a.willDrawPage.push(u.willDrawPage),u.didDrawPage&&a.didDrawPage.push(u.didDrawPage)}return a}function Ege(e,t){var r,n,a,i,o,u,d,c,h,g,x,y,E=K2(t.margin,40/e.scaleFactor()),N=(r=Nge(e,t.startY))!==null&&r!==void 0?r:E.top,T;t.showFoot===!0?T="everyPage":t.showFoot===!1?T="never":T=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var j;t.showHead===!0?j="everyPage":t.showHead===!1?j="never":j=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var D=(i=t.useCss)!==null&&i!==void 0?i:!1,F=t.theme||(D?"plain":"striped"),U=!!t.horizontalPageBreak,Z=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(u=t.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:D,theme:F,startY:N,margin:E,pageBreak:(d=t.pageBreak)!==null&&d!==void 0?d:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:j,showFoot:T,tableLineWidth:(g=t.tableLineWidth)!==null&&g!==void 0?g:0,tableLineColor:(x=t.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:U,horizontalPageBreakRepeat:Z,horizontalPageBreakBehaviour:(y=t.horizontalPageBreakBehaviour)!==null&&y!==void 0?y:"afterAllRows"}}function Nge(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;i=o===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function Cge(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var u=gB(e,t.html,r,o,t.useCss)||{};n=u.head||n,a=u.body||n,i=u.foot||n}else console.error("Cannot parse html in non browser environment")}var d=t.columns||Oge(n,a,i);return{columns:d,head:n,body:a,foot:i}}function Oge(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,u;Array.isArray(n)?u=n[parseInt(i)]:u=n[i],typeof u=="object"&&!Array.isArray(u)&&(o=(u==null?void 0:u.colSpan)||1);for(var d=0;d<o;d++){var c=void 0;Array.isArray(n)?c=a.length:c=i+(d>0?"_".concat(d):"");var h={dataKey:c};a.push(h)}}),a}var v3=(function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e})(),Tge=(function(e){uB(t,e);function t(r,n,a,i,o,u){var d=e.call(this,r,n,u)||this;return d.cell=a,d.row=i,d.column=o,d.section=i.section,d}return t})(v3),jge=(function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,o){for(var u=0,d=r;u<d.length;u++){var c=d[u],h=new Tge(t,this,n,a,i,o),g=c(h)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],g)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new v3(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new v3(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e})(),bB=(function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof fB&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var o=n.cells[i.index];if(!o)return 0;var u=r.getLineHeight(o.styles.fontSize),d=o.padding("vertical"),c=d+u;return c>a?c:a},0)},e})(),yB=(function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",u=/\r\n|\r|\n/g;this.text=o.split(u)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=K2(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e})(),kge=(function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e})();function Ige(e,t){Mge(e,t);var r=[],n=0;t.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(t);o?i.width=o:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=b3(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=b3(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.log("Of the table content, ".concat(a," units width could not fit page"))),Rge(t),Dge(t,e),Pge(t)}function Mge(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=pB(e,t);t.allRows().forEach(function(i){for(var o=0,u=t.columns;o<u.length;o++){var d=u[o],c=i.cells[d.index];if(c){var h=t.hooks.didParseCell;t.callCellHooks(e,h,c,i,d,null);var g=c.padding("horizontal");c.contentWidth=zb(c.text,c.styles,e)+g;var x=zb(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=x+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var y=10/r;c.minWidth=c.styles.minCellWidth||y,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(i){for(var o=0,u=t.columns;o<u.length;o++){var d=u[o],c=i.cells[d.index];if(c&&c.colSpan===1)d.wrappedWidth=Math.max(d.wrappedWidth,c.wrappedWidth),d.minWidth=Math.max(d.minWidth,c.minWidth),d.minReadableWidth=Math.max(d.minReadableWidth,c.minReadableWidth);else{var h=t.styles.columnStyles[d.dataKey]||t.styles.columnStyles[d.index]||{},g=h.cellWidth||h.minCellWidth;g&&typeof g=="number"&&(d.minWidth=g,d.wrappedWidth=g)}c&&(c.colSpan>1&&!d.minWidth&&(d.minWidth=c.minWidth),c.colSpan>1&&!d.wrappedWidth&&(d.wrappedWidth=c.minWidth))}})}function b3(e,t,r){for(var n=t,a=e.reduce(function(y,E){return y+E.wrappedWidth},0),i=0;i<e.length;i++){var o=e[i],u=o.wrappedWidth/a,d=n*u,c=o.width+d,h=r(o),g=c<h?h:c;t-=g-o.width,o.width=g}if(t=Math.round(t*1e10)/1e10,t){var x=e.filter(function(y){return t<0?y.width>r(y):!0});x.length&&(t=b3(x,t,r))}return t}function Pge(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],o=0,u=e.columns;o<u.length;o++){var d=u[o],c=t[d.index];if(r>1)r--,delete i.cells[d.index];else if(c)c.cell.height+=i.height,r=c.cell.colSpan,delete i.cells[d.index],c.left--,c.left<=1&&delete t[d.index];else{var h=i.cells[d.index];if(!h)continue;if(h.height=i.height,h.rowSpan>1){var g=n.length-a,x=h.rowSpan>g?g:h.rowSpan;t[d.index]={cell:h,left:x,row:i}}}}}function Rge(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,o=0,u=0;u<e.columns.length;u++){var d=e.columns[u];if(o-=1,o>1&&e.columns[u+1])i+=d.width,delete n.cells[d.index];else if(a){var c=a;delete n.cells[d.index],a=null,c.width=d.width+i}else{var c=n.cells[d.index];if(!c)continue;if(o=c.colSpan,i=0,c.colSpan>1){a=c,i+=d.width;continue}c.width=d.width+i}}}function Dge(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],o=0,u=e.columns;o<u.length;o++){var d=u[o],c=i.cells[d.index];if(c){t.applyStyles(c.styles,!0);var h=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,h+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=FI(c.text,h,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=FI(c.text,h,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var g=c.styles.overflow(c.text,h);typeof g=="string"?c.text=[g]:c.text=g}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var x=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<x*c.rowSpan?r={height:x,count:c.rowSpan}:r&&r.count>0&&r.height>x&&(x=r.height),x>i.height&&(i.height=x)}}r.count--}}function FI(e,t,r,n,a){return e.map(function(i){return Lge(i,t,r,n,a)})}function Lge(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=zb(e,r,n))return e;for(;t<zb(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function xB(e,t){var r=new h0(e),n=Bge(t,r.scaleFactor()),a=new jge(t,n);return Ige(r,a),r.applyStyles(r.userStyles),a}function Bge(e,t){var r=e.content,n=Uge(r.columns);if(r.head.length===0){var a=UI(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=UI(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,o=e.styles;return{columns:n,head:P5("head",r.head,n,o,i,t),body:P5("body",r.body,n,o,i,t),foot:P5("foot",r.foot,n,o,i,t)}}function P5(e,t,r,n,a,i){var o={},u=t.map(function(d,c){for(var h=0,g={},x=0,y=0,E=0,N=r;E<N.length;E++){var T=N[E];if(o[T.index]==null||o[T.index].left===0)if(y===0){var j=void 0;Array.isArray(d)?j=d[T.index-x-h]:j=d[T.dataKey];var D={};typeof j=="object"&&!Array.isArray(j)&&(D=(j==null?void 0:j.styles)||{});var F=zge(e,T,c,a,n,i,D),U=new yB(j,F,e);g[T.dataKey]=U,g[T.index]=U,y=U.colSpan-1,o[T.index]={left:U.rowSpan-1,times:y}}else y--,x++;else o[T.index].left--,y=o[T.index].times,h++}return new bB(d,c,e,g)});return u}function UI(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=Fge(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function Fge(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function Uge(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new kge(a,t,r)})}function zge(e,t,r,n,a,i,o){var u=gge(n),d;e==="head"?d=a.headStyles:e==="body"?d=a.bodyStyles:e==="foot"&&(d=a.footStyles);var c=Eu({},u.table,u[e],a.styles,d),h=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},g=e==="body"?h:{},x=e==="body"&&r%2===0?Eu({},u.alternateRow,a.alternateRowStyles):{},y=mge(i),E=Eu({},y,c,x,g);return Eu(E,o)}function qge(e,t,r){var n;r===void 0&&(r={});var a=pB(e,t),i=new Map,o=[],u=[],d=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?d=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(d=[t.settings.horizontalPageBreakRepeat]),d.forEach(function(x){var y=t.columns.find(function(E){return E.dataKey===x||E.index===x});y&&!i.has(y.index)&&(i.set(y.index,!0),o.push(y.index),u.push(t.columns[y.index]),a-=y.wrappedWidth)});for(var c=!0,h=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;h<t.columns.length;){if(i.has(h)){h++;continue}var g=t.columns[h].wrappedWidth;if(c||a>=g)c=!1,o.push(h),u.push(t.columns[h]),a-=g;else break;h++}return{colIndexes:o,columns:u,lastIndex:h-1}}function Hge(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=qge(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function wB(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),u=n+a.bottom+o;if(r.pageBreak==="avoid"){var d=t.body,c=d.reduce(function(x,y){return x+y.height},0);u+=c}var h=new h0(e);(r.pageBreak==="always"||r.startY!=null&&u>h.pageSize().height)&&(SB(h),i.y=a.top),t.callWillDrawPageHooks(h,i);var g=Eu({},i);t.startPageNumber=h.pageNumber(),r.horizontalPageBreak?Gge(h,t,g,i):(h.applyStyles(h.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(x){return Du(h,t,x,i,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(x,y){var E=y===t.body.length-1;qb(h,t,x,E,g,i,t.columns)}),h.applyStyles(h.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(x){return Du(h,t,x,i,t.columns)})),dB(h,t,g,i),t.callEndPageHooks(h,i),t.finalY=i.y,e.lastAutoTable=t,h.applyStyles(h.userStyles)}function Gge(e,t,r,n){var a=Hge(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(c,h){e.applyStyles(e.userStyles),h>0?rp(e,t,r,n,c.columns,!0):zI(e,t,n,c.columns),$ge(e,t,r,n,c.columns),R5(e,t,n,c.columns)});else for(var o=-1,u=a[0],d=function(){var c=o;if(u){e.applyStyles(e.userStyles);var h=u.columns;o>=0?rp(e,t,r,n,h,!0):zI(e,t,n,h),c=qI(e,t,o+1,n,h),R5(e,t,n,h)}var g=c-o;a.slice(1).forEach(function(x){e.applyStyles(e.userStyles),rp(e,t,r,n,x.columns,!0),qI(e,t,o+1,n,x.columns,g),R5(e,t,n,x.columns)}),o=c};o<t.body.length-1;)d()}function zI(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return Du(e,t,i,r,n)})}function $ge(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,o){var u=o===t.body.length-1;qb(e,t,i,u,r,n,a)})}function qI(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var o=Math.min(r+i,t.body.length),u=-1;return t.body.slice(r,o).forEach(function(d,c){var h=r+c===t.body.length-1,g=_B(e,t,h,n);d.canEntireRowFit(g,a)&&(Du(e,t,d,n,a),u=r+c)}),u}function R5(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return Du(e,t,i,r,n)})}function Wge(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function Vge(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,o=0,u=r.columns;o<u.length;o++){var d=u[o],c=e.cells[d.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var h=new yB(c.raw,c.styles,c.section);h=Eu(h,c),h.text=[];var g=Wge(c,t,n);c.text.length>g&&(h.text=c.text.splice(g,c.text.length));var x=n.scaleFactor(),y=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(x,y),c.contentHeight>=t&&(c.contentHeight=t,h.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),h.contentHeight=h.getContentHeight(x,y),h.contentHeight>i&&(i=h.contentHeight),a[d.index]=h}}var E=new bB(e.raw,-1,e.section,a,!0);E.height=i;for(var N=0,T=r.columns;N<T.length;N++){var d=T[N],h=E.cells[d.index];h&&(h.height=E.height);var c=e.cells[d.index];c&&(c.height=e.height)}return E}function Yge(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,o=i.top+i.bottom,u=a-o;t.section==="body"&&(u-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var d=t.getMinimumRowHeight(n.columns,e),c=d<r;if(d>u)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var h=t.hasRowSpan(n.columns),g=t.getMaxCellHeight(n.columns)>u;return g?(h&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||n.settings.rowPageBreak==="avoid")}function qb(e,t,r,n,a,i,o){var u=_B(e,t,n,i);if(r.canEntireRowFit(u,o))Du(e,t,r,i,o);else if(Yge(e,r,u,t)){var d=Vge(r,u,t,e);Du(e,t,r,i,o),rp(e,t,a,i,o),qb(e,t,d,n,a,i,o)}else rp(e,t,a,i,o),qb(e,t,r,n,a,i,o)}function Du(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,o=a;i<o.length;i++){var u=o[i],d=r.cells[u.index];if(!d){n.x+=u.width;continue}e.applyStyles(d.styles),d.x=n.x,d.y=n.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,d,r,u,n);if(c===!1){n.x+=u.width;continue}Xge(e,d,n);var h=d.getTextPos();cB(d.text,h.x,h.y,{halign:d.styles.halign,valign:d.styles.valign,maxWidth:Math.ceil(d.width-d.padding("left")-d.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,d,r,u,n),n.x+=u.width}n.y+=r.height}function Xge(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=hB(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),Kge(e,t,r,n.lineWidth))}function Kge(e,t,r,n){var a,i,o,u;n.top&&(a=r.x,i=r.y,o=r.x+t.width,u=r.y,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),d(n.top,a,i,o,u)),n.bottom&&(a=r.x,i=r.y+t.height,o=r.x+t.width,u=r.y+t.height,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),d(n.bottom,a,i,o,u)),n.left&&(a=r.x,i=r.y,o=r.x,u=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(u+=.5*n.bottom),d(n.left,a,i,o,u)),n.right&&(a=r.x+t.width,i=r.y,o=r.x+t.width,u=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(u+=.5*n.bottom),d(n.right,a,i,o,u));function d(c,h,g,x,y){e.getDocument().setLineWidth(c),e.getDocument().line(h,g,x,y,"S")}}function _B(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function rp(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(u){return Du(e,t,u,n,a)}),t.callEndPageHooks(e,n);var o=t.settings.margin;dB(e,t,r,n),SB(e),t.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(u){return Du(e,t,u,n,a)}),e.applyStyles(e.userStyles))}function SB(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function Zge(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=vB(this,n),i=xB(this,a);return wB(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){cB(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return h0.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){h0.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new h0(this),i=gB(a,t,window,r,!1),o=i.head,u=i.body,d=((n=o[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:d,rows:u,data:u}}}var D5;function Qge(e,t){var r=vB(e,t),n=xB(e,r);wB(e,n)}try{if(typeof window<"u"&&window){var HI=window,GI=HI.jsPDF||((D5=HI.jspdf)===null||D5===void 0?void 0:D5.jsPDF);GI&&Zge(GI)}}catch(e){console.error("Could not apply autoTable plugin",e)}const Jge=async e=>{var t;try{const{data:r,error:n}=await At.from("conceptos_factura").select("*").eq("factura_id",e.id).order("created_at",{ascending:!0});if(n)throw n;const a=new or;a.setFontSize(22),a.setFont("helvetica","bold"),a.setTextColor(37,99,235),a.text("YOUBOX GT",14,22),a.setFontSize(10),a.setFont("helvetica","normal"),a.setTextColor(100,116,139),a.text("Logstica y Casilleros Internacionales",14,28),a.text("PBX: +502 0000-0000",14,33),a.text("hola@youbox.gt",14,38),a.setFontSize(16),a.setFont("helvetica","bold"),a.setTextColor(15,23,42),a.text("FACTURA",150,22),a.setFontSize(10),a.setFont("helvetica","normal"),a.text(`No. de Recibo: ${e.numero}`,150,28),a.text(`Fecha: ${rl(new Date(e.fecha_emision),"dd MMM yyyy",{locale:Lf})}`,150,33);const i=e.estado==="verificado"?"PAGADA":e.estado.toUpperCase();a.setFont("helvetica","bold"),a.setTextColor(e.estado==="verificado"?22:217,e.estado==="verificado"?163:119,e.estado==="verificado"?74:6),a.text(`Estado: ${i}`,150,38),a.setDrawColor(226,232,240),a.setLineWidth(.5),a.line(14,45,196,45),a.setFontSize(11),a.setFont("helvetica","bold"),a.setTextColor(15,23,42),a.text("Facturar a:",14,55),a.setFontSize(10),a.setFont("helvetica","normal"),a.setTextColor(71,85,105);const o=e.clientes?`${e.clientes.nombre} ${e.clientes.apellido}`:e.cliente_manual_nombre||"Consumidor Final",u=e.clientes?e.clientes.nit||"C/F":e.cliente_manual_nit||"C/F",d=e.clientes&&e.clientes.locker_id||"N/A";a.text(`Cliente: ${o}`,14,62),a.text(`Casillero: ${d}`,14,67),a.text(`NIT: ${u}`,14,72),(t=e.clientes)!=null&&t.direccion_entrega&&a.text(`Direccin: ${e.clientes.direccion_entrega}`,14,77);const c=(r||[]).map((g,x)=>[x+1,g.descripcion,g.cantidad,`${e.moneda} ${g.precio_unitario.toFixed(2)}`,`${e.moneda} ${g.subtotal.toFixed(2)}`]);Qge(a,{startY:85,head:[["#","Descripcin / Cargo","Cant.","Precio Unitario","Subtotal"]],body:c,theme:"striped",headStyles:{fillColor:[37,99,235],textColor:255,fontStyle:"bold"},styles:{fontSize:9,cellPadding:4},columnStyles:{0:{cellWidth:10,halign:"center"},1:{cellWidth:80},2:{cellWidth:20,halign:"center"},3:{cellWidth:35,halign:"right"},4:{cellWidth:35,halign:"right"}}});const h=a.lastAutoTable.finalY+10;a.setFontSize(12),a.setFont("helvetica","bold"),a.setTextColor(15,23,42),a.text("Total a Pagar:",130,h),a.setFontSize(14),a.text(`${e.moneda} ${e.monto_total.toFixed(2)}`,160,h),a.setFontSize(9),a.setFont("helvetica","normal"),a.setTextColor(148,163,184),a.text("Gracias por su preferencia.",105,280,{align:"center"}),a.text("Este documento es un comprobante de servicio de envo internacional.",105,285,{align:"center"}),a.save(`${e.numero}.pdf`)}catch(r){console.error("Error generating PDF:",r),alert("Ocurri un error al tratar de generar el PDF de la factura.")}},$I={pendiente:{label:"Pendiente",color:"bg-amber-100 text-amber-700 ring-amber-600/20"},verificado:{label:"Pagada",color:"bg-green-100 text-green-700 ring-green-600/20"},anulado:{label:"Anulada",color:"bg-red-100 text-red-700 ring-red-600/20"},devuelto:{label:"Devuelta",color:"bg-slate-100 text-slate-700 ring-slate-600/20"}};function eve(){const{user:e,isAdmin:t}=Ja(),[r,n]=R.useState([]),[a,i]=R.useState(!0),[o,u]=R.useState(!1),[d,c]=R.useState(!1),[h,g]=R.useState(null);R.useEffect(()=>{x()},[e]);async function x(){if(e)try{i(!0);let j=At.from("facturas").select(`
          id, numero, monto_total, moneda, estado, fecha_emision, cliente_manual_nombre, cliente_manual_nit,
          clientes (nombre, apellido, locker_id, nit, direccion_entrega)
        `).order("fecha_emision",{ascending:!1});t||(j=j.eq("cliente_id",e.id));const{data:D,error:F}=await j;if(F)throw F;n(D||[])}catch(j){console.error("Error fetching facturas:",j)}finally{i(!1)}}const y=j=>{g(j),c(!0)},E=r.filter(j=>j.estado==="pendiente").length,N=r.filter(j=>j.estado==="verificado").length,T=r.filter(j=>["anulado","devuelto"].includes(j.estado)).length;return b.jsxs("div",{className:"space-y-6 animate-fade-in relative z-10 w-full max-w-full overflow-hidden",children:[b.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900 bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-600",children:t?"Facturacin y Pagos":"Mis Facturas"}),b.jsx("p",{className:"text-sm font-medium text-slate-500 mt-1",children:t?"Gestin centralizada del ciclo de pagos y facturacin.":"Historial de tus facturas y cobros de envos."})]}),t&&b.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2.5 text-sm font-semibold text-white shadow-md shadow-blue-500/20 hover:from-blue-500 hover:to-indigo-500 hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200",children:[b.jsx(p0,{className:"h-4 w-4"}),"Nueva Factura"]})]}),b.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-3 mb-6",children:[b.jsxs("div",{className:"rounded-2xl glass p-6 card-hover relative overflow-hidden group",children:[b.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-amber-500/10 rounded-bl-full -z-10 transition-transform group-hover:scale-110"}),b.jsx("p",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:"Pendientes de Cobro"}),b.jsx("p",{className:"text-3xl font-bold text-amber-600 tracking-tight mt-2",children:a?"...":E})]}),b.jsxs("div",{className:"rounded-2xl glass p-6 card-hover relative overflow-hidden group",children:[b.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-emerald-500/10 rounded-bl-full -z-10 transition-transform group-hover:scale-110"}),b.jsx("p",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:"Pagos Completados"}),b.jsx("p",{className:"text-3xl font-bold text-emerald-600 tracking-tight mt-2",children:a?"...":N})]}),b.jsxs("div",{className:"rounded-2xl glass p-6 card-hover relative overflow-hidden group",children:[b.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-rose-500/10 rounded-bl-full -z-10 transition-transform group-hover:scale-110"}),b.jsx("p",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:"Anuladas / Devueltas"}),b.jsx("p",{className:"text-3xl font-bold text-rose-600 tracking-tight mt-2",children:a?"...":T})]})]}),b.jsxs("div",{className:"rounded-2xl glass overflow-hidden flex flex-col min-w-0",children:[b.jsx("div",{className:"p-5 border-b border-white/20 flex items-center justify-between bg-slate-50/50 backdrop-blur-md",children:b.jsx("h2",{className:"text-base font-bold text-slate-800 tracking-tight",children:"Registro de Facturas"})}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full divide-y divide-slate-200/60",children:[b.jsx("thead",{className:"bg-slate-50/50 backdrop-blur-sm",children:b.jsxs("tr",{children:[b.jsx("th",{scope:"col",className:"py-4 pl-4 pr-3 text-left text-xs font-bold uppercase tracking-wider text-slate-500 sm:pl-6",children:"Factura"}),t&&b.jsx("th",{scope:"col",className:"px-3 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-500 hidden sm:table-cell",children:"Cliente"}),b.jsx("th",{scope:"col",className:"px-3 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-500 hidden md:table-cell",children:"Fecha Emisin"}),b.jsx("th",{scope:"col",className:"px-3 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-500",children:"Monto"}),b.jsx("th",{scope:"col",className:"px-3 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-500",children:"Estado"}),b.jsx("th",{scope:"col",className:"relative py-4 pl-3 pr-4 sm:pr-6",children:b.jsx("span",{className:"sr-only",children:"Acciones"})})]})}),b.jsx("tbody",{className:"divide-y divide-slate-100 bg-white/40",children:a?b.jsx("tr",{children:b.jsx("td",{colSpan:t?6:5,className:"py-20 text-center",children:b.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[b.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-500 border-t-transparent mb-2"}),b.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Cargando historial de facturacin..."})]})})}):r.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:t?6:5,className:"py-20 text-center",children:b.jsxs("div",{className:"flex flex-col items-center gap-3",children:[b.jsx("div",{className:"h-16 w-16 rounded-full bg-slate-100 flex items-center justify-center mx-auto mb-2",children:b.jsx(Kb,{className:"h-8 w-8 text-slate-400"})}),b.jsx("p",{className:"text-base font-semibold text-slate-700",children:"No hay facturas registradas"}),b.jsx("p",{className:"text-sm text-slate-500 max-w-sm mx-auto",children:"Las facturas aparecern aqu cuando sean generadas por sistema."})]})})}):r.map((j,D)=>{var F,U,Z;return b.jsxs("tr",{className:"hover:bg-blue-50/50 transition-colors animate-fade-in group",style:{animationDelay:`${D*50}ms`},children:[b.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 sm:pl-6",children:b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"h-10 w-10 shrink-0 hidden sm:flex items-center justify-center rounded-xl bg-gradient-to-br from-slate-100 to-slate-200 p-2.5 shadow-sm group-hover:scale-105 transition-transform",children:b.jsx(p0,{className:"h-5 w-5 text-slate-600"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-bold text-slate-900 tracking-tight",children:j.numero}),b.jsxs("div",{className:"sm:hidden flex flex-col gap-1 mt-1.5",children:[t&&b.jsx("span",{className:"text-xs font-medium text-slate-600",children:j.clientes?`${j.clientes.nombre} ${j.clientes.apellido}`:j.cliente_manual_nombre||"Consumidor Final"}),b.jsx("span",{className:"text-xs text-slate-400",children:j.fecha_emision?rl(new Date(j.fecha_emision),"dd/MM/yy"):"N/A"})]})]})]})}),t&&b.jsxs("td",{className:"whitespace-nowrap px-3 py-4 hidden sm:table-cell",children:[b.jsx("div",{className:"text-sm font-semibold text-slate-700",children:j.clientes?`${j.clientes.nombre} ${j.clientes.apellido}`:j.cliente_manual_nombre||"Consumidor Final"}),((F=j.clientes)==null?void 0:F.locker_id)&&b.jsx("div",{className:"text-xs font-bold text-blue-600 bg-blue-50 inline-flex items-center px-2 py-0.5 rounded-md mt-1",children:j.clientes.locker_id})]}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm font-medium text-slate-500 hidden md:table-cell",children:j.fecha_emision?rl(new Date(j.fecha_emision),"dd MMM yyyy",{locale:Lf}):"N/A"}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4",children:b.jsxs("span",{className:"text-sm font-bold text-slate-800 bg-slate-100 px-2.5 py-1 rounded-lg",children:[b.jsx("span",{className:"text-slate-500 mr-1",children:j.moneda}),j.monto_total]})}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm",children:b.jsxs("span",{className:`inline-flex items-center gap-1.5 rounded-lg px-2.5 py-1 text-xs font-bold ring-1 ring-inset shadow-sm ${((U=$I[j.estado])==null?void 0:U.color)||"bg-slate-50 text-slate-600"}`,children:[b.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-current opacity-70"}),((Z=$I[j.estado])==null?void 0:Z.label)||j.estado]})}),b.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:b.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[t&&j.estado==="pendiente"&&b.jsxs("button",{onClick:()=>y(j),className:"inline-flex items-center justify-center gap-1.5 text-emerald-600 bg-emerald-50 border border-emerald-100 hover:bg-emerald-600 hover:text-white px-3 py-1.5 rounded-xl transition-all duration-200 font-bold shadow-sm",title:"Registrar Pago",children:[b.jsx(I3,{className:"h-4 w-4"})," ",b.jsx("span",{className:"hidden lg:inline",children:"Abonar"})]}),b.jsxs("button",{onClick:()=>Jge(j),className:"inline-flex items-center justify-center gap-1.5 text-blue-600 bg-blue-50 border border-blue-100 hover:bg-blue-600 hover:text-white px-3 py-1.5 rounded-xl transition-all duration-200 font-bold shadow-sm",title:"Descargar PDF",children:[b.jsx(IM,{className:"h-4 w-4"})," ",b.jsx("span",{className:"hidden lg:inline",children:"PDF"})]})]})})]},j.id)})})]})})]}),b.jsx(hge,{isOpen:o,onClose:()=>u(!1),onSuccess:x}),h&&b.jsx(pge,{isOpen:d,onClose:()=>{c(!1),g(null)},onSuccess:x,facturaId:h.id,facturaTotal:h.monto_total,facturaNumero:h.numero})]})}function tve(){return b.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto animate-fade-in relative z-10 w-full pb-10",children:[b.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end justify-between gap-5",children:b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900 bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-600",children:"Configuracin del Sistema"}),b.jsx("p",{className:"text-sm font-medium text-slate-500 mt-1",children:"Administra la arquitectura de datos y preferencias de YOUBOX GT."})]})}),b.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 mt-8",children:[b.jsxs("div",{className:"glass rounded-2xl border border-slate-200/60 p-6 shadow-sm hover:shadow-lg transition-all duration-300 hover:-translate-y-1 cursor-pointer group relative overflow-hidden animate-slide-up",style:{animationDelay:"0ms"},children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),b.jsx("div",{className:"h-14 w-14 rounded-2xl bg-gradient-to-br from-blue-100 to-indigo-100 flex items-center justify-center mb-5 group-hover:scale-110 transition-transform shadow-sm relative z-10 border border-blue-200/50",children:b.jsx(_d,{className:"h-6 w-6 text-blue-600"})}),b.jsx("h3",{className:"text-lg font-extrabold text-slate-900 relative z-10",children:"Jerarqua de Usuarios"}),b.jsx("p",{className:"mt-2 text-sm font-medium text-slate-500 relative z-10 leading-relaxed",children:"Gestiona roles: Admin, Clientes (Locker), Agentes y Transportistas."})]}),b.jsxs("div",{className:"glass rounded-2xl border border-slate-200/60 p-6 shadow-sm hover:shadow-lg transition-all duration-300 hover:-translate-y-1 cursor-pointer group relative overflow-hidden animate-slide-up",style:{animationDelay:"50ms"},children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-50/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),b.jsx("div",{className:"h-14 w-14 rounded-2xl bg-gradient-to-br from-indigo-100 to-violet-100 flex items-center justify-center mb-5 group-hover:scale-110 transition-transform shadow-sm relative z-10 border border-indigo-200/50",children:b.jsx(DM,{className:"h-6 w-6 text-indigo-600"})}),b.jsx("h3",{className:"text-lg font-extrabold text-slate-900 relative z-10",children:"Estructura Geogrfica"}),b.jsx("p",{className:"mt-2 text-sm font-medium text-slate-500 relative z-10 leading-relaxed",children:"Tablas maestras de Pases, Regiones, Ciudades y Puertos para rutas."})]}),b.jsxs("div",{className:"glass rounded-2xl border border-slate-200/60 p-6 shadow-sm hover:shadow-lg transition-all duration-300 hover:-translate-y-1 cursor-pointer group relative overflow-hidden animate-slide-up",style:{animationDelay:"100ms"},children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-50/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),b.jsx("div",{className:"h-14 w-14 rounded-2xl bg-gradient-to-br from-emerald-100 to-teal-100 flex items-center justify-center mb-5 group-hover:scale-110 transition-transform shadow-sm relative z-10 border border-emerald-200/50",children:b.jsx(Cd,{className:"h-6 w-6 text-emerald-600"})}),b.jsx("h3",{className:"text-lg font-extrabold text-slate-900 relative z-10",children:"Motor de Tarifas"}),b.jsx("p",{className:"mt-2 text-sm font-medium text-slate-500 relative z-10 leading-relaxed",children:"Configuracin de costos por Guas, Warehouse y servicios adicionales."})]}),b.jsxs("div",{className:"glass rounded-2xl border border-slate-200/60 p-6 shadow-sm hover:shadow-lg transition-all duration-300 hover:-translate-y-1 cursor-pointer group relative overflow-hidden animate-slide-up",style:{animationDelay:"150ms"},children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-50/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),b.jsx("div",{className:"h-14 w-14 rounded-2xl bg-gradient-to-br from-amber-100 to-yellow-100 flex items-center justify-center mb-5 group-hover:scale-110 transition-transform shadow-sm relative z-10 border border-amber-200/50",children:b.jsx(kM,{className:"h-6 w-6 text-amber-600"})}),b.jsx("h3",{className:"text-lg font-extrabold text-slate-900 relative z-10",children:"Notificaciones WhatsApp"}),b.jsx("p",{className:"mt-2 text-sm font-medium text-slate-500 relative z-10 leading-relaxed",children:"Configura plantillas y alertas automatizadas para clientes."})]}),b.jsxs("div",{className:"glass rounded-2xl border border-slate-200/60 p-6 shadow-sm hover:shadow-lg transition-all duration-300 hover:-translate-y-1 cursor-pointer group relative overflow-hidden animate-slide-up",style:{animationDelay:"200ms"},children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),b.jsx("div",{className:"h-14 w-14 rounded-2xl bg-gradient-to-br from-purple-100 to-fuchsia-100 flex items-center justify-center mb-5 group-hover:scale-110 transition-transform shadow-sm relative z-10 border border-purple-200/50",children:b.jsx(w$,{className:"h-6 w-6 text-purple-600"})}),b.jsx("h3",{className:"text-lg font-extrabold text-slate-900 relative z-10",children:"Personalizacin y Marca"}),b.jsx("p",{className:"mt-2 text-sm font-medium text-slate-500 relative z-10 leading-relaxed",children:"Etiquetas trmicas, formatos Excel y despliegues visuales."})]})]})]})}function rve(){const{user:e}=Ja(),[t,r]=R.useState([]),[n,a]=R.useState([]),[i,o]=R.useState(!0),[u,d]=R.useState(null),[c,h]=R.useState(null),[g,x]=R.useState(""),[y,E]=R.useState(!1),[N,T]=R.useState(!1),[j,D]=R.useState({bodega_id:"",nombre_servicio:"",tipo_cobro:"por_libra",tarifa_q:""});R.useEffect(()=>{F()},[]);async function F(){o(!0);try{const{data:q,error:se}=await At.from("bodegas").select("id, nombre");if(se)throw se;a(q||[]);const{data:H,error:G}=await At.from("tarifas").select(`
          *,
          bodegas ( id, nombre )
        `).order("nombre_servicio");if(G)throw G;r(H||[])}catch(q){console.error("Error fetching tariffs:",q)}finally{o(!1)}}const U=q=>{h(q.id),x(q.tarifa_q.toString())},Z=async q=>{if(!g||isNaN(Number(g))){alert("Por favor ingrese un nmero vlido.");return}d(q.id);try{const se=parseFloat(g),{error:H}=await At.from("tarifas").update({tarifa_q:se}).eq("id",q.id);if(H)throw H;r(t.map(G=>G.id===q.id?{...G,tarifa_q:se}:G)),h(null)}catch(se){console.error(se),alert("Error guardando la tarifa: "+se.message)}finally{d(null)}},X=async q=>{if(q.preventDefault(),!j.bodega_id||!j.nombre_servicio||!j.tarifa_q){alert("Completar todos los campos obligatorios.");return}T(!0);try{const se={bodega_id:j.bodega_id,nombre_servicio:j.nombre_servicio,tipo_cobro:j.tipo_cobro,tarifa_q:parseFloat(j.tarifa_q),activa:!0},{data:H,error:G}=await At.from("tarifas").insert([se]).select("*, bodegas (id, nombre)").single();if(G)throw G;H&&r([...t,H]),E(!1),D({bodega_id:n.length>0?n[0].id:"",nombre_servicio:"",tipo_cobro:"por_libra",tarifa_q:""})}catch(se){console.error(se),alert("Error creando tarifa: "+se.message)}finally{T(!1)}},$=q=>new Intl.NumberFormat("es-GT",{style:"currency",currency:"GTQ"}).format(q),Q=n.map(q=>({bodega:q,items:t.filter(se=>se.bodega_id===q.id)})).filter(q=>q.items.length>0||n.length>0);return b.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto pb-10 animate-fade-in relative z-10 w-full",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end justify-between gap-5",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900 bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-600",children:"Motor de Tarifas"}),b.jsx("p",{className:"text-sm font-medium text-slate-500 mt-1",children:"Configura los precios de fletes por libra o por paquete segn cada Origen."})]}),b.jsxs("button",{onClick:()=>{E(!y),!j.bodega_id&&n.length>0&&D(q=>({...q,bodega_id:n[0].id}))},className:`inline-flex items-center gap-2 rounded-xl px-6 py-2.5 text-sm font-bold text-white shadow-md transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 ${y?"bg-slate-500 hover:bg-slate-600 shadow-slate-500/20 focus:ring-slate-500/50":"bg-gradient-to-r from-blue-600 to-indigo-600 shadow-blue-500/20 hover:from-blue-500 hover:to-indigo-500 hover:-translate-y-0.5 hover:shadow-lg focus:ring-blue-500/50"}`,children:[y?b.jsx(zc,{className:"h-5 w-5"}):b.jsx(O0,{className:"h-5 w-5"}),y?"Cancelar Edicin":"Agregar Tarifa"]})]}),y&&b.jsxs("div",{className:"glass-dark rounded-2xl shadow-md border border-slate-200/60 p-6 sm:p-8 animate-slide-up relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500"}),b.jsxs("h3",{className:"text-xl font-extrabold text-slate-900 mb-6 flex items-center gap-3",children:[b.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-100 text-blue-600",children:b.jsx(Cd,{className:"h-4.5 w-4.5"})}),"Nueva Configuracin de Tarifa"]}),b.jsxs("form",{onSubmit:X,className:"grid grid-cols-1 md:grid-cols-5 gap-5 items-end",children:[b.jsxs("div",{className:"md:col-span-1",children:[b.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-700 mb-1.5 pl-1",children:"Bodega (Origen)"}),b.jsx("select",{required:!0,value:j.bodega_id,onChange:q=>D({...j,bodega_id:q.target.value}),className:"w-full rounded-xl border border-slate-200/80 bg-white/70 py-2.5 px-3 text-slate-900 shadow-sm transition-all focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 hover:border-slate-300 font-medium sm:text-sm",children:n.map(q=>b.jsx("option",{value:q.id,children:q.nombre},q.id))})]}),b.jsxs("div",{className:"md:col-span-1",children:[b.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-700 mb-1.5 pl-1",children:"Servicio (Ej. Shein)"}),b.jsx("input",{required:!0,type:"text",placeholder:"Nombre servicio",value:j.nombre_servicio,onChange:q=>D({...j,nombre_servicio:q.target.value}),className:"w-full rounded-xl border border-slate-200/80 bg-white/70 py-2.5 px-3 text-slate-900 shadow-sm transition-all focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 hover:border-slate-300 font-medium sm:text-sm"})]}),b.jsxs("div",{className:"md:col-span-1",children:[b.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-700 mb-1.5 pl-1",children:"Tipo de Cobro"}),b.jsxs("select",{required:!0,value:j.tipo_cobro,onChange:q=>D({...j,tipo_cobro:q.target.value}),className:"w-full rounded-xl border border-slate-200/80 bg-white/70 py-2.5 px-3 text-slate-900 shadow-sm transition-all focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 hover:border-slate-300 font-medium sm:text-sm",children:[b.jsx("option",{value:"por_libra",children:"Por Libra"}),b.jsx("option",{value:"por_paquete",children:"Por Paquete/Pieza"})]})]}),b.jsxs("div",{className:"md:col-span-1",children:[b.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-700 mb-1.5 pl-1",children:"Costo (Q)"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:b.jsx("span",{className:"text-slate-400 font-black text-sm",children:"Q"})}),b.jsx("input",{required:!0,type:"number",step:"0.01",min:"0",value:j.tarifa_q,onChange:q=>D({...j,tarifa_q:q.target.value}),className:"w-full rounded-xl border border-slate-200/80 bg-white/70 py-2.5 pl-8 pr-3 text-slate-900 shadow-sm transition-all focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 hover:border-slate-300 font-black font-mono sm:text-sm placeholder:text-slate-400 placeholder:font-medium",placeholder:"0.00"})]})]}),b.jsx("div",{className:"md:col-span-1",children:b.jsxs("button",{type:"submit",disabled:N,className:"w-full inline-flex justify-center items-center gap-2 rounded-xl bg-slate-900 px-4 py-2.5 text-sm font-bold text-white shadow-md shadow-slate-900/20 hover:bg-slate-800 hover:-translate-y-0.5 transition-all disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-slate-500/50",children:[N?b.jsx(to,{className:"h-5 w-5 animate-spin"}):b.jsx(Pf,{className:"h-5 w-5"}),"Guardar"]})})]})]}),i?b.jsxs("div",{className:"flex justify-center h-64 flex-col gap-4 items-center",children:[b.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-blue-500 border-t-transparent shadow-sm"}),b.jsx("p",{className:"text-sm font-bold text-slate-500",children:"Cargando tarifas..."})]}):b.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 lg:gap-8 gap-6 mt-4",children:Q.map((q,se)=>b.jsxs("div",{className:"glass rounded-2xl shadow-sm border border-slate-200/60 overflow-hidden animate-slide-up",style:{animationDelay:`${se*100}ms`},children:[b.jsxs("div",{className:"bg-gradient-to-r from-blue-50/80 to-indigo-50/50 px-6 py-5 border-b border-blue-100/60 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"p-2.5 bg-white rounded-xl text-blue-600 shadow-sm border border-blue-100/80",children:b.jsx(tc,{className:"h-5 w-5"})}),b.jsxs("h2",{className:"text-xl font-extrabold text-slate-800 tracking-tight",children:["Bodega ",q.bodega.nombre]})]}),b.jsxs("div",{className:"text-xs font-bold text-blue-600 bg-blue-100/50 px-2 py-1 rounded-md border border-blue-200/50",children:[q.items.length," SERVICIOS"]})]}),b.jsx("ul",{className:"divide-y divide-slate-100/80",children:q.items.length===0?b.jsxs("li",{className:"p-8 flex flex-col items-center justify-center text-slate-400 text-sm gap-2 bg-white/40",children:[b.jsx(Cd,{className:"h-8 w-8 text-slate-300"}),b.jsx("span",{className:"font-medium",children:"No hay tarifas configuradas aqu."})]}):q.items.map(H=>b.jsxs("li",{className:"p-5 sm:px-6 flex items-center justify-between bg-white/40 hover:bg-blue-50/30 transition-colors group/item",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"p-2 rounded-lg bg-slate-50 border border-slate-100 text-slate-400 group-hover/item:border-blue-100 group-hover/item:bg-white group-hover/item:text-blue-500 transition-colors",children:H.tipo_cobro==="por_libra"?b.jsx(Cd,{className:"h-4 w-4"}):b.jsx(Sl,{className:"h-4 w-4"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-black text-slate-900",children:H.nombre_servicio}),b.jsxs("p",{className:"text-xs font-bold text-slate-500 mt-0.5 uppercase tracking-wide",children:[b.jsx("span",{className:"text-indigo-400",children:"TIPO:"})," ",H.tipo_cobro.replace("_"," ")]})]})]}),b.jsx("div",{className:"flex items-center gap-4",children:c===H.id?b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:"relative w-28",children:[b.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-slate-500 font-black text-sm",children:"Q"}),b.jsx("input",{type:"number",autoFocus:!0,step:"any",value:g,onChange:G=>x(G.target.value),className:"block w-full rounded-lg border border-blue-300 py-1.5 pl-7 pr-2 text-slate-900 shadow-sm sm:text-sm font-black font-mono focus:ring-2 focus:ring-blue-500/50 outline-none"})]}),b.jsx("button",{onClick:()=>Z(H),disabled:u===H.id,className:"p-1.5 rounded-lg bg-emerald-50 text-emerald-600 hover:bg-emerald-100 disabled:opacity-50 border border-emerald-200/50 transition-colors",title:"Guardar Cambio",children:u===H.id?b.jsx(to,{className:"h-4.5 w-4.5 animate-spin"}):b.jsx(Pf,{className:"h-4.5 w-4.5"})}),b.jsx("button",{onClick:()=>h(null),className:"p-1.5 rounded-lg bg-slate-50 text-slate-500 hover:bg-slate-200 border border-slate-200/50 transition-colors",title:"Cancelar Edicin",children:b.jsx(zc,{className:"h-4.5 w-4.5"})})]}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"text-right",children:b.jsx("span",{className:"text-lg font-black text-slate-800 font-mono tracking-tight",children:$(H.tarifa_q)})}),b.jsx("button",{onClick:()=>U(H),className:"p-2 rounded-lg text-slate-400 hover:text-blue-600 hover:bg-blue-50 transition-colors border border-transparent hover:border-blue-100",title:"Editar Tarifa",children:b.jsx(E$,{className:"h-4 w-4"})})]})})]},H.id))})]},q.bodega.id))})]})}function nve(){const[e]=dM(),t=e.get("search")||"",[r,n]=R.useState(t?"clients":"staff"),[a,i]=R.useState([]),[o,u]=R.useState([]),[d,c]=R.useState([]),[h,g]=R.useState([]),[x,y]=R.useState(!0),[E,N]=R.useState(!1),[T,j]=R.useState(!1),[D,F]=R.useState(t),[U,Z]=R.useState(null),[X,$]=R.useState({nombre:"",apellido:"",email:"",telefono:"",rol_id:"",sucursal_id:"",password:"",locker_id:"",departamento:"",municipio:""});R.useEffect(()=>{r==="staff"?se():H(),q(),Q()},[r]);async function Q(){try{const{data:pe,error:be}=await At.from("sucursales").select("id, nombre").eq("activa",!0).order("nombre");if(be)throw be;g(pe||[]),pe&&pe.length>0&&$(oe=>({...oe,sucursal_id:pe[0].id}))}catch(pe){console.error("Error fetching sucursales:",pe)}}async function q(){try{const{data:pe,error:be}=await At.from("roles").select("id, nombre");if(be)throw be;c(pe||[]),pe&&pe.length>0&&!X.rol_id&&$(oe=>({...oe,rol_id:pe[0].id}))}catch(pe){console.error("Error fetching roles:",pe)}}async function se(){try{y(!0);const{data:pe,error:be}=await At.from("usuarios").select("*, roles ( nombre ), sucursales ( nombre )").order("created_at",{ascending:!1});if(be)throw be;i(pe||[])}catch(pe){console.error("Error fetching users:",pe)}finally{y(!1)}}async function H(){try{y(!0);const{data:pe,error:be}=await At.from("clientes").select("*, sucursales ( nombre )").order("created_at",{ascending:!1}).limit(1e5);if(be)throw be;u(pe||[])}catch(pe){console.error("Error fetching clients:",pe)}finally{y(!1)}}const G=(pe,be)=>{var oe,Y,le,me;Z(pe.id),n(be),$(be==="staff"?{nombre:pe.nombre||"",apellido:pe.apellido||"",email:pe.email||"",telefono:pe.telefono||"",rol_id:pe.rol_id||((oe=d[0])==null?void 0:oe.id)||"",sucursal_id:pe.sucursal_id||((Y=h[0])==null?void 0:Y.id)||"",password:"",locker_id:"",departamento:"",municipio:""}:{nombre:pe.nombre||"",apellido:pe.apellido||"",email:pe.email||"",telefono:pe.telefono||"",rol_id:((le=d[0])==null?void 0:le.id)||"",sucursal_id:pe.sucursal_id||((me=h[0])==null?void 0:me.id)||"",password:"",locker_id:pe.locker_id||"",departamento:pe.departamento||"",municipio:pe.municipio||""}),N(!0)},ue=()=>{var pe,be;Z(null),$({nombre:"",apellido:"",email:"",telefono:"",rol_id:((pe=d[0])==null?void 0:pe.id)||"",sucursal_id:((be=h[0])==null?void 0:be.id)||"",password:"",locker_id:"",departamento:"",municipio:""}),N(!0)};async function J(pe){var be,oe,Y;pe.preventDefault();try{if(j(!0),r==="staff"){const le={nombre:X.nombre,apellido:X.apellido,email:X.email.toLowerCase(),telefono:X.telefono,rol_id:X.rol_id,sucursal_id:X.sucursal_id,...X.password?{password_hash:X.password}:{}};if(U){const{error:me}=await At.from("usuarios").update(le).eq("id",U);if(me)throw me}else{const{error:me}=await At.from("usuarios").insert([{...le,activo:!0}]);if(me)throw me}se()}else{const le={nombre:X.nombre,apellido:X.apellido,email:((be=X.email)==null?void 0:be.toLowerCase())||null,telefono:X.telefono,locker_id:X.locker_id,sucursal_id:X.sucursal_id,departamento:X.departamento,municipio:X.municipio,...X.password?{notas:X.password}:{}};if(U){const{error:me}=await At.from("clientes").update(le).eq("id",U);if(me)throw me}else{const{error:me}=await At.from("clientes").insert([{...le,activo:!0}]);if(me)throw me}H()}N(!1),Z(null),$({nombre:"",apellido:"",email:"",telefono:"",rol_id:((oe=d[0])==null?void 0:oe.id)||"",sucursal_id:((Y=h[0])==null?void 0:Y.id)||"",password:"",locker_id:"",departamento:"",municipio:""})}catch(le){console.error("Error saving:",le),alert(le.message||"Error al guardar. Verifica los datos ingresados.")}finally{j(!1)}}async function ae(pe,be="staff"){const oe=prompt("Ingresa la nueva contrasea temporal para este usuario:");if(oe)try{if(be==="staff"){const{error:Y}=await At.from("usuarios").update({password_hash:oe}).eq("id",pe);if(Y)throw Y}else{const{error:Y}=await At.from("clientes").update({notas:oe}).eq("id",pe);if(Y)throw Y}alert("Contrasea actualizada exitosamente.")}catch(Y){console.error("Error reseteando password:",Y),alert("Error al actualizar la contrasea: "+(Y.message||"Error desconocido"))}}async function re(pe,be){try{const{error:oe}=await At.from("usuarios").update({activo:!be}).eq("id",pe);if(oe)throw oe;se()}catch{alert("Error al cambiar estado.")}}async function he(pe,be){try{const{error:oe}=await At.from("clientes").update({activo:!be}).eq("id",pe);if(oe)throw oe;H()}catch{alert("Error al cambiar estado del cliente.")}}const Se=o.filter(pe=>{var be,oe;return(pe.nombre+" "+(pe.apellido||"")).toLowerCase().includes(D.toLowerCase())||((be=pe.locker_id)==null?void 0:be.toLowerCase().includes(D.toLowerCase()))||((oe=pe.email)==null?void 0:oe.toLowerCase().includes(D.toLowerCase()))});return b.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto animate-fade-in relative z-10 w-full max-w-full overflow-hidden",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end justify-between gap-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900 bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-600",children:"Gestin de Usuarios"}),b.jsx("p",{className:"text-sm font-medium text-slate-500 mt-1",children:"Administra tanto a tu equipo de trabajo como a tu base de clientes."})]}),b.jsxs("button",{onClick:ue,className:"inline-flex items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2.5 text-sm font-semibold text-white shadow-md shadow-blue-500/20 hover:from-blue-500 hover:to-indigo-500 hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200 w-fit",children:[b.jsx(O0,{className:"h-4 w-4"}),r==="staff"?"Aadir Miembro":"Nuevo Cliente"]})]}),b.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 glass p-4 rounded-2xl w-full",children:[b.jsxs("div",{className:"flex p-1.5 bg-slate-100/50 backdrop-blur-sm border border-slate-200/50 rounded-xl w-full sm:w-auto",children:[b.jsx("button",{onClick:()=>n("staff"),className:`flex-1 sm:flex-none px-5 py-2 text-sm font-bold rounded-lg transition-all duration-200 ${r==="staff"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700 hover:bg-slate-50/50"}`,children:"Equipo de Trabajo"}),b.jsx("button",{onClick:()=>n("clients"),className:`flex-1 sm:flex-none px-5 py-2 text-sm font-bold rounded-lg transition-all duration-200 ${r==="clients"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700 hover:bg-slate-50/50"}`,children:"Clientes"})]}),r==="clients"&&b.jsxs("div",{className:"relative w-full sm:w-80 group",children:[b.jsx(_d,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),b.jsx("input",{type:"text",placeholder:"Buscar cliente...",value:D,onChange:pe=>F(pe.target.value),className:"h-10 w-full rounded-xl border border-slate-200/80 bg-slate-50/50 pl-10 pr-4 text-sm text-slate-700 outline-none transition-all duration-300 focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 placeholder:text-slate-400 hover:border-slate-300"})]})]}),b.jsx("div",{className:"rounded-2xl glass overflow-hidden flex flex-col min-w-0 shadow-sm",children:b.jsx("div",{className:"overflow-x-auto",children:r==="staff"?b.jsxs("table",{className:"min-w-full divide-y divide-slate-200/60",children:[b.jsx("thead",{className:"bg-slate-50/50 backdrop-blur-sm",children:b.jsxs("tr",{children:[b.jsx("th",{scope:"col",className:"py-4 pl-4 pr-3 text-left text-xs font-bold uppercase tracking-wider text-slate-500 sm:pl-6",children:"Usuario"}),b.jsx("th",{scope:"col",className:"px-3 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-500 hidden md:table-cell",children:"Contacto"}),b.jsx("th",{scope:"col",className:"px-3 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-500 hidden sm:table-cell",children:"Rol & Sucursal"}),b.jsx("th",{scope:"col",className:"px-3 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-500",children:"Estado"}),b.jsx("th",{scope:"col",className:"relative py-4 pl-3 pr-4 sm:pr-6",children:b.jsx("span",{className:"sr-only",children:"Acciones"})})]})}),b.jsx("tbody",{className:"divide-y divide-slate-100 bg-white/40",children:x?b.jsx("tr",{children:b.jsx("td",{colSpan:5,className:"py-20 text-center",children:b.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[b.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-500 border-t-transparent mb-2"}),b.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Cargando equipo de trabajo..."})]})})}):a.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:5,className:"py-20 text-center",children:b.jsxs("div",{className:"flex flex-col items-center gap-3",children:[b.jsx("div",{className:"h-16 w-16 rounded-full bg-slate-100 flex items-center justify-center mx-auto mb-2",children:b.jsx(_d,{className:"h-8 w-8 text-slate-400"})}),b.jsx("p",{className:"text-base font-semibold text-slate-700",children:"No hay miembros configurados en el equipo."})]})})}):a.map((pe,be)=>{var oe,Y,le;return b.jsxs("tr",{className:"hover:bg-blue-50/50 transition-colors animate-fade-in group",style:{animationDelay:`${be*50}ms`},children:[b.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 sm:pl-6",children:b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"h-10 w-10 shrink-0 rounded-xl bg-gradient-to-br from-indigo-100 to-blue-100 flex items-center justify-center text-indigo-700 font-bold shadow-sm group-hover:scale-105 transition-transform",children:[pe.nombre[0],pe.apellido?pe.apellido[0]:""]}),b.jsxs("div",{children:[b.jsxs("div",{className:"font-bold text-slate-900 tracking-tight",children:[pe.nombre," ",pe.apellido]}),pe.email==="admin@youbox.gt"&&b.jsx("div",{className:"text-[10px] mt-0.5 text-white bg-blue-600 rounded px-1.5 py-0.5 w-fit font-bold tracking-wider",children:"MASTER O SUPERADMIN"}),b.jsxs("div",{className:"sm:hidden flex flex-col gap-1 mt-1.5 text-xs text-slate-500",children:[b.jsxs("span",{className:"flex items-center gap-1.5",children:[b.jsx(W1,{className:"w-3 h-3 text-slate-400"})," ",pe.email]}),b.jsxs("span",{className:"capitalize font-medium flex items-center gap-1.5",children:[b.jsx(Pv,{className:"w-3 h-3 text-slate-400"})," ",((oe=pe.roles)==null?void 0:oe.nombre)||"Sin Rol"]})]})]})]})}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600 hidden md:table-cell",children:b.jsxs("div",{className:"flex flex-col gap-1.5",children:[b.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[b.jsx(W1,{className:"w-4 h-4 text-slate-400"})," ",pe.email]}),pe.telefono&&b.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[b.jsx(e_,{className:"w-4 h-4 text-slate-400"})," ",pe.telefono]})]})}),b.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600 space-y-2 hidden sm:table-cell",children:[b.jsx("div",{children:b.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-lg px-2.5 py-1 text-xs font-bold bg-indigo-50 text-indigo-700 ring-1 ring-inset ring-indigo-600/20 capitalize shadow-sm",children:[b.jsx(Pv,{className:"w-3.5 h-3.5"}),((Y=pe.roles)==null?void 0:Y.nombre)||"Sin Rol"]})}),((le=pe.sucursales)==null?void 0:le.nombre)&&b.jsx("div",{children:b.jsx("span",{className:"inline-flex items-center gap-1.5 rounded-lg px-2.5 py-1 text-xs font-bold bg-emerald-50 text-emerald-700 ring-1 ring-inset ring-emerald-600/20 shadow-sm",children:pe.sucursales.nombre})})]}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600",children:b.jsx("button",{onClick:()=>re(pe.id,pe.activo),className:`inline-flex items-center rounded-lg px-2.5 py-1.5 text-xs font-bold ring-1 ring-inset shadow-sm transition-all duration-200 ${pe.activo?"bg-green-50 text-green-700 ring-green-600/20 hover:bg-green-600 hover:text-white":"bg-slate-100 text-slate-700 ring-slate-600/20 hover:bg-slate-700 hover:text-white"}`,children:pe.activo?"Activo":"Suspendido"})}),b.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:b.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[b.jsx("button",{onClick:()=>G(pe,"staff"),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar Miembro",children:"Editar"}),b.jsx("button",{onClick:()=>ae(pe.id),className:"p-2 text-slate-400 hover:text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"Cambiar Contrasea",children:b.jsx($N,{className:"w-4 h-4"})}),pe.email!=="admin@youbox.gt"&&b.jsx("button",{className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-colors",title:"Eliminar Permanente",children:b.jsx(M3,{className:"w-4 h-4"})})]})})]},pe.id)})})]}):b.jsxs("table",{className:"min-w-full divide-y divide-slate-200/60",children:[b.jsx("thead",{className:"bg-slate-50/50 backdrop-blur-sm",children:b.jsxs("tr",{children:[b.jsx("th",{scope:"col",className:"py-4 pl-4 pr-3 text-left text-xs font-bold uppercase tracking-wider text-slate-500 sm:pl-6",children:"Cliente"}),b.jsx("th",{scope:"col",className:"px-3 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-500",children:"Casillero"}),b.jsx("th",{scope:"col",className:"px-3 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-500 hidden md:table-cell",children:"Contacto"}),b.jsx("th",{scope:"col",className:"px-3 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-500 hidden sm:table-cell",children:"Sucursal"}),b.jsx("th",{scope:"col",className:"px-3 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-500",children:"Estado"}),b.jsx("th",{scope:"col",className:"relative py-4 pl-3 pr-4 sm:pr-6",children:b.jsx("span",{className:"sr-only",children:"Acciones"})})]})}),b.jsx("tbody",{className:"divide-y divide-slate-100 bg-white/40",children:x?b.jsx("tr",{children:b.jsx("td",{colSpan:6,className:"py-20 text-center text-slate-500 text-sm",children:b.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[b.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-500 border-t-transparent mb-2"}),b.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Cargando base de clientes..."})]})})}):Se.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:6,className:"py-20 text-center",children:b.jsxs("div",{className:"flex flex-col items-center gap-3",children:[b.jsx("div",{className:"h-16 w-16 rounded-full bg-slate-100 flex items-center justify-center mx-auto mb-2",children:b.jsx(_d,{className:"h-8 w-8 text-slate-400"})}),b.jsx("p",{className:"text-base font-semibold text-slate-700",children:"No se encontraron clientes."})]})})}):Se.map((pe,be)=>{var oe;return b.jsxs("tr",{className:"hover:bg-blue-50/50 transition-colors animate-fade-in group",style:{animationDelay:`${be*50}ms`},children:[b.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 sm:pl-6",children:b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"h-10 w-10 shrink-0 rounded-xl bg-gradient-to-br from-blue-100 to-cyan-100 flex items-center justify-center text-blue-700 font-bold shadow-sm hidden sm:flex group-hover:scale-105 transition-transform",children:[pe.nombre[0],pe.apellido?pe.apellido[0]:""]}),b.jsxs("div",{children:[b.jsxs("div",{className:"font-bold text-slate-900 tracking-tight",children:[pe.nombre," ",pe.apellido]}),b.jsxs("div",{className:"sm:hidden text-xs text-slate-500 mt-1 flex items-center gap-1",children:[b.jsx(W1,{className:"w-3 h-3"})," ",pe.email]})]})]})}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4",children:b.jsx("span",{className:"text-sm font-mono font-bold bg-slate-100/80 text-blue-700 px-2.5 py-1 rounded-md tracking-wider shadow-[inset_0_1px_2px_rgba(0,0,0,0.05)] border border-slate-200",children:pe.locker_id})}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600 hidden md:table-cell",children:b.jsxs("div",{className:"flex flex-col gap-1.5 font-medium",children:[pe.email&&b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(W1,{className:"w-4 h-4 text-slate-400"})," ",pe.email]}),pe.telefono&&b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(e_,{className:"w-4 h-4 text-slate-400"})," ",pe.telefono]})]})}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600 hidden sm:table-cell",children:((oe=pe.sucursales)==null?void 0:oe.nombre)&&b.jsx("span",{className:"inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-bold bg-emerald-50 text-emerald-700 ring-1 ring-inset ring-emerald-600/20 shadow-sm",children:pe.sucursales.nombre})}),b.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600",children:b.jsx("button",{onClick:()=>he(pe.id,pe.activo),className:`inline-flex items-center rounded-lg px-2.5 py-1.5 text-xs font-bold ring-1 ring-inset shadow-sm transition-all duration-200 ${pe.activo?"bg-green-50 text-green-700 ring-green-600/20 hover:bg-green-600 hover:text-white":"bg-slate-100 text-slate-700 ring-slate-600/20 hover:bg-slate-700 hover:text-white"}`,children:pe.activo?"Activo":"Inactivo"})}),b.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:b.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[b.jsx("button",{onClick:()=>G(pe,"clients"),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar Cliente",children:"Editar"}),b.jsx("button",{onClick:()=>ae(pe.id,"clients"),className:"p-2 text-slate-400 hover:text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"Cambiar Contrasea",children:b.jsx($N,{className:"w-4 h-4"})})]})})]},pe.id)})})]})})}),E&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4 animate-fade-in",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-slide-up ring-1 ring-slate-200",children:[b.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 flex items-center gap-3 bg-slate-50/80",children:[b.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-xl bg-blue-100 text-blue-600",children:b.jsx(_d,{className:"w-5 h-5"})}),b.jsx("h2",{className:"text-xl font-bold text-slate-800 tracking-tight",children:U?r==="staff"?"Editar Miembro":"Editar Cliente":r==="staff"?"Nuevo Miembro":"Nuevo Cliente"})]}),b.jsxs("form",{onSubmit:J,className:"p-6 space-y-5 max-h-[75vh] overflow-y-auto custom-scrollbar",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:"Nombre"}),b.jsx("input",{required:!0,type:"text",value:X.nombre,onChange:pe=>$({...X,nombre:pe.target.value}),className:"w-full rounded-xl border-slate-200 bg-slate-50/50 shadow-sm focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-500/10 text-sm p-2.5 border transition-all"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:"Apellido"}),b.jsx("input",{type:"text",value:X.apellido,onChange:pe=>$({...X,apellido:pe.target.value}),className:"w-full rounded-xl border-slate-200 bg-slate-50/50 shadow-sm focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-500/10 text-sm p-2.5 border transition-all"})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:"Correo"}),b.jsx("input",{required:r==="staff",type:"email",value:X.email,onChange:pe=>$({...X,email:pe.target.value}),className:"w-full rounded-xl border-slate-200 bg-slate-50/50 shadow-sm focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-500/10 text-sm p-2.5 border transition-all"})]}),b.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:"Telfono"}),b.jsx("input",{type:"text",value:X.telefono,onChange:pe=>$({...X,telefono:pe.target.value}),className:"w-full rounded-xl border-slate-200 bg-slate-50/50 shadow-sm focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-500/10 text-sm p-2.5 border transition-all"})]})]}),r==="staff"?b.jsxs(b.Fragment,{children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:U?"Nueva Contrasea (opcional)":"Contrasea (Obligatoria)"}),b.jsx("input",{required:!U,type:"text",value:X.password,onChange:pe=>$({...X,password:pe.target.value}),className:"w-full rounded-xl border-slate-200 bg-slate-50/50 shadow-sm focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-500/10 text-sm p-2.5 border transition-all",placeholder:U?"Dejar en blanco para mantener la actual":"Contrasea temporal"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:"Rol / Jerarqua"}),b.jsx("select",{required:!0,value:X.rol_id,onChange:pe=>$({...X,rol_id:pe.target.value}),className:"w-full rounded-xl border-slate-200 bg-slate-50/50 shadow-sm focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-500/10 text-sm p-2.5 border transition-all capitalize",children:d.map(pe=>b.jsx("option",{value:pe.id,children:pe.nombre},pe.id))})]})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:"Casillero ID"}),b.jsx("input",{required:!0,type:"text",placeholder:"Ej: YBG123",value:X.locker_id,onChange:pe=>$({...X,locker_id:pe.target.value.toUpperCase()}),className:"w-full rounded-xl border-slate-200 bg-slate-50/50 shadow-sm focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-500/10 text-sm p-2.5 border transition-all font-mono uppercase"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:"Nueva Contrasea (opcional)"}),b.jsx("input",{type:"text",value:X.password,onChange:pe=>$({...X,password:pe.target.value}),className:"w-full rounded-xl border-slate-200 bg-slate-50/50 shadow-sm focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-500/10 text-sm p-2.5 border transition-all",placeholder:"Dejar en blanco si no cambia"})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:"Departamento"}),b.jsx("input",{type:"text",value:X.departamento,onChange:pe=>$({...X,departamento:pe.target.value}),className:"w-full rounded-xl border-slate-200 bg-slate-50/50 shadow-sm focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-500/10 text-sm p-2.5 border transition-all"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:"Municipio"}),b.jsx("input",{type:"text",value:X.municipio,onChange:pe=>$({...X,municipio:pe.target.value}),className:"w-full rounded-xl border-slate-200 bg-slate-50/50 shadow-sm focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-500/10 text-sm p-2.5 border transition-all"})]})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:"Asignacin de Sucursal"}),b.jsx("select",{required:!0,value:X.sucursal_id,onChange:pe=>$({...X,sucursal_id:pe.target.value}),className:"w-full rounded-xl border-slate-200 bg-slate-50/50 shadow-sm focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-500/10 text-sm p-2.5 border transition-all",children:h.map(pe=>b.jsx("option",{value:pe.id,children:pe.nombre},pe.id))})]}),b.jsxs("div",{className:"pt-6 flex gap-3 justify-end border-t border-slate-100 mt-6",children:[b.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-5 py-2.5 text-sm font-bold text-slate-700 bg-slate-100 hover:bg-slate-200 rounded-xl transition-colors",children:"Cancelar"}),b.jsxs("button",{type:"submit",disabled:T,className:"px-5 py-2.5 text-sm font-bold text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 rounded-xl disabled:opacity-50 flex items-center gap-2 shadow-md shadow-blue-500/20 transition-all",children:[T&&b.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),U?"Guardar Cambios":"Registrar"]})]})]})]})})]})}function ave(){const[e,t]=R.useState([]),[r,n]=R.useState(!0),[a,i]=R.useState(!1),[o,u]=R.useState(!1),[d,c]=R.useState({nombre:"",prefijo_casillero:""});R.useEffect(()=>{h()},[]);const h=async()=>{n(!0);const{data:y,error:E}=await At.from("sucursales").select("*").order("created_at",{ascending:!0});E||t(y||[]),n(!1)},g=async y=>{y.preventDefault(),u(!0);try{const{error:E}=await At.from("sucursales").insert([{nombre:d.nombre,prefijo_casillero:d.prefijo_casillero.toUpperCase(),activa:!0}]);if(E)throw E;c({nombre:"",prefijo_casillero:""}),i(!1),h()}catch(E){alert(E.message||"Error al crear la sucursal.")}finally{u(!1)}},x=async(y,E)=>{const{error:N}=await At.from("sucursales").update({activa:!E}).eq("id",y);N||h()};return b.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto animate-fade-in relative z-10 w-full pb-10",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end justify-between gap-5",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900 bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-600",children:"Agencias y Sucursales"}),b.jsx("p",{className:"text-sm font-medium text-slate-500 mt-1",children:"Administra las ubicaciones fsicas y sus prefijos de casillero."})]}),b.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-2.5 text-sm font-bold text-white shadow-md shadow-blue-500/20 hover:from-blue-500 hover:to-indigo-500 hover:-translate-y-0.5 hover:shadow-lg transition-all focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:ring-offset-2",children:[b.jsx(O0,{className:"h-5 w-5"}),"Aadir Sucursal"]})]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r?b.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center justify-center gap-4",children:[b.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-blue-500 border-t-transparent shadow-sm"}),b.jsx("p",{className:"text-sm font-bold text-slate-500",children:"Cargando sucursales..."})]}):e.map((y,E)=>b.jsxs("div",{className:"glass rounded-2xl border border-slate-200/60 p-6 shadow-sm flex flex-col items-center text-center hover:shadow-lg hover:-translate-y-1 transition-all duration-300 animate-slide-up relative overflow-hidden group/card",style:{animationDelay:`${E*50}ms`},children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-blue-500 to-indigo-500 transform scale-x-0 group-hover/card:scale-x-100 transition-transform origin-left"}),b.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 shadow-md shadow-blue-500/20 text-white flex-shrink-0 group-hover/card:scale-105 transition-transform mb-5",children:b.jsx(T3,{className:"h-8 w-8"})}),b.jsx("h3",{className:"text-xl font-extrabold text-slate-900 tracking-tight mb-1",children:y.nombre}),b.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-lg px-3 py-1 text-xs font-black bg-slate-100 text-slate-600 border border-slate-200 shadow-sm mt-3 mb-6 font-mono tracking-widest uppercase",children:[b.jsx("span",{className:"text-blue-500",children:"PREFIJO:"})," ",y.prefijo_casillero,"-"]}),b.jsx("button",{onClick:()=>x(y.id,y.activa),className:`w-full py-2.5 rounded-xl text-sm font-bold transition-all shadow-sm active:scale-95 ${y.activa?"bg-emerald-50 text-emerald-700 hover:bg-emerald-100 border border-emerald-200":"bg-slate-50 text-slate-500 hover:bg-slate-100 border border-slate-200"}`,children:y.activa?"Activa y Operando":"Sucursal Inactiva"})]},y.id))}),a&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-md animate-fade-in",children:b.jsxs("div",{className:"glass-dark rounded-3xl shadow-2xl w-full max-w-sm overflow-hidden animate-slide-up border border-slate-200/50",children:[b.jsxs("div",{className:"px-6 py-5 border-b border-slate-200/50 flex items-center gap-4 bg-white/50",children:[b.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 shadow-sm text-white flex-shrink-0",children:b.jsx(tc,{className:"h-5 w-5"})}),b.jsx("h2",{className:"text-xl font-extrabold text-slate-900 tracking-tight",children:"Nueva Sucursal"})]}),b.jsxs("form",{onSubmit:g,className:"p-6 space-y-5 bg-white/80",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:"Nombre de la Sede"}),b.jsx("input",{required:!0,type:"text",placeholder:"Ej. Agencia Tapachula",value:d.nombre,onChange:y=>c({...d,nombre:y.target.value}),className:"w-full rounded-xl border border-slate-200/80 bg-white/90 py-2.5 px-3 text-slate-900 shadow-sm transition-all focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 hover:border-slate-300 sm:text-sm font-medium placeholder:text-slate-400"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:"Prefijo de Casillero"}),b.jsx("input",{required:!0,type:"text",placeholder:"Ej. YBT",maxLength:4,value:d.prefijo_casillero,onChange:y=>c({...d,prefijo_casillero:y.target.value.replace(/[^A-Za-z]/g,"").toUpperCase()}),className:"w-full rounded-xl border border-slate-200/80 bg-white/90 py-2.5 px-3 text-slate-900 shadow-sm transition-all focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 hover:border-slate-300 sm:text-sm font-bold tracking-widest font-mono uppercase placeholder:text-slate-400"}),b.jsxs("p",{className:"text-xs font-semibold text-slate-500 mt-2 bg-slate-50 border border-slate-100 p-2 rounded-lg",children:["Sugerido: 3 a 4 letras. Ej: ",b.jsx("span",{className:"font-mono text-slate-700 font-bold bg-white px-1 border border-slate-200 rounded",children:"YBQ"})," (Quich)."]})]}),b.jsxs("div",{className:"pt-5 flex gap-3 justify-end border-t border-slate-200/60",children:[b.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-5 py-2.5 text-sm font-bold text-slate-600 hover:bg-slate-100 rounded-xl transition-colors border border-slate-200 shadow-sm",children:"Cancelar"}),b.jsx("button",{type:"submit",disabled:o||!d.nombre||!d.prefijo_casillero,className:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-2.5 text-sm font-bold text-white shadow-md shadow-blue-500/20 hover:from-blue-500 hover:to-indigo-500 hover:-translate-y-0.5 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:ring-offset-2",children:o?"Guardando...":"Guardar Sede"})]})]})]})})]})}function ive(){const{login:e}=Ja(),t=$d(),[r,n]=R.useState(""),[a,i]=R.useState(""),[o,u]=R.useState(!1),[d,c]=R.useState(""),[h,g]=R.useState(""),[x,y]=R.useState(!1),[E,N]=R.useState(!1),[T,j]=R.useState(""),D=async U=>{if(U.preventDefault(),g(""),!r||!a){c("Completa todos los campos.");return}c(""),y(!0);const Z=await e(r,a);if(y(!1),Z.error){c(Z.error);return}t("/")},F=async U=>{if(U.preventDefault(),c(""),g(""),!T){c("Ingresa tu correo electrnico.");return}y(!0);try{const{data:Z,error:X}=await At.from("clientes").select("id, nombre, email").eq("email",T.toLowerCase()).single();if(X||!Z){const{data:se,error:H}=await At.from("usuarios").select("id").eq("email",T.toLowerCase()).single();c(se&&!H?"Eres miembro del equipo. Por favor, solicita a un Administrador que restablezca tu contrasea.":"No se encontr ninguna cuenta con ese correo."),y(!1);return}const $="YBG-"+Math.random().toString(36).substring(2,6).toUpperCase(),{error:Q}=await At.from("clientes").update({notas:$}).eq("id",Z.id);if(Q)throw Q;const{error:q}=await At.from("notificaciones").insert([{cliente_id:Z.id,tipo:"email",asunto:"Recuperacin de Contrasea - YOUBOX GT",mensaje:`Hola ${Z.nombre},

Hemos recibido una solicitud de recuperacin de contrasea.

Tu nueva contrasea temporal es: **${$}**

Por favor, inicia sesin con esta contrasea y dirgete a "Mi Perfil" (haciendo clic en tu nombre en el men) para cambiarla de inmediato.`,estado:"pendiente"}]);if(q)throw q;g("Se ha enviado una contrasea temporal a tu correo. Revisa tu bandeja de entrada o spam."),setTimeout(()=>{N(!1),g("")},5e3)}catch(Z){console.error("FORGOT PASSWORD ERROR:",Z),c(`Error: ${(Z==null?void 0:Z.message)||"Ocurri un error al procesar tu solicitud."}`)}finally{y(!1)}};return b.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-blue-950 flex items-center justify-center p-4",children:[b.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[b.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 rounded-full bg-blue-500/10 blur-3xl"}),b.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 rounded-full bg-blue-500/10 blur-3xl"})]}),b.jsxs("div",{className:"relative w-full max-w-md",children:[b.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl",children:[b.jsxs("div",{className:"flex flex-col items-center mb-8",children:[b.jsx("img",{src:"https://youboxgt.online/wp-content/uploads/2024/10/Manual-de-logo-YouBoxGt-03-1.png",alt:"YOUBOX GT Logo",className:"h-24 w-auto object-contain mb-4"}),b.jsx("h1",{className:"text-3xl font-black text-white tracking-tight",children:"YOUBOX GT"}),b.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Sistema de Gestin de Paquetes"})]}),b.jsx("h2",{className:"text-xl font-bold text-white mb-6 text-center",children:E?"Recuperar Contrasea":"Iniciar Sesin"}),d&&b.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-lg bg-red-500/15 border border-red-500/30 px-4 py-3 text-sm text-red-300",children:[b.jsx(Mf,{className:"h-4 w-4 shrink-0"}),d]}),h&&b.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-lg bg-emerald-500/15 border border-emerald-500/30 px-4 py-3 text-sm text-emerald-300",children:[b.jsx(Mf,{className:"h-4 w-4 shrink-0"}),h]}),E?b.jsxs("form",{onSubmit:F,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Correo Registrado"}),b.jsx("input",{type:"email",value:T,onChange:U=>j(U.target.value),className:"w-full rounded-lg bg-white/10 border border-white/15 px-4 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"tu@correo.com",autoFocus:!0}),b.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Te enviaremos una contrasea temporal a este correo."})]}),b.jsxs("div",{className:"flex flex-col gap-3 mt-4",children:[b.jsxs("button",{type:"submit",disabled:x,className:"w-full flex items-center justify-center gap-2 rounded-lg bg-blue-500 hover:bg-blue-400 disabled:opacity-60 disabled:cursor-not-allowed text-white font-semibold py-2.5 transition-all shadow-lg shadow-blue-500/20 text-sm",children:[x?b.jsx("span",{className:"h-4 w-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):null,x?"Enviando...":"Recuperar Contrasea"]}),b.jsx("button",{type:"button",onClick:()=>{N(!1),c(""),g("")},className:"w-full py-2 text-sm text-slate-400 hover:text-white transition-colors",children:"Volver al inicio de sesin"})]})]}):b.jsxs("form",{onSubmit:D,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Usuario o Correo"}),b.jsx("input",{type:"text",value:r,onChange:U=>n(U.target.value),className:"w-full rounded-lg bg-white/10 border border-white/15 px-4 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"admin o tu@correo.com",autoFocus:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Contrasea"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:o?"text":"password",value:a,onChange:U=>i(U.target.value),className:"w-full rounded-lg bg-white/10 border border-white/15 px-4 py-2.5 pr-10 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"Contrasea"}),b.jsx("button",{type:"button",onClick:()=>u(!o),className:"absolute right-3 top-2.5 text-slate-400 hover:text-white transition-colors",children:o?b.jsx(PM,{className:"h-4 w-4"}):b.jsx(RM,{className:"h-4 w-4"})})]})]}),b.jsx("div",{className:"flex justify-end mt-2",children:b.jsx("button",{type:"button",onClick:()=>{N(!0),c(""),g("")},className:"text-sm text-slate-400 hover:text-white transition-colors",children:"Olvidaste tu contrasea?"})}),b.jsxs("button",{type:"submit",disabled:x,className:"w-full flex items-center justify-center gap-2 rounded-lg bg-blue-500 hover:bg-blue-400 disabled:opacity-60 disabled:cursor-not-allowed text-white font-semibold py-2.5 transition-all shadow-lg shadow-blue-500/20 text-sm mt-4",children:[x?b.jsx("span",{className:"h-4 w-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):b.jsx(n$,{className:"h-4 w-4"}),x?"Ingresando...":"Ingresar"]})]}),b.jsxs("div",{className:"mt-6 space-y-3 text-center",children:[b.jsxs("p",{className:"text-slate-400 text-sm",children:["No tienes cuenta?"," ",b.jsx(If,{to:"/register",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Crear cuenta de cliente"})]}),b.jsx("div",{className:"border-t border-white/10 pt-3",children:b.jsx(If,{to:"/tracking",className:"inline-flex items-center gap-2 text-sm font-semibold text-blue-400 hover:text-blue-300 transition-colors",children:" Rastrear mi paquete sin iniciar sesin"})})]})]}),b.jsx("p",{className:"text-center text-slate-600 text-xs mt-6",children:" 2025 YOUBOX GT  Todos los derechos reservados"})]})]})}const sve=["Salario","Luz","Agua","Renta","Internet","Proveedores","Otros"];function ove(){const{user:e}=Ja(),[t,r]=R.useState([]),[n,a]=R.useState([]),[i,o]=R.useState("all"),[u,d]=R.useState(!0),[c,h]=R.useState(!1),[g,x]=R.useState(!1),y=VI.useRef(null),[E,N]=R.useState({categoria:"Renta",concepto:"",monto_q:"",fecha_pago:new Date().toISOString().split("T")[0],numero_cuenta:"",notas:"",sucursal_id:""}),[T,j]=R.useState(null),[D,F]=R.useState(null);R.useEffect(()=>{U()},[]),R.useEffect(()=>{Z()},[i,e==null?void 0:e.sucursal_id]);async function U(){if((e==null?void 0:e.role)==="admin"){const{data:q}=await At.from("sucursales").select("id, nombre").eq("activa",!0).order("nombre");q&&(a(q),q.length>0&&N(se=>({...se,sucursal_id:q[0].id})))}else e!=null&&e.sucursal_id&&N(q=>({...q,sucursal_id:e.sucursal_id}))}async function Z(){d(!0);try{let q=At.from("gastos_financieros").select("*, sucursales(nombre)").order("fecha_pago",{ascending:!1});(e==null?void 0:e.role)!=="admin"&&(e!=null&&e.sucursal_id)?q=q.eq("sucursal_id",e.sucursal_id):(e==null?void 0:e.role)==="admin"&&i!=="all"&&(q=q.eq("sucursal_id",i));const{data:se,error:H}=await q;if(H)throw H;r(se||[])}catch(q){console.error("Error fetching expenses:",q)}finally{d(!1)}}const X=q=>{if(q.target.files&&q.target.files[0]){const se=q.target.files[0];if(j(se),se.type.startsWith("image/")){const H=new FileReader;H.onloadend=()=>{F(H.result)},H.readAsDataURL(se)}else F(null)}},$=async q=>{if(q.preventDefault(),!E.monto_q||!E.concepto){alert("Debes indicar al menos un Concepto y Monto.");return}h(!0);let se=null;try{if(T){x(!0);const ue=T.name.split(".").pop(),J=`${Date.now()}_${Math.random().toString(36).substring(7)}.${ue}`,ae=`${(e==null?void 0:e.id)||"sys"}/${J}`,{error:re,data:he}=await At.storage.from("recibos_gastos").upload(ae,T);if(re)throw re;if(he){const{data:Se}=At.storage.from("recibos_gastos").getPublicUrl(he.path);se=Se.publicUrl}x(!1)}const H={categoria:E.categoria,concepto:E.concepto,monto_q:parseFloat(E.monto_q),fecha_pago:E.fecha_pago,numero_cuenta:E.numero_cuenta,notas:E.notas,recibo_url:se,sucursal_id:E.sucursal_id||null,estado:"verificado",registrado_por:(e==null?void 0:e.id)==="admin-001"?null:e==null?void 0:e.id},{error:G}=await At.from("gastos_financieros").insert([H]);if(G)throw G;alert("Gasto registrado exitosamente!"),N({categoria:"Renta",concepto:"",monto_q:"",fecha_pago:new Date().toISOString().split("T")[0],numero_cuenta:"",notas:"",sucursal_id:(e==null?void 0:e.role)==="admin"&&n.length>0?n[0].id:(e==null?void 0:e.sucursal_id)||""}),j(null),F(null),y.current&&(y.current.value=""),Z()}catch(H){console.error(H),alert("Error guardando el gasto: "+H.message),x(!1)}finally{h(!1)}},Q=q=>new Intl.NumberFormat("es-GT",{style:"currency",currency:"GTQ"}).format(q);return b.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto animate-fade-in relative z-10 w-full max-w-full pb-10",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end justify-between gap-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900 bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-600",children:"Control de Gastos"}),b.jsx("p",{className:"text-sm font-medium text-slate-500 mt-1",children:"Registra y verifica pagos de renta, salarios, proveedores y ms."})]}),(e==null?void 0:e.role)==="admin"&&b.jsxs("div",{className:"flex items-center gap-2 glass px-4 py-2.5 rounded-xl border border-slate-200/50 shadow-sm transition-all hover:shadow-md",children:[b.jsx(vv,{className:"h-4 w-4 text-blue-500"}),b.jsxs("select",{value:i,onChange:q=>o(q.target.value),className:"bg-transparent border-none text-sm font-bold text-slate-700 outline-none focus:ring-0 cursor-pointer appearance-none pr-4",children:[b.jsx("option",{value:"all",children:"Todas las Sedes"}),n.map(q=>b.jsx("option",{value:q.id,children:q.nombre},q.id))]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"lg:col-span-1 glass border border-slate-200/60 rounded-2xl shadow-sm p-6 space-y-5 h-fit relative overflow-hidden group",children:[b.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/5 rounded-bl-full -z-10 transition-transform group-hover:scale-110"}),b.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-3 tracking-tight",children:[b.jsx("div",{className:"p-2 bg-blue-100/50 rounded-lg text-blue-600",children:b.jsx(t_,{className:"h-5 w-5"})}),"Nuevo Gasto"]}),b.jsxs("form",{onSubmit:$,className:"space-y-4",children:[b.jsxs("div",{className:"space-y-1.5",children:[b.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Categora ",b.jsx("span",{className:"text-rose-500",children:"*"})]}),b.jsxs("div",{className:"relative group/input",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:b.jsx(H$,{className:"h-4 w-4 text-slate-400 group-focus-within/input:text-blue-500 transition-colors"})}),b.jsx("select",{required:!0,value:E.categoria,onChange:q=>N({...E,categoria:q.target.value}),className:"block w-full rounded-xl border-slate-200/80 bg-slate-50/50 py-2.5 pl-10 pr-3 text-slate-900 shadow-sm transition-all duration-300 focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 hover:border-slate-300 sm:text-sm sm:leading-6 font-medium",children:sve.map(q=>b.jsx("option",{value:q,children:q},q))})]})]}),(e==null?void 0:e.role)==="admin"&&n.length>0&&b.jsxs("div",{className:"space-y-1.5",children:[b.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Sucursal ",b.jsx("span",{className:"text-rose-500",children:"*"})]}),b.jsxs("div",{className:"relative group/input",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:b.jsx(vv,{className:"h-4 w-4 text-slate-400 group-focus-within/input:text-blue-500 transition-colors"})}),b.jsx("select",{required:!0,value:E.sucursal_id,onChange:q=>N({...E,sucursal_id:q.target.value}),className:"block w-full rounded-xl border-slate-200/80 bg-slate-50/50 py-2.5 pl-10 pr-3 text-slate-900 shadow-sm transition-all duration-300 focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 hover:border-slate-300 sm:text-sm sm:leading-6 font-medium",children:n.map(q=>b.jsx("option",{value:q.id,children:q.nombre},q.id))})]})]}),b.jsxs("div",{className:"space-y-1.5",children:[b.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Concepto / Referencia ",b.jsx("span",{className:"text-rose-500",children:"*"})]}),b.jsx("input",{required:!0,type:"text",placeholder:"Ej. Renta Febrero Almacn B",value:E.concepto,onChange:q=>N({...E,concepto:q.target.value}),className:"block w-full rounded-xl border-slate-200/80 bg-slate-50/50 py-2.5 px-3.5 text-slate-900 shadow-sm transition-all duration-300 focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 placeholder:text-slate-400 hover:border-slate-300 sm:text-sm sm:leading-6"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-1.5",children:[b.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Monto (GTQ) ",b.jsx("span",{className:"text-rose-500",children:"*"})]}),b.jsxs("div",{className:"relative group/input",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:b.jsx("span",{className:"text-slate-400 font-bold text-sm group-focus-within/input:text-blue-500 transition-colors",children:"Q"})}),b.jsx("input",{required:!0,type:"number",step:"0.01",min:"0",placeholder:"0.00",value:E.monto_q,onChange:q=>N({...E,monto_q:q.target.value}),className:"block w-full rounded-xl border-slate-200/80 bg-slate-50/50 py-2.5 pl-9 pr-3 text-slate-900 shadow-sm transition-all duration-300 focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 placeholder:text-slate-400 hover:border-slate-300 sm:text-sm sm:leading-6 font-mono font-bold"})]})]}),b.jsxs("div",{className:"space-y-1.5",children:[b.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Fecha de Pago ",b.jsx("span",{className:"text-rose-500",children:"*"})]}),b.jsx("input",{required:!0,type:"date",value:E.fecha_pago,onChange:q=>N({...E,fecha_pago:q.target.value}),className:"block w-full rounded-xl border-slate-200/80 bg-slate-50/50 py-2.5 px-3.5 text-slate-900 shadow-sm transition-all duration-300 focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 hover:border-slate-300 sm:text-sm sm:leading-6 font-medium"})]})]}),b.jsxs("div",{className:"space-y-1.5",children:[b.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["N Cuenta o Cheque ",b.jsx("span",{className:"text-slate-400 font-normal text-xs",children:"(Opcional)"})]}),b.jsxs("div",{className:"relative group/input",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:b.jsx(vv,{className:"h-4 w-4 text-slate-400 group-focus-within/input:text-blue-500 transition-colors"})}),b.jsx("input",{type:"text",placeholder:"Ej. Cheque Bi #010101",value:E.numero_cuenta,onChange:q=>N({...E,numero_cuenta:q.target.value}),className:"block w-full rounded-xl border-slate-200/80 bg-slate-50/50 py-2.5 pl-10 pr-3 text-slate-900 shadow-sm transition-all duration-300 focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 placeholder:text-slate-400 hover:border-slate-300 sm:text-sm sm:leading-6"})]})]}),b.jsxs("div",{className:"space-y-1.5",children:[b.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Comprobante de Pago (Recibo)"}),b.jsx("div",{className:"mt-2 flex justify-center rounded-xl border-2 border-dashed border-slate-200/80 bg-slate-50/50 px-6 py-5 cursor-pointer hover:bg-white hover:border-blue-400/50 transition-all duration-300 group/upload",onClick:()=>{var q;return(q=y.current)==null?void 0:q.click()},children:b.jsxs("div",{className:"text-center w-full",children:[D?b.jsxs("div",{className:"relative inline-block mt-2 mb-4",children:[b.jsx("img",{src:D,alt:"Preview",className:"mx-auto h-28 object-cover rounded-lg border border-slate-200 shadow-sm transform group-hover/upload:scale-105 transition-transform duration-300"}),b.jsx("div",{className:"absolute inset-0 bg-slate-900/10 rounded-lg flex items-center justify-center opacity-0 group-hover/upload:opacity-100 transition-opacity",children:b.jsx(XN,{className:"h-6 w-6 text-white drop-shadow-md"})})]}):b.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-blue-50 flex items-center justify-center mb-3 group-hover/upload:bg-blue-100 transition-colors",children:b.jsx(XN,{className:"h-6 w-6 text-blue-500"})}),b.jsxs("div",{className:"flex flex-col text-sm leading-6 text-slate-600 justify-center items-center",children:[b.jsxs("label",{htmlFor:"recibo-upload",className:"relative cursor-pointer rounded-md font-bold text-blue-600 focus-within:outline-none hover:text-blue-500",children:[b.jsx("span",{children:T?"Cambiar archivo":"Seleccionar archivo"}),b.jsx("input",{id:"recibo-upload",ref:y,type:"file",className:"sr-only",accept:"image/*,application/pdf",onChange:X,onClick:q=>q.stopPropagation()})]}),b.jsx("p",{className:"text-xs font-medium text-slate-500 mt-1",children:T?T.name:"PNG, JPG, PDF hasta 5MB"})]})]})})]}),b.jsxs("button",{type:"submit",disabled:c,className:"mt-6 w-full flex justify-center items-center gap-2 rounded-xl bg-gradient-to-r from-slate-800 to-slate-900 px-4 py-3 text-sm font-bold text-white shadow-md shadow-slate-900/20 hover:from-slate-700 hover:to-slate-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-900 disabled:opacity-50 transition-all hover:shadow-lg hover:-translate-y-0.5",children:[c?b.jsx(to,{className:"h-4 w-4 animate-spin"}):b.jsx(O0,{className:"h-4 w-4"}),c?g?"Subiendo recibo...":"Guardando...":"Registrar Gasto Verificado"]})]})]}),b.jsxs("div",{className:"lg:col-span-2 glass border border-slate-200/60 rounded-2xl shadow-sm overflow-hidden flex flex-col min-h-[500px]",children:[b.jsx("div",{className:"border-b border-slate-200/60 px-6 py-5 bg-slate-50/50 backdrop-blur-sm flex items-center justify-between",children:b.jsxs("h2",{className:"text-lg font-bold text-slate-900 flex items-center gap-2 tracking-tight",children:[b.jsx("div",{className:"h-8 w-8 rounded-lg bg-emerald-100/80 flex items-center justify-center text-emerald-600",children:b.jsx(k3,{className:"h-5 w-5"})}),"Pagos Verificados"]})}),b.jsx("div",{className:"flex-1 overflow-auto p-0 custom-scrollbar relative",children:u?b.jsx("div",{className:"absolute inset-0 flex justify-center items-center bg-white/40 backdrop-blur-sm z-10",children:b.jsxs("div",{className:"flex flex-col items-center gap-3",children:[b.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-blue-500 border-t-transparent"}),b.jsx("p",{className:"text-sm font-bold text-slate-500",children:"Cargando pagos..."})]})}):t.length===0?b.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center h-full",children:[b.jsx("div",{className:"h-20 w-20 bg-slate-100 rounded-full flex items-center justify-center mb-4 shadow-inner",children:b.jsx(t_,{className:"h-10 w-10 text-slate-400"})}),b.jsx("h3",{className:"text-lg font-bold text-slate-800 tracking-tight",children:"No hay gastos registrados"}),b.jsx("p",{className:"text-sm font-medium text-slate-500 mt-2 max-w-sm",children:"Registra aqu los primeros gastos del negocio para llevar un control financiero."})]}):b.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap min-w-[700px]",children:[b.jsx("thead",{className:"bg-slate-50/80 backdrop-blur-md border-b border-slate-200/80 sticky top-0 z-10",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3.5 font-bold text-slate-600 uppercase tracking-wider text-xs",children:"Fecha"}),b.jsx("th",{className:"px-6 py-3.5 font-bold text-slate-600 uppercase tracking-wider text-xs",children:"Concepto"}),b.jsx("th",{className:"px-6 py-3.5 font-bold text-slate-600 uppercase tracking-wider text-xs",children:"Categora"}),b.jsx("th",{className:"px-6 py-3.5 font-bold text-slate-600 uppercase tracking-wider text-xs text-right",children:"Monto"}),b.jsx("th",{className:"px-6 py-3.5 font-bold text-slate-600 uppercase tracking-wider text-xs",children:"N Cuenta/Ref"}),b.jsx("th",{className:"px-6 py-3.5 font-bold text-slate-600 uppercase tracking-wider text-xs text-center",children:"Recibo"})]})}),b.jsx("tbody",{className:"divide-y divide-slate-100 bg-white/40",children:t.map((q,se)=>{var H;return b.jsxs("tr",{className:"hover:bg-blue-50/40 transition-colors animate-fade-in",style:{animationDelay:`${se*50}ms`},children:[b.jsx("td",{className:"px-6 py-4 text-slate-600 font-medium",children:new Date(q.fecha_pago).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"})}),b.jsx("td",{className:"px-6 py-4",children:b.jsx("div",{className:"font-bold text-slate-900 truncate max-w-[200px]",title:q.concepto,children:q.concepto})}),b.jsx("td",{className:"px-6 py-4",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"inline-flex items-center rounded-lg bg-indigo-50 px-2.5 py-1 text-xs font-bold text-indigo-700 ring-1 ring-inset ring-indigo-600/20 shadow-sm",children:q.categoria}),((H=q.sucursales)==null?void 0:H.nombre)&&b.jsx("span",{className:"inline-flex items-center rounded-lg bg-emerald-50 px-2.5 py-1 text-xs font-bold text-emerald-700 ring-1 ring-inset ring-emerald-600/20 shadow-sm hidden sm:inline-flex truncate max-w-[100px]",title:q.sucursales.nombre,children:q.sucursales.nombre})]})}),b.jsx("td",{className:"px-6 py-4 text-right",children:b.jsx("div",{className:"font-mono font-bold text-slate-800 text-sm",children:Q(q.monto_q)})}),b.jsx("td",{className:"px-6 py-4 text-slate-500 font-mono text-xs font-medium",children:q.numero_cuenta||b.jsx("span",{className:"text-slate-300",children:"------"})}),b.jsx("td",{className:"px-6 py-4 text-center",children:q.recibo_url?b.jsx("a",{href:q.recibo_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center h-8 w-8 rounded-lg bg-blue-50 text-blue-600 hover:text-white hover:bg-blue-600 transition-all shadow-sm hover:shadow-md hover:-translate-y-0.5",title:"Ver Recibo",children:b.jsx($G,{className:"h-4 w-4"})}):b.jsx("span",{className:"inline-flex items-center justify-center h-8 w-8 rounded-lg bg-slate-50 text-slate-300",children:"-"})})]},q.id)})})]})})]})]})]})}const AB={"Alta Verapaz":["Cobn","Chahal","Chisec","Fray Bartolom de las Casas","Lanqun","Panzs","Raxruh","San Cristbal Verapaz","San Juan Chamelco","San Pedro Carch","Santa Catalina la Tinta","Senah","Tucur"],"Baja Verapaz":["Salam","Cubulco","El Chol","Granados","Purulh","Rabinal","San Jernimo","San Miguel Chicaj","Santa Cruz el Chol","San Bartolom Jocotenango"],Chimaltenango:["Chimaltenango","Acatenango","El Tejar","Parramos","Patzica","Patzn","Pochuta","San Andrs Itzapa","San Jos Poaquil","San Martn Jilotepeque","Santa Apolonia","Santa Cruz Balany","Tecpn","Yepocapa","Zaragoza"],Chiquimula:["Chiquimula","Camotn","Concepcin Las Minas","Esquipulas","Ipala","Jocotn","Olopa","Quezaltepeque","San Jacinto","San Juan Ermita","San Jos la Arada"],"El Progreso":["Guastatoya","El Jcaro","Morazn","San Agustn Acasaguastln","San Antonio La Paz","San Cristbal Acasaguastln","Sanarate","Sansare"],Escuintla:["Escuintla","Guanagazapa","Iztapa","La Democracia","La Gomera","Masagua","Nueva Concepcin","Paln","San Jos","San Vicente Pacaya","Santa Luca Cotzumalguapa","Siquinal","Tiquisate"],Guatemala:["Guatemala City","Amatitln","Chinautla","Chuarrancho","Fraijanes","Mixco","Palencia","Petapa","San Jos del Golfo","San Jos Pinula","San Juan Sacatepquez","San Miguel Petapa","San Pedro Ayampuc","San Pedro Sacatepquez","San Raymundo","Santa Catarina Pinula","Villa Canales","Villa Nueva"],Huehuetenango:["Huehuetenango","Aguacatn","Chiantla","Colotenango","Concepcin Huista","Cuilco","Ixtahuacn","Jacaltenango","La Democracia","La Libertad","Malacatancito","Nentn","San Antonio Huista","San Gaspar Ixchil","San Idelfonso Ixtahuacn","San Juan Atitn","San Juan Ixcoy","San Marcos Huista","San Mateo Ixtatn","San Miguel Acatn","San Pedro Necta","San Pedro Soloma","San Rafael La Independencia","San Rafael Petzal","San Sebastin Coatn","San Sebastin Huehuetenango","Santa Ana Huista","Santa Brbara","Santa Cruz Barillas","Santa Eulalia","Santiago Chimaltenango","Tectitn","Todos Santos Cuchumatn","Unin Cantinil"],Izabal:["Puerto Barrios","El Estor","Livingston","Los Amates","Morales"],Jalapa:["Jalapa","Mataquescuintla","Monjas","San Carlos Alzatate","San Luis Jilotepeque","San Manuel Chaparrn","San Pedro Pinula"],Jutiapa:["Jutiapa","Agua Blanca","Asuncin Mita","Atescatempa","Conguaco","El Adelanto","El Progreso","Jalpatagua","Jerez","Moyuta","Pasaco","Quesada","San Jos Acatempa","Santa Catarina Mita","Yupiltepeque","Zapotitln"],Petn:["Flores","Dolores","El Chal","La Libertad","Las Cruces","Melchor de Mencos","Poptn","San Andrs","San Benito","San Francisco","San Jos","San Luis","Sayaxch","Santa Ana"],Quetzaltenango:["Quetzaltenango","Almolonga","Cabricn","Cajol","Cantel","Coatepeque","Colomba","Concepcin Chiquirichapa","El Palmar","Flores Costa Cuca","Gnova","Huitn","La Esperanza","Palestina de Los Altos","Salcaj","San Carlos Sija","San Francisco La Unin","San Juan Ostuncalco","San Marcos Sija","San Mateo","San Miguel Sigil","San Sebastin","Sibilia","Zunil"],Quich:["Santa Cruz del Quich","Canill","Chajul","Chicamn","Chich","Chichicastenango","Chinique","Cunn","Ixcn","Joyabaj","Nebaj","Pachalum","Patzit","Sacapulas","San Andrs Sajcabaj","San Antonio Ilotenango","San Bartolom Jocotenango","San Juan Cotzal","San Pedro Jocopilas","Uspantn","Zacualpa"],Retalhuleu:["Retalhuleu","Champerico","El Asintal","Nuevo San Carlos","San Andrs Villa Seca","San Felipe","San Martn Zapotitln","San Sebastin","Santa Cruz Mulu"],Sacatepquez:["Antigua Guatemala","Alotenango","Ciudad Vieja","Jocotenango","Magdalena Milpas Altas","Pastores","San Antonio Aguas Calientes","San Bartolom Milpas Altas","San Lucas Sacatepquez","San Miguel Dueas","Santa Catarina Barahona","Santa Luca Milpas Altas","Santa Mara de Jess","Santiago Sacatepquez","Santo Domingo Xenacoj","Sumpango","Santa Ins del Monte Pulido"],"San Marcos":["San Marcos","Ayutla","Catarina","Comitancillo","Concepcin Tutuapa","El Quetzal","El Rodeo","El Tumbador","Esquipulas Palo Gordo","Ixchigun","La Blanca","La Reforma","Malacatn","Nuevo Progreso","Ocs","Pajapita","Ro Blanco","San Antonio Sacatepquez","San Cristbal Cucho","San Jos Ojetenm","San Lorenzo","San Miguel Ixtahuacn","San Pablo","San Pedro Sacatepquez","San Rafael Pie de la Cuesta","Sibinal","Sipacapa","Tacan","Tajumulco","Tejutla"],"Santa Rosa":["Cuilapa","Barberena","Casillas","Chiquimulilla","Guazacapn","Nueva Santa Rosa","Oratorio","Pueblo Nuevo Vias","San Juan Tecuaco","San Rafael Las Flores","Santa Cruz Naranjo","Santa Mara Ixhuatn","Santa Rosa de Lima","Taxisco"],Solol:["Solol","Concepcin","Nahuala","Panajachel","San Andrs Semetabaj","San Antonio Palop","San Jos Chacay","San Juan La Laguna","San Lucas Tolimn","San Marcos La Laguna","San Pablo La Laguna","San Pedro La Laguna","Santa Catarina Ixtahuacn","Santa Catarina Palop","Santa Clara La Laguna","Santa Cruz La Laguna","Santa Luca Utatln","Santa Mara Visitacin","Santiago Atitln"],Suchitepquez:["Mazatenango","Chicacao","Cuyotenango","Patulul","Pueblo Nuevo","Ro Bravo","Samayac","San Antonio Suchitepquez","San Bernardino","San Francisco Zapotitln","San Gabriel","San Jos El dolo","San Juan Bautista","San Lorenzo","San Miguel Pann","San Pablo Jocopilas","Santa Barbara","Santo Domingo Suchitepquez","Santo Toms La Unin","Zunilito"],Totonicapn:["Totonicapn","Momostenango","San Andrs Xecul","San Bartolo","San Cristbal Totonicapn","San Francisco El Alto","Santa Luca La Reforma","Santa Mara Chiquimula"],Zacapa:["Zacapa","Cabaas","Estanzuela","Gualn","Huit","La Unin","Rio Hondo","San Diego","San Jorge","Teculutn","Usumatn"]},lve=Object.keys(AB).sort();function cve(){const{register:e}=Ja(),t=$d(),[r,n]=R.useState("form"),[a,i]=R.useState(null),[o,u]=R.useState({nombre:"",apellido:"",email:"",telefono:"",password:"",confirmPassword:"",sucursal_id:"",departamento:"",municipio:"",direccion_linea1:"",direccion_linea2:"",referencia:""}),[d,c]=R.useState(!1),[h,g]=R.useState([]),[x,y]=R.useState([]),[E,N]=R.useState(!1),[T,j]=R.useState(""),[D,F]=R.useState(!1),[U,Z]=R.useState(!1);R.useEffect(()=>{(async()=>{const{data:G}=await At.from("sucursales").select("*").eq("activa",!0).order("nombre");G&&(y(G),G.length>0&&u(ue=>({...ue,sucursal_id:G[0].id})))})()},[]),R.useEffect(()=>{if(o.departamento){const H=AB[o.departamento]||[];g(H),u(G=>({...G,municipio:H[0]||""}))}},[o.departamento]);const X=H=>{u(G=>({...G,[H.target.name]:H.target.value}))},$=async H=>{if(H.preventDefault(),j(""),!o.nombre||!o.apellido||!o.email||!o.telefono||!o.password){j("Completa todos los campos obligatorios.");return}if(o.password!==o.confirmPassword){j("Las contraseas no coinciden.");return}if(o.password.length<6){j("La contrasea debe tener al menos 6 caracteres.");return}if(!o.sucursal_id){j("Por favor selecciona una sucursal.");return}if(!o.departamento||!o.municipio||!o.direccion_linea1){j("Por favor completa tu direccin de entrega en Guatemala.");return}if(!d){j("Debes aceptar los Trminos y Condiciones para continuar.");return}const G=x.find(J=>J.id===o.sucursal_id);F(!0);const ue=await e({nombre:o.nombre,apellido:o.apellido,email:o.email,telefono:o.telefono,password:o.password,sucursal_id:G==null?void 0:G.id,sucursal_prefix:G==null?void 0:G.prefijo_casillero,departamento:o.departamento,municipio:o.municipio,direccion_linea1:o.direccion_linea1,direccion_linea2:o.direccion_linea2,referencia:o.referencia,acepto_tyc:!0,fecha_acepto_tyc:new Date().toISOString()});if(F(!1),ue.error){j(ue.error);return}ue.user&&(i({nombre:ue.user.nombre,locker_id:ue.user.locker_id,email:ue.user.email,telefono:o.telefono}),n("success"))},Q=()=>{if(!a)return;const H=encodeURIComponent(Ax(a.locker_id)),G=a.telefono.replace(/\D/g,"");window.open(`https://wa.me/${G}?text=${H}`,"_blank")},q=()=>{if(!a)return;const H=encodeURIComponent(`Bienvenido a YOUBOX GT! Tu casillero es ${a.locker_id}`),G=encodeURIComponent(Ax(a.locker_id));window.open(`mailto:${a.email}?subject=${H}&body=${G}`,"_blank")},se=()=>{a&&(navigator.clipboard.writeText(Ax(a.locker_id)),Z(!0),setTimeout(()=>Z(!1),2e3))};return r==="success"&&a?b.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-blue-950 flex items-center justify-center p-4",children:[b.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[b.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 rounded-full bg-blue-500/10 blur-3xl"}),b.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 rounded-full bg-blue-500/10 blur-3xl"})]}),b.jsx("div",{className:"relative w-full max-w-2xl",children:b.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-blue-500 shadow-lg shadow-blue-500/30 mx-auto mb-4",children:b.jsx(j3,{className:"h-8 w-8 text-white"})}),b.jsx("h1",{className:"text-2xl font-black text-white",children:"Cuenta Creada Exitosamente"}),b.jsxs("p",{className:"text-slate-300 mt-1",children:["Bienvenido/a, ",b.jsx("span",{className:"text-blue-400 font-bold",children:a.nombre})]}),b.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 bg-blue-500/20 border border-blue-500/40 rounded-full px-5 py-2",children:[b.jsx("span",{className:"text-slate-300 text-sm",children:"Tu casillero:"}),b.jsx("span",{className:"text-blue-300 font-black text-lg tracking-widest",children:a.locker_id})]})]}),b.jsxs("div",{className:"space-y-3 mb-6",children:[b.jsx("h3",{className:"text-white font-semibold text-sm uppercase tracking-wider mb-3",children:"Tus 3 Direcciones de Recepcion"}),b.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[b.jsx("p",{className:"text-blue-400 font-bold text-sm mb-2",children:" Greensboro, NC  Via Maritima"}),b.jsxs("div",{className:"text-slate-300 text-sm space-y-0.5 font-mono",children:[b.jsxs("p",{children:[b.jsx("span",{className:"text-slate-500",children:"Nombre:"})," YBG ",a.nombre," ",a.locker_id]}),b.jsxs("p",{children:[b.jsx("span",{className:"text-slate-500",children:"Dir:"})," 4100 Tulsa Dr"]}),b.jsxs("p",{children:[b.jsx("span",{className:"text-slate-500",children:"Suite/Apt:"})," ",a.locker_id]}),b.jsxs("p",{children:[b.jsx("span",{className:"text-slate-500",children:"Ciudad:"})," Greensboro, NC 27406"]}),b.jsxs("p",{children:[b.jsx("span",{className:"text-slate-500",children:"Tel:"})," 3365496890"]})]})]}),b.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[b.jsx("p",{className:"text-blue-400 font-bold text-sm mb-2",children:" Laredo, TX  Via Terrestre"}),b.jsxs("div",{className:"text-slate-300 text-sm space-y-0.5 font-mono",children:[b.jsxs("p",{children:[b.jsx("span",{className:"text-slate-500",children:"Nombre:"})," YBG ",a.nombre," ",a.locker_id]}),b.jsxs("p",{children:[b.jsx("span",{className:"text-slate-500",children:"Dir:"})," 1900 Justo Penn St"]}),b.jsxs("p",{children:[b.jsx("span",{className:"text-slate-500",children:"Suite/Apt:"})," ",a.locker_id]}),b.jsxs("p",{children:[b.jsx("span",{className:"text-slate-500",children:"Ciudad:"})," Laredo, TX 78041"]}),b.jsxs("p",{children:[b.jsx("span",{className:"text-slate-500",children:"Tel:"})," 7572437074"]})]})]}),b.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[b.jsx("p",{className:"text-amber-400 font-bold text-sm mb-2",children:" Tapachula, Chiapas  Via Terrestre Mexico"}),b.jsxs("div",{className:"text-slate-300 text-sm space-y-0.5 font-mono",children:[b.jsxs("p",{children:[b.jsx("span",{className:"text-slate-500",children:"Nombre:"})," YBG ",a.nombre," ",a.locker_id]}),b.jsxs("p",{children:[b.jsx("span",{className:"text-slate-500",children:"Dir:"})," Calle El Carmen Manzana 6 Casa 4"]}),b.jsxs("p",{children:[b.jsx("span",{className:"text-slate-500",children:"Ref:"})," Infonavit El Carmen + ",a.locker_id]}),b.jsxs("p",{children:[b.jsx("span",{className:"text-slate-500",children:"Ciudad:"})," Tapachula, Chiapas CP 30799"]}),b.jsxs("p",{children:[b.jsx("span",{className:"text-slate-500",children:"Tel:"})," 9621210423"]})]})]})]}),b.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[b.jsxs("button",{onClick:Q,className:"flex flex-col items-center gap-2 rounded-xl border border-green-500/30 bg-green-500/15 p-3 text-green-400 hover:bg-green-500/25 transition-colors text-xs font-medium",children:[b.jsx(d$,{className:"h-5 w-5"}),"Enviar WhatsApp"]}),b.jsxs("button",{onClick:q,className:"flex flex-col items-center gap-2 rounded-xl border border-blue-500/30 bg-blue-500/15 p-3 text-blue-400 hover:bg-blue-500/25 transition-colors text-xs font-medium",children:[b.jsx(W1,{className:"h-5 w-5"}),"Enviar Email"]}),b.jsxs("button",{onClick:se,className:"flex flex-col items-center gap-2 rounded-xl border border-white/15 bg-white/5 p-3 text-slate-300 hover:bg-white/10 transition-colors text-xs font-medium",children:[b.jsx(PG,{className:"h-5 w-5"}),U?"Copiado!":"Copiar Info"]})]}),b.jsx("button",{onClick:()=>t("/"),className:"w-full rounded-lg bg-blue-500 hover:bg-blue-400 text-white font-semibold py-2.5 transition-all shadow-lg shadow-blue-500/20 text-sm",children:"Ir al Panel Principal"})]})})]}):b.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-blue-950 flex items-center justify-center p-4 py-10",children:[b.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[b.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 rounded-full bg-blue-500/10 blur-3xl"}),b.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 rounded-full bg-blue-500/10 blur-3xl"})]}),b.jsx("div",{className:"relative w-full max-w-lg",children:b.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl",children:[b.jsxs("div",{className:"flex flex-col items-center mb-6",children:[b.jsx("img",{src:"https://youboxgt.online/wp-content/uploads/2024/10/Manual-de-logo-YouBoxGt-03-1.png",alt:"YOUBOX GT Logo",className:"h-20 w-auto object-contain mb-3"}),b.jsx("h1",{className:"text-2xl font-black text-white tracking-tight",children:"YOUBOX GT"}),b.jsx("p",{className:"text-slate-400 text-sm",children:"Crear cuenta de cliente"})]}),T&&b.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-lg bg-red-500/15 border border-red-500/30 px-4 py-3 text-sm text-red-300",children:[b.jsx(Mf,{className:"h-4 w-4 shrink-0"}),T]}),b.jsxs("form",{onSubmit:$,className:"space-y-5",children:[b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-1.5 flex items-center gap-1.5",children:[b.jsx(tc,{className:"h-4 w-4 text-emerald-400"}),"En qu Sucursal recoges tus paquetes? *"]}),b.jsx("select",{name:"sucursal_id",value:o.sucursal_id,onChange:X,className:"w-full rounded-lg bg-emerald-500/10 border border-emerald-500/30 px-3 py-2.5 text-white outline-none focus:border-emerald-400 focus:ring-1 focus:ring-emerald-400 transition-colors text-sm font-medium",children:x.map(H=>b.jsx("option",{value:H.id,className:"bg-slate-800",children:H.nombre},H.id))})]}),b.jsxs("div",{children:[b.jsxs("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:[b.jsx(Ex,{className:"h-3 w-3"})," Informacin Personal"]}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Nombre *"}),b.jsx("input",{name:"nombre",value:o.nombre,onChange:X,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"Juan"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Apellido *"}),b.jsx("input",{name:"apellido",value:o.apellido,onChange:X,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"Perez"})]})]}),b.jsxs("div",{className:"mt-3",children:[b.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Correo Electrnico *"}),b.jsx("input",{name:"email",type:"email",value:o.email,onChange:X,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"tu@correo.com"})]}),b.jsxs("div",{className:"mt-3",children:[b.jsxs("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:["WhatsApp / Telfono * ",b.jsx("span",{className:"text-slate-500 font-normal",children:"(con cdigo de pas, ej: 502 para GT)"})]}),b.jsx("input",{name:"telefono",value:o.telefono,onChange:X,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"50255551234"})]})]}),b.jsxs("div",{children:[b.jsxs("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:[b.jsx(Ex,{className:"h-3 w-3"}),"  Direccin de Entrega en Guatemala"]}),b.jsxs("div",{className:"space-y-3 bg-white/3 rounded-xl border border-white/8 p-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Departamento *"}),b.jsxs("select",{name:"departamento",value:o.departamento,onChange:X,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",children:[b.jsx("option",{value:"",className:"bg-slate-800",children:" Selecciona tu departamento "}),lve.map(H=>b.jsx("option",{value:H,className:"bg-slate-800",children:H},H))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Municipio *"}),b.jsxs("select",{name:"municipio",value:o.municipio,onChange:X,disabled:!o.departamento,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm disabled:opacity-40",children:[b.jsx("option",{value:"",className:"bg-slate-800",children:" Selecciona tu municipio "}),h.map(H=>b.jsx("option",{value:H,className:"bg-slate-800",children:H},H))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Calle / Avenida / Zona *"}),b.jsx("input",{name:"direccion_linea1",value:o.direccion_linea1,onChange:X,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"Ej: 5ta Calle 10-25, Zona 1"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Colonia / Residencial / Apartamento"}),b.jsx("input",{name:"direccion_linea2",value:o.direccion_linea2,onChange:X,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"Ej: Residencial Las Flores, Casa 3"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Referencia (para encontrarte fcil)"}),b.jsx("textarea",{name:"referencia",value:o.referencia,onChange:X,rows:2,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm resize-none",placeholder:"Ej: Frente al parque, casa verde con portn negro"})]})]})]}),b.jsxs("div",{children:[b.jsxs("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:[b.jsx(Ex,{className:"h-3 w-3"})," Seguridad"]}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Contrasea *"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{name:"password",type:E?"text":"password",value:o.password,onChange:X,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 pr-10 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"Mnimo 6 caracteres"}),b.jsx("button",{type:"button",onClick:()=>N(!E),className:"absolute right-3 top-2.5 text-slate-400 hover:text-white",children:E?b.jsx(PM,{className:"h-4 w-4"}):b.jsx(RM,{className:"h-4 w-4"})})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Confirmar Contrasea *"}),b.jsx("input",{name:"confirmPassword",type:"password",value:o.confirmPassword,onChange:X,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"Repite tu contrasea"})]})]})]}),b.jsxs("div",{className:"rounded-lg border border-blue-500/25 bg-blue-500/10 px-4 py-3 text-sm",children:[b.jsx("p",{className:"text-blue-400 font-medium",children:"Tu casillero se asignar automticamente"}),b.jsx("p",{className:"text-slate-400 text-xs mt-0.5",children:"Recibirs tu nmero de casillero nico (YBG4000+) al crear tu cuenta."})]}),b.jsxs("div",{className:"rounded-xl border border-amber-500/30 bg-amber-500/10 p-4",children:[b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("div",{className:"flex-none mt-0.5",children:b.jsx("input",{type:"checkbox",id:"tyc",checked:d,onChange:H=>c(H.target.checked),className:"h-4 w-4 rounded border-amber-500/50 bg-white/10 text-amber-500 focus:ring-amber-500/30"})}),b.jsxs("label",{htmlFor:"tyc",className:"text-sm text-slate-300 cursor-pointer leading-relaxed",children:["He ledo y acepto los"," ",b.jsxs("a",{href:"https://youboxgt.online/services-2/tyc/",target:"_blank",rel:"noopener noreferrer",className:"text-amber-400 hover:text-amber-300 font-semibold inline-flex items-center gap-1 transition-colors",onClick:H=>H.stopPropagation(),children:["Trminos y Condiciones de YOUBOX GT",b.jsx(MM,{className:"h-3 w-3"})]})," ","incluyendo la poltica de uso del casillero, tarifas y responsabilidades de envo. ",b.jsx("span",{className:"text-red-400 font-bold",children:"*"})]})]}),!d&&b.jsx("p",{className:"text-amber-500/70 text-xs mt-2 pl-7",children:"Requerido para crear tu cuenta."})]}),b.jsxs("button",{type:"submit",disabled:D||!d,className:"w-full flex items-center justify-center gap-2 rounded-lg bg-blue-500 hover:bg-blue-400 disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold py-3 transition-all shadow-lg shadow-blue-500/20 text-sm",children:[D?b.jsx("span",{className:"h-4 w-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):b.jsx(eW,{className:"h-4 w-4"}),D?"Creando cuenta...":"Crear Cuenta Gratis"]})]}),b.jsx("div",{className:"mt-4 text-center",children:b.jsxs("p",{className:"text-slate-400 text-sm",children:["Ya tienes cuenta?"," ",b.jsx(If,{to:"/login",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Iniciar sesin"})]})})]})})]})}const hv=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d","#ffc658"];function uve(){const[e,t]=R.useState(!0),[r,n]=R.useState([]),[a,i]=R.useState([]),{user:o}=Ja(),[u,d]=R.useState([]),[c,h]=R.useState("all"),[g,x]=R.useState({ingresosMesActual:0,gastosMesActual:0,balanceMesActual:0});R.useEffect(()=>{(o==null?void 0:o.role)==="admin"&&y()},[o]),R.useEffect(()=>{E()},[c,o]);const y=async()=>{const{data:T}=await At.from("sucursales").select("id, nombre").eq("activa",!0).order("nombre");T&&d(T)},E=async()=>{t(!0);try{const T=new Date,j=Zhe(T,5);let D=At.from("facturas").select("monto_total, fecha_emision, clientes!inner(sucursal_id)").eq("estado","verificado").gte("fecha_emision",j.toISOString()),F=At.from("gastos_financieros").select("monto_q, fecha_pago, categoria").eq("estado","verificado").gte("fecha_pago",j.toISOString());(o==null?void 0:o.role)!=="admin"&&(o!=null&&o.sucursal_id)?(D=D.eq("clientes.sucursal_id",o.sucursal_id),F=F.eq("sucursal_id",o.sucursal_id)):(o==null?void 0:o.role)==="admin"&&c!=="all"&&(D=D.eq("clientes.sucursal_id",c),F=F.eq("sucursal_id",c));const{data:U,error:Z}=await D;if(Z)throw Z;const{data:X,error:$}=await F;if($)throw $;const Q=Lde({start:j,end:T}),q=new Map;Q.forEach(re=>{const he=rl(re,"yyyy-MM");q.set(he,{mes:rl(re,"MMM yyyy",{locale:Lf}).toUpperCase(),ingresos:0,gastos:0,balance:0,sortKey:he})});const se=rl(T,"yyyy-MM");let H=0,G=0;U==null||U.forEach(re=>{const he=re.fecha_emision.substring(0,7);if(q.has(he)){const Se=q.get(he);Se.ingresos+=Number(re.monto_total),he===se&&(H+=Number(re.monto_total))}});const ue=new Map;X==null||X.forEach(re=>{const he=re.fecha_pago.substring(0,7);if(q.has(he)){const Se=q.get(he);Se.gastos+=Number(re.monto_q),he===se&&(G+=Number(re.monto_q))}if(he===se){const Se=re.categoria||"Otros";ue.set(Se,(ue.get(Se)||0)+Number(re.monto_q))}});const J=Array.from(q.values()).map(re=>({...re,balance:re.ingresos-re.gastos})).sort((re,he)=>re.sortKey.localeCompare(he.sortKey)),ae=Array.from(ue.entries()).map(([re,he])=>({name:re,value:he}));n(J),i(ae),x({ingresosMesActual:H,gastosMesActual:G,balanceMesActual:H-G})}catch(T){console.error("Error fetching report data",T),alert("Hubo un error al cargar las grficas financieras.")}finally{t(!1)}},N=T=>new Intl.NumberFormat("es-GT",{style:"currency",currency:"GTQ",minimumFractionDigits:0}).format(T);return e?b.jsxs("div",{className:"flex h-[80vh] flex-col items-center justify-center gap-4 animate-fade-in relative z-10 w-full",children:[b.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-emerald-500 border-t-transparent shadow-sm"}),b.jsx("p",{className:"text-sm font-bold text-slate-500",children:"Analizando datos financieros..."})]}):b.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto pb-10 animate-fade-in relative z-10 w-full",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end justify-between gap-5",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900 bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-600",children:"Dashboard Financiero"}),b.jsx("p",{className:"text-sm font-medium text-slate-500 mt-1",children:"Mtricas clave e historial de utilidad de los ltimos 6 meses."})]}),(o==null?void 0:o.role)==="admin"&&b.jsxs("div",{className:"flex items-center gap-3 bg-white/80 backdrop-blur-sm px-4 py-2.5 rounded-xl border border-slate-200/80 shadow-sm hover:shadow-md transition-shadow",children:[b.jsx("div",{className:"flex items-center justify-center p-1.5 bg-blue-50 text-blue-600 rounded-lg",children:b.jsx(vv,{className:"h-4.5 w-4.5"})}),b.jsxs("select",{value:c,onChange:T=>h(T.target.value),className:"bg-transparent border-none text-sm font-bold text-slate-700 outline-none focus:ring-0 cursor-pointer w-full min-w-[180px]",children:[b.jsx("option",{value:"all",children:"Todas las Sedes (Global)"}),u.map(T=>b.jsx("option",{value:T.id,children:T.nombre},T.id))]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-3",children:[b.jsxs("div",{className:"glass rounded-2xl border border-slate-200/60 p-6 shadow-sm flex items-center gap-5 hover:shadow-md transition-all hover:-translate-y-0.5 animate-slide-up",style:{animationDelay:"0ms"},children:[b.jsx("div",{className:"rounded-xl bg-gradient-to-br from-emerald-400 to-emerald-600 p-3.5 shadow-lg shadow-emerald-500/20 text-white",children:b.jsx(Y$,{className:"h-6 w-6"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-black uppercase tracking-wider text-slate-500 mb-0.5",children:"Ingresos (Este Mes)"}),b.jsx("p",{className:"text-2xl font-black text-slate-900 tracking-tight font-mono",children:N(g.ingresosMesActual)})]})]}),b.jsxs("div",{className:"glass rounded-2xl border border-slate-200/60 p-6 shadow-sm flex items-center gap-5 hover:shadow-md transition-all hover:-translate-y-0.5 animate-slide-up",style:{animationDelay:"50ms"},children:[b.jsx("div",{className:"rounded-xl bg-gradient-to-br from-red-400 to-red-600 p-3.5 shadow-lg shadow-red-500/20 text-white",children:b.jsx(W$,{className:"h-6 w-6"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-black uppercase tracking-wider text-slate-500 mb-0.5",children:"Gastos (Este Mes)"}),b.jsx("p",{className:"text-2xl font-black text-slate-900 tracking-tight font-mono",children:N(g.gastosMesActual)})]})]}),b.jsxs("div",{className:"glass rounded-2xl border border-slate-200/60 p-6 shadow-sm flex items-center gap-5 hover:shadow-md transition-all hover:-translate-y-0.5 animate-slide-up relative overflow-hidden group",style:{animationDelay:"100ms"},children:[b.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 rounded-full blur-3xl -mr-10 -mt-10 transition-colors duration-500 ${g.balanceMesActual>=0?"bg-blue-500/10 group-hover:bg-blue-500/20":"bg-orange-500/10 group-hover:bg-orange-500/20"}`}),b.jsx("div",{className:`rounded-xl p-3.5 shadow-lg text-white relative z-10 ${g.balanceMesActual>=0?"bg-gradient-to-br from-blue-500 to-indigo-600 shadow-blue-500/20":"bg-gradient-to-br from-orange-400 to-orange-600 shadow-orange-500/20"}`,children:b.jsx(J5,{className:"h-6 w-6"})}),b.jsxs("div",{className:"relative z-10",children:[b.jsx("p",{className:"text-xs font-black uppercase tracking-wider text-slate-500 mb-0.5",children:"Utilidad (Neta)"}),b.jsx("p",{className:`text-2xl font-black tracking-tight font-mono ${g.balanceMesActual>=0?"text-blue-600":"text-orange-600"}`,children:N(g.balanceMesActual)})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-slide-up",style:{animationDelay:"150ms"},children:[b.jsxs("div",{className:"lg:col-span-2 glass rounded-2xl border border-slate-200/60 p-6 sm:p-8 shadow-sm",children:[b.jsxs("h2",{className:"text-xl font-extrabold text-slate-900 mb-6 flex items-center gap-3",children:[b.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-100 text-blue-600",children:b.jsx(fp,{className:"h-4.5 w-4.5"})}),"Ingresos vs Egresos ",b.jsx("span",{className:"text-sm font-bold text-slate-400 font-normal hidden sm:inline",children:"(ltimos 6 meses)"})]}),b.jsx("div",{className:"h-[350px] w-full",children:b.jsx(eb,{width:"100%",height:"100%",children:b.jsxs(r3,{data:r,margin:{top:20,right:30,left:20,bottom:5},children:[b.jsx(OA,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0"}),b.jsx(jA,{dataKey:"mes",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12},dy:10}),b.jsx(kA,{axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12},tickFormatter:T=>`Q${T}`}),b.jsx(Ab,{formatter:T=>N(T),cursor:{fill:"#F1F5F9"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),b.jsx(PP,{wrapperStyle:{paddingTop:"20px"}}),b.jsx(kb,{dataKey:"ingresos",name:"Ingresos",fill:"#10B981",radius:[4,4,0,0],maxBarSize:50}),b.jsx(kb,{dataKey:"gastos",name:"Gastos",fill:"#EF4444",radius:[4,4,0,0],maxBarSize:50})]})})})]}),b.jsxs("div",{className:"lg:col-span-1 glass rounded-2xl border border-slate-200/60 p-6 sm:p-8 shadow-sm flex flex-col",children:[b.jsx("h2",{className:"text-xl font-extrabold text-slate-900 mb-6",children:"Distribucin de Gastos"}),a.length===0?b.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-6 border-2 border-dashed border-slate-200 rounded-xl bg-slate-50/50",children:[b.jsx(J5,{className:"w-10 h-10 text-slate-300 mb-3"}),b.jsx("p",{className:"text-sm font-bold text-slate-500",children:"No hay gastos en el mes actual."})]}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"h-[250px] w-full",children:b.jsx(eb,{width:"100%",height:"100%",children:b.jsxs(VL,{children:[b.jsx(EA,{data:a,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:5,dataKey:"value",children:a.map((T,j)=>b.jsx(z0,{fill:hv[j%hv.length]},`cell-${j}`))}),b.jsx(Ab,{formatter:T=>N(T)})]})})}),b.jsx("div",{className:"mt-6 space-y-3 flex-1 overflow-y-auto pr-2 custom-scrollbar",children:a.map((T,j)=>b.jsxs("div",{className:"flex justify-between items-center text-sm p-3 rounded-xl bg-white/60 border border-slate-100 hover:border-slate-300 hover:shadow-sm transition-all group",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-3.5 h-3.5 rounded-full shadow-sm group-hover:scale-110 transition-transform",style:{backgroundColor:hv[j%hv.length]}}),b.jsx("span",{className:"text-slate-700 font-bold",children:T.name})]}),b.jsx("span",{className:"font-black text-slate-900 font-mono tracking-tight",children:N(T.value)})]},T.name))})]})]})]})]})}const pv={recibido:{label:"Recibido en Bodega",color:"text-blue-600",bg:"bg-blue-50 border-blue-200",icon:KN},en_bodega:{label:"En Bodega",color:"text-purple-600",bg:"bg-purple-50 border-purple-200",icon:KN},listo_consolidar:{label:"Listo para Embarque",color:"text-indigo-600",bg:"bg-indigo-50 border-indigo-200",icon:Sl},consolidado:{label:"Consolidado",color:"text-amber-600",bg:"bg-amber-50 border-amber-200",icon:Sl},en_transito:{label:"En Trnsito",color:"text-orange-600",bg:"bg-orange-50 border-orange-200",icon:T0},entregado:{label:"Entregado!",color:"text-green-600",bg:"bg-green-50 border-green-200",icon:j3},devuelto:{label:"Devuelto",color:"text-red-600",bg:"bg-red-50 border-red-200",icon:Mf},perdido:{label:"Perdido",color:"text-slate-600",bg:"bg-slate-50 border-slate-200",icon:Mf}},L5=["recibido","en_bodega","listo_consolidar","en_transito","entregado"];function fve(){var g,x;const[e,t]=R.useState(""),[r,n]=R.useState(!1),[a,i]=R.useState(null),[o,u]=R.useState(!1),d=async y=>{y.preventDefault();const E=e.trim();if(E){n(!0),u(!1),i(null);try{const{data:N,error:T}=await At.from("paquetes").select(`
          id, tracking, peso_lbs, estado, fecha_recepcion, descripcion,
          bodegas (nombre),
          clientes (nombre, apellido, locker_id),
          transportistas (nombre),
          historial_estados (id, estado_nuevo, notas, created_at)
        `).ilike("tracking",E.toUpperCase()).maybeSingle();if(T)throw T;N?(N.historial_estados&&N.historial_estados.sort((j,D)=>new Date(D.created_at).getTime()-new Date(j.created_at).getTime()),i(N)):u(!0)}catch(N){console.error(N),u(!0)}finally{n(!1)}}},c=a?pv[a.estado]||pv.recibido:null,h=a?L5.indexOf(a.estado):-1;return b.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-blue-950 flex flex-col",children:[b.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[b.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 rounded-full bg-blue-500/10 blur-3xl"}),b.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 rounded-full bg-blue-500/10 blur-3xl"})]}),b.jsx("header",{className:"relative border-b border-white/10 bg-white/5 backdrop-blur-sm",children:b.jsxs("div",{className:"mx-auto max-w-5xl flex items-center justify-between px-6 py-4",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-xl bg-blue-500 shadow-lg shadow-blue-500/30",children:b.jsx(O3,{className:"h-5 w-5 text-white"})}),b.jsx("span",{className:"text-xl font-black text-white tracking-tight",children:"YOUBOX GT"})]}),b.jsxs(If,{to:"/login",className:"flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[b.jsx(hG,{className:"h-4 w-4"}),"Acceso Clientes"]})]})}),b.jsxs("main",{className:"relative flex-1 flex flex-col items-center pt-16 px-4 pb-12",children:[b.jsxs("div",{className:"text-center mb-10",children:[b.jsx("h1",{className:"text-4xl font-black text-white tracking-tight sm:text-5xl",children:"Rastrear mi Paquete"}),b.jsx("p",{className:"mt-3 text-slate-400 text-lg max-w-md mx-auto",children:"Ingresa tu nmero de gua o tracking para ver el estado de tu envo en tiempo real."})]}),b.jsx("form",{onSubmit:d,className:"w-full max-w-2xl",children:b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("div",{className:"relative flex-1",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:b.jsx(Id,{className:"h-5 w-5 text-slate-500"})}),b.jsx("input",{type:"text",value:e,onChange:y=>t(y.target.value),className:"w-full rounded-xl bg-white/10 border border-white/15 px-4 py-4 pl-12 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-400/30 transition text-base font-medium",placeholder:"Ej. 1Z999AA10123456784",autoFocus:!0})]}),b.jsxs("button",{type:"submit",disabled:r||!e.trim(),className:"px-6 py-4 rounded-xl bg-blue-500 hover:bg-blue-400 disabled:opacity-50 text-white font-bold transition-all shadow-lg shadow-blue-500/20 flex items-center gap-2",children:[r?b.jsx(to,{className:"h-5 w-5 animate-spin"}):b.jsx(Id,{className:"h-5 w-5"}),b.jsx("span",{className:"hidden sm:inline",children:"Buscar"})]})]})}),o&&!r&&b.jsxs("div",{className:"mt-10 w-full max-w-2xl bg-red-500/15 border border-red-500/30 rounded-2xl p-8 text-center",children:[b.jsx(Mf,{className:"h-10 w-10 text-red-400 mx-auto mb-3"}),b.jsx("h2",{className:"text-lg font-bold text-white",children:"Tracking no encontrado"}),b.jsx("p",{className:"text-slate-400 text-sm mt-2",children:"No encontramos ningn paquete con ese nmero. Verifica que sea correcto o comuncate con nosotros."})]}),a&&c&&b.jsxs("div",{className:"mt-10 w-full max-w-2xl space-y-4 animate-in fade-in slide-in-from-bottom-4",children:[b.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6 shadow-xl",children:[b.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-wider mb-1",children:"Nmero de Gua"}),b.jsx("h2",{className:"text-xl font-black text-white font-mono",children:a.tracking})]}),b.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-xl border text-sm font-bold ${c.bg} ${c.color}`,children:[b.jsx(c.icon,{className:"h-4 w-4"}),c.label]})]}),b.jsx("div",{className:"mt-5 grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{label:"Casillero",value:((g=a.clientes)==null?void 0:g.locker_id)||"N/A"},{label:"Peso",value:`${a.peso_lbs} lbs`},{label:"Bodega",value:((x=a.bodegas)==null?void 0:x.nombre)||"General"},{label:"Recibido",value:a.fecha_recepcion?rl(_j(a.fecha_recepcion),"dd MMM yyyy",{locale:Lf}):"N/A"}].map(({label:y,value:E})=>b.jsxs("div",{className:"bg-white/5 rounded-xl p-3",children:[b.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:y}),b.jsx("p",{className:"text-sm font-bold text-white mt-1 truncate",children:E})]},y))})]}),h>=0&&a.estado!=="devuelto"&&a.estado!=="perdido"&&b.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[b.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-5",children:"Progreso del Envo"}),b.jsxs("div",{className:"flex items-center justify-between relative",children:[b.jsx("div",{className:"absolute top-4 left-0 right-0 h-0.5 bg-white/10"}),b.jsx("div",{className:"absolute top-4 left-0 h-0.5 bg-blue-500 transition-all",style:{width:`${h/(L5.length-1)*100}%`}}),L5.map((y,E)=>{const N=pv[y],T=E<=h,j=N.icon;return b.jsxs("div",{className:"relative flex flex-col items-center z-10",children:[b.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full border-2 transition-all ${T?"bg-blue-500 border-blue-500":"bg-slate-800 border-white/10"}`,children:b.jsx(j,{className:`h-4 w-4 ${T?"text-white":"text-slate-600"}`})}),b.jsx("p",{className:`text-[10px] font-semibold mt-2 text-center max-w-[56px] leading-tight ${T?"text-white":"text-slate-600"}`,children:N.label})]},y)})]})]}),a.historial_estados&&a.historial_estados.length>0&&b.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[b.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4",children:"Historial de Eventos"}),b.jsx("ul",{className:"space-y-4",children:a.historial_estados.map((y,E)=>{const N=pv[y.estado_nuevo],T=(N==null?void 0:N.icon)||Q5;return b.jsxs("li",{className:"flex gap-4",children:[b.jsx("div",{className:`flex-none flex h-8 w-8 items-center justify-center rounded-full ${E===0?"bg-blue-500":"bg-white/5 border border-white/10"}`,children:b.jsx(T,{className:`h-4 w-4 ${E===0?"text-white":"text-slate-400"}`})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsxs("div",{className:"flex items-baseline gap-2 flex-wrap",children:[b.jsx("p",{className:`text-sm font-bold ${E===0?"text-white":"text-slate-300"}`,children:(N==null?void 0:N.label)||y.estado_nuevo}),b.jsx("p",{className:"text-xs text-slate-500",children:rl(_j(y.created_at),"dd MMM yyyy 'a las' HH:mm",{locale:Lf})})]}),y.notas&&b.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:y.notas})]})]},y.id)})})]})]})]}),b.jsx("footer",{className:"relative border-t border-white/5 py-5 text-center",children:b.jsx("p",{className:"text-slate-600 text-xs",children:" 2025 YOUBOX GT  Todos los derechos reservados"})})]})}const EB={"Alta Verapaz":["Cobn","Chahal","Chisec","Fray Bartolom de las Casas","Lanqun","Panzs","Raxruh","San Cristbal Verapaz","San Juan Chamelco","San Pedro Carch","Santa Catalina la Tinta","Senah","Tucur"],"Baja Verapaz":["Salam","Cubulco","El Chol","Granados","Purulh","Rabinal","San Jernimo","San Miguel Chicaj","Santa Cruz el Chol","San Bartolom Jocotenango"],Chimaltenango:["Chimaltenango","Acatenango","El Tejar","Parramos","Patzica","Patzn","Pochuta","San Andrs Itzapa","San Jos Poaquil","San Martn Jilotepeque","Santa Apolonia","Santa Cruz Balany","Tecpn","Yepocapa","Zaragoza"],Chiquimula:["Chiquimula","Camotn","Concepcin Las Minas","Esquipulas","Ipala","Jocotn","Olopa","Quezaltepeque","San Jacinto","San Juan Ermita","San Jos la Arada"],"El Progreso":["Guastatoya","El Jcaro","Morazn","San Agustn Acasaguastln","San Antonio La Paz","San Cristbal Acasaguastln","Sanarate","Sansare"],Escuintla:["Escuintla","Guanagazapa","Iztapa","La Democracia","La Gomera","Masagua","Nueva Concepcin","Paln","San Jos","San Vicente Pacaya","Santa Luca Cotzumalguapa","Siquinal","Tiquisate"],Guatemala:["Guatemala City","Amatitln","Chinautla","Chuarrancho","Fraijanes","Mixco","Palencia","Petapa","San Jos del Golfo","San Jos Pinula","San Juan Sacatepquez","San Miguel Petapa","San Pedro Ayampuc","San Pedro Sacatepquez","San Raymundo","Santa Catarina Pinula","Villa Canales","Villa Nueva"],Huehuetenango:["Huehuetenango","Aguacatn","Chiantla","Colotenango","Concepcin Huista","Cuilco","Ixtahuacn","Jacaltenango","La Democracia","La Libertad","Malacatancito","Nentn","San Antonio Huista","San Gaspar Ixchil","San Idelfonso Ixtahuacn","San Juan Atitn","San Juan Ixcoy","San Marcos Huista","San Mateo Ixtatn","San Miguel Acatn","San Pedro Necta","San Pedro Soloma","San Rafael La Independencia","San Rafael Petzal","San Sebastin Coatn","San Sebastin Huehuetenango","Santa Ana Huista","Santa Brbara","Santa Cruz Barillas","Santa Eulalia","Santiago Chimaltenango","Tectitn","Todos Santos Cuchumatn","Unin Cantinil"],Izabal:["Puerto Barrios","El Estor","Livingston","Los Amates","Morales"],Jalapa:["Jalapa","Mataquescuintla","Monjas","San Carlos Alzatate","San Luis Jilotepeque","San Manuel Chaparrn","San Pedro Pinula"],Jutiapa:["Jutiapa","Agua Blanca","Asuncin Mita","Atescatempa","Conguaco","El Adelanto","El Progreso","Jalpatagua","Jerez","Moyuta","Pasaco","Quesada","San Jos Acatempa","Santa Catarina Mita","Yupiltepeque","Zapotitln"],Petn:["Flores","Dolores","El Chal","La Libertad","Las Cruces","Melchor de Mencos","Poptn","San Andrs","San Benito","San Francisco","San Jos","San Luis","Sayaxch","Santa Ana"],Quetzaltenango:["Quetzaltenango","Almolonga","Cabricn","Cajol","Cantel","Coatepeque","Colomba","Concepcin Chiquirichapa","El Palmar","Flores Costa Cuca","Gnova","Huitn","La Esperanza","Palestina de Los Altos","Salcaj","San Carlos Sija","San Francisco La Unin","San Juan Ostuncalco","San Marcos Sija","San Mateo","San Miguel Sigil","San Sebastin","Sibilia","Zunil"],Quich:["Santa Cruz del Quich","Canill","Chajul","Chicamn","Chich","Chichicastenango","Chinique","Cunn","Ixcn","Joyabaj","Nebaj","Pachalum","Patzit","Sacapulas","San Andrs Sajcabaj","San Antonio Ilotenango","San Bartolom Jocotenango","San Juan Cotzal","San Pedro Jocopilas","Uspantn","Zacualpa"],Retalhuleu:["Retalhuleu","Champerico","El Asintal","Nuevo San Carlos","San Andrs Villa Seca","San Felipe","San Martn Zapotitln","San Sebastin","Santa Cruz Mulu"],Sacatepquez:["Antigua Guatemala","Alotenango","Ciudad Vieja","Jocotenango","Magdalena Milpas Altas","Pastores","San Antonio Aguas Calientes","San Bartolom Milpas Altas","San Lucas Sacatepquez","San Miguel Dueas","Santa Catarina Barahona","Santa Luca Milpas Altas","Santa Mara de Jess","Santiago Sacatepquez","Santo Domingo Xenacoj","Sumpango","Santa Ins del Monte Pulido"],"San Marcos":["San Marcos","Ayutla","Catarina","Comitancillo","Concepcin Tutuapa","El Quetzal","El Rodeo","El Tumbador","Esquipulas Palo Gordo","Ixchigun","La Blanca","La Reforma","Malacatn","Nuevo Progreso","Ocs","Pajapita","Ro Blanco","San Antonio Sacatepquez","San Cristbal Cucho","San Jos Ojetenm","San Lorenzo","San Miguel Ixtahuacn","San Pablo","San Pedro Sacatepquez","San Rafael Pie de la Cuesta","Sibinal","Sipacapa","Tacan","Tajumulco","Tejutla"],"Santa Rosa":["Cuilapa","Barberena","Casillas","Chiquimulilla","Guazacapn","Nueva Santa Rosa","Oratorio","Pueblo Nuevo Vias","San Juan Tecuaco","San Rafael Las Flores","Santa Cruz Naranjo","Santa Mara Ixhuatn","Santa Rosa de Lima","Taxisco"],Solol:["Solol","Concepcin","Nahuala","Panajachel","San Andrs Semetabaj","San Antonio Palop","San Jos Chacay","San Juan La Laguna","San Lucas Tolimn","San Marcos La Laguna","San Pablo La Laguna","San Pedro La Laguna","Santa Catarina Ixtahuacn","Santa Catarina Palop","Santa Clara La Laguna","Santa Cruz La Laguna","Santa Luca Utatln","Santa Mara Visitacin","Santiago Atitln"],Suchitepquez:["Mazatenango","Chicacao","Cuyotenango","Patulul","Pueblo Nuevo","Ro Bravo","Samayac","San Antonio Suchitepquez","San Bernardino","San Francisco Zapotitln","San Gabriel","San Jos El dolo","San Juan Bautista","San Lorenzo","San Miguel Pann","San Pablo Jocopilas","Santa Barbara","Santo Domingo Suchitepquez","Santo Toms La Unin","Zunilito"],Totonicapn:["Totonicapn","Momostenango","San Andrs Xecul","San Bartolo","San Cristbal Totonicapn","San Francisco El Alto","Santa Luca La Reforma","Santa Mara Chiquimula"],Zacapa:["Zacapa","Cabaas","Estanzuela","Gualn","Huit","La Unin","Rio Hondo","San Diego","San Jorge","Teculutn","Usumatn"]},dve=Object.keys(EB).sort();function hve(){const{user:e}=Ja(),[t,r]=R.useState(!0),[n,a]=R.useState(!1),[i,o]=R.useState(""),[u,d]=R.useState(""),[c,h]=R.useState({nombre:"",apellido:"",telefono:"",departamento:"",municipio:"",direccion_linea1:"",direccion_linea2:"",referencia:"",password:""}),[g,x]=R.useState([]),[y,E]=R.useState("");R.useEffect(()=>{(async()=>{if(e)try{if(e.role==="cliente"){const{data:D,error:F}=await At.from("clientes").select("*").eq("id",e.id).single();D&&!F&&(h({nombre:D.nombre||"",apellido:D.apellido||"",telefono:D.telefono||"",departamento:D.departamento||"",municipio:D.municipio||"",direccion_linea1:D.direccion_linea1||"",direccion_linea2:D.direccion_linea2||"",referencia:D.referencia||"",password:D.notas||""}),E(D.notas||""))}else{const{data:D,error:F}=await At.from("usuarios").select("*").eq("id",e.id).single();D&&!F&&(h({...c,nombre:D.nombre||"",apellido:D.apellido||"",telefono:D.telefono||"",password:D.password_hash||""}),E(D.password_hash||""))}}catch(D){console.error("Error fetching profile",D)}finally{r(!1)}})()},[e]),R.useEffect(()=>{if(c.departamento){const j=EB[c.departamento]||[];x(j),j.includes(c.municipio)||h(D=>({...D,municipio:j[0]||""}))}else x([])},[c.departamento]);const N=j=>{h(D=>({...D,[j.target.name]:j.target.value}))},T=async j=>{if(j.preventDefault(),o(""),d(""),!c.nombre||!c.apellido){o("El nombre y apellido son obligatorios.");return}a(!0);try{if((e==null?void 0:e.role)==="cliente"){const D={nombre:c.nombre,apellido:c.apellido,telefono:c.telefono,departamento:c.departamento,municipio:c.municipio,direccion_linea1:c.direccion_linea1,direccion_linea2:c.direccion_linea2,referencia:c.referencia,...c.password!==y&&{notas:c.password}},{error:F}=await At.from("clientes").update(D).eq("id",e.id);if(F)throw F}else{const D={nombre:c.nombre,apellido:c.apellido,telefono:c.telefono,...c.password!==y&&{password_hash:c.password}},{error:F}=await At.from("usuarios").update(D).eq("id",e==null?void 0:e.id);if(F)throw F}d("Perfil actualizado exitosamente."),E(c.password)}catch(D){o(D.message||"Error al guardar los cambios.")}finally{a(!1)}};return t?b.jsxs("div",{className:"flex justify-center flex-col items-center py-20 gap-4 animate-fade-in relative z-10",children:[b.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-blue-500 border-t-transparent shadow-sm"}),b.jsx("p",{className:"text-sm font-bold text-slate-500",children:"Cargando perfil..."})]}):b.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 animate-fade-in relative z-10 w-full pb-10",children:[b.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end justify-between gap-5",children:b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900 bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-600",children:"Mi Perfil"}),b.jsx("p",{className:"text-sm font-medium text-slate-500 mt-1",children:"Actualiza tu informacin personal y de entrega."})]})}),i&&b.jsx("div",{className:"rounded-xl bg-red-50/80 backdrop-blur-sm p-4.5 border border-red-200 shadow-sm animate-slide-up",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx(Mf,{className:"h-5 w-5 text-red-500 mr-2.5 flex-shrink-0"}),b.jsx("span",{className:"text-sm font-bold text-red-700",children:i})]})}),u&&b.jsx("div",{className:"rounded-xl bg-emerald-50/80 backdrop-blur-sm p-4.5 border border-emerald-200 shadow-sm animate-slide-up",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx(j3,{className:"h-5 w-5 text-emerald-500 mr-2.5 flex-shrink-0"}),b.jsx("span",{className:"text-sm font-bold text-emerald-700",children:u})]})}),b.jsx("div",{className:"glass rounded-2xl shadow-sm border border-slate-200/60 overflow-hidden",children:b.jsx("div",{className:"p-6 sm:p-8",children:b.jsxs("form",{onSubmit:T,className:"space-y-8",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[b.jsxs("div",{className:"flex-1 bg-gradient-to-br from-indigo-50 to-blue-50/50 p-5 rounded-2xl border border-indigo-100/60 flex items-center justify-between shadow-sm hover:shadow-md transition-shadow",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] font-extrabold text-indigo-400 uppercase tracking-widest mb-1.5",children:"Tu Casillero"}),b.jsx("p",{className:"text-2xl font-black text-indigo-700 tracking-tight font-mono",children:(e==null?void 0:e.locker_id)||"N/A"})]}),b.jsx("div",{className:"h-12 w-12 rounded-xl bg-white shadow-sm flex items-center justify-center border border-indigo-100",children:b.jsx(Mf,{className:"h-6 w-6 text-indigo-500"})})]}),b.jsxs("div",{className:"flex-1 bg-white/60 p-5 rounded-2xl border border-slate-200/60 shadow-sm hover:shadow-md transition-shadow",children:[b.jsx("p",{className:"text-[10px] font-extrabold text-slate-400 uppercase tracking-widest mb-1.5",children:"Correo Electrnico"}),b.jsx("p",{className:"text-slate-800 mt-1 font-bold text-lg truncate",title:(e==null?void 0:e.email)||"",children:e==null?void 0:e.email})]})]}),b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-extrabold text-slate-900 mb-5 flex items-center gap-3",children:[b.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-100 text-blue-600",children:b.jsx(BM,{className:"h-4.5 w-4.5"})}),"Informacin Personal"]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5 pl-1",children:"Nombre"}),b.jsx("input",{type:"text",name:"nombre",value:c.nombre,onChange:N,className:"w-full rounded-xl border border-slate-200/80 bg-white/70 py-2.5 px-3 text-slate-900 shadow-sm transition-all focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 hover:border-slate-300 sm:text-sm font-medium placeholder:text-slate-400"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5 pl-1",children:"Apellido"}),b.jsx("input",{type:"text",name:"apellido",value:c.apellido,onChange:N,className:"w-full rounded-xl border border-slate-200/80 bg-white/70 py-2.5 px-3 text-slate-900 shadow-sm transition-all focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 hover:border-slate-300 sm:text-sm font-medium placeholder:text-slate-400"})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-1.5 pl-1 flex items-center gap-2",children:[b.jsx(e_,{className:"h-4 w-4 text-emerald-500"})," WhatsApp / Telfono"]}),b.jsx("input",{type:"text",name:"telefono",value:c.telefono,onChange:N,className:"w-full rounded-xl border border-slate-200/80 bg-white/70 py-2.5 px-3 text-slate-900 shadow-sm transition-all focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 hover:border-slate-300 sm:text-sm font-medium placeholder:text-slate-400"})]})]})]}),(e==null?void 0:e.role)==="cliente"&&b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-extrabold text-slate-900 mb-5 flex items-center gap-3 mt-10 pt-8 border-t border-slate-200/60 relative",children:[b.jsx("span",{className:"absolute -top-px left-0 w-24 h-0.5 bg-gradient-to-r from-blue-500 to-indigo-500"}),b.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-indigo-100 text-indigo-600",children:b.jsx(tc,{className:"h-4.5 w-4.5"})}),"Direccin de Entrega"]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5 pl-1",children:"Departamento"}),b.jsxs("select",{name:"departamento",value:c.departamento,onChange:N,className:"w-full rounded-xl border border-slate-200/80 bg-white/70 py-2.5 px-3 text-slate-900 shadow-sm transition-all focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 hover:border-slate-300 sm:text-sm font-medium",children:[b.jsx("option",{value:"",children:" Selecciona "}),dve.map(j=>b.jsx("option",{value:j,children:j},j))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5 pl-1",children:"Municipio"}),b.jsxs("select",{name:"municipio",value:c.municipio,onChange:N,disabled:!c.departamento,className:"w-full rounded-xl border border-slate-200/80 bg-white/70 py-2.5 px-3 text-slate-900 shadow-sm transition-all focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 hover:border-slate-300 sm:text-sm font-medium disabled:bg-slate-50/50 disabled:text-slate-400 disabled:cursor-not-allowed",children:[b.jsx("option",{value:"",children:" Selecciona "}),g.map(j=>b.jsx("option",{value:j,children:j},j))]})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5 pl-1",children:"Calle / Avenida / Zona"}),b.jsx("input",{type:"text",name:"direccion_linea1",value:c.direccion_linea1,onChange:N,className:"w-full rounded-xl border border-slate-200/80 bg-white/70 py-2.5 px-3 text-slate-900 shadow-sm transition-all focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 hover:border-slate-300 sm:text-sm font-medium placeholder:text-slate-400"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5 pl-1",children:"Colonia / Residencial / Apartamento"}),b.jsx("input",{type:"text",name:"direccion_linea2",value:c.direccion_linea2,onChange:N,className:"w-full rounded-xl border border-slate-200/80 bg-white/70 py-2.5 px-3 text-slate-900 shadow-sm transition-all focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 hover:border-slate-300 sm:text-sm font-medium placeholder:text-slate-400"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5 pl-1",children:"Referencia"}),b.jsx("textarea",{name:"referencia",value:c.referencia,onChange:N,rows:2,className:"w-full rounded-xl border border-slate-200/80 bg-white/70 py-2.5 px-3 text-slate-900 shadow-sm transition-all focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 hover:border-slate-300 sm:text-sm font-medium placeholder:text-slate-400 resize-none min-h-[80px]",placeholder:"Detalles adicionales para encontrar tu direccin..."})]})]})]}),b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-extrabold text-slate-900 mb-5 flex items-center gap-3 mt-10 pt-8 border-t border-slate-200/60 relative",children:[b.jsx("span",{className:"absolute -top-px left-0 w-24 h-0.5 bg-gradient-to-r from-red-500 to-orange-500"}),b.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-orange-100 text-orange-600",children:b.jsx(t$,{className:"h-4.5 w-4.5"})}),"Seguridad"]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5 pl-1",children:"Nueva Contrasea"}),b.jsx("input",{type:"password",name:"password",value:c.password,onChange:N,className:"w-full rounded-xl border border-slate-200/80 bg-white/70 py-2.5 px-3 text-slate-900 shadow-sm transition-all focus:border-blue-500/50 focus:bg-white focus:ring-4 focus:ring-blue-500/10 hover:border-slate-300 sm:text-sm font-medium placeholder:text-slate-400",placeholder:"Deja en blanco si no quieres cambiarla"}),b.jsx("p",{className:"text-xs font-semibold text-slate-500 mt-2 bg-slate-50 border border-slate-100 p-2 rounded-lg",children:"Modifica este campo solo si quieres cambiar tu contrasea actual."})]})]}),b.jsx("div",{className:"pt-8 border-t border-slate-200/60 flex justify-end",children:b.jsxs("button",{type:"submit",disabled:n,className:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-3 text-sm font-bold text-white shadow-md shadow-blue-500/20 hover:from-blue-500 hover:to-indigo-500 hover:-translate-y-0.5 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:ring-offset-2 w-full sm:w-auto justify-center",children:[n?b.jsx("span",{className:"h-5 w-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):b.jsx(Pf,{className:"h-5 w-5"}),n?"Guardando...":"Guardar Cambios"]})})]})})})]})}function pve({children:e}){const{user:t,loading:r}=Ja();return r?b.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:b.jsx("div",{className:"h-8 w-8 border-2 border-blue-400/30 border-t-blue-400 rounded-full animate-spin"})}):t?b.jsx(b.Fragment,{children:e}):b.jsx(Mc,{to:"/login",replace:!0})}function B5({children:e}){const{user:t}=Ja();return(t==null?void 0:t.role)!=="admin"&&(t==null?void 0:t.role)!=="operador"?b.jsx(Mc,{to:"/",replace:!0}):b.jsx(b.Fragment,{children:e})}function WI({children:e}){const{user:t}=Ja();return(t==null?void 0:t.role)!=="admin"&&(t==null?void 0:t.role)!=="facturador"?b.jsx(Mc,{to:"/",replace:!0}):b.jsx(b.Fragment,{children:e})}function G1({children:e}){const{user:t}=Ja();return(t==null?void 0:t.role)!=="admin"?b.jsx(Mc,{to:"/",replace:!0}):b.jsx(b.Fragment,{children:e})}function mve(){const{user:e}=Ja(),t=e&&e.role==="cliente";return b.jsxs($U,{children:[b.jsx(ui,{path:"/login",element:e?b.jsx(Mc,{to:"/",replace:!0}):b.jsx(ive,{})}),b.jsx(ui,{path:"/register",element:e?b.jsx(Mc,{to:"/",replace:!0}):b.jsx(cve,{})}),b.jsx(ui,{path:"/tracking",element:b.jsx(fve,{})}),b.jsxs(ui,{path:"/",element:b.jsx(pve,{children:b.jsx(QW,{})}),children:[b.jsx(ui,{index:!0,element:t?b.jsx(Mc,{to:"/inventory",replace:!0}):b.jsx(zfe,{})}),b.jsx(ui,{path:"entry",element:b.jsx(B5,{children:b.jsx(Ode,{})})}),b.jsx(ui,{path:"warehouse",element:b.jsx(B5,{children:b.jsx(Qhe,{})})}),b.jsx(ui,{path:"inventory",element:b.jsx(lge,{})}),b.jsx(ui,{path:"consolidation",element:b.jsx(B5,{children:b.jsx(dge,{})})}),b.jsx(ui,{path:"billing",element:b.jsx(eve,{})}),b.jsx(ui,{path:"settings",element:b.jsx(G1,{children:b.jsx(tve,{})})}),b.jsx(ui,{path:"tariffs",element:b.jsx(G1,{children:b.jsx(rve,{})})}),b.jsx(ui,{path:"users",element:b.jsx(G1,{children:b.jsx(nve,{})})}),b.jsx(ui,{path:"branches",element:b.jsx(G1,{children:b.jsx(ave,{})})}),b.jsx(ui,{path:"expenses",element:b.jsx(WI,{children:b.jsx(ove,{})})}),b.jsx(ui,{path:"reports",element:b.jsx(WI,{children:b.jsx(uve,{})})}),b.jsx(ui,{path:"profile",element:b.jsx(hve,{})}),b.jsx(ui,{path:"payments",element:b.jsx(Mc,{to:"/billing",replace:!0})}),b.jsx(ui,{path:"geography",element:b.jsx(G1,{children:b.jsx(Mc,{to:"/settings",replace:!0})})})]}),b.jsx(ui,{path:"*",element:b.jsx(Mc,{to:"/",replace:!0})})]})}function gve(){return b.jsx(gz,{children:b.jsx(sG,{children:b.jsx(mve,{})})})}$F.createRoot(document.getElementById("root")).render(b.jsx(R.StrictMode,{children:b.jsx(gve,{})}));export{Un as _,Vm as c,Wc as g};
