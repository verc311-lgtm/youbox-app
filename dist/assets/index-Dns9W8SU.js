var NF=Object.defineProperty;var OF=(e,t,n)=>t in e?NF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Cr=(e,t,n)=>OF(e,typeof t!="symbol"?t+"":t,n);function TF(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var $m=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sx={exports:{}},v1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function IF(){if(JE)return v1;JE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return v1.Fragment=t,v1.jsx=n,v1.jsxs=n,v1}var eC;function jF(){return eC||(eC=1,sx.exports=IF()),sx.exports}var _=jF(),ox={exports:{}},Dn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tC;function kF(){if(tC)return Dn;tC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function y(ue){return ue===null||typeof ue!="object"?null:(ue=x&&ue[x]||ue["@@iterator"],typeof ue=="function"?ue:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function I(ue,V,he){this.props=ue,this.context=V,this.refs=T,this.updater=he||C}I.prototype.isReactComponent={},I.prototype.setState=function(ue,V){if(typeof ue!="object"&&typeof ue!="function"&&ue!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ue,V,"setState")},I.prototype.forceUpdate=function(ue){this.updater.enqueueForceUpdate(this,ue,"forceUpdate")};function D(){}D.prototype=I.prototype;function F(ue,V,he){this.props=ue,this.context=V,this.refs=T,this.updater=he||C}var U=F.prototype=new D;U.constructor=F,E(U,I.prototype),U.isPureReactComponent=!0;var Z=Array.isArray;function Q(){}var Y={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function q(ue,V,he){var me=he.ref;return{$$typeof:e,type:ue,key:V,ref:me!==void 0?me:null,props:he}}function oe(ue,V){return q(ue.type,V,ue.props)}function H(ue){return typeof ue=="object"&&ue!==null&&ue.$$typeof===e}function G(ue){var V={"=":"=0",":":"=2"};return"$"+ue.replace(/[=:]/g,function(he){return V[he]})}var fe=/\/+/g;function ee(ue,V){return typeof ue=="object"&&ue!==null&&ue.key!=null?G(""+ue.key):V.toString(36)}function ae(ue){switch(ue.status){case"fulfilled":return ue.value;case"rejected":throw ue.reason;default:switch(typeof ue.status=="string"?ue.then(Q,Q):(ue.status="pending",ue.then(function(V){ue.status==="pending"&&(ue.status="fulfilled",ue.value=V)},function(V){ue.status==="pending"&&(ue.status="rejected",ue.reason=V)})),ue.status){case"fulfilled":return ue.value;case"rejected":throw ue.reason}}throw ue}function ie(ue,V,he,me,Ce){var xe=typeof ue;(xe==="undefined"||xe==="boolean")&&(ue=null);var Me=!1;if(ue===null)Me=!0;else switch(xe){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(ue.$$typeof){case e:case t:Me=!0;break;case h:return Me=ue._init,ie(Me(ue._payload),V,he,me,Ce)}}if(Me)return Ce=Ce(ue),Me=me===""?"."+ee(ue,0):me,Z(Ce)?(he="",Me!=null&&(he=Me.replace(fe,"$&/")+"/"),ie(Ce,V,he,"",function(Ge){return Ge})):Ce!=null&&(H(Ce)&&(Ce=oe(Ce,he+(Ce.key==null||ue&&ue.key===Ce.key?"":(""+Ce.key).replace(fe,"$&/")+"/")+Me)),V.push(Ce)),1;Me=0;var ze=me===""?".":me+":";if(Z(ue))for(var Oe=0;Oe<ue.length;Oe++)me=ue[Oe],xe=ze+ee(me,Oe),Me+=ie(me,V,he,xe,Ce);else if(Oe=y(ue),typeof Oe=="function")for(ue=Oe.call(ue),Oe=0;!(me=ue.next()).done;)me=me.value,xe=ze+ee(me,Oe++),Me+=ie(me,V,he,xe,Ce);else if(xe==="object"){if(typeof ue.then=="function")return ie(ae(ue),V,he,me,Ce);throw V=String(ue),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(ue).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Me}function K(ue,V,he){if(ue==null)return ue;var me=[],Ce=0;return ie(ue,me,"","",function(xe){return V.call(he,xe,Ce++)}),me}function ve(ue){if(ue._status===-1){var V=ue._result;V=V(),V.then(function(he){(ue._status===0||ue._status===-1)&&(ue._status=1,ue._result=he)},function(he){(ue._status===0||ue._status===-1)&&(ue._status=2,ue._result=he)}),ue._status===-1&&(ue._status=0,ue._result=V)}if(ue._status===1)return ue._result.default;throw ue._result}var Te=typeof reportError=="function"?reportError:function(ue){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ue=="object"&&ue!==null&&typeof ue.message=="string"?String(ue.message):String(ue),error:ue});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ue);return}console.error(ue)},we={map:K,forEach:function(ue,V,he){K(ue,function(){V.apply(this,arguments)},he)},count:function(ue){var V=0;return K(ue,function(){V++}),V},toArray:function(ue){return K(ue,function(V){return V})||[]},only:function(ue){if(!H(ue))throw Error("React.Children.only expected to receive a single React element child.");return ue}};return Dn.Activity=g,Dn.Children=we,Dn.Component=I,Dn.Fragment=n,Dn.Profiler=i,Dn.PureComponent=F,Dn.StrictMode=r,Dn.Suspense=d,Dn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Dn.__COMPILER_RUNTIME={__proto__:null,c:function(ue){return Y.H.useMemoCache(ue)}},Dn.cache=function(ue){return function(){return ue.apply(null,arguments)}},Dn.cacheSignal=function(){return null},Dn.cloneElement=function(ue,V,he){if(ue==null)throw Error("The argument must be a React element, but you passed "+ue+".");var me=E({},ue.props),Ce=ue.key;if(V!=null)for(xe in V.key!==void 0&&(Ce=""+V.key),V)!J.call(V,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&V.ref===void 0||(me[xe]=V[xe]);var xe=arguments.length-2;if(xe===1)me.children=he;else if(1<xe){for(var Me=Array(xe),ze=0;ze<xe;ze++)Me[ze]=arguments[ze+2];me.children=Me}return q(ue.type,Ce,me)},Dn.createContext=function(ue){return ue={$$typeof:o,_currentValue:ue,_currentValue2:ue,_threadCount:0,Provider:null,Consumer:null},ue.Provider=ue,ue.Consumer={$$typeof:a,_context:ue},ue},Dn.createElement=function(ue,V,he){var me,Ce={},xe=null;if(V!=null)for(me in V.key!==void 0&&(xe=""+V.key),V)J.call(V,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ce[me]=V[me]);var Me=arguments.length-2;if(Me===1)Ce.children=he;else if(1<Me){for(var ze=Array(Me),Oe=0;Oe<Me;Oe++)ze[Oe]=arguments[Oe+2];Ce.children=ze}if(ue&&ue.defaultProps)for(me in Me=ue.defaultProps,Me)Ce[me]===void 0&&(Ce[me]=Me[me]);return q(ue,xe,Ce)},Dn.createRef=function(){return{current:null}},Dn.forwardRef=function(ue){return{$$typeof:u,render:ue}},Dn.isValidElement=H,Dn.lazy=function(ue){return{$$typeof:h,_payload:{_status:-1,_result:ue},_init:ve}},Dn.memo=function(ue,V){return{$$typeof:c,type:ue,compare:V===void 0?null:V}},Dn.startTransition=function(ue){var V=Y.T,he={};Y.T=he;try{var me=ue(),Ce=Y.S;Ce!==null&&Ce(he,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(Q,Te)}catch(xe){Te(xe)}finally{V!==null&&he.types!==null&&(V.types=he.types),Y.T=V}},Dn.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Dn.use=function(ue){return Y.H.use(ue)},Dn.useActionState=function(ue,V,he){return Y.H.useActionState(ue,V,he)},Dn.useCallback=function(ue,V){return Y.H.useCallback(ue,V)},Dn.useContext=function(ue){return Y.H.useContext(ue)},Dn.useDebugValue=function(){},Dn.useDeferredValue=function(ue,V){return Y.H.useDeferredValue(ue,V)},Dn.useEffect=function(ue,V){return Y.H.useEffect(ue,V)},Dn.useEffectEvent=function(ue){return Y.H.useEffectEvent(ue)},Dn.useId=function(){return Y.H.useId()},Dn.useImperativeHandle=function(ue,V,he){return Y.H.useImperativeHandle(ue,V,he)},Dn.useInsertionEffect=function(ue,V){return Y.H.useInsertionEffect(ue,V)},Dn.useLayoutEffect=function(ue,V){return Y.H.useLayoutEffect(ue,V)},Dn.useMemo=function(ue,V){return Y.H.useMemo(ue,V)},Dn.useOptimistic=function(ue,V){return Y.H.useOptimistic(ue,V)},Dn.useReducer=function(ue,V,he){return Y.H.useReducer(ue,V,he)},Dn.useRef=function(ue){return Y.H.useRef(ue)},Dn.useState=function(ue){return Y.H.useState(ue)},Dn.useSyncExternalStore=function(ue,V,he){return Y.H.useSyncExternalStore(ue,V,he)},Dn.useTransition=function(){return Y.H.useTransition()},Dn.version="19.2.4",Dn}var nC;function x0(){return nC||(nC=1,ox.exports=kF()),ox.exports}var R=x0();const zk=Gc(R),MF=TF({__proto__:null,default:zk},[R]);var lx={exports:{}},y1={},cx={exports:{}},ux={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rC;function PF(){return rC||(rC=1,(function(e){function t(ie,K){var ve=ie.length;ie.push(K);e:for(;0<ve;){var Te=ve-1>>>1,we=ie[Te];if(0<i(we,K))ie[Te]=K,ie[ve]=we,ve=Te;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var K=ie[0],ve=ie.pop();if(ve!==K){ie[0]=ve;e:for(var Te=0,we=ie.length,ue=we>>>1;Te<ue;){var V=2*(Te+1)-1,he=ie[V],me=V+1,Ce=ie[me];if(0>i(he,ve))me<we&&0>i(Ce,he)?(ie[Te]=Ce,ie[me]=ve,Te=me):(ie[Te]=he,ie[V]=ve,Te=V);else if(me<we&&0>i(Ce,ve))ie[Te]=Ce,ie[me]=ve,Te=me;else break e}}return K}function i(ie,K){var ve=ie.sortIndex-K.sortIndex;return ve!==0?ve:ie.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var d=[],c=[],h=1,g=null,x=3,y=!1,C=!1,E=!1,T=!1,I=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function U(ie){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=ie)r(c),K.sortIndex=K.expirationTime,t(d,K);else break;K=n(c)}}function Z(ie){if(E=!1,U(ie),!C)if(n(d)!==null)C=!0,Q||(Q=!0,G());else{var K=n(c);K!==null&&ae(Z,K.startTime-ie)}}var Q=!1,Y=-1,J=5,q=-1;function oe(){return T?!0:!(e.unstable_now()-q<J)}function H(){if(T=!1,Q){var ie=e.unstable_now();q=ie;var K=!0;try{e:{C=!1,E&&(E=!1,D(Y),Y=-1),y=!0;var ve=x;try{t:{for(U(ie),g=n(d);g!==null&&!(g.expirationTime>ie&&oe());){var Te=g.callback;if(typeof Te=="function"){g.callback=null,x=g.priorityLevel;var we=Te(g.expirationTime<=ie);if(ie=e.unstable_now(),typeof we=="function"){g.callback=we,U(ie),K=!0;break t}g===n(d)&&r(d),U(ie)}else r(d);g=n(d)}if(g!==null)K=!0;else{var ue=n(c);ue!==null&&ae(Z,ue.startTime-ie),K=!1}}break e}finally{g=null,x=ve,y=!1}K=void 0}}finally{K?G():Q=!1}}}var G;if(typeof F=="function")G=function(){F(H)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ee=fe.port2;fe.port1.onmessage=H,G=function(){ee.postMessage(null)}}else G=function(){I(H,0)};function ae(ie,K){Y=I(function(){ie(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(ie){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var ve=x;x=K;try{return ie()}finally{x=ve}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(ie,K){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ve=x;x=ie;try{return K()}finally{x=ve}},e.unstable_scheduleCallback=function(ie,K,ve){var Te=e.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Te+ve:Te):ve=Te,ie){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ve+we,ie={id:h++,callback:K,priorityLevel:ie,startTime:ve,expirationTime:we,sortIndex:-1},ve>Te?(ie.sortIndex=ve,t(c,ie),n(d)===null&&ie===n(c)&&(E?(D(Y),Y=-1):E=!0,ae(Z,ve-Te))):(ie.sortIndex=we,t(d,ie),C||y||(C=!0,Q||(Q=!0,G()))),ie},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(ie){var K=x;return function(){var ve=x;x=K;try{return ie.apply(this,arguments)}finally{x=ve}}}})(ux)),ux}var iC;function RF(){return iC||(iC=1,cx.exports=PF()),cx.exports}var fx={exports:{}},Ms={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aC;function DF(){if(aC)return Ms;aC=1;var e=x0();function t(d){var c="https://react.dev/errors/"+d;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,c,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:c,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,c){if(d==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Ms.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ms.createPortal=function(d,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return a(d,c,null,h)},Ms.flushSync=function(d){var c=o.T,h=r.p;try{if(o.T=null,r.p=2,d)return d()}finally{o.T=c,r.p=h,r.d.f()}},Ms.preconnect=function(d,c){typeof d=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(d,c))},Ms.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Ms.preinit=function(d,c){if(typeof d=="string"&&c&&typeof c.as=="string"){var h=c.as,g=u(h,c.crossOrigin),x=typeof c.integrity=="string"?c.integrity:void 0,y=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;h==="style"?r.d.S(d,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:y}):h==="script"&&r.d.X(d,{crossOrigin:g,integrity:x,fetchPriority:y,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Ms.preinitModule=function(d,c){if(typeof d=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var h=u(c.as,c.crossOrigin);r.d.M(d,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(d)},Ms.preload=function(d,c){if(typeof d=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var h=c.as,g=u(h,c.crossOrigin);r.d.L(d,h,{crossOrigin:g,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Ms.preloadModule=function(d,c){if(typeof d=="string")if(c){var h=u(c.as,c.crossOrigin);r.d.m(d,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(d)},Ms.requestFormReset=function(d){r.d.r(d)},Ms.unstable_batchedUpdates=function(d,c){return d(c)},Ms.useFormState=function(d,c,h){return o.H.useFormState(d,c,h)},Ms.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ms.version="19.2.4",Ms}var sC;function qk(){if(sC)return fx.exports;sC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fx.exports=DF(),fx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oC;function LF(){if(oC)return y1;oC=1;var e=RF(),t=x0(),n=qk();function r(s){var f="https://react.dev/errors/"+s;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+s+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var f=s,v=s;if(s.alternate)for(;f.return;)f=f.return;else{s=f;do f=s,(f.flags&4098)!==0&&(v=f.return),s=f.return;while(s)}return f.tag===3?v:null}function o(s){if(s.tag===13){var f=s.memoizedState;if(f===null&&(s=s.alternate,s!==null&&(f=s.memoizedState)),f!==null)return f.dehydrated}return null}function u(s){if(s.tag===31){var f=s.memoizedState;if(f===null&&(s=s.alternate,s!==null&&(f=s.memoizedState)),f!==null)return f.dehydrated}return null}function d(s){if(a(s)!==s)throw Error(r(188))}function c(s){var f=s.alternate;if(!f){if(f=a(s),f===null)throw Error(r(188));return f!==s?null:s}for(var v=s,S=f;;){var j=v.return;if(j===null)break;var P=j.alternate;if(P===null){if(S=j.return,S!==null){v=S;continue}break}if(j.child===P.child){for(P=j.child;P;){if(P===v)return d(j),s;if(P===S)return d(j),f;P=P.sibling}throw Error(r(188))}if(v.return!==S.return)v=j,S=P;else{for(var X=!1,pe=j.child;pe;){if(pe===v){X=!0,v=j,S=P;break}if(pe===S){X=!0,S=j,v=P;break}pe=pe.sibling}if(!X){for(pe=P.child;pe;){if(pe===v){X=!0,v=P,S=j;break}if(pe===S){X=!0,S=P,v=j;break}pe=pe.sibling}if(!X)throw Error(r(189))}}if(v.alternate!==S)throw Error(r(190))}if(v.tag!==3)throw Error(r(188));return v.stateNode.current===v?s:f}function h(s){var f=s.tag;if(f===5||f===26||f===27||f===6)return s;for(s=s.child;s!==null;){if(f=h(s),f!==null)return f;s=s.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),F=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function G(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var fe=Symbol.for("react.client.reference");function ee(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===fe?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case I:return"Profiler";case T:return"StrictMode";case Z:return"Suspense";case Q:return"SuspenseList";case q:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case C:return"Portal";case F:return s.displayName||"Context";case D:return(s._context.displayName||"Context")+".Consumer";case U:var f=s.render;return s=s.displayName,s||(s=f.displayName||f.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Y:return f=s.displayName||null,f!==null?f:ee(s.type)||"Memo";case J:f=s._payload,s=s._init;try{return ee(s(f))}catch{}}return null}var ae=Array.isArray,ie=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Te=[],we=-1;function ue(s){return{current:s}}function V(s){0>we||(s.current=Te[we],Te[we]=null,we--)}function he(s,f){we++,Te[we]=s.current,s.current=f}var me=ue(null),Ce=ue(null),xe=ue(null),Me=ue(null);function ze(s,f){switch(he(xe,f),he(Ce,s),he(me,null),f.nodeType){case 9:case 11:s=(s=f.documentElement)&&(s=s.namespaceURI)?_E(s):0;break;default:if(s=f.tagName,f=f.namespaceURI)f=_E(f),s=SE(f,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}V(me),he(me,s)}function Oe(){V(me),V(Ce),V(xe)}function Ge(s){s.memoizedState!==null&&he(Me,s);var f=me.current,v=SE(f,s.type);f!==v&&(he(Ce,s),he(me,v))}function Je(s){Ce.current===s&&(V(me),V(Ce)),Me.current===s&&(V(Me),h1._currentValue=ve)}var qe,lt;function bt(s){if(qe===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);qe=f&&f[1]||"",lt=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qe+s+lt}var ye=!1;function wt(s,f){if(!s||ye)return"";ye=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(f){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(tt){var Qe=tt}Reflect.construct(s,[],mt)}else{try{mt.call()}catch(tt){Qe=tt}s.call(mt.prototype)}}else{try{throw Error()}catch(tt){Qe=tt}(mt=s())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(tt){if(tt&&Qe&&typeof tt.stack=="string")return[tt.stack,Qe.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var j=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");j&&j.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=S.DetermineComponentFrameRoot(),X=P[0],pe=P[1];if(X&&pe){var je=X.split(`
`),Xe=pe.split(`
`);for(j=S=0;S<je.length&&!je[S].includes("DetermineComponentFrameRoot");)S++;for(;j<Xe.length&&!Xe[j].includes("DetermineComponentFrameRoot");)j++;if(S===je.length||j===Xe.length)for(S=je.length-1,j=Xe.length-1;1<=S&&0<=j&&je[S]!==Xe[j];)j--;for(;1<=S&&0<=j;S--,j--)if(je[S]!==Xe[j]){if(S!==1||j!==1)do if(S--,j--,0>j||je[S]!==Xe[j]){var ft=`
`+je[S].replace(" at new "," at ");return s.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",s.displayName)),ft}while(1<=S&&0<=j);break}}}finally{ye=!1,Error.prepareStackTrace=v}return(v=s?s.displayName||s.name:"")?bt(v):""}function Rt(s,f){switch(s.tag){case 26:case 27:case 5:return bt(s.type);case 16:return bt("Lazy");case 13:return s.child!==f&&f!==null?bt("Suspense Fallback"):bt("Suspense");case 19:return bt("SuspenseList");case 0:case 15:return wt(s.type,!1);case 11:return wt(s.type.render,!1);case 1:return wt(s.type,!0);case 31:return bt("Activity");default:return""}}function _t(s){try{var f="",v=null;do f+=Rt(s,v),v=s,s=s.return;while(s);return f}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}var nt=Object.prototype.hasOwnProperty,en=e.unstable_scheduleCallback,at=e.unstable_cancelCallback,an=e.unstable_shouldYield,sn=e.unstable_requestPaint,yn=e.unstable_now,Fn=e.unstable_getCurrentPriorityLevel,cn=e.unstable_ImmediatePriority,zn=e.unstable_UserBlockingPriority,Nn=e.unstable_NormalPriority,Ot=e.unstable_LowPriority,In=e.unstable_IdlePriority,Ht=e.log,ci=e.unstable_setDisableYieldValue,tn=null,rt=null;function Dt(s){if(typeof Ht=="function"&&ci(s),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(tn,s)}catch{}}var Ft=Math.clz32?Math.clz32:pn,Ct=Math.log,cr=Math.LN2;function pn(s){return s>>>=0,s===0?32:31-(Ct(s)/cr|0)|0}var _n=256,Xt=262144,Sn=4194304;function Kt(s){var f=s&42;if(f!==0)return f;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Xn(s,f,v){var S=s.pendingLanes;if(S===0)return 0;var j=0,P=s.suspendedLanes,X=s.pingedLanes;s=s.warmLanes;var pe=S&134217727;return pe!==0?(S=pe&~P,S!==0?j=Kt(S):(X&=pe,X!==0?j=Kt(X):v||(v=pe&~s,v!==0&&(j=Kt(v))))):(pe=S&~P,pe!==0?j=Kt(pe):X!==0?j=Kt(X):v||(v=S&~s,v!==0&&(j=Kt(v)))),j===0?0:f!==0&&f!==j&&(f&P)===0&&(P=j&-j,v=f&-f,P>=v||P===32&&(v&4194048)!==0)?f:j}function ui(s,f){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&f)===0}function Ri(s,f){switch(s){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ir(){var s=Sn;return Sn<<=1,(Sn&62914560)===0&&(Sn=4194304),s}function ea(s){for(var f=[],v=0;31>v;v++)f.push(s);return f}function Zt(s,f){s.pendingLanes|=f,f!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Di(s,f,v,S,j,P){var X=s.pendingLanes;s.pendingLanes=v,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=v,s.entangledLanes&=v,s.errorRecoveryDisabledLanes&=v,s.shellSuspendCounter=0;var pe=s.entanglements,je=s.expirationTimes,Xe=s.hiddenUpdates;for(v=X&~v;0<v;){var ft=31-Ft(v),mt=1<<ft;pe[ft]=0,je[ft]=-1;var Qe=Xe[ft];if(Qe!==null)for(Xe[ft]=null,ft=0;ft<Qe.length;ft++){var tt=Qe[ft];tt!==null&&(tt.lane&=-536870913)}v&=~mt}S!==0&&io(s,S,0),P!==0&&j===0&&s.tag!==0&&(s.suspendedLanes|=P&~(X&~f))}function io(s,f,v){s.pendingLanes|=f,s.suspendedLanes&=~f;var S=31-Ft(f);s.entangledLanes|=f,s.entanglements[S]=s.entanglements[S]|1073741824|v&261930}function Ti(s,f){var v=s.entangledLanes|=f;for(s=s.entanglements;v;){var S=31-Ft(v),j=1<<S;j&f|s[S]&f&&(s[S]|=f),v&=~j}}function Ea(s,f){var v=f&-f;return v=(v&42)!==0?1:qn(v),(v&(s.suspendedLanes|f))!==0?0:v}function qn(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Nr(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function hr(){var s=K.p;return s!==0?s:(s=window.event,s===void 0?32:WE(s.type))}function Nt(s,f){var v=K.p;try{return K.p=s,f()}finally{K.p=v}}var xi=Math.random().toString(36).slice(2),pr="__reactFiber$"+xi,Gn="__reactProps$"+xi,fi="__reactContainer$"+xi,ha="__reactEvents$"+xi,Ca="__reactListeners$"+xi,pa="__reactHandles$"+xi,zs="__reactResources$"+xi,qs="__reactMarker$"+xi;function ta(s){delete s[pr],delete s[Gn],delete s[ha],delete s[Ca],delete s[pa]}function jr(s){var f=s[pr];if(f)return f;for(var v=s.parentNode;v;){if(f=v[fi]||v[pr]){if(v=f.alternate,f.child!==null||v!==null&&v.child!==null)for(s=IE(s);s!==null;){if(v=s[pr])return v;s=IE(s)}return f}s=v,v=s.parentNode}return null}function Kn(s){if(s=s[pr]||s[fi]){var f=s.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return s}return null}function sl(s){var f=s.tag;if(f===5||f===26||f===27||f===6)return s.stateNode;throw Error(r(33))}function na(s){var f=s[zs];return f||(f=s[zs]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Yr(s){s[qs]=!0}var gt=new Set,fs={};function rr(s,f){Ha(s,f),Ha(s+"Capture",f)}function Ha(s,f){for(fs[s]=f,s=0;s<f.length;s++)gt.add(f[s])}var Vc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zn={},Vn={};function Un(s){return nt.call(Vn,s)?!0:nt.call(Zn,s)?!1:Vc.test(s)?Vn[s]=!0:(Zn[s]=!0,!1)}function Na(s,f,v){if(Un(f))if(v===null)s.removeAttribute(f);else{switch(typeof v){case"undefined":case"function":case"symbol":s.removeAttribute(f);return;case"boolean":var S=f.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){s.removeAttribute(f);return}}s.setAttribute(f,""+v)}}function Hs(s,f,v){if(v===null)s.removeAttribute(f);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(f);return}s.setAttribute(f,""+v)}}function ds(s,f,v,S){if(S===null)s.removeAttribute(v);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(v);return}s.setAttributeNS(f,v,""+S)}}function xn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function As(s){var f=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function ao(s,f,v){var S=Object.getOwnPropertyDescriptor(s.constructor.prototype,f);if(!s.hasOwnProperty(f)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var j=S.get,P=S.set;return Object.defineProperty(s,f,{configurable:!0,get:function(){return j.call(this)},set:function(X){v=""+X,P.call(this,X)}}),Object.defineProperty(s,f,{enumerable:S.enumerable}),{getValue:function(){return v},setValue:function(X){v=""+X},stopTracking:function(){s._valueTracker=null,delete s[f]}}}}function yr(s){if(!s._valueTracker){var f=As(s)?"checked":"value";s._valueTracker=ao(s,f,""+s[f])}}function Es(s){if(!s)return!1;var f=s._valueTracker;if(!f)return!0;var v=f.getValue(),S="";return s&&(S=As(s)?s.checked?"true":"false":s.value),s=S,s!==v?(f.setValue(s),!0):!1}function Oa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var zr=/[\n"\\]/g;function Tn(s){return s.replace(zr,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function di(s,f,v,S,j,P,X,pe){s.name="",X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?s.type=X:s.removeAttribute("type"),f!=null?X==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+xn(f)):s.value!==""+xn(f)&&(s.value=""+xn(f)):X!=="submit"&&X!=="reset"||s.removeAttribute("value"),f!=null?_e(s,X,xn(f)):v!=null?_e(s,X,xn(v)):S!=null&&s.removeAttribute("value"),j==null&&P!=null&&(s.defaultChecked=!!P),j!=null&&(s.checked=j&&typeof j!="function"&&typeof j!="symbol"),pe!=null&&typeof pe!="function"&&typeof pe!="symbol"&&typeof pe!="boolean"?s.name=""+xn(pe):s.removeAttribute("name")}function $e(s,f,v,S,j,P,X,pe){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(s.type=P),f!=null||v!=null){if(!(P!=="submit"&&P!=="reset"||f!=null)){yr(s);return}v=v!=null?""+xn(v):"",f=f!=null?""+xn(f):v,pe||f===s.value||(s.value=f),s.defaultValue=f}S=S??j,S=typeof S!="function"&&typeof S!="symbol"&&!!S,s.checked=pe?s.checked:!!S,s.defaultChecked=!!S,X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(s.name=X),yr(s)}function _e(s,f,v){f==="number"&&Oa(s.ownerDocument)===s||s.defaultValue===""+v||(s.defaultValue=""+v)}function It(s,f,v,S){if(s=s.options,f){f={};for(var j=0;j<v.length;j++)f["$"+v[j]]=!0;for(v=0;v<s.length;v++)j=f.hasOwnProperty("$"+s[v].value),s[v].selected!==j&&(s[v].selected=j),j&&S&&(s[v].defaultSelected=!0)}else{for(v=""+xn(v),f=null,j=0;j<s.length;j++){if(s[j].value===v){s[j].selected=!0,S&&(s[j].defaultSelected=!0);return}f!==null||s[j].disabled||(f=s[j])}f!==null&&(f.selected=!0)}}function ni(s,f,v){if(f!=null&&(f=""+xn(f),f!==s.value&&(s.value=f),v==null)){s.defaultValue!==f&&(s.defaultValue=f);return}s.defaultValue=v!=null?""+xn(v):""}function ma(s,f,v,S){if(f==null){if(S!=null){if(v!=null)throw Error(r(92));if(ae(S)){if(1<S.length)throw Error(r(93));S=S[0]}v=S}v==null&&(v=""),f=v}v=xn(f),s.defaultValue=v,S=s.textContent,S===v&&S!==""&&S!==null&&(s.value=S),yr(s)}function Gs(s,f){if(f){var v=s.firstChild;if(v&&v===s.lastChild&&v.nodeType===3){v.nodeValue=f;return}}s.textContent=f}var Po=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ta(s,f,v){var S=f.indexOf("--")===0;v==null||typeof v=="boolean"||v===""?S?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="":S?s.setProperty(f,v):typeof v!="number"||v===0||Po.has(f)?f==="float"?s.cssFloat=v:s[f]=(""+v).trim():s[f]=v+"px"}function nn(s,f,v){if(f!=null&&typeof f!="object")throw Error(r(62));if(s=s.style,v!=null){for(var S in v)!v.hasOwnProperty(S)||f!=null&&f.hasOwnProperty(S)||(S.indexOf("--")===0?s.setProperty(S,""):S==="float"?s.cssFloat="":s[S]="");for(var j in f)S=f[j],f.hasOwnProperty(j)&&v[j]!==S&&Ta(s,j,S)}else for(var P in f)f.hasOwnProperty(P)&&Ta(s,P,f[P])}function _r(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$u=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(s){return $u.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ga(){}var $s=null;function Ol(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var kr=null,un=null;function Ws(s){var f=Kn(s);if(f&&(s=f.stateNode)){var v=s[Gn]||null;e:switch(s=f.stateNode,f.type){case"input":if(di(s,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name),f=v.name,v.type==="radio"&&f!=null){for(v=s;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll('input[name="'+Tn(""+f)+'"][type="radio"]'),f=0;f<v.length;f++){var S=v[f];if(S!==s&&S.form===s.form){var j=S[Gn]||null;if(!j)throw Error(r(90));di(S,j.value,j.defaultValue,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name)}}for(f=0;f<v.length;f++)S=v[f],S.form===s.form&&Es(S)}break e;case"textarea":ni(s,v.value,v.defaultValue);break e;case"select":f=v.value,f!=null&&It(s,!!v.multiple,f,!1)}}}var fn=!1;function Wu(s,f,v){if(fn)return s(f,v);fn=!0;try{var S=s(f);return S}finally{if(fn=!1,(kr!==null||un!==null)&&(Sm(),kr&&(f=kr,s=un,un=kr=null,Ws(f),s)))for(f=0;f<s.length;f++)Ws(s[f])}}function dn(s,f){var v=s.stateNode;if(v===null)return null;var S=v[Gn]||null;if(S===null)return null;v=S[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(s=s.type,S=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!S;break e;default:s=!1}if(s)return null;if(v&&typeof v!="function")throw Error(r(231,f,typeof v));return v}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yc=!1;if(Jn)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){Yc=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{Yc=!1}var $a=null,hs=null,so=null;function ol(){if(so)return so;var s,f=hs,v=f.length,S,j="value"in $a?$a.value:$a.textContent,P=j.length;for(s=0;s<v&&f[s]===j[s];s++);var X=v-s;for(S=1;S<=X&&f[v-S]===j[P-S];S++);return so=j.slice(s,1<S?1-S:void 0)}function va(s){var f=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&f===13&&(s=13)):s=f,s===10&&(s=13),32<=s||s===13?s:0}function oo(){return!0}function Tl(){return!1}function ri(s){function f(v,S,j,P,X){this._reactName=v,this._targetInst=j,this.type=S,this.nativeEvent=P,this.target=X,this.currentTarget=null;for(var pe in s)s.hasOwnProperty(pe)&&(v=s[pe],this[pe]=v?v(P):P[pe]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?oo:Tl,this.isPropagationStopped=Tl,this}return g(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=oo)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=oo)},persist:function(){},isPersistent:oo}),f}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mr=ri(Wa),lo=g({},Wa,{view:0,detail:0}),Il=ri(lo),ll,Do,Lo,jl=g({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bn,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Lo&&(Lo&&s.type==="mousemove"?(ll=s.screenX-Lo.screenX,Do=s.screenY-Lo.screenY):Do=ll=0,Lo=s),ll)},movementY:function(s){return"movementY"in s?s.movementY:Do}}),ir=ri(jl),co=g({},jl,{dataTransfer:0}),Cs=ri(co),Vs=g({},lo,{relatedTarget:0}),Bo=ri(Vs),et=g({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),L=ri(et),re=g({},Wa,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ae=ri(re),ke=g({},Wa,{data:0}),Fe=ri(ke),dt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function At(s){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(s):(s=Pt[s])?!!f[s]:!1}function bn(){return At}var Lt=g({},lo,{key:function(s){if(s.key){var f=dt[s.key]||s.key;if(f!=="Unidentified")return f}return s.type==="keypress"?(s=va(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?yt[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bn,charCode:function(s){return s.type==="keypress"?va(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?va(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),$n=ri(Lt),mr=g({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),An=ri(mr),Et=g({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bn}),Ii=ri(Et),jn=g({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xr=ri(jn),Va=g({},jl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ys=ri(Va),Li=g({},Wa,{newState:0,oldState:0}),kl=ri(Li),Ml=[9,13,27,32],Ns=Jn&&"CompositionEvent"in window,Os=null;Jn&&"documentMode"in document&&(Os=document.documentMode);var cl=Jn&&"TextEvent"in window&&!Os,Fo=Jn&&(!Ns||Os&&8<Os&&11>=Os),Kr=" ",uo=!1;function ul(s,f){switch(s){case"keyup":return Ml.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ho=!1;function ii(s,f){switch(s){case"compositionend":return fo(f);case"keypress":return f.which!==32?null:(uo=!0,Kr);case"textInput":return s=f.data,s===Kr&&uo?null:s;default:return null}}function Ts(s,f){if(ho)return s==="compositionend"||!Ns&&ul(s,f)?(s=ol(),so=hs=$a=null,ho=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Fo&&f.locale!=="ko"?null:f.data;default:return null}}var ra={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fc(s){var f=s&&s.nodeName&&s.nodeName.toLowerCase();return f==="input"?!!ra[s.type]:f==="textarea"}function ai(s,f,v,S){kr?un?un.push(S):un=[S]:kr=S,f=Im(f,"onChange"),0<f.length&&(v=new Mr("onChange","change",null,v,S),s.push({event:v,listeners:f}))}var Xs=null,Ks=null;function Xc(s){gE(s,0)}function Is(s){var f=sl(s);if(Es(f))return s}function ia(s,f){if(s==="change")return f}var Ya=!1;if(Jn){var aa;if(Jn){var Xa="oninput"in document;if(!Xa){var Pn=document.createElement("div");Pn.setAttribute("oninput","return;"),Xa=typeof Pn.oninput=="function"}aa=Xa}else aa=!1;Ya=aa&&(!document.documentMode||9<document.documentMode)}function js(){Xs&&(Xs.detachEvent("onpropertychange",te),Ks=Xs=null)}function te(s){if(s.propertyName==="value"&&Is(Ks)){var f=[];ai(f,Ks,s,Ol(s)),Wu(Xc,f)}}function l(s,f,v){s==="focusin"?(js(),Xs=f,Ks=v,Xs.attachEvent("onpropertychange",te)):s==="focusout"&&js()}function p(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Is(Ks)}function m(s,f){if(s==="click")return Is(f)}function b(s,f){if(s==="input"||s==="change")return Is(f)}function w(s,f){return s===f&&(s!==0||1/s===1/f)||s!==s&&f!==f}var A=typeof Object.is=="function"?Object.is:w;function O(s,f){if(A(s,f))return!0;if(typeof s!="object"||s===null||typeof f!="object"||f===null)return!1;var v=Object.keys(s),S=Object.keys(f);if(v.length!==S.length)return!1;for(S=0;S<v.length;S++){var j=v[S];if(!nt.call(f,j)||!A(s[j],f[j]))return!1}return!0}function M(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function B(s,f){var v=M(s);s=0;for(var S;v;){if(v.nodeType===3){if(S=s+v.textContent.length,s<=f&&S>=f)return{node:v,offset:f-s};s=S}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=M(v)}}function $(s,f){return s&&f?s===f?!0:s&&s.nodeType===3?!1:f&&f.nodeType===3?$(s,f.parentNode):"contains"in s?s.contains(f):s.compareDocumentPosition?!!(s.compareDocumentPosition(f)&16):!1:!1}function ne(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var f=Oa(s.document);f instanceof s.HTMLIFrameElement;){try{var v=typeof f.contentWindow.location.href=="string"}catch{v=!1}if(v)s=f.contentWindow;else break;f=Oa(s.document)}return f}function le(s){var f=s&&s.nodeName&&s.nodeName.toLowerCase();return f&&(f==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||f==="textarea"||s.contentEditable==="true")}var Se=Jn&&"documentMode"in document&&11>=document.documentMode,Ie=null,Pe=null,Be=null,Ze=!1;function ct(s,f,v){var S=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;Ze||Ie==null||Ie!==Oa(S)||(S=Ie,"selectionStart"in S&&le(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),Be&&O(Be,S)||(Be=S,S=Im(Pe,"onSelect"),0<S.length&&(f=new Mr("onSelect","select",null,f,v),s.push({event:f,listeners:S}),f.target=Ie)))}function ut(s,f){var v={};return v[s.toLowerCase()]=f.toLowerCase(),v["Webkit"+s]="webkit"+f,v["Moz"+s]="moz"+f,v}var ot={animationend:ut("Animation","AnimationEnd"),animationiteration:ut("Animation","AnimationIteration"),animationstart:ut("Animation","AnimationStart"),transitionrun:ut("Transition","TransitionRun"),transitionstart:ut("Transition","TransitionStart"),transitioncancel:ut("Transition","TransitionCancel"),transitionend:ut("Transition","TransitionEnd")},rn={},mn={};Jn&&(mn=document.createElement("div").style,"AnimationEvent"in window||(delete ot.animationend.animation,delete ot.animationiteration.animation,delete ot.animationstart.animation),"TransitionEvent"in window||delete ot.transitionend.transition);function qr(s){if(rn[s])return rn[s];if(!ot[s])return s;var f=ot[s],v;for(v in f)if(f.hasOwnProperty(v)&&v in mn)return rn[s]=f[v];return s}var sa=qr("animationend"),Bi=qr("animationiteration"),gr=qr("animationstart"),Fi=qr("transitionrun"),Ka=qr("transitionstart"),Pl=qr("transitioncancel"),fl=qr("transitionend"),Gf=new Map,Rl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rl.push("scrollEnd");function po(s,f){Gf.set(s,f),rr(f,[s])}var $f=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Zs=[],Kc=0,Kd=0;function Wf(){for(var s=Kc,f=Kd=Kc=0;f<s;){var v=Zs[f];Zs[f++]=null;var S=Zs[f];Zs[f++]=null;var j=Zs[f];Zs[f++]=null;var P=Zs[f];if(Zs[f++]=null,S!==null&&j!==null){var X=S.pending;X===null?j.next=j:(j.next=X.next,X.next=j),S.pending=j}P!==0&&Yf(v,j,P)}}function Vf(s,f,v,S){Zs[Kc++]=s,Zs[Kc++]=f,Zs[Kc++]=v,Zs[Kc++]=S,Kd|=S,s.lanes|=S,s=s.alternate,s!==null&&(s.lanes|=S)}function Zd(s,f,v,S){return Vf(s,f,v,S),Za(s)}function Dl(s,f){return Vf(s,null,null,f),Za(s)}function Yf(s,f,v){s.lanes|=v;var S=s.alternate;S!==null&&(S.lanes|=v);for(var j=!1,P=s.return;P!==null;)P.childLanes|=v,S=P.alternate,S!==null&&(S.childLanes|=v),P.tag===22&&(s=P.stateNode,s===null||s._visibility&1||(j=!0)),s=P,P=P.return;return s.tag===3?(P=s.stateNode,j&&f!==null&&(j=31-Ft(v),s=P.hiddenUpdates,S=s[j],S===null?s[j]=[f]:S.push(f),f.lane=v|536870912),P):null}function Za(s){if(50<s1)throw s1=0,Ib=null,Error(r(185));for(var f=s.return;f!==null;)s=f,f=s.return;return s.tag===3?s.stateNode:null}var Ia={};function Qd(s,f,v,S){this.tag=s,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qa(s,f,v,S){return new Qd(s,f,v,S)}function Jd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function mo(s,f){var v=s.alternate;return v===null?(v=Qa(s.tag,f,s.key,s.mode),v.elementType=s.elementType,v.type=s.type,v.stateNode=s.stateNode,v.alternate=s,s.alternate=v):(v.pendingProps=f,v.type=s.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=s.flags&65011712,v.childLanes=s.childLanes,v.lanes=s.lanes,v.child=s.child,v.memoizedProps=s.memoizedProps,v.memoizedState=s.memoizedState,v.updateQueue=s.updateQueue,f=s.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=s.sibling,v.index=s.index,v.ref=s.ref,v.refCleanup=s.refCleanup,v}function Xf(s,f){s.flags&=65011714;var v=s.alternate;return v===null?(s.childLanes=0,s.lanes=f,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=v.childLanes,s.lanes=v.lanes,s.child=v.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=v.memoizedProps,s.memoizedState=v.memoizedState,s.updateQueue=v.updateQueue,s.type=v.type,f=v.dependencies,s.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),s}function Vu(s,f,v,S,j,P){var X=0;if(S=s,typeof s=="function")Jd(s)&&(X=1);else if(typeof s=="string")X=mF(s,v,me.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case q:return s=Qa(31,v,f,j),s.elementType=q,s.lanes=P,s;case E:return dc(v.children,j,P,f);case T:X=8,j|=24;break;case I:return s=Qa(12,v,f,j|2),s.elementType=I,s.lanes=P,s;case Z:return s=Qa(13,v,f,j),s.elementType=Z,s.lanes=P,s;case Q:return s=Qa(19,v,f,j),s.elementType=Q,s.lanes=P,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:X=10;break e;case D:X=9;break e;case U:X=11;break e;case Y:X=14;break e;case J:X=16,S=null;break e}X=29,v=Error(r(130,s===null?"null":typeof s,"")),S=null}return f=Qa(X,v,f,j),f.elementType=s,f.type=S,f.lanes=P,f}function dc(s,f,v,S){return s=Qa(7,s,S,f),s.lanes=v,s}function Kf(s,f,v){return s=Qa(6,s,null,f),s.lanes=v,s}function eh(s){var f=Qa(18,null,null,0);return f.stateNode=s,f}function Yu(s,f,v){return f=Qa(4,s.children!==null?s.children:[],s.key,f),f.lanes=v,f.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},f}var th=new WeakMap;function go(s,f){if(typeof s=="object"&&s!==null){var v=th.get(s);return v!==void 0?v:(f={value:s,source:f,stack:_t(f)},th.set(s,f),f)}return{value:s,source:f,stack:_t(f)}}var Xu=[],Zc=0,nh=null,Zf=0,vo=[],yo=0,hc=null,bo=1,xo="";function Qs(s,f){Xu[Zc++]=Zf,Xu[Zc++]=nh,nh=s,Zf=f}function nm(s,f,v){vo[yo++]=bo,vo[yo++]=xo,vo[yo++]=hc,hc=s;var S=bo;s=xo;var j=32-Ft(S)-1;S&=~(1<<j),v+=1;var P=32-Ft(f)+j;if(30<P){var X=j-j%5;P=(S&(1<<X)-1).toString(32),S>>=X,j-=X,bo=1<<32-Ft(f)+j|v<<j|S,xo=P+s}else bo=1<<P|v<<j|S,xo=s}function F0(s){s.return!==null&&(Qs(s,1),nm(s,1,0))}function rh(s){for(;s===nh;)nh=Xu[--Zc],Xu[Zc]=null,Zf=Xu[--Zc],Xu[Zc]=null;for(;s===hc;)hc=vo[--yo],vo[yo]=null,xo=vo[--yo],vo[yo]=null,bo=vo[--yo],vo[yo]=null}function rm(s,f){vo[yo++]=bo,vo[yo++]=xo,vo[yo++]=hc,bo=f.id,xo=f.overflow,hc=s}var ja=null,Zr=null,er=!1,ps=null,wi=!1,Uo=Error(r(519));function pc(s){var f=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ku(go(f,s)),Uo}function U0(s){var f=s.stateNode,v=s.type,S=s.memoizedProps;switch(f[pr]=s,f[Gn]=S,v){case"dialog":nr("cancel",f),nr("close",f);break;case"iframe":case"object":case"embed":nr("load",f);break;case"video":case"audio":for(v=0;v<l1.length;v++)nr(l1[v],f);break;case"source":nr("error",f);break;case"img":case"image":case"link":nr("error",f),nr("load",f);break;case"details":nr("toggle",f);break;case"input":nr("invalid",f),$e(f,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0);break;case"select":nr("invalid",f);break;case"textarea":nr("invalid",f),ma(f,S.value,S.defaultValue,S.children)}v=S.children,typeof v!="string"&&typeof v!="number"&&typeof v!="bigint"||f.textContent===""+v||S.suppressHydrationWarning===!0||xE(f.textContent,v)?(S.popover!=null&&(nr("beforetoggle",f),nr("toggle",f)),S.onScroll!=null&&nr("scroll",f),S.onScrollEnd!=null&&nr("scrollend",f),S.onClick!=null&&(f.onclick=Ga),f=!0):f=!1,f||pc(s,!0)}function Ll(s){for(ja=s.return;ja;)switch(ja.tag){case 5:case 31:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:ja=ja.return}}function ka(s){if(s!==ja)return!1;if(!er)return Ll(s),er=!0,!1;var f=s.tag,v;if((v=f!==3&&f!==27)&&((v=f===5)&&(v=s.type,v=!(v!=="form"&&v!=="button")||$b(s.type,s.memoizedProps)),v=!v),v&&Zr&&pc(s),Ll(s),f===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Zr=TE(s)}else if(f===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Zr=TE(s)}else f===27?(f=Zr,ff(s.type)?(s=Kb,Kb=null,Zr=s):Zr=f):Zr=ja?ml(s.stateNode.nextSibling):null;return!0}function Qc(){Zr=ja=null,er=!1}function z0(){var s=ps;return s!==null&&(Co===null?Co=s:Co.push.apply(Co,s),ps=null),s}function Ku(s){ps===null?ps=[s]:ps.push(s)}var ih=ue(null),mc=null,dl=null;function gc(s,f,v){he(ih,f._currentValue),f._currentValue=v}function wo(s){s._currentValue=ih.current,V(ih)}function Zu(s,f,v){for(;s!==null;){var S=s.alternate;if((s.childLanes&f)!==f?(s.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),s===v)break;s=s.return}}function Jc(s,f,v,S){var j=s.child;for(j!==null&&(j.return=s);j!==null;){var P=j.dependencies;if(P!==null){var X=j.child;P=P.firstContext;e:for(;P!==null;){var pe=P;P=j;for(var je=0;je<f.length;je++)if(pe.context===f[je]){P.lanes|=v,pe=P.alternate,pe!==null&&(pe.lanes|=v),Zu(P.return,v,s),S||(X=null);break e}P=pe.next}}else if(j.tag===18){if(X=j.return,X===null)throw Error(r(341));X.lanes|=v,P=X.alternate,P!==null&&(P.lanes|=v),Zu(X,v,s),X=null}else X=j.child;if(X!==null)X.return=j;else for(X=j;X!==null;){if(X===s){X=null;break}if(j=X.sibling,j!==null){j.return=X.return,X=j;break}X=X.return}j=X}}function vc(s,f,v,S){s=null;for(var j=f,P=!1;j!==null;){if(!P){if((j.flags&524288)!==0)P=!0;else if((j.flags&262144)!==0)break}if(j.tag===10){var X=j.alternate;if(X===null)throw Error(r(387));if(X=X.memoizedProps,X!==null){var pe=j.type;A(j.pendingProps.value,X.value)||(s!==null?s.push(pe):s=[pe])}}else if(j===Me.current){if(X=j.alternate,X===null)throw Error(r(387));X.memoizedState.memoizedState!==j.memoizedState.memoizedState&&(s!==null?s.push(h1):s=[h1])}j=j.return}s!==null&&Jc(f,s,v,S),f.flags|=262144}function ah(s){for(s=s.firstContext;s!==null;){if(!A(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function yc(s){mc=s,dl=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ma(s){return im(mc,s)}function sh(s,f){return mc===null&&yc(s),im(s,f)}function im(s,f){var v=f._currentValue;if(f={context:f,memoizedValue:v,next:null},dl===null){if(s===null)throw Error(r(308));dl=f,s.dependencies={lanes:0,firstContext:f},s.flags|=524288}else dl=dl.next=f;return v}var Xy=typeof AbortController<"u"?AbortController:function(){var s=[],f=this.signal={aborted:!1,addEventListener:function(v,S){s.push(S)}};this.abort=function(){f.aborted=!0,s.forEach(function(v){return v()})}},Ky=e.unstable_scheduleCallback,Zy=e.unstable_NormalPriority,ji={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qu(){return{controller:new Xy,data:new Map,refCount:0}}function Qf(s){s.refCount--,s.refCount===0&&Ky(Zy,function(){s.controller.abort()})}var Jf=null,oh=0,N=0,k=null;function z(s,f){if(Jf===null){var v=Jf=[];oh=0,N=Db(),k={status:"pending",value:void 0,then:function(S){v.push(S)}}}return oh++,f.then(W,W),f}function W(){if(--oh===0&&Jf!==null){k!==null&&(k.status="fulfilled");var s=Jf;Jf=null,N=0,k=null;for(var f=0;f<s.length;f++)(0,s[f])()}}function se(s,f){var v=[],S={status:"pending",value:null,reason:null,then:function(j){v.push(j)}};return s.then(function(){S.status="fulfilled",S.value=f;for(var j=0;j<v.length;j++)(0,v[j])(f)},function(j){for(S.status="rejected",S.reason=j,j=0;j<v.length;j++)(0,v[j])(void 0)}),S}var ce=ie.S;ie.S=function(s,f){G4=yn(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&z(s,f),ce!==null&&ce(s,f)};var de=ue(null);function ge(){var s=de.current;return s!==null?s:Jr.pooledCache}function be(s,f){f===null?he(de,de.current):he(de,f.pool)}function Ne(){var s=ge();return s===null?null:{parent:ji._currentValue,pool:s}}var Re=Error(r(460)),Ve=Error(r(474)),Ee=Error(r(542)),Le={then:function(){}};function He(s){return s=s.status,s==="fulfilled"||s==="rejected"}function st(s,f,v){switch(v=s[v],v===void 0?s.push(f):v!==f&&(f.then(Ga,Ga),f=v),f.status){case"fulfilled":return f.value;case"rejected":throw s=f.reason,xt(s),s;default:if(typeof f.status=="string")f.then(Ga,Ga);else{if(s=Jr,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=f,s.status="pending",s.then(function(S){if(f.status==="pending"){var j=f;j.status="fulfilled",j.value=S}},function(S){if(f.status==="pending"){var j=f;j.status="rejected",j.reason=S}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw s=f.reason,xt(s),s}throw it=f,Re}}function We(s){try{var f=s._init;return f(s._payload)}catch(v){throw v!==null&&typeof v=="object"&&typeof v.then=="function"?(it=v,Re):v}}var it=null;function ht(){if(it===null)throw Error(r(459));var s=it;return it=null,s}function xt(s){if(s===Re||s===Ee)throw Error(r(483))}var vt=null,Gt=0;function kt(s){var f=Gt;return Gt+=1,vt===null&&(vt=[]),st(vt,s,f)}function kn(s,f){f=f.props.ref,s.ref=f!==void 0?f:null}function Ut(s,f){throw f.$$typeof===x?Error(r(525)):(s=Object.prototype.toString.call(f),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":s)))}function Qn(s){function f(Ue,De){if(s){var Ye=Ue.deletions;Ye===null?(Ue.deletions=[De],Ue.flags|=16):Ye.push(De)}}function v(Ue,De){if(!s)return null;for(;De!==null;)f(Ue,De),De=De.sibling;return null}function S(Ue){for(var De=new Map;Ue!==null;)Ue.key!==null?De.set(Ue.key,Ue):De.set(Ue.index,Ue),Ue=Ue.sibling;return De}function j(Ue,De){return Ue=mo(Ue,De),Ue.index=0,Ue.sibling=null,Ue}function P(Ue,De,Ye){return Ue.index=Ye,s?(Ye=Ue.alternate,Ye!==null?(Ye=Ye.index,Ye<De?(Ue.flags|=67108866,De):Ye):(Ue.flags|=67108866,De)):(Ue.flags|=1048576,De)}function X(Ue){return s&&Ue.alternate===null&&(Ue.flags|=67108866),Ue}function pe(Ue,De,Ye,pt){return De===null||De.tag!==6?(De=Kf(Ye,Ue.mode,pt),De.return=Ue,De):(De=j(De,Ye),De.return=Ue,De)}function je(Ue,De,Ye,pt){var vn=Ye.type;return vn===E?ft(Ue,De,Ye.props.children,pt,Ye.key):De!==null&&(De.elementType===vn||typeof vn=="object"&&vn!==null&&vn.$$typeof===J&&We(vn)===De.type)?(De=j(De,Ye.props),kn(De,Ye),De.return=Ue,De):(De=Vu(Ye.type,Ye.key,Ye.props,null,Ue.mode,pt),kn(De,Ye),De.return=Ue,De)}function Xe(Ue,De,Ye,pt){return De===null||De.tag!==4||De.stateNode.containerInfo!==Ye.containerInfo||De.stateNode.implementation!==Ye.implementation?(De=Yu(Ye,Ue.mode,pt),De.return=Ue,De):(De=j(De,Ye.children||[]),De.return=Ue,De)}function ft(Ue,De,Ye,pt,vn){return De===null||De.tag!==7?(De=dc(Ye,Ue.mode,pt,vn),De.return=Ue,De):(De=j(De,Ye),De.return=Ue,De)}function mt(Ue,De,Ye){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return De=Kf(""+De,Ue.mode,Ye),De.return=Ue,De;if(typeof De=="object"&&De!==null){switch(De.$$typeof){case y:return Ye=Vu(De.type,De.key,De.props,null,Ue.mode,Ye),kn(Ye,De),Ye.return=Ue,Ye;case C:return De=Yu(De,Ue.mode,Ye),De.return=Ue,De;case J:return De=We(De),mt(Ue,De,Ye)}if(ae(De)||G(De))return De=dc(De,Ue.mode,Ye,null),De.return=Ue,De;if(typeof De.then=="function")return mt(Ue,kt(De),Ye);if(De.$$typeof===F)return mt(Ue,sh(Ue,De),Ye);Ut(Ue,De)}return null}function Qe(Ue,De,Ye,pt){var vn=De!==null?De.key:null;if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return vn!==null?null:pe(Ue,De,""+Ye,pt);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case y:return Ye.key===vn?je(Ue,De,Ye,pt):null;case C:return Ye.key===vn?Xe(Ue,De,Ye,pt):null;case J:return Ye=We(Ye),Qe(Ue,De,Ye,pt)}if(ae(Ye)||G(Ye))return vn!==null?null:ft(Ue,De,Ye,pt,null);if(typeof Ye.then=="function")return Qe(Ue,De,kt(Ye),pt);if(Ye.$$typeof===F)return Qe(Ue,De,sh(Ue,Ye),pt);Ut(Ue,Ye)}return null}function tt(Ue,De,Ye,pt,vn){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return Ue=Ue.get(Ye)||null,pe(De,Ue,""+pt,vn);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case y:return Ue=Ue.get(pt.key===null?Ye:pt.key)||null,je(De,Ue,pt,vn);case C:return Ue=Ue.get(pt.key===null?Ye:pt.key)||null,Xe(De,Ue,pt,vn);case J:return pt=We(pt),tt(Ue,De,Ye,pt,vn)}if(ae(pt)||G(pt))return Ue=Ue.get(Ye)||null,ft(De,Ue,pt,vn,null);if(typeof pt.then=="function")return tt(Ue,De,Ye,kt(pt),vn);if(pt.$$typeof===F)return tt(Ue,De,Ye,sh(De,pt),vn);Ut(De,pt)}return null}function qt(Ue,De,Ye,pt){for(var vn=null,br=null,Qt=De,Hn=De=0,sr=null;Qt!==null&&Hn<Ye.length;Hn++){Qt.index>Hn?(sr=Qt,Qt=null):sr=Qt.sibling;var xr=Qe(Ue,Qt,Ye[Hn],pt);if(xr===null){Qt===null&&(Qt=sr);break}s&&Qt&&xr.alternate===null&&f(Ue,Qt),De=P(xr,De,Hn),br===null?vn=xr:br.sibling=xr,br=xr,Qt=sr}if(Hn===Ye.length)return v(Ue,Qt),er&&Qs(Ue,Hn),vn;if(Qt===null){for(;Hn<Ye.length;Hn++)Qt=mt(Ue,Ye[Hn],pt),Qt!==null&&(De=P(Qt,De,Hn),br===null?vn=Qt:br.sibling=Qt,br=Qt);return er&&Qs(Ue,Hn),vn}for(Qt=S(Qt);Hn<Ye.length;Hn++)sr=tt(Qt,Ue,Hn,Ye[Hn],pt),sr!==null&&(s&&sr.alternate!==null&&Qt.delete(sr.key===null?Hn:sr.key),De=P(sr,De,Hn),br===null?vn=sr:br.sibling=sr,br=sr);return s&&Qt.forEach(function(gf){return f(Ue,gf)}),er&&Qs(Ue,Hn),vn}function En(Ue,De,Ye,pt){if(Ye==null)throw Error(r(151));for(var vn=null,br=null,Qt=De,Hn=De=0,sr=null,xr=Ye.next();Qt!==null&&!xr.done;Hn++,xr=Ye.next()){Qt.index>Hn?(sr=Qt,Qt=null):sr=Qt.sibling;var gf=Qe(Ue,Qt,xr.value,pt);if(gf===null){Qt===null&&(Qt=sr);break}s&&Qt&&gf.alternate===null&&f(Ue,Qt),De=P(gf,De,Hn),br===null?vn=gf:br.sibling=gf,br=gf,Qt=sr}if(xr.done)return v(Ue,Qt),er&&Qs(Ue,Hn),vn;if(Qt===null){for(;!xr.done;Hn++,xr=Ye.next())xr=mt(Ue,xr.value,pt),xr!==null&&(De=P(xr,De,Hn),br===null?vn=xr:br.sibling=xr,br=xr);return er&&Qs(Ue,Hn),vn}for(Qt=S(Qt);!xr.done;Hn++,xr=Ye.next())xr=tt(Qt,Ue,Hn,xr.value,pt),xr!==null&&(s&&xr.alternate!==null&&Qt.delete(xr.key===null?Hn:xr.key),De=P(xr,De,Hn),br===null?vn=xr:br.sibling=xr,br=xr);return s&&Qt.forEach(function(CF){return f(Ue,CF)}),er&&Qs(Ue,Hn),vn}function Wr(Ue,De,Ye,pt){if(typeof Ye=="object"&&Ye!==null&&Ye.type===E&&Ye.key===null&&(Ye=Ye.props.children),typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case y:e:{for(var vn=Ye.key;De!==null;){if(De.key===vn){if(vn=Ye.type,vn===E){if(De.tag===7){v(Ue,De.sibling),pt=j(De,Ye.props.children),pt.return=Ue,Ue=pt;break e}}else if(De.elementType===vn||typeof vn=="object"&&vn!==null&&vn.$$typeof===J&&We(vn)===De.type){v(Ue,De.sibling),pt=j(De,Ye.props),kn(pt,Ye),pt.return=Ue,Ue=pt;break e}v(Ue,De);break}else f(Ue,De);De=De.sibling}Ye.type===E?(pt=dc(Ye.props.children,Ue.mode,pt,Ye.key),pt.return=Ue,Ue=pt):(pt=Vu(Ye.type,Ye.key,Ye.props,null,Ue.mode,pt),kn(pt,Ye),pt.return=Ue,Ue=pt)}return X(Ue);case C:e:{for(vn=Ye.key;De!==null;){if(De.key===vn)if(De.tag===4&&De.stateNode.containerInfo===Ye.containerInfo&&De.stateNode.implementation===Ye.implementation){v(Ue,De.sibling),pt=j(De,Ye.children||[]),pt.return=Ue,Ue=pt;break e}else{v(Ue,De);break}else f(Ue,De);De=De.sibling}pt=Yu(Ye,Ue.mode,pt),pt.return=Ue,Ue=pt}return X(Ue);case J:return Ye=We(Ye),Wr(Ue,De,Ye,pt)}if(ae(Ye))return qt(Ue,De,Ye,pt);if(G(Ye)){if(vn=G(Ye),typeof vn!="function")throw Error(r(150));return Ye=vn.call(Ye),En(Ue,De,Ye,pt)}if(typeof Ye.then=="function")return Wr(Ue,De,kt(Ye),pt);if(Ye.$$typeof===F)return Wr(Ue,De,sh(Ue,Ye),pt);Ut(Ue,Ye)}return typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint"?(Ye=""+Ye,De!==null&&De.tag===6?(v(Ue,De.sibling),pt=j(De,Ye),pt.return=Ue,Ue=pt):(v(Ue,De),pt=Kf(Ye,Ue.mode,pt),pt.return=Ue,Ue=pt),X(Ue)):v(Ue,De)}return function(Ue,De,Ye,pt){try{Gt=0;var vn=Wr(Ue,De,Ye,pt);return vt=null,vn}catch(Qt){if(Qt===Re||Qt===Ee)throw Qt;var br=Qa(29,Qt,null,Ue.mode);return br.lanes=pt,br.return=Ue,br}finally{}}}var Qr=Qn(!0),Rn=Qn(!1),Mt=!1;function St(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hi(s,f){s=s.updateQueue,f.updateQueue===s&&(f.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function wn(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Bn(s,f,v){var S=s.updateQueue;if(S===null)return null;if(S=S.shared,(Er&2)!==0){var j=S.pending;return j===null?f.next=f:(f.next=j.next,j.next=f),S.pending=f,f=Za(s),Yf(s,null,v),f}return Vf(s,S,f,v),Za(s)}function Sr(s,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194048)!==0)){var S=f.lanes;S&=s.pendingLanes,v|=S,f.lanes=v,Ti(s,v)}}function oa(s,f){var v=s.updateQueue,S=s.alternate;if(S!==null&&(S=S.updateQueue,v===S)){var j=null,P=null;if(v=v.firstBaseUpdate,v!==null){do{var X={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};P===null?j=P=X:P=P.next=X,v=v.next}while(v!==null);P===null?j=P=f:P=P.next=f}else j=P=f;v={baseState:S.baseState,firstBaseUpdate:j,lastBaseUpdate:P,shared:S.shared,callbacks:S.callbacks},s.updateQueue=v;return}s=v.lastBaseUpdate,s===null?v.firstBaseUpdate=f:s.next=f,v.lastBaseUpdate=f}var Pa=!1;function Hr(){if(Pa){var s=k;if(s!==null)throw s}}function Ui(s,f,v,S){Pa=!1;var j=s.updateQueue;Mt=!1;var P=j.firstBaseUpdate,X=j.lastBaseUpdate,pe=j.shared.pending;if(pe!==null){j.shared.pending=null;var je=pe,Xe=je.next;je.next=null,X===null?P=Xe:X.next=Xe,X=je;var ft=s.alternate;ft!==null&&(ft=ft.updateQueue,pe=ft.lastBaseUpdate,pe!==X&&(pe===null?ft.firstBaseUpdate=Xe:pe.next=Xe,ft.lastBaseUpdate=je))}if(P!==null){var mt=j.baseState;X=0,ft=Xe=je=null,pe=P;do{var Qe=pe.lane&-536870913,tt=Qe!==pe.lane;if(tt?(ar&Qe)===Qe:(S&Qe)===Qe){Qe!==0&&Qe===N&&(Pa=!0),ft!==null&&(ft=ft.next={lane:0,tag:pe.tag,payload:pe.payload,callback:null,next:null});e:{var qt=s,En=pe;Qe=f;var Wr=v;switch(En.tag){case 1:if(qt=En.payload,typeof qt=="function"){mt=qt.call(Wr,mt,Qe);break e}mt=qt;break e;case 3:qt.flags=qt.flags&-65537|128;case 0:if(qt=En.payload,Qe=typeof qt=="function"?qt.call(Wr,mt,Qe):qt,Qe==null)break e;mt=g({},mt,Qe);break e;case 2:Mt=!0}}Qe=pe.callback,Qe!==null&&(s.flags|=64,tt&&(s.flags|=8192),tt=j.callbacks,tt===null?j.callbacks=[Qe]:tt.push(Qe))}else tt={lane:Qe,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},ft===null?(Xe=ft=tt,je=mt):ft=ft.next=tt,X|=Qe;if(pe=pe.next,pe===null){if(pe=j.shared.pending,pe===null)break;tt=pe,pe=tt.next,tt.next=null,j.lastBaseUpdate=tt,j.shared.pending=null}}while(!0);ft===null&&(je=mt),j.baseState=je,j.firstBaseUpdate=Xe,j.lastBaseUpdate=ft,P===null&&(j.shared.lanes=0),sf|=X,s.lanes=X,s.memoizedState=mt}}function Ja(s,f){if(typeof s!="function")throw Error(r(191,s));s.call(f)}function zi(s,f){var v=s.callbacks;if(v!==null)for(s.callbacks=null,s=0;s<v.length;s++)Ja(v[s],f)}var Wn=ue(null),ur=ue(0);function pi(s,f){s=cu,he(ur,s),he(Wn,f),cu=s|f.baseLanes}function vr(){he(ur,cu),he(Wn,Wn.current)}function la(){cu=ur.current,V(Wn),V(ur)}var mi=ue(null),fr=null;function ki(s){var f=s.alternate;he(or,or.current&1),he(mi,s),fr===null&&(f===null||Wn.current!==null||f.memoizedState!==null)&&(fr=s)}function Ar(s){he(or,or.current),he(mi,s),fr===null&&(fr=s)}function qi(s){s.tag===22?(he(or,or.current),he(mi,s),fr===null&&(fr=s)):Hi()}function Hi(){he(or,or.current),he(mi,mi.current)}function Pr(s){V(mi),fr===s&&(fr=null),V(or)}var or=ue(0);function es(s){for(var f=s;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||Yb(v)||Xb(v)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var _i=0,hn=null,gn=null,dr=null,ks=!1,_o=!1,ms=!1,Gi=0,bc=0,xc=null,lh=0;function Gr(){throw Error(r(321))}function q0(s,f){if(f===null)return!1;for(var v=0;v<f.length&&v<s.length;v++)if(!A(s[v],f[v]))return!1;return!0}function H0(s,f,v,S,j,P){return _i=P,hn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,ie.H=s===null||s.memoizedState===null?t4:ab,ms=!1,P=v(S,j),ms=!1,_o&&(P=Bl(f,v,S,j)),ch(s),P}function ch(s){ie.H=Z0;var f=gn!==null&&gn.next!==null;if(_i=0,dr=gn=hn=null,ks=!1,bc=0,xc=null,f)throw Error(r(300));s===null||ba||(s=s.dependencies,s!==null&&ah(s)&&(ba=!0))}function Bl(s,f,v,S){hn=s;var j=0;do{if(_o&&(xc=null),bc=0,_o=!1,25<=j)throw Error(r(301));if(j+=1,dr=gn=null,s.updateQueue!=null){var P=s.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}ie.H=n4,P=f(v,S)}while(_o);return P}function Qy(){var s=ie.H,f=s.useState()[0];return f=typeof f.then=="function"?wc(f):f,s=s.useState()[0],(gn!==null?gn.memoizedState:null)!==s&&(hn.flags|=1024),f}function G0(){var s=Gi!==0;return Gi=0,s}function $0(s,f,v){f.updateQueue=s.updateQueue,f.flags&=-2053,s.lanes&=~v}function uh(s){if(ks){for(s=s.memoizedState;s!==null;){var f=s.queue;f!==null&&(f.pending=null),s=s.next}ks=!1}_i=0,dr=gn=hn=null,_o=!1,bc=Gi=0,xc=null}function ya(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?hn.memoizedState=dr=s:dr=dr.next=s,dr}function Si(){if(gn===null){var s=hn.alternate;s=s!==null?s.memoizedState:null}else s=gn.next;var f=dr===null?hn.memoizedState:dr.next;if(f!==null)dr=f,gn=s;else{if(s===null)throw hn.alternate===null?Error(r(467)):Error(r(310));gn=s,s={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},dr===null?hn.memoizedState=dr=s:dr=dr.next=s}return dr}function ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wc(s){var f=bc;return bc+=1,xc===null&&(xc=[]),s=st(xc,s,f),f=hn,(dr===null?f.memoizedState:dr.next)===null&&(f=f.alternate,ie.H=f===null||f.memoizedState===null?t4:ab),s}function Ju(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return wc(s);if(s.$$typeof===F)return Ma(s)}throw Error(r(438,String(s)))}function eu(s){var f=null,v=hn.updateQueue;if(v!==null&&(f=v.memoCache),f==null){var S=hn.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(f={data:S.data.map(function(j){return j.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),v===null&&(v=ed(),hn.updateQueue=v),v.memoCache=f,v=f.data[f.index],v===void 0)for(v=f.data[f.index]=Array(s),S=0;S<s;S++)v[S]=oe;return f.index++,v}function hl(s,f){return typeof f=="function"?f(s):f}function fh(s){var f=Si();return ef(f,gn,s)}function ef(s,f,v){var S=s.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=v;var j=s.baseQueue,P=S.pending;if(P!==null){if(j!==null){var X=j.next;j.next=P.next,P.next=X}f.baseQueue=j=P,S.pending=null}if(P=s.baseState,j===null)s.memoizedState=P;else{f=j.next;var pe=X=null,je=null,Xe=f,ft=!1;do{var mt=Xe.lane&-536870913;if(mt!==Xe.lane?(ar&mt)===mt:(_i&mt)===mt){var Qe=Xe.revertLane;if(Qe===0)je!==null&&(je=je.next={lane:0,revertLane:0,gesture:null,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),mt===N&&(ft=!0);else if((_i&Qe)===Qe){Xe=Xe.next,Qe===N&&(ft=!0);continue}else mt={lane:0,revertLane:Xe.revertLane,gesture:null,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},je===null?(pe=je=mt,X=P):je=je.next=mt,hn.lanes|=Qe,sf|=Qe;mt=Xe.action,ms&&v(P,mt),P=Xe.hasEagerState?Xe.eagerState:v(P,mt)}else Qe={lane:mt,revertLane:Xe.revertLane,gesture:Xe.gesture,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},je===null?(pe=je=Qe,X=P):je=je.next=Qe,hn.lanes|=mt,sf|=mt;Xe=Xe.next}while(Xe!==null&&Xe!==f);if(je===null?X=P:je.next=pe,!A(P,s.memoizedState)&&(ba=!0,ft&&(v=k,v!==null)))throw v;s.memoizedState=P,s.baseState=X,s.baseQueue=je,S.lastRenderedState=P}return j===null&&(S.lanes=0),[s.memoizedState,S.dispatch]}function dh(s){var f=Si(),v=f.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=s;var S=v.dispatch,j=v.pending,P=f.memoizedState;if(j!==null){v.pending=null;var X=j=j.next;do P=s(P,X.action),X=X.next;while(X!==j);A(P,f.memoizedState)||(ba=!0),f.memoizedState=P,f.baseQueue===null&&(f.baseState=P),v.lastRenderedState=P}return[P,S]}function hh(s,f,v){var S=hn,j=Si(),P=er;if(P){if(v===void 0)throw Error(r(407));v=v()}else v=f();var X=!A((gn||j).memoizedState,v);if(X&&(j.memoizedState=v,ba=!0),j=j.queue,Jy(V0.bind(null,S,j,s),[s]),j.getSnapshot!==f||X||dr!==null&&dr.memoizedState.tag&1){if(S.flags|=2048,nu(9,{destroy:void 0},W0.bind(null,S,j,v,f),null),Jr===null)throw Error(r(349));P||(_i&127)!==0||Fl(S,f,v)}return v}function Fl(s,f,v){s.flags|=16384,s={getSnapshot:f,value:v},f=hn.updateQueue,f===null?(f=ed(),hn.updateQueue=f,f.stores=[s]):(v=f.stores,v===null?f.stores=[s]:v.push(s))}function W0(s,f,v,S){f.value=v,f.getSnapshot=S,am(f)&&Y0(s)}function V0(s,f,v){return v(function(){am(f)&&Y0(s)})}function am(s){var f=s.getSnapshot;s=s.value;try{var v=f();return!A(s,v)}catch{return!0}}function Y0(s){var f=Dl(s,2);f!==null&&No(f,s,2)}function _c(s){var f=ya();if(typeof s=="function"){var v=s;if(s=v(),ms){Dt(!0);try{v()}finally{Dt(!1)}}}return f.memoizedState=f.baseState=s,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:s},f}function sm(s,f,v,S){return s.baseState=v,ef(s,gn,typeof S=="function"?S:hl)}function om(s,f,v,S,j){if(fm(s))throw Error(r(485));if(s=f.action,s!==null){var P={payload:j,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){P.listeners.push(X)}};ie.T!==null?v(!0):P.isTransition=!1,S(P),v=f.pending,v===null?(P.next=f.pending=P,lm(f,P)):(P.next=v.next,f.pending=v.next=P)}}function lm(s,f){var v=f.action,S=f.payload,j=s.state;if(f.isTransition){var P=ie.T,X={};ie.T=X;try{var pe=v(j,S),je=ie.S;je!==null&&je(X,pe),X0(s,f,pe)}catch(Xe){tu(s,f,Xe)}finally{P!==null&&X.types!==null&&(P.types=X.types),ie.T=P}}else try{P=v(j,S),X0(s,f,P)}catch(Xe){tu(s,f,Xe)}}function X0(s,f,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(S){cm(s,f,S)},function(S){return tu(s,f,S)}):cm(s,f,v)}function cm(s,f,v){f.status="fulfilled",f.value=v,ph(f),s.state=v,f=s.pending,f!==null&&(v=f.next,v===f?s.pending=null:(v=v.next,f.next=v,lm(s,v)))}function tu(s,f,v){var S=s.pending;if(s.pending=null,S!==null){S=S.next;do f.status="rejected",f.reason=v,ph(f),f=f.next;while(f!==S)}s.action=null}function ph(s){s=s.listeners;for(var f=0;f<s.length;f++)(0,s[f])()}function td(s,f){return f}function pl(s,f){if(er){var v=Jr.formState;if(v!==null){e:{var S=hn;if(er){if(Zr){t:{for(var j=Zr,P=wi;j.nodeType!==8;){if(!P){j=null;break t}if(j=ml(j.nextSibling),j===null){j=null;break t}}P=j.data,j=P==="F!"||P==="F"?j:null}if(j){Zr=ml(j.nextSibling),S=j.data==="F!";break e}}pc(S)}S=!1}S&&(f=v[0])}}return v=ya(),v.memoizedState=v.baseState=f,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:td,lastRenderedState:f},v.queue=S,v=QA.bind(null,hn,S),S.dispatch=v,S=_c(!1),P=ib.bind(null,hn,!1,S.queue),S=ya(),j={state:f,dispatch:null,action:s,pending:null},S.queue=j,v=om.bind(null,hn,j,P,v),j.dispatch=v,S.memoizedState=s,[f,v,!1]}function Ul(s){var f=Si();return zl(f,gn,s)}function zl(s,f,v){if(f=ef(s,f,td)[0],s=fh(hl)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var S=wc(f)}catch(X){throw X===Re?Ee:X}else S=f;f=Si();var j=f.queue,P=j.dispatch;return v!==f.memoizedState&&(hn.flags|=2048,nu(9,{destroy:void 0},mh.bind(null,j,v),null)),[S,P,s]}function mh(s,f){s.action=f}function gh(s){var f=Si(),v=gn;if(v!==null)return zl(f,v,s);Si(),f=f.memoizedState,v=Si();var S=v.queue.dispatch;return v.memoizedState=s,[f,S,!1]}function nu(s,f,v,S){return s={tag:s,create:v,deps:S,inst:f,next:null},f=hn.updateQueue,f===null&&(f=ed(),hn.updateQueue=f),v=f.lastEffect,v===null?f.lastEffect=s.next=s:(S=v.next,v.next=s,s.next=S,f.lastEffect=s),s}function um(){return Si().memoizedState}function tf(s,f,v,S){var j=ya();hn.flags|=s,j.memoizedState=nu(1|f,{destroy:void 0},v,S===void 0?null:S)}function nf(s,f,v,S){var j=Si();S=S===void 0?null:S;var P=j.memoizedState.inst;gn!==null&&S!==null&&q0(S,gn.memoizedState.deps)?j.memoizedState=nu(f,P,v,S):(hn.flags|=s,j.memoizedState=nu(1|f,P,v,S))}function BA(s,f){tf(8390656,8,s,f)}function Jy(s,f){nf(2048,8,s,f)}function xB(s){hn.flags|=4;var f=hn.updateQueue;if(f===null)f=ed(),hn.updateQueue=f,f.events=[s];else{var v=f.events;v===null?f.events=[s]:v.push(s)}}function FA(s){var f=Si().memoizedState;return xB({ref:f,nextImpl:s}),function(){if((Er&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}function UA(s,f){return nf(4,2,s,f)}function zA(s,f){return nf(4,4,s,f)}function qA(s,f){if(typeof f=="function"){s=s();var v=f(s);return function(){typeof v=="function"?v():f(null)}}if(f!=null)return s=s(),f.current=s,function(){f.current=null}}function HA(s,f,v){v=v!=null?v.concat([s]):null,nf(4,4,qA.bind(null,f,s),v)}function eb(){}function GA(s,f){var v=Si();f=f===void 0?null:f;var S=v.memoizedState;return f!==null&&q0(f,S[1])?S[0]:(v.memoizedState=[s,f],s)}function $A(s,f){var v=Si();f=f===void 0?null:f;var S=v.memoizedState;if(f!==null&&q0(f,S[1]))return S[0];if(S=s(),ms){Dt(!0);try{s()}finally{Dt(!1)}}return v.memoizedState=[S,f],S}function tb(s,f,v){return v===void 0||(_i&1073741824)!==0&&(ar&261930)===0?s.memoizedState=f:(s.memoizedState=v,s=W4(),hn.lanes|=s,sf|=s,v)}function WA(s,f,v,S){return A(v,f)?v:Wn.current!==null?(s=tb(s,v,S),A(s,f)||(ba=!0),s):(_i&42)===0||(_i&1073741824)!==0&&(ar&261930)===0?(ba=!0,s.memoizedState=v):(s=W4(),hn.lanes|=s,sf|=s,f)}function VA(s,f,v,S,j){var P=K.p;K.p=P!==0&&8>P?P:8;var X=ie.T,pe={};ie.T=pe,ib(s,!1,f,v);try{var je=j(),Xe=ie.S;if(Xe!==null&&Xe(pe,je),je!==null&&typeof je=="object"&&typeof je.then=="function"){var ft=se(je,S);K0(s,f,ft,Ho(s))}else K0(s,f,S,Ho(s))}catch(mt){K0(s,f,{then:function(){},status:"rejected",reason:mt},Ho())}finally{K.p=P,X!==null&&pe.types!==null&&(X.types=pe.types),ie.T=X}}function wB(){}function nb(s,f,v,S){if(s.tag!==5)throw Error(r(476));var j=YA(s).queue;VA(s,j,f,ve,v===null?wB:function(){return XA(s),v(S)})}function YA(s){var f=s.memoizedState;if(f!==null)return f;f={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:ve},next:null};var v={};return f.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:v},next:null},s.memoizedState=f,s=s.alternate,s!==null&&(s.memoizedState=f),f}function XA(s){var f=YA(s);f.next===null&&(f=s.alternate.memoizedState),K0(s,f.next.queue,{},Ho())}function rb(){return Ma(h1)}function KA(){return Si().memoizedState}function ZA(){return Si().memoizedState}function _B(s){for(var f=s.return;f!==null;){switch(f.tag){case 24:case 3:var v=Ho();s=wn(v);var S=Bn(f,s,v);S!==null&&(No(S,f,v),Sr(S,f,v)),f={cache:Qu()},s.payload=f;return}f=f.return}}function SB(s,f,v){var S=Ho();v={lane:S,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},fm(s)?JA(f,v):(v=Zd(s,f,v,S),v!==null&&(No(v,s,S),e4(v,f,S)))}function QA(s,f,v){var S=Ho();K0(s,f,v,S)}function K0(s,f,v,S){var j={lane:S,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null};if(fm(s))JA(f,j);else{var P=s.alternate;if(s.lanes===0&&(P===null||P.lanes===0)&&(P=f.lastRenderedReducer,P!==null))try{var X=f.lastRenderedState,pe=P(X,v);if(j.hasEagerState=!0,j.eagerState=pe,A(pe,X))return Vf(s,f,j,0),Jr===null&&Wf(),!1}catch{}finally{}if(v=Zd(s,f,j,S),v!==null)return No(v,s,S),e4(v,f,S),!0}return!1}function ib(s,f,v,S){if(S={lane:2,revertLane:Db(),gesture:null,action:S,hasEagerState:!1,eagerState:null,next:null},fm(s)){if(f)throw Error(r(479))}else f=Zd(s,v,S,2),f!==null&&No(f,s,2)}function fm(s){var f=s.alternate;return s===hn||f!==null&&f===hn}function JA(s,f){_o=ks=!0;var v=s.pending;v===null?f.next=f:(f.next=v.next,v.next=f),s.pending=f}function e4(s,f,v){if((v&4194048)!==0){var S=f.lanes;S&=s.pendingLanes,v|=S,f.lanes=v,Ti(s,v)}}var Z0={readContext:Ma,use:Ju,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useLayoutEffect:Gr,useInsertionEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useSyncExternalStore:Gr,useId:Gr,useHostTransitionStatus:Gr,useFormState:Gr,useActionState:Gr,useOptimistic:Gr,useMemoCache:Gr,useCacheRefresh:Gr};Z0.useEffectEvent=Gr;var t4={readContext:Ma,use:Ju,useCallback:function(s,f){return ya().memoizedState=[s,f===void 0?null:f],s},useContext:Ma,useEffect:BA,useImperativeHandle:function(s,f,v){v=v!=null?v.concat([s]):null,tf(4194308,4,qA.bind(null,f,s),v)},useLayoutEffect:function(s,f){return tf(4194308,4,s,f)},useInsertionEffect:function(s,f){tf(4,2,s,f)},useMemo:function(s,f){var v=ya();f=f===void 0?null:f;var S=s();if(ms){Dt(!0);try{s()}finally{Dt(!1)}}return v.memoizedState=[S,f],S},useReducer:function(s,f,v){var S=ya();if(v!==void 0){var j=v(f);if(ms){Dt(!0);try{v(f)}finally{Dt(!1)}}}else j=f;return S.memoizedState=S.baseState=j,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:j},S.queue=s,s=s.dispatch=SB.bind(null,hn,s),[S.memoizedState,s]},useRef:function(s){var f=ya();return s={current:s},f.memoizedState=s},useState:function(s){s=_c(s);var f=s.queue,v=QA.bind(null,hn,f);return f.dispatch=v,[s.memoizedState,v]},useDebugValue:eb,useDeferredValue:function(s,f){var v=ya();return tb(v,s,f)},useTransition:function(){var s=_c(!1);return s=VA.bind(null,hn,s.queue,!0,!1),ya().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,f,v){var S=hn,j=ya();if(er){if(v===void 0)throw Error(r(407));v=v()}else{if(v=f(),Jr===null)throw Error(r(349));(ar&127)!==0||Fl(S,f,v)}j.memoizedState=v;var P={value:v,getSnapshot:f};return j.queue=P,BA(V0.bind(null,S,P,s),[s]),S.flags|=2048,nu(9,{destroy:void 0},W0.bind(null,S,P,v,f),null),v},useId:function(){var s=ya(),f=Jr.identifierPrefix;if(er){var v=xo,S=bo;v=(S&~(1<<32-Ft(S)-1)).toString(32)+v,f="_"+f+"R_"+v,v=Gi++,0<v&&(f+="H"+v.toString(32)),f+="_"}else v=lh++,f="_"+f+"r_"+v.toString(32)+"_";return s.memoizedState=f},useHostTransitionStatus:rb,useFormState:pl,useActionState:pl,useOptimistic:function(s){var f=ya();f.memoizedState=f.baseState=s;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=v,f=ib.bind(null,hn,!0,v),v.dispatch=f,[s,f]},useMemoCache:eu,useCacheRefresh:function(){return ya().memoizedState=_B.bind(null,hn)},useEffectEvent:function(s){var f=ya(),v={impl:s};return f.memoizedState=v,function(){if((Er&2)!==0)throw Error(r(440));return v.impl.apply(void 0,arguments)}}},ab={readContext:Ma,use:Ju,useCallback:GA,useContext:Ma,useEffect:Jy,useImperativeHandle:HA,useInsertionEffect:UA,useLayoutEffect:zA,useMemo:$A,useReducer:fh,useRef:um,useState:function(){return fh(hl)},useDebugValue:eb,useDeferredValue:function(s,f){var v=Si();return WA(v,gn.memoizedState,s,f)},useTransition:function(){var s=fh(hl)[0],f=Si().memoizedState;return[typeof s=="boolean"?s:wc(s),f]},useSyncExternalStore:hh,useId:KA,useHostTransitionStatus:rb,useFormState:Ul,useActionState:Ul,useOptimistic:function(s,f){var v=Si();return sm(v,gn,s,f)},useMemoCache:eu,useCacheRefresh:ZA};ab.useEffectEvent=FA;var n4={readContext:Ma,use:Ju,useCallback:GA,useContext:Ma,useEffect:Jy,useImperativeHandle:HA,useInsertionEffect:UA,useLayoutEffect:zA,useMemo:$A,useReducer:dh,useRef:um,useState:function(){return dh(hl)},useDebugValue:eb,useDeferredValue:function(s,f){var v=Si();return gn===null?tb(v,s,f):WA(v,gn.memoizedState,s,f)},useTransition:function(){var s=dh(hl)[0],f=Si().memoizedState;return[typeof s=="boolean"?s:wc(s),f]},useSyncExternalStore:hh,useId:KA,useHostTransitionStatus:rb,useFormState:gh,useActionState:gh,useOptimistic:function(s,f){var v=Si();return gn!==null?sm(v,gn,s,f):(v.baseState=s,[s,v.queue.dispatch])},useMemoCache:eu,useCacheRefresh:ZA};n4.useEffectEvent=FA;function sb(s,f,v,S){f=s.memoizedState,v=v(S,f),v=v==null?f:g({},f,v),s.memoizedState=v,s.lanes===0&&(s.updateQueue.baseState=v)}var ob={enqueueSetState:function(s,f,v){s=s._reactInternals;var S=Ho(),j=wn(S);j.payload=f,v!=null&&(j.callback=v),f=Bn(s,j,S),f!==null&&(No(f,s,S),Sr(f,s,S))},enqueueReplaceState:function(s,f,v){s=s._reactInternals;var S=Ho(),j=wn(S);j.tag=1,j.payload=f,v!=null&&(j.callback=v),f=Bn(s,j,S),f!==null&&(No(f,s,S),Sr(f,s,S))},enqueueForceUpdate:function(s,f){s=s._reactInternals;var v=Ho(),S=wn(v);S.tag=2,f!=null&&(S.callback=f),f=Bn(s,S,v),f!==null&&(No(f,s,v),Sr(f,s,v))}};function r4(s,f,v,S,j,P,X){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(S,P,X):f.prototype&&f.prototype.isPureReactComponent?!O(v,S)||!O(j,P):!0}function i4(s,f,v,S){s=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,S),f.state!==s&&ob.enqueueReplaceState(f,f.state,null)}function nd(s,f){var v=f;if("ref"in f){v={};for(var S in f)S!=="ref"&&(v[S]=f[S])}if(s=s.defaultProps){v===f&&(v=g({},v));for(var j in s)v[j]===void 0&&(v[j]=s[j])}return v}function a4(s){$f(s)}function s4(s){console.error(s)}function o4(s){$f(s)}function dm(s,f){try{var v=s.onUncaughtError;v(f.value,{componentStack:f.stack})}catch(S){setTimeout(function(){throw S})}}function l4(s,f,v){try{var S=s.onCaughtError;S(v.value,{componentStack:v.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(j){setTimeout(function(){throw j})}}function lb(s,f,v){return v=wn(v),v.tag=3,v.payload={element:null},v.callback=function(){dm(s,f)},v}function c4(s){return s=wn(s),s.tag=3,s}function u4(s,f,v,S){var j=v.type.getDerivedStateFromError;if(typeof j=="function"){var P=S.value;s.payload=function(){return j(P)},s.callback=function(){l4(f,v,S)}}var X=v.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(s.callback=function(){l4(f,v,S),typeof j!="function"&&(of===null?of=new Set([this]):of.add(this));var pe=S.stack;this.componentDidCatch(S.value,{componentStack:pe!==null?pe:""})})}function AB(s,f,v,S,j){if(v.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(f=v.alternate,f!==null&&vc(f,v,j,!0),v=mi.current,v!==null){switch(v.tag){case 31:case 13:return fr===null?Am():v.alternate===null&&$i===0&&($i=3),v.flags&=-257,v.flags|=65536,v.lanes=j,S===Le?v.flags|=16384:(f=v.updateQueue,f===null?v.updateQueue=new Set([S]):f.add(S),Mb(s,S,j)),!1;case 22:return v.flags|=65536,S===Le?v.flags|=16384:(f=v.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([S])},v.updateQueue=f):(v=f.retryQueue,v===null?f.retryQueue=new Set([S]):v.add(S)),Mb(s,S,j)),!1}throw Error(r(435,v.tag))}return Mb(s,S,j),Am(),!1}if(er)return f=mi.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=j,S!==Uo&&(s=Error(r(422),{cause:S}),Ku(go(s,v)))):(S!==Uo&&(f=Error(r(423),{cause:S}),Ku(go(f,v))),s=s.current.alternate,s.flags|=65536,j&=-j,s.lanes|=j,S=go(S,v),j=lb(s.stateNode,S,j),oa(s,j),$i!==4&&($i=2)),!1;var P=Error(r(520),{cause:S});if(P=go(P,v),a1===null?a1=[P]:a1.push(P),$i!==4&&($i=2),f===null)return!0;S=go(S,v),v=f;do{switch(v.tag){case 3:return v.flags|=65536,s=j&-j,v.lanes|=s,s=lb(v.stateNode,S,s),oa(v,s),!1;case 1:if(f=v.type,P=v.stateNode,(v.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(of===null||!of.has(P))))return v.flags|=65536,j&=-j,v.lanes|=j,j=c4(j),u4(j,s,v,S),oa(v,j),!1}v=v.return}while(v!==null);return!1}var cb=Error(r(461)),ba=!1;function gs(s,f,v,S){f.child=s===null?Rn(f,null,v,S):Qr(f,s.child,v,S)}function f4(s,f,v,S,j){v=v.render;var P=f.ref;if("ref"in S){var X={};for(var pe in S)pe!=="ref"&&(X[pe]=S[pe])}else X=S;return yc(f),S=H0(s,f,v,X,P,j),pe=G0(),s!==null&&!ba?($0(s,f,j),ru(s,f,j)):(er&&pe&&F0(f),f.flags|=1,gs(s,f,S,j),f.child)}function d4(s,f,v,S,j){if(s===null){var P=v.type;return typeof P=="function"&&!Jd(P)&&P.defaultProps===void 0&&v.compare===null?(f.tag=15,f.type=P,h4(s,f,P,S,j)):(s=Vu(v.type,null,S,f,f.mode,j),s.ref=f.ref,s.return=f,f.child=s)}if(P=s.child,!vb(s,j)){var X=P.memoizedProps;if(v=v.compare,v=v!==null?v:O,v(X,S)&&s.ref===f.ref)return ru(s,f,j)}return f.flags|=1,s=mo(P,S),s.ref=f.ref,s.return=f,f.child=s}function h4(s,f,v,S,j){if(s!==null){var P=s.memoizedProps;if(O(P,S)&&s.ref===f.ref)if(ba=!1,f.pendingProps=S=P,vb(s,j))(s.flags&131072)!==0&&(ba=!0);else return f.lanes=s.lanes,ru(s,f,j)}return ub(s,f,v,S,j)}function p4(s,f,v,S){var j=S.children,P=s!==null?s.memoizedState:null;if(s===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),S.mode==="hidden"){if((f.flags&128)!==0){if(P=P!==null?P.baseLanes|v:v,s!==null){for(S=f.child=s.child,j=0;S!==null;)j=j|S.lanes|S.childLanes,S=S.sibling;S=j&~P}else S=0,f.child=null;return m4(s,f,P,v,S)}if((v&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},s!==null&&be(f,P!==null?P.cachePool:null),P!==null?pi(f,P):vr(),qi(f);else return S=f.lanes=536870912,m4(s,f,P!==null?P.baseLanes|v:v,v,S)}else P!==null?(be(f,P.cachePool),pi(f,P),Hi(),f.memoizedState=null):(s!==null&&be(f,null),vr(),Hi());return gs(s,f,j,v),f.child}function Q0(s,f){return s!==null&&s.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function m4(s,f,v,S,j){var P=ge();return P=P===null?null:{parent:ji._currentValue,pool:P},f.memoizedState={baseLanes:v,cachePool:P},s!==null&&be(f,null),vr(),qi(f),s!==null&&vc(s,f,S,!0),f.childLanes=j,null}function hm(s,f){return f=mm({mode:f.mode,children:f.children},s.mode),f.ref=s.ref,s.child=f,f.return=s,f}function g4(s,f,v){return Qr(f,s.child,null,v),s=hm(f,f.pendingProps),s.flags|=2,Pr(f),f.memoizedState=null,s}function EB(s,f,v){var S=f.pendingProps,j=(f.flags&128)!==0;if(f.flags&=-129,s===null){if(er){if(S.mode==="hidden")return s=hm(f,S),f.lanes=536870912,Q0(null,s);if(Ar(f),(s=Zr)?(s=OE(s,wi),s=s!==null&&s.data==="&"?s:null,s!==null&&(f.memoizedState={dehydrated:s,treeContext:hc!==null?{id:bo,overflow:xo}:null,retryLane:536870912,hydrationErrors:null},v=eh(s),v.return=f,f.child=v,ja=f,Zr=null)):s=null,s===null)throw pc(f);return f.lanes=536870912,null}return hm(f,S)}var P=s.memoizedState;if(P!==null){var X=P.dehydrated;if(Ar(f),j)if(f.flags&256)f.flags&=-257,f=g4(s,f,v);else if(f.memoizedState!==null)f.child=s.child,f.flags|=128,f=null;else throw Error(r(558));else if(ba||vc(s,f,v,!1),j=(v&s.childLanes)!==0,ba||j){if(S=Jr,S!==null&&(X=Ea(S,v),X!==0&&X!==P.retryLane))throw P.retryLane=X,Dl(s,X),No(S,s,X),cb;Am(),f=g4(s,f,v)}else s=P.treeContext,Zr=ml(X.nextSibling),ja=f,er=!0,ps=null,wi=!1,s!==null&&rm(f,s),f=hm(f,S),f.flags|=4096;return f}return s=mo(s.child,{mode:S.mode,children:S.children}),s.ref=f.ref,f.child=s,s.return=f,s}function pm(s,f){var v=f.ref;if(v===null)s!==null&&s.ref!==null&&(f.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(r(284));(s===null||s.ref!==v)&&(f.flags|=4194816)}}function ub(s,f,v,S,j){return yc(f),v=H0(s,f,v,S,void 0,j),S=G0(),s!==null&&!ba?($0(s,f,j),ru(s,f,j)):(er&&S&&F0(f),f.flags|=1,gs(s,f,v,j),f.child)}function v4(s,f,v,S,j,P){return yc(f),f.updateQueue=null,v=Bl(f,S,v,j),ch(s),S=G0(),s!==null&&!ba?($0(s,f,P),ru(s,f,P)):(er&&S&&F0(f),f.flags|=1,gs(s,f,v,P),f.child)}function y4(s,f,v,S,j){if(yc(f),f.stateNode===null){var P=Ia,X=v.contextType;typeof X=="object"&&X!==null&&(P=Ma(X)),P=new v(S,P),f.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=ob,f.stateNode=P,P._reactInternals=f,P=f.stateNode,P.props=S,P.state=f.memoizedState,P.refs={},St(f),X=v.contextType,P.context=typeof X=="object"&&X!==null?Ma(X):Ia,P.state=f.memoizedState,X=v.getDerivedStateFromProps,typeof X=="function"&&(sb(f,v,X,S),P.state=f.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(X=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),X!==P.state&&ob.enqueueReplaceState(P,P.state,null),Ui(f,S,P,j),Hr(),P.state=f.memoizedState),typeof P.componentDidMount=="function"&&(f.flags|=4194308),S=!0}else if(s===null){P=f.stateNode;var pe=f.memoizedProps,je=nd(v,pe);P.props=je;var Xe=P.context,ft=v.contextType;X=Ia,typeof ft=="object"&&ft!==null&&(X=Ma(ft));var mt=v.getDerivedStateFromProps;ft=typeof mt=="function"||typeof P.getSnapshotBeforeUpdate=="function",pe=f.pendingProps!==pe,ft||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(pe||Xe!==X)&&i4(f,P,S,X),Mt=!1;var Qe=f.memoizedState;P.state=Qe,Ui(f,S,P,j),Hr(),Xe=f.memoizedState,pe||Qe!==Xe||Mt?(typeof mt=="function"&&(sb(f,v,mt,S),Xe=f.memoizedState),(je=Mt||r4(f,v,je,S,Qe,Xe,X))?(ft||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(f.flags|=4194308)):(typeof P.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=Xe),P.props=S,P.state=Xe,P.context=X,S=je):(typeof P.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{P=f.stateNode,hi(s,f),X=f.memoizedProps,ft=nd(v,X),P.props=ft,mt=f.pendingProps,Qe=P.context,Xe=v.contextType,je=Ia,typeof Xe=="object"&&Xe!==null&&(je=Ma(Xe)),pe=v.getDerivedStateFromProps,(Xe=typeof pe=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(X!==mt||Qe!==je)&&i4(f,P,S,je),Mt=!1,Qe=f.memoizedState,P.state=Qe,Ui(f,S,P,j),Hr();var tt=f.memoizedState;X!==mt||Qe!==tt||Mt||s!==null&&s.dependencies!==null&&ah(s.dependencies)?(typeof pe=="function"&&(sb(f,v,pe,S),tt=f.memoizedState),(ft=Mt||r4(f,v,ft,S,Qe,tt,je)||s!==null&&s.dependencies!==null&&ah(s.dependencies))?(Xe||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(S,tt,je),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(S,tt,je)),typeof P.componentDidUpdate=="function"&&(f.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof P.componentDidUpdate!="function"||X===s.memoizedProps&&Qe===s.memoizedState||(f.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||X===s.memoizedProps&&Qe===s.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=tt),P.props=S,P.state=tt,P.context=je,S=ft):(typeof P.componentDidUpdate!="function"||X===s.memoizedProps&&Qe===s.memoizedState||(f.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||X===s.memoizedProps&&Qe===s.memoizedState||(f.flags|=1024),S=!1)}return P=S,pm(s,f),S=(f.flags&128)!==0,P||S?(P=f.stateNode,v=S&&typeof v.getDerivedStateFromError!="function"?null:P.render(),f.flags|=1,s!==null&&S?(f.child=Qr(f,s.child,null,j),f.child=Qr(f,null,v,j)):gs(s,f,v,j),f.memoizedState=P.state,s=f.child):s=ru(s,f,j),s}function b4(s,f,v,S){return Qc(),f.flags|=256,gs(s,f,v,S),f.child}var fb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function db(s){return{baseLanes:s,cachePool:Ne()}}function hb(s,f,v){return s=s!==null?s.childLanes&~v:0,f&&(s|=qo),s}function x4(s,f,v){var S=f.pendingProps,j=!1,P=(f.flags&128)!==0,X;if((X=P)||(X=s!==null&&s.memoizedState===null?!1:(or.current&2)!==0),X&&(j=!0,f.flags&=-129),X=(f.flags&32)!==0,f.flags&=-33,s===null){if(er){if(j?ki(f):Hi(),(s=Zr)?(s=OE(s,wi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(f.memoizedState={dehydrated:s,treeContext:hc!==null?{id:bo,overflow:xo}:null,retryLane:536870912,hydrationErrors:null},v=eh(s),v.return=f,f.child=v,ja=f,Zr=null)):s=null,s===null)throw pc(f);return Xb(s)?f.lanes=32:f.lanes=536870912,null}var pe=S.children;return S=S.fallback,j?(Hi(),j=f.mode,pe=mm({mode:"hidden",children:pe},j),S=dc(S,j,v,null),pe.return=f,S.return=f,pe.sibling=S,f.child=pe,S=f.child,S.memoizedState=db(v),S.childLanes=hb(s,X,v),f.memoizedState=fb,Q0(null,S)):(ki(f),pb(f,pe))}var je=s.memoizedState;if(je!==null&&(pe=je.dehydrated,pe!==null)){if(P)f.flags&256?(ki(f),f.flags&=-257,f=mb(s,f,v)):f.memoizedState!==null?(Hi(),f.child=s.child,f.flags|=128,f=null):(Hi(),pe=S.fallback,j=f.mode,S=mm({mode:"visible",children:S.children},j),pe=dc(pe,j,v,null),pe.flags|=2,S.return=f,pe.return=f,S.sibling=pe,f.child=S,Qr(f,s.child,null,v),S=f.child,S.memoizedState=db(v),S.childLanes=hb(s,X,v),f.memoizedState=fb,f=Q0(null,S));else if(ki(f),Xb(pe)){if(X=pe.nextSibling&&pe.nextSibling.dataset,X)var Xe=X.dgst;X=Xe,S=Error(r(419)),S.stack="",S.digest=X,Ku({value:S,source:null,stack:null}),f=mb(s,f,v)}else if(ba||vc(s,f,v,!1),X=(v&s.childLanes)!==0,ba||X){if(X=Jr,X!==null&&(S=Ea(X,v),S!==0&&S!==je.retryLane))throw je.retryLane=S,Dl(s,S),No(X,s,S),cb;Yb(pe)||Am(),f=mb(s,f,v)}else Yb(pe)?(f.flags|=192,f.child=s.child,f=null):(s=je.treeContext,Zr=ml(pe.nextSibling),ja=f,er=!0,ps=null,wi=!1,s!==null&&rm(f,s),f=pb(f,S.children),f.flags|=4096);return f}return j?(Hi(),pe=S.fallback,j=f.mode,je=s.child,Xe=je.sibling,S=mo(je,{mode:"hidden",children:S.children}),S.subtreeFlags=je.subtreeFlags&65011712,Xe!==null?pe=mo(Xe,pe):(pe=dc(pe,j,v,null),pe.flags|=2),pe.return=f,S.return=f,S.sibling=pe,f.child=S,Q0(null,S),S=f.child,pe=s.child.memoizedState,pe===null?pe=db(v):(j=pe.cachePool,j!==null?(je=ji._currentValue,j=j.parent!==je?{parent:je,pool:je}:j):j=Ne(),pe={baseLanes:pe.baseLanes|v,cachePool:j}),S.memoizedState=pe,S.childLanes=hb(s,X,v),f.memoizedState=fb,Q0(s.child,S)):(ki(f),v=s.child,s=v.sibling,v=mo(v,{mode:"visible",children:S.children}),v.return=f,v.sibling=null,s!==null&&(X=f.deletions,X===null?(f.deletions=[s],f.flags|=16):X.push(s)),f.child=v,f.memoizedState=null,v)}function pb(s,f){return f=mm({mode:"visible",children:f},s.mode),f.return=s,s.child=f}function mm(s,f){return s=Qa(22,s,null,f),s.lanes=0,s}function mb(s,f,v){return Qr(f,s.child,null,v),s=pb(f,f.pendingProps.children),s.flags|=2,f.memoizedState=null,s}function w4(s,f,v){s.lanes|=f;var S=s.alternate;S!==null&&(S.lanes|=f),Zu(s.return,f,v)}function gb(s,f,v,S,j,P){var X=s.memoizedState;X===null?s.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:v,tailMode:j,treeForkCount:P}:(X.isBackwards=f,X.rendering=null,X.renderingStartTime=0,X.last=S,X.tail=v,X.tailMode=j,X.treeForkCount=P)}function _4(s,f,v){var S=f.pendingProps,j=S.revealOrder,P=S.tail;S=S.children;var X=or.current,pe=(X&2)!==0;if(pe?(X=X&1|2,f.flags|=128):X&=1,he(or,X),gs(s,f,S,v),S=er?Zf:0,!pe&&s!==null&&(s.flags&128)!==0)e:for(s=f.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&w4(s,v,f);else if(s.tag===19)w4(s,v,f);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===f)break e;for(;s.sibling===null;){if(s.return===null||s.return===f)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(j){case"forwards":for(v=f.child,j=null;v!==null;)s=v.alternate,s!==null&&es(s)===null&&(j=v),v=v.sibling;v=j,v===null?(j=f.child,f.child=null):(j=v.sibling,v.sibling=null),gb(f,!1,j,v,P,S);break;case"backwards":case"unstable_legacy-backwards":for(v=null,j=f.child,f.child=null;j!==null;){if(s=j.alternate,s!==null&&es(s)===null){f.child=j;break}s=j.sibling,j.sibling=v,v=j,j=s}gb(f,!0,v,null,P,S);break;case"together":gb(f,!1,null,null,void 0,S);break;default:f.memoizedState=null}return f.child}function ru(s,f,v){if(s!==null&&(f.dependencies=s.dependencies),sf|=f.lanes,(v&f.childLanes)===0)if(s!==null){if(vc(s,f,v,!1),(v&f.childLanes)===0)return null}else return null;if(s!==null&&f.child!==s.child)throw Error(r(153));if(f.child!==null){for(s=f.child,v=mo(s,s.pendingProps),f.child=v,v.return=f;s.sibling!==null;)s=s.sibling,v=v.sibling=mo(s,s.pendingProps),v.return=f;v.sibling=null}return f.child}function vb(s,f){return(s.lanes&f)!==0?!0:(s=s.dependencies,!!(s!==null&&ah(s)))}function CB(s,f,v){switch(f.tag){case 3:ze(f,f.stateNode.containerInfo),gc(f,ji,s.memoizedState.cache),Qc();break;case 27:case 5:Ge(f);break;case 4:ze(f,f.stateNode.containerInfo);break;case 10:gc(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,Ar(f),null;break;case 13:var S=f.memoizedState;if(S!==null)return S.dehydrated!==null?(ki(f),f.flags|=128,null):(v&f.child.childLanes)!==0?x4(s,f,v):(ki(f),s=ru(s,f,v),s!==null?s.sibling:null);ki(f);break;case 19:var j=(s.flags&128)!==0;if(S=(v&f.childLanes)!==0,S||(vc(s,f,v,!1),S=(v&f.childLanes)!==0),j){if(S)return _4(s,f,v);f.flags|=128}if(j=f.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),he(or,or.current),S)break;return null;case 22:return f.lanes=0,p4(s,f,v,f.pendingProps);case 24:gc(f,ji,s.memoizedState.cache)}return ru(s,f,v)}function S4(s,f,v){if(s!==null)if(s.memoizedProps!==f.pendingProps)ba=!0;else{if(!vb(s,v)&&(f.flags&128)===0)return ba=!1,CB(s,f,v);ba=(s.flags&131072)!==0}else ba=!1,er&&(f.flags&1048576)!==0&&nm(f,Zf,f.index);switch(f.lanes=0,f.tag){case 16:e:{var S=f.pendingProps;if(s=We(f.elementType),f.type=s,typeof s=="function")Jd(s)?(S=nd(s,S),f.tag=1,f=y4(null,f,s,S,v)):(f.tag=0,f=ub(null,f,s,S,v));else{if(s!=null){var j=s.$$typeof;if(j===U){f.tag=11,f=f4(null,f,s,S,v);break e}else if(j===Y){f.tag=14,f=d4(null,f,s,S,v);break e}}throw f=ee(s)||s,Error(r(306,f,""))}}return f;case 0:return ub(s,f,f.type,f.pendingProps,v);case 1:return S=f.type,j=nd(S,f.pendingProps),y4(s,f,S,j,v);case 3:e:{if(ze(f,f.stateNode.containerInfo),s===null)throw Error(r(387));S=f.pendingProps;var P=f.memoizedState;j=P.element,hi(s,f),Ui(f,S,null,v);var X=f.memoizedState;if(S=X.cache,gc(f,ji,S),S!==P.cache&&Jc(f,[ji],v,!0),Hr(),S=X.element,P.isDehydrated)if(P={element:S,isDehydrated:!1,cache:X.cache},f.updateQueue.baseState=P,f.memoizedState=P,f.flags&256){f=b4(s,f,S,v);break e}else if(S!==j){j=go(Error(r(424)),f),Ku(j),f=b4(s,f,S,v);break e}else{switch(s=f.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Zr=ml(s.firstChild),ja=f,er=!0,ps=null,wi=!0,v=Rn(f,null,S,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling}else{if(Qc(),S===j){f=ru(s,f,v);break e}gs(s,f,S,v)}f=f.child}return f;case 26:return pm(s,f),s===null?(v=PE(f.type,null,f.pendingProps,null))?f.memoizedState=v:er||(v=f.type,s=f.pendingProps,S=jm(xe.current).createElement(v),S[pr]=f,S[Gn]=s,vs(S,v,s),Yr(S),f.stateNode=S):f.memoizedState=PE(f.type,s.memoizedProps,f.pendingProps,s.memoizedState),null;case 27:return Ge(f),s===null&&er&&(S=f.stateNode=jE(f.type,f.pendingProps,xe.current),ja=f,wi=!0,j=Zr,ff(f.type)?(Kb=j,Zr=ml(S.firstChild)):Zr=j),gs(s,f,f.pendingProps.children,v),pm(s,f),s===null&&(f.flags|=4194304),f.child;case 5:return s===null&&er&&((j=S=Zr)&&(S=nF(S,f.type,f.pendingProps,wi),S!==null?(f.stateNode=S,ja=f,Zr=ml(S.firstChild),wi=!1,j=!0):j=!1),j||pc(f)),Ge(f),j=f.type,P=f.pendingProps,X=s!==null?s.memoizedProps:null,S=P.children,$b(j,P)?S=null:X!==null&&$b(j,X)&&(f.flags|=32),f.memoizedState!==null&&(j=H0(s,f,Qy,null,null,v),h1._currentValue=j),pm(s,f),gs(s,f,S,v),f.child;case 6:return s===null&&er&&((s=v=Zr)&&(v=rF(v,f.pendingProps,wi),v!==null?(f.stateNode=v,ja=f,Zr=null,s=!0):s=!1),s||pc(f)),null;case 13:return x4(s,f,v);case 4:return ze(f,f.stateNode.containerInfo),S=f.pendingProps,s===null?f.child=Qr(f,null,S,v):gs(s,f,S,v),f.child;case 11:return f4(s,f,f.type,f.pendingProps,v);case 7:return gs(s,f,f.pendingProps,v),f.child;case 8:return gs(s,f,f.pendingProps.children,v),f.child;case 12:return gs(s,f,f.pendingProps.children,v),f.child;case 10:return S=f.pendingProps,gc(f,f.type,S.value),gs(s,f,S.children,v),f.child;case 9:return j=f.type._context,S=f.pendingProps.children,yc(f),j=Ma(j),S=S(j),f.flags|=1,gs(s,f,S,v),f.child;case 14:return d4(s,f,f.type,f.pendingProps,v);case 15:return h4(s,f,f.type,f.pendingProps,v);case 19:return _4(s,f,v);case 31:return EB(s,f,v);case 22:return p4(s,f,v,f.pendingProps);case 24:return yc(f),S=Ma(ji),s===null?(j=ge(),j===null&&(j=Jr,P=Qu(),j.pooledCache=P,P.refCount++,P!==null&&(j.pooledCacheLanes|=v),j=P),f.memoizedState={parent:S,cache:j},St(f),gc(f,ji,j)):((s.lanes&v)!==0&&(hi(s,f),Ui(f,null,null,v),Hr()),j=s.memoizedState,P=f.memoizedState,j.parent!==S?(j={parent:S,cache:S},f.memoizedState=j,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=j),gc(f,ji,S)):(S=P.cache,gc(f,ji,S),S!==j.cache&&Jc(f,[ji],v,!0))),gs(s,f,f.pendingProps.children,v),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function iu(s){s.flags|=4}function yb(s,f,v,S,j){if((f=(s.mode&32)!==0)&&(f=!1),f){if(s.flags|=16777216,(j&335544128)===j)if(s.stateNode.complete)s.flags|=8192;else if(K4())s.flags|=8192;else throw it=Le,Ve}else s.flags&=-16777217}function A4(s,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!FE(f))if(K4())s.flags|=8192;else throw it=Le,Ve}function gm(s,f){f!==null&&(s.flags|=4),s.flags&16384&&(f=s.tag!==22?Ir():536870912,s.lanes|=f,xh|=f)}function J0(s,f){if(!er)switch(s.tailMode){case"hidden":f=s.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?s.tail=null:v.sibling=null;break;case"collapsed":v=s.tail;for(var S=null;v!==null;)v.alternate!==null&&(S=v),v=v.sibling;S===null?f||s.tail===null?s.tail=null:s.tail.sibling=null:S.sibling=null}}function gi(s){var f=s.alternate!==null&&s.alternate.child===s.child,v=0,S=0;if(f)for(var j=s.child;j!==null;)v|=j.lanes|j.childLanes,S|=j.subtreeFlags&65011712,S|=j.flags&65011712,j.return=s,j=j.sibling;else for(j=s.child;j!==null;)v|=j.lanes|j.childLanes,S|=j.subtreeFlags,S|=j.flags,j.return=s,j=j.sibling;return s.subtreeFlags|=S,s.childLanes=v,f}function NB(s,f,v){var S=f.pendingProps;switch(rh(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gi(f),null;case 1:return gi(f),null;case 3:return v=f.stateNode,S=null,s!==null&&(S=s.memoizedState.cache),f.memoizedState.cache!==S&&(f.flags|=2048),wo(ji),Oe(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(s===null||s.child===null)&&(ka(f)?iu(f):s===null||s.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,z0())),gi(f),null;case 26:var j=f.type,P=f.memoizedState;return s===null?(iu(f),P!==null?(gi(f),A4(f,P)):(gi(f),yb(f,j,null,S,v))):P?P!==s.memoizedState?(iu(f),gi(f),A4(f,P)):(gi(f),f.flags&=-16777217):(s=s.memoizedProps,s!==S&&iu(f),gi(f),yb(f,j,s,S,v)),null;case 27:if(Je(f),v=xe.current,j=f.type,s!==null&&f.stateNode!=null)s.memoizedProps!==S&&iu(f);else{if(!S){if(f.stateNode===null)throw Error(r(166));return gi(f),null}s=me.current,ka(f)?U0(f):(s=jE(j,S,v),f.stateNode=s,iu(f))}return gi(f),null;case 5:if(Je(f),j=f.type,s!==null&&f.stateNode!=null)s.memoizedProps!==S&&iu(f);else{if(!S){if(f.stateNode===null)throw Error(r(166));return gi(f),null}if(P=me.current,ka(f))U0(f);else{var X=jm(xe.current);switch(P){case 1:P=X.createElementNS("http://www.w3.org/2000/svg",j);break;case 2:P=X.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;default:switch(j){case"svg":P=X.createElementNS("http://www.w3.org/2000/svg",j);break;case"math":P=X.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;case"script":P=X.createElement("div"),P.innerHTML="<script><\/script>",P=P.removeChild(P.firstChild);break;case"select":P=typeof S.is=="string"?X.createElement("select",{is:S.is}):X.createElement("select"),S.multiple?P.multiple=!0:S.size&&(P.size=S.size);break;default:P=typeof S.is=="string"?X.createElement(j,{is:S.is}):X.createElement(j)}}P[pr]=f,P[Gn]=S;e:for(X=f.child;X!==null;){if(X.tag===5||X.tag===6)P.appendChild(X.stateNode);else if(X.tag!==4&&X.tag!==27&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===f)break e;for(;X.sibling===null;){if(X.return===null||X.return===f)break e;X=X.return}X.sibling.return=X.return,X=X.sibling}f.stateNode=P;e:switch(vs(P,j,S),j){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}S&&iu(f)}}return gi(f),yb(f,f.type,s===null?null:s.memoizedProps,f.pendingProps,v),null;case 6:if(s&&f.stateNode!=null)s.memoizedProps!==S&&iu(f);else{if(typeof S!="string"&&f.stateNode===null)throw Error(r(166));if(s=xe.current,ka(f)){if(s=f.stateNode,v=f.memoizedProps,S=null,j=ja,j!==null)switch(j.tag){case 27:case 5:S=j.memoizedProps}s[pr]=f,s=!!(s.nodeValue===v||S!==null&&S.suppressHydrationWarning===!0||xE(s.nodeValue,v)),s||pc(f,!0)}else s=jm(s).createTextNode(S),s[pr]=f,f.stateNode=s}return gi(f),null;case 31:if(v=f.memoizedState,s===null||s.memoizedState!==null){if(S=ka(f),v!==null){if(s===null){if(!S)throw Error(r(318));if(s=f.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[pr]=f}else Qc(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;gi(f),s=!1}else v=z0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),s=!0;if(!s)return f.flags&256?(Pr(f),f):(Pr(f),null);if((f.flags&128)!==0)throw Error(r(558))}return gi(f),null;case 13:if(S=f.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(j=ka(f),S!==null&&S.dehydrated!==null){if(s===null){if(!j)throw Error(r(318));if(j=f.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(r(317));j[pr]=f}else Qc(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;gi(f),j=!1}else j=z0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=j),j=!0;if(!j)return f.flags&256?(Pr(f),f):(Pr(f),null)}return Pr(f),(f.flags&128)!==0?(f.lanes=v,f):(v=S!==null,s=s!==null&&s.memoizedState!==null,v&&(S=f.child,j=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(j=S.alternate.memoizedState.cachePool.pool),P=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(P=S.memoizedState.cachePool.pool),P!==j&&(S.flags|=2048)),v!==s&&v&&(f.child.flags|=8192),gm(f,f.updateQueue),gi(f),null);case 4:return Oe(),s===null&&Ub(f.stateNode.containerInfo),gi(f),null;case 10:return wo(f.type),gi(f),null;case 19:if(V(or),S=f.memoizedState,S===null)return gi(f),null;if(j=(f.flags&128)!==0,P=S.rendering,P===null)if(j)J0(S,!1);else{if($i!==0||s!==null&&(s.flags&128)!==0)for(s=f.child;s!==null;){if(P=es(s),P!==null){for(f.flags|=128,J0(S,!1),s=P.updateQueue,f.updateQueue=s,gm(f,s),f.subtreeFlags=0,s=v,v=f.child;v!==null;)Xf(v,s),v=v.sibling;return he(or,or.current&1|2),er&&Qs(f,S.treeForkCount),f.child}s=s.sibling}S.tail!==null&&yn()>wm&&(f.flags|=128,j=!0,J0(S,!1),f.lanes=4194304)}else{if(!j)if(s=es(P),s!==null){if(f.flags|=128,j=!0,s=s.updateQueue,f.updateQueue=s,gm(f,s),J0(S,!0),S.tail===null&&S.tailMode==="hidden"&&!P.alternate&&!er)return gi(f),null}else 2*yn()-S.renderingStartTime>wm&&v!==536870912&&(f.flags|=128,j=!0,J0(S,!1),f.lanes=4194304);S.isBackwards?(P.sibling=f.child,f.child=P):(s=S.last,s!==null?s.sibling=P:f.child=P,S.last=P)}return S.tail!==null?(s=S.tail,S.rendering=s,S.tail=s.sibling,S.renderingStartTime=yn(),s.sibling=null,v=or.current,he(or,j?v&1|2:v&1),er&&Qs(f,S.treeForkCount),s):(gi(f),null);case 22:case 23:return Pr(f),la(),S=f.memoizedState!==null,s!==null?s.memoizedState!==null!==S&&(f.flags|=8192):S&&(f.flags|=8192),S?(v&536870912)!==0&&(f.flags&128)===0&&(gi(f),f.subtreeFlags&6&&(f.flags|=8192)):gi(f),v=f.updateQueue,v!==null&&gm(f,v.retryQueue),v=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(v=s.memoizedState.cachePool.pool),S=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(S=f.memoizedState.cachePool.pool),S!==v&&(f.flags|=2048),s!==null&&V(de),null;case 24:return v=null,s!==null&&(v=s.memoizedState.cache),f.memoizedState.cache!==v&&(f.flags|=2048),wo(ji),gi(f),null;case 25:return null;case 30:return null}throw Error(r(156,f.tag))}function OB(s,f){switch(rh(f),f.tag){case 1:return s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 3:return wo(ji),Oe(),s=f.flags,(s&65536)!==0&&(s&128)===0?(f.flags=s&-65537|128,f):null;case 26:case 27:case 5:return Je(f),null;case 31:if(f.memoizedState!==null){if(Pr(f),f.alternate===null)throw Error(r(340));Qc()}return s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 13:if(Pr(f),s=f.memoizedState,s!==null&&s.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Qc()}return s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 19:return V(or),null;case 4:return Oe(),null;case 10:return wo(f.type),null;case 22:case 23:return Pr(f),la(),s!==null&&V(de),s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 24:return wo(ji),null;case 25:return null;default:return null}}function E4(s,f){switch(rh(f),f.tag){case 3:wo(ji),Oe();break;case 26:case 27:case 5:Je(f);break;case 4:Oe();break;case 31:f.memoizedState!==null&&Pr(f);break;case 13:Pr(f);break;case 19:V(or);break;case 10:wo(f.type);break;case 22:case 23:Pr(f),la(),s!==null&&V(de);break;case 24:wo(ji)}}function e1(s,f){try{var v=f.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var j=S.next;v=j;do{if((v.tag&s)===s){S=void 0;var P=v.create,X=v.inst;S=P(),X.destroy=S}v=v.next}while(v!==j)}}catch(pe){Dr(f,f.return,pe)}}function rf(s,f,v){try{var S=f.updateQueue,j=S!==null?S.lastEffect:null;if(j!==null){var P=j.next;S=P;do{if((S.tag&s)===s){var X=S.inst,pe=X.destroy;if(pe!==void 0){X.destroy=void 0,j=f;var je=v,Xe=pe;try{Xe()}catch(ft){Dr(j,je,ft)}}}S=S.next}while(S!==P)}}catch(ft){Dr(f,f.return,ft)}}function C4(s){var f=s.updateQueue;if(f!==null){var v=s.stateNode;try{zi(f,v)}catch(S){Dr(s,s.return,S)}}}function N4(s,f,v){v.props=nd(s.type,s.memoizedProps),v.state=s.memoizedState;try{v.componentWillUnmount()}catch(S){Dr(s,f,S)}}function t1(s,f){try{var v=s.ref;if(v!==null){switch(s.tag){case 26:case 27:case 5:var S=s.stateNode;break;case 30:S=s.stateNode;break;default:S=s.stateNode}typeof v=="function"?s.refCleanup=v(S):v.current=S}}catch(j){Dr(s,f,j)}}function Sc(s,f){var v=s.ref,S=s.refCleanup;if(v!==null)if(typeof S=="function")try{S()}catch(j){Dr(s,f,j)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(j){Dr(s,f,j)}else v.current=null}function O4(s){var f=s.type,v=s.memoizedProps,S=s.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":v.autoFocus&&S.focus();break e;case"img":v.src?S.src=v.src:v.srcSet&&(S.srcset=v.srcSet)}}catch(j){Dr(s,s.return,j)}}function bb(s,f,v){try{var S=s.stateNode;KB(S,s.type,v,f),S[Gn]=f}catch(j){Dr(s,s.return,j)}}function T4(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ff(s.type)||s.tag===4}function xb(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||T4(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ff(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function wb(s,f,v){var S=s.tag;if(S===5||S===6)s=s.stateNode,f?(v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v).insertBefore(s,f):(f=v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v,f.appendChild(s),v=v._reactRootContainer,v!=null||f.onclick!==null||(f.onclick=Ga));else if(S!==4&&(S===27&&ff(s.type)&&(v=s.stateNode,f=null),s=s.child,s!==null))for(wb(s,f,v),s=s.sibling;s!==null;)wb(s,f,v),s=s.sibling}function vm(s,f,v){var S=s.tag;if(S===5||S===6)s=s.stateNode,f?v.insertBefore(s,f):v.appendChild(s);else if(S!==4&&(S===27&&ff(s.type)&&(v=s.stateNode),s=s.child,s!==null))for(vm(s,f,v),s=s.sibling;s!==null;)vm(s,f,v),s=s.sibling}function I4(s){var f=s.stateNode,v=s.memoizedProps;try{for(var S=s.type,j=f.attributes;j.length;)f.removeAttributeNode(j[0]);vs(f,S,v),f[pr]=s,f[Gn]=v}catch(P){Dr(s,s.return,P)}}var au=!1,xa=!1,_b=!1,j4=typeof WeakSet=="function"?WeakSet:Set,ts=null;function TB(s,f){if(s=s.containerInfo,Hb=Bm,s=ne(s),le(s)){if("selectionStart"in s)var v={start:s.selectionStart,end:s.selectionEnd};else e:{v=(v=s.ownerDocument)&&v.defaultView||window;var S=v.getSelection&&v.getSelection();if(S&&S.rangeCount!==0){v=S.anchorNode;var j=S.anchorOffset,P=S.focusNode;S=S.focusOffset;try{v.nodeType,P.nodeType}catch{v=null;break e}var X=0,pe=-1,je=-1,Xe=0,ft=0,mt=s,Qe=null;t:for(;;){for(var tt;mt!==v||j!==0&&mt.nodeType!==3||(pe=X+j),mt!==P||S!==0&&mt.nodeType!==3||(je=X+S),mt.nodeType===3&&(X+=mt.nodeValue.length),(tt=mt.firstChild)!==null;)Qe=mt,mt=tt;for(;;){if(mt===s)break t;if(Qe===v&&++Xe===j&&(pe=X),Qe===P&&++ft===S&&(je=X),(tt=mt.nextSibling)!==null)break;mt=Qe,Qe=mt.parentNode}mt=tt}v=pe===-1||je===-1?null:{start:pe,end:je}}else v=null}v=v||{start:0,end:0}}else v=null;for(Gb={focusedElem:s,selectionRange:v},Bm=!1,ts=f;ts!==null;)if(f=ts,s=f.child,(f.subtreeFlags&1028)!==0&&s!==null)s.return=f,ts=s;else for(;ts!==null;){switch(f=ts,P=f.alternate,s=f.flags,f.tag){case 0:if((s&4)!==0&&(s=f.updateQueue,s=s!==null?s.events:null,s!==null))for(v=0;v<s.length;v++)j=s[v],j.ref.impl=j.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&P!==null){s=void 0,v=f,j=P.memoizedProps,P=P.memoizedState,S=v.stateNode;try{var qt=nd(v.type,j);s=S.getSnapshotBeforeUpdate(qt,P),S.__reactInternalSnapshotBeforeUpdate=s}catch(En){Dr(v,v.return,En)}}break;case 3:if((s&1024)!==0){if(s=f.stateNode.containerInfo,v=s.nodeType,v===9)Vb(s);else if(v===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Vb(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=f.sibling,s!==null){s.return=f.return,ts=s;break}ts=f.return}}function k4(s,f,v){var S=v.flags;switch(v.tag){case 0:case 11:case 15:ou(s,v),S&4&&e1(5,v);break;case 1:if(ou(s,v),S&4)if(s=v.stateNode,f===null)try{s.componentDidMount()}catch(X){Dr(v,v.return,X)}else{var j=nd(v.type,f.memoizedProps);f=f.memoizedState;try{s.componentDidUpdate(j,f,s.__reactInternalSnapshotBeforeUpdate)}catch(X){Dr(v,v.return,X)}}S&64&&C4(v),S&512&&t1(v,v.return);break;case 3:if(ou(s,v),S&64&&(s=v.updateQueue,s!==null)){if(f=null,v.child!==null)switch(v.child.tag){case 27:case 5:f=v.child.stateNode;break;case 1:f=v.child.stateNode}try{zi(s,f)}catch(X){Dr(v,v.return,X)}}break;case 27:f===null&&S&4&&I4(v);case 26:case 5:ou(s,v),f===null&&S&4&&O4(v),S&512&&t1(v,v.return);break;case 12:ou(s,v);break;case 31:ou(s,v),S&4&&R4(s,v);break;case 13:ou(s,v),S&4&&D4(s,v),S&64&&(s=v.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(v=BB.bind(null,v),iF(s,v))));break;case 22:if(S=v.memoizedState!==null||au,!S){f=f!==null&&f.memoizedState!==null||xa,j=au;var P=xa;au=S,(xa=f)&&!P?lu(s,v,(v.subtreeFlags&8772)!==0):ou(s,v),au=j,xa=P}break;case 30:break;default:ou(s,v)}}function M4(s){var f=s.alternate;f!==null&&(s.alternate=null,M4(f)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(f=s.stateNode,f!==null&&ta(f)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ai=null,So=!1;function su(s,f,v){for(v=v.child;v!==null;)P4(s,f,v),v=v.sibling}function P4(s,f,v){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(tn,v)}catch{}switch(v.tag){case 26:xa||Sc(v,f),su(s,f,v),v.memoizedState?v.memoizedState.count--:v.stateNode&&(v=v.stateNode,v.parentNode.removeChild(v));break;case 27:xa||Sc(v,f);var S=Ai,j=So;ff(v.type)&&(Ai=v.stateNode,So=!1),su(s,f,v),u1(v.stateNode),Ai=S,So=j;break;case 5:xa||Sc(v,f);case 6:if(S=Ai,j=So,Ai=null,su(s,f,v),Ai=S,So=j,Ai!==null)if(So)try{(Ai.nodeType===9?Ai.body:Ai.nodeName==="HTML"?Ai.ownerDocument.body:Ai).removeChild(v.stateNode)}catch(P){Dr(v,f,P)}else try{Ai.removeChild(v.stateNode)}catch(P){Dr(v,f,P)}break;case 18:Ai!==null&&(So?(s=Ai,CE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,v.stateNode),Oh(s)):CE(Ai,v.stateNode));break;case 4:S=Ai,j=So,Ai=v.stateNode.containerInfo,So=!0,su(s,f,v),Ai=S,So=j;break;case 0:case 11:case 14:case 15:rf(2,v,f),xa||rf(4,v,f),su(s,f,v);break;case 1:xa||(Sc(v,f),S=v.stateNode,typeof S.componentWillUnmount=="function"&&N4(v,f,S)),su(s,f,v);break;case 21:su(s,f,v);break;case 22:xa=(S=xa)||v.memoizedState!==null,su(s,f,v),xa=S;break;default:su(s,f,v)}}function R4(s,f){if(f.memoizedState===null&&(s=f.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Oh(s)}catch(v){Dr(f,f.return,v)}}}function D4(s,f){if(f.memoizedState===null&&(s=f.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Oh(s)}catch(v){Dr(f,f.return,v)}}function IB(s){switch(s.tag){case 31:case 13:case 19:var f=s.stateNode;return f===null&&(f=s.stateNode=new j4),f;case 22:return s=s.stateNode,f=s._retryCache,f===null&&(f=s._retryCache=new j4),f;default:throw Error(r(435,s.tag))}}function ym(s,f){var v=IB(s);f.forEach(function(S){if(!v.has(S)){v.add(S);var j=FB.bind(null,s,S);S.then(j,j)}})}function Ao(s,f){var v=f.deletions;if(v!==null)for(var S=0;S<v.length;S++){var j=v[S],P=s,X=f,pe=X;e:for(;pe!==null;){switch(pe.tag){case 27:if(ff(pe.type)){Ai=pe.stateNode,So=!1;break e}break;case 5:Ai=pe.stateNode,So=!1;break e;case 3:case 4:Ai=pe.stateNode.containerInfo,So=!0;break e}pe=pe.return}if(Ai===null)throw Error(r(160));P4(P,X,j),Ai=null,So=!1,P=j.alternate,P!==null&&(P.return=null),j.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)L4(f,s),f=f.sibling}var ql=null;function L4(s,f){var v=s.alternate,S=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ao(f,s),Eo(s),S&4&&(rf(3,s,s.return),e1(3,s),rf(5,s,s.return));break;case 1:Ao(f,s),Eo(s),S&512&&(xa||v===null||Sc(v,v.return)),S&64&&au&&(s=s.updateQueue,s!==null&&(S=s.callbacks,S!==null&&(v=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=v===null?S:v.concat(S))));break;case 26:var j=ql;if(Ao(f,s),Eo(s),S&512&&(xa||v===null||Sc(v,v.return)),S&4){var P=v!==null?v.memoizedState:null;if(S=s.memoizedState,v===null)if(S===null)if(s.stateNode===null){e:{S=s.type,v=s.memoizedProps,j=j.ownerDocument||j;t:switch(S){case"title":P=j.getElementsByTagName("title")[0],(!P||P[qs]||P[pr]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=j.createElement(S),j.head.insertBefore(P,j.querySelector("head > title"))),vs(P,S,v),P[pr]=s,Yr(P),S=P;break e;case"link":var X=LE("link","href",j).get(S+(v.href||""));if(X){for(var pe=0;pe<X.length;pe++)if(P=X[pe],P.getAttribute("href")===(v.href==null||v.href===""?null:v.href)&&P.getAttribute("rel")===(v.rel==null?null:v.rel)&&P.getAttribute("title")===(v.title==null?null:v.title)&&P.getAttribute("crossorigin")===(v.crossOrigin==null?null:v.crossOrigin)){X.splice(pe,1);break t}}P=j.createElement(S),vs(P,S,v),j.head.appendChild(P);break;case"meta":if(X=LE("meta","content",j).get(S+(v.content||""))){for(pe=0;pe<X.length;pe++)if(P=X[pe],P.getAttribute("content")===(v.content==null?null:""+v.content)&&P.getAttribute("name")===(v.name==null?null:v.name)&&P.getAttribute("property")===(v.property==null?null:v.property)&&P.getAttribute("http-equiv")===(v.httpEquiv==null?null:v.httpEquiv)&&P.getAttribute("charset")===(v.charSet==null?null:v.charSet)){X.splice(pe,1);break t}}P=j.createElement(S),vs(P,S,v),j.head.appendChild(P);break;default:throw Error(r(468,S))}P[pr]=s,Yr(P),S=P}s.stateNode=S}else BE(j,s.type,s.stateNode);else s.stateNode=DE(j,S,s.memoizedProps);else P!==S?(P===null?v.stateNode!==null&&(v=v.stateNode,v.parentNode.removeChild(v)):P.count--,S===null?BE(j,s.type,s.stateNode):DE(j,S,s.memoizedProps)):S===null&&s.stateNode!==null&&bb(s,s.memoizedProps,v.memoizedProps)}break;case 27:Ao(f,s),Eo(s),S&512&&(xa||v===null||Sc(v,v.return)),v!==null&&S&4&&bb(s,s.memoizedProps,v.memoizedProps);break;case 5:if(Ao(f,s),Eo(s),S&512&&(xa||v===null||Sc(v,v.return)),s.flags&32){j=s.stateNode;try{Gs(j,"")}catch(qt){Dr(s,s.return,qt)}}S&4&&s.stateNode!=null&&(j=s.memoizedProps,bb(s,j,v!==null?v.memoizedProps:j)),S&1024&&(_b=!0);break;case 6:if(Ao(f,s),Eo(s),S&4){if(s.stateNode===null)throw Error(r(162));S=s.memoizedProps,v=s.stateNode;try{v.nodeValue=S}catch(qt){Dr(s,s.return,qt)}}break;case 3:if(Pm=null,j=ql,ql=km(f.containerInfo),Ao(f,s),ql=j,Eo(s),S&4&&v!==null&&v.memoizedState.isDehydrated)try{Oh(f.containerInfo)}catch(qt){Dr(s,s.return,qt)}_b&&(_b=!1,B4(s));break;case 4:S=ql,ql=km(s.stateNode.containerInfo),Ao(f,s),Eo(s),ql=S;break;case 12:Ao(f,s),Eo(s);break;case 31:Ao(f,s),Eo(s),S&4&&(S=s.updateQueue,S!==null&&(s.updateQueue=null,ym(s,S)));break;case 13:Ao(f,s),Eo(s),s.child.flags&8192&&s.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(xm=yn()),S&4&&(S=s.updateQueue,S!==null&&(s.updateQueue=null,ym(s,S)));break;case 22:j=s.memoizedState!==null;var je=v!==null&&v.memoizedState!==null,Xe=au,ft=xa;if(au=Xe||j,xa=ft||je,Ao(f,s),xa=ft,au=Xe,Eo(s),S&8192)e:for(f=s.stateNode,f._visibility=j?f._visibility&-2:f._visibility|1,j&&(v===null||je||au||xa||rd(s)),v=null,f=s;;){if(f.tag===5||f.tag===26){if(v===null){je=v=f;try{if(P=je.stateNode,j)X=P.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none";else{pe=je.stateNode;var mt=je.memoizedProps.style,Qe=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;pe.style.display=Qe==null||typeof Qe=="boolean"?"":(""+Qe).trim()}}catch(qt){Dr(je,je.return,qt)}}}else if(f.tag===6){if(v===null){je=f;try{je.stateNode.nodeValue=j?"":je.memoizedProps}catch(qt){Dr(je,je.return,qt)}}}else if(f.tag===18){if(v===null){je=f;try{var tt=je.stateNode;j?NE(tt,!0):NE(je.stateNode,!1)}catch(qt){Dr(je,je.return,qt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===s)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;v===f&&(v=null),f=f.return}v===f&&(v=null),f.sibling.return=f.return,f=f.sibling}S&4&&(S=s.updateQueue,S!==null&&(v=S.retryQueue,v!==null&&(S.retryQueue=null,ym(s,v))));break;case 19:Ao(f,s),Eo(s),S&4&&(S=s.updateQueue,S!==null&&(s.updateQueue=null,ym(s,S)));break;case 30:break;case 21:break;default:Ao(f,s),Eo(s)}}function Eo(s){var f=s.flags;if(f&2){try{for(var v,S=s.return;S!==null;){if(T4(S)){v=S;break}S=S.return}if(v==null)throw Error(r(160));switch(v.tag){case 27:var j=v.stateNode,P=xb(s);vm(s,P,j);break;case 5:var X=v.stateNode;v.flags&32&&(Gs(X,""),v.flags&=-33);var pe=xb(s);vm(s,pe,X);break;case 3:case 4:var je=v.stateNode.containerInfo,Xe=xb(s);wb(s,Xe,je);break;default:throw Error(r(161))}}catch(ft){Dr(s,s.return,ft)}s.flags&=-3}f&4096&&(s.flags&=-4097)}function B4(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var f=s;B4(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),s=s.sibling}}function ou(s,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)k4(s,f.alternate,f),f=f.sibling}function rd(s){for(s=s.child;s!==null;){var f=s;switch(f.tag){case 0:case 11:case 14:case 15:rf(4,f,f.return),rd(f);break;case 1:Sc(f,f.return);var v=f.stateNode;typeof v.componentWillUnmount=="function"&&N4(f,f.return,v),rd(f);break;case 27:u1(f.stateNode);case 26:case 5:Sc(f,f.return),rd(f);break;case 22:f.memoizedState===null&&rd(f);break;case 30:rd(f);break;default:rd(f)}s=s.sibling}}function lu(s,f,v){for(v=v&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var S=f.alternate,j=s,P=f,X=P.flags;switch(P.tag){case 0:case 11:case 15:lu(j,P,v),e1(4,P);break;case 1:if(lu(j,P,v),S=P,j=S.stateNode,typeof j.componentDidMount=="function")try{j.componentDidMount()}catch(Xe){Dr(S,S.return,Xe)}if(S=P,j=S.updateQueue,j!==null){var pe=S.stateNode;try{var je=j.shared.hiddenCallbacks;if(je!==null)for(j.shared.hiddenCallbacks=null,j=0;j<je.length;j++)Ja(je[j],pe)}catch(Xe){Dr(S,S.return,Xe)}}v&&X&64&&C4(P),t1(P,P.return);break;case 27:I4(P);case 26:case 5:lu(j,P,v),v&&S===null&&X&4&&O4(P),t1(P,P.return);break;case 12:lu(j,P,v);break;case 31:lu(j,P,v),v&&X&4&&R4(j,P);break;case 13:lu(j,P,v),v&&X&4&&D4(j,P);break;case 22:P.memoizedState===null&&lu(j,P,v),t1(P,P.return);break;case 30:break;default:lu(j,P,v)}f=f.sibling}}function Sb(s,f){var v=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(v=s.memoizedState.cachePool.pool),s=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(s=f.memoizedState.cachePool.pool),s!==v&&(s!=null&&s.refCount++,v!=null&&Qf(v))}function Ab(s,f){s=null,f.alternate!==null&&(s=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==s&&(f.refCount++,s!=null&&Qf(s))}function Hl(s,f,v,S){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)F4(s,f,v,S),f=f.sibling}function F4(s,f,v,S){var j=f.flags;switch(f.tag){case 0:case 11:case 15:Hl(s,f,v,S),j&2048&&e1(9,f);break;case 1:Hl(s,f,v,S);break;case 3:Hl(s,f,v,S),j&2048&&(s=null,f.alternate!==null&&(s=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==s&&(f.refCount++,s!=null&&Qf(s)));break;case 12:if(j&2048){Hl(s,f,v,S),s=f.stateNode;try{var P=f.memoizedProps,X=P.id,pe=P.onPostCommit;typeof pe=="function"&&pe(X,f.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(je){Dr(f,f.return,je)}}else Hl(s,f,v,S);break;case 31:Hl(s,f,v,S);break;case 13:Hl(s,f,v,S);break;case 23:break;case 22:P=f.stateNode,X=f.alternate,f.memoizedState!==null?P._visibility&2?Hl(s,f,v,S):n1(s,f):P._visibility&2?Hl(s,f,v,S):(P._visibility|=2,vh(s,f,v,S,(f.subtreeFlags&10256)!==0||!1)),j&2048&&Sb(X,f);break;case 24:Hl(s,f,v,S),j&2048&&Ab(f.alternate,f);break;default:Hl(s,f,v,S)}}function vh(s,f,v,S,j){for(j=j&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var P=s,X=f,pe=v,je=S,Xe=X.flags;switch(X.tag){case 0:case 11:case 15:vh(P,X,pe,je,j),e1(8,X);break;case 23:break;case 22:var ft=X.stateNode;X.memoizedState!==null?ft._visibility&2?vh(P,X,pe,je,j):n1(P,X):(ft._visibility|=2,vh(P,X,pe,je,j)),j&&Xe&2048&&Sb(X.alternate,X);break;case 24:vh(P,X,pe,je,j),j&&Xe&2048&&Ab(X.alternate,X);break;default:vh(P,X,pe,je,j)}f=f.sibling}}function n1(s,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var v=s,S=f,j=S.flags;switch(S.tag){case 22:n1(v,S),j&2048&&Sb(S.alternate,S);break;case 24:n1(v,S),j&2048&&Ab(S.alternate,S);break;default:n1(v,S)}f=f.sibling}}var r1=8192;function yh(s,f,v){if(s.subtreeFlags&r1)for(s=s.child;s!==null;)U4(s,f,v),s=s.sibling}function U4(s,f,v){switch(s.tag){case 26:yh(s,f,v),s.flags&r1&&s.memoizedState!==null&&gF(v,ql,s.memoizedState,s.memoizedProps);break;case 5:yh(s,f,v);break;case 3:case 4:var S=ql;ql=km(s.stateNode.containerInfo),yh(s,f,v),ql=S;break;case 22:s.memoizedState===null&&(S=s.alternate,S!==null&&S.memoizedState!==null?(S=r1,r1=16777216,yh(s,f,v),r1=S):yh(s,f,v));break;default:yh(s,f,v)}}function z4(s){var f=s.alternate;if(f!==null&&(s=f.child,s!==null)){f.child=null;do f=s.sibling,s.sibling=null,s=f;while(s!==null)}}function i1(s){var f=s.deletions;if((s.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var S=f[v];ts=S,H4(S,s)}z4(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)q4(s),s=s.sibling}function q4(s){switch(s.tag){case 0:case 11:case 15:i1(s),s.flags&2048&&rf(9,s,s.return);break;case 3:i1(s);break;case 12:i1(s);break;case 22:var f=s.stateNode;s.memoizedState!==null&&f._visibility&2&&(s.return===null||s.return.tag!==13)?(f._visibility&=-3,bm(s)):i1(s);break;default:i1(s)}}function bm(s){var f=s.deletions;if((s.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var S=f[v];ts=S,H4(S,s)}z4(s)}for(s=s.child;s!==null;){switch(f=s,f.tag){case 0:case 11:case 15:rf(8,f,f.return),bm(f);break;case 22:v=f.stateNode,v._visibility&2&&(v._visibility&=-3,bm(f));break;default:bm(f)}s=s.sibling}}function H4(s,f){for(;ts!==null;){var v=ts;switch(v.tag){case 0:case 11:case 15:rf(8,v,f);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var S=v.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:Qf(v.memoizedState.cache)}if(S=v.child,S!==null)S.return=v,ts=S;else e:for(v=s;ts!==null;){S=ts;var j=S.sibling,P=S.return;if(M4(S),S===v){ts=null;break e}if(j!==null){j.return=P,ts=j;break e}ts=P}}}var jB={getCacheForType:function(s){var f=Ma(ji),v=f.data.get(s);return v===void 0&&(v=s(),f.data.set(s,v)),v},cacheSignal:function(){return Ma(ji).controller.signal}},kB=typeof WeakMap=="function"?WeakMap:Map,Er=0,Jr=null,tr=null,ar=0,Rr=0,zo=null,af=!1,bh=!1,Eb=!1,cu=0,$i=0,sf=0,id=0,Cb=0,qo=0,xh=0,a1=null,Co=null,Nb=!1,xm=0,G4=0,wm=1/0,_m=null,of=null,Ra=0,lf=null,wh=null,uu=0,Ob=0,Tb=null,$4=null,s1=0,Ib=null;function Ho(){return(Er&2)!==0&&ar!==0?ar&-ar:ie.T!==null?Db():hr()}function W4(){if(qo===0)if((ar&536870912)===0||er){var s=Xt;Xt<<=1,(Xt&3932160)===0&&(Xt=262144),qo=s}else qo=536870912;return s=mi.current,s!==null&&(s.flags|=32),qo}function No(s,f,v){(s===Jr&&(Rr===2||Rr===9)||s.cancelPendingCommit!==null)&&(_h(s,0),cf(s,ar,qo,!1)),Zt(s,v),((Er&2)===0||s!==Jr)&&(s===Jr&&((Er&2)===0&&(id|=v),$i===4&&cf(s,ar,qo,!1)),Ac(s))}function V4(s,f,v){if((Er&6)!==0)throw Error(r(327));var S=!v&&(f&127)===0&&(f&s.expiredLanes)===0||ui(s,f),j=S?RB(s,f):kb(s,f,!0),P=S;do{if(j===0){bh&&!S&&cf(s,f,0,!1);break}else{if(v=s.current.alternate,P&&!MB(v)){j=kb(s,f,!1),P=!1;continue}if(j===2){if(P=f,s.errorRecoveryDisabledLanes&P)var X=0;else X=s.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){f=X;e:{var pe=s;j=a1;var je=pe.current.memoizedState.isDehydrated;if(je&&(_h(pe,X).flags|=256),X=kb(pe,X,!1),X!==2){if(Eb&&!je){pe.errorRecoveryDisabledLanes|=P,id|=P,j=4;break e}P=Co,Co=j,P!==null&&(Co===null?Co=P:Co.push.apply(Co,P))}j=X}if(P=!1,j!==2)continue}}if(j===1){_h(s,0),cf(s,f,0,!0);break}e:{switch(S=s,P=j,P){case 0:case 1:throw Error(r(345));case 4:if((f&4194048)!==f)break;case 6:cf(S,f,qo,!af);break e;case 2:Co=null;break;case 3:case 5:break;default:throw Error(r(329))}if((f&62914560)===f&&(j=xm+300-yn(),10<j)){if(cf(S,f,qo,!af),Xn(S,0,!0)!==0)break e;uu=f,S.timeoutHandle=AE(Y4.bind(null,S,v,Co,_m,Nb,f,qo,id,xh,af,P,"Throttled",-0,0),j);break e}Y4(S,v,Co,_m,Nb,f,qo,id,xh,af,P,null,-0,0)}}break}while(!0);Ac(s)}function Y4(s,f,v,S,j,P,X,pe,je,Xe,ft,mt,Qe,tt){if(s.timeoutHandle=-1,mt=f.subtreeFlags,mt&8192||(mt&16785408)===16785408){mt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ga},U4(f,P,mt);var qt=(P&62914560)===P?xm-yn():(P&4194048)===P?G4-yn():0;if(qt=vF(mt,qt),qt!==null){uu=P,s.cancelPendingCommit=qt(nE.bind(null,s,f,P,v,S,j,X,pe,je,ft,mt,null,Qe,tt)),cf(s,P,X,!Xe);return}}nE(s,f,P,v,S,j,X,pe,je)}function MB(s){for(var f=s;;){var v=f.tag;if((v===0||v===11||v===15)&&f.flags&16384&&(v=f.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var S=0;S<v.length;S++){var j=v[S],P=j.getSnapshot;j=j.value;try{if(!A(P(),j))return!1}catch{return!1}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function cf(s,f,v,S){f&=~Cb,f&=~id,s.suspendedLanes|=f,s.pingedLanes&=~f,S&&(s.warmLanes|=f),S=s.expirationTimes;for(var j=f;0<j;){var P=31-Ft(j),X=1<<P;S[P]=-1,j&=~X}v!==0&&io(s,v,f)}function Sm(){return(Er&6)===0?(o1(0),!1):!0}function jb(){if(tr!==null){if(Rr===0)var s=tr.return;else s=tr,dl=mc=null,uh(s),vt=null,Gt=0,s=tr;for(;s!==null;)E4(s.alternate,s),s=s.return;tr=null}}function _h(s,f){var v=s.timeoutHandle;v!==-1&&(s.timeoutHandle=-1,JB(v)),v=s.cancelPendingCommit,v!==null&&(s.cancelPendingCommit=null,v()),uu=0,jb(),Jr=s,tr=v=mo(s.current,null),ar=f,Rr=0,zo=null,af=!1,bh=ui(s,f),Eb=!1,xh=qo=Cb=id=sf=$i=0,Co=a1=null,Nb=!1,(f&8)!==0&&(f|=f&32);var S=s.entangledLanes;if(S!==0)for(s=s.entanglements,S&=f;0<S;){var j=31-Ft(S),P=1<<j;f|=s[j],S&=~P}return cu=f,Wf(),v}function X4(s,f){hn=null,ie.H=Z0,f===Re||f===Ee?(f=ht(),Rr=3):f===Ve?(f=ht(),Rr=4):Rr=f===cb?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,zo=f,tr===null&&($i=1,dm(s,go(f,s.current)))}function K4(){var s=mi.current;return s===null?!0:(ar&4194048)===ar?fr===null:(ar&62914560)===ar||(ar&536870912)!==0?s===fr:!1}function Z4(){var s=ie.H;return ie.H=Z0,s===null?Z0:s}function Q4(){var s=ie.A;return ie.A=jB,s}function Am(){$i=4,af||(ar&4194048)!==ar&&mi.current!==null||(bh=!0),(sf&134217727)===0&&(id&134217727)===0||Jr===null||cf(Jr,ar,qo,!1)}function kb(s,f,v){var S=Er;Er|=2;var j=Z4(),P=Q4();(Jr!==s||ar!==f)&&(_m=null,_h(s,f)),f=!1;var X=$i;e:do try{if(Rr!==0&&tr!==null){var pe=tr,je=zo;switch(Rr){case 8:jb(),X=6;break e;case 3:case 2:case 9:case 6:mi.current===null&&(f=!0);var Xe=Rr;if(Rr=0,zo=null,Sh(s,pe,je,Xe),v&&bh){X=0;break e}break;default:Xe=Rr,Rr=0,zo=null,Sh(s,pe,je,Xe)}}PB(),X=$i;break}catch(ft){X4(s,ft)}while(!0);return f&&s.shellSuspendCounter++,dl=mc=null,Er=S,ie.H=j,ie.A=P,tr===null&&(Jr=null,ar=0,Wf()),X}function PB(){for(;tr!==null;)J4(tr)}function RB(s,f){var v=Er;Er|=2;var S=Z4(),j=Q4();Jr!==s||ar!==f?(_m=null,wm=yn()+500,_h(s,f)):bh=ui(s,f);e:do try{if(Rr!==0&&tr!==null){f=tr;var P=zo;t:switch(Rr){case 1:Rr=0,zo=null,Sh(s,f,P,1);break;case 2:case 9:if(He(P)){Rr=0,zo=null,eE(f);break}f=function(){Rr!==2&&Rr!==9||Jr!==s||(Rr=7),Ac(s)},P.then(f,f);break e;case 3:Rr=7;break e;case 4:Rr=5;break e;case 7:He(P)?(Rr=0,zo=null,eE(f)):(Rr=0,zo=null,Sh(s,f,P,7));break;case 5:var X=null;switch(tr.tag){case 26:X=tr.memoizedState;case 5:case 27:var pe=tr;if(X?FE(X):pe.stateNode.complete){Rr=0,zo=null;var je=pe.sibling;if(je!==null)tr=je;else{var Xe=pe.return;Xe!==null?(tr=Xe,Em(Xe)):tr=null}break t}}Rr=0,zo=null,Sh(s,f,P,5);break;case 6:Rr=0,zo=null,Sh(s,f,P,6);break;case 8:jb(),$i=6;break e;default:throw Error(r(462))}}DB();break}catch(ft){X4(s,ft)}while(!0);return dl=mc=null,ie.H=S,ie.A=j,Er=v,tr!==null?0:(Jr=null,ar=0,Wf(),$i)}function DB(){for(;tr!==null&&!an();)J4(tr)}function J4(s){var f=S4(s.alternate,s,cu);s.memoizedProps=s.pendingProps,f===null?Em(s):tr=f}function eE(s){var f=s,v=f.alternate;switch(f.tag){case 15:case 0:f=v4(v,f,f.pendingProps,f.type,void 0,ar);break;case 11:f=v4(v,f,f.pendingProps,f.type.render,f.ref,ar);break;case 5:uh(f);default:E4(v,f),f=tr=Xf(f,cu),f=S4(v,f,cu)}s.memoizedProps=s.pendingProps,f===null?Em(s):tr=f}function Sh(s,f,v,S){dl=mc=null,uh(f),vt=null,Gt=0;var j=f.return;try{if(AB(s,j,f,v,ar)){$i=1,dm(s,go(v,s.current)),tr=null;return}}catch(P){if(j!==null)throw tr=j,P;$i=1,dm(s,go(v,s.current)),tr=null;return}f.flags&32768?(er||S===1?s=!0:bh||(ar&536870912)!==0?s=!1:(af=s=!0,(S===2||S===9||S===3||S===6)&&(S=mi.current,S!==null&&S.tag===13&&(S.flags|=16384))),tE(f,s)):Em(f)}function Em(s){var f=s;do{if((f.flags&32768)!==0){tE(f,af);return}s=f.return;var v=NB(f.alternate,f,cu);if(v!==null){tr=v;return}if(f=f.sibling,f!==null){tr=f;return}tr=f=s}while(f!==null);$i===0&&($i=5)}function tE(s,f){do{var v=OB(s.alternate,s);if(v!==null){v.flags&=32767,tr=v;return}if(v=s.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!f&&(s=s.sibling,s!==null)){tr=s;return}tr=s=v}while(s!==null);$i=6,tr=null}function nE(s,f,v,S,j,P,X,pe,je){s.cancelPendingCommit=null;do Cm();while(Ra!==0);if((Er&6)!==0)throw Error(r(327));if(f!==null){if(f===s.current)throw Error(r(177));if(P=f.lanes|f.childLanes,P|=Kd,Di(s,v,P,X,pe,je),s===Jr&&(tr=Jr=null,ar=0),wh=f,lf=s,uu=v,Ob=P,Tb=j,$4=S,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,UB(Nn,function(){return oE(),null})):(s.callbackNode=null,s.callbackPriority=0),S=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||S){S=ie.T,ie.T=null,j=K.p,K.p=2,X=Er,Er|=4;try{TB(s,f,v)}finally{Er=X,K.p=j,ie.T=S}}Ra=1,rE(),iE(),aE()}}function rE(){if(Ra===1){Ra=0;var s=lf,f=wh,v=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||v){v=ie.T,ie.T=null;var S=K.p;K.p=2;var j=Er;Er|=4;try{L4(f,s);var P=Gb,X=ne(s.containerInfo),pe=P.focusedElem,je=P.selectionRange;if(X!==pe&&pe&&pe.ownerDocument&&$(pe.ownerDocument.documentElement,pe)){if(je!==null&&le(pe)){var Xe=je.start,ft=je.end;if(ft===void 0&&(ft=Xe),"selectionStart"in pe)pe.selectionStart=Xe,pe.selectionEnd=Math.min(ft,pe.value.length);else{var mt=pe.ownerDocument||document,Qe=mt&&mt.defaultView||window;if(Qe.getSelection){var tt=Qe.getSelection(),qt=pe.textContent.length,En=Math.min(je.start,qt),Wr=je.end===void 0?En:Math.min(je.end,qt);!tt.extend&&En>Wr&&(X=Wr,Wr=En,En=X);var Ue=B(pe,En),De=B(pe,Wr);if(Ue&&De&&(tt.rangeCount!==1||tt.anchorNode!==Ue.node||tt.anchorOffset!==Ue.offset||tt.focusNode!==De.node||tt.focusOffset!==De.offset)){var Ye=mt.createRange();Ye.setStart(Ue.node,Ue.offset),tt.removeAllRanges(),En>Wr?(tt.addRange(Ye),tt.extend(De.node,De.offset)):(Ye.setEnd(De.node,De.offset),tt.addRange(Ye))}}}}for(mt=[],tt=pe;tt=tt.parentNode;)tt.nodeType===1&&mt.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof pe.focus=="function"&&pe.focus(),pe=0;pe<mt.length;pe++){var pt=mt[pe];pt.element.scrollLeft=pt.left,pt.element.scrollTop=pt.top}}Bm=!!Hb,Gb=Hb=null}finally{Er=j,K.p=S,ie.T=v}}s.current=f,Ra=2}}function iE(){if(Ra===2){Ra=0;var s=lf,f=wh,v=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||v){v=ie.T,ie.T=null;var S=K.p;K.p=2;var j=Er;Er|=4;try{k4(s,f.alternate,f)}finally{Er=j,K.p=S,ie.T=v}}Ra=3}}function aE(){if(Ra===4||Ra===3){Ra=0,sn();var s=lf,f=wh,v=uu,S=$4;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?Ra=5:(Ra=0,wh=lf=null,sE(s,s.pendingLanes));var j=s.pendingLanes;if(j===0&&(of=null),Nr(v),f=f.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(tn,f,void 0,(f.current.flags&128)===128)}catch{}if(S!==null){f=ie.T,j=K.p,K.p=2,ie.T=null;try{for(var P=s.onRecoverableError,X=0;X<S.length;X++){var pe=S[X];P(pe.value,{componentStack:pe.stack})}}finally{ie.T=f,K.p=j}}(uu&3)!==0&&Cm(),Ac(s),j=s.pendingLanes,(v&261930)!==0&&(j&42)!==0?s===Ib?s1++:(s1=0,Ib=s):s1=0,o1(0)}}function sE(s,f){(s.pooledCacheLanes&=f)===0&&(f=s.pooledCache,f!=null&&(s.pooledCache=null,Qf(f)))}function Cm(){return rE(),iE(),aE(),oE()}function oE(){if(Ra!==5)return!1;var s=lf,f=Ob;Ob=0;var v=Nr(uu),S=ie.T,j=K.p;try{K.p=32>v?32:v,ie.T=null,v=Tb,Tb=null;var P=lf,X=uu;if(Ra=0,wh=lf=null,uu=0,(Er&6)!==0)throw Error(r(331));var pe=Er;if(Er|=4,q4(P.current),F4(P,P.current,X,v),Er=pe,o1(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(tn,P)}catch{}return!0}finally{K.p=j,ie.T=S,sE(s,f)}}function lE(s,f,v){f=go(v,f),f=lb(s.stateNode,f,2),s=Bn(s,f,2),s!==null&&(Zt(s,2),Ac(s))}function Dr(s,f,v){if(s.tag===3)lE(s,s,v);else for(;f!==null;){if(f.tag===3){lE(f,s,v);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(of===null||!of.has(S))){s=go(v,s),v=c4(2),S=Bn(f,v,2),S!==null&&(u4(v,S,f,s),Zt(S,2),Ac(S));break}}f=f.return}}function Mb(s,f,v){var S=s.pingCache;if(S===null){S=s.pingCache=new kB;var j=new Set;S.set(f,j)}else j=S.get(f),j===void 0&&(j=new Set,S.set(f,j));j.has(v)||(Eb=!0,j.add(v),s=LB.bind(null,s,f,v),f.then(s,s))}function LB(s,f,v){var S=s.pingCache;S!==null&&S.delete(f),s.pingedLanes|=s.suspendedLanes&v,s.warmLanes&=~v,Jr===s&&(ar&v)===v&&($i===4||$i===3&&(ar&62914560)===ar&&300>yn()-xm?(Er&2)===0&&_h(s,0):Cb|=v,xh===ar&&(xh=0)),Ac(s)}function cE(s,f){f===0&&(f=Ir()),s=Dl(s,f),s!==null&&(Zt(s,f),Ac(s))}function BB(s){var f=s.memoizedState,v=0;f!==null&&(v=f.retryLane),cE(s,v)}function FB(s,f){var v=0;switch(s.tag){case 31:case 13:var S=s.stateNode,j=s.memoizedState;j!==null&&(v=j.retryLane);break;case 19:S=s.stateNode;break;case 22:S=s.stateNode._retryCache;break;default:throw Error(r(314))}S!==null&&S.delete(f),cE(s,v)}function UB(s,f){return en(s,f)}var Nm=null,Ah=null,Pb=!1,Om=!1,Rb=!1,uf=0;function Ac(s){s!==Ah&&s.next===null&&(Ah===null?Nm=Ah=s:Ah=Ah.next=s),Om=!0,Pb||(Pb=!0,qB())}function o1(s,f){if(!Rb&&Om){Rb=!0;do for(var v=!1,S=Nm;S!==null;){if(s!==0){var j=S.pendingLanes;if(j===0)var P=0;else{var X=S.suspendedLanes,pe=S.pingedLanes;P=(1<<31-Ft(42|s)+1)-1,P&=j&~(X&~pe),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(v=!0,hE(S,P))}else P=ar,P=Xn(S,S===Jr?P:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(P&3)===0||ui(S,P)||(v=!0,hE(S,P));S=S.next}while(v);Rb=!1}}function zB(){uE()}function uE(){Om=Pb=!1;var s=0;uf!==0&&QB()&&(s=uf);for(var f=yn(),v=null,S=Nm;S!==null;){var j=S.next,P=fE(S,f);P===0?(S.next=null,v===null?Nm=j:v.next=j,j===null&&(Ah=v)):(v=S,(s!==0||(P&3)!==0)&&(Om=!0)),S=j}Ra!==0&&Ra!==5||o1(s),uf!==0&&(uf=0)}function fE(s,f){for(var v=s.suspendedLanes,S=s.pingedLanes,j=s.expirationTimes,P=s.pendingLanes&-62914561;0<P;){var X=31-Ft(P),pe=1<<X,je=j[X];je===-1?((pe&v)===0||(pe&S)!==0)&&(j[X]=Ri(pe,f)):je<=f&&(s.expiredLanes|=pe),P&=~pe}if(f=Jr,v=ar,v=Xn(s,s===f?v:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),S=s.callbackNode,v===0||s===f&&(Rr===2||Rr===9)||s.cancelPendingCommit!==null)return S!==null&&S!==null&&at(S),s.callbackNode=null,s.callbackPriority=0;if((v&3)===0||ui(s,v)){if(f=v&-v,f===s.callbackPriority)return f;switch(S!==null&&at(S),Nr(v)){case 2:case 8:v=zn;break;case 32:v=Nn;break;case 268435456:v=In;break;default:v=Nn}return S=dE.bind(null,s),v=en(v,S),s.callbackPriority=f,s.callbackNode=v,f}return S!==null&&S!==null&&at(S),s.callbackPriority=2,s.callbackNode=null,2}function dE(s,f){if(Ra!==0&&Ra!==5)return s.callbackNode=null,s.callbackPriority=0,null;var v=s.callbackNode;if(Cm()&&s.callbackNode!==v)return null;var S=ar;return S=Xn(s,s===Jr?S:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),S===0?null:(V4(s,S,f),fE(s,yn()),s.callbackNode!=null&&s.callbackNode===v?dE.bind(null,s):null)}function hE(s,f){if(Cm())return null;V4(s,f,!0)}function qB(){eF(function(){(Er&6)!==0?en(cn,zB):uE()})}function Db(){if(uf===0){var s=N;s===0&&(s=_n,_n<<=1,(_n&261888)===0&&(_n=256)),uf=s}return uf}function pE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ga(""+s)}function mE(s,f){var v=f.ownerDocument.createElement("input");return v.name=f.name,v.value=f.value,s.id&&v.setAttribute("form",s.id),f.parentNode.insertBefore(v,f),s=new FormData(s),v.parentNode.removeChild(v),s}function HB(s,f,v,S,j){if(f==="submit"&&v&&v.stateNode===j){var P=pE((j[Gn]||null).action),X=S.submitter;X&&(f=(f=X[Gn]||null)?pE(f.formAction):X.getAttribute("formAction"),f!==null&&(P=f,X=null));var pe=new Mr("action","action",null,S,j);s.push({event:pe,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(uf!==0){var je=X?mE(j,X):new FormData(j);nb(v,{pending:!0,data:je,method:j.method,action:P},null,je)}}else typeof P=="function"&&(pe.preventDefault(),je=X?mE(j,X):new FormData(j),nb(v,{pending:!0,data:je,method:j.method,action:P},P,je))},currentTarget:j}]})}}for(var Lb=0;Lb<Rl.length;Lb++){var Bb=Rl[Lb],GB=Bb.toLowerCase(),$B=Bb[0].toUpperCase()+Bb.slice(1);po(GB,"on"+$B)}po(sa,"onAnimationEnd"),po(Bi,"onAnimationIteration"),po(gr,"onAnimationStart"),po("dblclick","onDoubleClick"),po("focusin","onFocus"),po("focusout","onBlur"),po(Fi,"onTransitionRun"),po(Ka,"onTransitionStart"),po(Pl,"onTransitionCancel"),po(fl,"onTransitionEnd"),Ha("onMouseEnter",["mouseout","mouseover"]),Ha("onMouseLeave",["mouseout","mouseover"]),Ha("onPointerEnter",["pointerout","pointerover"]),Ha("onPointerLeave",["pointerout","pointerover"]),rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var l1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(l1));function gE(s,f){f=(f&4)!==0;for(var v=0;v<s.length;v++){var S=s[v],j=S.event;S=S.listeners;e:{var P=void 0;if(f)for(var X=S.length-1;0<=X;X--){var pe=S[X],je=pe.instance,Xe=pe.currentTarget;if(pe=pe.listener,je!==P&&j.isPropagationStopped())break e;P=pe,j.currentTarget=Xe;try{P(j)}catch(ft){$f(ft)}j.currentTarget=null,P=je}else for(X=0;X<S.length;X++){if(pe=S[X],je=pe.instance,Xe=pe.currentTarget,pe=pe.listener,je!==P&&j.isPropagationStopped())break e;P=pe,j.currentTarget=Xe;try{P(j)}catch(ft){$f(ft)}j.currentTarget=null,P=je}}}}function nr(s,f){var v=f[ha];v===void 0&&(v=f[ha]=new Set);var S=s+"__bubble";v.has(S)||(vE(f,s,2,!1),v.add(S))}function Fb(s,f,v){var S=0;f&&(S|=4),vE(v,s,S,f)}var Tm="_reactListening"+Math.random().toString(36).slice(2);function Ub(s){if(!s[Tm]){s[Tm]=!0,gt.forEach(function(v){v!=="selectionchange"&&(WB.has(v)||Fb(v,!1,s),Fb(v,!0,s))});var f=s.nodeType===9?s:s.ownerDocument;f===null||f[Tm]||(f[Tm]=!0,Fb("selectionchange",!1,f))}}function vE(s,f,v,S){switch(WE(f)){case 2:var j=xF;break;case 8:j=wF;break;default:j=tx}v=j.bind(null,f,v,s),j=void 0,!Yc||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(j=!0),S?j!==void 0?s.addEventListener(f,v,{capture:!0,passive:j}):s.addEventListener(f,v,!0):j!==void 0?s.addEventListener(f,v,{passive:j}):s.addEventListener(f,v,!1)}function zb(s,f,v,S,j){var P=S;if((f&1)===0&&(f&2)===0&&S!==null)e:for(;;){if(S===null)return;var X=S.tag;if(X===3||X===4){var pe=S.stateNode.containerInfo;if(pe===j)break;if(X===4)for(X=S.return;X!==null;){var je=X.tag;if((je===3||je===4)&&X.stateNode.containerInfo===j)return;X=X.return}for(;pe!==null;){if(X=jr(pe),X===null)return;if(je=X.tag,je===5||je===6||je===26||je===27){S=P=X;continue e}pe=pe.parentNode}}S=S.return}Wu(function(){var Xe=P,ft=Ol(v),mt=[];e:{var Qe=Gf.get(s);if(Qe!==void 0){var tt=Mr,qt=s;switch(s){case"keypress":if(va(v)===0)break e;case"keydown":case"keyup":tt=$n;break;case"focusin":qt="focus",tt=Bo;break;case"focusout":qt="blur",tt=Bo;break;case"beforeblur":case"afterblur":tt=Bo;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=ir;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Cs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=Ii;break;case sa:case Bi:case gr:tt=L;break;case fl:tt=Xr;break;case"scroll":case"scrollend":tt=Il;break;case"wheel":tt=Ys;break;case"copy":case"cut":case"paste":tt=Ae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=An;break;case"toggle":case"beforetoggle":tt=kl}var En=(f&4)!==0,Wr=!En&&(s==="scroll"||s==="scrollend"),Ue=En?Qe!==null?Qe+"Capture":null:Qe;En=[];for(var De=Xe,Ye;De!==null;){var pt=De;if(Ye=pt.stateNode,pt=pt.tag,pt!==5&&pt!==26&&pt!==27||Ye===null||Ue===null||(pt=dn(De,Ue),pt!=null&&En.push(c1(De,pt,Ye))),Wr)break;De=De.return}0<En.length&&(Qe=new tt(Qe,qt,null,v,ft),mt.push({event:Qe,listeners:En}))}}if((f&7)===0){e:{if(Qe=s==="mouseover"||s==="pointerover",tt=s==="mouseout"||s==="pointerout",Qe&&v!==$s&&(qt=v.relatedTarget||v.fromElement)&&(jr(qt)||qt[fi]))break e;if((tt||Qe)&&(Qe=ft.window===ft?ft:(Qe=ft.ownerDocument)?Qe.defaultView||Qe.parentWindow:window,tt?(qt=v.relatedTarget||v.toElement,tt=Xe,qt=qt?jr(qt):null,qt!==null&&(Wr=a(qt),En=qt.tag,qt!==Wr||En!==5&&En!==27&&En!==6)&&(qt=null)):(tt=null,qt=Xe),tt!==qt)){if(En=ir,pt="onMouseLeave",Ue="onMouseEnter",De="mouse",(s==="pointerout"||s==="pointerover")&&(En=An,pt="onPointerLeave",Ue="onPointerEnter",De="pointer"),Wr=tt==null?Qe:sl(tt),Ye=qt==null?Qe:sl(qt),Qe=new En(pt,De+"leave",tt,v,ft),Qe.target=Wr,Qe.relatedTarget=Ye,pt=null,jr(ft)===Xe&&(En=new En(Ue,De+"enter",qt,v,ft),En.target=Ye,En.relatedTarget=Wr,pt=En),Wr=pt,tt&&qt)t:{for(En=VB,Ue=tt,De=qt,Ye=0,pt=Ue;pt;pt=En(pt))Ye++;pt=0;for(var vn=De;vn;vn=En(vn))pt++;for(;0<Ye-pt;)Ue=En(Ue),Ye--;for(;0<pt-Ye;)De=En(De),pt--;for(;Ye--;){if(Ue===De||De!==null&&Ue===De.alternate){En=Ue;break t}Ue=En(Ue),De=En(De)}En=null}else En=null;tt!==null&&yE(mt,Qe,tt,En,!1),qt!==null&&Wr!==null&&yE(mt,Wr,qt,En,!0)}}e:{if(Qe=Xe?sl(Xe):window,tt=Qe.nodeName&&Qe.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Qe.type==="file")var br=ia;else if(fc(Qe))if(Ya)br=b;else{br=p;var Qt=l}else tt=Qe.nodeName,!tt||tt.toLowerCase()!=="input"||Qe.type!=="checkbox"&&Qe.type!=="radio"?Xe&&_r(Xe.elementType)&&(br=ia):br=m;if(br&&(br=br(s,Xe))){ai(mt,br,v,ft);break e}Qt&&Qt(s,Qe,Xe),s==="focusout"&&Xe&&Qe.type==="number"&&Xe.memoizedProps.value!=null&&_e(Qe,"number",Qe.value)}switch(Qt=Xe?sl(Xe):window,s){case"focusin":(fc(Qt)||Qt.contentEditable==="true")&&(Ie=Qt,Pe=Xe,Be=null);break;case"focusout":Be=Pe=Ie=null;break;case"mousedown":Ze=!0;break;case"contextmenu":case"mouseup":case"dragend":Ze=!1,ct(mt,v,ft);break;case"selectionchange":if(Se)break;case"keydown":case"keyup":ct(mt,v,ft)}var Hn;if(Ns)e:{switch(s){case"compositionstart":var sr="onCompositionStart";break e;case"compositionend":sr="onCompositionEnd";break e;case"compositionupdate":sr="onCompositionUpdate";break e}sr=void 0}else ho?ul(s,v)&&(sr="onCompositionEnd"):s==="keydown"&&v.keyCode===229&&(sr="onCompositionStart");sr&&(Fo&&v.locale!=="ko"&&(ho||sr!=="onCompositionStart"?sr==="onCompositionEnd"&&ho&&(Hn=ol()):($a=ft,hs="value"in $a?$a.value:$a.textContent,ho=!0)),Qt=Im(Xe,sr),0<Qt.length&&(sr=new Fe(sr,s,null,v,ft),mt.push({event:sr,listeners:Qt}),Hn?sr.data=Hn:(Hn=fo(v),Hn!==null&&(sr.data=Hn)))),(Hn=cl?ii(s,v):Ts(s,v))&&(sr=Im(Xe,"onBeforeInput"),0<sr.length&&(Qt=new Fe("onBeforeInput","beforeinput",null,v,ft),mt.push({event:Qt,listeners:sr}),Qt.data=Hn)),HB(mt,s,Xe,v,ft)}gE(mt,f)})}function c1(s,f,v){return{instance:s,listener:f,currentTarget:v}}function Im(s,f){for(var v=f+"Capture",S=[];s!==null;){var j=s,P=j.stateNode;if(j=j.tag,j!==5&&j!==26&&j!==27||P===null||(j=dn(s,v),j!=null&&S.unshift(c1(s,j,P)),j=dn(s,f),j!=null&&S.push(c1(s,j,P))),s.tag===3)return S;s=s.return}return[]}function VB(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function yE(s,f,v,S,j){for(var P=f._reactName,X=[];v!==null&&v!==S;){var pe=v,je=pe.alternate,Xe=pe.stateNode;if(pe=pe.tag,je!==null&&je===S)break;pe!==5&&pe!==26&&pe!==27||Xe===null||(je=Xe,j?(Xe=dn(v,P),Xe!=null&&X.unshift(c1(v,Xe,je))):j||(Xe=dn(v,P),Xe!=null&&X.push(c1(v,Xe,je)))),v=v.return}X.length!==0&&s.push({event:f,listeners:X})}var YB=/\r\n?/g,XB=/\u0000|\uFFFD/g;function bE(s){return(typeof s=="string"?s:""+s).replace(YB,`
`).replace(XB,"")}function xE(s,f){return f=bE(f),bE(s)===f}function $r(s,f,v,S,j,P){switch(v){case"children":typeof S=="string"?f==="body"||f==="textarea"&&S===""||Gs(s,S):(typeof S=="number"||typeof S=="bigint")&&f!=="body"&&Gs(s,""+S);break;case"className":Hs(s,"class",S);break;case"tabIndex":Hs(s,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":Hs(s,v,S);break;case"style":nn(s,S,P);break;case"data":if(f!=="object"){Hs(s,"data",S);break}case"src":case"href":if(S===""&&(f!=="a"||v!=="href")){s.removeAttribute(v);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){s.removeAttribute(v);break}S=ga(""+S),s.setAttribute(v,S);break;case"action":case"formAction":if(typeof S=="function"){s.setAttribute(v,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(v==="formAction"?(f!=="input"&&$r(s,f,"name",j.name,j,null),$r(s,f,"formEncType",j.formEncType,j,null),$r(s,f,"formMethod",j.formMethod,j,null),$r(s,f,"formTarget",j.formTarget,j,null)):($r(s,f,"encType",j.encType,j,null),$r(s,f,"method",j.method,j,null),$r(s,f,"target",j.target,j,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){s.removeAttribute(v);break}S=ga(""+S),s.setAttribute(v,S);break;case"onClick":S!=null&&(s.onclick=Ga);break;case"onScroll":S!=null&&nr("scroll",s);break;case"onScrollEnd":S!=null&&nr("scrollend",s);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(v=S.__html,v!=null){if(j.children!=null)throw Error(r(60));s.innerHTML=v}}break;case"multiple":s.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":s.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){s.removeAttribute("xlink:href");break}v=ga(""+S),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?s.setAttribute(v,""+S):s.removeAttribute(v);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?s.setAttribute(v,""):s.removeAttribute(v);break;case"capture":case"download":S===!0?s.setAttribute(v,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?s.setAttribute(v,S):s.removeAttribute(v);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?s.setAttribute(v,S):s.removeAttribute(v);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?s.removeAttribute(v):s.setAttribute(v,S);break;case"popover":nr("beforetoggle",s),nr("toggle",s),Na(s,"popover",S);break;case"xlinkActuate":ds(s,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":ds(s,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":ds(s,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":ds(s,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":ds(s,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":ds(s,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":ds(s,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":ds(s,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":ds(s,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":Na(s,"is",S);break;case"innerText":case"textContent":break;default:(!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(v=uc.get(v)||v,Na(s,v,S))}}function qb(s,f,v,S,j,P){switch(v){case"style":nn(s,S,P);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(v=S.__html,v!=null){if(j.children!=null)throw Error(r(60));s.innerHTML=v}}break;case"children":typeof S=="string"?Gs(s,S):(typeof S=="number"||typeof S=="bigint")&&Gs(s,""+S);break;case"onScroll":S!=null&&nr("scroll",s);break;case"onScrollEnd":S!=null&&nr("scrollend",s);break;case"onClick":S!=null&&(s.onclick=Ga);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fs.hasOwnProperty(v))e:{if(v[0]==="o"&&v[1]==="n"&&(j=v.endsWith("Capture"),f=v.slice(2,j?v.length-7:void 0),P=s[Gn]||null,P=P!=null?P[v]:null,typeof P=="function"&&s.removeEventListener(f,P,j),typeof S=="function")){typeof P!="function"&&P!==null&&(v in s?s[v]=null:s.hasAttribute(v)&&s.removeAttribute(v)),s.addEventListener(f,S,j);break e}v in s?s[v]=S:S===!0?s.setAttribute(v,""):Na(s,v,S)}}}function vs(s,f,v){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nr("error",s),nr("load",s);var S=!1,j=!1,P;for(P in v)if(v.hasOwnProperty(P)){var X=v[P];if(X!=null)switch(P){case"src":S=!0;break;case"srcSet":j=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:$r(s,f,P,X,v,null)}}j&&$r(s,f,"srcSet",v.srcSet,v,null),S&&$r(s,f,"src",v.src,v,null);return;case"input":nr("invalid",s);var pe=P=X=j=null,je=null,Xe=null;for(S in v)if(v.hasOwnProperty(S)){var ft=v[S];if(ft!=null)switch(S){case"name":j=ft;break;case"type":X=ft;break;case"checked":je=ft;break;case"defaultChecked":Xe=ft;break;case"value":P=ft;break;case"defaultValue":pe=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(r(137,f));break;default:$r(s,f,S,ft,v,null)}}$e(s,P,pe,je,Xe,X,j,!1);return;case"select":nr("invalid",s),S=X=P=null;for(j in v)if(v.hasOwnProperty(j)&&(pe=v[j],pe!=null))switch(j){case"value":P=pe;break;case"defaultValue":X=pe;break;case"multiple":S=pe;default:$r(s,f,j,pe,v,null)}f=P,v=X,s.multiple=!!S,f!=null?It(s,!!S,f,!1):v!=null&&It(s,!!S,v,!0);return;case"textarea":nr("invalid",s),P=j=S=null;for(X in v)if(v.hasOwnProperty(X)&&(pe=v[X],pe!=null))switch(X){case"value":S=pe;break;case"defaultValue":j=pe;break;case"children":P=pe;break;case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(91));break;default:$r(s,f,X,pe,v,null)}ma(s,S,j,P);return;case"option":for(je in v)if(v.hasOwnProperty(je)&&(S=v[je],S!=null))switch(je){case"selected":s.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:$r(s,f,je,S,v,null)}return;case"dialog":nr("beforetoggle",s),nr("toggle",s),nr("cancel",s),nr("close",s);break;case"iframe":case"object":nr("load",s);break;case"video":case"audio":for(S=0;S<l1.length;S++)nr(l1[S],s);break;case"image":nr("error",s),nr("load",s);break;case"details":nr("toggle",s);break;case"embed":case"source":case"link":nr("error",s),nr("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Xe in v)if(v.hasOwnProperty(Xe)&&(S=v[Xe],S!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:$r(s,f,Xe,S,v,null)}return;default:if(_r(f)){for(ft in v)v.hasOwnProperty(ft)&&(S=v[ft],S!==void 0&&qb(s,f,ft,S,v,void 0));return}}for(pe in v)v.hasOwnProperty(pe)&&(S=v[pe],S!=null&&$r(s,f,pe,S,v,null))}function KB(s,f,v,S){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var j=null,P=null,X=null,pe=null,je=null,Xe=null,ft=null;for(tt in v){var mt=v[tt];if(v.hasOwnProperty(tt)&&mt!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":je=mt;default:S.hasOwnProperty(tt)||$r(s,f,tt,null,S,mt)}}for(var Qe in S){var tt=S[Qe];if(mt=v[Qe],S.hasOwnProperty(Qe)&&(tt!=null||mt!=null))switch(Qe){case"type":P=tt;break;case"name":j=tt;break;case"checked":Xe=tt;break;case"defaultChecked":ft=tt;break;case"value":X=tt;break;case"defaultValue":pe=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(r(137,f));break;default:tt!==mt&&$r(s,f,Qe,tt,S,mt)}}di(s,X,pe,je,Xe,ft,P,j);return;case"select":tt=X=pe=Qe=null;for(P in v)if(je=v[P],v.hasOwnProperty(P)&&je!=null)switch(P){case"value":break;case"multiple":tt=je;default:S.hasOwnProperty(P)||$r(s,f,P,null,S,je)}for(j in S)if(P=S[j],je=v[j],S.hasOwnProperty(j)&&(P!=null||je!=null))switch(j){case"value":Qe=P;break;case"defaultValue":pe=P;break;case"multiple":X=P;default:P!==je&&$r(s,f,j,P,S,je)}f=pe,v=X,S=tt,Qe!=null?It(s,!!v,Qe,!1):!!S!=!!v&&(f!=null?It(s,!!v,f,!0):It(s,!!v,v?[]:"",!1));return;case"textarea":tt=Qe=null;for(pe in v)if(j=v[pe],v.hasOwnProperty(pe)&&j!=null&&!S.hasOwnProperty(pe))switch(pe){case"value":break;case"children":break;default:$r(s,f,pe,null,S,j)}for(X in S)if(j=S[X],P=v[X],S.hasOwnProperty(X)&&(j!=null||P!=null))switch(X){case"value":Qe=j;break;case"defaultValue":tt=j;break;case"children":break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:j!==P&&$r(s,f,X,j,S,P)}ni(s,Qe,tt);return;case"option":for(var qt in v)if(Qe=v[qt],v.hasOwnProperty(qt)&&Qe!=null&&!S.hasOwnProperty(qt))switch(qt){case"selected":s.selected=!1;break;default:$r(s,f,qt,null,S,Qe)}for(je in S)if(Qe=S[je],tt=v[je],S.hasOwnProperty(je)&&Qe!==tt&&(Qe!=null||tt!=null))switch(je){case"selected":s.selected=Qe&&typeof Qe!="function"&&typeof Qe!="symbol";break;default:$r(s,f,je,Qe,S,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var En in v)Qe=v[En],v.hasOwnProperty(En)&&Qe!=null&&!S.hasOwnProperty(En)&&$r(s,f,En,null,S,Qe);for(Xe in S)if(Qe=S[Xe],tt=v[Xe],S.hasOwnProperty(Xe)&&Qe!==tt&&(Qe!=null||tt!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(r(137,f));break;default:$r(s,f,Xe,Qe,S,tt)}return;default:if(_r(f)){for(var Wr in v)Qe=v[Wr],v.hasOwnProperty(Wr)&&Qe!==void 0&&!S.hasOwnProperty(Wr)&&qb(s,f,Wr,void 0,S,Qe);for(ft in S)Qe=S[ft],tt=v[ft],!S.hasOwnProperty(ft)||Qe===tt||Qe===void 0&&tt===void 0||qb(s,f,ft,Qe,S,tt);return}}for(var Ue in v)Qe=v[Ue],v.hasOwnProperty(Ue)&&Qe!=null&&!S.hasOwnProperty(Ue)&&$r(s,f,Ue,null,S,Qe);for(mt in S)Qe=S[mt],tt=v[mt],!S.hasOwnProperty(mt)||Qe===tt||Qe==null&&tt==null||$r(s,f,mt,Qe,S,tt)}function wE(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZB(){if(typeof performance.getEntriesByType=="function"){for(var s=0,f=0,v=performance.getEntriesByType("resource"),S=0;S<v.length;S++){var j=v[S],P=j.transferSize,X=j.initiatorType,pe=j.duration;if(P&&pe&&wE(X)){for(X=0,pe=j.responseEnd,S+=1;S<v.length;S++){var je=v[S],Xe=je.startTime;if(Xe>pe)break;var ft=je.transferSize,mt=je.initiatorType;ft&&wE(mt)&&(je=je.responseEnd,X+=ft*(je<pe?1:(pe-Xe)/(je-Xe)))}if(--S,f+=8*(P+X)/(j.duration/1e3),s++,10<s)break}}if(0<s)return f/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Hb=null,Gb=null;function jm(s){return s.nodeType===9?s:s.ownerDocument}function _E(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function SE(s,f){if(s===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&f==="foreignObject"?0:s}function $b(s,f){return s==="textarea"||s==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var Wb=null;function QB(){var s=window.event;return s&&s.type==="popstate"?s===Wb?!1:(Wb=s,!0):(Wb=null,!1)}var AE=typeof setTimeout=="function"?setTimeout:void 0,JB=typeof clearTimeout=="function"?clearTimeout:void 0,EE=typeof Promise=="function"?Promise:void 0,eF=typeof queueMicrotask=="function"?queueMicrotask:typeof EE<"u"?function(s){return EE.resolve(null).then(s).catch(tF)}:AE;function tF(s){setTimeout(function(){throw s})}function ff(s){return s==="head"}function CE(s,f){var v=f,S=0;do{var j=v.nextSibling;if(s.removeChild(v),j&&j.nodeType===8)if(v=j.data,v==="/$"||v==="/&"){if(S===0){s.removeChild(j),Oh(f);return}S--}else if(v==="$"||v==="$?"||v==="$~"||v==="$!"||v==="&")S++;else if(v==="html")u1(s.ownerDocument.documentElement);else if(v==="head"){v=s.ownerDocument.head,u1(v);for(var P=v.firstChild;P;){var X=P.nextSibling,pe=P.nodeName;P[qs]||pe==="SCRIPT"||pe==="STYLE"||pe==="LINK"&&P.rel.toLowerCase()==="stylesheet"||v.removeChild(P),P=X}}else v==="body"&&u1(s.ownerDocument.body);v=j}while(v);Oh(f)}function NE(s,f){var v=s;s=0;do{var S=v.nextSibling;if(v.nodeType===1?f?(v._stashedDisplay=v.style.display,v.style.display="none"):(v.style.display=v._stashedDisplay||"",v.getAttribute("style")===""&&v.removeAttribute("style")):v.nodeType===3&&(f?(v._stashedText=v.nodeValue,v.nodeValue=""):v.nodeValue=v._stashedText||""),S&&S.nodeType===8)if(v=S.data,v==="/$"){if(s===0)break;s--}else v!=="$"&&v!=="$?"&&v!=="$~"&&v!=="$!"||s++;v=S}while(v)}function Vb(s){var f=s.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var v=f;switch(f=f.nextSibling,v.nodeName){case"HTML":case"HEAD":case"BODY":Vb(v),ta(v);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(v.rel.toLowerCase()==="stylesheet")continue}s.removeChild(v)}}function nF(s,f,v,S){for(;s.nodeType===1;){var j=v;if(s.nodeName.toLowerCase()!==f.toLowerCase()){if(!S&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(S){if(!s[qs])switch(f){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(P=s.getAttribute("rel"),P==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(P!==j.rel||s.getAttribute("href")!==(j.href==null||j.href===""?null:j.href)||s.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin)||s.getAttribute("title")!==(j.title==null?null:j.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(P=s.getAttribute("src"),(P!==(j.src==null?null:j.src)||s.getAttribute("type")!==(j.type==null?null:j.type)||s.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin))&&P&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(f==="input"&&s.type==="hidden"){var P=j.name==null?null:""+j.name;if(j.type==="hidden"&&s.getAttribute("name")===P)return s}else return s;if(s=ml(s.nextSibling),s===null)break}return null}function rF(s,f,v){if(f==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!v||(s=ml(s.nextSibling),s===null))return null;return s}function OE(s,f){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!f||(s=ml(s.nextSibling),s===null))return null;return s}function Yb(s){return s.data==="$?"||s.data==="$~"}function Xb(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function iF(s,f){var v=s.ownerDocument;if(s.data==="$~")s._reactRetry=f;else if(s.data!=="$?"||v.readyState!=="loading")f();else{var S=function(){f(),v.removeEventListener("DOMContentLoaded",S)};v.addEventListener("DOMContentLoaded",S),s._reactRetry=S}}function ml(s){for(;s!=null;s=s.nextSibling){var f=s.nodeType;if(f===1||f===3)break;if(f===8){if(f=s.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return s}var Kb=null;function TE(s){s=s.nextSibling;for(var f=0;s;){if(s.nodeType===8){var v=s.data;if(v==="/$"||v==="/&"){if(f===0)return ml(s.nextSibling);f--}else v!=="$"&&v!=="$!"&&v!=="$?"&&v!=="$~"&&v!=="&"||f++}s=s.nextSibling}return null}function IE(s){s=s.previousSibling;for(var f=0;s;){if(s.nodeType===8){var v=s.data;if(v==="$"||v==="$!"||v==="$?"||v==="$~"||v==="&"){if(f===0)return s;f--}else v!=="/$"&&v!=="/&"||f++}s=s.previousSibling}return null}function jE(s,f,v){switch(f=jm(v),s){case"html":if(s=f.documentElement,!s)throw Error(r(452));return s;case"head":if(s=f.head,!s)throw Error(r(453));return s;case"body":if(s=f.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function u1(s){for(var f=s.attributes;f.length;)s.removeAttributeNode(f[0]);ta(s)}var gl=new Map,kE=new Set;function km(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var fu=K.d;K.d={f:aF,r:sF,D:oF,C:lF,L:cF,m:uF,X:dF,S:fF,M:hF};function aF(){var s=fu.f(),f=Sm();return s||f}function sF(s){var f=Kn(s);f!==null&&f.tag===5&&f.type==="form"?XA(f):fu.r(s)}var Eh=typeof document>"u"?null:document;function ME(s,f,v){var S=Eh;if(S&&typeof f=="string"&&f){var j=Tn(f);j='link[rel="'+s+'"][href="'+j+'"]',typeof v=="string"&&(j+='[crossorigin="'+v+'"]'),kE.has(j)||(kE.add(j),s={rel:s,crossOrigin:v,href:f},S.querySelector(j)===null&&(f=S.createElement("link"),vs(f,"link",s),Yr(f),S.head.appendChild(f)))}}function oF(s){fu.D(s),ME("dns-prefetch",s,null)}function lF(s,f){fu.C(s,f),ME("preconnect",s,f)}function cF(s,f,v){fu.L(s,f,v);var S=Eh;if(S&&s&&f){var j='link[rel="preload"][as="'+Tn(f)+'"]';f==="image"&&v&&v.imageSrcSet?(j+='[imagesrcset="'+Tn(v.imageSrcSet)+'"]',typeof v.imageSizes=="string"&&(j+='[imagesizes="'+Tn(v.imageSizes)+'"]')):j+='[href="'+Tn(s)+'"]';var P=j;switch(f){case"style":P=Ch(s);break;case"script":P=Nh(s)}gl.has(P)||(s=g({rel:"preload",href:f==="image"&&v&&v.imageSrcSet?void 0:s,as:f},v),gl.set(P,s),S.querySelector(j)!==null||f==="style"&&S.querySelector(f1(P))||f==="script"&&S.querySelector(d1(P))||(f=S.createElement("link"),vs(f,"link",s),Yr(f),S.head.appendChild(f)))}}function uF(s,f){fu.m(s,f);var v=Eh;if(v&&s){var S=f&&typeof f.as=="string"?f.as:"script",j='link[rel="modulepreload"][as="'+Tn(S)+'"][href="'+Tn(s)+'"]',P=j;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=Nh(s)}if(!gl.has(P)&&(s=g({rel:"modulepreload",href:s},f),gl.set(P,s),v.querySelector(j)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(v.querySelector(d1(P)))return}S=v.createElement("link"),vs(S,"link",s),Yr(S),v.head.appendChild(S)}}}function fF(s,f,v){fu.S(s,f,v);var S=Eh;if(S&&s){var j=na(S).hoistableStyles,P=Ch(s);f=f||"default";var X=j.get(P);if(!X){var pe={loading:0,preload:null};if(X=S.querySelector(f1(P)))pe.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":f},v),(v=gl.get(P))&&Zb(s,v);var je=X=S.createElement("link");Yr(je),vs(je,"link",s),je._p=new Promise(function(Xe,ft){je.onload=Xe,je.onerror=ft}),je.addEventListener("load",function(){pe.loading|=1}),je.addEventListener("error",function(){pe.loading|=2}),pe.loading|=4,Mm(X,f,S)}X={type:"stylesheet",instance:X,count:1,state:pe},j.set(P,X)}}}function dF(s,f){fu.X(s,f);var v=Eh;if(v&&s){var S=na(v).hoistableScripts,j=Nh(s),P=S.get(j);P||(P=v.querySelector(d1(j)),P||(s=g({src:s,async:!0},f),(f=gl.get(j))&&Qb(s,f),P=v.createElement("script"),Yr(P),vs(P,"link",s),v.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},S.set(j,P))}}function hF(s,f){fu.M(s,f);var v=Eh;if(v&&s){var S=na(v).hoistableScripts,j=Nh(s),P=S.get(j);P||(P=v.querySelector(d1(j)),P||(s=g({src:s,async:!0,type:"module"},f),(f=gl.get(j))&&Qb(s,f),P=v.createElement("script"),Yr(P),vs(P,"link",s),v.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},S.set(j,P))}}function PE(s,f,v,S){var j=(j=xe.current)?km(j):null;if(!j)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof v.precedence=="string"&&typeof v.href=="string"?(f=Ch(v.href),v=na(j).hoistableStyles,S=v.get(f),S||(S={type:"style",instance:null,count:0,state:null},v.set(f,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(v.rel==="stylesheet"&&typeof v.href=="string"&&typeof v.precedence=="string"){s=Ch(v.href);var P=na(j).hoistableStyles,X=P.get(s);if(X||(j=j.ownerDocument||j,X={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(s,X),(P=j.querySelector(f1(s)))&&!P._p&&(X.instance=P,X.state.loading=5),gl.has(s)||(v={rel:"preload",as:"style",href:v.href,crossOrigin:v.crossOrigin,integrity:v.integrity,media:v.media,hrefLang:v.hrefLang,referrerPolicy:v.referrerPolicy},gl.set(s,v),P||pF(j,s,v,X.state))),f&&S===null)throw Error(r(528,""));return X}if(f&&S!==null)throw Error(r(529,""));return null;case"script":return f=v.async,v=v.src,typeof v=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Nh(v),v=na(j).hoistableScripts,S=v.get(f),S||(S={type:"script",instance:null,count:0,state:null},v.set(f,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Ch(s){return'href="'+Tn(s)+'"'}function f1(s){return'link[rel="stylesheet"]['+s+"]"}function RE(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function pF(s,f,v,S){s.querySelector('link[rel="preload"][as="style"]['+f+"]")?S.loading=1:(f=s.createElement("link"),S.preload=f,f.addEventListener("load",function(){return S.loading|=1}),f.addEventListener("error",function(){return S.loading|=2}),vs(f,"link",v),Yr(f),s.head.appendChild(f))}function Nh(s){return'[src="'+Tn(s)+'"]'}function d1(s){return"script[async]"+s}function DE(s,f,v){if(f.count++,f.instance===null)switch(f.type){case"style":var S=s.querySelector('style[data-href~="'+Tn(v.href)+'"]');if(S)return f.instance=S,Yr(S),S;var j=g({},v,{"data-href":v.href,"data-precedence":v.precedence,href:null,precedence:null});return S=(s.ownerDocument||s).createElement("style"),Yr(S),vs(S,"style",j),Mm(S,v.precedence,s),f.instance=S;case"stylesheet":j=Ch(v.href);var P=s.querySelector(f1(j));if(P)return f.state.loading|=4,f.instance=P,Yr(P),P;S=RE(v),(j=gl.get(j))&&Zb(S,j),P=(s.ownerDocument||s).createElement("link"),Yr(P);var X=P;return X._p=new Promise(function(pe,je){X.onload=pe,X.onerror=je}),vs(P,"link",S),f.state.loading|=4,Mm(P,v.precedence,s),f.instance=P;case"script":return P=Nh(v.src),(j=s.querySelector(d1(P)))?(f.instance=j,Yr(j),j):(S=v,(j=gl.get(P))&&(S=g({},v),Qb(S,j)),s=s.ownerDocument||s,j=s.createElement("script"),Yr(j),vs(j,"link",S),s.head.appendChild(j),f.instance=j);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(S=f.instance,f.state.loading|=4,Mm(S,v.precedence,s));return f.instance}function Mm(s,f,v){for(var S=v.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),j=S.length?S[S.length-1]:null,P=j,X=0;X<S.length;X++){var pe=S[X];if(pe.dataset.precedence===f)P=pe;else if(P!==j)break}P?P.parentNode.insertBefore(s,P.nextSibling):(f=v.nodeType===9?v.head:v,f.insertBefore(s,f.firstChild))}function Zb(s,f){s.crossOrigin==null&&(s.crossOrigin=f.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=f.referrerPolicy),s.title==null&&(s.title=f.title)}function Qb(s,f){s.crossOrigin==null&&(s.crossOrigin=f.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=f.referrerPolicy),s.integrity==null&&(s.integrity=f.integrity)}var Pm=null;function LE(s,f,v){if(Pm===null){var S=new Map,j=Pm=new Map;j.set(v,S)}else j=Pm,S=j.get(v),S||(S=new Map,j.set(v,S));if(S.has(s))return S;for(S.set(s,null),v=v.getElementsByTagName(s),j=0;j<v.length;j++){var P=v[j];if(!(P[qs]||P[pr]||s==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var X=P.getAttribute(f)||"";X=s+X;var pe=S.get(X);pe?pe.push(P):S.set(X,[P])}}return S}function BE(s,f,v){s=s.ownerDocument||s,s.head.insertBefore(v,f==="title"?s.querySelector("head > title"):null)}function mF(s,f,v){if(v===1||f.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return s=f.disabled,typeof f.precedence=="string"&&s==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function FE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function gF(s,f,v,S){if(v.type==="stylesheet"&&(typeof S.media!="string"||matchMedia(S.media).matches!==!1)&&(v.state.loading&4)===0){if(v.instance===null){var j=Ch(S.href),P=f.querySelector(f1(j));if(P){f=P._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(s.count++,s=Rm.bind(s),f.then(s,s)),v.state.loading|=4,v.instance=P,Yr(P);return}P=f.ownerDocument||f,S=RE(S),(j=gl.get(j))&&Zb(S,j),P=P.createElement("link"),Yr(P);var X=P;X._p=new Promise(function(pe,je){X.onload=pe,X.onerror=je}),vs(P,"link",S),v.instance=P}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(v,f),(f=v.state.preload)&&(v.state.loading&3)===0&&(s.count++,v=Rm.bind(s),f.addEventListener("load",v),f.addEventListener("error",v))}}var Jb=0;function vF(s,f){return s.stylesheets&&s.count===0&&Lm(s,s.stylesheets),0<s.count||0<s.imgCount?function(v){var S=setTimeout(function(){if(s.stylesheets&&Lm(s,s.stylesheets),s.unsuspend){var P=s.unsuspend;s.unsuspend=null,P()}},6e4+f);0<s.imgBytes&&Jb===0&&(Jb=62500*ZB());var j=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Lm(s,s.stylesheets),s.unsuspend)){var P=s.unsuspend;s.unsuspend=null,P()}},(s.imgBytes>Jb?50:800)+f);return s.unsuspend=v,function(){s.unsuspend=null,clearTimeout(S),clearTimeout(j)}}:null}function Rm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Dm=null;function Lm(s,f){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Dm=new Map,f.forEach(yF,s),Dm=null,Rm.call(s))}function yF(s,f){if(!(f.state.loading&4)){var v=Dm.get(s);if(v)var S=v.get(null);else{v=new Map,Dm.set(s,v);for(var j=s.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<j.length;P++){var X=j[P];(X.nodeName==="LINK"||X.getAttribute("media")!=="not all")&&(v.set(X.dataset.precedence,X),S=X)}S&&v.set(null,S)}j=f.instance,X=j.getAttribute("data-precedence"),P=v.get(X)||S,P===S&&v.set(null,j),v.set(X,j),this.count++,S=Rm.bind(this),j.addEventListener("load",S),j.addEventListener("error",S),P?P.parentNode.insertBefore(j,P.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(j,s.firstChild)),f.state.loading|=4}}var h1={$$typeof:F,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function bF(s,f,v,S,j,P,X,pe,je){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ea(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ea(0),this.hiddenUpdates=ea(null),this.identifierPrefix=S,this.onUncaughtError=j,this.onCaughtError=P,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=je,this.incompleteTransitions=new Map}function UE(s,f,v,S,j,P,X,pe,je,Xe,ft,mt){return s=new bF(s,f,v,X,je,Xe,ft,mt,pe),f=1,P===!0&&(f|=24),P=Qa(3,null,null,f),s.current=P,P.stateNode=s,f=Qu(),f.refCount++,s.pooledCache=f,f.refCount++,P.memoizedState={element:S,isDehydrated:v,cache:f},St(P),s}function zE(s){return s?(s=Ia,s):Ia}function qE(s,f,v,S,j,P){j=zE(j),S.context===null?S.context=j:S.pendingContext=j,S=wn(f),S.payload={element:v},P=P===void 0?null:P,P!==null&&(S.callback=P),v=Bn(s,S,f),v!==null&&(No(v,s,f),Sr(v,s,f))}function HE(s,f){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var v=s.retryLane;s.retryLane=v!==0&&v<f?v:f}}function ex(s,f){HE(s,f),(s=s.alternate)&&HE(s,f)}function GE(s){if(s.tag===13||s.tag===31){var f=Dl(s,67108864);f!==null&&No(f,s,67108864),ex(s,67108864)}}function $E(s){if(s.tag===13||s.tag===31){var f=Ho();f=qn(f);var v=Dl(s,f);v!==null&&No(v,s,f),ex(s,f)}}var Bm=!0;function xF(s,f,v,S){var j=ie.T;ie.T=null;var P=K.p;try{K.p=2,tx(s,f,v,S)}finally{K.p=P,ie.T=j}}function wF(s,f,v,S){var j=ie.T;ie.T=null;var P=K.p;try{K.p=8,tx(s,f,v,S)}finally{K.p=P,ie.T=j}}function tx(s,f,v,S){if(Bm){var j=nx(S);if(j===null)zb(s,f,S,Fm,v),VE(s,S);else if(SF(j,s,f,v,S))S.stopPropagation();else if(VE(s,S),f&4&&-1<_F.indexOf(s)){for(;j!==null;){var P=Kn(j);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var X=Kt(P.pendingLanes);if(X!==0){var pe=P;for(pe.pendingLanes|=2,pe.entangledLanes|=2;X;){var je=1<<31-Ft(X);pe.entanglements[1]|=je,X&=~je}Ac(P),(Er&6)===0&&(wm=yn()+500,o1(0))}}break;case 31:case 13:pe=Dl(P,2),pe!==null&&No(pe,P,2),Sm(),ex(P,2)}if(P=nx(S),P===null&&zb(s,f,S,Fm,v),P===j)break;j=P}j!==null&&S.stopPropagation()}else zb(s,f,S,null,v)}}function nx(s){return s=Ol(s),rx(s)}var Fm=null;function rx(s){if(Fm=null,s=jr(s),s!==null){var f=a(s);if(f===null)s=null;else{var v=f.tag;if(v===13){if(s=o(f),s!==null)return s;s=null}else if(v===31){if(s=u(f),s!==null)return s;s=null}else if(v===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;s=null}else f!==s&&(s=null)}}return Fm=s,null}function WE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fn()){case cn:return 2;case zn:return 8;case Nn:case Ot:return 32;case In:return 268435456;default:return 32}default:return 32}}var ix=!1,df=null,hf=null,pf=null,p1=new Map,m1=new Map,mf=[],_F="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function VE(s,f){switch(s){case"focusin":case"focusout":df=null;break;case"dragenter":case"dragleave":hf=null;break;case"mouseover":case"mouseout":pf=null;break;case"pointerover":case"pointerout":p1.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":m1.delete(f.pointerId)}}function g1(s,f,v,S,j,P){return s===null||s.nativeEvent!==P?(s={blockedOn:f,domEventName:v,eventSystemFlags:S,nativeEvent:P,targetContainers:[j]},f!==null&&(f=Kn(f),f!==null&&GE(f)),s):(s.eventSystemFlags|=S,f=s.targetContainers,j!==null&&f.indexOf(j)===-1&&f.push(j),s)}function SF(s,f,v,S,j){switch(f){case"focusin":return df=g1(df,s,f,v,S,j),!0;case"dragenter":return hf=g1(hf,s,f,v,S,j),!0;case"mouseover":return pf=g1(pf,s,f,v,S,j),!0;case"pointerover":var P=j.pointerId;return p1.set(P,g1(p1.get(P)||null,s,f,v,S,j)),!0;case"gotpointercapture":return P=j.pointerId,m1.set(P,g1(m1.get(P)||null,s,f,v,S,j)),!0}return!1}function YE(s){var f=jr(s.target);if(f!==null){var v=a(f);if(v!==null){if(f=v.tag,f===13){if(f=o(v),f!==null){s.blockedOn=f,Nt(s.priority,function(){$E(v)});return}}else if(f===31){if(f=u(v),f!==null){s.blockedOn=f,Nt(s.priority,function(){$E(v)});return}}else if(f===3&&v.stateNode.current.memoizedState.isDehydrated){s.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Um(s){if(s.blockedOn!==null)return!1;for(var f=s.targetContainers;0<f.length;){var v=nx(s.nativeEvent);if(v===null){v=s.nativeEvent;var S=new v.constructor(v.type,v);$s=S,v.target.dispatchEvent(S),$s=null}else return f=Kn(v),f!==null&&GE(f),s.blockedOn=v,!1;f.shift()}return!0}function XE(s,f,v){Um(s)&&v.delete(f)}function AF(){ix=!1,df!==null&&Um(df)&&(df=null),hf!==null&&Um(hf)&&(hf=null),pf!==null&&Um(pf)&&(pf=null),p1.forEach(XE),m1.forEach(XE)}function zm(s,f){s.blockedOn===f&&(s.blockedOn=null,ix||(ix=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,AF)))}var qm=null;function KE(s){qm!==s&&(qm=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){qm===s&&(qm=null);for(var f=0;f<s.length;f+=3){var v=s[f],S=s[f+1],j=s[f+2];if(typeof S!="function"){if(rx(S||v)===null)continue;break}var P=Kn(v);P!==null&&(s.splice(f,3),f-=3,nb(P,{pending:!0,data:j,method:v.method,action:S},S,j))}}))}function Oh(s){function f(je){return zm(je,s)}df!==null&&zm(df,s),hf!==null&&zm(hf,s),pf!==null&&zm(pf,s),p1.forEach(f),m1.forEach(f);for(var v=0;v<mf.length;v++){var S=mf[v];S.blockedOn===s&&(S.blockedOn=null)}for(;0<mf.length&&(v=mf[0],v.blockedOn===null);)YE(v),v.blockedOn===null&&mf.shift();if(v=(s.ownerDocument||s).$$reactFormReplay,v!=null)for(S=0;S<v.length;S+=3){var j=v[S],P=v[S+1],X=j[Gn]||null;if(typeof P=="function")X||KE(v);else if(X){var pe=null;if(P&&P.hasAttribute("formAction")){if(j=P,X=P[Gn]||null)pe=X.formAction;else if(rx(j)!==null)continue}else pe=X.action;typeof pe=="function"?v[S+1]=pe:(v.splice(S,3),S-=3),KE(v)}}}function ZE(){function s(P){P.canIntercept&&P.info==="react-transition"&&P.intercept({handler:function(){return new Promise(function(X){return j=X})},focusReset:"manual",scroll:"manual"})}function f(){j!==null&&(j(),j=null),S||setTimeout(v,20)}function v(){if(!S&&!navigation.transition){var P=navigation.currentEntry;P&&P.url!=null&&navigation.navigate(P.url,{state:P.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var S=!1,j=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(v,100),function(){S=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),j!==null&&(j(),j=null)}}}function ax(s){this._internalRoot=s}Hm.prototype.render=ax.prototype.render=function(s){var f=this._internalRoot;if(f===null)throw Error(r(409));var v=f.current,S=Ho();qE(v,S,s,f,null,null)},Hm.prototype.unmount=ax.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var f=s.containerInfo;qE(s.current,2,null,s,null,null),Sm(),f[fi]=null}};function Hm(s){this._internalRoot=s}Hm.prototype.unstable_scheduleHydration=function(s){if(s){var f=hr();s={blockedOn:null,target:s,priority:f};for(var v=0;v<mf.length&&f!==0&&f<mf[v].priority;v++);mf.splice(v,0,s),v===0&&YE(s)}};var QE=t.version;if(QE!=="19.2.4")throw Error(r(527,QE,"19.2.4"));K.findDOMNode=function(s){var f=s._reactInternals;if(f===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=c(f),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var EF={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gm.isDisabled&&Gm.supportsFiber)try{tn=Gm.inject(EF),rt=Gm}catch{}}return y1.createRoot=function(s,f){if(!i(s))throw Error(r(299));var v=!1,S="",j=a4,P=s4,X=o4;return f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onUncaughtError!==void 0&&(j=f.onUncaughtError),f.onCaughtError!==void 0&&(P=f.onCaughtError),f.onRecoverableError!==void 0&&(X=f.onRecoverableError)),f=UE(s,1,!1,null,null,v,S,null,j,P,X,ZE),s[fi]=f.current,Ub(s),new ax(f)},y1.hydrateRoot=function(s,f,v){if(!i(s))throw Error(r(299));var S=!1,j="",P=a4,X=s4,pe=o4,je=null;return v!=null&&(v.unstable_strictMode===!0&&(S=!0),v.identifierPrefix!==void 0&&(j=v.identifierPrefix),v.onUncaughtError!==void 0&&(P=v.onUncaughtError),v.onCaughtError!==void 0&&(X=v.onCaughtError),v.onRecoverableError!==void 0&&(pe=v.onRecoverableError),v.formState!==void 0&&(je=v.formState)),f=UE(s,1,!0,f,v??null,S,j,je,P,X,pe,ZE),f.context=zE(null),v=f.current,S=Ho(),S=qn(S),j=wn(S),j.callback=null,Bn(v,j,S),v=S,f.current.lanes=v,Zt(f,v),Ac(f),s[fi]=f.current,Ub(s),new Hm(f)},y1.version="19.2.4",y1}var lC;function BF(){if(lC)return lx.exports;lC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),lx.exports=LF(),lx.exports}var FF=BF();/**
 * react-router v7.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cC="popstate";function uC(e){return typeof e=="object"&&e!=null&&"pathname"in e&&"search"in e&&"hash"in e&&"state"in e&&"key"in e}function UF(e={}){function t(r,i){var c;let a=(c=i.state)==null?void 0:c.masked,{pathname:o,search:u,hash:d}=a||r.location;return D5("",{pathname:o,search:u,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default",a?{pathname:r.location.pathname,search:r.location.search,hash:r.location.hash}:void 0)}function n(r,i){return typeof i=="string"?i:Z1(i)}return qF(t,n,null,e)}function Oi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zF(){return Math.random().toString(36).substring(2,10)}function fC(e,t){return{usr:e.state,key:e.key,idx:t,masked:e.unstable_mask?{pathname:e.pathname,search:e.search,hash:e.hash}:void 0}}function D5(e,t,n=null,r,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?w0(t):t,state:n,key:t&&t.key||r||zF(),unstable_mask:i}}function Z1({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function w0(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function qF(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,u="POP",d=null,c=h();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function h(){return(o.state||{idx:null}).idx}function g(){u="POP";let T=h(),I=T==null?null:T-c;c=T,d&&d({action:u,location:E.location,delta:I})}function x(T,I){u="PUSH";let D=uC(T)?T:D5(E.location,T,I);c=h()+1;let F=fC(D,c),U=E.createHref(D.unstable_mask||D);try{o.pushState(F,"",U)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;i.location.assign(U)}a&&d&&d({action:u,location:E.location,delta:1})}function y(T,I){u="REPLACE";let D=uC(T)?T:D5(E.location,T,I);c=h();let F=fC(D,c),U=E.createHref(D.unstable_mask||D);o.replaceState(F,"",U),a&&d&&d({action:u,location:E.location,delta:0})}function C(T){return HF(T)}let E={get action(){return u},get location(){return e(i,o)},listen(T){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(cC,g),d=T,()=>{i.removeEventListener(cC,g),d=null}},createHref(T){return t(i,T)},createURL:C,encodeLocation(T){let I=C(T);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:x,replace:y,go(T){return o.go(T)}};return E}function HF(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Oi(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Z1(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Hk(e,t,n="/"){return GF(e,t,n,!1)}function GF(e,t,n,r){let i=typeof t=="string"?w0(t):t,a=Nu(i.pathname||"/",n);if(a==null)return null;let o=Gk(e);$F(o);let u=null;for(let d=0;u==null&&d<o.length;++d){let c=nU(a);u=eU(o[d],c,r)}return u}function Gk(e,t=[],n=[],r="",i=!1){let a=(o,u,d=i,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&d)return;Oi(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let g=Lc([r,h.relativePath]),x=n.concat(h);o.children&&o.children.length>0&&(Oi(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Gk(o.children,t,x,g,d)),!(o.path==null&&!o.index)&&t.push({path:g,score:QF(g,o.index),routesMeta:x})};return e.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,u);else for(let c of $k(o.path))a(o,u,!0,c)}),t}function $k(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=$k(r.join("/")),u=[];return u.push(...o.map(d=>d===""?a:[a,d].join("/"))),i&&u.push(...o),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function $F(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:JF(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var WF=/^:[\w-]+$/,VF=3,YF=2,XF=1,KF=10,ZF=-2,dC=e=>e==="*";function QF(e,t){let n=e.split("/"),r=n.length;return n.some(dC)&&(r+=ZF),t&&(r+=YF),n.filter(i=>!dC(i)).reduce((i,a)=>i+(WF.test(a)?VF:a===""?XF:KF),r)}function JF(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function eU(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",o=[];for(let u=0;u<r.length;++u){let d=r[u],c=u===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",g=Ov({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},h),x=d.route;if(!g&&c&&n&&!r[r.length-1].route.index&&(g=Ov({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!g)return null;Object.assign(i,g.params),o.push({params:i,pathname:Lc([a,g.pathname]),pathnameBase:sU(Lc([a,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(a=Lc([a,g.pathnameBase]))}return o}function Ov(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=tU(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:g},x)=>{if(h==="*"){let C=u[x]||"";o=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const y=u[x];return g&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:e}}function tU(e,t=!1,n=!0){tc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,d,c,h)=>{if(r.push({paramName:u,isOptional:d!=null}),d){let g=h.charAt(c+o.length);return g&&g!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function nU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return tc(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Nu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var rU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function iU(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?w0(e):e,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=hC(n.substring(1),"/"):a=hC(n,t)):a=t,{pathname:a,search:oU(r),hash:lU(i)}}function hC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function dx(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aU(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function m3(e){let t=aU(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function U2(e,t,n,r=!1){let i;typeof e=="string"?i=w0(e):(i={...e},Oi(!i.pathname||!i.pathname.includes("?"),dx("?","pathname","search",i)),Oi(!i.pathname||!i.pathname.includes("#"),dx("#","pathname","hash",i)),Oi(!i.search||!i.search.includes("#"),dx("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,u;if(o==null)u=n;else{let g=t.length-1;if(!r&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),g-=1;i.pathname=x.join("/")}u=g>=0?t[g]:"/"}let d=iU(i,u),c=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(c||h)&&(d.pathname+="/"),d}var Lc=e=>e.join("/").replace(/\/\/+/g,"/"),sU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),oU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,cU=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function uU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function fU(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Wk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Vk(e,t){let n=e;if(typeof n!="string"||!rU.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(Wk)try{let a=new URL(window.location.href),o=n.startsWith("//")?new URL(a.protocol+n):new URL(n),u=Nu(o.pathname,t);o.origin===a.origin&&u!=null?n=u+o.search+o.hash:i=!0}catch{tc(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Yk=["POST","PUT","PATCH","DELETE"];new Set(Yk);var dU=["GET",...Yk];new Set(dU);var _0=R.createContext(null);_0.displayName="DataRouter";var z2=R.createContext(null);z2.displayName="DataRouterState";var hU=R.createContext(!1),Xk=R.createContext({isTransitioning:!1});Xk.displayName="ViewTransition";var pU=R.createContext(new Map);pU.displayName="Fetchers";var mU=R.createContext(null);mU.displayName="Await";var il=R.createContext(null);il.displayName="Navigation";var Np=R.createContext(null);Np.displayName="Location";var ac=R.createContext({outlet:null,matches:[],isDataRoute:!1});ac.displayName="Route";var g3=R.createContext(null);g3.displayName="RouteError";var Kk="REACT_ROUTER_ERROR",gU="REDIRECT",vU="ROUTE_ERROR_RESPONSE";function yU(e){if(e.startsWith(`${Kk}:${gU}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function bU(e){if(e.startsWith(`${Kk}:${vU}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new cU(t.status,t.statusText,t.data)}catch{}}function xU(e,{relative:t}={}){Oi(S0(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(il),{hash:i,pathname:a,search:o}=Tp(e,{relative:t}),u=a;return n!=="/"&&(u=a==="/"?n:Lc([n,a])),r.createHref({pathname:u,search:o,hash:i})}function S0(){return R.useContext(Np)!=null}function $c(){return Oi(S0(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Np).location}var Zk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qk(e){R.useContext(il).static||R.useLayoutEffect(e)}function Op(){let{isDataRoute:e}=R.useContext(ac);return e?RU():wU()}function wU(){Oi(S0(),"useNavigate() may be used only in the context of a <Router> component.");let e=R.useContext(_0),{basename:t,navigator:n}=R.useContext(il),{matches:r}=R.useContext(ac),{pathname:i}=$c(),a=JSON.stringify(m3(r)),o=R.useRef(!1);return Qk(()=>{o.current=!0}),R.useCallback((d,c={})=>{if(tc(o.current,Zk),!o.current)return;if(typeof d=="number"){n.go(d);return}let h=U2(d,JSON.parse(a),i,c.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Lc([t,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[t,n,a,i,e])}var _U=R.createContext(null);function SU(e){let t=R.useContext(ac).outlet;return R.useMemo(()=>t&&R.createElement(_U.Provider,{value:e},t),[t,e])}function Tp(e,{relative:t}={}){let{matches:n}=R.useContext(ac),{pathname:r}=$c(),i=JSON.stringify(m3(n));return R.useMemo(()=>U2(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function AU(e,t){return Jk(e,t)}function Jk(e,t,n){var T;Oi(S0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=R.useContext(il),{matches:i}=R.useContext(ac),a=i[i.length-1],o=a?a.params:{},u=a?a.pathname:"/",d=a?a.pathnameBase:"/",c=a&&a.route;{let I=c&&c.path||"";tM(u,!c||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let h=$c(),g;if(t){let I=typeof t=="string"?w0(t):t;Oi(d==="/"||((T=I.pathname)==null?void 0:T.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${I.pathname}" was given in the \`location\` prop.`),g=I}else g=h;let x=g.pathname||"/",y=x;if(d!=="/"){let I=d.replace(/^\//,"").split("/");y="/"+x.replace(/^\//,"").split("/").slice(I.length).join("/")}let C=Hk(e,{pathname:y});tc(c||C!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),tc(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=TU(C&&C.map(I=>Object.assign({},I,{params:Object.assign({},o,I.params),pathname:Lc([d,r.encodeLocation?r.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?d:Lc([d,r.encodeLocation?r.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),i,n);return t&&E?R.createElement(Np.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...g},navigationType:"POP"}},E):E}function EU(){let e=PU(),t=uU(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:a},"ErrorBoundary")," or"," ",R.createElement("code",{style:a},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),n?R.createElement("pre",{style:i},n):null,o)}var CU=R.createElement(EU,null),eM=class extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=bU(e.digest);n&&(e=n)}let t=e!==void 0?R.createElement(ac.Provider,{value:this.props.routeContext},R.createElement(g3.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?R.createElement(NU,{error:e},t):t}};eM.contextType=hU;var hx=new WeakMap;function NU({children:e,error:t}){let{basename:n}=R.useContext(il);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=yU(t.digest);if(r){let i=hx.get(t);if(i)throw i;let a=Vk(r.location,n);if(Wk&&!hx.get(t))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw hx.set(t,o),o}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function OU({routeContext:e,match:t,children:n}){let r=R.useContext(_0);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),R.createElement(ac.Provider,{value:e},n)}function TU(e,t=[],n){let r=n==null?void 0:n.state;if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=r==null?void 0:r.errors;if(a!=null){let h=i.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);Oi(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let o=!1,u=-1;if(n&&r){o=r.renderFallback;for(let h=0;h<i.length;h++){let g=i[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=h),g.route.id){let{loaderData:x,errors:y}=r,C=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||C){n.isStatic&&(o=!0),u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}}let d=n==null?void 0:n.onError,c=r&&d?(h,g)=>{var x,y;d(h,{location:r.location,params:((y=(x=r.matches)==null?void 0:x[0])==null?void 0:y.params)??{},unstable_pattern:fU(r.matches),errorInfo:g})}:void 0;return i.reduceRight((h,g,x)=>{let y,C=!1,E=null,T=null;r&&(y=a&&g.route.id?a[g.route.id]:void 0,E=g.route.errorElement||CU,o&&(u<0&&x===0?(tM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,T=null):u===x&&(C=!0,T=g.route.hydrateFallbackElement||null)));let I=t.concat(i.slice(0,x+1)),D=()=>{let F;return y?F=E:C?F=T:g.route.Component?F=R.createElement(g.route.Component,null):g.route.element?F=g.route.element:F=h,R.createElement(OU,{match:g,routeContext:{outlet:h,matches:I,isDataRoute:r!=null},children:F})};return r&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?R.createElement(eM,{location:r.location,revalidation:r.revalidation,component:E,error:y,children:D(),routeContext:{outlet:null,matches:I,isDataRoute:!0},onError:c}):D()},null)}function v3(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IU(e){let t=R.useContext(_0);return Oi(t,v3(e)),t}function jU(e){let t=R.useContext(z2);return Oi(t,v3(e)),t}function kU(e){let t=R.useContext(ac);return Oi(t,v3(e)),t}function y3(e){let t=kU(e),n=t.matches[t.matches.length-1];return Oi(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function MU(){return y3("useRouteId")}function PU(){var r;let e=R.useContext(g3),t=jU("useRouteError"),n=y3("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function RU(){let{router:e}=IU("useNavigate"),t=y3("useNavigate"),n=R.useRef(!1);return Qk(()=>{n.current=!0}),R.useCallback(async(i,a={})=>{tc(n.current,Zk),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var pC={};function tM(e,t,n){!t&&!pC[e]&&(pC[e]=!0,tc(!1,n))}R.memo(DU);function DU({routes:e,future:t,state:n,isStatic:r,onError:i}){return Jk(e,void 0,{state:n,isStatic:r,onError:i})}function Sf({to:e,replace:t,state:n,relative:r}){Oi(S0(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=R.useContext(il);tc(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=R.useContext(ac),{pathname:o}=$c(),u=Op(),d=U2(e,m3(a),o,r==="path"),c=JSON.stringify(d);return R.useEffect(()=>{u(JSON.parse(c),{replace:t,state:n,relative:r})},[u,c,r,t,n]),null}function LU(e){return SU(e.context)}function ca(e){Oi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BU({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){Oi(!S0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:u,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[u,i,a,o]);typeof n=="string"&&(n=w0(n));let{pathname:c="/",search:h="",hash:g="",state:x=null,key:y="default",unstable_mask:C}=n,E=R.useMemo(()=>{let T=Nu(c,u);return T==null?null:{location:{pathname:T,search:h,hash:g,state:x,key:y,unstable_mask:C},navigationType:r}},[u,c,h,g,x,y,r,C]);return tc(E!=null,`<Router basename="${u}"> is not able to match the URL "${c}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:R.createElement(il.Provider,{value:d},R.createElement(Np.Provider,{children:t,value:E}))}function FU({children:e,location:t}){return AU(L5(e),t)}function L5(e,t=[]){let n=[];return R.Children.forEach(e,(r,i)=>{if(!R.isValidElement(r))return;let a=[...t,i];if(r.type===R.Fragment){n.push.apply(n,L5(r.props.children,a));return}Oi(r.type===ca,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Oi(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=L5(r.props.children,a)),n.push(o)}),n}var hv="get",pv="application/x-www-form-urlencoded";function q2(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function UU(e){return q2(e)&&e.tagName.toLowerCase()==="button"}function zU(e){return q2(e)&&e.tagName.toLowerCase()==="form"}function qU(e){return q2(e)&&e.tagName.toLowerCase()==="input"}function HU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function GU(e,t){return e.button===0&&(!t||t==="_self")&&!HU(e)}var Wm=null;function $U(){if(Wm===null)try{new FormData(document.createElement("form"),0),Wm=!1}catch{Wm=!0}return Wm}var WU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function px(e){return e!=null&&!WU.has(e)?(tc(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pv}"`),null):e}function VU(e,t){let n,r,i,a,o;if(zU(e)){let u=e.getAttribute("action");r=u?Nu(u,t):null,n=e.getAttribute("method")||hv,i=px(e.getAttribute("enctype"))||pv,a=new FormData(e)}else if(UU(e)||qU(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(r=d?Nu(d,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||hv,i=px(e.getAttribute("formenctype"))||px(u.getAttribute("enctype"))||pv,a=new FormData(u,e),!$U()){let{name:c,type:h,value:g}=e;if(h==="image"){let x=c?`${c}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else c&&a.append(c,g)}}else{if(q2(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hv,r=null,i=pv,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function b3(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function YU(e,t,n,r){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:t&&Nu(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function XU(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KU(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function ZU(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await XU(a,n);return o.links?o.links():[]}return[]}));return tz(r.flat(1).filter(KU).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function mC(e,t,n,r,i,a){let o=(d,c)=>n[c]?d.route.id!==n[c].route.id:!0,u=(d,c)=>{var h;return n[c].pathname!==d.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==d.params["*"]};return a==="assets"?t.filter((d,c)=>o(d,c)||u(d,c)):a==="data"?t.filter((d,c)=>{var g;let h=r.routes[d.route.id];if(!h||!h.hasLoader)return!1;if(o(d,c)||u(d,c))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function QU(e,t,{includeHydrateFallback:n}={}){return JU(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function JU(e){return[...new Set(e)]}function ez(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function tz(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(ez(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function nM(){let e=R.useContext(_0);return b3(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function nz(){let e=R.useContext(z2);return b3(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var x3=R.createContext(void 0);x3.displayName="FrameworkContext";function rM(){let e=R.useContext(x3);return b3(e,"You must render this element inside a <HydratedRouter> element"),e}function rz(e,t){let n=R.useContext(x3),[r,i]=R.useState(!1),[a,o]=R.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:c,onMouseLeave:h,onTouchStart:g}=t,x=R.useRef(null);R.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let E=I=>{I.forEach(D=>{o(D.isIntersecting)})},T=new IntersectionObserver(E,{threshold:.5});return x.current&&T.observe(x.current),()=>{T.disconnect()}}},[e]),R.useEffect(()=>{if(r){let E=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(E)}}},[r]);let y=()=>{i(!0)},C=()=>{i(!1),o(!1)};return n?e!=="intent"?[a,x,{}]:[a,x,{onFocus:b1(u,y),onBlur:b1(d,C),onMouseEnter:b1(c,y),onMouseLeave:b1(h,C),onTouchStart:b1(g,y)}]:[!1,x,{}]}function b1(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function iz({page:e,...t}){let{router:n}=nM(),r=R.useMemo(()=>Hk(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?R.createElement(sz,{page:e,matches:r,...t}):null}function az(e){let{manifest:t,routeModules:n}=rM(),[r,i]=R.useState([]);return R.useEffect(()=>{let a=!1;return ZU(e,t,n).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,n]),r}function sz({page:e,matches:t,...n}){let r=$c(),{future:i,manifest:a,routeModules:o}=rM(),{basename:u}=nM(),{loaderData:d,matches:c}=nz(),h=R.useMemo(()=>mC(e,t,c,a,r,"data"),[e,t,c,a,r]),g=R.useMemo(()=>mC(e,t,c,a,r,"assets"),[e,t,c,a,r]),x=R.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let E=new Set,T=!1;if(t.forEach(D=>{var U;let F=a.routes[D.route.id];!F||!F.hasLoader||(!h.some(Z=>Z.route.id===D.route.id)&&D.route.id in d&&((U=o[D.route.id])!=null&&U.shouldRevalidate)||F.hasClientLoader?T=!0:E.add(D.route.id))}),E.size===0)return[];let I=YU(e,u,i.unstable_trailingSlashAwareDataRequests,"data");return T&&E.size>0&&I.searchParams.set("_routes",t.filter(D=>E.has(D.route.id)).map(D=>D.route.id).join(",")),[I.pathname+I.search]},[u,i.unstable_trailingSlashAwareDataRequests,d,r,a,h,t,e,o]),y=R.useMemo(()=>QU(g,a),[g,a]),C=az(g);return R.createElement(R.Fragment,null,x.map(E=>R.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),y.map(E=>R.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),C.map(({key:E,link:T})=>R.createElement("link",{key:E,nonce:n.nonce,...T,crossOrigin:T.crossOrigin??n.crossOrigin})))}function oz(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var lz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lz&&(window.__reactRouterVersion="7.13.1")}catch{}function cz({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=R.useRef();i.current==null&&(i.current=UF({window:r,v5Compat:!0}));let a=i.current,[o,u]=R.useState({action:a.action,location:a.location}),d=R.useCallback(c=>{n===!1?u(c):R.startTransition(()=>u(c))},[n]);return R.useLayoutEffect(()=>a.listen(d),[a,d]),R.createElement(BU,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n})}var iM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mf=R.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,unstable_mask:u,state:d,target:c,to:h,preventScrollReset:g,viewTransition:x,unstable_defaultShouldRevalidate:y,...C},E){let{basename:T,navigator:I,unstable_useTransitions:D}=R.useContext(il),F=typeof h=="string"&&iM.test(h),U=Vk(h,T);h=U.to;let Z=xU(h,{relative:i}),Q=$c(),Y=null;if(u){let ae=U2(u,[],Q.unstable_mask?Q.unstable_mask.pathname:"/",!0);T!=="/"&&(ae.pathname=ae.pathname==="/"?T:Lc([T,ae.pathname])),Y=I.createHref(ae)}let[J,q,oe]=rz(r,C),H=hz(h,{replace:o,unstable_mask:u,state:d,target:c,preventScrollReset:g,relative:i,viewTransition:x,unstable_defaultShouldRevalidate:y,unstable_useTransitions:D});function G(ae){t&&t(ae),ae.defaultPrevented||H(ae)}let fe=!(U.isExternal||a),ee=R.createElement("a",{...C,...oe,href:(fe?Y:void 0)||U.absoluteURL||Z,onClick:fe?G:t,ref:oz(E,q),target:c,"data-discover":!F&&n==="render"?"true":void 0});return J&&!F?R.createElement(R.Fragment,null,ee,R.createElement(iz,{page:Z})):ee});Mf.displayName="Link";var uz=R.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:u,children:d,...c},h){let g=Tp(o,{relative:c.relative}),x=$c(),y=R.useContext(z2),{navigator:C,basename:E}=R.useContext(il),T=y!=null&&yz(g)&&u===!0,I=C.encodeLocation?C.encodeLocation(g).pathname:g.pathname,D=x.pathname,F=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(D=D.toLowerCase(),F=F?F.toLowerCase():null,I=I.toLowerCase()),F&&E&&(F=Nu(F,E)||F);const U=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let Z=D===I||!i&&D.startsWith(I)&&D.charAt(U)==="/",Q=F!=null&&(F===I||!i&&F.startsWith(I)&&F.charAt(I.length)==="/"),Y={isActive:Z,isPending:Q,isTransitioning:T},J=Z?t:void 0,q;typeof r=="function"?q=r(Y):q=[r,Z?"active":null,Q?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let oe=typeof a=="function"?a(Y):a;return R.createElement(Mf,{...c,"aria-current":J,className:q,ref:h,style:oe,to:o,viewTransition:u},typeof d=="function"?d(Y):d)});uz.displayName="NavLink";var fz=R.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=hv,action:u,onSubmit:d,relative:c,preventScrollReset:h,viewTransition:g,unstable_defaultShouldRevalidate:x,...y},C)=>{let{unstable_useTransitions:E}=R.useContext(il),T=gz(),I=vz(u,{relative:c}),D=o.toLowerCase()==="get"?"get":"post",F=typeof u=="string"&&iM.test(u),U=Z=>{if(d&&d(Z),Z.defaultPrevented)return;Z.preventDefault();let Q=Z.nativeEvent.submitter,Y=(Q==null?void 0:Q.getAttribute("formmethod"))||o,J=()=>T(Q||Z.currentTarget,{fetcherKey:t,method:Y,navigate:n,replace:i,state:a,relative:c,preventScrollReset:h,viewTransition:g,unstable_defaultShouldRevalidate:x});E&&n!==!1?R.startTransition(()=>J()):J()};return R.createElement("form",{ref:C,method:D,action:I,onSubmit:r?d:U,...y,"data-discover":!F&&e==="render"?"true":void 0})});fz.displayName="Form";function dz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aM(e){let t=R.useContext(_0);return Oi(t,dz(e)),t}function hz(e,{target:t,replace:n,unstable_mask:r,state:i,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:c}={}){let h=Op(),g=$c(),x=Tp(e,{relative:o});return R.useCallback(y=>{if(GU(y,t)){y.preventDefault();let C=n!==void 0?n:Z1(g)===Z1(x),E=()=>h(e,{replace:C,unstable_mask:r,state:i,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:d});c?R.startTransition(()=>E()):E()}},[g,h,x,n,r,i,t,e,a,o,u,d,c])}var pz=0,mz=()=>`__${String(++pz)}__`;function gz(){let{router:e}=aM("useSubmit"),{basename:t}=R.useContext(il),n=MU(),r=e.fetch,i=e.navigate;return R.useCallback(async(a,o={})=>{let{action:u,method:d,encType:c,formData:h,body:g}=VU(a,t);if(o.navigate===!1){let x=o.fetcherKey||mz();await r(x,n,o.action||u,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:h,body:g,formMethod:o.method||d,formEncType:o.encType||c,flushSync:o.flushSync})}else await i(o.action||u,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:h,body:g,formMethod:o.method||d,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}function vz(e,{relative:t}={}){let{basename:n}=R.useContext(il),r=R.useContext(ac);Oi(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Tp(e||".",{relative:t})},o=$c();if(e==null){a.search=o.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(h=>h==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let h=u.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Lc([n,a.pathname])),Z1(a)}function yz(e,{relative:t}={}){let n=R.useContext(Xk);Oi(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=aM("useViewTransitionState"),i=Tp(e,{relative:t});if(!n.isTransitioning)return!1;let a=Nu(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Nu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ov(i.pathname,o)!=null||Ov(i.pathname,a)!=null}var w3=qk();function H2(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function bz(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{c(r.next(h))}catch(g){o(g)}}function d(h){try{c(r.throw(h))}catch(g){o(g)}}function c(h){h.done?a(h.value):i(h.value).then(u,d)}c((r=r.apply(e,t||[])).next())})}const xz=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class _3 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class wz extends _3{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class gC extends _3{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class vC extends _3{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var B5;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(B5||(B5={}));class _z{constructor(t,{headers:n={},customFetch:r,region:i=B5.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=xz(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return bz(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:u,method:d,body:c,signal:h,timeout:g}=r;let x={},{region:y}=r;y||(y=this.region);const C=new URL(`${this.url}/${n}`);y&&y!=="any"&&(x["x-region"]=y,C.searchParams.set("forceFunctionRegion",y));let E;c&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",E=c):typeof c=="string"?(x["Content-Type"]="text/plain",E=c):typeof FormData<"u"&&c instanceof FormData?E=c:(x["Content-Type"]="application/json",E=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?E=JSON.stringify(c):E=c;let T=h;g&&(o=new AbortController,a=setTimeout(()=>o.abort(),g),h?(T=o.signal,h.addEventListener("abort",()=>o.abort())):T=o.signal);const I=yield this.fetch(C.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),u),body:E,signal:T}).catch(Z=>{throw new wz(Z)}),D=I.headers.get("x-relay-error");if(D&&D==="true")throw new gC(I);if(!I.ok)throw new vC(I);let F=((i=I.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),U;return F==="application/json"?U=yield I.json():F==="application/octet-stream"||F==="application/pdf"?U=yield I.blob():F==="text/event-stream"?U=I:F==="multipart/form-data"?U=yield I.formData():U=yield I.text(),{data:U,error:null,response:I}}catch(u){return{data:null,error:u,response:u instanceof vC||u instanceof gC?u.context:void 0}}finally{a&&clearTimeout(a)}})}}var Sz=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Az=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,u=null,d=null,c=a.status,h=a.statusText;if(a.ok){var g,x;if(n.method!=="HEAD"){var y;const I=await a.text();I===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((y=n.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?u=I:u=JSON.parse(I))}const E=(g=n.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),T=(x=a.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");E&&T&&T.length>1&&(d=parseInt(T[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(u)&&(u.length>1?(o={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,c=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var C;const E=await a.text();try{o=JSON.parse(E),Array.isArray(o)&&a.status===404&&(u=[],o=null,c=200,h="OK")}catch{a.status===404&&E===""?(c=204,h="No Content"):o={message:E}}if(o&&n.isMaybeSingle&&(!(o==null||(C=o.details)===null||C===void 0)&&C.includes("0 rows"))&&(o=null,c=200,h="OK"),o&&n.shouldThrowOnError)throw new Sz(o)}return{error:o,data:u,count:d,status:c,statusText:h}});return this.shouldThrowOnError||(i=i.catch(a=>{var o;let u="",d="",c="";const h=a==null?void 0:a.cause;if(h){var g,x,y,C;const I=(g=h==null?void 0:h.message)!==null&&g!==void 0?g:"",D=(x=h==null?void 0:h.code)!==null&&x!==void 0?x:"";u=`${(y=a==null?void 0:a.name)!==null&&y!==void 0?y:"FetchError"}: ${a==null?void 0:a.message}`,u+=`

Caused by: ${(C=h==null?void 0:h.name)!==null&&C!==void 0?C:"Error"}: ${I}`,D&&(u+=` (${D})`),h!=null&&h.stack&&(u+=`
${h.stack}`)}else{var E;u=(E=a==null?void 0:a.stack)!==null&&E!==void 0?E:""}const T=this.url.toString().length;return(a==null?void 0:a.name)==="AbortError"||(a==null?void 0:a.code)==="ABORT_ERR"?(c="",d="Request was aborted (timeout or manual cancellation)",T>this.urlLengthLimit&&(d+=`. Note: Your request URL is ${T} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((h==null?void 0:h.name)==="HeadersOverflowError"||(h==null?void 0:h.code)==="UND_ERR_HEADERS_OVERFLOW")&&(c="",d="HTTP headers exceeded server limits (typically 16KB)",T>this.urlLengthLimit&&(d+=`. Your request URL is ${T} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:u,hint:d,code:c},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},Ez=class extends Az{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){var o;const u=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${d}"; options=${u};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const yC=new RegExp("[,()]");var $h=class extends Ez{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&yC.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&yC.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},Cz=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join(""),{url:u,headers:d}=this.cloneRequestState();return u.searchParams.set("select",o),r&&d.append("Prefer",`count=${r}`),new $h({method:i,url:u,headers:d,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:a,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,c)=>d.concat(Object.keys(c)),[]);if(u.length>0){const d=[...new Set(u)].map(c=>`"${c}"`);a.searchParams.set("columns",d.join(","))}}return new $h({method:i,url:a,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var a;const o="POST",{url:u,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&u.searchParams.set("on_conflict",t),r&&d.append("Prefer",`count=${r}`),i||d.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(c.length>0){const h=[...new Set(c)].map(g=>`"${g}"`);u.searchParams.set("columns",h.join(","))}}return new $h({method:o,url:u,headers:d,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new $h({method:r,url:i,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new $h({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Q1(e){"@babel/helpers - typeof";return Q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q1(e)}function Nz(e,t){if(Q1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Q1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oz(e){var t=Nz(e,"string");return Q1(t)=="symbol"?t:t+""}function Tz(e,t,n){return(t=Oz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(n),!0).forEach(function(r){Tz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Iz=class sM{constructor(t,{headers:n={},schema:r,fetch:i,timeout:a,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=o;const u=i??globalThis.fetch;a!==void 0&&a>0?this.fetch=(d,c)=>{const h=new AbortController,g=setTimeout(()=>h.abort(),a),x=c==null?void 0:c.signal;if(x){if(x.aborted)return clearTimeout(g),u(d,c);const y=()=>{clearTimeout(g),h.abort()};return x.addEventListener("abort",y,{once:!0}),u(d,Vm(Vm({},c),{},{signal:h.signal})).finally(()=>{clearTimeout(g),x.removeEventListener("abort",y)})}return u(d,Vm(Vm({},c),{},{signal:h.signal})).finally(()=>clearTimeout(g))}:this.fetch=u}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Cz(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new sM(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:i=!1,count:a}={}){var o;let u;const d=new URL(`${this.url}/rpc/${t}`);let c;const h=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(h)),g=r&&Object.values(n).some(h);g?(u="POST",c=n):r||i?(u=r?"HEAD":"GET",Object.entries(n).filter(([y,C])=>C!==void 0).map(([y,C])=>[y,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([y,C])=>{d.searchParams.append(y,C)})):(u="POST",c=n);const x=new Headers(this.headers);return g?x.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&x.set("Prefer",`count=${a}`),new $h({method:u,url:d,headers:x,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class jz{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const kz="2.98.0",Mz=`realtime-js/${kz}`,Pz="1.0.0",oM="2.0.0",xC=oM,F5=1e4,Rz=1e3,Dz=100;var Af;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Af||(Af={}));var La;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(La||(La={}));var Yl;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Yl||(Yl={}));var U5;(function(e){e.websocket="websocket"})(U5||(U5={}));var vd;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(vd||(vd={}));class Lz{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,a;const o=t.topic,u=(i=t.ref)!==null&&i!==void 0?i:"",d=(a=t.join_ref)!==null&&a!==void 0?a:"",c=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(h).length===0?"":JSON.stringify(h);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+o.length+c.length+g.length,y=new ArrayBuffer(this.HEADER_LENGTH+x);let C=new DataView(y),E=0;C.setUint8(E++,this.KINDS.userBroadcastPush),C.setUint8(E++,d.length),C.setUint8(E++,u.length),C.setUint8(E++,o.length),C.setUint8(E++,c.length),C.setUint8(E++,g.length),C.setUint8(E++,n),Array.from(d,I=>C.setUint8(E++,I.charCodeAt(0))),Array.from(u,I=>C.setUint8(E++,I.charCodeAt(0))),Array.from(o,I=>C.setUint8(E++,I.charCodeAt(0))),Array.from(c,I=>C.setUint8(E++,I.charCodeAt(0))),Array.from(g,I=>C.setUint8(E++,I.charCodeAt(0)));var T=new Uint8Array(y.byteLength+r.byteLength);return T.set(new Uint8Array(y),0),T.set(new Uint8Array(r),y.byteLength),T.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,o,u,d]=r;return n({join_ref:i,ref:a,topic:o,event:u,payload:d})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),u=n.getUint8(4);let d=this.HEADER_LENGTH+4;const c=r.decode(t.slice(d,d+i));d=d+i;const h=r.decode(t.slice(d,d+a));d=d+a;const g=r.decode(t.slice(d,d+o));d=d+o;const x=t.slice(d,t.byteLength),y=u===this.JSON_ENCODING?JSON.parse(r.decode(x)):x,C={type:this.BROADCAST_EVENT,event:h,payload:y};return o>0&&(C.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class lM{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var si;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(si||(si={}));const wC=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=Bz(o,e,t,i),a),{}):{}},Bz=(e,t,n,r)=>{const i=t.find(u=>u.name===e),a=i==null?void 0:i.type,o=n[e];return a&&!r.includes(a)?cM(a,o):z5(o)},cM=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return qz(t,n)}switch(e){case si.bool:return Fz(t);case si.float4:case si.float8:case si.int2:case si.int4:case si.int8:case si.numeric:case si.oid:return Uz(t);case si.json:case si.jsonb:return zz(t);case si.timestamp:return Hz(t);case si.abstime:case si.date:case si.daterange:case si.int4range:case si.int8range:case si.money:case si.reltime:case si.text:case si.time:case si.timestamptz:case si.timetz:case si.tsrange:case si.tstzrange:return z5(t);default:return z5(t)}},z5=e=>e,Fz=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Uz=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zz=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},qz=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(u=>cM(t,u))}return e},Hz=e=>typeof e=="string"?e.replace(" ","T"):e,uM=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class mx{constructor(t,n,r={},i=F5){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var _C;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(_C||(_C={}));class $1{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$1.syncState(this.state,i,a,o),this.pendingDiffs.forEach(d=>{this.state=$1.syncDiff(this.state,d,a,o)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=$1.syncDiff(this.state,i,a,o),u())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),u={},d={};return this.map(a,(c,h)=>{o[c]||(d[c]=h)}),this.map(o,(c,h)=>{const g=a[c];if(g){const x=h.map(T=>T.presence_ref),y=g.map(T=>T.presence_ref),C=h.filter(T=>y.indexOf(T.presence_ref)<0),E=g.filter(T=>x.indexOf(T.presence_ref)<0);C.length>0&&(u[c]=C),E.length>0&&(d[c]=E)}else u[c]=h}),this.syncDiff(a,{joins:u,leaves:d},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(u,d)=>{var c;const h=(c=t[u])!==null&&c!==void 0?c:[];if(t[u]=this.cloneDeep(d),h.length>0){const g=t[u].map(y=>y.presence_ref),x=h.filter(y=>g.indexOf(y.presence_ref)<0);t[u].unshift(...x)}r(u,h,d)}),this.map(o,(u,d)=>{let c=t[u];if(!c)return;const h=d.map(g=>g.presence_ref);c=c.filter(g=>h.indexOf(g.presence_ref)<0),t[u]=c,i(u,c,d),c.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var SC;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(SC||(SC={}));var W1;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(W1||(W1={}));var vu;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(vu||(vu={}));class Zh{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=La.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new mx(this,Yl.join,this.params,this.timeout),this.rejoinTimer=new lM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=La.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=La.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=La.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=La.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=La.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yl.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new $1(this),this.broadcastEndpointURL=uM(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==La.closed){const{config:{broadcast:o,presence:u,private:d}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[W1.PRESENCE]&&this.bindings[W1.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,g={},x={broadcast:o,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:c,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(vu.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(vu.CLOSED)),this.updateJoinPayload(Object.assign({config:x},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){t==null||t(vu.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,T=(C=E==null?void 0:E.length)!==null&&C!==void 0?C:0,I=[];for(let D=0;D<T;D++){const F=E[D],{filter:{event:U,schema:Z,table:Q,filter:Y}}=F,J=y&&y[D];if(J&&J.event===U&&Zh.isFilterValueEqual(J.schema,Z)&&Zh.isFilterValueEqual(J.table,Q)&&Zh.isFilterValueEqual(J.filter,Y))I.push(Object.assign(Object.assign({},F),{id:J.id}));else{this.unsubscribe(),this.state=La.errored,t==null||t(vu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,t&&t(vu.SUBSCRIBED);return}}).receive("error",y=>{this.state=La.errored,t==null||t(vu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(vu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===La.joined&&t===W1.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const c=await u.json();d=c.error||c.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,u,d;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=La.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yl.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new mx(this,Yl.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=La.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new mx(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Dz){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:u,error:d,leave:c,join:h}=Yl;if(r&&[u,d,c,h].indexOf(o)>=0&&r!==this._joinRef())return;let x=this._onMessage(o,n,r);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var C,E,T;return((C=y.filter)===null||C===void 0?void 0:C.event)==="*"||((T=(E=y.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===o}).map(y=>y.callback(x,r)):(a=this.bindings[o])===null||a===void 0||a.filter(y=>{var C,E,T,I,D,F;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const U=y.id,Z=(C=y.filter)===null||C===void 0?void 0:C.event;return U&&((E=n.ids)===null||E===void 0?void 0:E.includes(U))&&(Z==="*"||(Z==null?void 0:Z.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const U=(D=(I=y==null?void 0:y.filter)===null||I===void 0?void 0:I.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return U==="*"||U===((F=n==null?void 0:n.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof x=="object"&&"ids"in x){const C=x.data,{schema:E,table:T,commit_timestamp:I,type:D,errors:F}=C;x=Object.assign(Object.assign({},{schema:E,table:T,commit_timestamp:I,eventType:D,new:{},old:{},errors:F}),this._getPayloadRecords(C))}y.callback(x,r)})}_isClosed(){return this.state===La.closed}_isJoined(){return this.state===La.joined}_isJoining(){return this.state===La.joining}_isLeaving(){return this.state===La.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Zh.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Yl.close,{},t)}_onError(t){this._on(Yl.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=La.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=wC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=wC(t.columns,t.old_record)),n}}const gx=()=>{},Ym={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Gz=[1e3,2e3,5e3,1e4],$z=1e4,Wz=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Vz{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=F5,this.transport=null,this.heartbeatIntervalMs=Ym.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gx,this.ref=0,this.reconnectTimer=null,this.vsn=xC,this.logger=gx,this.conn=null,this.sendBuffer=[],this.serializer=new Lz,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${U5.websocket}`,this.httpEndpoint=uM(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jz.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Af.connecting:return vd.Connecting;case Af.open:return vd.Open;case Af.closing:return vd.Closing;default:return vd.Closed}}isConnected(){return this.connectionState()===vd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new Zh(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Rz,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ym.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",c)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:a,ref:o}=n,u=o?`(${o})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${i} ${u}`.trim(),a),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Af.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Af.open||this.conn.readyState===Af.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.accessTokenValue&&(this.channels.forEach(n=>{n.updateJoinPayload({access_token:this.accessTokenValue})}),this.sendBuffer=[],this.channels.forEach(n=>{n._isJoining()&&(n.joinPush.sent=!1,n.joinPush.send())})),this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Yl.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Wz],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:Mz};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Yl.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new lM(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ym.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,u,d,c,h,g,x,y;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:F5,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Ym.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:gx,this.vsn=(d=t==null?void 0:t.vsn)!==null&&d!==void 0?d:xC,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:(C=>Gz[C-1]||$z),this.vsn){case Pz:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:((C,E)=>E(JSON.stringify(C))),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:((C,E)=>E(JSON.parse(C)));break;case oM:this.encode=(x=t==null?void 0:t.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(y=t==null?void 0:t.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var J1=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Yz(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function Xz(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Kz(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const u=Yz(e.baseUrl,r,i),d=await Xz(e.auth),c=await t(u,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...d,...o},body:a?JSON.stringify(a):void 0}),h=await c.text(),g=(c.headers.get("content-type")||"").includes("application/json"),x=g&&h?JSON.parse(h):h;if(!c.ok){const y=g?x:void 0,C=y==null?void 0:y.error;throw new J1((C==null?void 0:C.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:C==null?void 0:C.type,icebergCode:C==null?void 0:C.code,details:y})}return{status:c.status,headers:c.headers,data:x}}}}function Xm(e){return e.join("")}var Zz=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Xm(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xm(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xm(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xm(e.namespace)}`}),!0}catch(t){if(t instanceof J1&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof J1&&n.status===409)return;throw n}}};function Th(e){return e.join("")}var Qz=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Th(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Th(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Th(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Th(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Th(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Th(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof J1&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof J1&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Jz=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Kz({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Zz(this.client,t),this.tableOps=new Qz(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},G2=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function $2(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Km=class extends G2{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},fM=class extends G2{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const eq=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tq=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},q5=e=>{if(Array.isArray(e))return e.map(n=>q5(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=q5(r)}),t},nq=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function rq(e,t){if(ep(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iq(e){var t=rq(e,"string");return ep(t)=="symbol"?t:t+""}function aq(e,t,n){return(t=iq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(n),!0).forEach(function(r){aq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const EC=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},sq=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e,a=i.status||500;if(typeof i.json=="function")i.json().then(o=>{const u=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Km(EC(o),a,u,r))}).catch(()=>{if(r==="vectors"){const o=a+"";t(new Km(i.statusText||`HTTP ${a} error`,a,o,r))}else{const o=a+"";t(new Km(i.statusText||`HTTP ${a} error`,a,o,r))}});else{const o=a+"";t(new Km(i.statusText||`HTTP ${a} error`,a,o,r))}}else t(new fM(EC(e),e,r))},oq=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?Cn(Cn({},i),n):(tq(r)?(i.headers=Cn({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Cn(Cn({},i),n))};async function x1(e,t,n,r,i,a,o){return new Promise((u,d)=>{e(n,oq(t,r,i,a)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;if(o==="vectors"){const h=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!h||!h.includes("application/json"))return{}}return c.json()}).then(c=>u(c)).catch(c=>sq(c,d,r,o))})}function dM(e="storage"){return{get:async(t,n,r,i)=>x1(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,a)=>x1(t,"POST",n,i,a,r,e),put:async(t,n,r,i,a)=>x1(t,"PUT",n,i,a,r,e),head:async(t,n,r,i)=>x1(t,"HEAD",n,Cn(Cn({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,a)=>x1(t,"DELETE",n,i,a,r,e)}}const lq=dM("storage"),{get:tp,post:Vl,put:H5,head:cq,remove:S3}=lq,Ko=dM("vectors");var A0=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=eq(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Cn(Cn({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if($2(n))return{data:null,error:n};throw n}}},uq=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if($2(t))return{data:null,error:t};throw t}}};let hM;hM=Symbol.toStringTag;var fq=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[hM]="BlobDownloadBuilder",this.promise=null}asStream(){return new uq(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if($2(t))return{data:null,error:t};throw t}}};const dq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},CC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var hq=class extends A0{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let a;const o=Cn(Cn({},CC),r);let u=Cn(Cn({},i.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),d&&a.append("metadata",i.encodeMetadata(d)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),d&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(d))):(a=n,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,d&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(u=Cn(Cn({},u),r.headers));const c=i._removeEmptyFolders(t),h=i._getFinalPath(c),g=await(e=="PUT"?H5:Vl)(i.fetch,`${i.url}/object/${h}`,a,Cn({headers:u},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:c,id:g.Id,fullPath:g.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const a=i._removeEmptyFolders(e),o=i._getFinalPath(a),u=new URL(i.url+`/object/upload/sign/${o}`);return u.searchParams.set("token",t),i.handleOperation(async()=>{let d;const c=Cn({upsert:CC.upsert},r),h=Cn(Cn({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",c.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",c.cacheControl)):(d=n,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType),{path:a,fullPath:(await H5(i.fetch,u.toString(),d,{headers:h})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const i=Cn({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const a=await Vl(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(n.url+a.url),u=o.searchParams.get("token");if(!u)throw new G2("No token returned by API");return{signedUrl:o.toString(),path:e,token:u}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await Vl(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await Vl(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),a=await Vl(r.fetch,`${r.url}/object/sign/${i}`,Cn({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${a.signedURL}${o}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const i=await Vl(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(o=>Cn(Cn({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${a}`):null}))})}download(e,t,n){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=i?`?${i}`:"",o=this._getFinalPath(e),u=()=>tp(this.fetch,`${this.url}/${r}/${o}${a}`,{headers:this.headers,noResolveJson:!0},n);return new fq(u,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>q5(await tp(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await cq(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($2(r)&&r instanceof fM){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await S3(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const i=Cn(Cn(Cn({},dq),t),{},{prefix:e||""});return await Vl(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=Cn({},e);return await Vl(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const pq="2.98.0",Ip={"X-Client-Info":`storage-js/${pq}`};var mq=class extends A0{constructor(e,t={},n,r){const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const a=i.href.replace(/\/$/,""),o=Cn(Cn({},Ip),t);super(a,o,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await tp(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await tp(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await Vl(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await H5(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Vl(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await S3(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},gq=class extends A0{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=Cn(Cn({},Ip),t);super(r,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Vl(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await tp(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await S3(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!nq(e))throw new G2("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Jz({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,a){const o=i[a];return typeof o!="function"?o:async(...u)=>{try{return{data:await o.apply(i,u),error:null}}catch(d){if(r)throw d;return{data:null,error:d}}}}})}},vq=class extends A0{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=Cn(Cn({},Ip),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Ko.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await Ko.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Ko.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await Ko.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},yq=class extends A0{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=Cn(Cn({},Ip),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ko.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Ko.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Ko.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Ko.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ko.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},bq=class extends A0{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=Cn(Cn({},Ip),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ko.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ko.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Ko.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ko.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},xq=class extends bq{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new wq(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},wq=class extends vq{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Cn(Cn({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Cn(Cn({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new _q(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},_q=class extends yq{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Cn(Cn({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Cn(Cn({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Cn(Cn({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Cn(Cn({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Cn(Cn({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Sq=class extends mq{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new hq(this.url,this.headers,e,this.fetch)}get vectors(){return new xq(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new gq(this.url+"/iceberg",this.headers,this.fetch)}};const pM="2.98.0",Wh=30*1e3,G5=3,vx=G5*Wh,Aq="http://localhost:9999",Eq="supabase.auth.token",Cq={"X-Client-Info":`gotrue-js/${pM}`},$5="X-Supabase-Api-Version",mM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Nq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Oq=600*1e3;class np extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function on(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Tq extends np{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Iq(e){return on(e)&&e.name==="AuthApiError"}class yd extends np{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Lu extends np{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Vo extends Lu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yx(e){return on(e)&&e.name==="AuthSessionMissingError"}class Ih extends Lu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zm extends Lu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qm extends Lu{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jq(e){return on(e)&&e.name==="AuthImplicitGrantRedirectError"}class NC extends Lu{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kq extends Lu{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class W5 extends Lu{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function bx(e){return on(e)&&e.name==="AuthRetryableFetchError"}class OC extends Lu{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class V5 extends Lu{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Tv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),TC=` 	
\r=`.split(""),Mq=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<TC.length;t+=1)e[TC[t].charCodeAt(0)]=-2;for(let t=0;t<Tv.length;t+=1)e[Tv[t].charCodeAt(0)]=t;return e})();function IC(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Tv[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Tv[r]),t.queuedBits-=6}}function gM(e,t,n){const r=Mq[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function jC(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{Dq(o,r,n)};for(let o=0;o<e.length;o+=1)gM(e.charCodeAt(o),i,a);return t.join("")}function Pq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Rq(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Pq(r,t)}}function Dq(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function n0(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)gM(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Lq(e){const t=[];return Rq(e,n=>t.push(n)),new Uint8Array(t)}function xd(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>IC(i,n,r)),IC(null,n,r),t.join("")}function Bq(e){return Math.round(Date.now()/1e3)+e}function Fq(){return Symbol("auth-callback")}const bs=()=>typeof window<"u"&&typeof document<"u",ad={tested:!1,writable:!1},vM=()=>{if(!bs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ad.tested)return ad.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ad.tested=!0,ad.writable=!0}catch{ad.tested=!0,ad.writable=!1}return ad.writable};function Uq(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const yM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),zq=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Vh=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},sd=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ys=async(e,t)=>{await e.removeItem(t)};class W2{constructor(){this.promise=new W2.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}W2.promiseConstructor=Promise;function Jm(e){const t=e.split(".");if(t.length!==3)throw new V5("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Nq.test(t[r]))throw new V5("JWT not in base64url format");return{header:JSON.parse(jC(t[0])),payload:JSON.parse(jC(t[1])),signature:n0(t[2]),raw:{header:t[0],payload:t[1]}}}async function qq(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Hq(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function Gq(e){return("0"+e.toString(16)).substr(-2)}function $q(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Gq).join("")}async function Wq(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Vq(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Wq(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jh(e,t,n=!1){const r=$q();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Vh(e,`${t}-code-verifier`,i);const a=await Vq(r);return[a,r===a?"plain":"s256"]}const Yq=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Xq(e){const t=e.headers.get($5);if(!t||!t.match(Yq))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Kq(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Zq(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Qq=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kh(e){if(!Qq.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xx(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Jq(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function kC(e){return JSON.parse(JSON.stringify(e))}const fd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eH=[502,503,504];async function MC(e){var t;if(!zq(e))throw new W5(fd(e),0);if(eH.includes(e.status))throw new W5(fd(e),e.status);let n;try{n=await e.json()}catch(a){throw new yd(fd(a),a)}let r;const i=Xq(e);if(i&&i.getTime()>=mM["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new OC(fd(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Vo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new OC(fd(n),e.status,n.weak_password.reasons);throw new Tq(fd(n),e.status||500,r)}const tH=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function On(e,t,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[$5]||(a[$5]=mM["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await nH(e,t,n+u,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function nH(e,t,n,r,i,a){const o=tH(t,r,i,a);let u;try{u=await e(n,Object.assign({},o))}catch(d){throw console.error(d),new W5(fd(d),0)}if(u.ok||await MC(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await MC(d)}}function Wl(e){var t;let n=null;aH(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Bq(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function PC(e){const t=Wl(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Nf(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function rH(e){return{data:e,error:null}}function iH(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=H2(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},d=Object.assign({},o);return{data:{properties:u,user:d},error:null}}function RC(e){return e}function aH(e){return e.access_token&&e.refresh_token&&e.expires_in}const wx=["global","local","others"];class sH{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=yM(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=wx[0]){if(wx.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wx.join(", ")}`);try{return await On(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(on(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await On(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Nf})}catch(r){if(on(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=H2(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await On(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:iH,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(on(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await On(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Nf})}catch(n){if(on(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,u,d;try{const c={nextPage:null,lastPage:0,total:0},h=await On(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:RC});if(h.error)throw h.error;const g=await h.json(),x=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(C=>{const E=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);c[`${T}Page`]=E}),c.total=parseInt(x)),{data:Object.assign(Object.assign({},g),c),error:null}}catch(c){if(on(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){kh(t);try{return await On(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Nf})}catch(n){if(on(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){kh(t);try{return await On(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Nf})}catch(r){if(on(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){kh(t);try{return await On(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Nf})}catch(r){if(on(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){kh(t.userId);try{const{data:n,error:r}=await On(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(on(n))return{data:null,error:n};throw n}}async _deleteFactor(t){kh(t.userId),kh(t.id);try{return{data:await On(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(on(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,u,d;try{const c={nextPage:null,lastPage:0,total:0},h=await On(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:RC});if(h.error)throw h.error;const g=await h.json(),x=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(C=>{const E=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);c[`${T}Page`]=E}),c.total=parseInt(x)),{data:Object.assign(Object.assign({},g),c),error:null}}catch(c){if(on(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await On(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(on(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await On(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(on(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await On(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(on(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await On(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(on(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await On(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(on(n))return{data:null,error:n};throw n}}}function DC(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const du={debug:!!(globalThis&&vM()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bM extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class oH extends bM{}async function lH(e,t,n){du.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;t>0&&setTimeout(()=>{r.abort(),du.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){du.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{du.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw du.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new oH(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(du.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}catch(i){if((i==null?void 0:i.name)==="AbortError"&&t>0)return du.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire timeout, recovering by stealing lock",e),console.warn(`@supabase/gotrue-js: Lock "${e}" was not released within ${t}ms. This may indicate an orphaned lock from a component unmount (e.g., React Strict Mode). Forcefully acquiring the lock to recover.`),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,{mode:"exclusive",steal:!0},async a=>{if(a){du.debug&&console.log("@supabase/gotrue-js: navigatorLock: recovered (stolen)",e,a.name);try{return await n()}finally{du.debug&&console.log("@supabase/gotrue-js: navigatorLock: released (stolen)",e,a.name)}}else return console.warn("@supabase/gotrue-js: Navigator LockManager returned null lock even with steal: true"),await n()}));throw i}}function cH(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function xM(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function uH(e){return parseInt(e,16)}function fH(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function dH(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:u,requestId:d,resources:c,scheme:h,uri:g,version:x}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=xM(e.address),C=h?`${h}://${r}`:r,E=e.statement?`${e.statement}
`:"",T=`${C} wants you to sign in with your Ethereum account:
${y}

${E}`;let I=`URI: ${g}
Version: ${x}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(I+=`
Expiration Time: ${i.toISOString()}`),u&&(I+=`
Not Before: ${u.toISOString()}`),d&&(I+=`
Request ID: ${d}`),c){let D=`
Resources:`;for(const F of c){if(!F||typeof F!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${F}`);D+=`
- ${F}`}I+=D}return`${T}
${I}`}class wa extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Iv extends wa{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function hH({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new wa({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new wa({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new wa({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new wa({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new wa({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new wa({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new wa({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new wa({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(wM(o)){if(a.rp.id!==o)return new wa({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new wa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new wa({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new wa({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new wa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function pH({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new wa({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new wa({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(wM(r)){if(n.rpId!==r)return new wa({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new wa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new wa({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new wa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class mH{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const gH=new mH;function vH(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=H2(e,["challenge","user","excludeCredentials"]),a=n0(t).buffer,o=Object.assign(Object.assign({},n),{id:n0(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const c=r[d];u.excludeCredentials[d]=Object.assign(Object.assign({},c),{id:n0(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return u}function yH(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=H2(e,["challenge","allowCredentials"]),i=n0(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const u=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},u),{id:n0(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function bH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:xd(new Uint8Array(e.response.attestationObject)),clientDataJSON:xd(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function xH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:xd(new Uint8Array(i.authenticatorData)),clientDataJSON:xd(new Uint8Array(i.clientDataJSON)),signature:xd(new Uint8Array(i.signature)),userHandle:i.userHandle?xd(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function wM(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function LC(){var e,t;return!!(bs()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function wH(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Iv("Browser returned unexpected credential type",t)}:{data:null,error:new Iv("Empty credential response",t)}}catch(t){return{data:null,error:hH({error:t,options:e})}}}async function _H(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Iv("Browser returned unexpected credential type",t)}:{data:null,error:new Iv("Empty credential response",t)}}catch(t){return{data:null,error:pH({error:t,options:e})}}}const SH={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},AH={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function jv(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const u=r[a];t(u)?r[a]=jv(u,o):r[a]=jv(o)}else r[a]=o}return r}function EH(e,t){return jv(SH,e,t||{})}function CH(e,t){return jv(AH,e,t||{})}class NH{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){var o;try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!u)return{data:null,error:d};const c=i??gH.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:h}=u.webauthn.credential_options.publicKey;if(!h.name){const g=r;if(g)h.name=`${h.id}:${g}`;else{const y=(await this.client.getUser()).data.user,C=((o=y==null?void 0:y.user_metadata)===null||o===void 0?void 0:o.name)||(y==null?void 0:y.email)||(y==null?void 0:y.id)||"User";h.name=`${h.id}:${C}`}}h.displayName||(h.displayName=h.name)}switch(u.webauthn.type){case"create":{const h=EH(u.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:g,error:x}=await wH({publicKey:h,signal:c});return g?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}case"request":{const h=CH(u.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:g,error:x}=await _H(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:h,signal:c}));return g?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}}}catch(u){return on(u)?{data:null,error:u}:{data:null,error:new yd("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new np("rpId is required for WebAuthn authentication")};try{if(!LC())return{data:null,error:new yd("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:u};const{webauthn:d}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(o){return on(o)?{data:null,error:o}:{data:null,error:new yd("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new np("rpId is required for WebAuthn registration")};try{if(!LC())return{data:null,error:new yd("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var g;return(g=h.data)===null||g===void 0?void 0:g.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:d,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:c}}catch(o){return on(o)?{data:null,error:o}:{data:null,error:new yd("Unexpected error in register",o)}}}}cH();const OH={url:Aq,storageKey:Eq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Cq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:5e3,skipAutoInitialize:!1};async function BC(e,t,n){return await n()}const Mh={};class rp{get jwks(){var t,n;return(n=(t=Mh[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Mh[this.storageKey]=Object.assign(Object.assign({},Mh[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Mh[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Mh[this.storageKey]=Object.assign(Object.assign({},Mh[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},OH),t);if(this.storageKey=a.storageKey,this.instanceID=(n=rp.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,rp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&bs()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new sH({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=yM(a.fetch),this.lock=a.lock||BC,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&bs()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=lH:this.lock=BC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new NH(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:vM()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=DC(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=DC(this.memoryStorage)),bs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(u){this._debug("#broadcastChannel","error",u)}})}a.skipAutoInitialize||this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${pM}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(bs()&&(n=Uq(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),bs()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),jq(a)){const d=(t=a.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:o,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return on(n)?this._returnResult({error:n}):this._returnResult({error:new yd("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await On(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Wl}),{data:o,error:u}=a;if(u||!o)return this._returnResult({data:{user:null,session:null},error:u});const d=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:c,session:d},error:null})}catch(a){if(on(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:h,password:g,options:x}=t;let y=null,C=null;this.flowType==="pkce"&&([y,C]=await jh(this.storage,this.storageKey)),a=await On(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:h,password:g,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:y,code_challenge_method:C},xform:Wl})}else if("phone"in t){const{phone:h,password:g,options:x}=t;a=await On(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:g,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},channel:(i=x==null?void 0:x.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Wl})}else throw new Zm("You must provide either an email or phone number and a password");const{data:o,error:u}=a;if(u||!o)return await ys(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:c,session:d},error:null})}catch(a){if(await ys(this.storage,`${this.storageKey}-code-verifier`),on(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:u}=t;n=await On(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:PC})}else if("phone"in t){const{phone:a,password:o,options:u}=t;n=await On(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:PC})}else throw new Zm("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Ih;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(on(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,u,d,c,h,g,x;let y,C;if("message"in t)y=t.message,C=t.signature;else{const{chain:E,wallet:T,statement:I,options:D}=t;let F;if(bs())if(typeof T=="object")F=T;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")F=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=T}const U=new URL((n=D==null?void 0:D.url)!==null&&n!==void 0?n:window.location.href),Z=await F.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Z||Z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Q=xM(Z[0]);let Y=(r=D==null?void 0:D.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!Y){const q=await F.request({method:"eth_chainId"});Y=uH(q)}const J={domain:U.host,address:Q,statement:I,uri:U.href,version:"1",chainId:Y,nonce:(i=D==null?void 0:D.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=D==null?void 0:D.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(u=D==null?void 0:D.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=D==null?void 0:D.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(c=D==null?void 0:D.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(h=D==null?void 0:D.signInWithEthereum)===null||h===void 0?void 0:h.resources};y=dH(J),C=await F.request({method:"personal_sign",params:[fH(y),Q]})}try{const{data:E,error:T}=await On(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:C},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Wl});if(T)throw T;if(!E||!E.session||!E.user){const I=new Ih;return this._returnResult({data:{user:null,session:null},error:I})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:T})}catch(E){if(on(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(t){var n,r,i,a,o,u,d,c,h,g,x,y;let C,E;if("message"in t)C=t.message,E=t.signature;else{const{chain:T,wallet:I,statement:D,options:F}=t;let U;if(bs())if(typeof I=="object")U=I;else{const Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))U=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!(F!=null&&F.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=I}const Z=new URL((n=F==null?void 0:F.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in U&&U.signIn){const Q=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},F==null?void 0:F.signInWithSolana),{version:"1",domain:Z.host,uri:Z.href}),D?{statement:D}:null));let Y;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")Y=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)Y=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Y&&"signature"in Y&&(typeof Y.signedMessage=="string"||Y.signedMessage instanceof Uint8Array)&&Y.signature instanceof Uint8Array)C=typeof Y.signedMessage=="string"?Y.signedMessage:new TextDecoder().decode(Y.signedMessage),E=Y.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${Z.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${Z.href}`,`Issued At: ${(i=(r=F==null?void 0:F.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=F==null?void 0:F.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${F.signInWithSolana.notBefore}`]:[],...!((o=F==null?void 0:F.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${F.signInWithSolana.expirationTime}`]:[],...!((u=F==null?void 0:F.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${F.signInWithSolana.chainId}`]:[],...!((d=F==null?void 0:F.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${F.signInWithSolana.nonce}`]:[],...!((c=F==null?void 0:F.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${F.signInWithSolana.requestId}`]:[],...!((g=(h=F==null?void 0:F.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||g===void 0)&&g.length?["Resources",...F.signInWithSolana.resources.map(Y=>`- ${Y}`)]:[]].join(`
`);const Q=await U.signMessage(new TextEncoder().encode(C),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=Q}}try{const{data:T,error:I}=await On(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:xd(E)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Wl});if(I)throw I;if(!T||!T.session||!T.user){const D=new Ih;return this._returnResult({data:{user:null,session:null},error:D})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:I})}catch(T){if(on(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const n=await sd(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new kq;const{data:a,error:o}=await On(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Wl});if(await ys(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const u=new Ih;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await ys(this.storage,`${this.storageKey}-code-verifier`),on(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,u=await On(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Wl}),{data:d,error:c}=u;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!d||!d.session||!d.user){const h=new Ih;return this._returnResult({data:{user:null,session:null},error:h})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:c})}catch(n){if(on(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:u,options:d}=t;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await jh(this.storage,this.storageKey));const{error:g}=await On(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:u,options:d}=t,{data:c,error:h}=await On(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(o=d==null?void 0:d.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h})}throw new Zm("You must provide either an email or phone number.")}catch(u){if(await ys(this.storage,`${this.storageKey}-code-verifier`),on(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:u}=await On(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Wl});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,c=o.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:c,session:d},error:null})}catch(i){if(on(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,o;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await jh(this.storage,this.storageKey));const c=await On(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:rH});return!((a=c.data)===null||a===void 0)&&a.url&&bs()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(u){if(await ys(this.storage,`${this.storageKey}-code-verifier`),on(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Vo;const{error:i}=await On(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(on(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await On(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:u}=await On(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:u})}throw new Zm("You must provide either an email or phone number and a type")}catch(n){if(on(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await sd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<vx:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await sd(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=xx()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Jq(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await On(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Nf}):await this._useSession(async n=>{var r,i,a;const{data:o,error:u}=n;if(u)throw u;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vo}:await On(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Nf})})}catch(n){if(on(n))return yx(n)&&(await this._removeSession(),await ys(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Vo;const o=i.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await jh(this.storage,this.storageKey));const{data:c,error:h}=await On(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:o.access_token,xform:Nf});if(h)throw h;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await ys(this.storage,`${this.storageKey}-code-verifier`),on(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Vo;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=Jm(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});a={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(on(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:u}=n;if(u)throw u;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Vo;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(on(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!bs())throw new Qm("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qm(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new NC("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qm("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new NC("No code detected.");const{data:D,error:F}=await this._exchangeCodeForSession(t.code);if(F)throw F;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:u,expires_at:d,token_type:c}=t;if(!a||!u||!o||!c)throw new Qm("No session defined in URL");const h=Math.round(Date.now()/1e3),g=parseInt(u);let x=h+g;d&&(x=parseInt(d));const y=x-h;y*1e3<=Wh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${g}s`);const C=x-g;h-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,x,h):h-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,x,h);const{data:E,error:T}=await this._getUser(a);if(T)throw T;const I={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:g,expires_at:x,refresh_token:o,token_type:c,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:I,redirectType:t.type},error:null})}catch(r){if(on(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await sd(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a&&!yx(a))return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:u}=await this.admin.signOut(o,t);if(u&&!(Iq(u)&&(u.status===404||u.status===401||u.status===403)||yx(u)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await ys(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Fq(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await jh(this.storage,this.storageKey,!0));try{return await On(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await ys(this.storage,`${this.storageKey}-code-verifier`),on(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(on(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,u,d,c,h;const{data:g,error:x}=a;if(x)throw x;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await On(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(c=g.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return bs()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(on(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:u,token:d,access_token:c,nonce:h}=t,g=await On(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:d,access_token:c,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Wl}),{data:x,error:y}=g;return y?this._returnResult({data:{user:null,session:null},error:y}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new Ih}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:y}))}catch(i){if(await ys(this.storage,`${this.storageKey}-code-verifier`),on(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await On(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(on(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Hq(async i=>(i>0&&await qq(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await On(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Wl})),(i,a)=>{const o=200*Math.pow(2,i);return a&&bx(a)&&Date.now()+o-r<Wh})}catch(r){if(this._debug(n,"error",r),on(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),bs()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await sd(this.storage,this.storageKey);if(i&&this.userStorage){let o=await sd(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Vh(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:xx()}else if(i&&!i.user&&!i.user){const o=await sd(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await ys(this.storage,this.storageKey+"-user"),await Vh(this.storage,this.storageKey,i)):i.user=xx()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<vx;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${vx}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),bx(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(i.access_token);!u&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Vo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new W2;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Vo;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),on(a)){const o={data:null,error:a};return bx(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(d){a.push(d)}});if(await Promise.all(o),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ys(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Vh(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=kC(i);await Vh(this.storage,this.storageKey,a)}else{const i=kC(n);await Vh(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ys(this.storage,this.storageKey),await ys(this.storage,this.storageKey+"-code-verifier"),await ys(this.storage,this.storageKey+"-user"),this.userStorage&&await ys(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&bs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Wh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Wh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Wh}ms, refresh threshold is ${G5} ticks`),i<=G5&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof bM)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await jh(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await On(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(on(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:c}=await On(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(on(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?bH(t.webauthn.credential_response):xH(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await On(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(n){if(on(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await On(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:u}=o;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:vH(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:yH(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(on(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,i,a;if(t)try{const{payload:y}=Jm(t);let C=null;y.aal&&(C=y.aal);let E=C;const{data:{user:T},error:I}=await this.getUser(t);if(I)return this._returnResult({data:null,error:I});((r=(n=T==null?void 0:T.factors)===null||n===void 0?void 0:n.filter(U=>U.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(E="aal2");const F=y.amr||[];return{data:{currentLevel:C,nextLevel:E,currentAuthenticationMethods:F},error:null}}catch(y){if(on(y))return this._returnResult({data:null,error:y});throw y}const{data:{session:o},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Jm(o.access_token);let c=null;d.aal&&(c=d.aal);let h=c;((a=(i=o.user.factors)===null||i===void 0?void 0:i.filter(y=>y.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(h="aal2");const x=d.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await On(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Vo})})}catch(n){if(on(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Vo});const o=await On(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&bs()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(on(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Vo});const o=await On(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&bs()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(on(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await On(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Vo})})}catch(t){if(on(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await On(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Vo})})}catch(n){if(on(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+Oq>i)return r;const{data:a,error:o}=await On(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:C}=await this.getSession();if(C||!y.session)return this._returnResult({data:null,error:C});r=y.session.access_token}const{header:i,payload:a,signature:o,raw:{header:u,payload:d}}=Jm(r);n!=null&&n.allowExpired||Kq(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:a,header:i,signature:o},error:null}}const h=Zq(i.alg),g=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,g,o,Lq(`${u}.${d}`)))throw new V5("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(on(r))return this._returnResult({data:null,error:r});throw r}}}rp.nextInstanceID={};const TH=rp,IH="2.98.0";let U1="";typeof Deno<"u"?U1="deno":typeof document<"u"?U1="web":typeof navigator<"u"&&navigator.product==="ReactNative"?U1="react-native":U1="node";const jH={"X-Client-Info":`supabase-js-${U1}/${IH}`},kH={headers:jH},MH={schema:"public"},PH={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},RH={};function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function DH(e,t){if(ip(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LH(e){var t=DH(e,"string");return ip(t)=="symbol"?t:t+""}function BH(e,t,n){return(t=LH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FC(Object(n),!0).forEach(function(r){BH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const FH=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),UH=()=>Headers,zH=(e,t,n)=>{const r=FH(n),i=UH();return async(a,o)=>{var u;const d=(u=await t())!==null&&u!==void 0?u:e;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${d}`),r(a,Xi(Xi({},o),{},{headers:c}))}};function qH(e){return e.endsWith("/")?e:e+"/"}function HH(e,t){var n,r;const{db:i,auth:a,realtime:o,global:u}=e,{db:d,auth:c,realtime:h,global:g}=t,x={db:Xi(Xi({},d),i),auth:Xi(Xi({},c),a),realtime:Xi(Xi({},h),o),storage:{},global:Xi(Xi(Xi({},g),u),{},{headers:Xi(Xi({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?x.accessToken=e.accessToken:delete x.accessToken,x}function GH(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(qH(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var $H=class extends TH{constructor(e){super(e)}},WH=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const a=GH(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:MH,realtime:RH,auth:Xi(Xi({},PH),{},{storageKey:o}),global:kH},d=HH(n??{},u);if(this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=d.auth)!==null&&c!==void 0?c:{},this.headers,d.global.fetch)}this.fetch=zH(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Xi({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new Iz(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch,timeout:d.db.timeout,urlLengthLimit:d.db.urlLengthLimit}),this.storage=new Sq(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new _z(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:a,flowType:o,lock:u,debug:d,throwOnError:c},h,g){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $H({url:this.authUrl.href,headers:Xi(Xi({},x),h),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:o,lock:u,debug:d,throwOnError:c,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Vz(this.realtimeUrl.href,Xi(Xi({},e),{},{params:Xi(Xi({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const VH=(e,t,n)=>new WH(e,t,n);function YH(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}YH()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const XH="https://pznponymhusxgrwbahid.supabase.co",KH="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB6bnBvbnltaHVzeGdyd2JhaGlkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIyMDQzNDgsImV4cCI6MjA4Nzc4MDM0OH0.C4pasGLfayXa2g7vKfjvlB4NMsntSe-kAwUtFAZjdmU",Tt=VH(XH,KH),ZH={greensboro:{telefono:"3365496890"},laredo:{telefono:"7572437074"},tapachula:{telefono:"9621210423"}};function _x(e){const t=ZH;return`
 Bienvenido a YOUBOX GT! Tu casillero es: *${e}*

 *DIRECCIN GREENSBORO, NC (Va Martima USA)*
Nombre: YBG + Tu Nombre  
Direccin: 4100 Tulsa Dr  
Suite/Apt: ${e}  
Ciudad: Greensboro, NC  
ZIP: 27406  
Tel: ${t.greensboro.telefono}

 *DIRECCIN LAREDO, TX (Va Terrestre USA)*
Nombre: YBG + Tu Nombre  
Direccin: 1900 Justo Penn St  
Suite/Apt: ${e}  
Ciudad: Laredo, TX  
ZIP: 78041  
Tel: ${t.laredo.telefono}

 *DIRECCIN TAPACHULA, MX (Va Terrestre Mxico)*
Nombre: YBG + Tu Nombre  
Direccin: Calle El Carmen Manzana 6 Casa 4  
Referencias: Infonavit El Carmen + ${e}  
Ciudad: Tapachula, Chiapas  
CP: 30799  
Tel: ${t.tapachula.telefono}

 Escribe los datos tal como se indican. Recuerda revisar trminos y condiciones.
  `.trim()}async function QH(e="YBG"){try{const{data:t}=await Tt.from("clientes").select("locker_id").like("locker_id",`${e}%`).order("locker_id",{ascending:!1}).limit(5e3);if(!t||t.length===0)return`${e}1`;const n=t.reduce((r,i)=>{var o;const a=(o=i.locker_id)==null?void 0:o.replace(e,"").match(/^(\d+)$/);if(a){const u=parseInt(a[1],10);return u>r?u:r}return r},0);return`${e}${n+1}`}catch{return`${e}1`}}const _M=R.createContext(null);function JH({children:e}){const[t,n]=R.useState(null),[r,i]=R.useState(!0);R.useEffect(()=>{const d=localStorage.getItem("youbox_user");if(d)try{n(JSON.parse(d))}catch{}i(!1)},[]);const a=async(d,c)=>{var h;if(d.toLowerCase()==="admin"&&c==="1234"){const g={id:"admin-001",nombre:"Administrador",apellido:"YOUBOX",email:"admin@youbox.gt",role:"admin"};return n(g),localStorage.setItem("youbox_user",JSON.stringify(g)),{}}try{const{data:g,error:x}=await Tt.from("clientes").select("*").eq("email",d.toLowerCase()).single();if(!x&&g){if((g.password_hash??g.notas)!==c)return{error:"Contrasea incorrecta."};const I={id:g.id,nombre:g.nombre,apellido:g.apellido,email:g.email,telefono:g.telefono,locker_id:g.locker_id,role:"cliente",sucursal_id:g.sucursal_id};return n(I),localStorage.setItem("youbox_user",JSON.stringify(I)),{}}const{data:y,error:C}=await Tt.from("usuarios").select("*, roles(nombre)").eq("email",d.toLowerCase()).single();if(C||!y)return{error:"Credenciales incorrectas. Verifica tu email."};if(!y.activo)return{error:"Esta cuenta ha sido suspendida."};if(y.password_hash!==c)return{error:"Contrasea incorrecta."};const E={id:y.id,nombre:y.nombre,apellido:y.apellido,email:y.email,telefono:y.telefono,role:((h=y.roles)==null?void 0:h.nombre)||"admin",sucursal_id:y.sucursal_id};return n(E),localStorage.setItem("youbox_user",JSON.stringify(E)),{}}catch{return{error:"Error de conexin. Intenta de nuevo."}}},o=async d=>{try{const c=await QH(d.sucursal_prefix||"YBG"),{data:h,error:g}=await Tt.from("clientes").insert([{nombre:d.nombre,apellido:d.apellido,email:d.email.toLowerCase(),telefono:d.telefono,locker_id:c,notas:d.password,activo:!0,sucursal_id:d.sucursal_id||null,departamento:d.departamento||null,municipio:d.municipio||null,direccion_linea1:d.direccion_linea1||null,direccion_linea2:d.direccion_linea2||null,referencia:d.referencia||null,acepto_tyc:d.acepto_tyc||!1,fecha_acepto_tyc:d.fecha_acepto_tyc||null}]).select().single();if(g)return console.error("Supabase register error:",g),g.code==="23505"?{error:"Este correo o casillero ya est registrado."}:g.code==="42501"?{error:"Sin permisos. Ejecuta el SQL 002_fix_rls_policies.sql en Supabase."}:{error:`Error: ${g.message}`};const x={id:h.id,nombre:h.nombre,apellido:h.apellido,email:h.email,telefono:h.telefono,locker_id:h.locker_id,role:"cliente",sucursal_id:h.sucursal_id};return n(x),localStorage.setItem("youbox_user",JSON.stringify(x)),{user:x}}catch{return{error:"Error inesperado. Intenta de nuevo."}}},u=()=>{n(null),localStorage.removeItem("youbox_user")};return _.jsx(_M.Provider,{value:{user:t,loading:r,login:a,register:o,logout:u,isAdmin:(t==null?void 0:t.role)==="admin"},children:e})}function Aa(){const e=R.useContext(_M);if(!e)throw new Error("useAuth must be used inside AuthProvider");return e}/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tG=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),UC=e=>{const t=tG(e);return t.charAt(0).toUpperCase()+t.slice(1)},SM=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),nG=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=R.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...u},d)=>R.createElement("svg",{ref:d,...rG,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:SM("lucide",i),...!a&&!nG(u)&&{"aria-hidden":"true"},...u},[...o.map(([c,h])=>R.createElement(c,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=(e,t)=>{const n=R.forwardRef(({className:r,...i},a)=>R.createElement(iG,{ref:a,iconNode:t,className:SM(`lucide-${eG(UC(e))}`,`lucide-${e}`,r),...i}));return n.displayName=UC(e),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],sG=jt("arrow-left",aG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],AM=jt("bell",oG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],A3=jt("boxes",lG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],E3=jt("building-2",cG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],mv=jt("building",uG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],f0=jt("calculator",fG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ap=jt("calendar",dG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],pG=jt("chart-column",hG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gG=jt("chevron-down",mG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Sx=jt("chevron-right",vG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],bG=jt("chevron-up",yG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Td=jt("circle-alert",xG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],C3=jt("circle-check-big",wG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],N3=jt("circle-check",_G);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],AG=jt("clipboard-list",SG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Y5=jt("clock",EG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],NG=jt("copy",CG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],O3=jt("credit-card",OG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],EM=jt("dollar-sign",TG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],CM=jt("download",IG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],NM=jt("external-link",jG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],OM=jt("eye-off",kG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],TM=jt("eye",MG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],V2=jt("file-text",PG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],DG=jt("funnel",RG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],BG=jt("image",LG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Y2=jt("inbox",FG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],zG=jt("key-round",UG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],HG=jt("keyboard",qG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],sp=jt("layers",GG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],WG=jt("layout-dashboard",$G);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ss=jt("loader-circle",VG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],XG=jt("lock",YG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],ZG=jt("log-in",KG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],JG=jt("log-out",QG);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],X5=jt("mail",e$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Jl=jt("map-pin",t$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],IM=jt("map",n$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],i$=jt("menu",r$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],s$=jt("message-circle",a$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],l$=jt("message-square",o$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],u$=jt("package-check",c$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],d$=jt("package-plus",f$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Fc=jt("package",h$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],m$=jt("palette",p$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],v$=jt("pen-line",g$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],b$=jt("pen",y$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],K5=jt("phone",x$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],E0=jt("plus",w$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],zC=jt("printer",_$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Z5=jt("receipt",S$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Pf=jt("save",A$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],jM=jt("scan-line",E$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Id=jt("search",C$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],O$=jt("send",N$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],I$=jt("settings",T$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Q5=jt("shield-check",j$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],M$=jt("smartphone",k$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qC=jt("square-check-big",P$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],HC=jt("square",R$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],L$=jt("tag",D$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],T3=jt("trash-2",B$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],U$=jt("trending-down",F$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],q$=jt("trending-up",z$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],G$=jt("triangle-alert",H$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],jp=jt("truck",$$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],V$=jt("upload",W$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],X$=jt("user-plus",Y$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Z$=jt("user",K$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],op=jt("users",Q$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],GC=jt("warehouse",J$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ou=jt("x",eW);function kM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=kM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Or(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=kM(e))&&(r&&(r+=" "),r+=t);return r}const tW=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},nW=(e,t)=>({classGroupId:e,validator:t}),MM=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),kv="-",$C=[],rW="arbitrary..",iW=e=>{const t=sW(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return aW(o);const u=o.split(kv),d=u[0]===""&&u.length>1?1:0;return PM(u,d,t)},getConflictingClassGroupIds:(o,u)=>{if(u){const d=r[o],c=n[o];return d?c?tW(c,d):d:c||$C}return n[o]||$C}}},PM=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const i=e[t],a=n.nextPart.get(i);if(a){const c=PM(e,t+1,a);if(c)return c}const o=n.validators;if(o===null)return;const u=t===0?e.join(kv):e.slice(t).join(kv),d=o.length;for(let c=0;c<d;c++){const h=o[c];if(h.validator(u))return h.classGroupId}},aW=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?rW+r:void 0})(),sW=e=>{const{theme:t,classGroups:n}=e;return oW(n,t)},oW=(e,t)=>{const n=MM();for(const r in e){const i=e[r];I3(i,n,r,t)}return n},I3=(e,t,n,r)=>{const i=e.length;for(let a=0;a<i;a++){const o=e[a];lW(o,t,n,r)}},lW=(e,t,n,r)=>{if(typeof e=="string"){cW(e,t,n);return}if(typeof e=="function"){uW(e,t,n,r);return}fW(e,t,n,r)},cW=(e,t,n)=>{const r=e===""?t:RM(t,e);r.classGroupId=n},uW=(e,t,n,r)=>{if(dW(e)){I3(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(nW(n,e))},fW=(e,t,n,r)=>{const i=Object.entries(e),a=i.length;for(let o=0;o<a;o++){const[u,d]=i[o];I3(d,RM(t,u),n,r)}},RM=(e,t)=>{let n=e;const r=t.split(kv),i=r.length;for(let a=0;a<i;a++){const o=r[a];let u=n.nextPart.get(o);u||(u=MM(),n.nextPart.set(o,u)),n=u}return n},dW=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,hW=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const i=(a,o)=>{n[a]=o,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(a){let o=n[a];if(o!==void 0)return o;if((o=r[a])!==void 0)return i(a,o),o},set(a,o){a in n?n[a]=o:i(a,o)}}},J5="!",WC=":",pW=[],VC=(e,t,n,r,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),mW=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const a=[];let o=0,u=0,d=0,c;const h=i.length;for(let E=0;E<h;E++){const T=i[E];if(o===0&&u===0){if(T===WC){a.push(i.slice(d,E)),d=E+1;continue}if(T==="/"){c=E;continue}}T==="["?o++:T==="]"?o--:T==="("?u++:T===")"&&u--}const g=a.length===0?i:i.slice(d);let x=g,y=!1;g.endsWith(J5)?(x=g.slice(0,-1),y=!0):g.startsWith(J5)&&(x=g.slice(1),y=!0);const C=c&&c>d?c-d:void 0;return VC(a,y,x,C)};if(t){const i=t+WC,a=r;r=o=>o.startsWith(i)?a(o.slice(i.length)):VC(pW,!1,o,void 0,!0)}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},gW=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let a=0;a<n.length;a++){const o=n[a],u=o[0]==="[",d=t.has(o);u||d?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(o)):i.push(o)}return i.length>0&&(i.sort(),r.push(...i)),r}},vW=e=>({cache:hW(e.cacheSize),parseClassName:mW(e),sortModifiers:gW(e),...iW(e)}),yW=/\s+/,bW=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=t,o=[],u=e.trim().split(yW);let d="";for(let c=u.length-1;c>=0;c-=1){const h=u[c],{isExternal:g,modifiers:x,hasImportantModifier:y,baseClassName:C,maybePostfixModifierPosition:E}=n(h);if(g){d=h+(d.length>0?" "+d:d);continue}let T=!!E,I=r(T?C.substring(0,E):C);if(!I){if(!T){d=h+(d.length>0?" "+d:d);continue}if(I=r(C),!I){d=h+(d.length>0?" "+d:d);continue}T=!1}const D=x.length===0?"":x.length===1?x[0]:a(x).join(":"),F=y?D+J5:D,U=F+I;if(o.indexOf(U)>-1)continue;o.push(U);const Z=i(I,T);for(let Q=0;Q<Z.length;++Q){const Y=Z[Q];o.push(F+Y)}d=h+(d.length>0?" "+d:d)}return d},xW=(...e)=>{let t=0,n,r,i="";for(;t<e.length;)(n=e[t++])&&(r=DM(n))&&(i&&(i+=" "),i+=r);return i},DM=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=DM(e[r]))&&(n&&(n+=" "),n+=t);return n},wW=(e,...t)=>{let n,r,i,a;const o=d=>{const c=t.reduce((h,g)=>g(h),e());return n=vW(c),r=n.cache.get,i=n.cache.set,a=u,u(d)},u=d=>{const c=r(d);if(c)return c;const h=bW(d,n);return i(d,h),h};return a=o,(...d)=>a(xW(...d))},_W=[],Da=e=>{const t=n=>n[e]||_W;return t.isThemeGetter=!0,t},LM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,BM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,SW=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,AW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,EW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,NW=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,OW=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vf=e=>SW.test(e),Yn=e=>!!e&&!Number.isNaN(Number(e)),yf=e=>!!e&&Number.isInteger(Number(e)),Ax=e=>e.endsWith("%")&&Yn(e.slice(0,-1)),hu=e=>AW.test(e),FM=()=>!0,TW=e=>EW.test(e)&&!CW.test(e),j3=()=>!1,IW=e=>NW.test(e),jW=e=>OW.test(e),kW=e=>!$t(e)&&!Vt(e),MW=e=>Ff(e,qM,j3),$t=e=>LM.test(e),od=e=>Ff(e,HM,TW),YC=e=>Ff(e,zW,Yn),PW=e=>Ff(e,$M,FM),RW=e=>Ff(e,GM,j3),XC=e=>Ff(e,UM,j3),DW=e=>Ff(e,zM,jW),eg=e=>Ff(e,WM,IW),Vt=e=>BM.test(e),w1=e=>Hd(e,HM),LW=e=>Hd(e,GM),KC=e=>Hd(e,UM),BW=e=>Hd(e,qM),FW=e=>Hd(e,zM),tg=e=>Hd(e,WM,!0),UW=e=>Hd(e,$M,!0),Ff=(e,t,n)=>{const r=LM.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Hd=(e,t,n=!1)=>{const r=BM.exec(e);return r?r[1]?t(r[1]):n:!1},UM=e=>e==="position"||e==="percentage",zM=e=>e==="image"||e==="url",qM=e=>e==="length"||e==="size"||e==="bg-size",HM=e=>e==="length",zW=e=>e==="number",GM=e=>e==="family-name",$M=e=>e==="number"||e==="weight",WM=e=>e==="shadow",qW=()=>{const e=Da("color"),t=Da("font"),n=Da("text"),r=Da("font-weight"),i=Da("tracking"),a=Da("leading"),o=Da("breakpoint"),u=Da("container"),d=Da("spacing"),c=Da("radius"),h=Da("shadow"),g=Da("inset-shadow"),x=Da("text-shadow"),y=Da("drop-shadow"),C=Da("blur"),E=Da("perspective"),T=Da("aspect"),I=Da("ease"),D=Da("animate"),F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Z=()=>[...U(),Vt,$t],Q=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto","contain","none"],J=()=>[Vt,$t,d],q=()=>[vf,"full","auto",...J()],oe=()=>[yf,"none","subgrid",Vt,$t],H=()=>["auto",{span:["full",yf,Vt,$t]},yf,Vt,$t],G=()=>[yf,"auto",Vt,$t],fe=()=>["auto","min","max","fr",Vt,$t],ee=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ae=()=>["start","end","center","stretch","center-safe","end-safe"],ie=()=>["auto",...J()],K=()=>[vf,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...J()],ve=()=>[vf,"screen","full","dvw","lvw","svw","min","max","fit",...J()],Te=()=>[vf,"screen","full","lh","dvh","lvh","svh","min","max","fit",...J()],we=()=>[e,Vt,$t],ue=()=>[...U(),KC,XC,{position:[Vt,$t]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],he=()=>["auto","cover","contain",BW,MW,{size:[Vt,$t]}],me=()=>[Ax,w1,od],Ce=()=>["","none","full",c,Vt,$t],xe=()=>["",Yn,w1,od],Me=()=>["solid","dashed","dotted","double"],ze=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Oe=()=>[Yn,Ax,KC,XC],Ge=()=>["","none",C,Vt,$t],Je=()=>["none",Yn,Vt,$t],qe=()=>["none",Yn,Vt,$t],lt=()=>[Yn,Vt,$t],bt=()=>[vf,"full",...J()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[hu],breakpoint:[hu],color:[FM],container:[hu],"drop-shadow":[hu],ease:["in","out","in-out"],font:[kW],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[hu],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[hu],shadow:[hu],spacing:["px",Yn],text:[hu],"text-shadow":[hu],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",vf,$t,Vt,T]}],container:["container"],columns:[{columns:[Yn,$t,Vt,u]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Z()}],overflow:[{overflow:Q()}],"overflow-x":[{"overflow-x":Q()}],"overflow-y":[{"overflow-y":Q()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{"inset-s":q(),start:q()}],end:[{"inset-e":q(),end:q()}],"inset-bs":[{"inset-bs":q()}],"inset-be":[{"inset-be":q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[yf,"auto",Vt,$t]}],basis:[{basis:[vf,"full","auto",u,...J()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Yn,vf,"auto","initial","none",$t]}],grow:[{grow:["",Yn,Vt,$t]}],shrink:[{shrink:["",Yn,Vt,$t]}],order:[{order:[yf,"first","last","none",Vt,$t]}],"grid-cols":[{"grid-cols":oe()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":oe()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":fe()}],"auto-rows":[{"auto-rows":fe()}],gap:[{gap:J()}],"gap-x":[{"gap-x":J()}],"gap-y":[{"gap-y":J()}],"justify-content":[{justify:[...ee(),"normal"]}],"justify-items":[{"justify-items":[...ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...ae()]}],"align-content":[{content:["normal",...ee()]}],"align-items":[{items:[...ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":ee()}],"place-items":[{"place-items":[...ae(),"baseline"]}],"place-self":[{"place-self":["auto",...ae()]}],p:[{p:J()}],px:[{px:J()}],py:[{py:J()}],ps:[{ps:J()}],pe:[{pe:J()}],pbs:[{pbs:J()}],pbe:[{pbe:J()}],pt:[{pt:J()}],pr:[{pr:J()}],pb:[{pb:J()}],pl:[{pl:J()}],m:[{m:ie()}],mx:[{mx:ie()}],my:[{my:ie()}],ms:[{ms:ie()}],me:[{me:ie()}],mbs:[{mbs:ie()}],mbe:[{mbe:ie()}],mt:[{mt:ie()}],mr:[{mr:ie()}],mb:[{mb:ie()}],ml:[{ml:ie()}],"space-x":[{"space-x":J()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":J()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],"inline-size":[{inline:["auto",...ve()]}],"min-inline-size":[{"min-inline":["auto",...ve()]}],"max-inline-size":[{"max-inline":["none",...ve()]}],"block-size":[{block:["auto",...Te()]}],"min-block-size":[{"min-block":["auto",...Te()]}],"max-block-size":[{"max-block":["none",...Te()]}],w:[{w:[u,"screen",...K()]}],"min-w":[{"min-w":[u,"screen","none",...K()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[o]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",n,w1,od]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,UW,PW]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ax,$t]}],"font-family":[{font:[LW,RW,t]}],"font-features":[{"font-features":[$t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Vt,$t]}],"line-clamp":[{"line-clamp":[Yn,"none",Vt,YC]}],leading:[{leading:[a,...J()]}],"list-image":[{"list-image":["none",Vt,$t]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Vt,$t]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:we()}],"text-color":[{text:we()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Me(),"wavy"]}],"text-decoration-thickness":[{decoration:[Yn,"from-font","auto",Vt,od]}],"text-decoration-color":[{decoration:we()}],"underline-offset":[{"underline-offset":[Yn,"auto",Vt,$t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:J()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Vt,$t]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Vt,$t]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:he()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},yf,Vt,$t],radial:["",Vt,$t],conic:[yf,Vt,$t]},FW,DW]}],"bg-color":[{bg:we()}],"gradient-from-pos":[{from:me()}],"gradient-via-pos":[{via:me()}],"gradient-to-pos":[{to:me()}],"gradient-from":[{from:we()}],"gradient-via":[{via:we()}],"gradient-to":[{to:we()}],rounded:[{rounded:Ce()}],"rounded-s":[{"rounded-s":Ce()}],"rounded-e":[{"rounded-e":Ce()}],"rounded-t":[{"rounded-t":Ce()}],"rounded-r":[{"rounded-r":Ce()}],"rounded-b":[{"rounded-b":Ce()}],"rounded-l":[{"rounded-l":Ce()}],"rounded-ss":[{"rounded-ss":Ce()}],"rounded-se":[{"rounded-se":Ce()}],"rounded-ee":[{"rounded-ee":Ce()}],"rounded-es":[{"rounded-es":Ce()}],"rounded-tl":[{"rounded-tl":Ce()}],"rounded-tr":[{"rounded-tr":Ce()}],"rounded-br":[{"rounded-br":Ce()}],"rounded-bl":[{"rounded-bl":Ce()}],"border-w":[{border:xe()}],"border-w-x":[{"border-x":xe()}],"border-w-y":[{"border-y":xe()}],"border-w-s":[{"border-s":xe()}],"border-w-e":[{"border-e":xe()}],"border-w-bs":[{"border-bs":xe()}],"border-w-be":[{"border-be":xe()}],"border-w-t":[{"border-t":xe()}],"border-w-r":[{"border-r":xe()}],"border-w-b":[{"border-b":xe()}],"border-w-l":[{"border-l":xe()}],"divide-x":[{"divide-x":xe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":xe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Me(),"hidden","none"]}],"divide-style":[{divide:[...Me(),"hidden","none"]}],"border-color":[{border:we()}],"border-color-x":[{"border-x":we()}],"border-color-y":[{"border-y":we()}],"border-color-s":[{"border-s":we()}],"border-color-e":[{"border-e":we()}],"border-color-bs":[{"border-bs":we()}],"border-color-be":[{"border-be":we()}],"border-color-t":[{"border-t":we()}],"border-color-r":[{"border-r":we()}],"border-color-b":[{"border-b":we()}],"border-color-l":[{"border-l":we()}],"divide-color":[{divide:we()}],"outline-style":[{outline:[...Me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Yn,Vt,$t]}],"outline-w":[{outline:["",Yn,w1,od]}],"outline-color":[{outline:we()}],shadow:[{shadow:["","none",h,tg,eg]}],"shadow-color":[{shadow:we()}],"inset-shadow":[{"inset-shadow":["none",g,tg,eg]}],"inset-shadow-color":[{"inset-shadow":we()}],"ring-w":[{ring:xe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:we()}],"ring-offset-w":[{"ring-offset":[Yn,od]}],"ring-offset-color":[{"ring-offset":we()}],"inset-ring-w":[{"inset-ring":xe()}],"inset-ring-color":[{"inset-ring":we()}],"text-shadow":[{"text-shadow":["none",x,tg,eg]}],"text-shadow-color":[{"text-shadow":we()}],opacity:[{opacity:[Yn,Vt,$t]}],"mix-blend":[{"mix-blend":[...ze(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ze()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Yn]}],"mask-image-linear-from-pos":[{"mask-linear-from":Oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":Oe()}],"mask-image-linear-from-color":[{"mask-linear-from":we()}],"mask-image-linear-to-color":[{"mask-linear-to":we()}],"mask-image-t-from-pos":[{"mask-t-from":Oe()}],"mask-image-t-to-pos":[{"mask-t-to":Oe()}],"mask-image-t-from-color":[{"mask-t-from":we()}],"mask-image-t-to-color":[{"mask-t-to":we()}],"mask-image-r-from-pos":[{"mask-r-from":Oe()}],"mask-image-r-to-pos":[{"mask-r-to":Oe()}],"mask-image-r-from-color":[{"mask-r-from":we()}],"mask-image-r-to-color":[{"mask-r-to":we()}],"mask-image-b-from-pos":[{"mask-b-from":Oe()}],"mask-image-b-to-pos":[{"mask-b-to":Oe()}],"mask-image-b-from-color":[{"mask-b-from":we()}],"mask-image-b-to-color":[{"mask-b-to":we()}],"mask-image-l-from-pos":[{"mask-l-from":Oe()}],"mask-image-l-to-pos":[{"mask-l-to":Oe()}],"mask-image-l-from-color":[{"mask-l-from":we()}],"mask-image-l-to-color":[{"mask-l-to":we()}],"mask-image-x-from-pos":[{"mask-x-from":Oe()}],"mask-image-x-to-pos":[{"mask-x-to":Oe()}],"mask-image-x-from-color":[{"mask-x-from":we()}],"mask-image-x-to-color":[{"mask-x-to":we()}],"mask-image-y-from-pos":[{"mask-y-from":Oe()}],"mask-image-y-to-pos":[{"mask-y-to":Oe()}],"mask-image-y-from-color":[{"mask-y-from":we()}],"mask-image-y-to-color":[{"mask-y-to":we()}],"mask-image-radial":[{"mask-radial":[Vt,$t]}],"mask-image-radial-from-pos":[{"mask-radial-from":Oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":Oe()}],"mask-image-radial-from-color":[{"mask-radial-from":we()}],"mask-image-radial-to-color":[{"mask-radial-to":we()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":U()}],"mask-image-conic-pos":[{"mask-conic":[Yn]}],"mask-image-conic-from-pos":[{"mask-conic-from":Oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":Oe()}],"mask-image-conic-from-color":[{"mask-conic-from":we()}],"mask-image-conic-to-color":[{"mask-conic-to":we()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:he()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Vt,$t]}],filter:[{filter:["","none",Vt,$t]}],blur:[{blur:Ge()}],brightness:[{brightness:[Yn,Vt,$t]}],contrast:[{contrast:[Yn,Vt,$t]}],"drop-shadow":[{"drop-shadow":["","none",y,tg,eg]}],"drop-shadow-color":[{"drop-shadow":we()}],grayscale:[{grayscale:["",Yn,Vt,$t]}],"hue-rotate":[{"hue-rotate":[Yn,Vt,$t]}],invert:[{invert:["",Yn,Vt,$t]}],saturate:[{saturate:[Yn,Vt,$t]}],sepia:[{sepia:["",Yn,Vt,$t]}],"backdrop-filter":[{"backdrop-filter":["","none",Vt,$t]}],"backdrop-blur":[{"backdrop-blur":Ge()}],"backdrop-brightness":[{"backdrop-brightness":[Yn,Vt,$t]}],"backdrop-contrast":[{"backdrop-contrast":[Yn,Vt,$t]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Yn,Vt,$t]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Yn,Vt,$t]}],"backdrop-invert":[{"backdrop-invert":["",Yn,Vt,$t]}],"backdrop-opacity":[{"backdrop-opacity":[Yn,Vt,$t]}],"backdrop-saturate":[{"backdrop-saturate":[Yn,Vt,$t]}],"backdrop-sepia":[{"backdrop-sepia":["",Yn,Vt,$t]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":J()}],"border-spacing-x":[{"border-spacing-x":J()}],"border-spacing-y":[{"border-spacing-y":J()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Vt,$t]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Yn,"initial",Vt,$t]}],ease:[{ease:["linear","initial",I,Vt,$t]}],delay:[{delay:[Yn,Vt,$t]}],animate:[{animate:["none",D,Vt,$t]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,Vt,$t]}],"perspective-origin":[{"perspective-origin":Z()}],rotate:[{rotate:Je()}],"rotate-x":[{"rotate-x":Je()}],"rotate-y":[{"rotate-y":Je()}],"rotate-z":[{"rotate-z":Je()}],scale:[{scale:qe()}],"scale-x":[{"scale-x":qe()}],"scale-y":[{"scale-y":qe()}],"scale-z":[{"scale-z":qe()}],"scale-3d":["scale-3d"],skew:[{skew:lt()}],"skew-x":[{"skew-x":lt()}],"skew-y":[{"skew-y":lt()}],transform:[{transform:[Vt,$t,"","none","gpu","cpu"]}],"transform-origin":[{origin:Z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:bt()}],"translate-x":[{"translate-x":bt()}],"translate-y":[{"translate-y":bt()}],"translate-z":[{"translate-z":bt()}],"translate-none":["translate-none"],accent:[{accent:we()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:we()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Vt,$t]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":J()}],"scroll-mx":[{"scroll-mx":J()}],"scroll-my":[{"scroll-my":J()}],"scroll-ms":[{"scroll-ms":J()}],"scroll-me":[{"scroll-me":J()}],"scroll-mbs":[{"scroll-mbs":J()}],"scroll-mbe":[{"scroll-mbe":J()}],"scroll-mt":[{"scroll-mt":J()}],"scroll-mr":[{"scroll-mr":J()}],"scroll-mb":[{"scroll-mb":J()}],"scroll-ml":[{"scroll-ml":J()}],"scroll-p":[{"scroll-p":J()}],"scroll-px":[{"scroll-px":J()}],"scroll-py":[{"scroll-py":J()}],"scroll-ps":[{"scroll-ps":J()}],"scroll-pe":[{"scroll-pe":J()}],"scroll-pbs":[{"scroll-pbs":J()}],"scroll-pbe":[{"scroll-pbe":J()}],"scroll-pt":[{"scroll-pt":J()}],"scroll-pr":[{"scroll-pr":J()}],"scroll-pb":[{"scroll-pb":J()}],"scroll-pl":[{"scroll-pl":J()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Vt,$t]}],fill:[{fill:["none",...we()]}],"stroke-w":[{stroke:[Yn,w1,od,YC]}],stroke:[{stroke:["none",...we()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},HW=wW(qW);function Ex(...e){return HW(Or(e))}const ZC=[{name:"Dashboard",href:"/",icon:WG,section:"General"},{name:"Quick Entry",href:"/entry",icon:d$,section:"Operaciones"},{name:"Warehouse",href:"/warehouse",icon:Y2,section:"Operaciones"},{name:"Inventario",href:"/inventory",icon:A3,section:"Operaciones"},{name:"Consolidacin",href:"/consolidation",icon:sp,section:"Operaciones"},{name:"Facturacin",href:"/billing",icon:V2,section:"Finanzas"},{name:"Pagos",href:"/payments",icon:O3,section:"Finanzas"},{name:"Gastos",href:"/expenses",icon:Z5,section:"Finanzas"},{name:"Reportes",href:"/reports",icon:pG,section:"Finanzas"},{name:"Sucursales",href:"/branches",icon:E3,section:"Configuracin"},{name:"Usuarios",href:"/users",icon:op,section:"Configuracin"},{name:"Geografa",href:"/geography",icon:IM,section:"Configuracin"},{name:"Tarifas",href:"/tariffs",icon:f0,section:"Configuracin"},{name:"Ajustes",href:"/settings",icon:I$,section:"Configuracin"}];function GW({isOpen:e=!0,setIsOpen:t}){var g,x;const n=$c(),{user:r,logout:i}=Aa(),a=Op(),o=()=>{i(),a("/login")},u=["Mis Servicios"],d=[{name:"Mis Paquetes",href:"/inventory",icon:A3,section:"Mis Servicios"},{name:"Facturacin",href:"/billing",icon:V2,section:"Mis Servicios"},{name:"Pagos",href:"/payments",icon:O3,section:"Mis Servicios"}],c=(r==null?void 0:r.role)==="admin"?ZC:d,h=(r==null?void 0:r.role)==="admin"?Array.from(new Set(ZC.map(y=>y.section))):u;return _.jsxs(_.Fragment,{children:[e&&_.jsx("div",{className:"fixed inset-0 z-40 bg-slate-900/80 backdrop-blur-sm lg:hidden",onClick:()=>t==null?void 0:t(!1)}),_.jsxs("div",{className:Ex("fixed inset-y-0 left-0 z-50 flex w-72 flex-col bg-slate-900 transition-transform duration-300 ease-in-out lg:static lg:w-64 lg:translate-x-0 outline-none",e?"translate-x-0":"-translate-x-full"),children:[_.jsxs("div",{className:"flex h-16 shrink-0 items-center justify-between px-6",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("img",{src:"https://youboxgt.online/wp-content/uploads/2024/10/Manual-de-logo-YouBoxGt-03-1.png",alt:"YOUBOX GT",className:"h-8 w-auto object-contain"}),_.jsx("span",{className:"text-xl font-bold text-white tracking-tight",children:"YOUBOX GT"})]}),_.jsx("button",{onClick:()=>t==null?void 0:t(!1),className:"p-2 -mr-2 text-slate-400 hover:text-white lg:hidden",children:_.jsx(Ou,{className:"h-6 w-6"})})]}),_.jsx("div",{className:"flex flex-1 flex-col overflow-y-auto px-4 py-4",children:_.jsx("nav",{className:"flex-1 space-y-6",children:h.map(y=>_.jsxs("div",{children:[_.jsx("h3",{className:"mb-2 px-2 text-xs font-semibold uppercase tracking-wider text-slate-400",children:y}),_.jsx("ul",{className:"space-y-1",children:c.filter(C=>C.section===y).map(C=>{const E=n.pathname===C.href;return _.jsx("li",{children:_.jsxs(Mf,{to:C.href,onClick:()=>t==null?void 0:t(!1),className:Ex(E?"bg-slate-800 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white","group flex items-center gap-x-3 rounded-md p-2 text-sm font-medium leading-6 transition-colors"),children:[_.jsx(C.icon,{className:Ex(E?"text-blue-400":"text-slate-400 group-hover:text-white","h-5 w-5 shrink-0 transition-colors"),"aria-hidden":"true"}),C.name]})},C.name)})})]},y))})}),_.jsxs("div",{className:"border-t border-slate-800 p-4",children:[_.jsxs(Mf,{to:"/profile",onClick:()=>t==null?void 0:t(!1),className:"flex items-center gap-3 mb-3 p-2 -mx-2 rounded-md hover:bg-slate-800 transition-colors group",children:[_.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-600 text-white text-xs font-bold shrink-0",children:((x=(g=r==null?void 0:r.nombre)==null?void 0:g[0])==null?void 0:x.toUpperCase())??"U"}),_.jsxs("div",{className:"overflow-hidden flex-1",children:[_.jsxs("p",{className:"text-sm font-medium text-white truncate group-hover:text-blue-400 transition-colors",children:[r==null?void 0:r.nombre," ",r==null?void 0:r.apellido]}),(r==null?void 0:r.locker_id)&&_.jsx("p",{className:"text-xs text-blue-400 truncate",children:r.locker_id}),(r==null?void 0:r.role)==="admin"&&_.jsx("p",{className:"text-xs text-amber-400",children:"Administrador"})]})]}),_.jsxs("button",{onClick:o,className:"flex w-full items-center gap-x-2 rounded-md p-2 -mx-2 text-sm font-medium text-slate-400 hover:bg-slate-800 hover:text-white transition-colors",children:[_.jsx(JG,{className:"h-4 w-4 shrink-0","aria-hidden":"true"}),"Cerrar Sesin"]})]})]})]})}function $W(){const[e,t]=R.useState(!1);return _.jsxs("div",{className:"flex h-screen w-full overflow-hidden bg-slate-50",children:[_.jsx(GW,{isOpen:e,setIsOpen:t}),_.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[_.jsxs("header",{className:"flex h-16 shrink-0 items-center justify-between border-b border-slate-200 bg-white px-4 sm:px-6",children:[_.jsxs("div",{className:"flex flex-1 items-center gap-x-4",children:[_.jsx("button",{onClick:()=>t(!0),className:"p-2 -ml-2 text-slate-500 hover:text-slate-700 lg:hidden",children:_.jsx(i$,{className:"h-6 w-6"})}),_.jsxs("div",{className:"relative w-full max-w-md hidden sm:block",children:[_.jsx(Id,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-slate-400"}),_.jsx("input",{type:"text",placeholder:"Buscar tracking, cliente, paquete...",className:"h-9 w-full rounded-md border border-slate-200 bg-slate-50 pl-9 pr-4 text-sm outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})]})]}),_.jsxs("div",{className:"flex items-center gap-x-4",children:[_.jsxs("button",{className:"relative rounded-full p-1.5 text-slate-400 hover:bg-slate-100 hover:text-slate-500",children:[_.jsx(AM,{className:"h-5 w-5"}),_.jsx("span",{className:"absolute right-1.5 top-1.5 h-2 w-2 rounded-full bg-red-500 ring-2 ring-white"})]}),_.jsx("div",{className:"h-8 w-8 overflow-hidden rounded-full bg-slate-200 shrink-0",children:_.jsx("div",{className:"flex h-full w-full items-center justify-center bg-blue-100 text-blue-700 font-medium shrink-0",children:"AD"})})]})]}),_.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 w-full",children:_.jsx(LU,{})})]})]})}var WW=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function k3(e){if(typeof e!="string")return!1;var t=WW;return t.includes(e)}var VW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],YW=new Set(VW);function VM(e){return typeof e!="string"?!1:YW.has(e)}function YM(e){return typeof e=="string"&&e.startsWith("data-")}function nc(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(VM(n)||YM(n))&&(t[n]=e[n]);return t}function lp(e){if(e==null)return null;if(R.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return nc(t)}return typeof e=="object"&&!Array.isArray(e)?nc(e):null}function _l(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(VM(n)||YM(n)||k3(n))&&(t[n]=e[n]);return t}var XW=["children","width","height","viewBox","className","style","title","desc"];function e_(){return e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e_.apply(null,arguments)}function KW(e,t){if(e==null)return{};var n,r,i=ZW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ZW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var M3=R.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:u,title:d,desc:c}=e,h=KW(e,XW),g=a||{width:r,height:i,x:0,y:0},x=Or("recharts-surface",o);return R.createElement("svg",e_({},_l(h),{className:x,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),R.createElement("title",null,d),R.createElement("desc",null,c),n)}),QW=["children","className"];function t_(){return t_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t_.apply(null,arguments)}function JW(e,t){if(e==null)return{};var n,r,i=eV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var no=R.forwardRef((e,t)=>{var{children:n,className:r}=e,i=JW(e,QW),a=Or("recharts-layer",r);return R.createElement("g",t_({className:a},_l(i),{ref:t}),n)}),XM=R.createContext(null),tV=()=>R.useContext(XM);function oi(e){return function(){return e}}const KM=Math.cos,Mv=Math.sin,sc=Math.sqrt,Pv=Math.PI,X2=2*Pv,n_=Math.PI,r_=2*n_,dd=1e-6,nV=r_-dd;function ZM(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function rV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ZM;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class iV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ZM:rV(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,u=this._y1,d=r-t,c=i-n,h=o-t,g=u-n,x=h*h+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(x>dd)if(!(Math.abs(g*d-c*h)>dd)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let y=r-o,C=i-u,E=d*d+c*c,T=y*y+C*C,I=Math.sqrt(E),D=Math.sqrt(x),F=a*Math.tan((n_-Math.acos((E+x-T)/(2*I*D)))/2),U=F/D,Z=F/I;Math.abs(U-1)>dd&&this._append`L${t+U*h},${n+U*g}`,this._append`A${a},${a},0,0,${+(g*y>h*C)},${this._x1=t+Z*d},${this._y1=n+Z*c}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),c=t+u,h=n+d,g=1^o,x=o?i-a:a-i;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>dd||Math.abs(this._y1-h)>dd)&&this._append`L${c},${h}`,r&&(x<0&&(x=x%r_+r_),x>nV?this._append`A${r},${r},0,1,${g},${t-u},${n-d}A${r},${r},0,1,${g},${this._x1=c},${this._y1=h}`:x>dd&&this._append`A${r},${r},0,${+(x>=n_)},${g},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function P3(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new iV(t)}function R3(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QM(e){this._context=e}QM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function K2(e){return new QM(e)}function JM(e){return e[0]}function e7(e){return e[1]}function t7(e,t){var n=oi(!0),r=null,i=K2,a=null,o=P3(u);e=typeof e=="function"?e:e===void 0?JM:oi(e),t=typeof t=="function"?t:t===void 0?e7:oi(t);function u(d){var c,h=(d=R3(d)).length,g,x=!1,y;for(r==null&&(a=i(y=o())),c=0;c<=h;++c)!(c<h&&n(g=d[c],c,d))===x&&((x=!x)?a.lineStart():a.lineEnd()),x&&a.point(+e(g,c,d),+t(g,c,d));if(y)return a=null,y+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:oi(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:oi(+d),u):t},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:oi(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),u):r},u}function ng(e,t,n){var r=null,i=oi(!0),a=null,o=K2,u=null,d=P3(c);e=typeof e=="function"?e:e===void 0?JM:oi(+e),t=typeof t=="function"?t:oi(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?e7:oi(+n);function c(g){var x,y,C,E=(g=R3(g)).length,T,I=!1,D,F=new Array(E),U=new Array(E);for(a==null&&(u=o(D=d())),x=0;x<=E;++x){if(!(x<E&&i(T=g[x],x,g))===I)if(I=!I)y=x,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),C=x-1;C>=y;--C)u.point(F[C],U[C]);u.lineEnd(),u.areaEnd()}I&&(F[x]=+e(T,x,g),U[x]=+t(T,x,g),u.point(r?+r(T,x,g):F[x],n?+n(T,x,g):U[x]))}if(D)return u=null,D+""||null}function h(){return t7().defined(i).curve(o).context(a)}return c.x=function(g){return arguments.length?(e=typeof g=="function"?g:oi(+g),r=null,c):e},c.x0=function(g){return arguments.length?(e=typeof g=="function"?g:oi(+g),c):e},c.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:oi(+g),c):r},c.y=function(g){return arguments.length?(t=typeof g=="function"?g:oi(+g),n=null,c):t},c.y0=function(g){return arguments.length?(t=typeof g=="function"?g:oi(+g),c):t},c.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:oi(+g),c):n},c.lineX0=c.lineY0=function(){return h().x(e).y(t)},c.lineY1=function(){return h().x(e).y(n)},c.lineX1=function(){return h().x(r).y(t)},c.defined=function(g){return arguments.length?(i=typeof g=="function"?g:oi(!!g),c):i},c.curve=function(g){return arguments.length?(o=g,a!=null&&(u=o(a)),c):o},c.context=function(g){return arguments.length?(g==null?a=u=null:u=o(a=g),c):a},c}class n7{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function aV(e){return new n7(e,!0)}function sV(e){return new n7(e,!1)}const D3={draw(e,t){const n=sc(t/Pv);e.moveTo(n,0),e.arc(0,0,n,0,X2)}},oV={draw(e,t){const n=sc(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},r7=sc(1/3),lV=r7*2,cV={draw(e,t){const n=sc(t/lV),r=n*r7;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},uV={draw(e,t){const n=sc(t),r=-n/2;e.rect(r,r,n,n)}},fV=.8908130915292852,i7=Mv(Pv/10)/Mv(7*Pv/10),dV=Mv(X2/10)*i7,hV=-KM(X2/10)*i7,pV={draw(e,t){const n=sc(t*fV),r=dV*n,i=hV*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=X2*a/5,u=KM(o),d=Mv(o);e.lineTo(d*n,-u*n),e.lineTo(u*r-d*i,d*r+u*i)}e.closePath()}},Cx=sc(3),mV={draw(e,t){const n=-sc(t/(Cx*3));e.moveTo(0,n*2),e.lineTo(-Cx*n,-n),e.lineTo(Cx*n,-n),e.closePath()}},vl=-.5,yl=sc(3)/2,i_=1/sc(12),gV=(i_/2+1)*3,vV={draw(e,t){const n=sc(t/gV),r=n/2,i=n*i_,a=r,o=n*i_+n,u=-a,d=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(u,d),e.lineTo(vl*r-yl*i,yl*r+vl*i),e.lineTo(vl*a-yl*o,yl*a+vl*o),e.lineTo(vl*u-yl*d,yl*u+vl*d),e.lineTo(vl*r+yl*i,vl*i-yl*r),e.lineTo(vl*a+yl*o,vl*o-yl*a),e.lineTo(vl*u+yl*d,vl*d-yl*u),e.closePath()}};function yV(e,t){let n=null,r=P3(i);e=typeof e=="function"?e:oi(e||D3),t=typeof t=="function"?t:oi(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:oi(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:oi(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Rv(){}function Dv(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function a7(e){this._context=e}a7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Dv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Dv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bV(e){return new a7(e)}function s7(e){this._context=e}s7.prototype={areaStart:Rv,areaEnd:Rv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Dv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xV(e){return new s7(e)}function o7(e){this._context=e}o7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Dv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wV(e){return new o7(e)}function l7(e){this._context=e}l7.prototype={areaStart:Rv,areaEnd:Rv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function _V(e){return new l7(e)}function QC(e){return e<0?-1:1}function JC(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),u=(a*i+o*r)/(r+i);return(QC(a)+QC(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function eN(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Nx(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,o-u*n,a,o)}function Lv(e){this._context=e}Lv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Nx(this,this._t0,eN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Nx(this,eN(this,n=JC(this,e,t)),n);break;default:Nx(this,this._t0,n=JC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function c7(e){this._context=new u7(e)}(c7.prototype=Object.create(Lv.prototype)).point=function(e,t){Lv.prototype.point.call(this,t,e)};function u7(e){this._context=e}u7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function SV(e){return new Lv(e)}function AV(e){return new c7(e)}function f7(e){this._context=e}f7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=tN(e),i=tN(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function tN(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function EV(e){return new f7(e)}function Z2(e,t){this._context=e,this._t=t}Z2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function CV(e){return new Z2(e,.5)}function NV(e){return new Z2(e,0)}function OV(e){return new Z2(e,1)}function jd(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,u=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function a_(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function TV(e,t){return e[t]}function IV(e){const t=[];return t.key=e,t}function jV(){var e=oi([]),t=a_,n=jd,r=TV;function i(a){var o=Array.from(e.apply(this,arguments),IV),u,d=o.length,c=-1,h;for(const g of a)for(u=0,++c;u<d;++u)(o[u][c]=[0,+r(g,o[u].key,c,a)]).data=g;for(u=0,h=R3(t(o));u<d;++u)o[h[u]].index=u;return n(o,h),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:oi(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:oi(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?a_:typeof a=="function"?a:oi(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??jd,i):n},i}function kV(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}jd(e,t)}}function MV(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,u=0;o<i;++o)u+=e[o][n][1]||0;r[n][1]+=r[n][0]=-u/2}jd(e,t)}}function PV(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var u=0,d=0,c=0;u<o;++u){for(var h=e[t[u]],g=h[r][1]||0,x=h[r-1][1]||0,y=(g-x)/2,C=0;C<u;++C){var E=e[t[C]],T=E[r][1]||0,I=E[r-1][1]||0;y+=T-I}d+=g,c+=y*g}i[r-1][1]+=i[r-1][0]=n,d&&(n-=c/d)}i[r-1][1]+=i[r-1][0]=n,jd(e,t)}}var Ox={},Tx={},nN;function RV(){return nN||(nN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Tx)),Tx}var Ix={},rN;function d7(){return rN||(rN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Ix)),Ix}var jx={},iN;function L3(){return iN||(iN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(jx)),jx}var kx={},Mx={},aN;function DV(){return aN||(aN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Mx)),Mx}var sN;function B3(){return sN||(sN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DV(),n=L3();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let u=0,d="",c="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),u++);u<o;){const g=i[u];c?g==="\\"&&u+1<o?(u++,d+=i[u]):g===c?c="":d+=g:h?g==='"'||g==="'"?c=g:g==="]"?(h=!1,a.push(d),d=""):d+=g:g==="["?(h=!0,d&&(a.push(d),d="")):g==="."?d&&(a.push(d),d=""):d+=g,u++}return d&&a.push(d),a}e.toPath=r})(kx)),kx}var oN;function F3(){return oN||(oN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RV(),n=d7(),r=L3(),i=B3();function a(u,d,c){if(u==null)return c;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return c;const h=u[d];return h===void 0?n.isDeepKey(d)?a(u,i.toPath(d),c):c:h}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const h=u[d];return h===void 0?c:h}default:{if(Array.isArray(d))return o(u,d,c);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return c;const h=u[d];return h===void 0?c:h}}}function o(u,d,c){if(d.length===0)return c;let h=u;for(let g=0;g<d.length;g++){if(h==null||t.isUnsafeProperty(d[g]))return c;h=h[d[g]]}return h===void 0?c:h}e.get=a})(Ox)),Ox}var Px,lN;function LV(){return lN||(lN=1,Px=F3().get),Px}var BV=LV();const kd=Gc(BV);var FV=4;function Tf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:FV,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Zi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,o)=>{var u=n[o-1];return typeof u=="string"?i+u+a:u!==void 0?i+Tf(u)+a:i+a},"")}var ss=e=>e===0?0:e>0?1:-1,Uc=e=>typeof e=="number"&&e!=+e,Md=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Yt=e=>(typeof e=="number"||e instanceof Number)&&!Uc(e),zc=e=>Yt(e)||typeof e=="string",UV=0,cp=e=>{var t=++UV;return"".concat(e||"").concat(t)},Us=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Yt(t)&&typeof t!="string")return r;var a;if(Md(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return Uc(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},h7=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Ba(e,t,n){return Yt(e)&&Yt(t)?Tf(e+n*(t-e)):t}function zV(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):kd(r,t))===n)}var os=e=>e===null||typeof e>"u",kp=e=>os(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Oo(e){return e!=null}function C0(){}var qV=["type","size","sizeType"];function s_(){return s_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s_.apply(null,arguments)}function cN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(n),!0).forEach(function(r){HV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HV(e,t,n){return(t=GV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GV(e){var t=$V(e,"string");return typeof t=="symbol"?t:t+""}function $V(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WV(e,t){if(e==null)return{};var n,r,i=VV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function VV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var p7={symbolCircle:D3,symbolCross:oV,symbolDiamond:cV,symbolSquare:uV,symbolStar:pV,symbolTriangle:mV,symbolWye:vV},YV=Math.PI/180,XV=e=>{var t="symbol".concat(kp(e));return p7[t]||D3},KV=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*YV;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ZV=(e,t)=>{p7["symbol".concat(kp(e))]=t},U3=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=WV(e,qV),a=uN(uN({},i),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var u=()=>{var x=XV(o),y=yV().type(x).size(KV(n,r,o)),C=y();if(C!==null)return C},{className:d,cx:c,cy:h}=a,g=_l(a);return Yt(c)&&Yt(h)&&Yt(n)?R.createElement("path",s_({},g,{className:Or("recharts-symbols",d),transform:"translate(".concat(c,", ").concat(h,")"),d:u()})):null};U3.registerSymbol=ZV;var m7=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,QV=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(R.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{k3(i)&&(r[i]=(a=>n[i](n,a)))}),r},JV=(e,t,n)=>r=>(e(t,n,r),null),Mp=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];k3(i)&&typeof a=="function"&&(r||(r={}),r[i]=JV(a,t,n))}),r};function fN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(n),!0).forEach(function(r){tY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tY(e,t,n){return(t=nY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nY(e){var t=rY(e,"string");return typeof t=="symbol"?t:t+""}function rY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ls(e,t){var n=eY({},e),r=t,i=Object.keys(t),a=i.reduce((o,u)=>(o[u]===void 0&&r[u]!==void 0&&(o[u]=r[u]),o),n);return a}function Bv(){return Bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bv.apply(null,arguments)}function dN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(n),!0).forEach(function(r){aY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aY(e,t,n){return(t=sY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sY(e){var t=oY(e,"string");return typeof t=="symbol"?t:t+""}function oY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xl=32,lY={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function cY(e){var{data:t,iconType:n,inactiveColor:r}=e,i=xl/2,a=xl/6,o=xl/3,u=t.inactive?r:t.color,d=n??t.type;if(d==="none")return null;if(d==="plainline"){var c;return R.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:xl,y2:i,className:"recharts-legend-icon"})}if(d==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(xl,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return R.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(xl/8,"h").concat(xl,"v").concat(xl*3/4,"h").concat(-xl,"z"),className:"recharts-legend-icon"});if(R.isValidElement(t.legendIcon)){var h=iY({},t);return delete h.legendIcon,R.cloneElement(t.legendIcon,h)}return R.createElement(U3,{fill:u,cx:i,cy:i,size:xl,sizeType:"diameter",type:d})}function uY(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=e,u={x:0,y:0,width:xl,height:xl},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,g)=>{var x=h.formatter||i,y=Or({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:h.inactive});if(h.type==="none")return null;var C=h.inactive?a:h.color,E=x?x(h.value,h,g):h.value;return R.createElement("li",Bv({className:y,style:d,key:"legend-item-".concat(g)},Mp(e,h,g)),R.createElement(M3,{width:n,height:n,viewBox:u,style:c,"aria-label":"".concat(E," legend icon")},R.createElement(cY,{data:h,iconType:o,inactiveColor:a})),R.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},E))})}var fY=e=>{var t=ls(e,lY),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:a},R.createElement(uY,Bv({},t,{payload:n})))},Rx={},Dx={},hN;function dY(){return hN||(hN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],u=r(o,a,n);i.has(u)||i.set(u,o)}return Array.from(i.values())}e.uniqBy=t})(Dx)),Dx}var Lx={},pN;function hY(){return pN||(pN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(Lx)),Lx}var Bx={},mN;function g7(){return mN||(mN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Bx)),Bx}var Fx={},Ux={},zx={},gN;function pY(){return gN||(gN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(zx)),zx}var vN;function z3(){return vN||(vN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pY();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Ux)),Ux}var qx={},yN;function mY(){return yN||(yN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(qx)),qx}var bN;function gY(){return bN||(bN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z3(),n=mY();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Fx)),Fx}var Hx={},Gx={},xN;function vY(){return xN||(xN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F3();function n(r){return function(i){return t.get(i,r)}}e.property=n})(Gx)),Gx}var $x={},Wx={},Vx={},Yx={},wN;function v7(){return wN||(wN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Yx)),Yx}var Xx={},_N;function y7(){return _N||(_N=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Xx)),Xx}var Kx={},SN;function b7(){return SN||(SN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(Kx)),Kx}var AN;function yY(){return AN||(AN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v7(),n=y7(),r=b7();function i(h,g,x){return typeof x!="function"?i(h,g,()=>{}):a(h,g,function y(C,E,T,I,D,F){const U=x(C,E,T,I,D,F);return U!==void 0?!!U:a(C,E,y,F)},new Map)}function a(h,g,x,y){if(g===h)return!0;switch(typeof g){case"object":return o(h,g,x,y);case"function":return Object.keys(g).length>0?a(h,{...g},x,y):r.isEqualsSameValueZero(h,g);default:return t.isObject(h)?typeof g=="string"?g==="":!0:r.isEqualsSameValueZero(h,g)}}function o(h,g,x,y){if(g==null)return!0;if(Array.isArray(g))return d(h,g,x,y);if(g instanceof Map)return u(h,g,x,y);if(g instanceof Set)return c(h,g,x,y);const C=Object.keys(g);if(h==null||n.isPrimitive(h))return C.length===0;if(C.length===0)return!0;if(y!=null&&y.has(g))return y.get(g)===h;y==null||y.set(g,h);try{for(let E=0;E<C.length;E++){const T=C[E];if(!n.isPrimitive(h)&&!(T in h)||g[T]===void 0&&h[T]!==void 0||g[T]===null&&h[T]!==null||!x(h[T],g[T],T,h,g,y))return!1}return!0}finally{y==null||y.delete(g)}}function u(h,g,x,y){if(g.size===0)return!0;if(!(h instanceof Map))return!1;for(const[C,E]of g.entries()){const T=h.get(C);if(x(T,E,C,h,g,y)===!1)return!1}return!0}function d(h,g,x,y){if(g.length===0)return!0;if(!Array.isArray(h))return!1;const C=new Set;for(let E=0;E<g.length;E++){const T=g[E];let I=!1;for(let D=0;D<h.length;D++){if(C.has(D))continue;const F=h[D];let U=!1;if(x(F,T,E,h,g,y)&&(U=!0),U){C.add(D),I=!0;break}}if(!I)return!1}return!0}function c(h,g,x,y){return g.size===0?!0:h instanceof Set?d([...h],[...g],x,y):!1}e.isMatchWith=i,e.isSetMatch=c})(Vx)),Vx}var EN;function x7(){return EN||(EN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yY();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Wx)),Wx}var Zx={},Qx={},Jx={},CN;function bY(){return CN||(CN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Jx)),Jx}var ew={},NN;function q3(){return NN||(NN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(ew)),ew}var tw={},ON;function w7(){return ON||(ON=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",u="[object Date]",d="[object Map]",c="[object Set]",h="[object Array]",g="[object Function]",x="[object ArrayBuffer]",y="[object Object]",C="[object Error]",E="[object DataView]",T="[object Uint8Array]",I="[object Uint8ClampedArray]",D="[object Uint16Array]",F="[object Uint32Array]",U="[object BigUint64Array]",Z="[object Int8Array]",Q="[object Int16Array]",Y="[object Int32Array]",J="[object BigInt64Array]",q="[object Float32Array]",oe="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=x,e.arrayTag=h,e.bigInt64ArrayTag=J,e.bigUint64ArrayTag=U,e.booleanTag=i,e.dataViewTag=E,e.dateTag=u,e.errorTag=C,e.float32ArrayTag=q,e.float64ArrayTag=oe,e.functionTag=g,e.int16ArrayTag=Q,e.int32ArrayTag=Y,e.int8ArrayTag=Z,e.mapTag=d,e.numberTag=r,e.objectTag=y,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=D,e.uint32ArrayTag=F,e.uint8ArrayTag=T,e.uint8ClampedArrayTag=I})(tw)),tw}var nw={},TN;function xY(){return TN||(TN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(nw)),nw}var IN;function _7(){return IN||(IN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bY(),n=q3(),r=w7(),i=y7(),a=xY();function o(h,g){return u(h,void 0,h,new Map,g)}function u(h,g,x,y=new Map,C=void 0){const E=C==null?void 0:C(h,g,x,y);if(E!==void 0)return E;if(i.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const T=new Array(h.length);y.set(h,T);for(let I=0;I<h.length;I++)T[I]=u(h[I],I,x,y,C);return Object.hasOwn(h,"index")&&(T.index=h.index),Object.hasOwn(h,"input")&&(T.input=h.input),T}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const T=new RegExp(h.source,h.flags);return T.lastIndex=h.lastIndex,T}if(h instanceof Map){const T=new Map;y.set(h,T);for(const[I,D]of h)T.set(I,u(D,I,x,y,C));return T}if(h instanceof Set){const T=new Set;y.set(h,T);for(const I of h)T.add(u(I,void 0,x,y,C));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const T=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,T);for(let I=0;I<h.length;I++)T[I]=u(h[I],I,x,y,C);return T}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const T=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,T),d(T,h,x,y,C),T}if(typeof File<"u"&&h instanceof File){const T=new File([h],h.name,{type:h.type});return y.set(h,T),d(T,h,x,y,C),T}if(typeof Blob<"u"&&h instanceof Blob){const T=new Blob([h],{type:h.type});return y.set(h,T),d(T,h,x,y,C),T}if(h instanceof Error){const T=new h.constructor;return y.set(h,T),T.message=h.message,T.name=h.name,T.stack=h.stack,T.cause=h.cause,d(T,h,x,y,C),T}if(h instanceof Boolean){const T=new Boolean(h.valueOf());return y.set(h,T),d(T,h,x,y,C),T}if(h instanceof Number){const T=new Number(h.valueOf());return y.set(h,T),d(T,h,x,y,C),T}if(h instanceof String){const T=new String(h.valueOf());return y.set(h,T),d(T,h,x,y,C),T}if(typeof h=="object"&&c(h)){const T=Object.create(Object.getPrototypeOf(h));return y.set(h,T),d(T,h,x,y,C),T}return h}function d(h,g,x=h,y,C){const E=[...Object.keys(g),...t.getSymbols(g)];for(let T=0;T<E.length;T++){const I=E[T],D=Object.getOwnPropertyDescriptor(h,I);(D==null||D.writable)&&(h[I]=u(g[I],I,x,y,C))}}function c(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=u,e.copyProperties=d})(Qx)),Qx}var jN;function wY(){return jN||(jN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_7();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Zx)),Zx}var kN;function _Y(){return kN||(kN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x7(),n=wY();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})($x)),$x}var rw={},iw={},aw={},MN;function SY(){return MN||(MN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_7(),n=q3(),r=w7();function i(a,o){return t.cloneDeepWith(a,(u,d,c,h)=>{const g=o==null?void 0:o(u,d,c,h);if(g!==void 0)return g;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const x={};return h.set(a,x),t.copyProperties(x,a,c,h),x}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const x=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(x,a),x}case r.argumentsTag:{const x={};return t.copyProperties(x,a),x.length=a.length,x[Symbol.iterator]=a[Symbol.iterator],x}default:return}}})}e.cloneDeepWith=i})(aw)),aw}var PN;function AY(){return PN||(PN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SY();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(iw)),iw}var sw={},ow={},RN;function S7(){return RN||(RN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(ow)),ow}var lw={},DN;function EY(){return DN||(DN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q3();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(lw)),lw}var LN;function CY(){return LN||(LN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d7(),n=S7(),r=EY(),i=B3();function a(o,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&(o==null?void 0:o[u])==null?d=i.toPath(u):d=[u],d.length===0)return!1;let c=o;for(let h=0;h<d.length;h++){const g=d[h];if((c==null||!Object.hasOwn(c,g))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(g)&&g<c.length))return!1;c=c[g]}return!0}e.has=a})(sw)),sw}var BN;function NY(){return BN||(BN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x7(),n=L3(),r=AY(),i=F3(),a=CY();function o(u,d){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(c){const h=i.get(c,u);return h===void 0?a.has(c,u):d===void 0?h===void 0:t.isMatch(h,d)}}e.matchesProperty=o})(rw)),rw}var FN;function OY(){return FN||(FN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g7(),n=vY(),r=_Y(),i=NY();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(Hx)),Hx}var UN;function TY(){return UN||(UN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dY(),n=hY(),r=g7(),i=gY(),a=OY();function o(u,d=r.identity){return i.isArrayLikeObject(u)?t.uniqBy(Array.from(u),n.ary(a.iteratee(d),1)):[]}e.uniqBy=o})(Rx)),Rx}var cw,zN;function IY(){return zN||(zN=1,cw=TY().uniqBy),cw}var jY=IY();const qN=Gc(jY);function A7(e,t,n){return t===!0?qN(e,n):typeof t=="function"?qN(e,t):e}var uw={exports:{}},fw={},dw={exports:{}},hw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HN;function kY(){if(HN)return hw;HN=1;var e=x0();function t(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function u(g,x){var y=x(),C=r({inst:{value:y,getSnapshot:x}}),E=C[0].inst,T=C[1];return a(function(){E.value=y,E.getSnapshot=x,d(E)&&T({inst:E})},[g,y,x]),i(function(){return d(E)&&T({inst:E}),g(function(){d(E)&&T({inst:E})})},[g]),o(y),y}function d(g){var x=g.getSnapshot;g=g.value;try{var y=x();return!n(g,y)}catch{return!0}}function c(g,x){return x()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:u;return hw.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,hw}var GN;function MY(){return GN||(GN=1,dw.exports=kY()),dw.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $N;function PY(){if($N)return fw;$N=1;var e=x0(),t=MY();function n(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,u=e.useMemo,d=e.useDebugValue;return fw.useSyncExternalStoreWithSelector=function(c,h,g,x,y){var C=a(null);if(C.current===null){var E={hasValue:!1,value:null};C.current=E}else E=C.current;C=u(function(){function I(Q){if(!D){if(D=!0,F=Q,Q=x(Q),y!==void 0&&E.hasValue){var Y=E.value;if(y(Y,Q))return U=Y}return U=Q}if(Y=U,r(F,Q))return Y;var J=x(Q);return y!==void 0&&y(Y,J)?(F=Q,Y):(F=Q,U=J)}var D=!1,F,U,Z=g===void 0?null:g;return[function(){return I(h())},Z===null?void 0:function(){return I(Z())}]},[h,g,x,y]);var T=i(c,C[0],C[1]);return o(function(){E.hasValue=!0,E.value=T},[T]),d(T),T},fw}var WN;function RY(){return WN||(WN=1,uw.exports=PY()),uw.exports}var DY=RY(),H3=R.createContext(null),LY=e=>e,li=()=>{var e=R.useContext(H3);return e?e.store.dispatch:LY},gv=()=>{},BY=()=>gv,FY=(e,t)=>e===t;function Jt(e){var t=R.useContext(H3),n=R.useMemo(()=>t?r=>{if(r!=null)return e(r)}:gv,[t,e]);return DY.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:BY,t?t.store.getState:gv,t?t.store.getState:gv,n,FY)}function UY(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function zY(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function qY(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var VN=e=>Array.isArray(e)?e:[e];function HY(e){const t=Array.isArray(e[0])?e[0]:e;return qY(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function GY(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var $Y=class{constructor(e){this.value=e}deref(){return this.value}},WY=typeof WeakRef<"u"?WeakRef:$Y,VY=0,YN=1;function rg(){return{s:VY,v:void 0,o:null,p:null}}function E7(e,t={}){let n=rg();const{resultEqualityCheck:r}=t;let i,a=0;function o(){var g;let u=n;const{length:d}=arguments;for(let x=0,y=d;x<y;x++){const C=arguments[x];if(typeof C=="function"||typeof C=="object"&&C!==null){let E=u.o;E===null&&(u.o=E=new WeakMap);const T=E.get(C);T===void 0?(u=rg(),E.set(C,u)):u=T}else{let E=u.p;E===null&&(u.p=E=new Map);const T=E.get(C);T===void 0?(u=rg(),E.set(C,u)):u=T}}const c=u;let h;if(u.s===YN)h=u.v;else if(h=e.apply(null,arguments),a++,r){const x=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;x!=null&&r(x,h)&&(h=x,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new WY(h):h}return c.s=YN,c.v=h,h}return o.clearCache=()=>{n=rg(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function YY(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,u,d={},c=i.pop();typeof c=="object"&&(d=c,c=i.pop()),UY(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const h={...n,...d},{memoize:g,memoizeOptions:x=[],argsMemoize:y=E7,argsMemoizeOptions:C=[]}=h,E=VN(x),T=VN(C),I=HY(i),D=g(function(){return a++,c.apply(null,arguments)},...E),F=y(function(){o++;const Z=GY(I,arguments);return u=D.apply(null,Z),u},...T);return Object.assign(F,{resultFunc:c,memoizedResultFunc:D,dependencies:I,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:g,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var Ke=YY(E7),XY=Object.assign((e,t=Ke)=>{zY(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,u,d)=>(o[n[d]]=u,o),{}))},{withTypes:()=>XY}),pw={},mw={},gw={},XN;function KY(){return XN||(XN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),u=t(i);if(o===u&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-o:o-u}return 0};e.compareValues=n})(gw)),gw}var vw={},yw={},KN;function C7(){return KN||(KN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(yw)),yw}var ZN;function ZY(){return ZN||(ZN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C7(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(vw)),vw}var QN;function QY(){return QN||(QN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KY(),n=ZY(),r=B3();function i(a,o,u,d){if(a==null)return[];u=d?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(y=>String(y));const c=(y,C)=>{let E=y;for(let T=0;T<C.length&&E!=null;++T)E=E[C[T]];return E},h=(y,C)=>C==null||y==null?C:typeof y=="object"&&"key"in y?Object.hasOwn(C,y.key)?C[y.key]:c(C,y.path):typeof y=="function"?y(C):Array.isArray(y)?c(C,y):typeof C=="object"?C[y]:C,g=o.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return a.map(y=>({original:y,criteria:g.map(C=>h(C,y))})).slice().sort((y,C)=>{for(let E=0;E<g.length;E++){const T=t.compareValues(y.criteria[E],C.criteria[E],u[E]);if(T!==0)return T}return 0}).map(y=>y.original)}e.orderBy=i})(mw)),mw}var bw={},JN;function JY(){return JN||(JN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(u,d)=>{for(let c=0;c<u.length;c++){const h=u[c];Array.isArray(h)&&d<a?o(h,d+1):i.push(h)}};return o(n,0),i}e.flatten=t})(bw)),bw}var xw={},e6;function N7(){return e6||(e6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S7(),n=z3(),r=v7(),i=b7();function a(o,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.isEqualsSameValueZero(d[u],o):!1}e.isIterateeCall=a})(xw)),xw}var t6;function eX(){return t6||(t6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QY(),n=JY(),r=N7();function i(a,...o){const u=o.length;return u>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:u>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(pw)),pw}var ww,n6;function tX(){return n6||(n6=1,ww=eX().sortBy),ww}var nX=tX();const Q2=Gc(nX);var O7=e=>e.legend.settings,rX=e=>e.legend.size,iX=e=>e.legend.payload,aX=Ke([iX,O7],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Q2(r,n):r});function sX(){return Jt(aX)}var ig=1;function T7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=R.useState({height:0,left:0,top:0,width:0}),r=R.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>ig||Math.abs(o.left-t.left)>ig||Math.abs(o.top-t.top)>ig||Math.abs(o.width-t.width)>ig)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function xs(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var oX=typeof Symbol=="function"&&Symbol.observable||"@@observable",r6=oX,_w=()=>Math.random().toString(36).substring(7).split("").join("."),lX={INIT:`@@redux/INIT${_w()}`,REPLACE:`@@redux/REPLACE${_w()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${_w()}`},Fv=lX;function G3(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function I7(e,t,n){if(typeof e!="function")throw new Error(xs(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(xs(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(xs(1));return n(I7)(e,t)}let r=e,i=t,a=new Map,o=a,u=0,d=!1;function c(){o===a&&(o=new Map,a.forEach((T,I)=>{o.set(I,T)}))}function h(){if(d)throw new Error(xs(3));return i}function g(T){if(typeof T!="function")throw new Error(xs(4));if(d)throw new Error(xs(5));let I=!0;c();const D=u++;return o.set(D,T),function(){if(I){if(d)throw new Error(xs(6));I=!1,c(),o.delete(D),a=null}}}function x(T){if(!G3(T))throw new Error(xs(7));if(typeof T.type>"u")throw new Error(xs(8));if(typeof T.type!="string")throw new Error(xs(17));if(d)throw new Error(xs(9));try{d=!0,i=r(i,T)}finally{d=!1}return(a=o).forEach(D=>{D()}),T}function y(T){if(typeof T!="function")throw new Error(xs(10));r=T,x({type:Fv.REPLACE})}function C(){const T=g;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(xs(11));function D(){const U=I;U.next&&U.next(h())}return D(),{unsubscribe:T(D)}},[r6](){return this}}}return x({type:Fv.INIT}),{dispatch:x,subscribe:g,getState:h,replaceReducer:y,[r6]:C}}function cX(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Fv.INIT})>"u")throw new Error(xs(12));if(typeof n(void 0,{type:Fv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xs(13))})}function j7(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{cX(n)}catch(a){i=a}return function(o={},u){if(i)throw i;let d=!1;const c={};for(let h=0;h<r.length;h++){const g=r[h],x=n[g],y=o[g],C=x(y,u);if(typeof C>"u")throw u&&u.type,new Error(xs(14));c[g]=C,d=d||C!==y}return d=d||r.length!==Object.keys(o).length,d?c:o}}function Uv(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function uX(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(xs(15))};const o={getState:i.getState,dispatch:(d,...c)=>a(d,...c)},u=e.map(d=>d(o));return a=Uv(...u)(i.dispatch),{...i,dispatch:a}}}function k7(e){return G3(e)&&"type"in e&&typeof e.type=="string"}var M7=Symbol.for("immer-nothing"),i6=Symbol.for("immer-draftable"),ro=Symbol.for("immer-state");function Kl(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Jo=Object,d0=Jo.getPrototypeOf,zv="constructor",J2="prototype",o_="configurable",qv="enumerable",vv="writable",up="value",Tu=e=>!!e&&!!e[ro];function rc(e){var t;return e?P7(e)||ty(e)||!!e[i6]||!!((t=e[zv])!=null&&t[i6])||ny(e)||ry(e):!1}var fX=Jo[J2][zv].toString(),a6=new WeakMap;function P7(e){if(!e||!$3(e))return!1;const t=d0(e);if(t===null||t===Jo[J2])return!0;const n=Jo.hasOwnProperty.call(t,zv)&&t[zv];if(n===Object)return!0;if(!Yh(n))return!1;let r=a6.get(n);return r===void 0&&(r=Function.toString.call(n),a6.set(n,r)),r===fX}function ey(e,t,n=!0){Pp(e)===0?(n?Reflect.ownKeys(e):Jo.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Pp(e){const t=e[ro];return t?t.type_:ty(e)?1:ny(e)?2:ry(e)?3:0}var s6=(e,t,n=Pp(e))=>n===2?e.has(t):Jo[J2].hasOwnProperty.call(e,t),l_=(e,t,n=Pp(e))=>n===2?e.get(t):e[t],Hv=(e,t,n,r=Pp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function dX(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var ty=Array.isArray,ny=e=>e instanceof Map,ry=e=>e instanceof Set,$3=e=>typeof e=="object",Yh=e=>typeof e=="function",Sw=e=>typeof e=="boolean";function hX(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var yu=e=>e.copy_||e.base_,W3=e=>e.modified_?e.copy_:e.base_;function c_(e,t){if(ny(e))return new Map(e);if(ry(e))return new Set(e);if(ty(e))return Array[J2].slice.call(e);const n=P7(e);if(t===!0||t==="class_only"&&!n){const r=Jo.getOwnPropertyDescriptors(e);delete r[ro];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],u=r[o];u[vv]===!1&&(u[vv]=!0,u[o_]=!0),(u.get||u.set)&&(r[o]={[o_]:!0,[vv]:!0,[qv]:u[qv],[up]:e[o]})}return Jo.create(d0(e),r)}else{const r=d0(e);if(r!==null&&n)return{...e};const i=Jo.create(r);return Jo.assign(i,e)}}function V3(e,t=!1){return iy(e)||Tu(e)||!rc(e)||(Pp(e)>1&&Jo.defineProperties(e,{set:ag,add:ag,clear:ag,delete:ag}),Jo.freeze(e),t&&ey(e,(n,r)=>{V3(r,!0)},!1)),e}function pX(){Kl(2)}var ag={[up]:pX};function iy(e){return e===null||!$3(e)?!0:Jo.isFrozen(e)}var Gv="MapSet",u_="Patches",o6="ArrayMethods",R7={};function Pd(e){const t=R7[e];return t||Kl(0,e),t}var l6=e=>!!R7[e],fp,D7=()=>fp,mX=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:l6(Gv)?Pd(Gv):void 0,arrayMethodsPlugin_:l6(o6)?Pd(o6):void 0});function c6(e,t){t&&(e.patchPlugin_=Pd(u_),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function f_(e){d_(e),e.drafts_.forEach(gX),e.drafts_=null}function d_(e){e===fp&&(fp=e.parent_)}var u6=e=>fp=mX(fp,e);function gX(e){const t=e[ro];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function f6(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[ro].modified_&&(f_(t),Kl(4)),rc(e)&&(e=d6(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[ro].base_,e,t)}else e=d6(t,n);return vX(t,e,!0),f_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==M7?e:void 0}function d6(e,t){if(iy(t))return t;const n=t[ro];if(!n)return $v(t,e.handledSet_,e);if(!ay(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);F7(n,e)}return n.copy_}function vX(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&V3(t,n)}function L7(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var ay=(e,t)=>e.scope_===t,yX=[];function B7(e,t,n,r){const i=yu(e),a=e.type_;if(r!==void 0&&l_(i,r,a)===t){Hv(i,r,n,a);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;ey(i,(d,c)=>{if(Tu(c)){const h=u.get(c)||[];h.push(d),u.set(c,h)}})}const o=e.draftLocations_.get(t)??yX;for(const u of o)Hv(i,u,n,a)}function bX(e,t,n){e.callbacks_.push(function(i){var u;const a=t;if(!a||!ay(a,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(a);const o=W3(a);B7(e,a.draft_??a,o,n),F7(a,i)})}function F7(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}L7(e)}}function xX(e,t,n){const{scope_:r}=e;if(Tu(n)){const i=n[ro];ay(i,r)&&i.callbacks_.push(function(){yv(e);const o=W3(i);B7(e,n,o,t)})}else rc(n)&&e.callbacks_.push(function(){const a=yu(e);e.type_===3?a.has(n)&&$v(n,r.handledSet_,r):l_(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&$v(l_(e.copy_,t,e.type_),r.handledSet_,r)})}function $v(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Tu(e)||t.has(e)||!rc(e)||iy(e)||(t.add(e),ey(e,(r,i)=>{if(Tu(i)){const a=i[ro];if(ay(a,n)){const o=W3(a);Hv(e,r,o,e.type_),L7(a)}}else rc(i)&&$v(i,t,n)})),e}function wX(e,t){const n=ty(e),r={type_:n?1:0,scope_:t?t.scope_:D7(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Wv;n&&(i=[r],a=dp);const{revoke:o,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=o,[u,r]}var Wv={get(e,t){if(t===ro)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=yu(e);if(!s6(i,t,e.type_))return _X(e,i,t);const a=i[t];if(e.finalized_||!rc(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&hX(t))return a;if(a===Aw(e.base_,t)){yv(e);const o=e.type_===1?+t:t,u=p_(e.scope_,a,e,o);return e.copy_[o]=u}return a},has(e,t){return t in yu(e)},ownKeys(e){return Reflect.ownKeys(yu(e))},set(e,t,n){const r=U7(yu(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Aw(yu(e),t),a=i==null?void 0:i[ro];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(dX(n,i)&&(n!==void 0||s6(e.base_,t,e.type_)))return!0;yv(e),h_(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),xX(e,t,n)),!0},deleteProperty(e,t){return yv(e),Aw(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),h_(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=yu(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[vv]:!0,[o_]:e.type_!==1||t!=="length",[qv]:r[qv],[up]:n[t]}},defineProperty(){Kl(11)},getPrototypeOf(e){return d0(e.base_)},setPrototypeOf(){Kl(12)}},dp={};for(let e in Wv){let t=Wv[e];dp[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}dp.deleteProperty=function(e,t){return dp.set.call(this,e,t,void 0)};dp.set=function(e,t,n){return Wv.set.call(this,e[0],t,n,e[0])};function Aw(e,t){const n=e[ro];return(n?yu(n):e)[t]}function _X(e,t,n){var i;const r=U7(t,n);return r?up in r?r[up]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function U7(e,t){if(!(t in e))return;let n=d0(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=d0(n)}}function h_(e){e.modified_||(e.modified_=!0,e.parent_&&h_(e.parent_))}function yv(e){e.copy_||(e.assigned_=new Map,e.copy_=c_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var SX=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Yh(n)&&!Yh(r)){const o=r;r=n;const u=this;return function(c=o,...h){return u.produce(c,g=>r.call(this,g,...h))}}Yh(r)||Kl(6),i!==void 0&&!Yh(i)&&Kl(7);let a;if(rc(n)){const o=u6(this),u=p_(o,n,void 0);let d=!0;try{a=r(u),d=!1}finally{d?f_(o):d_(o)}return c6(o,i),f6(a,o)}else if(!n||!$3(n)){if(a=r(n),a===void 0&&(a=n),a===M7&&(a=void 0),this.autoFreeze_&&V3(a,!0),i){const o=[],u=[];Pd(u_).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:u}),i(o,u)}return a}else Kl(1,n)},this.produceWithPatches=(n,r)=>{if(Yh(n))return(u,...d)=>this.produceWithPatches(u,c=>n(c,...d));let i,a;return[this.produce(n,r,(u,d)=>{i=u,a=d}),i,a]},Sw(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Sw(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Sw(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){rc(t)||Kl(8),Tu(t)&&(t=ec(t));const n=u6(this),r=p_(n,t,void 0);return r[ro].isManual_=!0,d_(n),r}finishDraft(t,n){const r=t&&t[ro];(!r||!r.isManual_)&&Kl(9);const{scope_:i}=r;return c6(i,n),f6(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Pd(u_).applyPatches_;return Tu(t)?i(t,n):this.produce(t,a=>i(a,n))}};function p_(e,t,n,r){const[i,a]=ny(t)?Pd(Gv).proxyMap_(t,n):ry(t)?Pd(Gv).proxySet_(t,n):wX(t,n);return((n==null?void 0:n.scope_)??D7()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?bX(n,a,r):a.callbacks_.push(function(d){var h;(h=d.mapSetPlugin_)==null||h.fixSetContents(a);const{patchPlugin_:c}=d;a.modified_&&c&&c.generatePatches_(a,[],d)}),i}function ec(e){return Tu(e)||Kl(10,e),z7(e)}function z7(e){if(!rc(e)||iy(e))return e;const t=e[ro];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=c_(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=c_(e,!0);return ey(n,(i,a)=>{Hv(n,i,z7(a))},r),t&&(t.finalized_=!1),n}var AX=new SX,q7=AX.produce;function H7(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var EX=H7(),CX=H7,NX=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Uv:Uv.apply(null,arguments)};function Sl(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(tl(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>k7(r)&&r.type===e,n}var G7=class z1 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,z1.prototype)}static get[Symbol.species](){return z1}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new z1(...t[0].concat(this)):new z1(...t.concat(this))}};function h6(e){return rc(e)?q7(e,()=>{}):e}function sg(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function OX(e){return typeof e=="boolean"}var TX=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new G7;return n&&(OX(n)?o.push(EX):o.push(CX(n.extraArgument))),o},$7="RTK_autoBatch",Ci=()=>e=>({payload:e,meta:{[$7]:!0}}),p6=e=>t=>{setTimeout(t,e)},W7=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:p6(10):e.type==="callback"?e.queueNotification:p6(e.timeout),c=()=>{o=!1,a&&(a=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const g=()=>i&&h(),x=r.subscribe(g);return u.add(h),()=>{x(),u.delete(h)}},dispatch(h){var g;try{return i=!((g=h==null?void 0:h.meta)!=null&&g[$7]),a=!i,a&&(o||(o=!0,d(c))),r.dispatch(h)}finally{i=!0}}})},IX=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new G7(e);return r&&i.push(W7(typeof r=="object"?r:void 0)),i};function jX(e){const t=TX(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(G3(n))u=j7(n);else throw new Error(tl(1));let d;typeof r=="function"?d=r(t):d=t();let c=Uv;i&&(c=NX({trace:!1,...typeof i=="object"&&i}));const h=uX(...d),g=IX(h);let x=typeof o=="function"?o(g):g();const y=c(...x);return I7(u,a,y)}function V7(e){const t={},n=[];let r;const i={addCase(a,o){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(tl(28));if(u in t)throw new Error(tl(29));return t[u]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function kX(e){return typeof e=="function"}function MX(e,t){let[n,r,i]=V7(t),a;if(kX(e))a=()=>h6(e());else{const u=h6(e);a=()=>u}function o(u=a(),d){let c=[n[d.type],...r.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return c.filter(h=>!!h).length===0&&(c=[i]),c.reduce((h,g)=>{if(g)if(Tu(h)){const y=g(h,d);return y===void 0?h:y}else{if(rc(h))return q7(h,x=>g(x,d));{const x=g(h,d);if(x===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return h},u)}return o.getInitialState=a,o}var PX="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",RX=(e=21)=>{let t="",n=e;for(;n--;)t+=PX[Math.random()*64|0];return t},DX=Symbol.for("rtk-slice-createasyncthunk");function LX(e,t){return`${e}/${t}`}function BX({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[DX];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(tl(11));const u=(typeof i.reducers=="function"?i.reducers(UX()):i.reducers)||{},d=Object.keys(u),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(U,Z){const Q=typeof U=="string"?U:U.type;if(!Q)throw new Error(tl(12));if(Q in c.sliceCaseReducersByType)throw new Error(tl(13));return c.sliceCaseReducersByType[Q]=Z,h},addMatcher(U,Z){return c.sliceMatchers.push({matcher:U,reducer:Z}),h},exposeAction(U,Z){return c.actionCreators[U]=Z,h},exposeCaseReducer(U,Z){return c.sliceCaseReducersByName[U]=Z,h}};d.forEach(U=>{const Z=u[U],Q={reducerName:U,type:LX(a,U),createNotation:typeof i.reducers=="function"};qX(Z)?GX(Q,Z,h,t):zX(Q,Z,h)});function g(){const[U={},Z=[],Q=void 0]=typeof i.extraReducers=="function"?V7(i.extraReducers):[i.extraReducers],Y={...U,...c.sliceCaseReducersByType};return MX(i.initialState,J=>{for(let q in Y)J.addCase(q,Y[q]);for(let q of c.sliceMatchers)J.addMatcher(q.matcher,q.reducer);for(let q of Z)J.addMatcher(q.matcher,q.reducer);Q&&J.addDefaultCase(Q)})}const x=U=>U,y=new Map,C=new WeakMap;let E;function T(U,Z){return E||(E=g()),E(U,Z)}function I(){return E||(E=g()),E.getInitialState()}function D(U,Z=!1){function Q(J){let q=J[U];return typeof q>"u"&&Z&&(q=sg(C,Q,I)),q}function Y(J=x){const q=sg(y,Z,()=>new WeakMap);return sg(q,J,()=>{const oe={};for(const[H,G]of Object.entries(i.selectors??{}))oe[H]=FX(G,J,()=>sg(C,J,I),Z);return oe})}return{reducerPath:U,getSelectors:Y,get selectors(){return Y(Q)},selectSlice:Q}}const F={name:a,reducer:T,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:I,...D(o),injectInto(U,{reducerPath:Z,...Q}={}){const Y=Z??o;return U.inject({reducerPath:Y,reducer:T},Q),{...F,...D(Y,!0)}}};return F}}function FX(e,t,n,r){function i(a,...o){let u=t(a);return typeof u>"u"&&r&&(u=n()),e(u,...o)}return i.unwrapped=e,i}var jo=BX();function UX(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function zX({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!HX(r))throw new Error(tl(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?Sl(e,o):Sl(e))}function qX(e){return e._reducerDefinitionType==="asyncThunk"}function HX(e){return e._reducerDefinitionType==="reducerWithPrepare"}function GX({type:e,reducerName:t},n,r,i){if(!i)throw new Error(tl(18));const{payloadCreator:a,fulfilled:o,pending:u,rejected:d,settled:c,options:h}=n,g=i(e,a,h);r.exposeAction(t,g),o&&r.addCase(g.fulfilled,o),u&&r.addCase(g.pending,u),d&&r.addCase(g.rejected,d),c&&r.addMatcher(g.settled,c),r.exposeCaseReducer(t,{fulfilled:o||og,pending:u||og,rejected:d||og,settled:c||og})}function og(){}var $X="task",Y7="listener",X7="completed",Y3="cancelled",WX=`task-${Y3}`,VX=`task-${X7}`,m_=`${Y7}-${Y3}`,YX=`${Y7}-${X7}`,sy=class{constructor(e){Cr(this,"name","TaskAbortError");Cr(this,"message");this.code=e,this.message=`${$X} ${Y3} (reason: ${e})`}},X3=(e,t)=>{if(typeof e!="function")throw new TypeError(tl(32))},Vv=()=>{},K7=(e,t=Vv)=>(e.catch(t),e),Z7=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ed=e=>{if(e.aborted)throw new sy(e.reason)};function Q7(e,t){let n=Vv;return new Promise((r,i)=>{const a=()=>i(new sy(e.reason));if(e.aborted){a();return}n=Z7(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Vv})}var XX=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof sy?"cancelled":"rejected",error:n}}finally{t==null||t()}},Yv=e=>t=>K7(Q7(e,t).then(n=>(Ed(e),n))),J7=e=>{const t=Yv(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:r0}=Object,m6={},oy="listenerMiddleware",KX=(e,t)=>{const n=r=>Z7(e,()=>r.abort(e.reason));return(r,i)=>{X3(r);const a=new AbortController;n(a);const o=XX(async()=>{Ed(e),Ed(a.signal);const u=await r({pause:Yv(a.signal),delay:J7(a.signal),signal:a.signal});return Ed(a.signal),u},()=>a.abort(VX));return i!=null&&i.autoJoin&&t.push(o.catch(Vv)),{result:Yv(e)(o),cancel(){a.abort(WX)}}}},ZX=(e,t)=>{const n=async(r,i)=>{Ed(t);let a=()=>{};const u=[new Promise((d,c)=>{let h=e({predicate:r,effect:(g,x)=>{x.unsubscribe(),d([g,x.getState(),x.getOriginalState()])}});a=()=>{h(),c()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await Q7(t,Promise.race(u));return Ed(t),d}finally{a()}};return(r,i)=>K7(n(r,i))},eP=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Sl(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(tl(21));return X3(a),{predicate:i,type:t,effect:a}},tP=r0(e=>{const{type:t,predicate:n,effect:r}=eP(e);return{id:RX(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(tl(22))}}},{withTypes:()=>tP}),g6=(e,t)=>{const{type:n,effect:r,predicate:i}=eP(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},g_=e=>{e.pending.forEach(t=>{t.abort(m_)})},QX=(e,t)=>()=>{for(const n of t.keys())g_(n);e.clear()},v6=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},nP=r0(Sl(`${oy}/add`),{withTypes:()=>nP}),JX=Sl(`${oy}/removeAll`),rP=r0(Sl(`${oy}/remove`),{withTypes:()=>rP}),eK=(...e)=>{console.error(`${oy}/error`,...e)},Rp=(e={})=>{const t=new Map,n=new Map,r=y=>{const C=n.get(y)??0;n.set(y,C+1)},i=y=>{const C=n.get(y)??1;C===1?n.delete(y):n.set(y,C-1)},{extra:a,onError:o=eK}=e;X3(o);const u=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),C=>{y.unsubscribe(),C!=null&&C.cancelActive&&g_(y)}),d=y=>{const C=g6(t,y)??tP(y);return u(C)};r0(d,{withTypes:()=>d});const c=y=>{const C=g6(t,y);return C&&(C.unsubscribe(),y.cancelActive&&g_(C)),!!C};r0(c,{withTypes:()=>c});const h=async(y,C,E,T)=>{const I=new AbortController,D=ZX(d,I.signal),F=[];try{y.pending.add(I),r(y),await Promise.resolve(y.effect(C,r0({},E,{getOriginalState:T,condition:(U,Z)=>D(U,Z).then(Boolean),take:D,delay:J7(I.signal),pause:Yv(I.signal),extra:a,signal:I.signal,fork:KX(I.signal,F),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((U,Z,Q)=>{U!==I&&(U.abort(m_),Q.delete(U))})},cancel:()=>{I.abort(m_),y.pending.delete(I)},throwIfCancelled:()=>{Ed(I.signal)}})))}catch(U){U instanceof sy||v6(o,U,{raisedBy:"effect"})}finally{await Promise.all(F),I.abort(YX),i(y),y.pending.delete(I)}},g=QX(t,n);return{middleware:y=>C=>E=>{if(!k7(E))return C(E);if(nP.match(E))return d(E.payload);if(JX.match(E)){g();return}if(rP.match(E))return c(E.payload);let T=y.getState();const I=()=>{if(T===m6)throw new Error(tl(23));return T};let D;try{if(D=C(E),t.size>0){const F=y.getState(),U=Array.from(t.values());for(const Z of U){let Q=!1;try{Q=Z.predicate(E,F,T)}catch(Y){Q=!1,v6(o,Y,{raisedBy:"predicate"})}Q&&h(Z,E,y,I)}}}finally{T=m6}return D},startListening:d,stopListening:c,clearListeners:g}};function tl(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var tK={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},iP=jo({name:"chartLayout",initialState:tK,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:nK,setLayout:rK,setChartSize:iK,setScale:aK}=iP.actions,sK=iP.reducer;function aP(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function lr(e){return Number.isFinite(e)}function qc(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function y6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y6(Object(n),!0).forEach(function(r){oK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oK(e,t,n){return(t=lK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lK(e){var t=cK(e,"string");return typeof t=="symbol"?t:t+""}function cK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bi(e,t,n){return os(e)||os(t)?n:zc(t)?kd(e,t,n):typeof t=="function"?t(e):n}var uK=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:u}=t;if((u==="vertical"||u==="horizontal"&&o==="middle")&&a!=="center"&&Yt(e[a]))return Qh(Qh({},e),{},{[a]:e[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&o!=="middle"&&Yt(e[o]))return Qh(Qh({},e),{},{[o]:e[o]+(i||0)})}return e},Uf=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",sP=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,a,o=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||o.push(t),a||o.push(n),o},oP=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:u,isCategorical:d,categoricalDomain:c,tickCount:h,ticks:g,niceTicks:x,axisType:y}=e;if(!o)return null;var C=u==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,E=i==="category"&&o.bandwidth?o.bandwidth()/C:0;if(E=y==="angleAxis"&&a&&a.length>=2?ss(a[0]-a[1])*2*E:E,g||x){var T=(g||x||[]).map((I,D)=>{var F=r?r.indexOf(I):I,U=o.map(F);return lr(U)?{coordinate:U+E,value:I,offset:E,index:D}:null}).filter(Oo);return T}return d&&c?c.map((I,D)=>{var F=o.map(I);return lr(F)?{coordinate:F+E,value:I,index:D,offset:E}:null}).filter(Oo):o.ticks&&h!=null?o.ticks(h).map((I,D)=>{var F=o.map(I);return lr(F)?{coordinate:F+E,value:I,index:D,offset:E}:null}).filter(Oo):o.domain().map((I,D)=>{var F=o.map(I);return lr(F)?{coordinate:F+E,value:r?r[I]:I,index:D,offset:E}:null}).filter(Oo)},fK=(e,t)=>{if(!t||t.length!==2||!Yt(t[0])||!Yt(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Yt(e[0])||e[0]<n)&&(i[0]=n),(!Yt(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},dK=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,o=0,u=0;u<n;++u){var d=e[u],c=d==null?void 0:d[i];if(c!=null){var h=c[1],g=c[0],x=Uc(h)?g:h;x>=0?(c[0]=a,a+=x,c[1]=a):(c[0]=o,o+=x,c[1]=o)}}}},hK=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,o=0;o<n;++o){var u=e[o],d=u==null?void 0:u[i];if(d!=null){var c=Uc(d[1])?d[0]:d[1];c>=0?(d[0]=a,a+=c,d[1]=a):(d[0]=0,d[1]=0)}}}},pK={sign:dK,expand:kV,none:jd,silhouette:MV,wiggle:PV,positive:hK},mK=(e,t,n)=>{var r,i=(r=pK[n])!==null&&r!==void 0?r:jd,a=jV().keys(t).value((u,d)=>Number(bi(u,d,0))).order(a_).offset(i),o=a(e);return o.forEach((u,d)=>{u.forEach((c,h)=>{var g=bi(e[h],t[d],0);Array.isArray(g)&&g.length===2&&Yt(g[0])&&Yt(g[1])&&(c[0]=g[0],c[1]=g[1])})}),o};function gK(e){return e==null?void 0:String(e)}var b6=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+r:null;var u=bi(a,t.dataKey,t.scale.domain()[o]);if(os(u))return null;var d=t.scale.map(u);return Yt(d)?d-i/2+r:null},vK=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},yK=e=>{var t=e.flat(2).filter(Yt);return[Math.min(...t),Math.max(...t)]},bK=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],xK=(e,t,n)=>{if(e!=null)return bK(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:o}=a,u=o.reduce((d,c)=>{var h=aP(c,t,n),g=yK(h);return!lr(g[0])||!lr(g[1])?d:[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},x6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,w6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xv=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Q2(t,h=>h.coordinate),a=1/0,o=1,u=i.length;o<u;o++){var d=i[o],c=i[o-1];a=Math.min(((d==null?void 0:d.coordinate)||0)-((c==null?void 0:c.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function _6(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Qh(Qh({},t),{},{dataKey:n,payload:r,value:i,name:a})}function ly(e,t){if(e)return String(e);if(typeof t=="string")return t}var wK=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},_K=(e,t)=>t==="centric"?e.angle:e.radius,Bu=e=>e.layout.width,Fu=e=>e.layout.height,SK=e=>e.layout.scale,lP=e=>e.layout.margin,cy=Ke(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),uy=Ke(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),cP="data-recharts-item-index",uP="data-recharts-item-id",Dp=60;function S6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S6(Object(n),!0).forEach(function(r){AK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AK(e,t,n){return(t=EK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EK(e){var t=CK(e,"string");return typeof t=="symbol"?t:t+""}function CK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NK=e=>e.brush.height;function OK(e){var t=uy(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Dp;return n+i}return n},0)}function TK(e){var t=uy(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Dp;return n+i}return n},0)}function IK(e){var t=cy(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function jK(e){var t=cy(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Ua=Ke([Bu,Fu,lP,NK,OK,TK,IK,jK,O7,rX],(e,t,n,r,i,a,o,u,d,c)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},g={top:(n.top||0)+o,bottom:(n.bottom||0)+u},x=lg(lg({},g),h),y=x.bottom;x.bottom+=r,x=uK(x,d,c);var C=e-x.left-x.right,E=t-x.top-x.bottom;return lg(lg({brushBottom:y},x),{},{width:Math.max(C,0),height:Math.max(E,0)})}),kK=Ke(Ua,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),K3=Ke(Bu,Fu,(e,t)=>({x:0,y:0,width:e,height:t})),MK=R.createContext(null),ko=()=>R.useContext(MK)!=null,fy=e=>e.brush,dy=Ke([fy,Ua,lP],(e,t,n)=>({height:e.height,x:Yt(e.x)?e.x:t.left,y:Yt(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Yt(e.width)?e.width:t.width})),Ew={},Cw={},Nw={},A6;function PK(){return A6||(A6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,u=null;const d=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),h=()=>{u!==null&&(n.apply(o,u),o=void 0,u=null)},g=()=>{c&&h(),E()};let x=null;const y=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,g()},r)},C=()=>{x!==null&&(clearTimeout(x),x=null)},E=()=>{C(),o=void 0,u=null},T=()=>{h()},I=function(...D){if(i!=null&&i.aborted)return;o=this,u=D;const F=x==null;y(),d&&F&&h()};return I.schedule=y,I.cancel=E,I.flush=T,i==null||i.addEventListener("abort",E,{once:!0}),I}e.debounce=t})(Nw)),Nw}var E6;function RK(){return E6||(E6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PK();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:u=!0,maxWait:d}=a,c=Array(2);o&&(c[0]="leading"),u&&(c[1]="trailing");let h,g=null;const x=t.debounce(function(...E){h=r.apply(this,E),g=null},i,{edges:c}),y=function(...E){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(h=r.apply(this,E),g=Date.now(),x.cancel(),x.schedule(),h):(x.apply(this,E),h)},C=()=>(x.flush(),h);return y.cancel=x.cancel,y.flush=C,y}e.debounce=n})(Cw)),Cw}var C6;function DK(){return C6||(C6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RK();function n(r,i=0,a={}){const{leading:o=!0,trailing:u=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:u})}e.throttle=n})(Ew)),Ew}var Ow,N6;function LK(){return N6||(N6=1,Ow=DK().throttle),Ow}var BK=LK();const FK=Gc(BK);var Kv=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},Pc={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},fP=(e,t,n)=>{var{width:r=Pc.width,height:i=Pc.height,aspect:a,maxHeight:o}=n,u=Md(r)?e:Number(r),d=Md(i)?t:Number(i);return a&&a>0&&(u?d=u/a:d&&(u=d*a),o&&d!=null&&d>o&&(d=o)),{calculatedWidth:u,calculatedHeight:d}},UK={width:0,height:0,overflow:"visible"},zK={width:0,overflowX:"visible"},qK={height:0,overflowY:"visible"},HK={},GK=e=>{var{width:t,height:n}=e,r=Md(t),i=Md(n);return r&&i?UK:r?zK:i?qK:HK};function $K(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i=Pc.width,a=Pc.height):i===void 0?i=r&&r>0?void 0:Pc.width:a===void 0&&(a=r&&r>0?void 0:Pc.height),{width:i,height:a}}function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v_.apply(null,arguments)}function O6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function T6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O6(Object(n),!0).forEach(function(r){WK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WK(e,t,n){return(t=VK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VK(e){var t=YK(e,"string");return typeof t=="symbol"?t:t+""}function YK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dP=R.createContext(Pc.initialDimension);function XK(e){return qc(e.width)&&qc(e.height)}function hP(e){var{children:t,width:n,height:r}=e,i=R.useMemo(()=>({width:n,height:r}),[n,r]);return XK(i)?R.createElement(dP.Provider,{value:i},t):null}var Z3=()=>R.useContext(dP),KK=R.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=Pc.initialDimension,width:i,height:a,minWidth:o=Pc.minWidth,minHeight:u,maxHeight:d,children:c,debounce:h=Pc.debounce,id:g,className:x,onResize:y,style:C={}}=e,E=R.useRef(null),T=R.useRef();T.current=y,R.useImperativeHandle(t,()=>E.current);var[I,D]=R.useState({containerWidth:r.width,containerHeight:r.height}),F=R.useCallback((J,q)=>{D(oe=>{var H=Math.round(J),G=Math.round(q);return oe.containerWidth===H&&oe.containerHeight===G?oe:{containerWidth:H,containerHeight:G}})},[]);R.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return C0;var J=G=>{var fe,ee=G[0];if(ee!=null){var{width:ae,height:ie}=ee.contentRect;F(ae,ie),(fe=T.current)===null||fe===void 0||fe.call(T,ae,ie)}};h>0&&(J=FK(J,h,{trailing:!0,leading:!1}));var q=new ResizeObserver(J),{width:oe,height:H}=E.current.getBoundingClientRect();return F(oe,H),q.observe(E.current),()=>{q.disconnect()}},[F,h]);var{containerWidth:U,containerHeight:Z}=I;Kv(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:Q,calculatedHeight:Y}=fP(U,Z,{width:i,height:a,aspect:n,maxHeight:d});return Kv(Q!=null&&Q>0||Y!=null&&Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Q,Y,i,a,o,u,n),R.createElement("div",{id:g?"".concat(g):void 0,className:Or("recharts-responsive-container",x),style:T6(T6({},C),{},{width:i,height:a,minWidth:o,minHeight:u,maxHeight:d}),ref:E},R.createElement("div",{style:GK({width:i,height:a})},R.createElement(hP,{width:Q,height:Y},c)))}),Zv=R.forwardRef((e,t)=>{var n=Z3();if(qc(n.width)&&qc(n.height))return e.children;var{width:r,height:i}=$K({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=fP(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Yt(a)&&Yt(o)?R.createElement(hP,{width:a,height:o},e.children):R.createElement(KK,v_({},e,{width:r,height:i,ref:t}))});function Q3(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var hy=()=>{var e,t=ko(),n=Jt(kK),r=Jt(dy),i=(e=Jt(fy))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},ZK={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},pP=()=>{var e;return(e=Jt(Ua))!==null&&e!==void 0?e:ZK},J3=()=>Jt(Bu),eS=()=>Jt(Fu),QK=()=>Jt(e=>e.layout.margin),Tr=e=>e.layout.layoutType,N0=()=>Jt(Tr),mP=()=>{var e=N0();if(e==="horizontal"||e==="vertical")return e},gP=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},JK=()=>{var e=N0();return e!==void 0},Lp=e=>{var t=li(),n=ko(),{width:r,height:i}=e,a=Z3(),o=r,u=i;return a&&(o=a.width>0?a.width:r,u=a.height>0?a.height:i),R.useEffect(()=>{!n&&qc(o)&&qc(u)&&t(iK({width:o,height:u}))},[t,n,o,u]),null},vP=Symbol.for("immer-nothing"),I6=Symbol.for("immer-draftable"),rl=Symbol.for("immer-state");function Zl(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var hp=Object.getPrototypeOf;function h0(e){return!!e&&!!e[rl]}function Rd(e){var t;return e?yP(e)||Array.isArray(e)||!!e[I6]||!!((t=e.constructor)!=null&&t[I6])||Bp(e)||my(e):!1}var eZ=Object.prototype.constructor.toString(),j6=new WeakMap;function yP(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=j6.get(n);return r===void 0&&(r=Function.toString.call(n),j6.set(n,r)),r===eZ}function Qv(e,t,n=!0){py(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function py(e){const t=e[rl];return t?t.type_:Array.isArray(e)?1:Bp(e)?2:my(e)?3:0}function y_(e,t){return py(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function bP(e,t,n){const r=py(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function tZ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Bp(e){return e instanceof Map}function my(e){return e instanceof Set}function hd(e){return e.copy_||e.base_}function b_(e,t){if(Bp(e))return new Map(e);if(my(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=yP(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[rl];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],u=r[o];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[o]})}return Object.create(hp(e),r)}else{const r=hp(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function tS(e,t=!1){return gy(e)||h0(e)||!Rd(e)||(py(e)>1&&Object.defineProperties(e,{set:cg,add:cg,clear:cg,delete:cg}),Object.freeze(e),t&&Object.values(e).forEach(n=>tS(n,!0))),e}function nZ(){Zl(2)}var cg={value:nZ};function gy(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var rZ={};function Dd(e){const t=rZ[e];return t||Zl(0,e),t}var pp;function xP(){return pp}function iZ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function k6(e,t){t&&(Dd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function x_(e){w_(e),e.drafts_.forEach(aZ),e.drafts_=null}function w_(e){e===pp&&(pp=e.parent_)}function M6(e){return pp=iZ(pp,e)}function aZ(e){const t=e[rl];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function P6(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[rl].modified_&&(x_(t),Zl(4)),Rd(e)&&(e=Jv(t,e),t.parent_||e2(t,e)),t.patches_&&Dd("Patches").generateReplacementPatches_(n[rl].base_,e,t.patches_,t.inversePatches_)):e=Jv(t,n,[]),x_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==vP?e:void 0}function Jv(e,t,n){if(gy(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[rl];if(!i)return Qv(t,(a,o)=>R6(e,i,t,a,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return e2(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,u=!1;i.type_===3&&(o=new Set(a),a.clear(),u=!0),Qv(o,(d,c)=>R6(e,i,a,d,c,n,u),r),e2(e,a,!1),n&&e.patches_&&Dd("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function R6(e,t,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const u=gy(i);if(!(u&&!o)){if(h0(i)){const d=a&&t&&t.type_!==3&&!y_(t.assigned_,r)?a.concat(r):void 0,c=Jv(e,i,d);if(bP(n,r,c),h0(c))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Rd(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;Jv(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Bp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&e2(e,i)}}}function e2(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&tS(t,n)}function sZ(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:xP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=nS;n&&(i=[r],a=mp);const{revoke:o,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=o,u}var nS={get(e,t){if(t===rl)return e;const n=hd(e);if(!y_(n,t))return oZ(e,n,t);const r=n[t];return e.finalized_||!Rd(r)?r:r===Tw(e.base_,t)?(Iw(e),e.copy_[t]=S_(r,e)):r},has(e,t){return t in hd(e)},ownKeys(e){return Reflect.ownKeys(hd(e))},set(e,t,n){const r=wP(hd(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Tw(hd(e),t),a=i==null?void 0:i[rl];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(tZ(n,i)&&(n!==void 0||y_(e.base_,t)))return!0;Iw(e),__(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Tw(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Iw(e),__(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=hd(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Zl(11)},getPrototypeOf(e){return hp(e.base_)},setPrototypeOf(){Zl(12)}},mp={};Qv(nS,(e,t)=>{mp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});mp.deleteProperty=function(e,t){return mp.set.call(this,e,t,void 0)};mp.set=function(e,t,n){return nS.set.call(this,e[0],t,n,e[0])};function Tw(e,t){const n=e[rl];return(n?hd(n):e)[t]}function oZ(e,t,n){var i;const r=wP(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function wP(e,t){if(!(t in e))return;let n=hp(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=hp(n)}}function __(e){e.modified_||(e.modified_=!0,e.parent_&&__(e.parent_))}function Iw(e){e.copy_||(e.copy_=b_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var lZ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(d=a,...c){return o.produce(d,h=>n.call(this,h,...c))}}typeof n!="function"&&Zl(6),r!==void 0&&typeof r!="function"&&Zl(7);let i;if(Rd(t)){const a=M6(this),o=S_(t,void 0);let u=!0;try{i=n(o),u=!1}finally{u?x_(a):w_(a)}return k6(a,r),P6(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===vP&&(i=void 0),this.autoFreeze_&&tS(i,!0),r){const a=[],o=[];Dd("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else Zl(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...u)=>this.produceWithPatches(o,d=>t(d,...u));let r,i;return[this.produce(t,n,(o,u)=>{r=o,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Rd(e)||Zl(8),h0(e)&&(e=cZ(e));const t=M6(this),n=S_(e,void 0);return n[rl].isManual_=!0,w_(t),n}finishDraft(e,t){const n=e&&e[rl];(!n||!n.isManual_)&&Zl(9);const{scope_:r}=n;return k6(r,t),P6(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Dd("Patches").applyPatches_;return h0(e)?r(e,t):this.produce(e,i=>r(i,t))}};function S_(e,t){const n=Bp(e)?Dd("MapSet").proxyMap_(e,t):my(e)?Dd("MapSet").proxySet_(e,t):sZ(e,t);return(t?t.scope_:xP()).drafts_.push(n),n}function cZ(e){return h0(e)||Zl(10,e),_P(e)}function _P(e){if(!Rd(e)||gy(e))return e;const t=e[rl];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=b_(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=b_(e,!0);return Qv(n,(i,a)=>{bP(n,i,_P(a))},r),t&&(t.finalized_=!1),n}var uZ=new lZ;uZ.produce;var fZ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},SP=jo({name:"legend",initialState:fZ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ci()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ec(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:Ci()},removeLegendPayload:{reducer(e,t){var n=ec(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Ci()}}}),{setLegendSize:D6,setLegendSettings:dZ,addLegendPayload:AP,replaceLegendPayload:EP,removeLegendPayload:CP}=SP.actions,hZ=SP.reducer,pZ=["contextPayload"];function A_(){return A_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A_.apply(null,arguments)}function L6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function p0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L6(Object(n),!0).forEach(function(r){mZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mZ(e,t,n){return(t=gZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gZ(e){var t=vZ(e,"string");return typeof t=="symbol"?t:t+""}function vZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yZ(e,t){if(e==null)return{};var n,r,i=bZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xZ(e){return e.value}function wZ(e){var{contextPayload:t}=e,n=yZ(e,pZ),r=A7(t,e.payloadUniqBy,xZ),i=p0(p0({},n),{},{payload:r});return R.isValidElement(e.content)?R.cloneElement(e.content,i):typeof e.content=="function"?R.createElement(e.content,i):R.createElement(fY,i)}function _Z(e,t,n,r,i,a){var{layout:o,align:u,verticalAlign:d}=t,c,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&o==="vertical"?c={left:((r||0)-a.width)/2}:c=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?h={top:((i||0)-a.height)/2}:h=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),p0(p0({},c),h)}function SZ(e){var t=li();return R.useEffect(()=>{t(dZ(e))},[t,e]),null}function AZ(e){var t=li();return R.useEffect(()=>(t(D6(e)),()=>{t(D6({width:0,height:0}))}),[t,e]),null}function EZ(e,t,n,r){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:n||r}:null}var CZ={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function NP(e){var t=ls(e,CZ),n=sX(),r=tV(),i=QK(),{width:a,height:o,wrapperStyle:u,portal:d}=t,[c,h]=T7([n]),g=J3(),x=eS();if(g==null||x==null)return null;var y=g-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),C=EZ(t.layout,o,a,y),E=d?u:p0(p0({position:"absolute",width:(C==null?void 0:C.width)||a||"auto",height:(C==null?void 0:C.height)||o||"auto"},_Z(u,t,i,g,x,c)),u),T=d??r;if(T==null||n==null)return null;var I=R.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:h},R.createElement(SZ,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!d&&R.createElement(AZ,{width:c.width,height:c.height}),R.createElement(wZ,A_({},t,C,{margin:i,chartWidth:g,chartHeight:x,contextPayload:n})));return w3.createPortal(I,T)}NP.displayName="Legend";function E_(){return E_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E_.apply(null,arguments)}function B6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B6(Object(n),!0).forEach(function(r){NZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NZ(e,t,n){return(t=OZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OZ(e){var t=TZ(e,"string");return typeof t=="symbol"?t:t+""}function TZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IZ(e){return Array.isArray(e)&&zc(e[0])&&zc(e[1])?e.join(" ~ "):e}var Ph={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},jZ=e=>{var{separator:t=Ph.separator,contentStyle:n,itemStyle:r,labelStyle:i=Ph.labelStyle,payload:a,formatter:o,itemSorter:u,wrapperClassName:d,labelClassName:c,label:h,labelFormatter:g,accessibilityLayer:x=Ph.accessibilityLayer}=e,y=()=>{if(a&&a.length){var Z={padding:0,margin:0},Q=(u?Q2(a,u):a).map((Y,J)=>{if(Y.type==="none")return null;var q=Y.formatter||o||IZ,{value:oe,name:H}=Y,G=oe,fe=H;if(q){var ee=q(oe,H,Y,J,a);if(Array.isArray(ee))[G,fe]=ee;else if(ee!=null)G=ee;else return null}var ae=_1(_1({},Ph.itemStyle),{},{color:Y.color||Ph.itemStyle.color},r);return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:ae},zc(fe)?R.createElement("span",{className:"recharts-tooltip-item-name"},fe):null,zc(fe)?R.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,R.createElement("span",{className:"recharts-tooltip-item-value"},G),R.createElement("span",{className:"recharts-tooltip-item-unit"},Y.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:Z},Q)}return null},C=_1(_1({},Ph.contentStyle),n),E=_1({margin:0},i),T=!os(h),I=T?h:"",D=Or("recharts-default-tooltip",d),F=Or("recharts-tooltip-label",c);T&&g&&a!==void 0&&a!==null&&(I=g(h,a));var U=x?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",E_({className:D,style:C},U),R.createElement("p",{className:F,style:E},R.isValidElement(I)?I:"".concat(I)),y())},S1="recharts-tooltip-wrapper",kZ={visibility:"hidden"};function MZ(e){var{coordinate:t,translateX:n,translateY:r}=e;return Or(S1,{["".concat(S1,"-right")]:Yt(n)&&t&&Yt(t.x)&&n>=t.x,["".concat(S1,"-left")]:Yt(n)&&t&&Yt(t.x)&&n<t.x,["".concat(S1,"-bottom")]:Yt(r)&&t&&Yt(t.y)&&r>=t.y,["".concat(S1,"-top")]:Yt(r)&&t&&Yt(t.y)&&r<t.y})}function F6(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:i,position:a,reverseDirection:o,tooltipDimension:u,viewBox:d,viewBoxDimension:c}=e;if(a&&Yt(a[r]))return a[r];var h=n[r]-u-(i>0?i:0),g=n[r]+i;if(t[r])return o[r]?h:g;var x=d[r];if(x==null)return 0;if(o[r]){var y=h,C=x;return y<C?Math.max(g,x):Math.max(h,x)}if(c==null)return 0;var E=g+u,T=x+c;return E>T?Math.max(h,x):Math.max(g,x)}function PZ(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function RZ(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:i,position:a,reverseDirection:o,tooltipBox:u,useTranslate3d:d,viewBox:c}=e,h,g,x;return u.height>0&&u.width>0&&n?(g=F6({allowEscapeViewBox:t,coordinate:n,key:"x",offset:i,position:a,reverseDirection:o,tooltipDimension:u.width,viewBox:c,viewBoxDimension:c.width}),x=F6({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:a,reverseDirection:o,tooltipDimension:u.height,viewBox:c,viewBoxDimension:c.height}),h=PZ({translateX:g,translateY:x,useTranslate3d:d})):h=kZ,{cssProperties:h,cssClasses:MZ({translateX:g,translateY:x,coordinate:n})}}function U6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ug(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U6(Object(n),!0).forEach(function(r){C_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C_(e,t,n){return(t=DZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DZ(e){var t=LZ(e,"string");return typeof t=="symbol"?t:t+""}function LZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class BZ extends R.PureComponent{constructor(){super(...arguments),C_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),C_(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:u,isAnimationActive:d,offset:c,position:h,reverseDirection:g,useTranslate3d:x,viewBox:y,wrapperStyle:C,lastBoundingBox:E,innerRef:T,hasPortalFromProps:I}=this.props,D=typeof c=="number"?c:c.x,F=typeof c=="number"?c:c.y,{cssClasses:U,cssProperties:Z}=RZ({allowEscapeViewBox:n,coordinate:o,offsetLeft:D,offsetTop:F,position:h,reverseDirection:g,tooltipBox:{height:E.height,width:E.width},useTranslate3d:x,viewBox:y}),Q=I?{}:ug(ug({transition:d&&t?"transform ".concat(r,"ms ").concat(i):void 0},Z),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),Y=ug(ug({},Q),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},C);return R.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:U,style:Y,ref:T},a)}}var OP=()=>{var e;return(e=Jt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function N_(){return N_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N_.apply(null,arguments)}function z6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function q6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z6(Object(n),!0).forEach(function(r){FZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FZ(e,t,n){return(t=UZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UZ(e){var t=zZ(e,"string");return typeof t=="symbol"?t:t+""}function zZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H6={curveBasisClosed:xV,curveBasisOpen:wV,curveBasis:bV,curveBumpX:aV,curveBumpY:sV,curveLinearClosed:_V,curveLinear:K2,curveMonotoneX:SV,curveMonotoneY:AV,curveNatural:EV,curveStep:CV,curveStepAfter:OV,curveStepBefore:NV},t2=e=>lr(e.x)&&lr(e.y),G6=e=>e.base!=null&&t2(e.base)&&t2(e),A1=e=>e.x,E1=e=>e.y,qZ=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(kp(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=H6["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return H6[n]||K2},$6={connectNulls:!1,type:"linear"},HZ=e=>{var{type:t=$6.type,points:n=[],baseLine:r,layout:i,connectNulls:a=$6.connectNulls}=e,o=qZ(t,i),u=a?n.filter(t2):n;if(Array.isArray(r)){var d,c=n.map((C,E)=>q6(q6({},C),{},{base:r[E]}));i==="vertical"?d=ng().y(E1).x1(A1).x0(C=>C.base.x):d=ng().x(A1).y1(E1).y0(C=>C.base.y);var h=d.defined(G6).curve(o),g=a?c.filter(G6):c;return h(g)}var x;i==="vertical"&&Yt(r)?x=ng().y(E1).x1(A1).x0(r):Yt(r)?x=ng().x(A1).y1(E1).y0(r):x=t7().x(A1).y(E1);var y=x.defined(t2).curve(o);return y(u)},rS=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=N0();if((!n||!n.length)&&!r)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},u=n&&n.length?HZ(o):r;return R.createElement("path",N_({},nc(e),QV(e),{className:Or("recharts-curve",t),d:u===null?void 0:u,ref:i}))},GZ=["x","y","top","left","width","height","className"];function O_(){return O_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O_.apply(null,arguments)}function W6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $Z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W6(Object(n),!0).forEach(function(r){WZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WZ(e,t,n){return(t=VZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VZ(e){var t=YZ(e,"string");return typeof t=="symbol"?t:t+""}function YZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XZ(e,t){if(e==null)return{};var n,r,i=KZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ZZ=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),QZ=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:u}=e,d=XZ(e,GZ),c=$Z({x:t,y:n,top:r,left:i,width:a,height:o},d);return!Yt(t)||!Yt(n)||!Yt(a)||!Yt(o)||!Yt(r)||!Yt(i)?null:R.createElement("path",O_({},_l(c),{className:Or("recharts-cross",u),d:ZZ(t,n,a,o,r,i)}))};function JZ(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function V6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Y6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V6(Object(n),!0).forEach(function(r){eQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eQ(e,t,n){return(t=tQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tQ(e){var t=nQ(e,"string");return typeof t=="symbol"?t:t+""}function nQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rQ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),TP=(e,t,n)=>e.map(r=>"".concat(rQ(r)," ").concat(t,"ms ").concat(n)).join(","),iQ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),gp=(e,t)=>Object.keys(t).reduce((n,r)=>Y6(Y6({},n),{},{[r]:e(r,t[r])}),{});function X6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X6(Object(n),!0).forEach(function(r){aQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aQ(e,t,n){return(t=sQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sQ(e){var t=oQ(e,"string");return typeof t=="symbol"?t:t+""}function oQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n2=(e,t,n)=>e+(t-e)*n,T_=e=>{var{from:t,to:n}=e;return t!==n},IP=(e,t,n)=>{var r=gp((i,a)=>{if(T_(a)){var[o,u]=e(a.from,a.to,a.velocity);return Fa(Fa({},a),{},{from:o,velocity:u})}return a},t);return n<1?gp((i,a)=>T_(a)&&r[i]!=null?Fa(Fa({},a),{},{velocity:n2(a.velocity,r[i].velocity,n),from:n2(a.from,r[i].from,n)}):a,t):IP(e,r,n-1)};function lQ(e,t,n,r,i,a){var o,u=r.reduce((x,y)=>Fa(Fa({},x),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),d=()=>gp((x,y)=>y.from,u),c=()=>!Object.values(u).filter(T_).length,h=null,g=x=>{o||(o=x);var y=x-o,C=y/n.dt;u=IP(n,u,C),i(Fa(Fa(Fa({},e),t),d())),o=x,c()||(h=a.setTimeout(g))};return()=>(h=a.setTimeout(g),()=>{var x;(x=h)===null||x===void 0||x()})}function cQ(e,t,n,r,i,a,o){var u=null,d=i.reduce((g,x)=>{var y=e[x],C=t[x];return y==null||C==null?g:Fa(Fa({},g),{},{[x]:[y,C]})},{}),c,h=g=>{c||(c=g);var x=(g-c)/r,y=gp((E,T)=>n2(...T,n(x)),d);if(a(Fa(Fa(Fa({},e),t),y)),x<1)u=o.setTimeout(h);else{var C=gp((E,T)=>n2(...T,n(1)),d);a(Fa(Fa(Fa({},e),t),C))}};return()=>(u=o.setTimeout(h),()=>{var g;(g=u)===null||g===void 0||g()})}const uQ=(e,t,n,r,i,a)=>{var o=iQ(e,t);return n==null?()=>(i(Fa(Fa({},e),t)),()=>{}):n.isStepper===!0?lQ(e,t,n,o,i,a):cQ(e,t,n,r,o,i,a)};var r2=1e-4,jP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],kP=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),K6=(e,t)=>n=>{var r=jP(e,t);return kP(r,n)},fQ=(e,t)=>n=>{var r=jP(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return kP(i,n)},dQ=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},hQ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=dQ(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},pQ=(e,t,n,r)=>{var i=K6(e,n),a=K6(t,r),o=fQ(e,n),u=c=>c>1?1:c<0?0:c,d=c=>{for(var h=c>1?1:c,g=h,x=0;x<8;++x){var y=i(g)-h,C=o(g);if(Math.abs(y-h)<r2||C<r2)return a(g);g=u(g-y/C)}return a(g)};return d.isStepper=!1,d},Z6=function(){return pQ(...hQ(...arguments))},mQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,u,d)=>{var c=-(o-u)*n,h=d*r,g=d+(c-h)*i/1e3,x=d*i/1e3+o;return Math.abs(x-u)<r2&&Math.abs(g)<r2?[u,0]:[x,g]};return a.isStepper=!0,a.dt=i,a},gQ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Z6(e);case"spring":return mQ();default:if(e.split("(")[0]==="cubic-bezier")return Z6(e)}return typeof e=="function"?e:null};function vQ(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var u=o,[d,...c]=u;if(typeof d=="number"){i=e.setTimeout(a.bind(null,c),d);return}a(d),i=e.setTimeout(a.bind(null,c));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class yQ{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function bQ(){return vQ(new yQ)}var xQ=R.createContext(bQ);function wQ(e,t){var n=R.useContext(xQ);return R.useMemo(()=>t??n(e),[e,t,n])}var _Q=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),vy={isSsr:_Q()},SQ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Q6={t:0},jw={t:1};function yy(e){var t=ls(e,SQ),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:u,onAnimationStart:d,children:c}=t,h=n==="auto"?!vy.isSsr:n,g=wQ(t.animationId,t.animationManager),[x,y]=R.useState(h?Q6:jw),C=R.useRef(null);return R.useEffect(()=>{h||y(jw)},[h]),R.useEffect(()=>{if(!h||!r)return C0;var E=uQ(Q6,jw,gQ(a),i,y,g.getTimeoutController()),T=()=>{C.current=E()};return g.start([d,o,T,i,u]),()=>{g.stop(),C.current&&C.current(),u()}},[h,r,i,a,o,d,u,g]),c(x.t)}function by(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=R.useRef(cp(t)),r=R.useRef(e);return r.current!==e&&(n.current=cp(t),r.current=e),n.current}var AQ=["radius"],EQ=["radius"],J6,eO,tO,nO,rO,iO,aO,sO,oO,lO;function cO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(n),!0).forEach(function(r){CQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CQ(e,t,n){return(t=NQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NQ(e){var t=OQ(e,"string");return typeof t=="symbol"?t:t+""}function OQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i2(){return i2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i2.apply(null,arguments)}function fO(e,t){if(e==null)return{};var n,r,i=TQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ec(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var dO=(e,t,n,r,i)=>{var a=Tf(n),o=Tf(r),u=Math.min(Math.abs(a)/2,Math.abs(o)/2),d=o>=0?1:-1,c=a>=0?1:-1,h=o>=0&&a>=0||o<0&&a<0?1:0,g;if(u>0&&Array.isArray(i)){for(var x=[0,0,0,0],y=0,C=4;y<C;y++){var E,T=(E=i[y])!==null&&E!==void 0?E:0;x[y]=T>u?u:T}g=Zi(J6||(J6=Ec(["M",",",""])),e,t+d*x[0]),x[0]>0&&(g+=Zi(eO||(eO=Ec(["A ",",",",0,0,",",",",",""])),x[0],x[0],h,e+c*x[0],t)),g+=Zi(tO||(tO=Ec(["L ",",",""])),e+n-c*x[1],t),x[1]>0&&(g+=Zi(nO||(nO=Ec(["A ",",",",0,0,",`,
        `,",",""])),x[1],x[1],h,e+n,t+d*x[1])),g+=Zi(rO||(rO=Ec(["L ",",",""])),e+n,t+r-d*x[2]),x[2]>0&&(g+=Zi(iO||(iO=Ec(["A ",",",",0,0,",`,
        `,",",""])),x[2],x[2],h,e+n-c*x[2],t+r)),g+=Zi(aO||(aO=Ec(["L ",",",""])),e+c*x[3],t+r),x[3]>0&&(g+=Zi(sO||(sO=Ec(["A ",",",",0,0,",`,
        `,",",""])),x[3],x[3],h,e,t+r-d*x[3])),g+="Z"}else if(u>0&&i===+i&&i>0){var I=Math.min(u,i);g=Zi(oO||(oO=Ec(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+d*I,I,I,h,e+c*I,t,e+n-c*I,t,I,I,h,e+n,t+d*I,e+n,t+r-d*I,I,I,h,e+n-c*I,t+r,e+c*I,t+r,I,I,h,e,t+r-d*I)}else g=Zi(lO||(lO=Ec(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return g},hO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MP=e=>{var t=ls(e,hO),n=R.useRef(null),[r,i]=R.useState(-1);R.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var K=n.current.getTotalLength();K&&i(K)}catch{}},[]);var{x:a,y:o,width:u,height:d,radius:c,className:h}=t,{animationEasing:g,animationDuration:x,animationBegin:y,isAnimationActive:C,isUpdateAnimationActive:E}=t,T=R.useRef(u),I=R.useRef(d),D=R.useRef(a),F=R.useRef(o),U=R.useMemo(()=>({x:a,y:o,width:u,height:d,radius:c}),[a,o,u,d,c]),Z=by(U,"rectangle-");if(a!==+a||o!==+o||u!==+u||d!==+d||u===0||d===0)return null;var Q=Or("recharts-rectangle",h);if(!E){var Y=_l(t),{radius:J}=Y,q=fO(Y,AQ);return R.createElement("path",i2({},q,{x:Tf(a),y:Tf(o),width:Tf(u),height:Tf(d),radius:typeof c=="number"?c:void 0,className:Q,d:dO(a,o,u,d,c)}))}var oe=T.current,H=I.current,G=D.current,fe=F.current,ee="0px ".concat(r===-1?1:r,"px"),ae="".concat(r,"px 0px"),ie=TP(["strokeDasharray"],x,typeof g=="string"?g:hO.animationEasing);return R.createElement(yy,{animationId:Z,key:Z,canBegin:r>0,duration:x,easing:g,isActive:E,begin:y},K=>{var ve=Ba(oe,u,K),Te=Ba(H,d,K),we=Ba(G,a,K),ue=Ba(fe,o,K);n.current&&(T.current=ve,I.current=Te,D.current=we,F.current=ue);var V;C?K>0?V={transition:ie,strokeDasharray:ae}:V={strokeDasharray:ee}:V={strokeDasharray:ae};var he=_l(t),{radius:me}=he,Ce=fO(he,EQ);return R.createElement("path",i2({},Ce,{radius:typeof c=="number"?c:void 0,className:Q,d:dO(we,ue,ve,Te,c),ref:n,style:uO(uO({},V),t.style)}))})};function pO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(n),!0).forEach(function(r){IQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IQ(e,t,n){return(t=jQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jQ(e){var t=kQ(e,"string");return typeof t=="symbol"?t:t+""}function kQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a2=Math.PI/180,MQ=e=>e*180/Math.PI,_a=(e,t,n,r)=>({x:e+Math.cos(-a2*r)*n,y:t+Math.sin(-a2*r)*n}),PP=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},PQ=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},RQ=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=PQ({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var u=(n-i)/o,d=Math.acos(u);return r>a&&(d=2*Math.PI-d),{radius:o,angle:MQ(d),angleInRadian:d}},DQ=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},LQ=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},BQ=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=RQ({x:n,y:r},t),{innerRadius:o,outerRadius:u}=t;if(i<o||i>u||i===0)return null;var{startAngle:d,endAngle:c}=DQ(t),h=a,g;if(d<=c){for(;h>c;)h-=360;for(;h<d;)h+=360;g=h>=d&&h<=c}else{for(;h>d;)h-=360;for(;h<c;)h+=360;g=h>=c&&h<=d}return g?mO(mO({},t),{},{radius:i,angle:LQ(h,t)}):null};function RP(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=_a(t,n,r,i),u=_a(t,n,r,a);return{points:[o,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var gO,vO,yO,bO,xO,wO,_O;function I_(){return I_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I_.apply(null,arguments)}function wd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var FQ=(e,t)=>{var n=ss(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},fg=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:u,cornerIsExternal:d}=e,c=u*(o?1:-1)+r,h=Math.asin(u/c)/a2,g=d?i:i+a*h,x=_a(t,n,c,g),y=_a(t,n,r,g),C=d?i-a*h:i,E=_a(t,n,c*Math.cos(h*a2),C);return{center:x,circleTangency:y,lineTangency:E,theta:h}},DP=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,u=FQ(a,o),d=a+u,c=_a(t,n,i,a),h=_a(t,n,i,d),g=Zi(gO||(gO=wd(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(u)>180),+(a>d),h.x,h.y);if(r>0){var x=_a(t,n,r,a),y=_a(t,n,r,d);g+=Zi(vO||(vO=wd(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),y.x,y.y,r,r,+(Math.abs(u)>180),+(a<=d),x.x,x.y)}else g+=Zi(yO||(yO=wd(["L ",","," Z"])),t,n);return g},UQ=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:u,startAngle:d,endAngle:c}=e,h=ss(c-d),{circleTangency:g,lineTangency:x,theta:y}=fg({cx:t,cy:n,radius:i,angle:d,sign:h,cornerRadius:a,cornerIsExternal:u}),{circleTangency:C,lineTangency:E,theta:T}=fg({cx:t,cy:n,radius:i,angle:c,sign:-h,cornerRadius:a,cornerIsExternal:u}),I=u?Math.abs(d-c):Math.abs(d-c)-y-T;if(I<0)return o?Zi(bO||(bO=wd(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),x.x,x.y,a,a,a*2,a,a,-a*2):DP({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:c});var D=Zi(xO||(xO=wd(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),x.x,x.y,a,a,+(h<0),g.x,g.y,i,i,+(I>180),+(h<0),C.x,C.y,a,a,+(h<0),E.x,E.y);if(r>0){var{circleTangency:F,lineTangency:U,theta:Z}=fg({cx:t,cy:n,radius:r,angle:d,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:Q,lineTangency:Y,theta:J}=fg({cx:t,cy:n,radius:r,angle:c,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),q=u?Math.abs(d-c):Math.abs(d-c)-Z-J;if(q<0&&a===0)return"".concat(D,"L").concat(t,",").concat(n,"Z");D+=Zi(wO||(wO=wd(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),Y.x,Y.y,a,a,+(h<0),Q.x,Q.y,r,r,+(q>180),+(h>0),F.x,F.y,a,a,+(h<0),U.x,U.y)}else D+=Zi(_O||(_O=wd(["L",",","Z"])),t,n);return D},zQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},LP=e=>{var t=ls(e,zQ),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:d,startAngle:c,endAngle:h,className:g}=t;if(a<i||c===h)return null;var x=Or("recharts-sector",g),y=a-i,C=Us(o,y,0,!0),E;return C>0&&Math.abs(c-h)<360?E=UQ({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(C,y/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:c,endAngle:h}):E=DP({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:h}),R.createElement("path",I_({},_l(t),{className:x,d:E}))};function qQ(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(m7(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:u}=t,d=_a(r,i,a,u),c=_a(r,i,o,u);return[{x:d.x,y:d.y},{x:c.x,y:c.y}]}return RP(t)}}var kw={},Mw={},Pw={},SO;function HQ(){return SO||(SO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C7();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Pw)),Pw}var AO;function GQ(){return AO||(AO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HQ();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Mw)),Mw}var EO;function $Q(){return EO||(EO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N7(),n=GQ();function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const u=Math.max(Math.ceil((a-i)/(o||1)),0),d=new Array(u);for(let c=0;c<u;c++)d[c]=i,i+=o;return d}e.range=r})(kw)),kw}var Rw,CO;function WQ(){return CO||(CO=1,Rw=$Q().range),Rw}var VQ=WQ();const BP=Gc(VQ);function jf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function YQ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function iS(e){let t,n,r;e.length!==2?(t=jf,n=(u,d)=>jf(e(u),d),r=(u,d)=>e(u)-d):(t=e===jf||e===YQ?e:XQ,n=e,r=e);function i(u,d,c=0,h=u.length){if(c<h){if(t(d,d)!==0)return h;do{const g=c+h>>>1;n(u[g],d)<0?c=g+1:h=g}while(c<h)}return c}function a(u,d,c=0,h=u.length){if(c<h){if(t(d,d)!==0)return h;do{const g=c+h>>>1;n(u[g],d)<=0?c=g+1:h=g}while(c<h)}return c}function o(u,d,c=0,h=u.length){const g=i(u,d,c,h-1);return g>c&&r(u[g-1],d)>-r(u[g],d)?g-1:g}return{left:i,center:o,right:a}}function XQ(){return 0}function FP(e){return e===null?NaN:+e}function*KQ(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const ZQ=iS(jf),Fp=ZQ.right;iS(FP).center;class NO extends Map{constructor(t,n=eJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(OO(this,t))}has(t){return super.has(OO(this,t))}set(t,n){return super.set(QQ(this,t),n)}delete(t){return super.delete(JQ(this,t))}}function OO({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function QQ({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function JQ({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function eJ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function tJ(e=jf){if(e===jf)return UP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function UP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const nJ=Math.sqrt(50),rJ=Math.sqrt(10),iJ=Math.sqrt(2);function s2(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=nJ?10:a>=rJ?5:a>=iJ?2:1;let u,d,c;return i<0?(c=Math.pow(10,-i)/o,u=Math.round(e*c),d=Math.round(t*c),u/c<e&&++u,d/c>t&&--d,c=-c):(c=Math.pow(10,i)*o,u=Math.round(e/c),d=Math.round(t/c),u*c<e&&++u,d*c>t&&--d),d<u&&.5<=n&&n<2?s2(e,t,n*2):[u,d,c]}function j_(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?s2(t,e,n):s2(e,t,n);if(!(a>=i))return[];const u=a-i+1,d=new Array(u);if(r)if(o<0)for(let c=0;c<u;++c)d[c]=(a-c)/-o;else for(let c=0;c<u;++c)d[c]=(a-c)*o;else if(o<0)for(let c=0;c<u;++c)d[c]=(i+c)/-o;else for(let c=0;c<u;++c)d[c]=(i+c)*o;return d}function k_(e,t,n){return t=+t,e=+e,n=+n,s2(e,t,n)[2]}function M_(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?k_(t,e,n):k_(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function TO(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function IO(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function zP(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?UP:tJ(i);r>n;){if(r-n>600){const d=r-n+1,c=t-n+1,h=Math.log(d),g=.5*Math.exp(2*h/3),x=.5*Math.sqrt(h*g*(d-g)/d)*(c-d/2<0?-1:1),y=Math.max(n,Math.floor(t-c*g/d+x)),C=Math.min(r,Math.floor(t+(d-c)*g/d+x));zP(e,t,y,C,i)}const a=e[t];let o=n,u=r;for(C1(e,n,t),i(e[r],a)>0&&C1(e,n,r);o<u;){for(C1(e,o,u),++o,--u;i(e[o],a)<0;)++o;for(;i(e[u],a)>0;)--u}i(e[n],a)===0?C1(e,n,u):(++u,C1(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function C1(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function aJ(e,t,n){if(e=Float64Array.from(KQ(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return IO(e);if(t>=1)return TO(e);var r,i=(r-1)*t,a=Math.floor(i),o=TO(zP(e,a).subarray(0,a+1)),u=IO(e.subarray(a+1));return o+(u-o)*(i-a)}}function sJ(e,t,n=FP){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),u=+n(e[a+1],a+1,e);return o+(u-o)*(i-a)}}function oJ(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Nl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Uu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const P_=Symbol("implicit");function aS(){var e=new NO,t=[],n=[],r=P_;function i(a){let o=e.get(a);if(o===void 0){if(r!==P_)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new NO;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return aS(t,n).unknown(r)},Nl.apply(i,arguments),i}function sS(){var e=aS().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,u=!1,d=0,c=0,h=.5;delete e.unknown;function g(){var x=t().length,y=i<r,C=y?i:r,E=y?r:i;a=(E-C)/Math.max(1,x-d+c*2),u&&(a=Math.floor(a)),C+=(E-C-a*(x-d))*h,o=a*(1-d),u&&(C=Math.round(C),o=Math.round(o));var T=oJ(x).map(function(I){return C+a*I});return n(y?T.reverse():T)}return e.domain=function(x){return arguments.length?(t(x),g()):t()},e.range=function(x){return arguments.length?([r,i]=x,r=+r,i=+i,g()):[r,i]},e.rangeRound=function(x){return[r,i]=x,r=+r,i=+i,u=!0,g()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(x){return arguments.length?(u=!!x,g()):u},e.padding=function(x){return arguments.length?(d=Math.min(1,c=+x),g()):d},e.paddingInner=function(x){return arguments.length?(d=Math.min(1,x),g()):d},e.paddingOuter=function(x){return arguments.length?(c=+x,g()):c},e.align=function(x){return arguments.length?(h=Math.max(0,Math.min(1,x)),g()):h},e.copy=function(){return sS(t(),[r,i]).round(u).paddingInner(d).paddingOuter(c).align(h)},Nl.apply(g(),arguments)}function qP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return qP(t())},e}function lJ(){return qP(sS.apply(null,arguments).paddingInner(1))}function oS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function HP(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Up(){}var vp=.7,o2=1/vp,i0="\\s*([+-]?\\d+)\\s*",yp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cJ=/^#([0-9a-f]{3,8})$/,uJ=new RegExp(`^rgb\\(${i0},${i0},${i0}\\)$`),fJ=new RegExp(`^rgb\\(${Bc},${Bc},${Bc}\\)$`),dJ=new RegExp(`^rgba\\(${i0},${i0},${i0},${yp}\\)$`),hJ=new RegExp(`^rgba\\(${Bc},${Bc},${Bc},${yp}\\)$`),pJ=new RegExp(`^hsl\\(${yp},${Bc},${Bc}\\)$`),mJ=new RegExp(`^hsla\\(${yp},${Bc},${Bc},${yp}\\)$`),jO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};oS(Up,bp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:kO,formatHex:kO,formatHex8:gJ,formatHsl:vJ,formatRgb:MO,toString:MO});function kO(){return this.rgb().formatHex()}function gJ(){return this.rgb().formatHex8()}function vJ(){return GP(this).formatHsl()}function MO(){return this.rgb().formatRgb()}function bp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=cJ.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?PO(t):n===3?new To(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?dg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?dg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=uJ.exec(e))?new To(t[1],t[2],t[3],1):(t=fJ.exec(e))?new To(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dJ.exec(e))?dg(t[1],t[2],t[3],t[4]):(t=hJ.exec(e))?dg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=pJ.exec(e))?LO(t[1],t[2]/100,t[3]/100,1):(t=mJ.exec(e))?LO(t[1],t[2]/100,t[3]/100,t[4]):jO.hasOwnProperty(e)?PO(jO[e]):e==="transparent"?new To(NaN,NaN,NaN,0):null}function PO(e){return new To(e>>16&255,e>>8&255,e&255,1)}function dg(e,t,n,r){return r<=0&&(e=t=n=NaN),new To(e,t,n,r)}function yJ(e){return e instanceof Up||(e=bp(e)),e?(e=e.rgb(),new To(e.r,e.g,e.b,e.opacity)):new To}function R_(e,t,n,r){return arguments.length===1?yJ(e):new To(e,t,n,r??1)}function To(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}oS(To,R_,HP(Up,{brighter(e){return e=e==null?o2:Math.pow(o2,e),new To(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vp:Math.pow(vp,e),new To(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new To(Cd(this.r),Cd(this.g),Cd(this.b),l2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:RO,formatHex:RO,formatHex8:bJ,formatRgb:DO,toString:DO}));function RO(){return`#${_d(this.r)}${_d(this.g)}${_d(this.b)}`}function bJ(){return`#${_d(this.r)}${_d(this.g)}${_d(this.b)}${_d((isNaN(this.opacity)?1:this.opacity)*255)}`}function DO(){const e=l2(this.opacity);return`${e===1?"rgb(":"rgba("}${Cd(this.r)}, ${Cd(this.g)}, ${Cd(this.b)}${e===1?")":`, ${e})`}`}function l2(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Cd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function _d(e){return e=Cd(e),(e<16?"0":"")+e.toString(16)}function LO(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ql(e,t,n,r)}function GP(e){if(e instanceof Ql)return new Ql(e.h,e.s,e.l,e.opacity);if(e instanceof Up||(e=bp(e)),!e)return new Ql;if(e instanceof Ql)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,u=a-i,d=(a+i)/2;return u?(t===a?o=(n-r)/u+(n<r)*6:n===a?o=(r-t)/u+2:o=(t-n)/u+4,u/=d<.5?a+i:2-a-i,o*=60):u=d>0&&d<1?0:o,new Ql(o,u,d,e.opacity)}function xJ(e,t,n,r){return arguments.length===1?GP(e):new Ql(e,t,n,r??1)}function Ql(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}oS(Ql,xJ,HP(Up,{brighter(e){return e=e==null?o2:Math.pow(o2,e),new Ql(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vp:Math.pow(vp,e),new Ql(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new To(Dw(e>=240?e-240:e+120,i,r),Dw(e,i,r),Dw(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ql(BO(this.h),hg(this.s),hg(this.l),l2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=l2(this.opacity);return`${e===1?"hsl(":"hsla("}${BO(this.h)}, ${hg(this.s)*100}%, ${hg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function BO(e){return e=(e||0)%360,e<0?e+360:e}function hg(e){return Math.max(0,Math.min(1,e||0))}function Dw(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const lS=e=>()=>e;function wJ(e,t){return function(n){return e+n*t}}function _J(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function SJ(e){return(e=+e)==1?$P:function(t,n){return n-t?_J(t,n,e):lS(isNaN(t)?n:t)}}function $P(e,t){var n=t-e;return n?wJ(e,n):lS(isNaN(e)?t:e)}const FO=(function e(t){var n=SJ(t);function r(i,a){var o=n((i=R_(i)).r,(a=R_(a)).r),u=n(i.g,a.g),d=n(i.b,a.b),c=$P(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=u(h),i.b=d(h),i.opacity=c(h),i+""}}return r.gamma=e,r})(1);function AJ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function EJ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function CJ(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=O0(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(u){for(o=0;o<r;++o)a[o]=i[o](u);return a}}function NJ(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function c2(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function OJ(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=O0(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var D_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lw=new RegExp(D_.source,"g");function TJ(e){return function(){return e}}function IJ(e){return function(t){return e(t)+""}}function jJ(e,t){var n=D_.lastIndex=Lw.lastIndex=0,r,i,a,o=-1,u=[],d=[];for(e=e+"",t=t+"";(r=D_.exec(e))&&(i=Lw.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,d.push({i:o,x:c2(r,i)})),n=Lw.lastIndex;return n<t.length&&(a=t.slice(n),u[o]?u[o]+=a:u[++o]=a),u.length<2?d[0]?IJ(d[0].x):TJ(t):(t=d.length,function(c){for(var h=0,g;h<t;++h)u[(g=d[h]).i]=g.x(c);return u.join("")})}function O0(e,t){var n=typeof t,r;return t==null||n==="boolean"?lS(t):(n==="number"?c2:n==="string"?(r=bp(t))?(t=r,FO):jJ:t instanceof bp?FO:t instanceof Date?NJ:EJ(t)?AJ:Array.isArray(t)?CJ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?OJ:c2)(e,t)}function cS(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function kJ(e,t){t===void 0&&(t=e,e=O0);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var u=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[u](o-u)}}function MJ(e){return function(){return e}}function u2(e){return+e}var UO=[0,1];function to(e){return e}function L_(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:MJ(isNaN(t)?NaN:.5)}function PJ(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function RJ(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=L_(i,r),a=n(o,a)):(r=L_(r,i),a=n(a,o)),function(u){return a(r(u))}}function DJ(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=L_(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(u){var d=Fp(e,u,1,r)-1;return a[d](i[d](u))}}function zp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function xy(){var e=UO,t=UO,n=O0,r,i,a,o=to,u,d,c;function h(){var x=Math.min(e.length,t.length);return o!==to&&(o=PJ(e[0],e[x-1])),u=x>2?DJ:RJ,d=c=null,g}function g(x){return x==null||isNaN(x=+x)?a:(d||(d=u(e.map(r),t,n)))(r(o(x)))}return g.invert=function(x){return o(i((c||(c=u(t,e.map(r),c2)))(x)))},g.domain=function(x){return arguments.length?(e=Array.from(x,u2),h()):e.slice()},g.range=function(x){return arguments.length?(t=Array.from(x),h()):t.slice()},g.rangeRound=function(x){return t=Array.from(x),n=cS,h()},g.clamp=function(x){return arguments.length?(o=x?!0:to,h()):o!==to},g.interpolate=function(x){return arguments.length?(n=x,h()):n},g.unknown=function(x){return arguments.length?(a=x,g):a},function(x,y){return r=x,i=y,h()}}function uS(){return xy()(to,to)}function LJ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function f2(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function m0(e){return e=f2(Math.abs(e)),e?e[1]:NaN}function BJ(e,t){return function(n,r){for(var i=n.length,a=[],o=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),a.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=e[o=(o+1)%e.length];return a.reverse().join(t)}}function FJ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var UJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xp(e){if(!(t=UJ.exec(e)))throw new Error("invalid format: "+e);var t;return new fS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}xp.prototype=fS.prototype;function fS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}fS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zJ(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var d2;function qJ(e,t){var n=f2(e,t);if(!n)return d2=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(d2=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+f2(e,Math.max(0,t+a-1))[0]}function zO(e,t){var n=f2(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const qO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:LJ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>zO(e*100,t),r:zO,s:qJ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function HO(e){return e}var GO=Array.prototype.map,$O=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function HJ(e){var t=e.grouping===void 0||e.thousands===void 0?HO:BJ(GO.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?HO:FJ(GO.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function c(g,x){g=xp(g);var y=g.fill,C=g.align,E=g.sign,T=g.symbol,I=g.zero,D=g.width,F=g.comma,U=g.precision,Z=g.trim,Q=g.type;Q==="n"?(F=!0,Q="g"):qO[Q]||(U===void 0&&(U=12),Z=!0,Q="g"),(I||y==="0"&&C==="=")&&(I=!0,y="0",C="=");var Y=(x&&x.prefix!==void 0?x.prefix:"")+(T==="$"?n:T==="#"&&/[boxX]/.test(Q)?"0"+Q.toLowerCase():""),J=(T==="$"?r:/[%p]/.test(Q)?o:"")+(x&&x.suffix!==void 0?x.suffix:""),q=qO[Q],oe=/[defgprs%]/.test(Q);U=U===void 0?6:/[gprs]/.test(Q)?Math.max(1,Math.min(21,U)):Math.max(0,Math.min(20,U));function H(G){var fe=Y,ee=J,ae,ie,K;if(Q==="c")ee=q(G)+ee,G="";else{G=+G;var ve=G<0||1/G<0;if(G=isNaN(G)?d:q(Math.abs(G),U),Z&&(G=zJ(G)),ve&&+G==0&&E!=="+"&&(ve=!1),fe=(ve?E==="("?E:u:E==="-"||E==="("?"":E)+fe,ee=(Q==="s"&&!isNaN(G)&&d2!==void 0?$O[8+d2/3]:"")+ee+(ve&&E==="("?")":""),oe){for(ae=-1,ie=G.length;++ae<ie;)if(K=G.charCodeAt(ae),48>K||K>57){ee=(K===46?i+G.slice(ae+1):G.slice(ae))+ee,G=G.slice(0,ae);break}}}F&&!I&&(G=t(G,1/0));var Te=fe.length+G.length+ee.length,we=Te<D?new Array(D-Te+1).join(y):"";switch(F&&I&&(G=t(we+G,we.length?D-ee.length:1/0),we=""),C){case"<":G=fe+G+ee+we;break;case"=":G=fe+we+G+ee;break;case"^":G=we.slice(0,Te=we.length>>1)+fe+G+ee+we.slice(Te);break;default:G=we+fe+G+ee;break}return a(G)}return H.toString=function(){return g+""},H}function h(g,x){var y=Math.max(-8,Math.min(8,Math.floor(m0(x)/3)))*3,C=Math.pow(10,-y),E=c((g=xp(g),g.type="f",g),{suffix:$O[8+y/3]});return function(T){return E(C*T)}}return{format:c,formatPrefix:h}}var pg,dS,WP;GJ({thousands:",",grouping:[3],currency:["$",""]});function GJ(e){return pg=HJ(e),dS=pg.format,WP=pg.formatPrefix,pg}function $J(e){return Math.max(0,-m0(Math.abs(e)))}function WJ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(m0(t)/3)))*3-m0(Math.abs(e)))}function VJ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,m0(t)-m0(e))+1}function VP(e,t,n,r){var i=M_(e,t,n),a;switch(r=xp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=WJ(i,o))&&(r.precision=a),WP(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=VJ(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=$J(i))&&(r.precision=a-(r.type==="%")*2);break}}return dS(r)}function zf(e){var t=e.domain;return e.ticks=function(n){var r=t();return j_(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return VP(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],u=r[a],d,c,h=10;for(u<o&&(c=o,o=u,u=c,c=i,i=a,a=c);h-- >0;){if(c=k_(o,u,n),c===d)return r[i]=o,r[a]=u,t(r);if(c>0)o=Math.floor(o/c)*c,u=Math.ceil(u/c)*c;else if(c<0)o=Math.ceil(o*c)/c,u=Math.floor(u*c)/c;else break;d=c}return e},e}function YP(){var e=uS();return e.copy=function(){return zp(e,YP())},Nl.apply(e,arguments),zf(e)}function XP(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,u2),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return XP(e).unknown(t)},e=arguments.length?Array.from(e,u2):[0,1],zf(n)}function KP(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function WO(e){return Math.log(e)}function VO(e){return Math.exp(e)}function YJ(e){return-Math.log(-e)}function XJ(e){return-Math.exp(-e)}function KJ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ZJ(e){return e===10?KJ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function QJ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function YO(e){return(t,n)=>-e(-t,n)}function hS(e){const t=e(WO,VO),n=t.domain;let r=10,i,a;function o(){return i=QJ(r),a=ZJ(r),n()[0]<0?(i=YO(i),a=YO(a),e(YJ,XJ)):e(WO,VO),t}return t.base=function(u){return arguments.length?(r=+u,o()):r},t.domain=function(u){return arguments.length?(n(u),o()):n()},t.ticks=u=>{const d=n();let c=d[0],h=d[d.length-1];const g=h<c;g&&([c,h]=[h,c]);let x=i(c),y=i(h),C,E;const T=u==null?10:+u;let I=[];if(!(r%1)&&y-x<T){if(x=Math.floor(x),y=Math.ceil(y),c>0){for(;x<=y;++x)for(C=1;C<r;++C)if(E=x<0?C/a(-x):C*a(x),!(E<c)){if(E>h)break;I.push(E)}}else for(;x<=y;++x)for(C=r-1;C>=1;--C)if(E=x>0?C/a(-x):C*a(x),!(E<c)){if(E>h)break;I.push(E)}I.length*2<T&&(I=j_(c,h,T))}else I=j_(x,y,Math.min(y-x,T)).map(a);return g?I.reverse():I},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=xp(d)).precision==null&&(d.trim=!0),d=dS(d)),u===1/0)return d;const c=Math.max(1,r*u/t.ticks().length);return h=>{let g=h/a(Math.round(i(h)));return g*r<r-.5&&(g*=r),g<=c?d(h):""}},t.nice=()=>n(KP(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),t}function ZP(){const e=hS(xy()).domain([1,10]);return e.copy=()=>zp(e,ZP()).base(e.base()),Nl.apply(e,arguments),e}function XO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function KO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function pS(e){var t=1,n=e(XO(t),KO(t));return n.constant=function(r){return arguments.length?e(XO(t=+r),KO(t)):t},zf(n)}function QP(){var e=pS(xy());return e.copy=function(){return zp(e,QP()).constant(e.constant())},Nl.apply(e,arguments)}function ZO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function JJ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function eee(e){return e<0?-e*e:e*e}function mS(e){var t=e(to,to),n=1;function r(){return n===1?e(to,to):n===.5?e(JJ,eee):e(ZO(n),ZO(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},zf(t)}function gS(){var e=mS(xy());return e.copy=function(){return zp(e,gS()).exponent(e.exponent())},Nl.apply(e,arguments),e}function tee(){return gS.apply(null,arguments).exponent(.5)}function QO(e){return Math.sign(e)*e*e}function nee(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function JP(){var e=uS(),t=[0,1],n=!1,r;function i(a){var o=nee(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(QO(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,u2)).map(QO)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return JP(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Nl.apply(i,arguments),zf(i)}function eR(){var e=[],t=[],n=[],r;function i(){var o=0,u=Math.max(1,t.length);for(n=new Array(u-1);++o<u;)n[o-1]=sJ(e,o/u);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Fp(n,o)]}return a.invertExtent=function(o){var u=t.indexOf(o);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let u of o)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(jf),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return eR().domain(e).range(t).unknown(r)},Nl.apply(a,arguments)}function tR(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(d){return d!=null&&d<=d?i[Fp(r,d,0,n)]:a}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},o.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},o.invertExtent=function(d){var c=i.indexOf(d);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},o.unknown=function(d){return arguments.length&&(a=d),o},o.thresholds=function(){return r.slice()},o.copy=function(){return tR().domain([e,t]).range(i).unknown(a)},Nl.apply(zf(o),arguments)}function nR(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Fp(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return nR().domain(e).range(t).unknown(n)},Nl.apply(i,arguments)}const Bw=new Date,Fw=new Date;function za(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,u)=>{const d=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return d;let c;do d.push(c=new Date(+a)),t(a,u),e(a);while(c<a&&a<o);return d},i.filter=a=>za(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!a(o););else for(;--u>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(Bw.setTime(+a),Fw.setTime(+o),e(Bw),e(Fw),Math.floor(n(Bw,Fw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const h2=za(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);h2.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?za(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):h2);h2.range;const wu=1e3,wl=wu*60,_u=wl*60,Iu=_u*24,vS=Iu*7,JO=Iu*30,Uw=Iu*365,Sd=za(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*wu)},(e,t)=>(t-e)/wu,e=>e.getUTCSeconds());Sd.range;const yS=za(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wu)},(e,t)=>{e.setTime(+e+t*wl)},(e,t)=>(t-e)/wl,e=>e.getMinutes());yS.range;const bS=za(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*wl)},(e,t)=>(t-e)/wl,e=>e.getUTCMinutes());bS.range;const xS=za(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wu-e.getMinutes()*wl)},(e,t)=>{e.setTime(+e+t*_u)},(e,t)=>(t-e)/_u,e=>e.getHours());xS.range;const wS=za(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*_u)},(e,t)=>(t-e)/_u,e=>e.getUTCHours());wS.range;const qp=za(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*wl)/Iu,e=>e.getDate()-1);qp.range;const wy=za(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Iu,e=>e.getUTCDate()-1);wy.range;const rR=za(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Iu,e=>Math.floor(e/Iu));rR.range;function Gd(e){return za(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*wl)/vS)}const _y=Gd(0),p2=Gd(1),ree=Gd(2),iee=Gd(3),g0=Gd(4),aee=Gd(5),see=Gd(6);_y.range;p2.range;ree.range;iee.range;g0.range;aee.range;see.range;function $d(e){return za(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/vS)}const Sy=$d(0),m2=$d(1),oee=$d(2),lee=$d(3),v0=$d(4),cee=$d(5),uee=$d(6);Sy.range;m2.range;oee.range;lee.range;v0.range;cee.range;uee.range;const _S=za(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());_S.range;const SS=za(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());SS.range;const ju=za(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ju.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:za(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ju.range;const ku=za(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ku.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:za(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ku.range;function iR(e,t,n,r,i,a){const o=[[Sd,1,wu],[Sd,5,5*wu],[Sd,15,15*wu],[Sd,30,30*wu],[a,1,wl],[a,5,5*wl],[a,15,15*wl],[a,30,30*wl],[i,1,_u],[i,3,3*_u],[i,6,6*_u],[i,12,12*_u],[r,1,Iu],[r,2,2*Iu],[n,1,vS],[t,1,JO],[t,3,3*JO],[e,1,Uw]];function u(c,h,g){const x=h<c;x&&([c,h]=[h,c]);const y=g&&typeof g.range=="function"?g:d(c,h,g),C=y?y.range(c,+h+1):[];return x?C.reverse():C}function d(c,h,g){const x=Math.abs(h-c)/g,y=iS(([,,T])=>T).right(o,x);if(y===o.length)return e.every(M_(c/Uw,h/Uw,g));if(y===0)return h2.every(Math.max(M_(c,h,g),1));const[C,E]=o[x/o[y-1][2]<o[y][2]/x?y-1:y];return C.every(E)}return[u,d]}const[fee,dee]=iR(ku,SS,Sy,rR,wS,bS),[hee,pee]=iR(ju,_S,_y,qp,xS,yS);function zw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function N1(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function mee(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,u=e.months,d=e.shortMonths,c=O1(i),h=T1(i),g=O1(a),x=T1(a),y=O1(o),C=T1(o),E=O1(u),T=T1(u),I=O1(d),D=T1(d),F={a:K,A:ve,b:Te,B:we,c:null,d:a8,e:a8,f:Bee,g:Yee,G:Kee,H:Ree,I:Dee,j:Lee,L:aR,m:Fee,M:Uee,p:ue,q:V,Q:l8,s:c8,S:zee,u:qee,U:Hee,V:Gee,w:$ee,W:Wee,x:null,X:null,y:Vee,Y:Xee,Z:Zee,"%":o8},U={a:he,A:me,b:Ce,B:xe,c:null,d:s8,e:s8,f:tte,g:fte,G:hte,H:Qee,I:Jee,j:ete,L:oR,m:nte,M:rte,p:Me,q:ze,Q:l8,s:c8,S:ite,u:ate,U:ste,V:ote,w:lte,W:cte,x:null,X:null,y:ute,Y:dte,Z:pte,"%":o8},Z={a:oe,A:H,b:G,B:fe,c:ee,d:r8,e:r8,f:jee,g:n8,G:t8,H:i8,I:i8,j:Nee,L:Iee,m:Cee,M:Oee,p:q,q:Eee,Q:Mee,s:Pee,S:Tee,u:xee,U:wee,V:_ee,w:bee,W:See,x:ae,X:ie,y:n8,Y:t8,Z:Aee,"%":kee};F.x=Q(n,F),F.X=Q(r,F),F.c=Q(t,F),U.x=Q(n,U),U.X=Q(r,U),U.c=Q(t,U);function Q(Oe,Ge){return function(Je){var qe=[],lt=-1,bt=0,ye=Oe.length,wt,Rt,_t;for(Je instanceof Date||(Je=new Date(+Je));++lt<ye;)Oe.charCodeAt(lt)===37&&(qe.push(Oe.slice(bt,lt)),(Rt=e8[wt=Oe.charAt(++lt)])!=null?wt=Oe.charAt(++lt):Rt=wt==="e"?" ":"0",(_t=Ge[wt])&&(wt=_t(Je,Rt)),qe.push(wt),bt=lt+1);return qe.push(Oe.slice(bt,lt)),qe.join("")}}function Y(Oe,Ge){return function(Je){var qe=N1(1900,void 0,1),lt=J(qe,Oe,Je+="",0),bt,ye;if(lt!=Je.length)return null;if("Q"in qe)return new Date(qe.Q);if("s"in qe)return new Date(qe.s*1e3+("L"in qe?qe.L:0));if(Ge&&!("Z"in qe)&&(qe.Z=0),"p"in qe&&(qe.H=qe.H%12+qe.p*12),qe.m===void 0&&(qe.m="q"in qe?qe.q:0),"V"in qe){if(qe.V<1||qe.V>53)return null;"w"in qe||(qe.w=1),"Z"in qe?(bt=qw(N1(qe.y,0,1)),ye=bt.getUTCDay(),bt=ye>4||ye===0?m2.ceil(bt):m2(bt),bt=wy.offset(bt,(qe.V-1)*7),qe.y=bt.getUTCFullYear(),qe.m=bt.getUTCMonth(),qe.d=bt.getUTCDate()+(qe.w+6)%7):(bt=zw(N1(qe.y,0,1)),ye=bt.getDay(),bt=ye>4||ye===0?p2.ceil(bt):p2(bt),bt=qp.offset(bt,(qe.V-1)*7),qe.y=bt.getFullYear(),qe.m=bt.getMonth(),qe.d=bt.getDate()+(qe.w+6)%7)}else("W"in qe||"U"in qe)&&("w"in qe||(qe.w="u"in qe?qe.u%7:"W"in qe?1:0),ye="Z"in qe?qw(N1(qe.y,0,1)).getUTCDay():zw(N1(qe.y,0,1)).getDay(),qe.m=0,qe.d="W"in qe?(qe.w+6)%7+qe.W*7-(ye+5)%7:qe.w+qe.U*7-(ye+6)%7);return"Z"in qe?(qe.H+=qe.Z/100|0,qe.M+=qe.Z%100,qw(qe)):zw(qe)}}function J(Oe,Ge,Je,qe){for(var lt=0,bt=Ge.length,ye=Je.length,wt,Rt;lt<bt;){if(qe>=ye)return-1;if(wt=Ge.charCodeAt(lt++),wt===37){if(wt=Ge.charAt(lt++),Rt=Z[wt in e8?Ge.charAt(lt++):wt],!Rt||(qe=Rt(Oe,Je,qe))<0)return-1}else if(wt!=Je.charCodeAt(qe++))return-1}return qe}function q(Oe,Ge,Je){var qe=c.exec(Ge.slice(Je));return qe?(Oe.p=h.get(qe[0].toLowerCase()),Je+qe[0].length):-1}function oe(Oe,Ge,Je){var qe=y.exec(Ge.slice(Je));return qe?(Oe.w=C.get(qe[0].toLowerCase()),Je+qe[0].length):-1}function H(Oe,Ge,Je){var qe=g.exec(Ge.slice(Je));return qe?(Oe.w=x.get(qe[0].toLowerCase()),Je+qe[0].length):-1}function G(Oe,Ge,Je){var qe=I.exec(Ge.slice(Je));return qe?(Oe.m=D.get(qe[0].toLowerCase()),Je+qe[0].length):-1}function fe(Oe,Ge,Je){var qe=E.exec(Ge.slice(Je));return qe?(Oe.m=T.get(qe[0].toLowerCase()),Je+qe[0].length):-1}function ee(Oe,Ge,Je){return J(Oe,t,Ge,Je)}function ae(Oe,Ge,Je){return J(Oe,n,Ge,Je)}function ie(Oe,Ge,Je){return J(Oe,r,Ge,Je)}function K(Oe){return o[Oe.getDay()]}function ve(Oe){return a[Oe.getDay()]}function Te(Oe){return d[Oe.getMonth()]}function we(Oe){return u[Oe.getMonth()]}function ue(Oe){return i[+(Oe.getHours()>=12)]}function V(Oe){return 1+~~(Oe.getMonth()/3)}function he(Oe){return o[Oe.getUTCDay()]}function me(Oe){return a[Oe.getUTCDay()]}function Ce(Oe){return d[Oe.getUTCMonth()]}function xe(Oe){return u[Oe.getUTCMonth()]}function Me(Oe){return i[+(Oe.getUTCHours()>=12)]}function ze(Oe){return 1+~~(Oe.getUTCMonth()/3)}return{format:function(Oe){var Ge=Q(Oe+="",F);return Ge.toString=function(){return Oe},Ge},parse:function(Oe){var Ge=Y(Oe+="",!1);return Ge.toString=function(){return Oe},Ge},utcFormat:function(Oe){var Ge=Q(Oe+="",U);return Ge.toString=function(){return Oe},Ge},utcParse:function(Oe){var Ge=Y(Oe+="",!0);return Ge.toString=function(){return Oe},Ge}}}var e8={"-":"",_:" ",0:"0"},cs=/^\s*\d+/,gee=/^%/,vee=/[\\^$*+?|[\]().{}]/g;function wr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function yee(e){return e.replace(vee,"\\$&")}function O1(e){return new RegExp("^(?:"+e.map(yee).join("|")+")","i")}function T1(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function bee(e,t,n){var r=cs.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function xee(e,t,n){var r=cs.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function wee(e,t,n){var r=cs.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function _ee(e,t,n){var r=cs.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function See(e,t,n){var r=cs.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function t8(e,t,n){var r=cs.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function n8(e,t,n){var r=cs.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Aee(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Eee(e,t,n){var r=cs.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Cee(e,t,n){var r=cs.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function r8(e,t,n){var r=cs.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Nee(e,t,n){var r=cs.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function i8(e,t,n){var r=cs.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Oee(e,t,n){var r=cs.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Tee(e,t,n){var r=cs.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Iee(e,t,n){var r=cs.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function jee(e,t,n){var r=cs.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function kee(e,t,n){var r=gee.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Mee(e,t,n){var r=cs.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Pee(e,t,n){var r=cs.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function a8(e,t){return wr(e.getDate(),t,2)}function Ree(e,t){return wr(e.getHours(),t,2)}function Dee(e,t){return wr(e.getHours()%12||12,t,2)}function Lee(e,t){return wr(1+qp.count(ju(e),e),t,3)}function aR(e,t){return wr(e.getMilliseconds(),t,3)}function Bee(e,t){return aR(e,t)+"000"}function Fee(e,t){return wr(e.getMonth()+1,t,2)}function Uee(e,t){return wr(e.getMinutes(),t,2)}function zee(e,t){return wr(e.getSeconds(),t,2)}function qee(e){var t=e.getDay();return t===0?7:t}function Hee(e,t){return wr(_y.count(ju(e)-1,e),t,2)}function sR(e){var t=e.getDay();return t>=4||t===0?g0(e):g0.ceil(e)}function Gee(e,t){return e=sR(e),wr(g0.count(ju(e),e)+(ju(e).getDay()===4),t,2)}function $ee(e){return e.getDay()}function Wee(e,t){return wr(p2.count(ju(e)-1,e),t,2)}function Vee(e,t){return wr(e.getFullYear()%100,t,2)}function Yee(e,t){return e=sR(e),wr(e.getFullYear()%100,t,2)}function Xee(e,t){return wr(e.getFullYear()%1e4,t,4)}function Kee(e,t){var n=e.getDay();return e=n>=4||n===0?g0(e):g0.ceil(e),wr(e.getFullYear()%1e4,t,4)}function Zee(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wr(t/60|0,"0",2)+wr(t%60,"0",2)}function s8(e,t){return wr(e.getUTCDate(),t,2)}function Qee(e,t){return wr(e.getUTCHours(),t,2)}function Jee(e,t){return wr(e.getUTCHours()%12||12,t,2)}function ete(e,t){return wr(1+wy.count(ku(e),e),t,3)}function oR(e,t){return wr(e.getUTCMilliseconds(),t,3)}function tte(e,t){return oR(e,t)+"000"}function nte(e,t){return wr(e.getUTCMonth()+1,t,2)}function rte(e,t){return wr(e.getUTCMinutes(),t,2)}function ite(e,t){return wr(e.getUTCSeconds(),t,2)}function ate(e){var t=e.getUTCDay();return t===0?7:t}function ste(e,t){return wr(Sy.count(ku(e)-1,e),t,2)}function lR(e){var t=e.getUTCDay();return t>=4||t===0?v0(e):v0.ceil(e)}function ote(e,t){return e=lR(e),wr(v0.count(ku(e),e)+(ku(e).getUTCDay()===4),t,2)}function lte(e){return e.getUTCDay()}function cte(e,t){return wr(m2.count(ku(e)-1,e),t,2)}function ute(e,t){return wr(e.getUTCFullYear()%100,t,2)}function fte(e,t){return e=lR(e),wr(e.getUTCFullYear()%100,t,2)}function dte(e,t){return wr(e.getUTCFullYear()%1e4,t,4)}function hte(e,t){var n=e.getUTCDay();return e=n>=4||n===0?v0(e):v0.ceil(e),wr(e.getUTCFullYear()%1e4,t,4)}function pte(){return"+0000"}function o8(){return"%"}function l8(e){return+e}function c8(e){return Math.floor(+e/1e3)}var Rh,cR,uR;mte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mte(e){return Rh=mee(e),cR=Rh.format,Rh.parse,uR=Rh.utcFormat,Rh.utcParse,Rh}function gte(e){return new Date(e)}function vte(e){return e instanceof Date?+e:+new Date(+e)}function AS(e,t,n,r,i,a,o,u,d,c){var h=uS(),g=h.invert,x=h.domain,y=c(".%L"),C=c(":%S"),E=c("%I:%M"),T=c("%I %p"),I=c("%a %d"),D=c("%b %d"),F=c("%B"),U=c("%Y");function Z(Q){return(d(Q)<Q?y:u(Q)<Q?C:o(Q)<Q?E:a(Q)<Q?T:r(Q)<Q?i(Q)<Q?I:D:n(Q)<Q?F:U)(Q)}return h.invert=function(Q){return new Date(g(Q))},h.domain=function(Q){return arguments.length?x(Array.from(Q,vte)):x().map(gte)},h.ticks=function(Q){var Y=x();return e(Y[0],Y[Y.length-1],Q??10)},h.tickFormat=function(Q,Y){return Y==null?Z:c(Y)},h.nice=function(Q){var Y=x();return(!Q||typeof Q.range!="function")&&(Q=t(Y[0],Y[Y.length-1],Q??10)),Q?x(KP(Y,Q)):h},h.copy=function(){return zp(h,AS(e,t,n,r,i,a,o,u,d,c))},h}function yte(){return Nl.apply(AS(hee,pee,ju,_S,_y,qp,xS,yS,Sd,cR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function bte(){return Nl.apply(AS(fee,dee,ku,SS,Sy,wy,wS,bS,Sd,uR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ay(){var e=0,t=1,n,r,i,a,o=to,u=!1,d;function c(g){return g==null||isNaN(g=+g)?d:o(i===0?.5:(g=(a(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}c.domain=function(g){return arguments.length?([e,t]=g,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(g){return arguments.length?(u=!!g,c):u},c.interpolator=function(g){return arguments.length?(o=g,c):o};function h(g){return function(x){var y,C;return arguments.length?([y,C]=x,o=g(y,C),c):[o(0),o(1)]}}return c.range=h(O0),c.rangeRound=h(cS),c.unknown=function(g){return arguments.length?(d=g,c):d},function(g){return a=g,n=g(e),r=g(t),i=n===r?0:1/(r-n),c}}function qf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function fR(){var e=zf(Ay()(to));return e.copy=function(){return qf(e,fR())},Uu.apply(e,arguments)}function dR(){var e=hS(Ay()).domain([1,10]);return e.copy=function(){return qf(e,dR()).base(e.base())},Uu.apply(e,arguments)}function hR(){var e=pS(Ay());return e.copy=function(){return qf(e,hR()).constant(e.constant())},Uu.apply(e,arguments)}function ES(){var e=mS(Ay());return e.copy=function(){return qf(e,ES()).exponent(e.exponent())},Uu.apply(e,arguments)}function xte(){return ES.apply(null,arguments).exponent(.5)}function pR(){var e=[],t=to;function n(r){if(r!=null&&!isNaN(r=+r))return t((Fp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(jf),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>aJ(e,a/r))},n.copy=function(){return pR(t).domain(e)},Uu.apply(n,arguments)}function Ey(){var e=0,t=.5,n=1,r=1,i,a,o,u,d,c=to,h,g=!1,x;function y(E){return isNaN(E=+E)?x:(E=.5+((E=+h(E))-a)*(r*E<r*a?u:d),c(g?Math.max(0,Math.min(1,E)):E))}y.domain=function(E){return arguments.length?([e,t,n]=E,i=h(e=+e),a=h(t=+t),o=h(n=+n),u=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),r=a<i?-1:1,y):[e,t,n]},y.clamp=function(E){return arguments.length?(g=!!E,y):g},y.interpolator=function(E){return arguments.length?(c=E,y):c};function C(E){return function(T){var I,D,F;return arguments.length?([I,D,F]=T,c=kJ(E,[I,D,F]),y):[c(0),c(.5),c(1)]}}return y.range=C(O0),y.rangeRound=C(cS),y.unknown=function(E){return arguments.length?(x=E,y):x},function(E){return h=E,i=E(e),a=E(t),o=E(n),u=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),r=a<i?-1:1,y}}function mR(){var e=zf(Ey()(to));return e.copy=function(){return qf(e,mR())},Uu.apply(e,arguments)}function gR(){var e=hS(Ey()).domain([.1,1,10]);return e.copy=function(){return qf(e,gR()).base(e.base())},Uu.apply(e,arguments)}function vR(){var e=pS(Ey());return e.copy=function(){return qf(e,vR()).constant(e.constant())},Uu.apply(e,arguments)}function CS(){var e=mS(Ey());return e.copy=function(){return qf(e,CS()).exponent(e.exponent())},Uu.apply(e,arguments)}function wte(){return CS.apply(null,arguments).exponent(.5)}const q1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sS,scaleDiverging:mR,scaleDivergingLog:gR,scaleDivergingPow:CS,scaleDivergingSqrt:wte,scaleDivergingSymlog:vR,scaleIdentity:XP,scaleImplicit:P_,scaleLinear:YP,scaleLog:ZP,scaleOrdinal:aS,scalePoint:lJ,scalePow:gS,scaleQuantile:eR,scaleQuantize:tR,scaleRadial:JP,scaleSequential:fR,scaleSequentialLog:dR,scaleSequentialPow:ES,scaleSequentialQuantile:pR,scaleSequentialSqrt:xte,scaleSequentialSymlog:hR,scaleSqrt:tee,scaleSymlog:QP,scaleThreshold:nR,scaleTime:yte,scaleUtc:bte,tickFormat:VP},Symbol.toStringTag,{value:"Module"}));var zu=e=>e.chartData,Cy=Ke([zu],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),yR=(e,t,n,r)=>r?Cy(e):zu(e),_te=(e,t,n)=>n?Cy(e):zu(e);function Mu(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(lr(t)&&lr(n))return!0}return!1}function u8(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function bR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(lr(n))i=n;else if(typeof n=="function")return;if(lr(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Mu(o))return o}}function Ste(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Mu(r))return u8(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,u;if(i==="auto")t!=null&&(o=Math.min(...t));else if(Yt(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&x6.test(i)){var d=x6.exec(i);if(d==null||d[1]==null||t==null)o=void 0;else{var c=+d[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(u=Math.max(...t));else if(Yt(a))u=a;else if(typeof a=="function")try{t!=null&&(u=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&w6.test(a)){var h=w6.exec(a);if(h==null||h[1]==null||t==null)u=void 0;else{var g=+h[1];u=t[1]+g}}else u=t==null?void 0:t[1];var x=[o,u];if(Mu(x))return t==null?x:u8(x,t,n)}}}var T0=1e9,Ate={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},OS,Ni=!0,Al="[DecimalError] ",Nd=Al+"Invalid argument: ",NS=Al+"Exponent out of range: ",I0=Math.floor,pd=Math.pow,Ete=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zo,is=1e7,vi=7,xR=9007199254740991,g2=I0(xR/vi),zt={};zt.absoluteValue=zt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};zt.comparedTo=zt.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};zt.decimalPlaces=zt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*vi;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};zt.dividedBy=zt.div=function(e){return Eu(this,new this.constructor(e))};zt.dividedToIntegerBy=zt.idiv=function(e){var t=this,n=t.constructor;return ti(Eu(t,new n(e),0,1),n.precision)};zt.equals=zt.eq=function(e){return!this.cmp(e)};zt.exponent=function(){return Sa(this)};zt.greaterThan=zt.gt=function(e){return this.cmp(e)>0};zt.greaterThanOrEqualTo=zt.gte=function(e){return this.cmp(e)>=0};zt.isInteger=zt.isint=function(){return this.e>this.d.length-2};zt.isNegative=zt.isneg=function(){return this.s<0};zt.isPositive=zt.ispos=function(){return this.s>0};zt.isZero=function(){return this.s===0};zt.lessThan=zt.lt=function(e){return this.cmp(e)<0};zt.lessThanOrEqualTo=zt.lte=function(e){return this.cmp(e)<1};zt.logarithm=zt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Zo))throw Error(Al+"NaN");if(n.s<1)throw Error(Al+(n.s?"NaN":"-Infinity"));return n.eq(Zo)?new r(0):(Ni=!1,t=Eu(wp(n,a),wp(e,a),a),Ni=!0,ti(t,i))};zt.minus=zt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SR(t,e):wR(t,(e.s=-e.s,e))};zt.modulo=zt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Al+"NaN");return n.s?(Ni=!1,t=Eu(n,e,0,1).times(e),Ni=!0,n.minus(t)):ti(new r(n),i)};zt.naturalExponential=zt.exp=function(){return _R(this)};zt.naturalLogarithm=zt.ln=function(){return wp(this)};zt.negated=zt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};zt.plus=zt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wR(t,e):SR(t,(e.s=-e.s,e))};zt.precision=zt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Nd+e);if(t=Sa(i)+1,r=i.d.length-1,n=r*vi+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};zt.squareRoot=zt.sqrt=function(){var e,t,n,r,i,a,o,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Al+"NaN")}for(e=Sa(u),Ni=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Rc(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=I0((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=o=n+3;;)if(a=r,r=a.plus(Eu(u,a,o+2)).times(.5),Rc(a.d).slice(0,o)===(t=Rc(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(ti(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(t!="9999")break;o+=4}return Ni=!0,ti(r,n)};zt.times=zt.mul=function(e){var t,n,r,i,a,o,u,d,c,h=this,g=h.constructor,x=h.d,y=(e=new g(e)).d;if(!h.s||!e.s)return new g(0);for(e.s*=h.s,n=h.e+e.e,d=x.length,c=y.length,d<c&&(a=x,x=y,y=a,o=d,d=c,c=o),a=[],o=d+c,r=o;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=d+r;i>r;)u=a[i]+y[r]*x[i-r-1]+t,a[i--]=u%is|0,t=u/is|0;a[i]=(a[i]+t)%is|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Ni?ti(e,g.precision):e};zt.toDecimalPlaces=zt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Hc(e,0,T0),t===void 0?t=r.rounding:Hc(t,0,8),ti(n,e+Sa(n)+1,t))};zt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Ld(r,!0):(Hc(e,0,T0),t===void 0?t=i.rounding:Hc(t,0,8),r=ti(new i(r),e+1,t),n=Ld(r,!0,e+1)),n};zt.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Ld(i):(Hc(e,0,T0),t===void 0?t=a.rounding:Hc(t,0,8),r=ti(new a(i),e+Sa(i)+1,t),n=Ld(r.abs(),!1,e+Sa(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};zt.toInteger=zt.toint=function(){var e=this,t=e.constructor;return ti(new t(e),Sa(e)+1,t.rounding)};zt.toNumber=function(){return+this};zt.toPower=zt.pow=function(e){var t,n,r,i,a,o,u=this,d=u.constructor,c=12,h=+(e=new d(e));if(!e.s)return new d(Zo);if(u=new d(u),!u.s){if(e.s<1)throw Error(Al+"Infinity");return u}if(u.eq(Zo))return u;if(r=d.precision,e.eq(Zo))return ti(u,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=u.s,o){if((n=h<0?-h:h)<=xR){for(i=new d(Zo),t=Math.ceil(r/vi+4),Ni=!1;n%2&&(i=i.times(u),d8(i.d,t)),n=I0(n/2),n!==0;)u=u.times(u),d8(u.d,t);return Ni=!0,e.s<0?new d(Zo).div(i):ti(i,r)}}else if(a<0)throw Error(Al+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,Ni=!1,i=e.times(wp(u,r+c)),Ni=!0,i=_R(i),i.s=a,i};zt.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Sa(i),r=Ld(i,n<=a.toExpNeg||n>=a.toExpPos)):(Hc(e,1,T0),t===void 0?t=a.rounding:Hc(t,0,8),i=ti(new a(i),e,t),n=Sa(i),r=Ld(i,e<=n||n<=a.toExpNeg,e)),r};zt.toSignificantDigits=zt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Hc(e,1,T0),t===void 0?t=r.rounding:Hc(t,0,8)),ti(new r(n),e,t)};zt.toString=zt.valueOf=zt.val=zt.toJSON=zt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Sa(e),n=e.constructor;return Ld(e,t<=n.toExpNeg||t>=n.toExpPos)};function wR(e,t){var n,r,i,a,o,u,d,c,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Ni?ti(t,g):t;if(d=e.d,c=t.d,o=e.e,i=t.e,d=d.slice(),a=o-i,a){for(a<0?(r=d,a=-a,u=c.length):(r=c,i=o,u=d.length),o=Math.ceil(g/vi),u=o>u?o+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=d.length,a=c.length,u-a<0&&(a=u,r=c,c=d,d=r),n=0;a;)n=(d[--a]=d[a]+c[a]+n)/is|0,d[a]%=is;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,Ni?ti(t,g):t}function Hc(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Nd+e)}function Rc(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=vi-r.length,n&&(a+=Ef(n)),a+=r;o=e[t],r=o+"",n=vi-r.length,n&&(a+=Ef(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Eu=(function(){function e(r,i){var a,o=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+o,r[u]=a%is|0,o=a/is|0;return o&&r.unshift(o),r}function t(r,i,a,o){var u,d;if(a!=o)d=a>o?1:-1;else for(u=d=0;u<a;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*is+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var u,d,c,h,g,x,y,C,E,T,I,D,F,U,Z,Q,Y,J,q=r.constructor,oe=r.s==i.s?1:-1,H=r.d,G=i.d;if(!r.s)return new q(r);if(!i.s)throw Error(Al+"Division by zero");for(d=r.e-i.e,Y=G.length,Z=H.length,y=new q(oe),C=y.d=[],c=0;G[c]==(H[c]||0);)++c;if(G[c]>(H[c]||0)&&--d,a==null?D=a=q.precision:o?D=a+(Sa(r)-Sa(i))+1:D=a,D<0)return new q(0);if(D=D/vi+2|0,c=0,Y==1)for(h=0,G=G[0],D++;(c<Z||h)&&D--;c++)F=h*is+(H[c]||0),C[c]=F/G|0,h=F%G|0;else{for(h=is/(G[0]+1)|0,h>1&&(G=e(G,h),H=e(H,h),Y=G.length,Z=H.length),U=Y,E=H.slice(0,Y),T=E.length;T<Y;)E[T++]=0;J=G.slice(),J.unshift(0),Q=G[0],G[1]>=is/2&&++Q;do h=0,u=t(G,E,Y,T),u<0?(I=E[0],Y!=T&&(I=I*is+(E[1]||0)),h=I/Q|0,h>1?(h>=is&&(h=is-1),g=e(G,h),x=g.length,T=E.length,u=t(g,E,x,T),u==1&&(h--,n(g,Y<x?J:G,x))):(h==0&&(u=h=1),g=G.slice()),x=g.length,x<T&&g.unshift(0),n(E,g,T),u==-1&&(T=E.length,u=t(G,E,Y,T),u<1&&(h++,n(E,Y<T?J:G,T))),T=E.length):u===0&&(h++,E=[0]),C[c++]=h,u&&E[0]?E[T++]=H[U]||0:(E=[H[U]],T=1);while((U++<Z||E[0]!==void 0)&&D--)}return C[0]||C.shift(),y.e=d,ti(y,o?a+Sa(y)+1:a)}})();function _R(e,t){var n,r,i,a,o,u,d=0,c=0,h=e.constructor,g=h.precision;if(Sa(e)>16)throw Error(NS+Sa(e));if(!e.s)return new h(Zo);for(Ni=!1,u=g,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(r=Math.log(pd(2,c))/Math.LN10*2+5|0,u+=r,n=i=a=new h(Zo),h.precision=u;;){if(i=ti(i.times(e),u),n=n.times(++d),o=a.plus(Eu(i,n,u)),Rc(o.d).slice(0,u)===Rc(a.d).slice(0,u)){for(;c--;)a=ti(a.times(a),u);return h.precision=g,t==null?(Ni=!0,ti(a,g)):a}a=o}}function Sa(e){for(var t=e.e*vi,n=e.d[0];n>=10;n/=10)t++;return t}function Hw(e,t,n){if(t>e.LN10.sd())throw Ni=!0,n&&(e.precision=n),Error(Al+"LN10 precision limit exceeded");return ti(new e(e.LN10),t)}function Ef(e){for(var t="";e--;)t+="0";return t}function wp(e,t){var n,r,i,a,o,u,d,c,h,g=1,x=10,y=e,C=y.d,E=y.constructor,T=E.precision;if(y.s<1)throw Error(Al+(y.s?"NaN":"-Infinity"));if(y.eq(Zo))return new E(0);if(t==null?(Ni=!1,c=T):c=t,y.eq(10))return t==null&&(Ni=!0),Hw(E,c);if(c+=x,E.precision=c,n=Rc(C),r=n.charAt(0),a=Sa(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(e),n=Rc(y.d),r=n.charAt(0),g++;a=Sa(y),r>1?(y=new E("0."+n),a++):y=new E(r+"."+n.slice(1))}else return d=Hw(E,c+2,T).times(a+""),y=wp(new E(r+"."+n.slice(1)),c-x).plus(d),E.precision=T,t==null?(Ni=!0,ti(y,T)):y;for(u=o=y=Eu(y.minus(Zo),y.plus(Zo),c),h=ti(y.times(y),c),i=3;;){if(o=ti(o.times(h),c),d=u.plus(Eu(o,new E(i),c)),Rc(d.d).slice(0,c)===Rc(u.d).slice(0,c))return u=u.times(2),a!==0&&(u=u.plus(Hw(E,c+2,T).times(a+""))),u=Eu(u,new E(g),c),E.precision=T,t==null?(Ni=!0,ti(u,T)):u;u=d,i+=2}}function f8(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=I0(n/vi),e.d=[],r=(n+1)%vi,n<0&&(r+=vi),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=vi;r<i;)e.d.push(+t.slice(r,r+=vi));t=t.slice(r),r=vi-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Ni&&(e.e>g2||e.e<-g2))throw Error(NS+n)}else e.s=0,e.e=0,e.d=[0];return e}function ti(e,t,n){var r,i,a,o,u,d,c,h,g=e.d;for(o=1,a=g[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=vi,i=t,c=g[h=0];else{if(h=Math.ceil((r+1)/vi),a=g.length,h>=a)return e;for(c=a=g[h],o=1;a>=10;a/=10)o++;r%=vi,i=r-vi+o}if(n!==void 0&&(a=pd(10,o-i-1),u=c/a%10|0,d=t<0||g[h+1]!==void 0||c%a,d=n<4?(u||d)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?c/pd(10,o-i):0:g[h-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return d?(a=Sa(e),g.length=1,t=t-a-1,g[0]=pd(10,(vi-t%vi)%vi),e.e=I0(-t/vi)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=h,a=1,h--):(g.length=h+1,a=pd(10,vi-r),g[h]=i>0?(c/pd(10,o-i)%pd(10,i)|0)*a:0),d)for(;;)if(h==0){(g[0]+=a)==is&&(g[0]=1,++e.e);break}else{if(g[h]+=a,g[h]!=is)break;g[h--]=0,a=1}for(r=g.length;g[--r]===0;)g.pop();if(Ni&&(e.e>g2||e.e<-g2))throw Error(NS+Sa(e));return e}function SR(e,t){var n,r,i,a,o,u,d,c,h,g,x=e.constructor,y=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Ni?ti(t,y):t;if(d=e.d,g=t.d,r=t.e,c=e.e,d=d.slice(),o=c-r,o){for(h=o<0,h?(n=d,o=-o,u=g.length):(n=g,r=c,u=d.length),i=Math.max(Math.ceil(y/vi),u)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=g.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(d[i]!=g[i]){h=d[i]<g[i];break}o=0}for(h&&(n=d,d=g,g=n,t.s=-t.s),u=d.length,i=g.length-u;i>0;--i)d[u++]=0;for(i=g.length;i>o;){if(d[--i]<g[i]){for(a=i;a&&d[--a]===0;)d[a]=is-1;--d[a],d[i]+=is}d[i]-=g[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,Ni?ti(t,y):t):new x(0)}function Ld(e,t,n){var r,i=Sa(e),a=Rc(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ef(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ef(-i-1)+a,n&&(r=n-o)>0&&(a+=Ef(r))):i>=o?(a+=Ef(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ef(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ef(r))),e.s<0?"-"+a:a}function d8(e,t){if(e.length>t)return e.length=t,!0}function AR(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Nd+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return f8(o,a.toString())}else if(typeof a!="string")throw Error(Nd+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Ete.test(a))f8(o,a);else throw Error(Nd+a)}if(i.prototype=zt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=AR,i.config=i.set=Cte,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Cte(e){if(!e||typeof e!="object")throw Error(Al+"Object expected");var t,n,r,i=["precision",1,T0,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(I0(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Nd+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Nd+n+": "+r);return this}var OS=AR(Ate);Zo=new OS(1);const Fr=OS;function ER(e){var t;return e===0?t=1:t=Math.floor(new Fr(e).abs().log(10).toNumber())+1,t}function CR(e,t,n){for(var r=new Fr(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var NR=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},OR=(e,t,n)=>{if(e.lte(0))return new Fr(0);var r=ER(e.toNumber()),i=new Fr(10).pow(r),a=e.div(i),o=r!==1?.05:.1,u=new Fr(Math.ceil(a.div(o).toNumber())).add(n).mul(o),d=u.mul(i);return t?new Fr(d.toNumber()):new Fr(Math.ceil(d.toNumber()))},Nte=(e,t,n)=>{var r=new Fr(1),i=new Fr(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Fr(10).pow(ER(e)-1),i=new Fr(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Fr(Math.floor(e)))}else e===0?i=new Fr(Math.floor((t-1)/2)):n||(i=new Fr(Math.floor(e)));for(var o=Math.floor((t-1)/2),u=[],d=0;d<t;d++)u.push(i.add(new Fr(d-o).mul(r)).toNumber());return u},TR=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Fr(0),tickMin:new Fr(0),tickMax:new Fr(0)};var o=OR(new Fr(n).sub(t).div(r-1),i,a),u;t<=0&&n>=0?u=new Fr(0):(u=new Fr(t).add(n).div(2),u=u.sub(new Fr(u).mod(o)));var d=Math.ceil(u.sub(t).div(o).toNumber()),c=Math.ceil(new Fr(n).sub(u).div(o).toNumber()),h=d+c+1;return h>r?TR(t,n,r,i,a+1):(h<r&&(c=n>0?c+(r-h):c,d=n>0?d:d+(r-h)),{step:o,tickMin:u.sub(new Fr(d).mul(o)),tickMax:u.add(new Fr(c).mul(o))})},Ote=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[u,d]=NR([n,r]);if(u===-1/0||d===1/0){var c=d===1/0?[u,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),d];return n>r?c.reverse():c}if(u===d)return Nte(u,i,a);var{step:h,tickMin:g,tickMax:x}=TR(u,d,o,a,0),y=CR(g,x.add(new Fr(.1).mul(h)),h);return n>r?y.reverse():y},Tte=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,u]=NR([r,i]);if(o===-1/0||u===1/0)return[r,i];if(o===u)return[o];var d=Math.max(n,2),c=OR(new Fr(u).sub(o).div(d-1),a,0),h=[...CR(new Fr(o),new Fr(u),c),u];return a===!1&&(h=h.map(g=>Math.round(g))),r>i?h.reverse():h},IR=e=>e.rootProps.maxBarSize,Ite=e=>e.rootProps.barGap,jR=e=>e.rootProps.barCategoryGap,jte=e=>e.rootProps.barSize,Hp=e=>e.rootProps.stackOffset,kR=e=>e.rootProps.reverseStackOrder,TS=e=>e.options.chartName,IS=e=>e.rootProps.syncId,MR=e=>e.rootProps.syncMethod,jS=e=>e.options.eventEmitter,_s={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ld={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Cc={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Ny=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function Oy(e,t,n){if(n!=="auto")return n;if(e!=null)return Uf(e,t)?"category":"number"}function h8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function v2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h8(Object(n),!0).forEach(function(r){kte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kte(e,t,n){return(t=Mte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mte(e){var t=Pte(e,"string");return typeof t=="symbol"?t:t+""}function Pte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p8={allowDataOverflow:ld.allowDataOverflow,allowDecimals:ld.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ld.angleAxisId,includeHidden:!1,name:void 0,reversed:ld.reversed,scale:ld.scale,tick:ld.tick,tickCount:void 0,ticks:void 0,type:ld.type,unit:void 0},m8={allowDataOverflow:Cc.allowDataOverflow,allowDecimals:Cc.allowDecimals,allowDuplicatedCategory:Cc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Cc.radiusAxisId,includeHidden:Cc.includeHidden,name:void 0,reversed:Cc.reversed,scale:Cc.scale,tick:Cc.tick,tickCount:Cc.tickCount,ticks:void 0,type:Cc.type,unit:void 0},Rte=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},kS=Ke([Rte,gP],(e,t)=>{var n;if(e!=null)return e;var r=(n=Oy(t,"angleAxis",p8.type))!==null&&n!==void 0?n:"category";return v2(v2({},p8),{},{type:r})}),Dte=(e,t)=>e.polarAxis.radiusAxis[t],MS=Ke([Dte,gP],(e,t)=>{var n;if(e!=null)return e;var r=(n=Oy(t,"radiusAxis",m8.type))!==null&&n!==void 0?n:"category";return v2(v2({},m8),{},{type:r})}),Ty=e=>e.polarOptions,PS=Ke([Bu,Fu,Ua],PP),PR=Ke([Ty,PS],(e,t)=>{if(e!=null)return Us(e.innerRadius,t,0)}),RR=Ke([Ty,PS],(e,t)=>{if(e!=null)return Us(e.outerRadius,t,t*.8)}),Lte=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},DR=Ke([Ty],Lte);Ke([kS,DR],Ny);var LR=Ke([PS,PR,RR],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Ke([MS,LR],Ny);var BR=Ke([Tr,Ty,PR,RR,Bu,Fu],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:u,startAngle:d,endAngle:c}=t;return{cx:Us(o,i,i/2),cy:Us(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:c,clockWise:!1}}}),Pi=(e,t)=>t,Gp=(e,t,n)=>n;function RS(e){return e==null?void 0:e.id}function FR(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(u=>{var d,c=(d=u.data)!==null&&d!==void 0?d:r;if(!(c==null||c.length===0)){var h=RS(u);c.forEach((g,x)=>{var y=a==null||i?x:String(bi(g,a,null)),C=bi(g,u.dataKey,0),E;o.has(y)?E=o.get(y):E={},Object.assign(E,{[h]:C}),o.set(y,E)})}}),Array.from(o.values())}function Iy(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var jy=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ky(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Bte(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var us=e=>{var t=Tr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},j0=e=>e.tooltip.settings.axisId;function Fte(e){if(e in q1)return q1[e]();var t="scale".concat(kp(e));if(t in q1)return q1[t]()}function g8(e){var t=e.ticks,n=e.bandwidth,r=e.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:(function(a){function o(){return a.apply(this,arguments)}return o.toString=function(){return a.toString()},o})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var o=i[0],u=i[1];return o<=u?a>=o&&a<=u:a>=u&&a<=o},bandwidth:n?()=>n.call(e):void 0,ticks:t?a=>t.call(e,a):void 0,map:(a,o)=>{var u=e(a);if(u!=null){if(e.bandwidth&&o!==null&&o!==void 0&&o.position){var d=e.bandwidth();switch(o.position){case"middle":u+=d/2;break;case"end":u+=d;break}}return u}}}}function v8(e,t,n){if(typeof e=="function")return g8(e.copy().domain(t).range(n));if(e!=null){var r=Fte(e);if(r!=null)return r.domain(t).range(n),g8(r)}}var UR=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Mu(t)){for(var n,r,i=0;i<t.length;i++){var a=t[i];lr(a)&&((n===void 0||a<n)&&(n=a),(r===void 0||a>r)&&(r=a))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function y8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function y2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y8(Object(n),!0).forEach(function(r){Ute(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ute(e,t,n){return(t=zte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zte(e){var t=qte(e,"string");return typeof t=="symbol"?t:t+""}function qte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B_=[0,"auto"],ns={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},zR=(e,t)=>e.cartesianAxis.xAxis[t],qu=(e,t)=>{var n=zR(e,t);return n??ns},rs={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:B_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Dp},qR=(e,t)=>e.cartesianAxis.yAxis[t],Hu=(e,t)=>{var n=qR(e,t);return n??rs},Hte={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},DS=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Hte},Ji=(e,t,n)=>{switch(t){case"xAxis":return qu(e,n);case"yAxis":return Hu(e,n);case"zAxis":return DS(e,n);case"angleAxis":return kS(e,n);case"radiusAxis":return MS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Gte=(e,t,n)=>{switch(t){case"xAxis":return qu(e,n);case"yAxis":return Hu(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},k0=(e,t,n)=>{switch(t){case"xAxis":return qu(e,n);case"yAxis":return Hu(e,n);case"angleAxis":return kS(e,n);case"radiusAxis":return MS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},HR=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function LS(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var BS=e=>e.graphicalItems.cartesianItems,$te=Ke([Pi,Gp],LS),FS=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),$p=Ke([BS,Ji,$te],FS,{memoizeOptions:{resultEqualityCheck:ky}}),GR=Ke([$p],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Iy)),$R=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Wte=Ke([$p],$R),US=e=>e.map(t=>t.data).filter(Boolean).flat(1),Vte=Ke([$p],US,{memoizeOptions:{resultEqualityCheck:ky}}),zS=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},qS=Ke([Vte,yR],zS),HS=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:bi(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:bi(i,r)}))):e.map(r=>({value:r})),My=Ke([qS,Ji,$p],HS);function WR(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function bv(e){if(zc(e)||e instanceof Date){var t=Number(e);if(lr(t))return t}}function b8(e){if(Array.isArray(e)){var t=[bv(e[0]),bv(e[1])];return Mu(t)?t:void 0}var n=bv(e);if(n!=null)return[n,n]}function Pu(e){return e.map(bv).filter(Oo)}function Yte(e,t,n){return!n||typeof t!="number"||Uc(t)?[]:n.length?Pu(n.flatMap(r=>{var i=bi(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!lr(a)||!lr(o)))return[t-a,t+o]})):[]}var qa=e=>{var t=us(e),n=j0(e);return k0(e,t,n)},Wp=Ke([qa],e=>e==null?void 0:e.dataKey),Xte=Ke([GR,yR,qa],FR),VR=(e,t,n,r)=>{var i={},a=t.reduce((o,u)=>{if(u.stackId==null)return o;var d=o[u.stackId];return d==null&&(d=[]),d.push(u),o[u.stackId]=d,o},i);return Object.fromEntries(Object.entries(a).map(o=>{var[u,d]=o,c=r?[...d].reverse():d,h=c.map(RS);return[u,{stackedData:mK(e,h,n),graphicalItems:c}]}))},F_=Ke([Xte,GR,Hp,kR],VR),YR=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var o=xK(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Kte=Ke([Ji],e=>e.allowDataOverflow),GS=e=>{var t;if(e==null||!("domain"in e))return B_;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Pu(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:B_},$S=Ke([Ji],GS),WS=Ke([$S,Kte],bR),Zte=Ke([F_,zu,Pi,WS],YR,{memoizeOptions:{resultEqualityCheck:jy}}),Py=e=>e.errorBars,Qte=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>WR(n,r)),b2=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),u=Math.max(...a);return[o,u]}},VS=(e,t,n,r,i)=>{var a,o;if(n.length>0&&e.forEach(u=>{n.forEach(d=>{var c,h,g=(c=r[d.id])===null||c===void 0?void 0:c.filter(I=>WR(i,I)),x=bi(u,(h=t.dataKey)!==null&&h!==void 0?h:d.dataKey),y=Yte(u,x,g);if(y.length>=2){var C=Math.min(...y),E=Math.max(...y);(a==null||C<a)&&(a=C),(o==null||E>o)&&(o=E)}var T=b8(x);T!=null&&(a=a==null?T[0]:Math.min(a,T[0]),o=o==null?T[1]:Math.max(o,T[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(u=>{var d=b8(bi(u,t.dataKey));d!=null&&(a=a==null?d[0]:Math.min(a,d[0]),o=o==null?d[1]:Math.max(o,d[1]))}),lr(a)&&lr(o))return[a,o]},Jte=Ke([qS,Ji,Wte,Py,Pi],VS,{memoizeOptions:{resultEqualityCheck:jy}});function ene(e){var{value:t}=e;if(zc(t)||t instanceof Date)return t}var tne=(e,t,n)=>{var r=e.map(ene).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&h7(r))?BP(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},XR=e=>e.referenceElements.dots,M0=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),nne=Ke([XR,Pi,Gp],M0),KR=e=>e.referenceElements.areas,rne=Ke([KR,Pi,Gp],M0),ZR=e=>e.referenceElements.lines,ine=Ke([ZR,Pi,Gp],M0),QR=(e,t)=>{if(e!=null){var n=Pu(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},ane=Ke(nne,Pi,QR),JR=(e,t)=>{if(e!=null){var n=Pu(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},sne=Ke([rne,Pi],JR);function one(e){var t;if(e.x!=null)return Pu([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Pu(n)}function lne(e){var t;if(e.y!=null)return Pu([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Pu(n)}var eD=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?one(r):lne(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},cne=Ke([ine,Pi],eD),une=Ke(ane,cne,sne,(e,t,n)=>b2(e,n,t)),YS=(e,t,n,r,i,a,o,u)=>{if(n!=null)return n;var d=o==="vertical"&&u==="xAxis"||o==="horizontal"&&u==="yAxis",c=d?b2(r,a,i):b2(a,i);return Ste(t,c,e.allowDataOverflow)},fne=Ke([Ji,$S,WS,Zte,Jte,une,Tr,Pi],YS,{memoizeOptions:{resultEqualityCheck:jy}}),dne=[0,1],XS=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:u,type:d}=e,c=Uf(t,a);if(c&&u==null){var h;return BP(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return d==="category"?tne(r,e,c):i==="expand"?dne:o}},KS=Ke([Ji,Tr,qS,My,Hp,Pi,fne],XS);function hne(e){return e in q1}var tD=(e,t,n)=>{if(e!=null){var{scale:r,type:i}=e;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var a="scale".concat(kp(r));return hne(a)?a:"point"}}},Hf=Ke([Ji,HR,TS],tD);function ZS(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?v8(e.scale,n,r):v8(t,n,r)}var QS=(e,t,n)=>{var r=GS(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Mu(e))return Ote(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Mu(e))return Tte(e,t.tickCount,t.allowDecimals)}},JS=Ke([KS,k0,Hf],QS),eA=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Mu(t)&&Array.isArray(n)&&n.length>0){var i,a,o=t[0],u=(i=n[0])!==null&&i!==void 0?i:0,d=t[1],c=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(o,u),Math.max(d,c)]}return t},pne=Ke([Ji,KS,JS,Pi],eA),mne=Ke(My,Ji,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Pu(e.map(g=>g.value))).sort((g,x)=>g-x),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var o=a-i;if(o===0)return 1/0;for(var u=0;u<r.length-1;u++){var d=r[u],c=r[u+1];if(!(d==null||c==null)){var h=c-d;n=Math.min(n,h)}}return n/o}}),nD=Ke(mne,Tr,jR,Ua,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!lr(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Us(n,e*a),u=e*a/2;return u-o-(u-o)/a*o}return 0}),gne=(e,t,n)=>{var r=qu(e,t);return r==null||typeof r.padding!="string"?0:nD(e,"xAxis",t,n,r.padding)},vne=(e,t,n)=>{var r=Hu(e,t);return r==null||typeof r.padding!="string"?0:nD(e,"yAxis",t,n,r.padding)},yne=Ke(qu,gne,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),bne=Ke(Hu,vne,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),xne=Ke([Ua,yne,dy,fy,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),wne=Ke([Ua,Tr,bne,dy,fy,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Vp=(e,t,n,r)=>{var i;switch(t){case"xAxis":return xne(e,n,r);case"yAxis":return wne(e,n,r);case"zAxis":return(i=DS(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return DR(e);case"radiusAxis":return LR(e,n);default:return}},rD=Ke([Ji,Vp],Ny),_ne=Ke([Hf,pne],UR),Ry=Ke([Ji,Hf,_ne,rD],ZS);Ke([$p,Py,Pi],Qte);function iD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Dy=(e,t)=>t,Ly=(e,t,n)=>n,Sne=Ke(cy,Dy,Ly,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(iD)),Ane=Ke(uy,Dy,Ly,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(iD)),aD=(e,t)=>({width:e.width,height:t.height}),Ene=(e,t)=>{var n=typeof t.width=="number"?t.width:Dp;return{width:n,height:e.height}},sD=Ke(Ua,qu,aD),Cne=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Nne=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},One=Ke(Fu,Ua,Sne,Dy,Ly,(e,t,n,r,i)=>{var a={},o;return n.forEach(u=>{var d=aD(t,u);o==null&&(o=Cne(t,r,e));var c=r==="top"&&!i||r==="bottom"&&i;a[u.id]=o-Number(c)*d.height,o+=(c?-1:1)*d.height}),a}),Tne=Ke(Bu,Ua,Ane,Dy,Ly,(e,t,n,r,i)=>{var a={},o;return n.forEach(u=>{var d=Ene(t,u);o==null&&(o=Nne(t,r,e));var c=r==="left"&&!i||r==="right"&&i;a[u.id]=o-Number(c)*d.width,o+=(c?-1:1)*d.width}),a}),Ine=(e,t)=>{var n=qu(e,t);if(n!=null)return One(e,n.orientation,n.mirror)},jne=Ke([Ua,qu,Ine,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),kne=(e,t)=>{var n=Hu(e,t);if(n!=null)return Tne(e,n.orientation,n.mirror)},Mne=Ke([Ua,Hu,kne,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),oD=Ke(Ua,Hu,(e,t)=>{var n=typeof t.width=="number"?t.width:Dp;return{width:n,height:e.height}}),x8=(e,t,n)=>{switch(t){case"xAxis":return sD(e,n).width;case"yAxis":return oD(e,n).height;default:return}},lD=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,u=Uf(e,r),d=t.map(c=>c.value);if(o&&u&&a==="category"&&i&&h7(d))return d}},tA=Ke([Tr,My,Ji,Pi],lD),cD=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=Uf(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(u=>u.value)}},nA=Ke([Tr,My,k0,Pi],cD),w8=Ke([Tr,Gte,Hf,Ry,tA,nA,Vp,JS,Pi],(e,t,n,r,i,a,o,u,d)=>{if(t!=null){var c=Uf(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:u,range:o,realScaleType:n,scale:r}}}),Pne=(e,t,n,r,i,a,o,u,d)=>{if(!(t==null||r==null)){var c=Uf(e,d),{type:h,ticks:g,tickCount:x}=t,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,C=h==="category"&&r.bandwidth?r.bandwidth()/y:0;C=d==="angleAxis"&&a!=null&&a.length>=2?ss(a[0]-a[1])*2*C:C;var E=g||i;return E?E.map((T,I)=>{var D=o?o.indexOf(T):T,F=r.map(D);return lr(F)?{index:I,coordinate:F+C,value:T,offset:C}:null}).filter(Oo):c&&u?u.map((T,I)=>{var D=r.map(T);return lr(D)?{coordinate:D+C,value:T,index:I,offset:C}:null}).filter(Oo):r.ticks?r.ticks(x).map((T,I)=>{var D=r.map(T);return lr(D)?{coordinate:D+C,value:T,index:I,offset:C}:null}).filter(Oo):r.domain().map((T,I)=>{var D=r.map(T);return lr(D)?{coordinate:D+C,value:o?o[T]:T,index:I,offset:C}:null}).filter(Oo)}},uD=Ke([Tr,k0,Hf,Ry,JS,Vp,tA,nA,Pi],Pne),Rne=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=Uf(e,o),{tickCount:d}=t,c=0;return c=o==="angleAxis"&&(r==null?void 0:r.length)>=2?ss(r[0]-r[1])*2*c:c,u&&a?a.map((h,g)=>{var x=n.map(h);return lr(x)?{coordinate:x+c,value:h,index:g,offset:c}:null}).filter(Oo):n.ticks?n.ticks(d).map((h,g)=>{var x=n.map(h);return lr(x)?{coordinate:x+c,value:h,index:g,offset:c}:null}).filter(Oo):n.domain().map((h,g)=>{var x=n.map(h);return lr(x)?{coordinate:x+c,value:i?i[h]:h,index:g,offset:c}:null}).filter(Oo)}},y0=Ke([Tr,k0,Ry,Vp,tA,nA,Pi],Rne),b0=Ke(Ji,Ry,(e,t)=>{if(!(e==null||t==null))return y2(y2({},e),{},{scale:t})}),Dne=Ke([Ji,Hf,KS,rD],ZS);Ke((e,t,n)=>DS(e,n),Dne,(e,t)=>{if(!(e==null||t==null))return y2(y2({},e),{},{scale:t})});var Lne=Ke([Tr,cy,uy],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),fD=e=>e.options.defaultTooltipEventType,dD=e=>e.options.validateTooltipEventTypes;function hD(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function rA(e,t){var n=fD(e),r=dD(e);return hD(t,n,r)}function Bne(e){return Jt(t=>rA(t,e))}var pD=(e,t)=>{var n,r=Number(t);if(!(Uc(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Fne=e=>e.tooltip.settings,Of={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Une={itemInteraction:{click:Of,hover:Of},axisInteraction:{click:Of,hover:Of},keyboardInteraction:Of,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},mD=jo({name:"tooltip",initialState:Une,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ci()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ec(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:Ci()},removeTooltipEntrySettings:{reducer(e,t){var n=ec(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Ci()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:zne,replaceTooltipEntrySettings:qne,removeTooltipEntrySettings:Hne,setTooltipSettingsState:Gne,setActiveMouseOverItemIndex:gD,mouseLeaveItem:$ne,mouseLeaveChart:vD,setActiveClickItemIndex:Wne,setMouseOverAxisIndex:yD,setMouseClickAxisIndex:Vne,setSyncInteraction:U_,setKeyboardInteraction:z_}=mD.actions,Yne=mD.reducer;function _8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_8(Object(n),!0).forEach(function(r){Xne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xne(e,t,n){return(t=Kne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kne(e){var t=Zne(e,"string");return typeof t=="symbol"?t:t+""}function Zne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qne(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Jne(e){return e.index!=null}var bD=(e,t,n,r)=>{if(t==null)return Of;var i=Qne(e,t,n);if(i==null)return Of;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Jne(i)){if(a)return mg(mg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return mg(mg({},Of),{},{coordinate:i.coordinate})};function ere(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function tre(e,t){var n=ere(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function nre(e,t,n){if(n==null||t==null)return!0;var r=bi(e,t);return r==null||!Mu(n)?!0:tre(r,n)}var iA=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!lr(a))return i;var o=0,u=1/0;t.length>0&&(u=t.length-1);var d=Math.max(o,Math.min(a,u)),c=t[d];return c==null||nre(c,n,r)?String(d):null},xD=(e,t,n,r,i,a,o)=>{if(a!=null){var u=o[0],d=u==null?void 0:u.getPosition(a);if(d!=null)return d;var c=i==null?void 0:i[Number(a)];if(c)switch(n){case"horizontal":return{x:c.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:c.coordinate}}}},wD=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(o=>{var u;return((u=o.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},_D=e=>e.options.tooltipPayloadSearcher,P0=e=>e.tooltip;function S8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function A8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(n),!0).forEach(function(r){rre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rre(e,t,n){return(t=ire(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ire(e){var t=are(e,"string");return typeof t=="symbol"?t:t+""}function are(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sre(e,t){return e??t}var SD=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:u,computedData:d,dataStartIndex:c,dataEndIndex:h}=n,g=[];return e.reduce((x,y)=>{var C,{dataDefinedOnItem:E,settings:T}=y,I=sre(E,u),D=Array.isArray(I)?aP(I,c,h):I,F=(C=T==null?void 0:T.dataKey)!==null&&C!==void 0?C:r,U=T==null?void 0:T.nameKey,Z;if(r&&Array.isArray(D)&&!Array.isArray(D[0])&&o==="axis"?Z=zV(D,r,i):Z=a(D,t,d,U),Array.isArray(Z))Z.forEach(Y=>{var J=A8(A8({},T),{},{name:Y.name,unit:Y.unit,color:void 0,fill:void 0});x.push(_6({tooltipEntrySettings:J,dataKey:Y.dataKey,payload:Y.payload,value:bi(Y.payload,Y.dataKey),name:Y.name}))});else{var Q;x.push(_6({tooltipEntrySettings:T,dataKey:F,payload:Z,value:bi(Z,F),name:(Q=bi(Z,U))!==null&&Q!==void 0?Q:T==null?void 0:T.name}))}return x},g)}},aA=Ke([qa,HR,TS],tD),ore=Ke([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),lre=Ke([us,j0],LS),R0=Ke([ore,qa,lre],FS,{memoizeOptions:{resultEqualityCheck:ky}}),cre=Ke([R0],e=>e.filter(Iy)),ure=Ke([R0],US,{memoizeOptions:{resultEqualityCheck:ky}}),D0=Ke([ure,zu],zS),fre=Ke([cre,zu,qa],FR),sA=Ke([D0,qa,R0],HS),AD=Ke([qa],GS),dre=Ke([qa],e=>e.allowDataOverflow),ED=Ke([AD,dre],bR),hre=Ke([R0],e=>e.filter(Iy)),pre=Ke([fre,hre,Hp,kR],VR),mre=Ke([pre,zu,us,ED],YR),gre=Ke([R0],$R),vre=Ke([D0,qa,gre,Py,us],VS,{memoizeOptions:{resultEqualityCheck:jy}}),yre=Ke([XR,us,j0],M0),bre=Ke([yre,us],QR),xre=Ke([KR,us,j0],M0),wre=Ke([xre,us],JR),_re=Ke([ZR,us,j0],M0),Sre=Ke([_re,us],eD),Are=Ke([bre,Sre,wre],b2),Ere=Ke([qa,AD,ED,mre,vre,Are,Tr,us],YS),Yp=Ke([qa,Tr,D0,sA,Hp,us,Ere],XS),Cre=Ke([Yp,qa,aA],QS),Nre=Ke([qa,Yp,Cre,us],eA),CD=e=>{var t=us(e),n=j0(e),r=!1;return Vp(e,t,n,r)},ND=Ke([qa,CD],Ny),OD=Ke([qa,aA,Nre,ND],ZS),Ore=Ke([Tr,sA,qa,us],lD),Tre=Ke([Tr,sA,qa,us],cD),Ire=(e,t,n,r,i,a,o,u)=>{if(t){var{type:d}=t,c=Uf(e,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/h:0;return g=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?ss(i[0]-i[1])*2*g:g,c&&o?o.map((x,y)=>{var C=r.map(x);return lr(C)?{coordinate:C+g,value:x,index:y,offset:g}:null}).filter(Oo):r.domain().map((x,y)=>{var C=r.map(x);return lr(C)?{coordinate:C+g,value:a?a[x]:x,index:y,offset:g}:null}).filter(Oo)}}},Gu=Ke([Tr,qa,aA,OD,CD,Ore,Tre,us],Ire),oA=Ke([fD,dD,Fne],(e,t,n)=>hD(n.shared,e,t)),TD=e=>e.tooltip.settings.trigger,lA=e=>e.tooltip.settings.defaultIndex,Xp=Ke([P0,oA,TD,lA],bD),Bd=Ke([Xp,D0,Wp,Yp],iA),ID=Ke([Gu,Bd],pD),cA=Ke([Xp],e=>{if(e)return e.dataKey}),jre=Ke([Xp],e=>{if(e)return e.graphicalItemId}),jD=Ke([P0,oA,TD,lA],wD),kre=Ke([Bu,Fu,Tr,Ua,Gu,lA,jD],xD),Mre=Ke([Xp,kre],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Pre=Ke([Xp],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),Rre=Ke([jD,Bd,zu,Wp,ID,_D,oA],SD);Ke([Rre],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function E8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function C8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E8(Object(n),!0).forEach(function(r){Dre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dre(e,t,n){return(t=Lre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lre(e){var t=Bre(e,"string");return typeof t=="symbol"?t:t+""}function Bre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fre=()=>Jt(qa),Ure=()=>{var e=Fre(),t=Jt(Gu),n=Jt(OD);return Xv(!e||!n?void 0:C8(C8({},e),{},{scale:n}),t)};function N8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N8(Object(n),!0).forEach(function(r){zre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zre(e,t,n){return(t=qre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qre(e){var t=Hre(e,"string");return typeof t=="symbol"?t:t+""}function Hre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gre=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},$re=(e,t,n,r)=>{var i=t.find(c=>c&&c.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=r;return Dh(Dh(Dh({},r),_a(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var u=i.coordinate,{angle:d}=r;return Dh(Dh(Dh({},r),_a(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Wre(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var kD=(e,t,n,r,i)=>{var a,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<o;u++){var d,c,h,g,x,y=u>0?(d=n[u-1])===null||d===void 0?void 0:d.coordinate:(c=n[o-1])===null||c===void 0?void 0:c.coordinate,C=(h=n[u])===null||h===void 0?void 0:h.coordinate,E=u>=o-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(x=n[u+1])===null||x===void 0?void 0:x.coordinate,T=void 0;if(!(y==null||C==null||E==null))if(ss(C-y)!==ss(E-C)){var I=[];if(ss(E-C)===ss(i[1]-i[0])){T=E;var D=C+i[1]-i[0];I[0]=Math.min(D,(D+y)/2),I[1]=Math.max(D,(D+y)/2)}else{T=y;var F=E+i[1]-i[0];I[0]=Math.min(C,(F+C)/2),I[1]=Math.max(C,(F+C)/2)}var U=[Math.min(C,(T+C)/2),Math.max(C,(T+C)/2)];if(e>U[0]&&e<=U[1]||e>=I[0]&&e<=I[1]){var Z;return(Z=n[u])===null||Z===void 0?void 0:Z.index}}else{var Q=Math.min(y,E),Y=Math.max(y,E);if(e>(Q+C)/2&&e<=(Y+C)/2){var J;return(J=n[u])===null||J===void 0?void 0:J.index}}}else if(t)for(var q=0;q<o;q++){var oe=t[q];if(oe!=null){var H=t[q+1],G=t[q-1];if(q===0&&H!=null&&e<=(oe.coordinate+H.coordinate)/2||q===o-1&&G!=null&&e>(oe.coordinate+G.coordinate)/2||q>0&&q<o-1&&G!=null&&H!=null&&e>(oe.coordinate+G.coordinate)/2&&e<=(oe.coordinate+H.coordinate)/2)return oe.index}}return-1},Vre=()=>Jt(TS),uA=(e,t)=>t,MD=(e,t,n)=>n,fA=(e,t,n,r)=>r,Yre=Ke(Gu,e=>Q2(e,t=>t.coordinate)),dA=Ke([P0,uA,MD,fA],bD),hA=Ke([dA,D0,Wp,Yp],iA),Xre=(e,t,n)=>{if(t!=null){var r=P0(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},PD=Ke([P0,uA,MD,fA],wD),x2=Ke([Bu,Fu,Tr,Ua,Gu,fA,PD],xD),Kre=Ke([dA,x2],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),RD=Ke([Gu,hA],pD),Zre=Ke([PD,hA,zu,Wp,RD,_D,uA],SD),Qre=Ke([dA,hA],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Jre=(e,t,n,r,i,a,o)=>{if(!(!e||!n||!r||!i)&&Wre(e,o)){var u=wK(e,t),d=kD(u,a,i,n,r),c=Gre(t,i,d,e);return{activeIndex:String(d),activeCoordinate:c}}},eie=(e,t,n,r,i,a,o)=>{if(!(!e||!r||!i||!a||!n)){var u=BQ(e,n);if(u){var d=_K(u,t),c=kD(d,o,a,r,i),h=$re(t,a,c,u);return{activeIndex:String(c),activeCoordinate:h}}}},tie=(e,t,n,r,i,a,o,u)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?Jre(e,t,r,i,a,o,u):eie(e,t,n,r,i,a,o)},nie=Ke(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),rie=Ke(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(_s)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Bte}});function O8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function T8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O8(Object(n),!0).forEach(function(r){iie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iie(e,t,n){return(t=aie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aie(e){var t=sie(e,"string");return typeof t=="symbol"?t:t+""}function sie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oie={},lie={zIndexMap:Object.values(_s).reduce((e,t)=>T8(T8({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),oie)},cie=new Set(Object.values(_s));function uie(e){return cie.has(e)}var DD=jo({name:"zIndex",initialState:lie,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Ci()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!uie(n)&&delete e.zIndexMap[n])},prepare:Ci()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Ci()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:Ci()}}}),{registerZIndexPortal:fie,unregisterZIndexPortal:die,registerZIndexPortalElement:hie,unregisterZIndexPortalElement:pie}=DD.actions,mie=DD.reducer;function oc(e){var{zIndex:t,children:n}=e,r=JK(),i=r&&t!==void 0&&t!==0,a=ko(),o=li();R.useLayoutEffect(()=>i?(o(fie({zIndex:t})),()=>{o(die({zIndex:t}))}):C0,[o,t,i]);var u=Jt(d=>nie(d,t,a));return i?u?w3.createPortal(n,u):null:n}function q_(){return q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q_.apply(null,arguments)}function I8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I8(Object(n),!0).forEach(function(r){gie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gie(e,t,n){return(t=vie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vie(e){var t=yie(e,"string");return typeof t=="symbol"?t:t+""}function yie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bie(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return R.isValidElement(t)?R.cloneElement(t,r):R.createElement(n,r)}function xie(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:u,cursor:d,tooltipEventType:c,chartName:h}=e,g=n,x=r,y=i;if(!d||!g||h!=="ScatterChart"&&c!=="axis")return null;var C,E,T;if(h==="ScatterChart")C=g,E=QZ,T=_s.cursorLine;else if(h==="BarChart")C=JZ(u,g,a,o),E=MP,T=_s.cursorRectangle;else if(u==="radial"&&m7(g)){var{cx:I,cy:D,radius:F,startAngle:U,endAngle:Z}=RP(g);C={cx:I,cy:D,startAngle:U,endAngle:Z,innerRadius:F,outerRadius:F},E=LP,T=_s.cursorLine}else C={points:qQ(u,g,a)},E=rS,T=_s.cursorLine;var Q=typeof d=="object"&&"className"in d?d.className:void 0,Y=gg(gg(gg(gg({stroke:"#ccc",pointerEvents:"none"},a),C),lp(d)),{},{payload:x,payloadIndex:y,className:Or("recharts-tooltip-cursor",Q)});return R.createElement(oc,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:T},R.createElement(bie,{cursor:d,cursorComp:E,cursorProps:Y}))}function wie(e){var t=Ure(),n=pP(),r=N0(),i=Vre();return t==null||n==null||r==null||i==null?null:R.createElement(xie,q_({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var LD=R.createContext(null),_ie=()=>R.useContext(LD),Gw={exports:{}},j8;function Sie(){return j8||(j8=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,c,h){this.fn=d,this.context=c,this.once=h||!1}function a(d,c,h,g,x){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new i(h,g||d,x),C=n?n+c:c;return d._events[C]?d._events[C].fn?d._events[C]=[d._events[C],y]:d._events[C].push(y):(d._events[C]=y,d._eventsCount++),d}function o(d,c){--d._eventsCount===0?d._events=new r:delete d._events[c]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var c=[],h,g;if(this._eventsCount===0)return c;for(g in h=this._events)t.call(h,g)&&c.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},u.prototype.listeners=function(c){var h=n?n+c:c,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var x=0,y=g.length,C=new Array(y);x<y;x++)C[x]=g[x].fn;return C},u.prototype.listenerCount=function(c){var h=n?n+c:c,g=this._events[h];return g?g.fn?1:g.length:0},u.prototype.emit=function(c,h,g,x,y,C){var E=n?n+c:c;if(!this._events[E])return!1;var T=this._events[E],I=arguments.length,D,F;if(T.fn){switch(T.once&&this.removeListener(c,T.fn,void 0,!0),I){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,g),!0;case 4:return T.fn.call(T.context,h,g,x),!0;case 5:return T.fn.call(T.context,h,g,x,y),!0;case 6:return T.fn.call(T.context,h,g,x,y,C),!0}for(F=1,D=new Array(I-1);F<I;F++)D[F-1]=arguments[F];T.fn.apply(T.context,D)}else{var U=T.length,Z;for(F=0;F<U;F++)switch(T[F].once&&this.removeListener(c,T[F].fn,void 0,!0),I){case 1:T[F].fn.call(T[F].context);break;case 2:T[F].fn.call(T[F].context,h);break;case 3:T[F].fn.call(T[F].context,h,g);break;case 4:T[F].fn.call(T[F].context,h,g,x);break;default:if(!D)for(Z=1,D=new Array(I-1);Z<I;Z++)D[Z-1]=arguments[Z];T[F].fn.apply(T[F].context,D)}}return!0},u.prototype.on=function(c,h,g){return a(this,c,h,g,!1)},u.prototype.once=function(c,h,g){return a(this,c,h,g,!0)},u.prototype.removeListener=function(c,h,g,x){var y=n?n+c:c;if(!this._events[y])return this;if(!h)return o(this,y),this;var C=this._events[y];if(C.fn)C.fn===h&&(!x||C.once)&&(!g||C.context===g)&&o(this,y);else{for(var E=0,T=[],I=C.length;E<I;E++)(C[E].fn!==h||x&&!C[E].once||g&&C[E].context!==g)&&T.push(C[E]);T.length?this._events[y]=T.length===1?T[0]:T:o(this,y)}return this},u.prototype.removeAllListeners=function(c){var h;return c?(h=n?n+c:c,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(Gw)),Gw.exports}var Aie=Sie();const Eie=Gc(Aie);var _p=new Eie,H_="recharts.syncEvent.tooltip",k8="recharts.syncEvent.brush",BD=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!Uc(n))return e[n]}},Cie={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},FD=jo({name:"options",initialState:Cie,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Nie=FD.reducer,{createEventEmitter:Oie}=FD.actions;function Tie(e){return e.tooltip.syncInteraction}var Iie={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},UD=jo({name:"chartData",initialState:Iie,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:M8,setDataStartEndIndexes:jie,setComputedData:dve}=UD.actions,kie=UD.reducer,Mie=["x","y"];function P8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P8(Object(n),!0).forEach(function(r){Pie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pie(e,t,n){return(t=Rie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rie(e){var t=Die(e,"string");return typeof t=="symbol"?t:t+""}function Die(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lie(e,t){if(e==null)return{};var n,r,i=Bie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Fie(){var e=Jt(IS),t=Jt(jS),n=li(),r=Jt(MR),i=Jt(Gu),a=N0(),o=hy(),u=Jt(d=>d.rootProps.className);R.useEffect(()=>{if(e==null)return C0;var d=(c,h,g)=>{if(t!==g&&e===c){if(r==="index"){var x;if(o&&h!==null&&h!==void 0&&(x=h.payload)!==null&&x!==void 0&&x.coordinate&&h.payload.sourceViewBox){var y=h.payload.coordinate,{x:C,y:E}=y,T=Lie(y,Mie),{x:I,y:D,width:F,height:U}=h.payload.sourceViewBox,Z=Lh(Lh({},T),{},{x:o.x+(F?(C-I)/F:0)*o.width,y:o.y+(U?(E-D)/U:0)*o.height});n(Lh(Lh({},h),{},{payload:Lh(Lh({},h.payload),{},{coordinate:Z})}))}else n(h);return}if(i!=null){var Q;if(typeof r=="function"){var Y={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},J=r(i,Y);Q=i[J]}else r==="value"&&(Q=i.find(ie=>String(ie.value)===h.payload.label));var{coordinate:q}=h.payload;if(Q==null||h.payload.active===!1||q==null||o==null){n(U_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:oe,y:H}=q,G=Math.min(oe,o.x+o.width),fe=Math.min(H,o.y+o.height),ee={x:a==="horizontal"?Q.coordinate:G,y:a==="horizontal"?fe:Q.coordinate},ae=U_({active:h.payload.active,coordinate:ee,dataKey:h.payload.dataKey,index:String(Q.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(ae)}}};return _p.on(H_,d),()=>{_p.off(H_,d)}},[u,n,t,e,r,i,a,o])}function Uie(){var e=Jt(IS),t=Jt(jS),n=li();R.useEffect(()=>{if(e==null)return C0;var r=(i,a,o)=>{t!==o&&e===i&&n(jie(a))};return _p.on(k8,r),()=>{_p.off(k8,r)}},[n,t,e])}function zie(){var e=li();R.useEffect(()=>{e(Oie())},[e]),Fie(),Uie()}function qie(e,t,n,r,i,a){var o=Jt(y=>Xre(y,e,t)),u=Jt(jS),d=Jt(IS),c=Jt(MR),h=Jt(Tie),g=h==null?void 0:h.active,x=hy();R.useEffect(()=>{if(!g&&d!=null&&u!=null){var y=U_({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:x,graphicalItemId:void 0});_p.emit(H_,d,y,u)}},[g,n,o,i,r,u,d,c,a,x])}function R8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function D8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R8(Object(n),!0).forEach(function(r){Hie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hie(e,t,n){return(t=Gie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gie(e){var t=$ie(e,"string");return typeof t=="symbol"?t:t+""}function $ie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wie(e){return e.dataKey}function Vie(e,t){return R.isValidElement(e)?R.cloneElement(e,t):typeof e=="function"?R.createElement(e,t):R.createElement(jZ,t)}var L8=[],Yie={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function w2(e){var t,n,r=ls(e,Yie),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:u,content:d,filterNull:c,isAnimationActive:h,offset:g,payloadUniqBy:x,position:y,reverseDirection:C,useTranslate3d:E,wrapperStyle:T,cursor:I,shared:D,trigger:F,defaultIndex:U,portal:Z,axisId:Q}=r,Y=li(),J=typeof U=="number"?String(U):U;R.useEffect(()=>{Y(Gne({shared:D,trigger:F,axisId:Q,active:i,defaultIndex:J}))},[Y,D,F,Q,i,J]);var q=hy(),oe=OP(),H=Bne(D),{activeIndex:G,isActive:fe}=(t=Jt(Me=>Qre(Me,H,F,J)))!==null&&t!==void 0?t:{},ee=Jt(Me=>Zre(Me,H,F,J)),ae=Jt(Me=>RD(Me,H,F,J)),ie=Jt(Me=>Kre(Me,H,F,J)),K=ee,ve=_ie(),Te=(n=i??fe)!==null&&n!==void 0?n:!1,[we,ue]=T7([K,Te]),V=H==="axis"?ae:void 0;qie(H,F,ie,V,G,Te);var he=Z??ve;if(he==null||q==null||H==null)return null;var me=K??L8;Te||(me=L8),c&&me.length&&(me=A7(me.filter(Me=>Me.value!=null&&(Me.hide!==!0||r.includeHidden)),x,Wie));var Ce=me.length>0,xe=R.createElement(BZ,{allowEscapeViewBox:a,animationDuration:o,animationEasing:u,isAnimationActive:h,active:Te,coordinate:ie,hasPayload:Ce,offset:g,position:y,reverseDirection:C,useTranslate3d:E,viewBox:q,wrapperStyle:T,lastBoundingBox:we,innerRef:ue,hasPortalFromProps:!!Z},Vie(d,D8(D8({},r),{},{payload:me,label:V,active:Te,activeIndex:G,coordinate:ie,accessibilityLayer:oe})));return R.createElement(R.Fragment,null,w3.createPortal(xe,he),Te&&R.createElement(wie,{cursor:I,tooltipEventType:H,coordinate:ie,payload:me,index:G}))}var L0=e=>null;L0.displayName="Cell";function Xie(e,t,n){return(t=Kie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kie(e){var t=Zie(e,"string");return typeof t=="symbol"?t:t+""}function Zie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Qie{constructor(t){Xie(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function B8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B8(Object(n),!0).forEach(function(r){eae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eae(e,t,n){return(t=tae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tae(e){var t=nae(e,"string");return typeof t=="symbol"?t:t+""}function nae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rae={cacheSize:2e3,enableCache:!0},zD=Jie({},rae),F8=new Qie(zD.cacheSize),iae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},U8="recharts_measurement_span";function aae(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(u)}var z8=(e,t)=>{try{var n=document.getElementById(U8);n||(n=document.createElement("span"),n.setAttribute("id",U8),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,iae,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},V1=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||vy.isSsr)return{width:0,height:0};if(!zD.enableCache)return z8(t,n);var r=aae(t,n),i=F8.get(r);if(i)return i;var a=z8(t,n);return F8.set(r,a),a},qD;function sae(e,t,n){return(t=oae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oae(e){var t=lae(e,"string");return typeof t=="symbol"?t:t+""}function lae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,H8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,uae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fae={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},dae=["cm","mm","pt","pc","in","Q","px"];function hae(e){return dae.includes(e)}var Jh="NaN";function pae(e,t){return e*fae[t]}class ws{static parse(t){var n,[,r,i]=(n=uae.exec(t))!==null&&n!==void 0?n:[];return r==null?ws.NaN:new ws(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Uc(t)&&(this.unit=""),n!==""&&!cae.test(n)&&(this.num=NaN,this.unit=""),hae(n)&&(this.num=pae(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new ws(NaN,""):new ws(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ws(NaN,""):new ws(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ws(NaN,""):new ws(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ws(NaN,""):new ws(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Uc(this.num)}}qD=ws;sae(ws,"NaN",new qD(NaN,""));function HD(e){if(e==null||e.includes(Jh))return Jh;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=q8.exec(t))!==null&&n!==void 0?n:[],o=ws.parse(r??""),u=ws.parse(a??""),d=i==="*"?o.multiply(u):o.divide(u);if(d.isNaN())return Jh;t=t.replace(q8,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,h,g,x]=(c=H8.exec(t))!==null&&c!==void 0?c:[],y=ws.parse(h??""),C=ws.parse(x??""),E=g==="+"?y.add(C):y.subtract(C);if(E.isNaN())return Jh;t=t.replace(H8,E.toString())}return t}var G8=/\(([^()]*)\)/;function mae(e){for(var t=e,n;(n=G8.exec(t))!=null;){var[,r]=n;t=t.replace(G8,HD(r))}return t}function gae(e){var t=e.replace(/\s+/g,"");return t=mae(t),t=HD(t),t}function vae(e){try{return gae(e)}catch{return Jh}}function $w(e){var t=vae(e.slice(5,-1));return t===Jh?"":t}var yae=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],bae=["dx","dy","angle","className","breakAll"];function G_(){return G_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G_.apply(null,arguments)}function $8(e,t){if(e==null)return{};var n,r,i=xae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var GD=/[ \f\n\r\t\v\u2028\u2029]+/,$D=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];os(t)||(n?i=t.toString().split(""):i=t.toString().split(GD));var a=i.map(u=>({word:u,width:V1(u,r).width})),o=n?0:V1("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function wae(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var WD=(e,t,n,r)=>e.reduce((i,a)=>{var{word:o,width:u}=a,d=i[i.length-1];if(d&&u!=null&&(t==null||r||d.width+u+n<Number(t)))d.words.push(o),d.width+=u+n;else{var c={words:[o],width:u};i.push(c)}return i},[]),VD=e=>e.reduce((t,n)=>t.width>n.width?t:n),_ae="",W8=(e,t,n,r,i,a,o,u)=>{var d=e.slice(0,t),c=$D({breakAll:n,style:r,children:d+_ae});if(!c)return[!1,[]];var h=WD(c.wordsWithComputedWidth,a,o,u),g=h.length>i||VD(h).width>Number(a);return[g,h]},Sae=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:u,breakAll:d}=e,c=Yt(a),h=String(o),g=WD(t,r,n,i);if(!c||i)return g;var x=g.length>a||VD(g).width>Number(r);if(!x)return g;for(var y=0,C=h.length-1,E=0,T;y<=C&&E<=h.length-1;){var I=Math.floor((y+C)/2),D=I-1,[F,U]=W8(h,D,d,u,a,r,n,i),[Z]=W8(h,I,d,u,a,r,n,i);if(!F&&!Z&&(y=I+1),F&&Z&&(C=I-1),!F&&Z){T=U;break}E++}return T||g},V8=e=>{var t=os(e)?[]:e.toString().split(GD);return[{words:t,width:void 0}]},Aae=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!vy.isSsr){var u,d,c=$D({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:h,spaceWidth:g}=c;u=h,d=g}else return V8(r);return Sae({breakAll:a,children:r,maxLines:o,style:i},u,d,t,!!n)}return V8(r)},YD="#808080",Eae={angle:0,breakAll:!1,capHeight:"0.71em",fill:YD,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},By=R.forwardRef((e,t)=>{var n=ls(e,Eae),{x:r,y:i,lineHeight:a,capHeight:o,fill:u,scaleToFit:d,textAnchor:c,verticalAnchor:h}=n,g=$8(n,yae),x=R.useMemo(()=>Aae({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),{dx:y,dy:C,angle:E,className:T,breakAll:I}=g,D=$8(g,bae);if(!zc(r)||!zc(i)||x.length===0)return null;var F=Number(r)+(Yt(y)?y:0),U=Number(i)+(Yt(C)?C:0);if(!lr(F)||!lr(U))return null;var Z;switch(h){case"start":Z=$w("calc(".concat(o,")"));break;case"middle":Z=$w("calc(".concat((x.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:Z=$w("calc(".concat(x.length-1," * -").concat(a,")"));break}var Q=[],Y=x[0];if(d&&Y!=null){var J=Y.width,{width:q}=g;Q.push("scale(".concat(Yt(q)&&Yt(J)?q/J:1,")"))}return E&&Q.push("rotate(".concat(E,", ").concat(F,", ").concat(U,")")),Q.length&&(D.transform=Q.join(" ")),R.createElement("text",G_({},_l(D),{ref:t,x:F,y:U,className:Or("recharts-text",T),textAnchor:c,fill:u.includes("url")?YD:u}),x.map((oe,H)=>{var G=oe.words.join(I?"":" ");return R.createElement("tspan",{x:F,dy:H===0?Z:a,key:"".concat(G,"-").concat(H)},G)}))});By.displayName="Text";function Y8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y8(Object(n),!0).forEach(function(r){Cae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cae(e,t,n){return(t=Nae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nae(e){var t=Oae(e,"string");return typeof t=="symbol"?t:t+""}function Oae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tae=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:i}=e,{x:a,y:o,height:u,upperWidth:d,lowerWidth:c}=Q3(t),h=a,g=a+(d-c)/2,x=(h+g)/2,y=(d+c)/2,C=h+d/2,E=u>=0?1:-1,T=E*r,I=E>0?"end":"start",D=E>0?"start":"end",F=d>=0?1:-1,U=F*r,Z=F>0?"end":"start",Q=F>0?"start":"end",Y=i;if(n==="top"){var J={x:h+d/2,y:o-T,horizontalAnchor:"middle",verticalAnchor:I};return Y&&(J.height=Math.max(o-Y.y,0),J.width=d),J}if(n==="bottom"){var q={x:g+c/2,y:o+u+T,horizontalAnchor:"middle",verticalAnchor:D};return Y&&(q.height=Math.max(Y.y+Y.height-(o+u),0),q.width=c),q}if(n==="left"){var oe={x:x-U,y:o+u/2,horizontalAnchor:Z,verticalAnchor:"middle"};return Y&&(oe.width=Math.max(oe.x-Y.x,0),oe.height=u),oe}if(n==="right"){var H={x:x+y+U,y:o+u/2,horizontalAnchor:Q,verticalAnchor:"middle"};return Y&&(H.width=Math.max(Y.x+Y.width-H.x,0),H.height=u),H}var G=Y?{width:y,height:u}:{};return n==="insideLeft"?Nc({x:x+U,y:o+u/2,horizontalAnchor:Q,verticalAnchor:"middle"},G):n==="insideRight"?Nc({x:x+y-U,y:o+u/2,horizontalAnchor:Z,verticalAnchor:"middle"},G):n==="insideTop"?Nc({x:h+d/2,y:o+T,horizontalAnchor:"middle",verticalAnchor:D},G):n==="insideBottom"?Nc({x:g+c/2,y:o+u-T,horizontalAnchor:"middle",verticalAnchor:I},G):n==="insideTopLeft"?Nc({x:h+U,y:o+T,horizontalAnchor:Q,verticalAnchor:D},G):n==="insideTopRight"?Nc({x:h+d-U,y:o+T,horizontalAnchor:Z,verticalAnchor:D},G):n==="insideBottomLeft"?Nc({x:g+U,y:o+u-T,horizontalAnchor:Q,verticalAnchor:I},G):n==="insideBottomRight"?Nc({x:g+c-U,y:o+u-T,horizontalAnchor:Z,verticalAnchor:I},G):n&&typeof n=="object"&&(Yt(n.x)||Md(n.x))&&(Yt(n.y)||Md(n.y))?Nc({x:a+Us(n.x,y),y:o+Us(n.y,u),horizontalAnchor:"end",verticalAnchor:"end"},G):Nc({x:C,y:o+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},G)},Iae=["labelRef"],jae=["content"];function X8(e,t){if(e==null)return{};var n,r,i=kae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function K8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function H1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K8(Object(n),!0).forEach(function(r){Mae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mae(e,t,n){return(t=Pae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pae(e){var t=Rae(e,"string");return typeof t=="symbol"?t:t+""}function Rae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xu.apply(null,arguments)}var XD=R.createContext(null),Dae=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:u}=e,d=R.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[t,n,r,i,a,o]);return R.createElement(XD.Provider,{value:d},u)},KD=()=>{var e=R.useContext(XD),t=hy();return e||(t?Q3(t):void 0)},Lae=R.createContext(null),Bae=()=>{var e=R.useContext(Lae),t=Jt(BR);return e||t},Fae=e=>{var{value:t,formatter:n}=e,r=os(e.children)?t:e.children;return typeof n=="function"?n(r):r},pA=e=>e!=null&&typeof e=="function",Uae=(e,t)=>{var n=ss(t-e),r=Math.min(Math.abs(t-e),360);return n*r},zae=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:u,cy:d,innerRadius:c,outerRadius:h,startAngle:g,endAngle:x,clockWise:y}=i,C=(c+h)/2,E=Uae(g,x),T=E>=0?1:-1,I,D;switch(t){case"insideStart":I=g+T*a,D=y;break;case"insideEnd":I=x-T*a,D=!y;break;case"end":I=x+T*a,D=y;break;default:throw new Error("Unsupported position ".concat(t))}D=E<=0?D:!D;var F=_a(u,d,C,I),U=_a(u,d,C,I+(D?1:-1)*359),Z="M".concat(F.x,",").concat(F.y,`
    A`).concat(C,",").concat(C,",0,1,").concat(D?0:1,`,
    `).concat(U.x,",").concat(U.y),Q=os(e.id)?cp("recharts-radial-line-"):e.id;return R.createElement("text",xu({},r,{dominantBaseline:"central",className:Or("recharts-radial-bar-label",o)}),R.createElement("defs",null,R.createElement("path",{id:Q,d:Z})),R.createElement("textPath",{xlinkHref:"#".concat(Q)},n))},qae=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d}=e,c=(u+d)/2;if(n==="outside"){var{x:h,y:g}=_a(r,i,o+t,c);return{x:h,y:g,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var x=(a+o)/2,{x:y,y:C}=_a(r,i,x,c);return{x:y,y:C,textAnchor:"middle",verticalAnchor:"middle"}},xv=e=>e!=null&&"cx"in e&&Yt(e.cx),Hae={angle:0,offset:5,zIndex:_s.label,position:"middle",textBreakAll:!1};function Gae(e){if(!xv(e))return e;var{cx:t,cy:n,outerRadius:r}=e,i=r*2;return{x:t-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Cf(e){var t=ls(e,Hae),{viewBox:n,parentViewBox:r,position:i,value:a,children:o,content:u,className:d="",textBreakAll:c,labelRef:h}=t,g=Bae(),x=KD(),y=i==="center"?x:g??x,C,E,T;n==null?C=y:xv(n)?C=n:C=Q3(n);var I=Gae(C);if(!C||os(a)&&os(o)&&!R.isValidElement(u)&&typeof u!="function")return null;var D=H1(H1({},t),{},{viewBox:C});if(R.isValidElement(u)){var{labelRef:F}=D,U=X8(D,Iae);return R.cloneElement(u,U)}if(typeof u=="function"){var{content:Z}=D,Q=X8(D,jae);if(E=R.createElement(u,Q),R.isValidElement(E))return E}else E=Fae(t);var Y=_l(t);if(xv(C)){if(i==="insideStart"||i==="insideEnd"||i==="end")return zae(t,i,E,Y,C);T=qae(C,t.offset,t.position)}else{if(!I)return null;var J=Tae({viewBox:I,position:i,offset:t.offset,parentViewBox:xv(r)?void 0:r});T=H1(H1({x:J.x,y:J.y,textAnchor:J.horizontalAnchor,verticalAnchor:J.verticalAnchor},J.width!==void 0?{width:J.width}:{}),J.height!==void 0?{height:J.height}:{})}return R.createElement(oc,{zIndex:t.zIndex},R.createElement(By,xu({ref:h,className:Or("recharts-label",d)},Y,T,{textAnchor:wae(Y.textAnchor)?Y.textAnchor:T.textAnchor,breakAll:c}),E))}Cf.displayName="Label";var $ae=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?R.createElement(Cf,xu({key:"label-implicit"},r)):zc(e)?R.createElement(Cf,xu({key:"label-implicit",value:e},r)):R.isValidElement(e)?e.type===Cf?R.cloneElement(e,H1({key:"label-implicit"},r)):R.createElement(Cf,xu({key:"label-implicit",content:e},r)):pA(e)?R.createElement(Cf,xu({key:"label-implicit",content:e},r)):e&&typeof e=="object"?R.createElement(Cf,xu({},e,{key:"label-implicit"},r)):null};function Wae(e){var{label:t,labelRef:n}=e,r=KD();return $ae(t,r,n)||null}var Ww={},Vw={},Z8;function Vae(){return Z8||(Z8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Vw)),Vw}var Yw={},Q8;function Yae(){return Q8||(Q8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Yw)),Yw}var J8;function Xae(){return J8||(J8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vae(),n=Yae(),r=z3();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(Ww)),Ww}var Xw,eT;function Kae(){return eT||(eT=1,Xw=Xae().last),Xw}var Zae=Kae();const Qae=Gc(Zae);var Jae=["valueAccessor"],ese=["dataKey","clockWise","id","textBreakAll","zIndex"];function _2(){return _2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_2.apply(null,arguments)}function tT(e,t){if(e==null)return{};var n,r,i=tse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nse=e=>Array.isArray(e.value)?Qae(e.value):e.value,ZD=R.createContext(void 0),rse=ZD.Provider,QD=R.createContext(void 0),ise=QD.Provider;function ase(){return R.useContext(ZD)}function sse(){return R.useContext(QD)}function wv(e){var{valueAccessor:t=nse}=e,n=tT(e,Jae),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:u}=n,d=tT(n,ese),c=ase(),h=sse(),g=c||h;return!g||!g.length?null:R.createElement(oc,{zIndex:u??_s.label},R.createElement(no,{className:"recharts-label-list"},g.map((x,y)=>{var C,E=os(r)?t(x,y):bi(x.payload,r),T=os(a)?{}:{id:"".concat(a,"-").concat(y)};return R.createElement(Cf,_2({key:"label-".concat(y)},_l(x),d,T,{fill:(C=n.fill)!==null&&C!==void 0?C:x.fill,parentViewBox:x.parentViewBox,value:E,textBreakAll:o,viewBox:x.viewBox,index:y,zIndex:0}))})))}wv.displayName="LabelList";function JD(e){var{label:t}=e;return t?t===!0?R.createElement(wv,{key:"labelList-implicit"}):R.isValidElement(t)||pA(t)?R.createElement(wv,{key:"labelList-implicit",content:t}):typeof t=="object"?R.createElement(wv,_2({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var eL=e=>e.graphicalItems.polarItems,ose=Ke([Pi,Gp],LS),Fy=Ke([eL,Ji,ose],FS),lse=Ke([Fy],US),Uy=Ke([lse,Cy],zS),cse=Ke([Uy,Ji,Fy],HS);Ke([Uy,Ji,Fy],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,o=bi(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:bi(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var nT=()=>{},use=Ke([Uy,Ji,Fy,Py,Pi],VS),fse=Ke([Ji,$S,WS,nT,use,nT,Tr,Pi],YS),tL=Ke([Ji,Tr,Uy,cse,Hp,Pi,fse],XS),dse=Ke([tL,k0,Hf],QS),hse=Ke([Ji,tL,dse,Pi],eA);Ke([Hf,hse],UR);var pse={radiusAxis:{},angleAxis:{}},nL=jo({name:"polarAxis",initialState:pse,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:hve,removeRadiusAxis:pve,addAngleAxis:mve,removeAngleAxis:gve}=nL.actions,mse=nL.reducer;function rL(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function rT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(n),!0).forEach(function(r){gse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gse(e,t,n){return(t=vse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vse(e){var t=yse(e,"string");return typeof t=="symbol"?t:t+""}function yse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bse=(e,t)=>t,mA=Ke([eL,bse],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),xse=[],gA=(e,t,n)=>(n==null?void 0:n.length)===0?xse:n,iL=Ke([Cy,mA,gA],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>iT(iT({},t.presentationProps),a.props))),i!=null)return i}}),wse=Ke([iL,mA,gA],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,o=bi(r,t.nameKey,t.name),u;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=t.fill,{value:ly(o,t.dataKey),color:u,payload:r,type:t.legendType}})}),_se=Ke([iL,mA,gA,Ua],(e,t,n,r)=>{if(!(t==null||e==null))return Eoe({offset:r,pieSettings:t,displayedData:e,cells:n})}),Kw={exports:{}},Vr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aT;function Sse(){if(aT)return Vr;aT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function C(E){if(typeof E=="object"&&E!==null){var T=E.$$typeof;switch(T){case e:switch(E=E.type,E){case n:case i:case r:case d:case c:case x:return E;default:switch(E=E&&E.$$typeof,E){case o:case u:case g:case h:return E;case a:return E;default:return T}}case t:return T}}}return Vr.ContextConsumer=a,Vr.ContextProvider=o,Vr.Element=e,Vr.ForwardRef=u,Vr.Fragment=n,Vr.Lazy=g,Vr.Memo=h,Vr.Portal=t,Vr.Profiler=i,Vr.StrictMode=r,Vr.Suspense=d,Vr.SuspenseList=c,Vr.isContextConsumer=function(E){return C(E)===a},Vr.isContextProvider=function(E){return C(E)===o},Vr.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},Vr.isForwardRef=function(E){return C(E)===u},Vr.isFragment=function(E){return C(E)===n},Vr.isLazy=function(E){return C(E)===g},Vr.isMemo=function(E){return C(E)===h},Vr.isPortal=function(E){return C(E)===t},Vr.isProfiler=function(E){return C(E)===i},Vr.isStrictMode=function(E){return C(E)===r},Vr.isSuspense=function(E){return C(E)===d},Vr.isSuspenseList=function(E){return C(E)===c},Vr.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===d||E===c||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===h||E.$$typeof===o||E.$$typeof===a||E.$$typeof===u||E.$$typeof===y||E.getModuleId!==void 0)},Vr.typeOf=C,Vr}var sT;function Ase(){return sT||(sT=1,Kw.exports=Sse()),Kw.exports}var Ese=Ase(),oT=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",lT=null,Zw=null,aL=e=>{if(e===lT&&Array.isArray(Zw))return Zw;var t=[];return R.Children.forEach(e,n=>{os(n)||(Ese.isFragment(n)?t=t.concat(aL(n.props.children)):t.push(n))}),Zw=t,lT=e,t};function vA(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>oT(i)):r=[oT(t)],aL(e).forEach(i=>{var a=kd(i,"type.displayName")||kd(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var Qw={},cT;function Cse(){return cT||(cT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Qw)),Qw}var Jw,uT;function Nse(){return uT||(uT=1,Jw=Cse().isPlainObject),Jw}var Ose=Nse();const Tse=Gc(Ose);var fT,dT,hT,pT,mT;function gT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(n),!0).forEach(function(r){Ise(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ise(e,t,n){return(t=jse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jse(e){var t=kse(e,"string");return typeof t=="symbol"?t:t+""}function kse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S2(){return S2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S2.apply(null,arguments)}function I1(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var yT=(e,t,n,r,i)=>{var a=n-r,o;return o=Zi(fT||(fT=I1(["M ",",",""])),e,t),o+=Zi(dT||(dT=I1(["L ",",",""])),e+n,t),o+=Zi(hT||(hT=I1(["L ",",",""])),e+n-a/2,t+i),o+=Zi(pT||(pT=I1(["L ",",",""])),e+n-a/2-r,t+i),o+=Zi(mT||(mT=I1(["L ",","," Z"])),e,t),o},Mse={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Pse=e=>{var t=ls(e,Mse),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:u}=t,{animationEasing:d,animationDuration:c,animationBegin:h,isUpdateAnimationActive:g}=t,x=R.useRef(null),[y,C]=R.useState(-1),E=R.useRef(i),T=R.useRef(a),I=R.useRef(o),D=R.useRef(n),F=R.useRef(r),U=by(e,"trapezoid-");if(R.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var ee=x.current.getTotalLength();ee&&C(ee)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var Z=Or("recharts-trapezoid",u);if(!g)return R.createElement("g",null,R.createElement("path",S2({},_l(t),{className:Z,d:yT(n,r,i,a,o)})));var Q=E.current,Y=T.current,J=I.current,q=D.current,oe=F.current,H="0px ".concat(y===-1?1:y,"px"),G="".concat(y,"px 0px"),fe=TP(["strokeDasharray"],c,d);return R.createElement(yy,{animationId:U,key:U,canBegin:y>0,duration:c,easing:d,isActive:g,begin:h},ee=>{var ae=Ba(Q,i,ee),ie=Ba(Y,a,ee),K=Ba(J,o,ee),ve=Ba(q,n,ee),Te=Ba(oe,r,ee);x.current&&(E.current=ae,T.current=ie,I.current=K,D.current=ve,F.current=Te);var we=ee>0?{transition:fe,strokeDasharray:G}:{strokeDasharray:H};return R.createElement("path",S2({},_l(t),{className:Z,d:yT(ve,Te,ae,ie,K),ref:x,style:vT(vT({},we),t.style)}))})},Rse=["option","shapeType","activeClassName"];function Dse(e,t){if(e==null)return{};var n,r,i=Lse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function A2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(n),!0).forEach(function(r){Bse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bse(e,t,n){return(t=Fse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fse(e){var t=Use(e,"string");return typeof t=="symbol"?t:t+""}function Use(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zse(e,t){return A2(A2({},t),e)}function qse(e,t){return e==="symbols"}function xT(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return R.createElement(MP,n);case"trapezoid":return R.createElement(Pse,n);case"sector":return R.createElement(LP,n);case"symbols":if(qse(t))return R.createElement(U3,n);break;case"curve":return R.createElement(rS,n);default:return null}}function Hse(e){return R.isValidElement(e)?e.props:e}function sL(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=Dse(e,Rse),a;if(R.isValidElement(t))a=R.cloneElement(t,A2(A2({},i),Hse(t)));else if(typeof t=="function")a=t(i,i.index);else if(Tse(t)&&typeof t!="boolean"){var o=zse(t,i);a=R.createElement(xT,{shapeType:n,elementProps:o})}else{var u=i;a=R.createElement(xT,{shapeType:n,elementProps:u})}return i.isActive?R.createElement(no,{className:r},a):a}var yA=(e,t,n)=>{var r=li();return(i,a)=>o=>{e==null||e(i,a,o),r(gD({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},bA=e=>{var t=li();return(n,r)=>i=>{e==null||e(n,r,i),t($ne())}},xA=(e,t,n)=>{var r=li();return(i,a)=>o=>{e==null||e(i,a,o),r(Wne({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function oL(e){var{tooltipEntrySettings:t}=e,n=li(),r=ko(),i=R.useRef(null);return R.useLayoutEffect(()=>{r||(i.current===null?n(zne(t)):i.current!==t&&n(qne({prev:i.current,next:t})),i.current=t)},[t,n,r]),R.useLayoutEffect(()=>()=>{i.current&&(n(Hne(i.current)),i.current=null)},[n]),null}function Gse(e){var{legendPayload:t}=e,n=li(),r=ko(),i=R.useRef(null);return R.useLayoutEffect(()=>{r||(i.current===null?n(AP(t)):i.current!==t&&n(EP({prev:i.current,next:t})),i.current=t)},[n,r,t]),R.useLayoutEffect(()=>()=>{i.current&&(n(CP(i.current)),i.current=null)},[n]),null}function $se(e){var{legendPayload:t}=e,n=li(),r=Jt(Tr),i=R.useRef(null);return R.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(AP(t)):i.current!==t&&n(EP({prev:i.current,next:t})),i.current=t)},[n,r,t]),R.useLayoutEffect(()=>()=>{i.current&&(n(CP(i.current)),i.current=null)},[n]),null}var e5,Wse=()=>{var[e]=R.useState(()=>cp("uid-"));return e},Vse=(e5=MF.useId)!==null&&e5!==void 0?e5:Wse;function Yse(e,t){var n=Vse();return t||(e?"".concat(e,"-").concat(n):n)}var Xse=R.createContext(void 0),lL=e=>{var{id:t,type:n,children:r}=e,i=Yse("recharts-".concat(n),t);return R.createElement(Xse.Provider,{value:i},r(i))},Kse={cartesianItems:[],polarItems:[]},cL=jo({name:"graphicalItems",initialState:Kse,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ci()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ec(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Ci()},removeCartesianGraphicalItem:{reducer(e,t){var n=ec(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Ci()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ci()},removePolarGraphicalItem:{reducer(e,t){var n=ec(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Ci()}}}),{addCartesianGraphicalItem:Zse,replaceCartesianGraphicalItem:Qse,removeCartesianGraphicalItem:Jse,addPolarGraphicalItem:eoe,removePolarGraphicalItem:toe}=cL.actions,noe=cL.reducer,roe=e=>{var t=li(),n=R.useRef(null);return R.useLayoutEffect(()=>{n.current===null?t(Zse(e)):n.current!==e&&t(Qse({prev:n.current,next:e})),n.current=e},[t,e]),R.useLayoutEffect(()=>()=>{n.current&&(t(Jse(n.current)),n.current=null)},[t]),null},ioe=R.memo(roe);function aoe(e){var t=li();return R.useLayoutEffect(()=>(t(eoe(e)),()=>{t(toe(e))}),[t,e]),null}var soe=["key"],ooe=["onMouseEnter","onClick","onMouseLeave"],loe=["id"],coe=["id"];function wT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(n),!0).forEach(function(r){uoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uoe(e,t,n){return(t=foe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function foe(e){var t=doe(e,"string");return typeof t=="symbol"?t:t+""}function doe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rf.apply(null,arguments)}function zy(e,t){if(e==null)return{};var n,r,i=hoe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function poe(e){var t=R.useMemo(()=>vA(e.children,L0),[e.children]),n=Jt(r=>wse(r,e.id,t));return n==null?null:R.createElement($se,{legendPayload:n})}var moe=R.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:o,name:u,hide:d,tooltipType:c,id:h}=e,g={dataDefinedOnItem:r.map(x=>x.tooltipPayload),getPosition:x=>{var y;return(y=r[Number(x)])===null||y===void 0?void 0:y.tooltipPosition},settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:n,name:ly(u,t),hide:d,type:c,color:o,unit:"",graphicalItemId:h}};return R.createElement(oL,{tooltipEntrySettings:g})}),goe=(e,t)=>e>t?"start":e<t?"end":"middle",voe=(e,t,n)=>Us(typeof t=="function"?t(e):t,n,n*.8),yoe=(e,t,n)=>{var{top:r,left:i,width:a,height:o}=t,u=PP(a,o),d=i+Us(e.cx,a,a/2),c=r+Us(e.cy,o,o/2),h=Us(e.innerRadius,u,0),g=voe(n,e.outerRadius,u),x=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:d,cy:c,innerRadius:h,outerRadius:g,maxRadius:x}},boe=(e,t)=>{var n=ss(t-e),r=Math.min(Math.abs(t-e),360);return n*r},xoe=(e,t)=>{if(R.isValidElement(e))return R.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Or("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=zy(t,soe);return R.createElement(rS,Rf({},i,{type:"linear",className:n}))},woe=(e,t,n)=>{if(R.isValidElement(e))return R.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),R.isValidElement(r)))return r;var i=Or("recharts-pie-label-text",rL(e));return R.createElement(By,Rf({},t,{alignmentBaseline:"middle",className:i}),r)};function _oe(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:o}=n;if(!r||!i||!t)return null;var u=nc(n),d=lp(i),c=lp(a),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=t.map((x,y)=>{var C=(x.startAngle+x.endAngle)/2,E=_a(x.cx,x.cy,x.outerRadius+h,C),T=Qi(Qi(Qi(Qi({},u),x),{},{stroke:"none"},d),{},{index:y,textAnchor:goe(E.x,x.cx)},E),I=Qi(Qi(Qi(Qi({},u),x),{},{fill:"none",stroke:x.fill},c),{},{index:y,points:[_a(x.cx,x.cy,x.outerRadius,C),E],key:"line"});return R.createElement(oc,{zIndex:_s.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(y)},R.createElement(no,null,a&&xoe(a,I),woe(i,T,bi(x,o))))});return R.createElement(no,{className:"recharts-pie-labels"},g)}function Soe(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?R.createElement(JD,{label:i}):R.createElement(_oe,{sectors:t,props:n,showLabels:r})}function Aoe(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:o}=e,u=Jt(Bd),d=Jt(cA),c=Jt(jre),{onMouseEnter:h,onClick:g,onMouseLeave:x}=i,y=zy(i,ooe),C=yA(h,i.dataKey,o),E=bA(x),T=xA(g,i.dataKey,o);return t==null||t.length===0?null:R.createElement(R.Fragment,null,t.map((I,D)=>{if((I==null?void 0:I.startAngle)===0&&(I==null?void 0:I.endAngle)===0&&t.length!==1)return null;var F=c==null||c===o,U=String(D)===u&&(d==null||i.dataKey===d)&&F,Z=u?r:null,Q=n&&U?n:Z,Y=Qi(Qi({},I),{},{stroke:I.stroke,tabIndex:-1,[cP]:D,[uP]:o});return R.createElement(no,Rf({key:"sector-".concat(I==null?void 0:I.startAngle,"-").concat(I==null?void 0:I.endAngle,"-").concat(I.midAngle,"-").concat(D),tabIndex:-1,className:"recharts-pie-sector"},Mp(y,I,D),{onMouseEnter:C(I,D),onMouseLeave:E(I,D),onClick:T(I,D)}),R.createElement(sL,Rf({option:a??Q,index:D,shapeType:"sector",isActive:U},Y)))}))}function Eoe(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:o,startAngle:u,endAngle:d,dataKey:c,nameKey:h,tooltipType:g}=n,x=Math.abs(n.minAngle),y=boe(u,d),C=Math.abs(y),E=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,T=r.filter(Q=>bi(Q,c,0)!==0).length,I=(C>=360?T:T-1)*E,D=C-T*x-I,F=r.reduce((Q,Y)=>{var J=bi(Y,c,0);return Q+(Yt(J)?J:0)},0),U;if(F>0){var Z;U=r.map((Q,Y)=>{var J=bi(Q,c,0),q=bi(Q,h,Y),oe=yoe(n,a,Q),H=(Yt(J)?J:0)/F,G,fe=Qi(Qi({},Q),i&&i[Y]&&i[Y].props);Y?G=Z.endAngle+ss(y)*E*(J!==0?1:0):G=u;var ee=G+ss(y)*((J!==0?x:0)+H*D),ae=(G+ee)/2,ie=(oe.innerRadius+oe.outerRadius)/2,K=[{name:q,value:J,payload:fe,dataKey:c,type:g,graphicalItemId:n.id}],ve=_a(oe.cx,oe.cy,ie,ae);return Z=Qi(Qi(Qi(Qi({},n.presentationProps),{},{percent:H,cornerRadius:typeof o=="string"?parseFloat(o):o,name:q,tooltipPayload:K,midAngle:ae,middleRadius:ie,tooltipPosition:ve},fe),oe),{},{value:J,dataKey:c,startAngle:G,endAngle:ee,payload:fe,paddingAngle:ss(y)*E}),Z})}return U}function Coe(e){var{showLabels:t,sectors:n,children:r}=e,i=R.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return R.createElement(ise,{value:t?i:void 0},r)}function Noe(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:o,animationDuration:u,animationEasing:d,activeShape:c,inactiveShape:h,onAnimationStart:g,onAnimationEnd:x}=t,y=by(t,"recharts-pie-"),C=n.current,[E,T]=R.useState(!1),I=R.useCallback(()=>{typeof x=="function"&&x(),T(!1)},[x]),D=R.useCallback(()=>{typeof g=="function"&&g(),T(!0)},[g]);return R.createElement(Coe,{showLabels:!E,sectors:i},R.createElement(yy,{animationId:y,begin:o,duration:u,isActive:a,easing:d,onAnimationStart:D,onAnimationEnd:I,key:y},F=>{var U,Z=[],Q=i&&i[0],Y=(U=Q==null?void 0:Q.startAngle)!==null&&U!==void 0?U:0;return i==null||i.forEach((J,q)=>{var oe=C&&C[q],H=q>0?kd(J,"paddingAngle",0):0;if(oe){var G=Ba(oe.endAngle-oe.startAngle,J.endAngle-J.startAngle,F),fe=Qi(Qi({},J),{},{startAngle:Y+H,endAngle:Y+G+H});Z.push(fe),Y=fe.endAngle}else{var{endAngle:ee,startAngle:ae}=J,ie=Ba(0,ee-ae,F),K=Qi(Qi({},J),{},{startAngle:Y+H,endAngle:Y+ie+H});Z.push(K),Y=K.endAngle}}),n.current=Z,R.createElement(no,null,R.createElement(Aoe,{sectors:Z,activeShape:c,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:r}))}),R.createElement(Soe,{showLabels:!E,sectors:i,props:t}),t.children)}var Ooe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:_s.area};function Toe(e){var{id:t}=e,n=zy(e,loe),{hide:r,className:i,rootTabIndex:a}=e,o=R.useMemo(()=>vA(e.children,L0),[e.children]),u=Jt(h=>_se(h,t,o)),d=R.useRef(null),c=Or("recharts-pie",i);return r||u==null?(d.current=null,R.createElement(no,{tabIndex:a,className:c})):R.createElement(oc,{zIndex:e.zIndex},R.createElement(moe,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),R.createElement(no,{tabIndex:a,className:c},R.createElement(Noe,{props:Qi(Qi({},n),{},{sectors:u}),previousSectorsRef:d,id:t})))}function wA(e){var t=ls(e,Ooe),{id:n}=t,r=zy(t,coe),i=nc(r);return R.createElement(lL,{id:n,type:"pie"},a=>R.createElement(R.Fragment,null,R.createElement(aoe,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),R.createElement(poe,Rf({},r,{id:a})),R.createElement(Toe,Rf({},r,{id:a}))))}wA.displayName="Pie";function _T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ST(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(n),!0).forEach(function(r){Ioe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_T(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ioe(e,t,n){return(t=joe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function joe(e){var t=koe(e,"string");return typeof t=="symbol"?t:t+""}function koe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uL=0,Moe={xAxis:{},yAxis:{},zAxis:{}},fL=jo({name:"cartesianAxis",initialState:Moe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ci()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Ci()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ci()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ci()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Ci()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ci()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ci()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Ci()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ci()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a,o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-((a=o[0])!==null&&a!==void 0?a:0))<=1)return;var u=[...o,r].slice(-3);e.yAxis[n]=ST(ST({},i),{},{width:r,widthHistory:u})}}}}),{addXAxis:Poe,replaceXAxis:Roe,removeXAxis:Doe,addYAxis:Loe,replaceYAxis:Boe,removeYAxis:Foe,addZAxis:vve,replaceZAxis:yve,removeZAxis:bve,updateYAxisWidth:Uoe}=fL.actions,zoe=fL.reducer,qoe=Ke([Ua],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Hoe=Ke([qoe,Bu,Fu],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),dL=()=>Jt(Hoe),AT=(e,t,n)=>{var r=n??e;if(!os(r))return Us(r,t,0)},Goe=(e,t,n)=>{var r={},i=e.filter(Iy),a=e.filter(c=>c.stackId==null),o=i.reduce((c,h)=>{var g=c[h.stackId];return g==null&&(g=[]),g.push(h),c[h.stackId]=g,c},r),u=Object.entries(o).map(c=>{var h,[g,x]=c,y=x.map(E=>E.dataKey),C=AT(t,n,(h=x[0])===null||h===void 0?void 0:h.barSize);return{stackId:g,dataKeys:y,barSize:C}}),d=a.map(c=>{var h=[c.dataKey].filter(x=>x!=null),g=AT(t,n,c.barSize);return{stackId:void 0,dataKeys:h,barSize:g}});return[...u,...d]};function ET(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(n),!0).forEach(function(r){$oe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $oe(e,t,n){return(t=Woe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Woe(e){var t=Voe(e,"string");return typeof t=="symbol"?t:t+""}function Voe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yoe(e,t,n,r,i){var a,o=r.length;if(!(o<1)){var u=Us(e,n,0,!0),d,c=[];if(lr((a=r[0])===null||a===void 0?void 0:a.barSize)){var h=!1,g=n/o,x=r.reduce((D,F)=>D+(F.barSize||0),0);x+=(o-1)*u,x>=n&&(x-=(o-1)*u,u=0),x>=n&&g>0&&(h=!0,g*=.9,x=o*g);var y=(n-x)/2>>0,C={offset:y-u,size:0};d=r.reduce((D,F)=>{var U,Z={stackId:F.stackId,dataKeys:F.dataKeys,position:{offset:C.offset+C.size+u,size:h?g:(U=F.barSize)!==null&&U!==void 0?U:0}},Q=[...D,Z];return C=Z.position,Q},c)}else{var E=Us(t,n,0,!0);n-2*E-(o-1)*u<=0&&(u=0);var T=(n-2*E-(o-1)*u)/o;T>1&&(T>>=0);var I=lr(i)?Math.min(T,i):T;d=r.reduce((D,F,U)=>[...D,{stackId:F.stackId,dataKeys:F.dataKeys,position:{offset:E+(T+u)*U+(T-I)/2,size:I}}],c)}return d}}var Xoe=(e,t,n,r,i,a,o)=>{var u=os(o)?t:o,d=Yoe(n,r,i!==a?i:a,e,u);return i!==a&&d!=null&&(d=d.map(c=>vg(vg({},c),{},{position:vg(vg({},c.position),{},{offset:c.position.offset-i/2})}))),d},Koe=(e,t)=>{var n=RS(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===n)}}}},Zoe=(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}};function Qoe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&lr(e.zIndex)?e.zIndex:t}var hL=e=>{var{chartData:t}=e,n=li(),r=ko();return R.useEffect(()=>r?()=>{}:(n(M8(t)),()=>{n(M8(void 0))}),[t,n,r]),null},CT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},pL=jo({name:"brush",initialState:CT,reducers:{setBrushSettings(e,t){return t.payload==null?CT:t.payload}}}),{setBrushSettings:xve}=pL.actions,Joe=pL.reducer;function ele(e){return(e%180+180)%180}var tle=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=ele(i),o=a*Math.PI/180,u=Math.atan(r/n),d=o>u&&o<Math.PI-u?r/Math.sin(o):n/Math.cos(o);return Math.abs(d)},nle={dots:[],areas:[],lines:[]},mL=jo({name:"referenceElements",initialState:nle,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=ec(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=ec(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=ec(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:wve,removeDot:_ve,addArea:Sve,removeArea:Ave,addLine:Eve,removeLine:Cve}=mL.actions,rle=mL.reducer,ile=R.createContext(void 0),ale=e=>{var{children:t}=e,[n]=R.useState("".concat(cp("recharts"),"-clip")),r=dL();if(r==null)return null;var{x:i,y:a,width:o,height:u}=r;return R.createElement(ile.Provider,{value:n},R.createElement("defs",null,R.createElement("clipPath",{id:n},R.createElement("rect",{x:i,y:a,height:u,width:o}))),t)};function gL(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function sle(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return tle(r,n)}function ole(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:u}=e;return t===1?{start:r?i:a,end:r?i+o:a+u}:{start:r?i+o:a+u,end:r?i:a}}function Sp(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function lle(e,t){return gL(e,t+1)}function cle(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:u}=t,d=0,c=1,h=o,g=function(){var C=r==null?void 0:r[d];if(C===void 0)return{v:gL(r,c)};var E=d,T,I=()=>(T===void 0&&(T=n(C,E)),T),D=C.coordinate,F=d===0||Sp(e,D,I,h,u);F||(d=0,h=o,c+=1),F&&(h=D+e*(I()/2+i),d+=c)},x;c<=a.length;)if(x=g(),x)return x.v;return[]}function ule(e,t,n,r,i){var a=(r||[]).slice(),o=a.length;if(o===0)return[];for(var{start:u,end:d}=t,c=1;c<=o;c++){for(var h=(o-1)%c,g=u,x=!0,y=function(){var U=r[E];if(U==null)return 0;var Z=E,Q,Y=()=>(Q===void 0&&(Q=n(U,Z)),Q),J=U.coordinate,q=E===h||Sp(e,J,Y,g,d);if(!q)return x=!1,1;q&&(g=J+e*(Y()/2+i))},C,E=h;E<o&&(C=y(),!(C!==0&&C===1));E+=c);if(x){for(var T=[],I=h;I<o;I+=c){var D=r[I];D!=null&&T.push(D)}return T}}return[]}function NT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(n),!0).forEach(function(r){fle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fle(e,t,n){return(t=dle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dle(e){var t=hle(e,"string");return typeof t=="symbol"?t:t+""}function hle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ple(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:u}=t,{end:d}=t,c=function(x){var y=a[x];if(y==null)return 1;var C=y,E,T=()=>(E===void 0&&(E=n(y,x)),E);if(x===o-1){var I=e*(C.coordinate+e*T()/2-d);a[x]=C=Bs(Bs({},C),{},{tickCoord:I>0?C.coordinate-I*e:C.coordinate})}else a[x]=C=Bs(Bs({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var D=Sp(e,C.tickCoord,T,u,d);D&&(d=C.tickCoord-e*(T()/2+i),a[x]=Bs(Bs({},C),{},{isShow:!0}))}},h=o-1;h>=0;h--)c(h);return a}function mle(e,t,n,r,i,a){var o=(r||[]).slice(),u=o.length,{start:d,end:c}=t;if(a){var h=r[u-1];if(h!=null){var g=n(h,u-1),x=e*(h.coordinate+e*g/2-c);if(o[u-1]=h=Bs(Bs({},h),{},{tickCoord:x>0?h.coordinate-x*e:h.coordinate}),h.tickCoord!=null){var y=Sp(e,h.tickCoord,()=>g,d,c);y&&(c=h.tickCoord-e*(g/2+i),o[u-1]=Bs(Bs({},h),{},{isShow:!0}))}}}for(var C=a?u-1:u,E=function(D){var F=o[D];if(F==null)return 1;var U=F,Z,Q=()=>(Z===void 0&&(Z=n(F,D)),Z);if(D===0){var Y=e*(U.coordinate-e*Q()/2-d);o[D]=U=Bs(Bs({},U),{},{tickCoord:Y<0?U.coordinate-Y*e:U.coordinate})}else o[D]=U=Bs(Bs({},U),{},{tickCoord:U.coordinate});if(U.tickCoord!=null){var J=Sp(e,U.tickCoord,Q,d,c);J&&(d=U.tickCoord+e*(Q()/2+i),o[D]=Bs(Bs({},U),{},{isShow:!0}))}},T=0;T<C;T++)E(T);return o}function _A(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:u,interval:d,tickFormatter:c,unit:h,angle:g}=e;if(!i||!i.length||!r)return[];if(Yt(d)||vy.isSsr){var x;return(x=lle(i,Yt(d)?d:0))!==null&&x!==void 0?x:[]}var y=[],C=u==="top"||u==="bottom"?"width":"height",E=h&&C==="width"?V1(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},T=(Z,Q)=>{var Y=typeof c=="function"?c(Z.value,Q):Z.value;return C==="width"?sle(V1(Y,{fontSize:t,letterSpacing:n}),E,g):V1(Y,{fontSize:t,letterSpacing:n})[C]},I=i[0],D=i[1],F=i.length>=2&&I!=null&&D!=null?ss(D.coordinate-I.coordinate):1,U=ole(a,F,C);return d==="equidistantPreserveStart"?cle(F,U,T,i,o):d==="equidistantPreserveEnd"?ule(F,U,T,i,o):(d==="preserveStart"||d==="preserveStartEnd"?y=mle(F,U,T,i,o,d==="preserveStartEnd"):y=ple(F,U,T,i,o),y.filter(Z=>Z.isShow))}var gle=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(h=>{if(h){var g=h.getBoundingClientRect();g.width>o&&(o=g.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+a,c=o+d+u+(n?r:0);return Math.round(c)}return 0},vle=["axisLine","width","height","className","hide","ticks","axisType"];function yle(e,t){if(e==null)return{};var n,r,i=ble(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ble(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fd.apply(null,arguments)}function OT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ki(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(n),!0).forEach(function(r){xle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xle(e,t,n){return(t=wle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wle(e){var t=_le(e,"string");return typeof t=="symbol"?t:t+""}function _le(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cu={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:_s.axis};function Sle(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var c=Ki(Ki(Ki({},d),nc(u)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!o||a==="bottom"&&o);c=Ki(Ki({},c),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var g=+(a==="left"&&!o||a==="right"&&o);c=Ki(Ki({},c),{},{x1:t+g*r,y1:n,x2:t+g*r,y2:n+i})}return R.createElement("line",Fd({},c,{className:Or("recharts-cartesian-axis-line",kd(u,"className"))}))}function Ale(e,t,n,r,i,a,o,u,d){var c,h,g,x,y,C,E=u?-1:1,T=e.tickSize||o,I=Yt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=h=e.coordinate,x=n+ +!u*i,g=x-E*T,C=g-E*d,y=I;break;case"left":g=x=e.coordinate,h=t+ +!u*r,c=h-E*T,y=c-E*d,C=I;break;case"right":g=x=e.coordinate,h=t+ +u*r,c=h+E*T,y=c+E*d,C=I;break;default:c=h=e.coordinate,x=n+ +u*i,g=x+E*T,C=g+E*d,y=I;break}return{line:{x1:c,y1:g,x2:h,y2:x},tick:{x:y,y:C}}}function Ele(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Cle(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Nle(e){var{option:t,tickProps:n,value:r}=e,i,a=Or(n.className,"recharts-cartesian-axis-tick-value");if(R.isValidElement(t))i=R.cloneElement(t,Ki(Ki({},n),{},{className:a}));else if(typeof t=="function")i=t(Ki(Ki({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Or(o,rL(t))),i=R.createElement(By,Fd({},n,{className:o}),r)}return i}var Ole=R.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:u,padding:d,tickTextProps:c,orientation:h,mirror:g,x,y,width:C,height:E,tickSize:T,tickMargin:I,fontSize:D,letterSpacing:F,getTicksConfig:U,events:Z,axisType:Q}=e,Y=_A(Ki(Ki({},U),{},{ticks:n}),D,F),J=Ele(h,g),q=Cle(h,g),oe=nc(U),H=lp(r),G={};typeof i=="object"&&(G=i);var fe=Ki(Ki({},oe),{},{fill:"none"},G),ee=Y.map(K=>Ki({entry:K},Ale(K,x,y,C,E,h,T,g,I))),ae=ee.map(K=>{var{entry:ve,line:Te}=K;return R.createElement(no,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ve.value,"-").concat(ve.coordinate,"-").concat(ve.tickCoord)},i&&R.createElement("line",Fd({},fe,Te,{className:Or("recharts-cartesian-axis-tick-line",kd(i,"className"))})))}),ie=ee.map((K,ve)=>{var Te,we,{entry:ue,tick:V}=K,he=Ki(Ki(Ki(Ki({verticalAnchor:q},oe),{},{textAnchor:J,stroke:"none",fill:a},V),{},{index:ve,payload:ue,visibleTicksCount:Y.length,tickFormatter:o,padding:d},c),{},{angle:(Te=(we=c==null?void 0:c.angle)!==null&&we!==void 0?we:oe.angle)!==null&&Te!==void 0?Te:0}),me=Ki(Ki({},he),H);return R.createElement(no,Fd({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},Mp(Z,ue,ve)),r&&R.createElement(Nle,{option:r,tickProps:me,value:"".concat(typeof o=="function"?o(ue.value,ve):ue.value).concat(u||"")}))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(Q,"-ticks")},ie.length>0&&R.createElement(oc,{zIndex:_s.label},R.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(Q,"-tick-labels"),ref:t},ie)),ae.length>0&&R.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(Q,"-tick-lines")},ae))}),Tle=R.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:u,axisType:d}=e,c=yle(e,vle),[h,g]=R.useState(""),[x,y]=R.useState(""),C=R.useRef(null);R.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var T;return gle({ticks:C.current,label:(T=e.labelRef)===null||T===void 0?void 0:T.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var E=R.useCallback(T=>{if(T){var I=T.getElementsByClassName("recharts-cartesian-axis-tick-value");C.current=I;var D=I[0];if(D){var F=window.getComputedStyle(D),U=F.fontSize,Z=F.letterSpacing;(U!==h||Z!==x)&&(g(U),y(Z))}}},[h,x]);return o||r!=null&&r<=0||i!=null&&i<=0?null:R.createElement(oc,{zIndex:e.zIndex},R.createElement(no,{className:Or("recharts-cartesian-axis",a)},R.createElement(Sle,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:nc(e)}),R.createElement(Ole,{ref:E,axisType:d,events:c,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:x,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),R.createElement(Dae,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},R.createElement(Wae,{label:e.label,labelRef:e.labelRef}),e.children)))}),SA=R.forwardRef((e,t)=>{var n=ls(e,Cu);return R.createElement(Tle,Fd({},n,{ref:t}))});SA.displayName="CartesianAxis";var Ile=["x1","y1","x2","y2","key"],jle=["offset"],kle=["xAxisId","yAxisId"],Mle=["xAxisId","yAxisId"];function TT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(n),!0).forEach(function(r){Ple(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ple(e,t,n){return(t=Rle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rle(e){var t=Dle(e,"string");return typeof t=="symbol"?t:t+""}function Dle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ad(){return Ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ad.apply(null,arguments)}function E2(e,t){if(e==null)return{};var n,r,i=Lle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ble=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:u}=e;return R.createElement("rect",{x:r,y:i,ry:u,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function vL(e){var{option:t,lineItemProps:n}=e,r;if(R.isValidElement(t))r=R.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:o,x2:u,y2:d,key:c}=n,h=E2(n,Ile),g=(i=nc(h))!==null&&i!==void 0?i:{},{offset:x}=g,y=E2(g,jle);r=R.createElement("line",Ad({},y,{x1:a,y1:o,x2:u,y2:d,fill:"none",key:c}))}return r}function Fle(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,u=E2(e,kle),d=i.map((c,h)=>{var g=Fs(Fs({},u),{},{x1:t,y1:c,x2:t+n,y2:c,key:"line-".concat(h),index:h});return R.createElement(vL,{key:"line-".concat(h),option:r,lineItemProps:g})});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Ule(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,u=E2(e,Mle),d=i.map((c,h)=>{var g=Fs(Fs({},u),{},{x1:c,y1:t,x2:c,y2:t+n,key:"line-".concat(h),index:h});return R.createElement(vL,{option:r,lineItemProps:g,key:"line-".concat(h)})});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function zle(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length||u==null)return null;var c=u.map(g=>Math.round(g+i-i)).sort((g,x)=>g-x);i!==c[0]&&c.unshift(0);var h=c.map((g,x)=>{var y=c[x+1],C=y==null,E=C?i+o-g:y-g;if(E<=0)return null;var T=x%t.length;return R.createElement("rect",{key:"react-".concat(x),y:g,x:r,height:E,width:a,stroke:"none",fill:t[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function qle(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:u,verticalPoints:d}=e;if(!t||!n||!n.length)return null;var c=d.map(g=>Math.round(g+i-i)).sort((g,x)=>g-x);i!==c[0]&&c.unshift(0);var h=c.map((g,x)=>{var y=c[x+1],C=y==null,E=C?i+o-g:y-g;if(E<=0)return null;var T=x%n.length;return R.createElement("rect",{key:"react-".concat(x),x:g,y:a,width:E,height:u,stroke:"none",fill:n[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Hle=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return sP(_A(Fs(Fs(Fs({},Cu),n),{},{ticks:oP(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Gle=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return sP(_A(Fs(Fs(Fs({},Cu),n),{},{ticks:oP(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},$le={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:_s.grid};function AA(e){var t=J3(),n=eS(),r=pP(),i=Fs(Fs({},ls(e,$le)),{},{x:Yt(e.x)?e.x:r.left,y:Yt(e.y)?e.y:r.top,width:Yt(e.width)?e.width:r.width,height:Yt(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:u,y:d,width:c,height:h,syncWithTicks:g,horizontalValues:x,verticalValues:y}=i,C=ko(),E=Jt(q=>w8(q,"xAxis",a,C)),T=Jt(q=>w8(q,"yAxis",o,C));if(!qc(c)||!qc(h)||!Yt(u)||!Yt(d))return null;var I=i.verticalCoordinatesGenerator||Hle,D=i.horizontalCoordinatesGenerator||Gle,{horizontalPoints:F,verticalPoints:U}=i;if((!F||!F.length)&&typeof D=="function"){var Z=x&&x.length,Q=D({yAxis:T?Fs(Fs({},T),{},{ticks:Z?x:T.ticks}):void 0,width:t??c,height:n??h,offset:r},Z?!0:g);Kv(Array.isArray(Q),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Q,"]")),Array.isArray(Q)&&(F=Q)}if((!U||!U.length)&&typeof I=="function"){var Y=y&&y.length,J=I({xAxis:E?Fs(Fs({},E),{},{ticks:Y?y:E.ticks}):void 0,width:t??c,height:n??h,offset:r},Y?!0:g);Kv(Array.isArray(J),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof J,"]")),Array.isArray(J)&&(U=J)}return R.createElement(oc,{zIndex:i.zIndex},R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(Ble,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),R.createElement(zle,Ad({},i,{horizontalPoints:F})),R.createElement(qle,Ad({},i,{verticalPoints:U})),R.createElement(Fle,Ad({},i,{offset:r,horizontalPoints:F,xAxis:E,yAxis:T})),R.createElement(Ule,Ad({},i,{offset:r,verticalPoints:U,xAxis:E,yAxis:T}))))}AA.displayName="CartesianGrid";var Wle={},yL=jo({name:"errorBars",initialState:Wle,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Nve,replaceErrorBar:Ove,removeErrorBar:Tve}=yL.actions,Vle=yL.reducer,Yle=["children"];function Xle(e,t){if(e==null)return{};var n,r,i=Kle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Zle={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Qle=R.createContext(Zle);function Jle(e){var{children:t}=e,n=Xle(e,Yle);return R.createElement(Qle.Provider,{value:n},t)}function bL(e,t){var n,r,i=Jt(c=>qu(c,e)),a=Jt(c=>Hu(c,t)),o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ns.allowDataOverflow,u=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:rs.allowDataOverflow,d=o||u;return{needClip:d,needClipX:o,needClipY:u}}function ece(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=dL(),{needClipX:a,needClipY:o,needClip:u}=bL(t,n);if(!u||!i)return null;var{x:d,y:c,width:h,height:g}=i;return R.createElement("clipPath",{id:"clipPath-".concat(r)},R.createElement("rect",{x:a?d:d-h/2,y:o?c:c-g/2,width:a?h:h*2,height:o?g:g*2}))}var t5={exports:{}},n5={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT;function tce(){if(IT)return n5;IT=1;var e=x0();function t(d,c){return d===c&&(d!==0||1/d===1/c)||d!==d&&c!==c}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,u=e.useDebugValue;return n5.useSyncExternalStoreWithSelector=function(d,c,h,g,x){var y=i(null);if(y.current===null){var C={hasValue:!1,value:null};y.current=C}else C=y.current;y=o(function(){function T(Z){if(!I){if(I=!0,D=Z,Z=g(Z),x!==void 0&&C.hasValue){var Q=C.value;if(x(Q,Z))return F=Q}return F=Z}if(Q=F,n(D,Z))return Q;var Y=g(Z);return x!==void 0&&x(Q,Y)?(D=Z,Q):(D=Z,F=Y)}var I=!1,D,F,U=h===void 0?null:h;return[function(){return T(c())},U===null?void 0:function(){return T(U())}]},[c,h,g,x]);var E=r(d,y[0],y[1]);return a(function(){C.hasValue=!0,C.value=E},[E]),u(E),E},n5}var jT;function nce(){return jT||(jT=1,t5.exports=tce()),t5.exports}nce();function rce(e){e()}function ice(){let e=null,t=null;return{clear(){e=null,t=null},notify(){rce(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var kT={notify(){},get:()=>[]};function ace(e,t){let n,r=kT,i=0,a=!1;function o(E){h();const T=r.subscribe(E);let I=!1;return()=>{I||(I=!0,T(),g())}}function u(){r.notify()}function d(){C.onStateChange&&C.onStateChange()}function c(){return a}function h(){i++,n||(n=e.subscribe(d),r=ice())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=kT)}function x(){a||(a=!0,h())}function y(){a&&(a=!1,g())}const C={addNestedSub:o,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:c,trySubscribe:x,tryUnsubscribe:y,getListeners:()=>r};return C}var sce=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oce=sce(),lce=()=>typeof navigator<"u"&&navigator.product==="ReactNative",cce=lce(),uce=()=>oce||cce?R.useLayoutEffect:R.useEffect,fce=uce();function MT(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function dce(e,t){if(MT(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!MT(e[n[i]],t[n[i]]))return!1;return!0}var r5=Symbol.for("react-redux-context"),i5=typeof globalThis<"u"?globalThis:{};function hce(){if(!R.createContext)return{};const e=i5[r5]??(i5[r5]=new Map);let t=e.get(R.createContext);return t||(t=R.createContext(null),e.set(R.createContext,t)),t}var pce=hce();function mce(e){const{children:t,context:n,serverState:r,store:i}=e,a=R.useMemo(()=>{const d=ace(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),o=R.useMemo(()=>i.getState(),[i]);fce(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,o]);const u=n||pce;return R.createElement(u.Provider,{value:a},t)}var gce=mce,vce=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function yce(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function EA(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(vce.has(r)){if(e[r]==null&&t[r]==null)continue;if(!dce(e[r],t[r]))return!1}else if(!yce(e[r],t[r]))return!1;return!0}function Wd(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:uL}function Vd(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:uL}var bce="Invariant failed";function xce(e,t){throw new Error(bce)}function $_(){return $_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$_.apply(null,arguments)}function C2(e){return R.createElement(sL,$_({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var wce=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Yt(t))return t;var a=Yt(r)||os(r);return a?t(r,i):(a||xce(),n)}},_ce=(e,t,n)=>n,Sce=(e,t)=>t,Kp=Ke([BS,Sce],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),Ace=Ke([Kp],e=>e==null?void 0:e.maxBarSize),Ece=(e,t,n,r)=>r,Cce=Ke([Tr,BS,Wd,Vd,_ce],(e,t,n,r,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Nce=(e,t,n)=>{var r=Tr(e),i=Wd(e,t),a=Vd(e,t);if(!(i==null||a==null))return r==="horizontal"?F_(e,"yAxis",a,n):F_(e,"xAxis",i,n)},Oce=(e,t)=>{var n=Tr(e),r=Wd(e,t),i=Vd(e,t);if(!(r==null||i==null))return n==="horizontal"?x8(e,"xAxis",r):x8(e,"yAxis",i)},Tce=Ke([Cce,jte,Oce],Goe),Ice=(e,t,n)=>{var r,i,a=Kp(e,t);if(a==null)return 0;var o=Wd(e,t),u=Vd(e,t);if(o==null||u==null)return 0;var d=Tr(e),c=IR(e),{maxBarSize:h}=a,g=os(h)?c:h,x,y;return d==="horizontal"?(x=b0(e,"xAxis",o,n),y=y0(e,"xAxis",o,n)):(x=b0(e,"yAxis",u,n),y=y0(e,"yAxis",u,n)),(r=(i=Xv(x,y,!0))!==null&&i!==void 0?i:g)!==null&&r!==void 0?r:0},xL=(e,t,n)=>{var r=Tr(e),i=Wd(e,t),a=Vd(e,t);if(!(i==null||a==null)){var o,u;return r==="horizontal"?(o=b0(e,"xAxis",i,n),u=y0(e,"xAxis",i,n)):(o=b0(e,"yAxis",a,n),u=y0(e,"yAxis",a,n)),Xv(o,u)}},jce=Ke([Tce,IR,Ite,jR,Ice,xL,Ace],Xoe),kce=(e,t,n)=>{var r=Wd(e,t);if(r!=null)return b0(e,"xAxis",r,n)},Mce=(e,t,n)=>{var r=Vd(e,t);if(r!=null)return b0(e,"yAxis",r,n)},Pce=(e,t,n)=>{var r=Wd(e,t);if(r!=null)return y0(e,"xAxis",r,n)},Rce=(e,t,n)=>{var r=Vd(e,t);if(r!=null)return y0(e,"yAxis",r,n)},Dce=Ke([jce,Kp],Zoe),Lce=Ke([Nce,Kp],Koe),Bce=Ke([Ua,K3,kce,Mce,Pce,Rce,Dce,Tr,_te,xL,Lce,Kp,Ece],(e,t,n,r,i,a,o,u,d,c,h,g,x)=>{var{chartData:y,dataStartIndex:C,dataEndIndex:E}=d;if(!(g==null||o==null||t==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||a==null||c==null)){var{data:T}=g,I;if(T!=null&&T.length>0?I=T:I=y==null?void 0:y.slice(C,E+1),I!=null)return due({layout:u,barSettings:g,pos:o,parentViewBox:t,bandSize:c,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:h,displayedData:I,offset:e,cells:x,dataStartIndex:C})}}),Fce=["index"];function W_(){return W_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W_.apply(null,arguments)}function Uce(e,t){if(e==null)return{};var n,r,i=zce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var wL=R.createContext(void 0),qce=e=>{var t=R.useContext(wL);if(t!=null)return t.stackId;if(e!=null)return gK(e)},Hce=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Gce=e=>{var t=R.useContext(wL);if(t!=null){var{stackId:n}=t;return"url(#".concat(Hce(n,e),")")}},_L=e=>{var{index:t}=e,n=Uce(e,Fce),r=Gce(t);return R.createElement(no,W_({className:"recharts-bar-stack-layer",clipPath:r},n))},$ce=["onMouseEnter","onMouseLeave","onClick"],Wce=["value","background","tooltipPosition"],Vce=["id"],Yce=["onMouseEnter","onClick","onMouseLeave"];function Ru(){return Ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ru.apply(null,arguments)}function PT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(n),!0).forEach(function(r){Xce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xce(e,t,n){return(t=Kce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kce(e){var t=Zce(e,"string");return typeof t=="symbol"?t:t+""}function Zce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N2(e,t){if(e==null)return{};var n,r,i=Qce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Jce=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:ly(n,t),payload:e}]},eue=R.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:u,tooltipType:d,id:c}=e,h={dataDefinedOnItem:void 0,getPosition:C0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:ly(a,t),hide:o,type:d,color:i,unit:u,graphicalItemId:c}};return R.createElement(oL,{tooltipEntrySettings:h})});function tue(e){var t=Jt(Bd),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:u,onClick:d}=a,c=N2(a,$ce),h=yA(o,r,a.id),g=bA(u),x=xA(d,r,a.id);if(!i||n==null)return null;var y=lp(i);return R.createElement(oc,{zIndex:Qoe(i,_s.barBackground)},n.map((C,E)=>{var{value:T,background:I,tooltipPosition:D}=C,F=N2(C,Wce);if(!I)return null;var U=h(C,E),Z=g(C,E),Q=x(C,E),Y=eo(eo(eo(eo(eo({option:i,isActive:String(E)===t},F),{},{fill:"#eee"},I),y),Mp(c,C,E)),{},{onMouseEnter:U,onMouseLeave:Z,onClick:Q,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return R.createElement(C2,Ru({key:"background-bar-".concat(E)},Y))}))}function nue(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(a=>{var o={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return eo(eo({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return R.createElement(rse,{value:t?i:void 0},n)}function rue(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:a,dataKey:o}=e,u=Jt(Bd),d=Jt(cA),c=n&&String(a)===u&&(d==null||o===d),h=c?n:t;return c?R.createElement(oc,{zIndex:_s.activeBar},R.createElement(_L,{index:a},R.createElement(C2,Ru({},r,{name:String(r.name)},i,{isActive:c,option:h,index:a,dataKey:o})))):R.createElement(C2,Ru({},r,{name:String(r.name)},i,{isActive:c,option:h,index:a,dataKey:o}))}function iue(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:a}=e;return R.createElement(C2,Ru({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:a}))}function aue(e){var t,{data:n,props:r}=e,i=(t=nc(r))!==null&&t!==void 0?t:{},{id:a}=i,o=N2(i,Vce),{shape:u,dataKey:d,activeBar:c}=r,{onMouseEnter:h,onClick:g,onMouseLeave:x}=r,y=N2(r,Yce),C=yA(h,d,a),E=bA(x),T=xA(g,d,a);return n?R.createElement(R.Fragment,null,n.map((I,D)=>R.createElement(_L,Ru({index:D,key:"rectangle-".concat(I==null?void 0:I.x,"-").concat(I==null?void 0:I.y,"-").concat(I==null?void 0:I.value,"-").concat(D),className:"recharts-bar-rectangle"},Mp(y,I,D),{onMouseEnter:C(I,D),onMouseLeave:E(I,D),onClick:T(I,D)}),c?R.createElement(rue,{shape:u,activeBar:c,baseProps:o,entry:I,index:D,dataKey:d}):R.createElement(iue,{shape:u,baseProps:o,entry:I,index:D,dataKey:d})))):null}function sue(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:u,animationEasing:d,onAnimationEnd:c,onAnimationStart:h}=t,g=n.current,x=by(t,"recharts-bar-"),[y,C]=R.useState(!1),E=!y,T=R.useCallback(()=>{typeof c=="function"&&c(),C(!1)},[c]),I=R.useCallback(()=>{typeof h=="function"&&h(),C(!0)},[h]);return R.createElement(nue,{showLabels:E,rects:r},R.createElement(yy,{animationId:x,begin:o,duration:u,isActive:a,easing:d,onAnimationEnd:T,onAnimationStart:I,key:x},D=>{var F=D===1?r:r==null?void 0:r.map((U,Z)=>{var Q=g&&g[Z];if(Q)return eo(eo({},U),{},{x:Ba(Q.x,U.x,D),y:Ba(Q.y,U.y,D),width:Ba(Q.width,U.width,D),height:Ba(Q.height,U.height,D)});if(i==="horizontal"){var Y=Ba(0,U.height,D),J=Ba(U.stackedBarStart,U.y,D);return eo(eo({},U),{},{y:J,height:Y})}var q=Ba(0,U.width,D),oe=Ba(U.stackedBarStart,U.x,D);return eo(eo({},U),{},{width:q,x:oe})});return D>0&&(n.current=F??null),F==null?null:R.createElement(no,null,R.createElement(aue,{props:t,data:F}))}),R.createElement(JD,{label:t.label}),t.children)}function oue(e){var t=R.useRef(null);return R.createElement(sue,{previousRectanglesRef:t,props:e})}var SL=0,lue=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:bi(e,t)}};class cue extends R.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:u,background:d,id:c}=this.props;if(t||n==null)return null;var h=Or("recharts-bar",i),g=c;return R.createElement(no,{className:h,id:c},u&&R.createElement("defs",null,R.createElement(ece,{clipPathId:g,xAxisId:a,yAxisId:o})),R.createElement(no,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},R.createElement(tue,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),R.createElement(oue,this.props)))}}var uue={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:SL,xAxisId:0,yAxisId:0,zIndex:_s.bar};function fue(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:u,animationDuration:d,animationEasing:c,isAnimationActive:h}=e,{needClip:g}=bL(t,n),x=N0(),y=ko(),C=vA(e.children,L0),E=Jt(D=>Bce(D,e.id,y,C));if(x!=="vertical"&&x!=="horizontal")return null;var T,I=E==null?void 0:E[0];return I==null||I.height==null||I.width==null?T=0:T=x==="vertical"?I.height/2:I.width/2,R.createElement(Jle,{xAxisId:t,yAxisId:n,data:E,dataPointFormatter:lue,errorBarOffset:T},R.createElement(cue,Ru({},e,{layout:x,needClip:g,data:E,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:u,animationDuration:d,animationEasing:c,isAnimationActive:h})))}function due(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:u,xAxisTicks:d,yAxisTicks:c,stackedData:h,displayedData:g,offset:x,cells:y,parentViewBox:C,dataStartIndex:E}=e,T=t==="horizontal"?u:o,I=h?T.scale.domain():null,D=vK({numericAxis:T}),F=T.scale.map(D);return g.map((U,Z)=>{var Q,Y,J,q,oe,H;if(h){var G=h[Z+E];if(G==null)return null;Q=fK(G,I)}else Q=bi(U,n),Array.isArray(Q)||(Q=[D,Q]);var fe=wce(r,SL)(Q[1],Z);if(t==="horizontal"){var ee,ae=u.scale.map(Q[0]),ie=u.scale.map(Q[1]);if(ae==null||ie==null)return null;Y=b6({axis:o,ticks:d,bandSize:a,offset:i.offset,entry:U,index:Z}),J=(ee=ie??ae)!==null&&ee!==void 0?ee:void 0,q=i.size;var K=ae-ie;if(oe=Uc(K)?0:K,H={x:Y,y:x.top,width:q,height:x.height},Math.abs(fe)>0&&Math.abs(oe)<Math.abs(fe)){var ve=ss(oe||fe)*(Math.abs(fe)-Math.abs(oe));J-=ve,oe+=ve}}else{var Te=o.scale.map(Q[0]),we=o.scale.map(Q[1]);if(Te==null||we==null)return null;if(Y=Te,J=b6({axis:u,ticks:c,bandSize:a,offset:i.offset,entry:U,index:Z}),q=we-Te,oe=i.size,H={x:x.left,y:J,width:x.width,height:oe},Math.abs(fe)>0&&Math.abs(q)<Math.abs(fe)){var ue=ss(q||fe)*(Math.abs(fe)-Math.abs(q));q+=ue}}if(Y==null||J==null||q==null||oe==null)return null;var V=eo(eo({},U),{},{stackedBarStart:F,x:Y,y:J,width:q,height:oe,value:h?Q:Q[1],payload:U,background:H,tooltipPosition:{x:Y+q/2,y:J+oe/2},parentViewBox:C},y&&y[Z]&&y[Z].props);return V}).filter(Boolean)}function hue(e){var t=ls(e,uue),n=qce(t.stackId),r=ko();return R.createElement(lL,{id:t.id,type:"bar"},i=>R.createElement(R.Fragment,null,R.createElement(Gse,{legendPayload:Jce(t)}),R.createElement(eue,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),R.createElement(ioe,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),R.createElement(oc,{zIndex:t.zIndex},R.createElement(fue,Ru({},t,{id:i})))))}var O2=R.memo(hue,EA);O2.displayName="Bar";var pue=["domain","range"],mue=["domain","range"];function RT(e,t){if(e==null)return{};var n,r,i=gue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function DT(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function AL(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=RT(e,pue),{domain:a,range:o}=t,u=RT(t,mue);return!DT(n,a)||!DT(r,o)?!1:EA(i,u)}var vue=["type"],yue=["dangerouslySetInnerHTML","ticks","scale"],bue=["id","scale"];function V_(){return V_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V_.apply(null,arguments)}function LT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(n),!0).forEach(function(r){xue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xue(e,t,n){return(t=wue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wue(e){var t=_ue(e,"string");return typeof t=="symbol"?t:t+""}function _ue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y_(e,t){if(e==null)return{};var n,r,i=Sue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Sue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Aue(e){var t=li(),n=R.useRef(null),r=mP(),{type:i}=e,a=Y_(e,vue),o=Oy(r,"xAxis",i),u=R.useMemo(()=>{if(o!=null)return BT(BT({},a),{},{type:o})},[a,o]);return R.useLayoutEffect(()=>{u!=null&&(n.current===null?t(Poe(u)):n.current!==u&&t(Roe({prev:n.current,next:u})),n.current=u)},[u,t]),R.useLayoutEffect(()=>()=>{n.current&&(t(Doe(n.current)),n.current=null)},[t]),null}var Eue=e=>{var{xAxisId:t,className:n}=e,r=Jt(K3),i=ko(),a="xAxis",o=Jt(I=>uD(I,a,t,i)),u=Jt(I=>sD(I,t)),d=Jt(I=>jne(I,t)),c=Jt(I=>zR(I,t));if(u==null||d==null||c==null)return null;var{dangerouslySetInnerHTML:h,ticks:g,scale:x}=e,y=Y_(e,yue),{id:C,scale:E}=c,T=Y_(c,bue);return R.createElement(SA,V_({},y,T,{x:d.x,y:d.y,width:u.width,height:u.height,className:Or("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:o,axisType:a}))},Cue={allowDataOverflow:ns.allowDataOverflow,allowDecimals:ns.allowDecimals,allowDuplicatedCategory:ns.allowDuplicatedCategory,angle:ns.angle,axisLine:Cu.axisLine,height:ns.height,hide:!1,includeHidden:ns.includeHidden,interval:ns.interval,label:!1,minTickGap:ns.minTickGap,mirror:ns.mirror,orientation:ns.orientation,padding:ns.padding,reversed:ns.reversed,scale:ns.scale,tick:ns.tick,tickCount:ns.tickCount,tickLine:Cu.tickLine,tickSize:Cu.tickSize,type:ns.type,xAxisId:0},Nue=e=>{var t=ls(e,Cue);return R.createElement(R.Fragment,null,R.createElement(Aue,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),R.createElement(Eue,t))},CA=R.memo(Nue,AL);CA.displayName="XAxis";var Oue=["type"],Tue=["dangerouslySetInnerHTML","ticks","scale"],Iue=["id","scale"];function X_(){return X_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X_.apply(null,arguments)}function FT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(n),!0).forEach(function(r){jue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jue(e,t,n){return(t=kue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kue(e){var t=Mue(e,"string");return typeof t=="symbol"?t:t+""}function Mue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K_(e,t){if(e==null)return{};var n,r,i=Pue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Rue(e){var t=li(),n=R.useRef(null),r=mP(),{type:i}=e,a=K_(e,Oue),o=Oy(r,"yAxis",i),u=R.useMemo(()=>{if(o!=null)return UT(UT({},a),{},{type:o})},[o,a]);return R.useLayoutEffect(()=>{u!=null&&(n.current===null?t(Loe(u)):n.current!==u&&t(Boe({prev:n.current,next:u})),n.current=u)},[u,t]),R.useLayoutEffect(()=>()=>{n.current&&(t(Foe(n.current)),n.current=null)},[t]),null}function Due(e){var{yAxisId:t,className:n,width:r,label:i}=e,a=R.useRef(null),o=R.useRef(null),u=Jt(K3),d=ko(),c=li(),h="yAxis",g=Jt(Q=>oD(Q,t)),x=Jt(Q=>Mne(Q,t)),y=Jt(Q=>uD(Q,h,t,d)),C=Jt(Q=>qR(Q,t));if(R.useLayoutEffect(()=>{if(!(r!=="auto"||!g||pA(i)||R.isValidElement(i)||C==null)){var Q=a.current;if(Q){var Y=Q.getCalculatedWidth();Math.round(g.width)!==Math.round(Y)&&c(Uoe({id:t,width:Y}))}}},[y,g,c,i,t,r,C]),g==null||x==null||C==null)return null;var{dangerouslySetInnerHTML:E,ticks:T,scale:I}=e,D=K_(e,Tue),{id:F,scale:U}=C,Z=K_(C,Iue);return R.createElement(SA,X_({},D,Z,{ref:a,labelRef:o,x:x.x,y:x.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:Or("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:y,axisType:h}))}var Lue={allowDataOverflow:rs.allowDataOverflow,allowDecimals:rs.allowDecimals,allowDuplicatedCategory:rs.allowDuplicatedCategory,angle:rs.angle,axisLine:Cu.axisLine,hide:!1,includeHidden:rs.includeHidden,interval:rs.interval,label:!1,minTickGap:rs.minTickGap,mirror:rs.mirror,orientation:rs.orientation,padding:rs.padding,reversed:rs.reversed,scale:rs.scale,tick:rs.tick,tickCount:rs.tickCount,tickLine:Cu.tickLine,tickSize:Cu.tickSize,type:rs.type,width:rs.width,yAxisId:0},Bue=e=>{var t=ls(e,Lue);return R.createElement(R.Fragment,null,R.createElement(Rue,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),R.createElement(Due,t))},NA=R.memo(Bue,AL);NA.displayName="YAxis";var Fue=(e,t)=>t,OA=Ke([Fue,Tr,BR,us,ND,Gu,Yre,Ua],tie),TA=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},EL=Sl("mouseClick"),CL=Rp();CL.startListening({actionCreator:EL,effect:(e,t)=>{var n=e.payload,r=OA(t.getState(),TA(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(Vne({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Z_=Sl("mouseMove"),NL=Rp(),yg=null;NL.startListening({actionCreator:Z_,effect:(e,t)=>{var n=e.payload;yg!==null&&cancelAnimationFrame(yg);var r=TA(n);yg=requestAnimationFrame(()=>{var i=t.getState(),a=rA(i,i.tooltip.settings.shared);if(a==="axis"){var o=OA(i,r);(o==null?void 0:o.activeIndex)!=null?t.dispatch(yD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(vD())}yg=null})}});function Uue(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var zT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},OL=jo({name:"rootProps",initialState:zT,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:zT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),zue=OL.reducer,{updateOptions:que}=OL.actions,Hue=null,Gue={updatePolarOptions:(e,t)=>t.payload},TL=jo({name:"polarOptions",initialState:Hue,reducers:Gue}),{updatePolarOptions:$ue}=TL.actions,Wue=TL.reducer,IL=Sl("keyDown"),jL=Sl("focus"),IA=Rp();IA.startListening({actionCreator:IL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=iA(i,D0(n),Wp(n),Yp(n)),u=o==null?-1:Number(o);if(!(!Number.isFinite(u)||u<0)){var d=Gu(n);if(a==="Enter"){var c=x2(n,"axis","hover",String(i.index));t.dispatch(z_({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var h=Lne(n),g=h==="left-to-right"?1:-1,x=a==="ArrowRight"?1:-1,y=u+x*g;if(!(d==null||y>=d.length||y<0)){var C=x2(n,"axis","hover",String(y));t.dispatch(z_({active:!0,activeIndex:y.toString(),activeCoordinate:C}))}}}}}});IA.startListening({actionCreator:jL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=x2(n,"axis","hover",String(a));t.dispatch(z_({active:!0,activeIndex:a,activeCoordinate:o}))}}}});var bl=Sl("externalEvent"),kL=Rp(),a5=new Map;kL.startListening({actionCreator:bl,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=a5.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var u=t.getState(),d={activeCoordinate:Mre(u),activeDataKey:cA(u),activeIndex:Bd(u),activeLabel:ID(u),activeTooltipIndex:Bd(u),isTooltipActive:Pre(u)};n(d,r)}finally{a5.delete(i)}});a5.set(i,o)}}});var Vue=Ke([P0],e=>e.tooltipItemPayloads),Yue=Ke([Vue,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(a=>a.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(t)}}}),ML=Sl("touchMove"),PL=Rp();PL.startListening({actionCreator:ML,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=rA(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var o=OA(r,TA({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(yD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var u,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var c=document.elementFromPoint(d.clientX,d.clientY);if(!c||!c.getAttribute)return;var h=c.getAttribute(cP),g=(u=c.getAttribute(uP))!==null&&u!==void 0?u:void 0,x=R0(r).find(E=>E.id===g);if(h==null||x==null||g==null)return;var{dataKey:y}=x,C=Yue(r,h,g);t.dispatch(gD({activeDataKey:y,activeIndex:h,activeCoordinate:C,activeGraphicalItemId:g}))}}}});var Xue=j7({brush:Joe,cartesianAxis:zoe,chartData:kie,errorBars:Vle,graphicalItems:noe,layout:sK,legend:hZ,options:Nie,polarAxis:mse,polarOptions:Wue,referenceElements:rle,rootProps:zue,tooltip:Yne,zIndex:mie}),Kue=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return jX({reducer:Xue,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([CL.middleware,NL.middleware,IA.middleware,kL.middleware,PL.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(W7({type:"raf"}))},devTools:{serialize:{replacer:Uue},name:"recharts-".concat(n)}})};function RL(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=ko(),a=R.useRef(null);if(i)return n;a.current==null&&(a.current=Kue(t,r));var o=H3;return R.createElement(gce,{context:o,store:a.current},n)}function Zue(e){var{layout:t,margin:n}=e,r=li(),i=ko();return R.useEffect(()=>{i||(r(rK(t)),r(nK(n)))},[r,i,t,n]),null}var DL=R.memo(Zue,EA);function LL(e){var t=li();return R.useEffect(()=>{t(que(e))},[t,e]),null}function qT(e){var{zIndex:t,isPanorama:n}=e,r=R.useRef(null),i=li();return R.useLayoutEffect(()=>(r.current&&i(hie({zIndex:t,element:r.current,isPanorama:n})),()=>{i(pie({zIndex:t,isPanorama:n}))}),[i,t,n]),R.createElement("g",{tabIndex:-1,ref:r})}function HT(e){var{children:t,isPanorama:n}=e,r=Jt(rie);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return R.createElement(R.Fragment,null,i.map(o=>R.createElement(qT,{key:o,zIndex:o,isPanorama:n})),t,a.map(o=>R.createElement(qT,{key:o,zIndex:o,isPanorama:n})))}var Que=["children"];function Jue(e,t){if(e==null)return{};var n,r,i=efe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function efe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function T2(){return T2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T2.apply(null,arguments)}var tfe={width:"100%",height:"100%",display:"block"},nfe=R.forwardRef((e,t)=>{var n=J3(),r=eS(),i=OP();if(!qc(n)||!qc(r))return null;var{children:a,otherAttributes:o,title:u,desc:d}=e,c,h;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0),R.createElement(M3,T2({},o,{title:u,desc:d,role:h,tabIndex:c,width:n,height:r,style:tfe,ref:t}),a)}),rfe=e=>{var{children:t}=e,n=Jt(dy);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return R.createElement(M3,{width:r,height:i,x:o,y:a},t)},GT=R.forwardRef((e,t)=>{var{children:n}=e,r=Jue(e,Que),i=ko();return i?R.createElement(rfe,null,R.createElement(HT,{isPanorama:!0},n)):R.createElement(nfe,T2({ref:t},r),R.createElement(HT,{isPanorama:!1},n))});function ife(){var e=li(),[t,n]=R.useState(null),r=Jt(SK);return R.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;lr(a)&&a!==r&&e(aK(a))}},[t,e,r]),n}function $T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function afe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(n),!0).forEach(function(r){sfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sfe(e,t,n){return(t=ofe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ofe(e){var t=lfe(e,"string");return typeof t=="symbol"?t:t+""}function lfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kf.apply(null,arguments)}var cfe=()=>(zie(),null);function I2(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var ufe=R.forwardRef((e,t)=>{var n,r,i=R.useRef(null),[a,o]=R.useState({containerWidth:I2((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:I2((r=e.style)===null||r===void 0?void 0:r.height)}),u=R.useCallback((c,h)=>{o(g=>{var x=Math.round(c),y=Math.round(h);return g.containerWidth===x&&g.containerHeight===y?g:{containerWidth:x,containerHeight:y}})},[]),d=R.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:h,height:g}=c.getBoundingClientRect();u(h,g);var x=C=>{var E=C[0];if(E!=null){var{width:T,height:I}=E.contentRect;u(T,I)}},y=new ResizeObserver(x);y.observe(c),i.current=y}},[t,u]);return R.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[u]),R.createElement(R.Fragment,null,R.createElement(Lp,{width:a.containerWidth,height:a.containerHeight}),R.createElement("div",kf({ref:d},e)))}),ffe=R.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=R.useState({containerWidth:I2(n),containerHeight:I2(r)}),o=R.useCallback((d,c)=>{a(h=>{var g=Math.round(d),x=Math.round(c);return h.containerWidth===g&&h.containerHeight===x?h:{containerWidth:g,containerHeight:x}})},[]),u=R.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:c,height:h}=d.getBoundingClientRect();o(c,h)}},[t,o]);return R.createElement(R.Fragment,null,R.createElement(Lp,{width:i.containerWidth,height:i.containerHeight}),R.createElement("div",kf({ref:u},e)))}),dfe=R.forwardRef((e,t)=>{var{width:n,height:r}=e;return R.createElement(R.Fragment,null,R.createElement(Lp,{width:n,height:r}),R.createElement("div",kf({ref:t},e)))}),hfe=R.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?R.createElement(ffe,kf({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?R.createElement(dfe,kf({},e,{width:n,height:r,ref:t})):R.createElement(R.Fragment,null,R.createElement(Lp,{width:n,height:r}),R.createElement("div",kf({ref:t},e)))});function pfe(e){return e?ufe:hfe}var mfe=R.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:u,onMouseDown:d,onMouseEnter:c,onMouseLeave:h,onMouseMove:g,onMouseUp:x,onTouchEnd:y,onTouchMove:C,onTouchStart:E,style:T,width:I,responsive:D,dispatchTouchEvents:F=!0}=e,U=R.useRef(null),Z=li(),[Q,Y]=R.useState(null),[J,q]=R.useState(null),oe=ife(),H=Z3(),G=(H==null?void 0:H.width)>0?H.width:I,fe=(H==null?void 0:H.height)>0?H.height:i,ee=R.useCallback(Oe=>{oe(Oe),typeof t=="function"&&t(Oe),Y(Oe),q(Oe),Oe!=null&&(U.current=Oe)},[oe,t,Y,q]),ae=R.useCallback(Oe=>{Z(EL(Oe)),Z(bl({handler:a,reactEvent:Oe}))},[Z,a]),ie=R.useCallback(Oe=>{Z(Z_(Oe)),Z(bl({handler:c,reactEvent:Oe}))},[Z,c]),K=R.useCallback(Oe=>{Z(vD()),Z(bl({handler:h,reactEvent:Oe}))},[Z,h]),ve=R.useCallback(Oe=>{Z(Z_(Oe)),Z(bl({handler:g,reactEvent:Oe}))},[Z,g]),Te=R.useCallback(()=>{Z(jL())},[Z]),we=R.useCallback(Oe=>{Z(IL(Oe.key))},[Z]),ue=R.useCallback(Oe=>{Z(bl({handler:o,reactEvent:Oe}))},[Z,o]),V=R.useCallback(Oe=>{Z(bl({handler:u,reactEvent:Oe}))},[Z,u]),he=R.useCallback(Oe=>{Z(bl({handler:d,reactEvent:Oe}))},[Z,d]),me=R.useCallback(Oe=>{Z(bl({handler:x,reactEvent:Oe}))},[Z,x]),Ce=R.useCallback(Oe=>{Z(bl({handler:E,reactEvent:Oe}))},[Z,E]),xe=R.useCallback(Oe=>{F&&Z(ML(Oe)),Z(bl({handler:C,reactEvent:Oe}))},[Z,F,C]),Me=R.useCallback(Oe=>{Z(bl({handler:y,reactEvent:Oe}))},[Z,y]),ze=pfe(D);return R.createElement(LD.Provider,{value:Q},R.createElement(XM.Provider,{value:J},R.createElement(ze,{width:G??(T==null?void 0:T.width),height:fe??(T==null?void 0:T.height),className:Or("recharts-wrapper",r),style:afe({position:"relative",cursor:"default",width:G,height:fe},T),onClick:ae,onContextMenu:ue,onDoubleClick:V,onFocus:Te,onKeyDown:we,onMouseDown:he,onMouseEnter:ie,onMouseLeave:K,onMouseMove:ve,onMouseUp:me,onTouchEnd:Me,onTouchMove:xe,onTouchStart:Ce,ref:ee},R.createElement(cfe,null),n)))}),gfe=["width","height","responsive","children","className","style","compact","title","desc"];function vfe(e,t){if(e==null)return{};var n,r,i=yfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var BL=R.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:u,compact:d,title:c,desc:h}=e,g=vfe(e,gfe),x=nc(g);return d?R.createElement(R.Fragment,null,R.createElement(Lp,{width:n,height:r}),R.createElement(GT,{otherAttributes:x,title:c,desc:h},a)):R.createElement(mfe,{className:o,style:u,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},R.createElement(GT,{otherAttributes:x,title:c,desc:h,ref:t},R.createElement(ale,null,a)))});function Q_(){return Q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q_.apply(null,arguments)}var bfe={top:5,right:5,bottom:5,left:5},xfe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:bfe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},wfe=R.forwardRef(function(t,n){var r,i=ls(t.categoricalChartProps,xfe),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:c}=t,h={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return R.createElement(RL,{preloadedState:{options:h},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:a},R.createElement(hL,{chartData:c.data}),R.createElement(DL,{layout:i.layout,margin:i.margin}),R.createElement(LL,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),R.createElement(BL,Q_({},i,{ref:n})))}),_fe=["axis","item"],FL=R.forwardRef((e,t)=>R.createElement(wfe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_fe,tooltipPayloadSearcher:BD,categoricalChartProps:e,ref:t}));function Sfe(e){var t=li();return R.useEffect(()=>{t($ue(e))},[t,e]),null}var Afe=["layout"];function J_(){return J_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J_.apply(null,arguments)}function Efe(e,t){if(e==null)return{};var n,r,i=Cfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Nfe={top:5,right:5,bottom:5,left:5},UL={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Nfe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ofe=R.forwardRef(function(t,n){var r,i=ls(t.categoricalChartProps,UL),{layout:a}=i,o=Efe(i,Afe),{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:c,tooltipPayloadSearcher:h}=t,g={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:c,tooltipPayloadSearcher:h,eventEmitter:void 0};return R.createElement(RL,{preloadedState:{options:g},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},R.createElement(hL,{chartData:i.data}),R.createElement(DL,{layout:a,margin:i.margin}),R.createElement(LL,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),R.createElement(Sfe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),R.createElement(BL,J_({},o,{ref:n})))});function WT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(n),!0).forEach(function(r){Tfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tfe(e,t,n){return(t=Ife(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ife(e){var t=jfe(e,"string");return typeof t=="symbol"?t:t+""}function jfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kfe=["item"],Mfe=VT(VT({},UL),{},{layout:"centric",startAngle:0,endAngle:360}),zL=R.forwardRef((e,t)=>{var n=ls(e,Mfe);return R.createElement(Ofe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:kfe,tooltipPayloadSearcher:BD,categoricalChartProps:n,ref:t})});const bg=["#10b981","#3b82f6","#f59e0b"];function Pfe(){const{user:e}=Aa(),[t,n]=R.useState(!0),[r,i]=R.useState(0),[a,o]=R.useState(0),[u,d]=R.useState(0),[c,h]=R.useState(0),[g,x]=R.useState([]),[y,C]=R.useState([]);R.useEffect(()=>{e&&E()},[e]);const E=async()=>{n(!0);try{const T=new Date,I=new Date(T.getFullYear(),T.getMonth(),1).toISOString(),D=new Date(T.getFullYear(),T.getMonth()+1,0).toISOString(),{data:F,error:U}=await Tt.from("facturas").select("monto_total, estado, fecha_emision").gte("fecha_emision",I).lte("fecha_emision",D);if(!U&&F){const Y=F.filter(q=>q.estado!=="anulada"),J=Y.reduce((q,oe)=>q+Number(oe.monto_total),0);i(J),o(Y.length>0?J/Y.length:0)}const{data:Z,error:Q}=await Tt.from("paquetes").select("bodega_id, bodegas(nombre), peso_lbs").gte("fecha_recepcion",I).lte("fecha_recepcion",D);if(!Q&&Z){d(Z.length);const Y=new Map;let J=0;Z.forEach(oe=>{var fe;const H=((fe=oe.bodegas)==null?void 0:fe.nombre)||"General";H.toLowerCase().includes("laredo")&&J++,Y.has(H)||Y.set(H,{name:H,lbs:0,count:0});const G=Y.get(H);G.lbs+=Number(oe.peso_lbs||0),G.count+=1}),h(J);const q=Array.from(Y.values());C(q.map(oe=>({name:oe.name,value:oe.count}))),x(q.map(oe=>({name:oe.name,LIBRAS:oe.lbs})))}}catch(T){console.error("Dashboard calculation error:",T)}finally{n(!1)}};return t?_.jsx("div",{className:"flex h-[80vh] items-center justify-center",children:_.jsx(Ss,{className:"h-10 w-10 animate-spin text-blue-600"})}):_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Dashboard de Control"}),_.jsx("p",{className:"text-sm text-slate-500",children:"Resumen general de operaciones y finanzas."})]}),_.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{name:"Facturacin Mensual",icon:EM,value:`Q ${r.toFixed(2)}`},{name:"Ticket Promedio",icon:V2,value:`Q ${a.toFixed(2)}`},{name:"Paquetes Procesados",icon:Fc,value:u.toString()},{name:"Carga Laredo (Tx)",icon:jp,value:c.toString()}].map(T=>_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("p",{className:"text-sm font-medium text-slate-500",children:T.name}),_.jsx("div",{className:"rounded-md bg-blue-50 p-2",children:_.jsx(T.icon,{className:"h-4 w-4 text-blue-600"})})]}),_.jsxs("div",{className:"mt-4",children:[_.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:T.value}),_.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Acumulado mes actual"})]})]},T.name))}),_.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[_.jsxs("div",{className:"col-span-2 rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[_.jsx("h2",{className:"text-base font-semibold text-slate-900 mb-4",children:"Volumen (Libras) por Bodega Matriz"}),_.jsx("div",{className:"h-80 w-full",children:g.length>0?_.jsx(Zv,{width:"100%",height:"100%",children:_.jsxs(FL,{data:g,margin:{top:10,right:10,left:0,bottom:0},children:[_.jsx(AA,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0"}),_.jsx(CA,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12},dy:10}),_.jsx(NA,{axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12}}),_.jsx(w2,{cursor:{fill:"#F1F5F9"},contentStyle:{borderRadius:"8px",border:"1px solid #E2E8F0",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),_.jsx(O2,{dataKey:"LIBRAS",fill:"#3b82f6",radius:[4,4,0,0],maxBarSize:60})]})}):_.jsx("div",{className:"h-full flex items-center justify-center text-slate-400 text-sm",children:"Sin datos suficientes este mes"})})]}),_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm flex flex-col",children:[_.jsx("h2",{className:"text-base font-semibold text-slate-900 mb-4",children:"Distribucin de Paquetes"}),_.jsx("div",{className:"h-64 w-full flex-1",children:y.length>0?_.jsx(Zv,{width:"100%",height:"100%",children:_.jsxs(zL,{children:[_.jsx(wA,{data:y,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",stroke:"none",children:y.map((T,I)=>_.jsx(L0,{fill:bg[I%bg.length]},`cell-${I}`))}),_.jsx(w2,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}})]})}):_.jsx("div",{className:"h-full flex items-center justify-center text-slate-400 text-sm",children:"Sin paquetes"})}),_.jsx("div",{className:"mt-4 flex flex-wrap justify-center gap-x-6 gap-y-2",children:y.map((T,I)=>_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:bg[I%bg.length]}}),_.jsxs("span",{className:"text-xs font-medium text-slate-600",children:[T.name," (",T.value,")"]})]},T.name))})]})]})]})}var Bt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Bt||(Bt={}));var YT=new Map([[Bt.QR_CODE,"QR_CODE"],[Bt.AZTEC,"AZTEC"],[Bt.CODABAR,"CODABAR"],[Bt.CODE_39,"CODE_39"],[Bt.CODE_93,"CODE_93"],[Bt.CODE_128,"CODE_128"],[Bt.DATA_MATRIX,"DATA_MATRIX"],[Bt.MAXICODE,"MAXICODE"],[Bt.ITF,"ITF"],[Bt.EAN_13,"EAN_13"],[Bt.EAN_8,"EAN_8"],[Bt.PDF_417,"PDF_417"],[Bt.RSS_14,"RSS_14"],[Bt.RSS_EXPANDED,"RSS_EXPANDED"],[Bt.UPC_A,"UPC_A"],[Bt.UPC_E,"UPC_E"],[Bt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),XT;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(XT||(XT={}));function Rfe(e){return Object.values(Bt).includes(e)}var Df;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Df||(Df={}));var Xl=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Df.SCAN_TYPE_CAMERA,Df.SCAN_TYPE_FILE],e})(),qL=(function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!YT.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,YT.get(t))},e})(),KT=(function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),e3;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(e3||(e3={}));var HL=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:e3.UNKWOWN_ERROR}},e})(),GL=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function jc(e){return typeof e>"u"||e===null}function Dfe(e,t,n){return e>n?n:e<t?t:e}var e0=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),Br=(function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e})(),ZT=(function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e})(),$L=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),o=Object.keys(t),u=0,d=o;u<d.length;u++){var c=d[u];if(a.has(c))return n.logError("".concat(c," is not supported videoConstaints."),!0),!1}return!0},e})(),G1={exports:{}},Lfe=G1.exports,QT;function Bfe(){return QT||(QT=1,(function(e,t){(function(n,r){r(t)})(Lfe,(function(n){function r(te){return te==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,l){te.__proto__=l}||function(te,l){for(var p in l)l.hasOwnProperty(p)&&(te[p]=l[p])};function a(te,l){i(te,l);function p(){this.constructor=te}te.prototype=l===null?Object.create(l):(p.prototype=l.prototype,new p)}function o(te,l){var p=Object.setPrototypeOf;p?p(te,l):te.__proto__=l}function u(te,l){l===void 0&&(l=te.constructor);var p=Error.captureStackTrace;p&&p(te,l)}var d=(function(te){a(l,te);function l(p){var m=this.constructor,b=te.call(this,p)||this;return Object.defineProperty(b,"name",{value:m.name,enumerable:!1}),o(b,m.prototype),u(b),b}return l})(Error);class c extends d{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}c.kind="Exception";class h extends c{}h.kind="ArgumentException";class g extends c{}g.kind="IllegalArgumentException";class x{constructor(l){if(this.binarizer=l,l===null)throw new g("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(l,p){return this.binarizer.getBlackRow(l,p)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(l,p,m,b){const w=this.binarizer.getLuminanceSource().crop(l,p,m,b);return new x(this.binarizer.createBinarizer(w))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new x(this.binarizer.createBinarizer(l))}rotateCounterClockwise45(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new x(this.binarizer.createBinarizer(l))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class y extends c{static getChecksumInstance(){return new y}}y.kind="ChecksumException";class C{constructor(l){this.source=l}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class E{static arraycopy(l,p,m,b,w){for(;w--;)m[b++]=l[p++]}static currentTimeMillis(){return Date.now()}}class T extends c{}T.kind="IndexOutOfBoundsException";class I extends T{constructor(l=void 0,p=void 0){super(p),this.index=l,this.message=p}}I.kind="ArrayIndexOutOfBoundsException";class D{static fill(l,p){for(let m=0,b=l.length;m<b;m++)l[m]=p}static fillWithin(l,p,m,b){D.rangeCheck(l.length,p,m);for(let w=p;w<m;w++)l[w]=b}static rangeCheck(l,p,m){if(p>m)throw new g("fromIndex("+p+") > toIndex("+m+")");if(p<0)throw new I(p);if(m>l)throw new I(m)}static asList(...l){return l}static create(l,p,m){return Array.from({length:l}).map(w=>Array.from({length:p}).fill(m))}static createInt32Array(l,p,m){return Array.from({length:l}).map(w=>Int32Array.from({length:p}).fill(m))}static equals(l,p){if(!l||!p||!l.length||!p.length||l.length!==p.length)return!1;for(let m=0,b=l.length;m<b;m++)if(l[m]!==p[m])return!1;return!0}static hashCode(l){if(l===null)return 0;let p=1;for(const m of l)p=31*p+m;return p}static fillUint8Array(l,p){for(let m=0;m!==l.length;m++)l[m]=p}static copyOf(l,p){return l.slice(0,p)}static copyOfUint8Array(l,p){if(l.length<=p){const m=new Uint8Array(p);return m.set(l),m}return l.slice(0,p)}static copyOfRange(l,p,m){const b=m-p,w=new Int32Array(b);return E.arraycopy(l,p,w,0,b),w}static binarySearch(l,p,m){m===void 0&&(m=D.numberComparator);let b=0,w=l.length-1;for(;b<=w;){const A=w+b>>1,O=m(p,l[A]);if(O>0)b=A+1;else if(O<0)w=A-1;else return A}return-b-1}static numberComparator(l,p){return l-p}}class F{static numberOfTrailingZeros(l){let p;if(l===0)return 32;let m=31;return p=l<<16,p!==0&&(m-=16,l=p),p=l<<8,p!==0&&(m-=8,l=p),p=l<<4,p!==0&&(m-=4,l=p),p=l<<2,p!==0&&(m-=2,l=p),m-(l<<1>>>31)}static numberOfLeadingZeros(l){if(l===0)return 32;let p=1;return l>>>16||(p+=16,l<<=16),l>>>24||(p+=8,l<<=8),l>>>28||(p+=4,l<<=4),l>>>30||(p+=2,l<<=2),p-=l>>>31,p}static toHexString(l){return l.toString(16)}static toBinaryString(l){return String(parseInt(String(l),2))}static bitCount(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),l=l+(l>>>4)&252645135,l=l+(l>>>8),l=l+(l>>>16),l&63}static truncDivision(l,p){return Math.trunc(l/p)}static parseInt(l,p=void 0){return parseInt(l,p)}}F.MIN_VALUE_32_BITS=-2147483648,F.MAX_VALUE=Number.MAX_SAFE_INTEGER;class U{constructor(l,p){l===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=l,p==null?this.bits=U.makeArray(l):this.bits=p)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(l){if(l>this.bits.length*32){const p=U.makeArray(l);E.arraycopy(this.bits,0,p,0,this.bits.length),this.bits=p}}get(l){return(this.bits[Math.floor(l/32)]&1<<(l&31))!==0}set(l){this.bits[Math.floor(l/32)]|=1<<(l&31)}flip(l){this.bits[Math.floor(l/32)]^=1<<(l&31)}getNextSet(l){const p=this.size;if(l>=p)return p;const m=this.bits;let b=Math.floor(l/32),w=m[b];w&=~((1<<(l&31))-1);const A=m.length;for(;w===0;){if(++b===A)return p;w=m[b]}const O=b*32+F.numberOfTrailingZeros(w);return O>p?p:O}getNextUnset(l){const p=this.size;if(l>=p)return p;const m=this.bits;let b=Math.floor(l/32),w=~m[b];w&=~((1<<(l&31))-1);const A=m.length;for(;w===0;){if(++b===A)return p;w=~m[b]}const O=b*32+F.numberOfTrailingZeros(w);return O>p?p:O}setBulk(l,p){this.bits[Math.floor(l/32)]=p}setRange(l,p){if(p<l||l<0||p>this.size)throw new g;if(p===l)return;p--;const m=Math.floor(l/32),b=Math.floor(p/32),w=this.bits;for(let A=m;A<=b;A++){const O=A>m?0:l&31,B=(2<<(A<b?31:p&31))-(1<<O);w[A]|=B}}clear(){const l=this.bits.length,p=this.bits;for(let m=0;m<l;m++)p[m]=0}isRange(l,p,m){if(p<l||l<0||p>this.size)throw new g;if(p===l)return!0;p--;const b=Math.floor(l/32),w=Math.floor(p/32),A=this.bits;for(let O=b;O<=w;O++){const M=O>b?0:l&31,$=(2<<(O<w?31:p&31))-(1<<M)&4294967295;if((A[O]&$)!==(m?$:0))return!1}return!0}appendBit(l){this.ensureCapacity(this.size+1),l&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(l,p){if(p<0||p>32)throw new g("Num bits must be between 0 and 32");this.ensureCapacity(this.size+p);for(let m=p;m>0;m--)this.appendBit((l>>m-1&1)===1)}appendBitArray(l){const p=l.size;this.ensureCapacity(this.size+p);for(let m=0;m<p;m++)this.appendBit(l.get(m))}xor(l){if(this.size!==l.size)throw new g("Sizes don't match");const p=this.bits;for(let m=0,b=p.length;m<b;m++)p[m]^=l.bits[m]}toBytes(l,p,m,b){for(let w=0;w<b;w++){let A=0;for(let O=0;O<8;O++)this.get(l)&&(A|=1<<7-O),l++;p[m+w]=A}}getBitArray(){return this.bits}reverse(){const l=new Int32Array(this.bits.length),p=Math.floor((this.size-1)/32),m=p+1,b=this.bits;for(let w=0;w<m;w++){let A=b[w];A=A>>1&1431655765|(A&1431655765)<<1,A=A>>2&858993459|(A&858993459)<<2,A=A>>4&252645135|(A&252645135)<<4,A=A>>8&16711935|(A&16711935)<<8,A=A>>16&65535|(A&65535)<<16,l[p-w]=A}if(this.size!==m*32){const w=m*32-this.size;let A=l[0]>>>w;for(let O=1;O<m;O++){const M=l[O];A|=M<<32-w,l[O-1]=A,A=M>>>w}l[m-1]=A}this.bits=l}static makeArray(l){return new Int32Array(Math.floor((l+31)/32))}equals(l){if(!(l instanceof U))return!1;const p=l;return this.size===p.size&&D.equals(this.bits,p.bits)}hashCode(){return 31*this.size+D.hashCode(this.bits)}toString(){let l="";for(let p=0,m=this.size;p<m;p++)(p&7)===0&&(l+=" "),l+=this.get(p)?"X":".";return l}clone(){return new U(this.size,this.bits.slice())}}var Z;(function(te){te[te.OTHER=0]="OTHER",te[te.PURE_BARCODE=1]="PURE_BARCODE",te[te.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",te[te.TRY_HARDER=3]="TRY_HARDER",te[te.CHARACTER_SET=4]="CHARACTER_SET",te[te.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",te[te.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",te[te.ASSUME_GS1=7]="ASSUME_GS1",te[te.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",te[te.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",te[te.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Z||(Z={}));var Q=Z;class Y extends c{static getFormatInstance(){return new Y}}Y.kind="FormatException";var J;(function(te){te[te.Cp437=0]="Cp437",te[te.ISO8859_1=1]="ISO8859_1",te[te.ISO8859_2=2]="ISO8859_2",te[te.ISO8859_3=3]="ISO8859_3",te[te.ISO8859_4=4]="ISO8859_4",te[te.ISO8859_5=5]="ISO8859_5",te[te.ISO8859_6=6]="ISO8859_6",te[te.ISO8859_7=7]="ISO8859_7",te[te.ISO8859_8=8]="ISO8859_8",te[te.ISO8859_9=9]="ISO8859_9",te[te.ISO8859_10=10]="ISO8859_10",te[te.ISO8859_11=11]="ISO8859_11",te[te.ISO8859_13=12]="ISO8859_13",te[te.ISO8859_14=13]="ISO8859_14",te[te.ISO8859_15=14]="ISO8859_15",te[te.ISO8859_16=15]="ISO8859_16",te[te.SJIS=16]="SJIS",te[te.Cp1250=17]="Cp1250",te[te.Cp1251=18]="Cp1251",te[te.Cp1252=19]="Cp1252",te[te.Cp1256=20]="Cp1256",te[te.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",te[te.UTF8=22]="UTF8",te[te.ASCII=23]="ASCII",te[te.Big5=24]="Big5",te[te.GB18030=25]="GB18030",te[te.EUC_KR=26]="EUC_KR"})(J||(J={}));class q{constructor(l,p,m,...b){this.valueIdentifier=l,this.name=m,typeof p=="number"?this.values=Int32Array.from([p]):this.values=p,this.otherEncodingNames=b,q.VALUE_IDENTIFIER_TO_ECI.set(l,this),q.NAME_TO_ECI.set(m,this);const w=this.values;for(let A=0,O=w.length;A!==O;A++){const M=w[A];q.VALUES_TO_ECI.set(M,this)}for(const A of b)q.NAME_TO_ECI.set(A,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(l){if(l<0||l>=900)throw new Y("incorect value");const p=q.VALUES_TO_ECI.get(l);if(p===void 0)throw new Y("incorect value");return p}static getCharacterSetECIByName(l){const p=q.NAME_TO_ECI.get(l);if(p===void 0)throw new Y("incorect value");return p}equals(l){if(!(l instanceof q))return!1;const p=l;return this.getName()===p.getName()}}q.VALUE_IDENTIFIER_TO_ECI=new Map,q.VALUES_TO_ECI=new Map,q.NAME_TO_ECI=new Map,q.Cp437=new q(J.Cp437,Int32Array.from([0,2]),"Cp437"),q.ISO8859_1=new q(J.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),q.ISO8859_2=new q(J.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),q.ISO8859_3=new q(J.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),q.ISO8859_4=new q(J.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),q.ISO8859_5=new q(J.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),q.ISO8859_6=new q(J.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),q.ISO8859_7=new q(J.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),q.ISO8859_8=new q(J.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),q.ISO8859_9=new q(J.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),q.ISO8859_10=new q(J.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),q.ISO8859_11=new q(J.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),q.ISO8859_13=new q(J.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),q.ISO8859_14=new q(J.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),q.ISO8859_15=new q(J.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),q.ISO8859_16=new q(J.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),q.SJIS=new q(J.SJIS,20,"SJIS","Shift_JIS"),q.Cp1250=new q(J.Cp1250,21,"Cp1250","windows-1250"),q.Cp1251=new q(J.Cp1251,22,"Cp1251","windows-1251"),q.Cp1252=new q(J.Cp1252,23,"Cp1252","windows-1252"),q.Cp1256=new q(J.Cp1256,24,"Cp1256","windows-1256"),q.UnicodeBigUnmarked=new q(J.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),q.UTF8=new q(J.UTF8,26,"UTF8","UTF-8"),q.ASCII=new q(J.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),q.Big5=new q(J.Big5,28,"Big5"),q.GB18030=new q(J.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),q.EUC_KR=new q(J.EUC_KR,30,"EUC_KR","EUC-KR");class oe extends c{}oe.kind="UnsupportedOperationException";class H{static decode(l,p){const m=this.encodingName(p);return this.customDecoder?this.customDecoder(l,m):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(m)?this.decodeFallback(l,m):new TextDecoder(m).decode(l)}static shouldDecodeOnFallback(l){return!H.isBrowser()&&l==="ISO-8859-1"}static encode(l,p){const m=this.encodingName(p);return this.customEncoder?this.customEncoder(l,m):typeof TextEncoder>"u"?this.encodeFallback(l):new TextEncoder().encode(l)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(l){return typeof l=="string"?l:l.getName()}static encodingCharacterSet(l){return l instanceof q?l:q.getCharacterSetECIByName(l)}static decodeFallback(l,p){const m=this.encodingCharacterSet(p);if(H.isDecodeFallbackSupported(m)){let b="";for(let w=0,A=l.length;w<A;w++){let O=l[w].toString(16);O.length<2&&(O="0"+O),b+="%"+O}return decodeURIComponent(b)}if(m.equals(q.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(l.buffer));throw new oe(`Encoding ${this.encodingName(p)} not supported by fallback.`)}static isDecodeFallbackSupported(l){return l.equals(q.UTF8)||l.equals(q.ISO8859_1)||l.equals(q.ASCII)}static encodeFallback(l){const m=btoa(unescape(encodeURIComponent(l))).split(""),b=[];for(let w=0;w<m.length;w++)b.push(m[w].charCodeAt(0));return new Uint8Array(b)}}class G{static castAsNonUtf8Char(l,p=null){const m=p?p.getName():this.ISO88591;return H.decode(new Uint8Array([l]),m)}static guessEncoding(l,p){if(p!=null&&p.get(Q.CHARACTER_SET)!==void 0)return p.get(Q.CHARACTER_SET).toString();const m=l.length;let b=!0,w=!0,A=!0,O=0,M=0,B=0,$=0,ne=0,le=0,Se=0,Ie=0,Pe=0,Be=0,Ze=0;const ct=l.length>3&&l[0]===239&&l[1]===187&&l[2]===191;for(let ut=0;ut<m&&(b||w||A);ut++){const ot=l[ut]&255;A&&(O>0?(ot&128)===0?A=!1:O--:(ot&128)!==0&&((ot&64)===0?A=!1:(O++,(ot&32)===0?M++:(O++,(ot&16)===0?B++:(O++,(ot&8)===0?$++:A=!1))))),b&&(ot>127&&ot<160?b=!1:ot>159&&(ot<192||ot===215||ot===247)&&Ze++),w&&(ne>0?ot<64||ot===127||ot>252?w=!1:ne--:ot===128||ot===160||ot>239?w=!1:ot>160&&ot<224?(le++,Ie=0,Se++,Se>Pe&&(Pe=Se)):ot>127?(ne++,Se=0,Ie++,Ie>Be&&(Be=Ie)):(Se=0,Ie=0))}return A&&O>0&&(A=!1),w&&ne>0&&(w=!1),A&&(ct||M+B+$>0)?G.UTF8:w&&(G.ASSUME_SHIFT_JIS||Pe>=3||Be>=3)?G.SHIFT_JIS:b&&w?Pe===2&&le===2||Ze*10>=m?G.SHIFT_JIS:G.ISO88591:b?G.ISO88591:w?G.SHIFT_JIS:A?G.UTF8:G.PLATFORM_DEFAULT_ENCODING}static format(l,...p){let m=-1;function b(A,O,M,B,$,ne){if(A==="%%")return"%";if(p[++m]===void 0)return;A=B?parseInt(B.substr(1)):void 0;let le=$?parseInt($.substr(1)):void 0,Se;switch(ne){case"s":Se=p[m];break;case"c":Se=p[m][0];break;case"f":Se=parseFloat(p[m]).toFixed(A);break;case"p":Se=parseFloat(p[m]).toPrecision(A);break;case"e":Se=parseFloat(p[m]).toExponential(A);break;case"x":Se=parseInt(p[m]).toString(le||16);break;case"d":Se=parseFloat(parseInt(p[m],le||10).toPrecision(A)).toFixed(0);break}Se=typeof Se=="object"?JSON.stringify(Se):(+Se).toString(le);let Ie=parseInt(M),Pe=M&&M[0]+""=="0"?"0":" ";for(;Se.length<Ie;)Se=O!==void 0?Se+Pe:Pe+Se;return Se}let w=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(w,b)}static getBytes(l,p){return H.encode(l,p)}static getCharCode(l,p=0){return l.charCodeAt(p)}static getCharAt(l){return String.fromCharCode(l)}}G.SHIFT_JIS=q.SJIS.getName(),G.GB2312="GB2312",G.ISO88591=q.ISO8859_1.getName(),G.EUC_JP="EUC_JP",G.UTF8=q.UTF8.getName(),G.PLATFORM_DEFAULT_ENCODING=G.UTF8,G.ASSUME_SHIFT_JIS=!1;class fe{constructor(l=""){this.value=l}enableDecoding(l){return this.encoding=l,this}append(l){return typeof l=="string"?this.value+=l.toString():this.encoding?this.value+=G.castAsNonUtf8Char(l,this.encoding):this.value+=String.fromCharCode(l),this}appendChars(l,p,m){for(let b=p;p<p+m;b++)this.append(l[b]);return this}length(){return this.value.length}charAt(l){return this.value.charAt(l)}deleteCharAt(l){this.value=this.value.substr(0,l)+this.value.substring(l+1)}setCharAt(l,p){this.value=this.value.substr(0,l)+p+this.value.substr(l+1)}substring(l,p){return this.value.substring(l,p)}setLengthToZero(){this.value=""}toString(){return this.value}insert(l,p){this.value=this.value.substr(0,l)+p+this.value.substr(l+p.length)}}class ee{constructor(l,p,m,b){if(this.width=l,this.height=p,this.rowSize=m,this.bits=b,p==null&&(p=l),this.height=p,l<1||p<1)throw new g("Both dimensions must be greater than 0");m==null&&(m=Math.floor((l+31)/32)),this.rowSize=m,b==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(l){const p=l.length,m=l[0].length,b=new ee(m,p);for(let w=0;w<p;w++){const A=l[w];for(let O=0;O<m;O++)A[O]&&b.set(O,w)}return b}static parseFromString(l,p,m){if(l===null)throw new g("stringRepresentation cannot be null");const b=new Array(l.length);let w=0,A=0,O=-1,M=0,B=0;for(;B<l.length;)if(l.charAt(B)===`
`||l.charAt(B)==="\r"){if(w>A){if(O===-1)O=w-A;else if(w-A!==O)throw new g("row lengths do not match");A=w,M++}B++}else if(l.substring(B,B+p.length)===p)B+=p.length,b[w]=!0,w++;else if(l.substring(B,B+m.length)===m)B+=m.length,b[w]=!1,w++;else throw new g("illegal character encountered: "+l.substring(B));if(w>A){if(O===-1)O=w-A;else if(w-A!==O)throw new g("row lengths do not match");M++}const $=new ee(O,M);for(let ne=0;ne<w;ne++)b[ne]&&$.set(Math.floor(ne%O),Math.floor(ne/O));return $}get(l,p){const m=p*this.rowSize+Math.floor(l/32);return(this.bits[m]>>>(l&31)&1)!==0}set(l,p){const m=p*this.rowSize+Math.floor(l/32);this.bits[m]|=1<<(l&31)&4294967295}unset(l,p){const m=p*this.rowSize+Math.floor(l/32);this.bits[m]&=~(1<<(l&31)&4294967295)}flip(l,p){const m=p*this.rowSize+Math.floor(l/32);this.bits[m]^=1<<(l&31)&4294967295}xor(l){if(this.width!==l.getWidth()||this.height!==l.getHeight()||this.rowSize!==l.getRowSize())throw new g("input matrix dimensions do not match");const p=new U(Math.floor(this.width/32)+1),m=this.rowSize,b=this.bits;for(let w=0,A=this.height;w<A;w++){const O=w*m,M=l.getRow(w,p).getBitArray();for(let B=0;B<m;B++)b[O+B]^=M[B]}}clear(){const l=this.bits,p=l.length;for(let m=0;m<p;m++)l[m]=0}setRegion(l,p,m,b){if(p<0||l<0)throw new g("Left and top must be nonnegative");if(b<1||m<1)throw new g("Height and width must be at least 1");const w=l+m,A=p+b;if(A>this.height||w>this.width)throw new g("The region must fit inside the matrix");const O=this.rowSize,M=this.bits;for(let B=p;B<A;B++){const $=B*O;for(let ne=l;ne<w;ne++)M[$+Math.floor(ne/32)]|=1<<(ne&31)&4294967295}}getRow(l,p){p==null||p.getSize()<this.width?p=new U(this.width):p.clear();const m=this.rowSize,b=this.bits,w=l*m;for(let A=0;A<m;A++)p.setBulk(A*32,b[w+A]);return p}setRow(l,p){E.arraycopy(p.getBitArray(),0,this.bits,l*this.rowSize,this.rowSize)}rotate180(){const l=this.getWidth(),p=this.getHeight();let m=new U(l),b=new U(l);for(let w=0,A=Math.floor((p+1)/2);w<A;w++)m=this.getRow(w,m),b=this.getRow(p-1-w,b),m.reverse(),b.reverse(),this.setRow(w,b),this.setRow(p-1-w,m)}getEnclosingRectangle(){const l=this.width,p=this.height,m=this.rowSize,b=this.bits;let w=l,A=p,O=-1,M=-1;for(let B=0;B<p;B++)for(let $=0;$<m;$++){const ne=b[B*m+$];if(ne!==0){if(B<A&&(A=B),B>M&&(M=B),$*32<w){let le=0;for(;(ne<<31-le&4294967295)===0;)le++;$*32+le<w&&(w=$*32+le)}if($*32+31>O){let le=31;for(;!(ne>>>le);)le--;$*32+le>O&&(O=$*32+le)}}}return O<w||M<A?null:Int32Array.from([w,A,O-w+1,M-A+1])}getTopLeftOnBit(){const l=this.rowSize,p=this.bits;let m=0;for(;m<p.length&&p[m]===0;)m++;if(m===p.length)return null;const b=m/l;let w=m%l*32;const A=p[m];let O=0;for(;(A<<31-O&4294967295)===0;)O++;return w+=O,Int32Array.from([w,b])}getBottomRightOnBit(){const l=this.rowSize,p=this.bits;let m=p.length-1;for(;m>=0&&p[m]===0;)m--;if(m<0)return null;const b=Math.floor(m/l);let w=Math.floor(m%l)*32;const A=p[m];let O=31;for(;!(A>>>O);)O--;return w+=O,Int32Array.from([w,b])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(l){if(!(l instanceof ee))return!1;const p=l;return this.width===p.width&&this.height===p.height&&this.rowSize===p.rowSize&&D.equals(this.bits,p.bits)}hashCode(){let l=this.width;return l=31*l+this.width,l=31*l+this.height,l=31*l+this.rowSize,l=31*l+D.hashCode(this.bits),l}toString(l="X ",p="  ",m=`
`){return this.buildToString(l,p,m)}buildToString(l,p,m){let b=new fe;for(let w=0,A=this.height;w<A;w++){for(let O=0,M=this.width;O<M;O++)b.append(this.get(O,w)?l:p);b.append(m)}return b.toString()}clone(){return new ee(this.width,this.height,this.rowSize,this.bits.slice())}}class ae extends c{static getNotFoundInstance(){return new ae}}ae.kind="NotFoundException";class ie extends C{constructor(l){super(l),this.luminances=ie.EMPTY,this.buckets=new Int32Array(ie.LUMINANCE_BUCKETS)}getBlackRow(l,p){const m=this.getLuminanceSource(),b=m.getWidth();p==null||p.getSize()<b?p=new U(b):p.clear(),this.initArrays(b);const w=m.getRow(l,this.luminances),A=this.buckets;for(let M=0;M<b;M++)A[(w[M]&255)>>ie.LUMINANCE_SHIFT]++;const O=ie.estimateBlackPoint(A);if(b<3)for(let M=0;M<b;M++)(w[M]&255)<O&&p.set(M);else{let M=w[0]&255,B=w[1]&255;for(let $=1;$<b-1;$++){const ne=w[$+1]&255;(B*4-M-ne)/2<O&&p.set($),M=B,B=ne}}return p}getBlackMatrix(){const l=this.getLuminanceSource(),p=l.getWidth(),m=l.getHeight(),b=new ee(p,m);this.initArrays(p);const w=this.buckets;for(let M=1;M<5;M++){const B=Math.floor(m*M/5),$=l.getRow(B,this.luminances),ne=Math.floor(p*4/5);for(let le=Math.floor(p/5);le<ne;le++){const Se=$[le]&255;w[Se>>ie.LUMINANCE_SHIFT]++}}const A=ie.estimateBlackPoint(w),O=l.getMatrix();for(let M=0;M<m;M++){const B=M*p;for(let $=0;$<p;$++)(O[B+$]&255)<A&&b.set($,M)}return b}createBinarizer(l){return new ie(l)}initArrays(l){this.luminances.length<l&&(this.luminances=new Uint8ClampedArray(l));const p=this.buckets;for(let m=0;m<ie.LUMINANCE_BUCKETS;m++)p[m]=0}static estimateBlackPoint(l){const p=l.length;let m=0,b=0,w=0;for(let $=0;$<p;$++)l[$]>w&&(b=$,w=l[$]),l[$]>m&&(m=l[$]);let A=0,O=0;for(let $=0;$<p;$++){const ne=$-b,le=l[$]*ne*ne;le>O&&(A=$,O=le)}if(b>A){const $=b;b=A,A=$}if(A-b<=p/16)throw new ae;let M=A-1,B=-1;for(let $=A-1;$>b;$--){const ne=$-b,le=ne*ne*(A-$)*(m-l[$]);le>B&&(M=$,B=le)}return M<<ie.LUMINANCE_SHIFT}}ie.LUMINANCE_BITS=5,ie.LUMINANCE_SHIFT=8-ie.LUMINANCE_BITS,ie.LUMINANCE_BUCKETS=1<<ie.LUMINANCE_BITS,ie.EMPTY=Uint8ClampedArray.from([0]);class K extends ie{constructor(l){super(l),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const l=this.getLuminanceSource(),p=l.getWidth(),m=l.getHeight();if(p>=K.MINIMUM_DIMENSION&&m>=K.MINIMUM_DIMENSION){const b=l.getMatrix();let w=p>>K.BLOCK_SIZE_POWER;(p&K.BLOCK_SIZE_MASK)!==0&&w++;let A=m>>K.BLOCK_SIZE_POWER;(m&K.BLOCK_SIZE_MASK)!==0&&A++;const O=K.calculateBlackPoints(b,w,A,p,m),M=new ee(p,m);K.calculateThresholdForBlock(b,w,A,p,m,O,M),this.matrix=M}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(l){return new K(l)}static calculateThresholdForBlock(l,p,m,b,w,A,O){const M=w-K.BLOCK_SIZE,B=b-K.BLOCK_SIZE;for(let $=0;$<m;$++){let ne=$<<K.BLOCK_SIZE_POWER;ne>M&&(ne=M);const le=K.cap($,2,m-3);for(let Se=0;Se<p;Se++){let Ie=Se<<K.BLOCK_SIZE_POWER;Ie>B&&(Ie=B);const Pe=K.cap(Se,2,p-3);let Be=0;for(let ct=-2;ct<=2;ct++){const ut=A[le+ct];Be+=ut[Pe-2]+ut[Pe-1]+ut[Pe]+ut[Pe+1]+ut[Pe+2]}const Ze=Be/25;K.thresholdBlock(l,Ie,ne,Ze,b,O)}}}static cap(l,p,m){return l<p?p:l>m?m:l}static thresholdBlock(l,p,m,b,w,A){for(let O=0,M=m*w+p;O<K.BLOCK_SIZE;O++,M+=w)for(let B=0;B<K.BLOCK_SIZE;B++)(l[M+B]&255)<=b&&A.set(p+B,m+O)}static calculateBlackPoints(l,p,m,b,w){const A=w-K.BLOCK_SIZE,O=b-K.BLOCK_SIZE,M=new Array(m);for(let B=0;B<m;B++){M[B]=new Int32Array(p);let $=B<<K.BLOCK_SIZE_POWER;$>A&&($=A);for(let ne=0;ne<p;ne++){let le=ne<<K.BLOCK_SIZE_POWER;le>O&&(le=O);let Se=0,Ie=255,Pe=0;for(let Ze=0,ct=$*b+le;Ze<K.BLOCK_SIZE;Ze++,ct+=b){for(let ut=0;ut<K.BLOCK_SIZE;ut++){const ot=l[ct+ut]&255;Se+=ot,ot<Ie&&(Ie=ot),ot>Pe&&(Pe=ot)}if(Pe-Ie>K.MIN_DYNAMIC_RANGE)for(Ze++,ct+=b;Ze<K.BLOCK_SIZE;Ze++,ct+=b)for(let ut=0;ut<K.BLOCK_SIZE;ut++)Se+=l[ct+ut]&255}let Be=Se>>K.BLOCK_SIZE_POWER*2;if(Pe-Ie<=K.MIN_DYNAMIC_RANGE&&(Be=Ie/2,B>0&&ne>0)){const Ze=(M[B-1][ne]+2*M[B][ne-1]+M[B-1][ne-1])/4;Ie<Ze&&(Be=Ze)}M[B][ne]=Be}}return M}}K.BLOCK_SIZE_POWER=3,K.BLOCK_SIZE=1<<K.BLOCK_SIZE_POWER,K.BLOCK_SIZE_MASK=K.BLOCK_SIZE-1,K.MINIMUM_DIMENSION=K.BLOCK_SIZE*5,K.MIN_DYNAMIC_RANGE=24;class ve{constructor(l,p){this.width=l,this.height=p}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(l,p,m,b){throw new oe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new oe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new oe("This luminance source does not support rotation by 45 degrees.")}toString(){const l=new Uint8ClampedArray(this.width);let p=new fe;for(let m=0;m<this.height;m++){const b=this.getRow(m,l);for(let w=0;w<this.width;w++){const A=b[w]&255;let O;A<64?O="#":A<128?O="+":A<192?O=".":O=" ",p.append(O)}p.append(`
`)}return p.toString()}}class Te extends ve{constructor(l){super(l.getWidth(),l.getHeight()),this.delegate=l}getRow(l,p){const m=this.delegate.getRow(l,p),b=this.getWidth();for(let w=0;w<b;w++)m[w]=255-(m[w]&255);return m}getMatrix(){const l=this.delegate.getMatrix(),p=this.getWidth()*this.getHeight(),m=new Uint8ClampedArray(p);for(let b=0;b<p;b++)m[b]=255-(l[b]&255);return m}isCropSupported(){return this.delegate.isCropSupported()}crop(l,p,m,b){return new Te(this.delegate.crop(l,p,m,b))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Te(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Te(this.delegate.rotateCounterClockwise45())}}class we extends ve{constructor(l){super(l.width,l.height),this.canvas=l,this.tempCanvasElement=null,this.buffer=we.makeBufferFromCanvasImageData(l)}static makeBufferFromCanvasImageData(l){const p=l.getContext("2d").getImageData(0,0,l.width,l.height);return we.toGrayscaleBuffer(p.data,l.width,l.height)}static toGrayscaleBuffer(l,p,m){const b=new Uint8ClampedArray(p*m);for(let w=0,A=0,O=l.length;w<O;w+=4,A++){let M;if(l[w+3]===0)M=255;else{const $=l[w],ne=l[w+1],le=l[w+2];M=306*$+601*ne+117*le+512>>10}b[A]=M}return b}getRow(l,p){if(l<0||l>=this.getHeight())throw new g("Requested row is outside the image: "+l);const m=this.getWidth(),b=l*m;return p===null?p=this.buffer.slice(b,b+m):(p.length<m&&(p=new Uint8ClampedArray(m)),p.set(this.buffer.slice(b,b+m))),p}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(l,p,m,b){return super.crop(l,p,m,b),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const l=this.canvas.ownerDocument.createElement("canvas");l.width=this.canvas.width,l.height=this.canvas.height,this.tempCanvasElement=l}return this.tempCanvasElement}rotate(l){const p=this.getTempCanvasElement(),m=p.getContext("2d"),b=l*we.DEGREE_TO_RADIANS,w=this.canvas.width,A=this.canvas.height,O=Math.ceil(Math.abs(Math.cos(b))*w+Math.abs(Math.sin(b))*A),M=Math.ceil(Math.abs(Math.sin(b))*w+Math.abs(Math.cos(b))*A);return p.width=O,p.height=M,m.translate(O/2,M/2),m.rotate(b),m.drawImage(this.canvas,w/-2,A/-2),this.buffer=we.makeBufferFromCanvasImageData(p),this}invert(){return new Te(this)}}we.DEGREE_TO_RADIANS=Math.PI/180;class ue{constructor(l,p,m){this.deviceId=l,this.label=p,this.kind="videoinput",this.groupId=m||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var V=(globalThis||$m||self||window||void 0)&&(globalThis||$m||self||window||void 0).__awaiter||function(te,l,p,m){function b(w){return w instanceof p?w:new p(function(A){A(w)})}return new(p||(p=Promise))(function(w,A){function O($){try{B(m.next($))}catch(ne){A(ne)}}function M($){try{B(m.throw($))}catch(ne){A(ne)}}function B($){$.done?w($.value):b($.value).then(O,M)}B((m=m.apply(te,l||[])).next())})};class he{constructor(l,p=500,m){this.reader=l,this.timeBetweenScansMillis=p,this._hints=m,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(l){this._timeBetweenDecodingAttempts=l<0?0:l}set hints(l){this._hints=l||null}get hints(){return this._hints}listVideoInputDevices(){return V(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const l=yield navigator.mediaDevices.enumerateDevices(),p=[];for(const m of l){const b=m.kind==="video"?"videoinput":m.kind;if(b!=="videoinput")continue;const w=m.deviceId||m.id,A=m.label||`Video device ${p.length+1}`,O=m.groupId,M={deviceId:w,label:A,kind:b,groupId:O};p.push(M)}return p})}getVideoInputDevices(){return V(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(p=>new ue(p.deviceId,p.label))})}findDeviceById(l){return V(this,void 0,void 0,function*(){const p=yield this.listVideoInputDevices();return p?p.find(m=>m.deviceId===l):null})}decodeFromInputVideoDevice(l,p){return V(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(l,p)})}decodeOnceFromVideoDevice(l,p){return V(this,void 0,void 0,function*(){this.reset();let m;l?m={deviceId:{exact:l}}:m={facingMode:"environment"};const b={video:m};return yield this.decodeOnceFromConstraints(b,p)})}decodeOnceFromConstraints(l,p){return V(this,void 0,void 0,function*(){const m=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeOnceFromStream(m,p)})}decodeOnceFromStream(l,p){return V(this,void 0,void 0,function*(){this.reset();const m=yield this.attachStreamToVideo(l,p);return yield this.decodeOnce(m)})}decodeFromInputVideoDeviceContinuously(l,p,m){return V(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(l,p,m)})}decodeFromVideoDevice(l,p,m){return V(this,void 0,void 0,function*(){let b;l?b={deviceId:{exact:l}}:b={facingMode:"environment"};const w={video:b};return yield this.decodeFromConstraints(w,p,m)})}decodeFromConstraints(l,p,m){return V(this,void 0,void 0,function*(){const b=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeFromStream(b,p,m)})}decodeFromStream(l,p,m){return V(this,void 0,void 0,function*(){this.reset();const b=yield this.attachStreamToVideo(l,p);return yield this.decodeContinuously(b,m)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(l,p){return V(this,void 0,void 0,function*(){const m=this.prepareVideoElement(p);return this.addVideoSource(m,l),this.videoElement=m,this.stream=l,yield this.playVideoOnLoadAsync(m),m})}playVideoOnLoadAsync(l){return new Promise((p,m)=>this.playVideoOnLoad(l,()=>p()))}playVideoOnLoad(l,p){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(l),l.addEventListener("ended",this.videoEndedListener),l.addEventListener("canplay",this.videoCanPlayListener),l.addEventListener("playing",p),this.tryPlayVideo(l)}isVideoPlaying(l){return l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2}tryPlayVideo(l){return V(this,void 0,void 0,function*(){if(this.isVideoPlaying(l)){console.warn("Trying to play video that is already playing.");return}try{yield l.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(l,p){const m=document.getElementById(l);if(!m)throw new h(`element with id '${l}' not found`);if(m.nodeName.toLowerCase()!==p.toLowerCase())throw new h(`element with id '${l}' must be an ${p} element`);return m}decodeFromImage(l,p){if(!l&&!p)throw new h("either imageElement with a src set or an url must be provided");return p&&!l?this.decodeFromImageUrl(p):this.decodeFromImageElement(l)}decodeFromVideo(l,p){if(!l&&!p)throw new h("Either an element with a src set or an URL must be provided");return p&&!l?this.decodeFromVideoUrl(p):this.decodeFromVideoElement(l)}decodeFromVideoContinuously(l,p,m){if(l===void 0&&p===void 0)throw new h("Either an element with a src set or an URL must be provided");return p&&!l?this.decodeFromVideoUrlContinuously(p,m):this.decodeFromVideoElementContinuously(l,m)}decodeFromImageElement(l){if(!l)throw new h("An image element must be provided.");this.reset();const p=this.prepareImageElement(l);this.imageElement=p;let m;return this.isImageLoaded(p)?m=this.decodeOnce(p,!1,!0):m=this._decodeOnLoadImage(p),m}decodeFromVideoElement(l){const p=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideo(p)}decodeFromVideoElementContinuously(l,p){const m=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideoContinuously(m,p)}_decodeFromVideoElementSetup(l){if(!l)throw new h("A video element must be provided.");this.reset();const p=this.prepareVideoElement(l);return this.videoElement=p,p}decodeFromImageUrl(l){if(!l)throw new h("An URL must be provided.");this.reset();const p=this.prepareImageElement();this.imageElement=p;const m=this._decodeOnLoadImage(p);return p.src=l,m}decodeFromVideoUrl(l){if(!l)throw new h("An URL must be provided.");this.reset();const p=this.prepareVideoElement(),m=this.decodeFromVideoElement(p);return p.src=l,m}decodeFromVideoUrlContinuously(l,p){if(!l)throw new h("An URL must be provided.");this.reset();const m=this.prepareVideoElement(),b=this.decodeFromVideoElementContinuously(m,p);return m.src=l,b}_decodeOnLoadImage(l){return new Promise((p,m)=>{this.imageLoadedListener=()=>this.decodeOnce(l,!1,!0).then(p,m),l.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(l){return V(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(l),yield this.decodeOnce(l)})}_decodeOnLoadVideoContinuously(l,p){return V(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(l),this.decodeContinuously(l,p)})}isImageLoaded(l){return!(!l.complete||l.naturalWidth===0)}prepareImageElement(l){let p;return typeof l>"u"&&(p=document.createElement("img"),p.width=200,p.height=200),typeof l=="string"&&(p=this.getMediaElement(l,"img")),l instanceof HTMLImageElement&&(p=l),p}prepareVideoElement(l){let p;return!l&&typeof document<"u"&&(p=document.createElement("video"),p.width=200,p.height=200),typeof l=="string"&&(p=this.getMediaElement(l,"video")),l instanceof HTMLVideoElement&&(p=l),p.setAttribute("autoplay","true"),p.setAttribute("muted","true"),p.setAttribute("playsinline","true"),p}decodeOnce(l,p=!0,m=!0){this._stopAsyncDecode=!1;const b=(w,A)=>{if(this._stopAsyncDecode){A(new ae("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const O=this.decode(l);w(O)}catch(O){const M=p&&O instanceof ae,$=(O instanceof y||O instanceof Y)&&m;if(M||$)return setTimeout(b,this._timeBetweenDecodingAttempts,w,A);A(O)}};return new Promise((w,A)=>b(w,A))}decodeContinuously(l,p){this._stopContinuousDecode=!1;const m=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const b=this.decode(l);p(b,null),setTimeout(m,this.timeBetweenScansMillis)}catch(b){p(null,b);const w=b instanceof y||b instanceof Y,A=b instanceof ae;(w||A)&&setTimeout(m,this._timeBetweenDecodingAttempts)}};m()}decode(l){const p=this.createBinaryBitmap(l);return this.decodeBitmap(p)}_isHTMLVideoElement(l){return l.videoWidth!==0}drawFrameOnCanvas(l,p,m){p||(p={sx:0,sy:0,sWidth:l.videoWidth,sHeight:l.videoHeight,dx:0,dy:0,dWidth:l.videoWidth,dHeight:l.videoHeight}),m||(m=this.captureCanvasContext),m.drawImage(l,p.sx,p.sy,p.sWidth,p.sHeight,p.dx,p.dy,p.dWidth,p.dHeight)}drawImageOnCanvas(l,p,m=this.captureCanvasContext){p||(p={sx:0,sy:0,sWidth:l.naturalWidth,sHeight:l.naturalHeight,dx:0,dy:0,dWidth:l.naturalWidth,dHeight:l.naturalHeight}),m||(m=this.captureCanvasContext),m.drawImage(l,p.sx,p.sy,p.sWidth,p.sHeight,p.dx,p.dy,p.dWidth,p.dHeight)}createBinaryBitmap(l){this.getCaptureCanvasContext(l),this._isHTMLVideoElement(l)?this.drawFrameOnCanvas(l):this.drawImageOnCanvas(l);const p=this.getCaptureCanvas(l),m=new we(p),b=new K(m);return new x(b)}getCaptureCanvasContext(l){if(!this.captureCanvasContext){const m=this.getCaptureCanvas(l).getContext("2d");this.captureCanvasContext=m}return this.captureCanvasContext}getCaptureCanvas(l){if(!this.captureCanvas){const p=this.createCaptureCanvas(l);this.captureCanvas=p}return this.captureCanvas}decodeBitmap(l){return this.reader.decode(l,this._hints)}createCaptureCanvas(l){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const p=document.createElement("canvas");let m,b;return typeof l<"u"&&(l instanceof HTMLVideoElement?(m=l.videoWidth,b=l.videoHeight):l instanceof HTMLImageElement&&(m=l.naturalWidth||l.width,b=l.naturalHeight||l.height)),p.style.width=m+"px",p.style.height=b+"px",p.width=m,p.height=b,p}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(l=>l.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(l,p){try{l.srcObject=p}catch{l.src=URL.createObjectURL(p)}}cleanVideoSource(l){try{l.srcObject=null}catch{l.src=""}this.videoElement.removeAttribute("src")}}class me{constructor(l,p,m=p==null?0:8*p.length,b,w,A=E.currentTimeMillis()){this.text=l,this.rawBytes=p,this.numBits=m,this.resultPoints=b,this.format=w,this.timestamp=A,this.text=l,this.rawBytes=p,m==null?this.numBits=p==null?0:8*p.length:this.numBits=m,this.resultPoints=b,this.format=w,this.resultMetadata=null,A==null?this.timestamp=E.currentTimeMillis():this.timestamp=A}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(l,p){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(l,p)}putAllMetadata(l){l!==null&&(this.resultMetadata===null?this.resultMetadata=l:this.resultMetadata=new Map(l))}addResultPoints(l){const p=this.resultPoints;if(p===null)this.resultPoints=l;else if(l!==null&&l.length>0){const m=new Array(p.length+l.length);E.arraycopy(p,0,m,0,p.length),E.arraycopy(l,0,m,p.length,l.length),this.resultPoints=m}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ce;(function(te){te[te.AZTEC=0]="AZTEC",te[te.CODABAR=1]="CODABAR",te[te.CODE_39=2]="CODE_39",te[te.CODE_93=3]="CODE_93",te[te.CODE_128=4]="CODE_128",te[te.DATA_MATRIX=5]="DATA_MATRIX",te[te.EAN_8=6]="EAN_8",te[te.EAN_13=7]="EAN_13",te[te.ITF=8]="ITF",te[te.MAXICODE=9]="MAXICODE",te[te.PDF_417=10]="PDF_417",te[te.QR_CODE=11]="QR_CODE",te[te.RSS_14=12]="RSS_14",te[te.RSS_EXPANDED=13]="RSS_EXPANDED",te[te.UPC_A=14]="UPC_A",te[te.UPC_E=15]="UPC_E",te[te.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ce||(Ce={}));var xe=Ce,Me;(function(te){te[te.OTHER=0]="OTHER",te[te.ORIENTATION=1]="ORIENTATION",te[te.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",te[te.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",te[te.ISSUE_NUMBER=4]="ISSUE_NUMBER",te[te.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",te[te.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",te[te.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",te[te.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",te[te.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",te[te.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Me||(Me={}));var ze=Me;class Oe{constructor(l,p,m,b,w=-1,A=-1){this.rawBytes=l,this.text=p,this.byteSegments=m,this.ecLevel=b,this.structuredAppendSequenceNumber=w,this.structuredAppendParity=A,this.numBits=l==null?0:8*l.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(l){this.numBits=l}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(l){this.errorsCorrected=l}getErasures(){return this.erasures}setErasures(l){this.erasures=l}getOther(){return this.other}setOther(l){this.other=l}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ge{exp(l){return this.expTable[l]}log(l){if(l===0)throw new g;return this.logTable[l]}static addOrSubtract(l,p){return l^p}}class Je{constructor(l,p){if(p.length===0)throw new g;this.field=l;const m=p.length;if(m>1&&p[0]===0){let b=1;for(;b<m&&p[b]===0;)b++;b===m?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(m-b),E.arraycopy(p,b,this.coefficients,0,this.coefficients.length))}else this.coefficients=p}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);const p=this.coefficients;let m;if(l===1){m=0;for(let A=0,O=p.length;A!==O;A++){const M=p[A];m=Ge.addOrSubtract(m,M)}return m}m=p[0];const b=p.length,w=this.field;for(let A=1;A<b;A++)m=Ge.addOrSubtract(w.multiply(l,m),p[A]);return m}addOrSubtract(l){if(!this.field.equals(l.field))throw new g("GenericGFPolys do not have same GenericGF field");if(this.isZero())return l;if(l.isZero())return this;let p=this.coefficients,m=l.coefficients;if(p.length>m.length){const A=p;p=m,m=A}let b=new Int32Array(m.length);const w=m.length-p.length;E.arraycopy(m,0,b,0,w);for(let A=w;A<m.length;A++)b[A]=Ge.addOrSubtract(p[A-w],m[A]);return new Je(this.field,b)}multiply(l){if(!this.field.equals(l.field))throw new g("GenericGFPolys do not have same GenericGF field");if(this.isZero()||l.isZero())return this.field.getZero();const p=this.coefficients,m=p.length,b=l.coefficients,w=b.length,A=new Int32Array(m+w-1),O=this.field;for(let M=0;M<m;M++){const B=p[M];for(let $=0;$<w;$++)A[M+$]=Ge.addOrSubtract(A[M+$],O.multiply(B,b[$]))}return new Je(O,A)}multiplyScalar(l){if(l===0)return this.field.getZero();if(l===1)return this;const p=this.coefficients.length,m=this.field,b=new Int32Array(p),w=this.coefficients;for(let A=0;A<p;A++)b[A]=m.multiply(w[A],l);return new Je(m,b)}multiplyByMonomial(l,p){if(l<0)throw new g;if(p===0)return this.field.getZero();const m=this.coefficients,b=m.length,w=new Int32Array(b+l),A=this.field;for(let O=0;O<b;O++)w[O]=A.multiply(m[O],p);return new Je(A,w)}divide(l){if(!this.field.equals(l.field))throw new g("GenericGFPolys do not have same GenericGF field");if(l.isZero())throw new g("Divide by 0");const p=this.field;let m=p.getZero(),b=this;const w=l.getCoefficient(l.getDegree()),A=p.inverse(w);for(;b.getDegree()>=l.getDegree()&&!b.isZero();){const O=b.getDegree()-l.getDegree(),M=p.multiply(b.getCoefficient(b.getDegree()),A),B=l.multiplyByMonomial(O,M),$=p.buildMonomial(O,M);m=m.addOrSubtract($),b=b.addOrSubtract(B)}return[m,b]}toString(){let l="";for(let p=this.getDegree();p>=0;p--){let m=this.getCoefficient(p);if(m!==0){if(m<0?(l+=" - ",m=-m):l.length>0&&(l+=" + "),p===0||m!==1){const b=this.field.log(m);b===0?l+="1":b===1?l+="a":(l+="a^",l+=b)}p!==0&&(p===1?l+="x":(l+="x^",l+=p))}}return l}}class qe extends c{}qe.kind="ArithmeticException";class lt extends Ge{constructor(l,p,m){super(),this.primitive=l,this.size=p,this.generatorBase=m;const b=new Int32Array(p);let w=1;for(let O=0;O<p;O++)b[O]=w,w*=2,w>=p&&(w^=l,w&=p-1);this.expTable=b;const A=new Int32Array(p);for(let O=0;O<p-1;O++)A[b[O]]=O;this.logTable=A,this.zero=new Je(this,Int32Array.from([0])),this.one=new Je(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,p){if(l<0)throw new g;if(p===0)return this.zero;const m=new Int32Array(l+1);return m[0]=p,new Je(this,m)}inverse(l){if(l===0)throw new qe;return this.expTable[this.size-this.logTable[l]-1]}multiply(l,p){return l===0||p===0?0:this.expTable[(this.logTable[l]+this.logTable[p])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+F.toHexString(this.primitive)+","+this.size+")"}equals(l){return l===this}}lt.AZTEC_DATA_12=new lt(4201,4096,1),lt.AZTEC_DATA_10=new lt(1033,1024,1),lt.AZTEC_DATA_6=new lt(67,64,1),lt.AZTEC_PARAM=new lt(19,16,1),lt.QR_CODE_FIELD_256=new lt(285,256,0),lt.DATA_MATRIX_FIELD_256=new lt(301,256,1),lt.AZTEC_DATA_8=lt.DATA_MATRIX_FIELD_256,lt.MAXICODE_FIELD_64=lt.AZTEC_DATA_6;class bt extends c{}bt.kind="ReedSolomonException";class ye extends c{}ye.kind="IllegalStateException";class wt{constructor(l){this.field=l}decode(l,p){const m=this.field,b=new Je(m,l),w=new Int32Array(p);let A=!0;for(let Se=0;Se<p;Se++){const Ie=b.evaluateAt(m.exp(Se+m.getGeneratorBase()));w[w.length-1-Se]=Ie,Ie!==0&&(A=!1)}if(A)return;const O=new Je(m,w),M=this.runEuclideanAlgorithm(m.buildMonomial(p,1),O,p),B=M[0],$=M[1],ne=this.findErrorLocations(B),le=this.findErrorMagnitudes($,ne);for(let Se=0;Se<ne.length;Se++){const Ie=l.length-1-m.log(ne[Se]);if(Ie<0)throw new bt("Bad error location");l[Ie]=lt.addOrSubtract(l[Ie],le[Se])}}runEuclideanAlgorithm(l,p,m){if(l.getDegree()<p.getDegree()){const Se=l;l=p,p=Se}const b=this.field;let w=l,A=p,O=b.getZero(),M=b.getOne();for(;A.getDegree()>=(m/2|0);){let Se=w,Ie=O;if(w=A,O=M,w.isZero())throw new bt("r_{i-1} was zero");A=Se;let Pe=b.getZero();const Be=w.getCoefficient(w.getDegree()),Ze=b.inverse(Be);for(;A.getDegree()>=w.getDegree()&&!A.isZero();){const ct=A.getDegree()-w.getDegree(),ut=b.multiply(A.getCoefficient(A.getDegree()),Ze);Pe=Pe.addOrSubtract(b.buildMonomial(ct,ut)),A=A.addOrSubtract(w.multiplyByMonomial(ct,ut))}if(M=Pe.multiply(O).addOrSubtract(Ie),A.getDegree()>=w.getDegree())throw new ye("Division algorithm failed to reduce polynomial?")}const B=M.getCoefficient(0);if(B===0)throw new bt("sigmaTilde(0) was zero");const $=b.inverse(B),ne=M.multiplyScalar($),le=A.multiplyScalar($);return[ne,le]}findErrorLocations(l){const p=l.getDegree();if(p===1)return Int32Array.from([l.getCoefficient(1)]);const m=new Int32Array(p);let b=0;const w=this.field;for(let A=1;A<w.getSize()&&b<p;A++)l.evaluateAt(A)===0&&(m[b]=w.inverse(A),b++);if(b!==p)throw new bt("Error locator degree does not match number of roots");return m}findErrorMagnitudes(l,p){const m=p.length,b=new Int32Array(m),w=this.field;for(let A=0;A<m;A++){const O=w.inverse(p[A]);let M=1;for(let B=0;B<m;B++)if(A!==B){const $=w.multiply(p[B],O),ne=($&1)===0?$|1:$&-2;M=w.multiply(M,ne)}b[A]=w.multiply(l.evaluateAt(O),w.inverse(M)),w.getGeneratorBase()!==0&&(b[A]=w.multiply(b[A],O))}return b}}var Rt;(function(te){te[te.UPPER=0]="UPPER",te[te.LOWER=1]="LOWER",te[te.MIXED=2]="MIXED",te[te.DIGIT=3]="DIGIT",te[te.PUNCT=4]="PUNCT",te[te.BINARY=5]="BINARY"})(Rt||(Rt={}));class _t{decode(l){this.ddata=l;let p=l.getBits(),m=this.extractBits(p),b=this.correctBits(m),w=_t.convertBoolArrayToByteArray(b),A=_t.getEncodedData(b),O=new Oe(w,A,null,null);return O.setNumBits(b.length),O}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let p=l.length,m=Rt.UPPER,b=Rt.UPPER,w="",A=0;for(;A<p;)if(b===Rt.BINARY){if(p-A<5)break;let O=_t.readCode(l,A,5);if(A+=5,O===0){if(p-A<11)break;O=_t.readCode(l,A,11)+31,A+=11}for(let M=0;M<O;M++){if(p-A<8){A=p;break}const B=_t.readCode(l,A,8);w+=G.castAsNonUtf8Char(B),A+=8}b=m}else{let O=b===Rt.DIGIT?4:5;if(p-A<O)break;let M=_t.readCode(l,A,O);A+=O;let B=_t.getCharacter(b,M);B.startsWith("CTRL_")?(m=b,b=_t.getTable(B.charAt(5)),B.charAt(6)==="L"&&(m=b)):(w+=B,b=m)}return w}static getTable(l){switch(l){case"L":return Rt.LOWER;case"P":return Rt.PUNCT;case"M":return Rt.MIXED;case"D":return Rt.DIGIT;case"B":return Rt.BINARY;case"U":default:return Rt.UPPER}}static getCharacter(l,p){switch(l){case Rt.UPPER:return _t.UPPER_TABLE[p];case Rt.LOWER:return _t.LOWER_TABLE[p];case Rt.MIXED:return _t.MIXED_TABLE[p];case Rt.PUNCT:return _t.PUNCT_TABLE[p];case Rt.DIGIT:return _t.DIGIT_TABLE[p];default:throw new ye("Bad table")}}correctBits(l){let p,m;this.ddata.getNbLayers()<=2?(m=6,p=lt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(m=8,p=lt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(m=10,p=lt.AZTEC_DATA_10):(m=12,p=lt.AZTEC_DATA_12);let b=this.ddata.getNbDatablocks(),w=l.length/m;if(w<b)throw new Y;let A=l.length%m,O=new Int32Array(w);for(let le=0;le<w;le++,A+=m)O[le]=_t.readCode(l,A,m);try{new wt(p).decode(O,w-b)}catch(le){throw new Y(le)}let M=(1<<m)-1,B=0;for(let le=0;le<b;le++){let Se=O[le];if(Se===0||Se===M)throw new Y;(Se===1||Se===M-1)&&B++}let $=new Array(b*m-B),ne=0;for(let le=0;le<b;le++){let Se=O[le];if(Se===1||Se===M-1)$.fill(Se>1,ne,ne+m-1),ne+=m-1;else for(let Ie=m-1;Ie>=0;--Ie)$[ne++]=(Se&1<<Ie)!==0}return $}extractBits(l){let p=this.ddata.isCompact(),m=this.ddata.getNbLayers(),b=(p?11:14)+m*4,w=new Int32Array(b),A=new Array(this.totalBitsInLayer(m,p));if(p)for(let O=0;O<w.length;O++)w[O]=O;else{let O=b+1+2*F.truncDivision(F.truncDivision(b,2)-1,15),M=b/2,B=F.truncDivision(O,2);for(let $=0;$<M;$++){let ne=$+F.truncDivision($,15);w[M-$-1]=B-ne-1,w[M+$]=B+ne+1}}for(let O=0,M=0;O<m;O++){let B=(m-O)*4+(p?9:12),$=O*2,ne=b-1-$;for(let le=0;le<B;le++){let Se=le*2;for(let Ie=0;Ie<2;Ie++)A[M+Se+Ie]=l.get(w[$+Ie],w[$+le]),A[M+2*B+Se+Ie]=l.get(w[$+le],w[ne-Ie]),A[M+4*B+Se+Ie]=l.get(w[ne-Ie],w[ne-le]),A[M+6*B+Se+Ie]=l.get(w[ne-le],w[$+Ie])}M+=B*8}return A}static readCode(l,p,m){let b=0;for(let w=p;w<p+m;w++)b<<=1,l[w]&&(b|=1);return b}static readByte(l,p){let m=l.length-p;return m>=8?_t.readCode(l,p,8):_t.readCode(l,p,m)<<8-m}static convertBoolArrayToByteArray(l){let p=new Uint8Array((l.length+7)/8);for(let m=0;m<p.length;m++)p[m]=_t.readByte(l,8*m);return p}totalBitsInLayer(l,p){return((p?88:112)+16*l)*l}}_t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],_t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],_t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],_t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],_t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class nt{constructor(){}static round(l){return l===NaN?0:l<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:l>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:l+(l<0?-.5:.5)|0}static distance(l,p,m,b){const w=l-m,A=p-b;return Math.sqrt(w*w+A*A)}static sum(l){let p=0;for(let m=0,b=l.length;m!==b;m++){const w=l[m];p+=w}return p}}class en{static floatToIntBits(l){return l}}en.MAX_VALUE=Number.MAX_SAFE_INTEGER;class at{constructor(l,p){this.x=l,this.y=p}getX(){return this.x}getY(){return this.y}equals(l){if(l instanceof at){const p=l;return this.x===p.x&&this.y===p.y}return!1}hashCode(){return 31*en.floatToIntBits(this.x)+en.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(l){const p=this.distance(l[0],l[1]),m=this.distance(l[1],l[2]),b=this.distance(l[0],l[2]);let w,A,O;if(m>=p&&m>=b?(A=l[0],w=l[1],O=l[2]):b>=m&&b>=p?(A=l[1],w=l[0],O=l[2]):(A=l[2],w=l[0],O=l[1]),this.crossProductZ(w,A,O)<0){const M=w;w=O,O=M}l[0]=w,l[1]=A,l[2]=O}static distance(l,p){return nt.distance(l.x,l.y,p.x,p.y)}static crossProductZ(l,p,m){const b=p.x,w=p.y;return(m.x-b)*(l.y-w)-(m.y-w)*(l.x-b)}}class an{constructor(l,p){this.bits=l,this.points=p}getBits(){return this.bits}getPoints(){return this.points}}class sn extends an{constructor(l,p,m,b,w){super(l,p),this.compact=m,this.nbDatablocks=b,this.nbLayers=w}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class yn{constructor(l,p,m,b){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),p==null&&(p=yn.INIT_SIZE),m==null&&(m=l.getWidth()/2|0),b==null&&(b=l.getHeight()/2|0);const w=p/2|0;if(this.leftInit=m-w,this.rightInit=m+w,this.upInit=b-w,this.downInit=b+w,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ae}detect(){let l=this.leftInit,p=this.rightInit,m=this.upInit,b=this.downInit,w=!1,A=!0,O=!1,M=!1,B=!1,$=!1,ne=!1;const le=this.width,Se=this.height;for(;A;){A=!1;let Ie=!0;for(;(Ie||!M)&&p<le;)Ie=this.containsBlackPoint(m,b,p,!1),Ie?(p++,A=!0,M=!0):M||p++;if(p>=le){w=!0;break}let Pe=!0;for(;(Pe||!B)&&b<Se;)Pe=this.containsBlackPoint(l,p,b,!0),Pe?(b++,A=!0,B=!0):B||b++;if(b>=Se){w=!0;break}let Be=!0;for(;(Be||!$)&&l>=0;)Be=this.containsBlackPoint(m,b,l,!1),Be?(l--,A=!0,$=!0):$||l--;if(l<0){w=!0;break}let Ze=!0;for(;(Ze||!ne)&&m>=0;)Ze=this.containsBlackPoint(l,p,m,!0),Ze?(m--,A=!0,ne=!0):ne||m--;if(m<0){w=!0;break}A&&(O=!0)}if(!w&&O){const Ie=p-l;let Pe=null;for(let ut=1;Pe===null&&ut<Ie;ut++)Pe=this.getBlackPointOnSegment(l,b-ut,l+ut,b);if(Pe==null)throw new ae;let Be=null;for(let ut=1;Be===null&&ut<Ie;ut++)Be=this.getBlackPointOnSegment(l,m+ut,l+ut,m);if(Be==null)throw new ae;let Ze=null;for(let ut=1;Ze===null&&ut<Ie;ut++)Ze=this.getBlackPointOnSegment(p,m+ut,p-ut,m);if(Ze==null)throw new ae;let ct=null;for(let ut=1;ct===null&&ut<Ie;ut++)ct=this.getBlackPointOnSegment(p,b-ut,p-ut,b);if(ct==null)throw new ae;return this.centerEdges(ct,Pe,Ze,Be)}else throw new ae}getBlackPointOnSegment(l,p,m,b){const w=nt.round(nt.distance(l,p,m,b)),A=(m-l)/w,O=(b-p)/w,M=this.image;for(let B=0;B<w;B++){const $=nt.round(l+B*A),ne=nt.round(p+B*O);if(M.get($,ne))return new at($,ne)}return null}centerEdges(l,p,m,b){const w=l.getX(),A=l.getY(),O=p.getX(),M=p.getY(),B=m.getX(),$=m.getY(),ne=b.getX(),le=b.getY(),Se=yn.CORR;return w<this.width/2?[new at(ne-Se,le+Se),new at(O+Se,M+Se),new at(B-Se,$-Se),new at(w+Se,A-Se)]:[new at(ne+Se,le+Se),new at(O+Se,M-Se),new at(B-Se,$+Se),new at(w-Se,A-Se)]}containsBlackPoint(l,p,m,b){const w=this.image;if(b){for(let A=l;A<=p;A++)if(w.get(A,m))return!0}else for(let A=l;A<=p;A++)if(w.get(m,A))return!0;return!1}}yn.INIT_SIZE=10,yn.CORR=1;class Fn{static checkAndNudgePoints(l,p){const m=l.getWidth(),b=l.getHeight();let w=!0;for(let A=0;A<p.length&&w;A+=2){const O=Math.floor(p[A]),M=Math.floor(p[A+1]);if(O<-1||O>m||M<-1||M>b)throw new ae;w=!1,O===-1?(p[A]=0,w=!0):O===m&&(p[A]=m-1,w=!0),M===-1?(p[A+1]=0,w=!0):M===b&&(p[A+1]=b-1,w=!0)}w=!0;for(let A=p.length-2;A>=0&&w;A-=2){const O=Math.floor(p[A]),M=Math.floor(p[A+1]);if(O<-1||O>m||M<-1||M>b)throw new ae;w=!1,O===-1?(p[A]=0,w=!0):O===m&&(p[A]=m-1,w=!0),M===-1?(p[A+1]=0,w=!0):M===b&&(p[A+1]=b-1,w=!0)}}}class cn{constructor(l,p,m,b,w,A,O,M,B){this.a11=l,this.a21=p,this.a31=m,this.a12=b,this.a22=w,this.a32=A,this.a13=O,this.a23=M,this.a33=B}static quadrilateralToQuadrilateral(l,p,m,b,w,A,O,M,B,$,ne,le,Se,Ie,Pe,Be){const Ze=cn.quadrilateralToSquare(l,p,m,b,w,A,O,M);return cn.squareToQuadrilateral(B,$,ne,le,Se,Ie,Pe,Be).times(Ze)}transformPoints(l){const p=l.length,m=this.a11,b=this.a12,w=this.a13,A=this.a21,O=this.a22,M=this.a23,B=this.a31,$=this.a32,ne=this.a33;for(let le=0;le<p;le+=2){const Se=l[le],Ie=l[le+1],Pe=w*Se+M*Ie+ne;l[le]=(m*Se+A*Ie+B)/Pe,l[le+1]=(b*Se+O*Ie+$)/Pe}}transformPointsWithValues(l,p){const m=this.a11,b=this.a12,w=this.a13,A=this.a21,O=this.a22,M=this.a23,B=this.a31,$=this.a32,ne=this.a33,le=l.length;for(let Se=0;Se<le;Se++){const Ie=l[Se],Pe=p[Se],Be=w*Ie+M*Pe+ne;l[Se]=(m*Ie+A*Pe+B)/Be,p[Se]=(b*Ie+O*Pe+$)/Be}}static squareToQuadrilateral(l,p,m,b,w,A,O,M){const B=l-m+w-O,$=p-b+A-M;if(B===0&&$===0)return new cn(m-l,w-m,l,b-p,A-b,p,0,0,1);{const ne=m-w,le=O-w,Se=b-A,Ie=M-A,Pe=ne*Ie-le*Se,Be=(B*Ie-le*$)/Pe,Ze=(ne*$-B*Se)/Pe;return new cn(m-l+Be*m,O-l+Ze*O,l,b-p+Be*b,M-p+Ze*M,p,Be,Ze,1)}}static quadrilateralToSquare(l,p,m,b,w,A,O,M){return cn.squareToQuadrilateral(l,p,m,b,w,A,O,M).buildAdjoint()}buildAdjoint(){return new cn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(l){return new cn(this.a11*l.a11+this.a21*l.a12+this.a31*l.a13,this.a11*l.a21+this.a21*l.a22+this.a31*l.a23,this.a11*l.a31+this.a21*l.a32+this.a31*l.a33,this.a12*l.a11+this.a22*l.a12+this.a32*l.a13,this.a12*l.a21+this.a22*l.a22+this.a32*l.a23,this.a12*l.a31+this.a22*l.a32+this.a32*l.a33,this.a13*l.a11+this.a23*l.a12+this.a33*l.a13,this.a13*l.a21+this.a23*l.a22+this.a33*l.a23,this.a13*l.a31+this.a23*l.a32+this.a33*l.a33)}}class zn extends Fn{sampleGrid(l,p,m,b,w,A,O,M,B,$,ne,le,Se,Ie,Pe,Be,Ze,ct,ut){const ot=cn.quadrilateralToQuadrilateral(b,w,A,O,M,B,$,ne,le,Se,Ie,Pe,Be,Ze,ct,ut);return this.sampleGridWithTransform(l,p,m,ot)}sampleGridWithTransform(l,p,m,b){if(p<=0||m<=0)throw new ae;const w=new ee(p,m),A=new Float32Array(2*p);for(let O=0;O<m;O++){const M=A.length,B=O+.5;for(let $=0;$<M;$+=2)A[$]=$/2+.5,A[$+1]=B;b.transformPoints(A),Fn.checkAndNudgePoints(l,A);try{for(let $=0;$<M;$+=2)l.get(Math.floor(A[$]),Math.floor(A[$+1]))&&w.set($/2,O)}catch{throw new ae}}return w}}class Nn{static setGridSampler(l){Nn.gridSampler=l}static getInstance(){return Nn.gridSampler}}Nn.gridSampler=new zn;class Ot{constructor(l,p){this.x=l,this.y=p}toResultPoint(){return new at(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class In{constructor(l){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=l}detect(){return this.detectMirror(!1)}detectMirror(l){let p=this.getMatrixCenter(),m=this.getBullsEyeCorners(p);if(l){let A=m[0];m[0]=m[2],m[2]=A}this.extractParameters(m);let b=this.sampleGrid(this.image,m[this.shift%4],m[(this.shift+1)%4],m[(this.shift+2)%4],m[(this.shift+3)%4]),w=this.getMatrixCornerPoints(m);return new sn(b,w,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(l){if(!this.isValidPoint(l[0])||!this.isValidPoint(l[1])||!this.isValidPoint(l[2])||!this.isValidPoint(l[3]))throw new ae;let p=2*this.nbCenterLayers,m=new Int32Array([this.sampleLine(l[0],l[1],p),this.sampleLine(l[1],l[2],p),this.sampleLine(l[2],l[3],p),this.sampleLine(l[3],l[0],p)]);this.shift=this.getRotation(m,p);let b=0;for(let A=0;A<4;A++){let O=m[(this.shift+A)%4];this.compact?(b<<=7,b+=O>>1&127):(b<<=10,b+=(O>>2&992)+(O>>1&31))}let w=this.getCorrectedParameterData(b,this.compact);this.compact?(this.nbLayers=(w>>6)+1,this.nbDataBlocks=(w&63)+1):(this.nbLayers=(w>>11)+1,this.nbDataBlocks=(w&2047)+1)}getRotation(l,p){let m=0;l.forEach((b,w,A)=>{let O=(b>>p-2<<1)+(b&1);m=(m<<3)+O}),m=((m&1)<<11)+(m>>1);for(let b=0;b<4;b++)if(F.bitCount(m^this.EXPECTED_CORNER_BITS[b])<=2)return b;throw new ae}getCorrectedParameterData(l,p){let m,b;p?(m=7,b=2):(m=10,b=4);let w=m-b,A=new Int32Array(m);for(let M=m-1;M>=0;--M)A[M]=l&15,l>>=4;try{new wt(lt.AZTEC_PARAM).decode(A,w)}catch{throw new ae}let O=0;for(let M=0;M<b;M++)O=(O<<4)+A[M];return O}getBullsEyeCorners(l){let p=l,m=l,b=l,w=l,A=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let ne=this.getFirstDifferent(p,A,1,-1),le=this.getFirstDifferent(m,A,1,1),Se=this.getFirstDifferent(b,A,-1,1),Ie=this.getFirstDifferent(w,A,-1,-1);if(this.nbCenterLayers>2){let Pe=this.distancePoint(Ie,ne)*this.nbCenterLayers/(this.distancePoint(w,p)*(this.nbCenterLayers+2));if(Pe<.75||Pe>1.25||!this.isWhiteOrBlackRectangle(ne,le,Se,Ie))break}p=ne,m=le,b=Se,w=Ie,A=!A}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ae;this.compact=this.nbCenterLayers===5;let O=new at(p.getX()+.5,p.getY()-.5),M=new at(m.getX()+.5,m.getY()+.5),B=new at(b.getX()-.5,b.getY()+.5),$=new at(w.getX()-.5,w.getY()-.5);return this.expandSquare([O,M,B,$],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let l,p,m,b;try{let O=new yn(this.image).detect();l=O[0],p=O[1],m=O[2],b=O[3]}catch{let M=this.image.getWidth()/2,B=this.image.getHeight()/2;l=this.getFirstDifferent(new Ot(M+7,B-7),!1,1,-1).toResultPoint(),p=this.getFirstDifferent(new Ot(M+7,B+7),!1,1,1).toResultPoint(),m=this.getFirstDifferent(new Ot(M-7,B+7),!1,-1,1).toResultPoint(),b=this.getFirstDifferent(new Ot(M-7,B-7),!1,-1,-1).toResultPoint()}let w=nt.round((l.getX()+b.getX()+p.getX()+m.getX())/4),A=nt.round((l.getY()+b.getY()+p.getY()+m.getY())/4);try{let O=new yn(this.image,15,w,A).detect();l=O[0],p=O[1],m=O[2],b=O[3]}catch{l=this.getFirstDifferent(new Ot(w+7,A-7),!1,1,-1).toResultPoint(),p=this.getFirstDifferent(new Ot(w+7,A+7),!1,1,1).toResultPoint(),m=this.getFirstDifferent(new Ot(w-7,A+7),!1,-1,1).toResultPoint(),b=this.getFirstDifferent(new Ot(w-7,A-7),!1,-1,-1).toResultPoint()}return w=nt.round((l.getX()+b.getX()+p.getX()+m.getX())/4),A=nt.round((l.getY()+b.getY()+p.getY()+m.getY())/4),new Ot(w,A)}getMatrixCornerPoints(l){return this.expandSquare(l,2*this.nbCenterLayers,this.getDimension())}sampleGrid(l,p,m,b,w){let A=Nn.getInstance(),O=this.getDimension(),M=O/2-this.nbCenterLayers,B=O/2+this.nbCenterLayers;return A.sampleGrid(l,O,O,M,M,B,M,B,B,M,B,p.getX(),p.getY(),m.getX(),m.getY(),b.getX(),b.getY(),w.getX(),w.getY())}sampleLine(l,p,m){let b=0,w=this.distanceResultPoint(l,p),A=w/m,O=l.getX(),M=l.getY(),B=A*(p.getX()-l.getX())/w,$=A*(p.getY()-l.getY())/w;for(let ne=0;ne<m;ne++)this.image.get(nt.round(O+ne*B),nt.round(M+ne*$))&&(b|=1<<m-ne-1);return b}isWhiteOrBlackRectangle(l,p,m,b){let w=3;l=new Ot(l.getX()-w,l.getY()+w),p=new Ot(p.getX()-w,p.getY()-w),m=new Ot(m.getX()+w,m.getY()-w),b=new Ot(b.getX()+w,b.getY()+w);let A=this.getColor(b,l);if(A===0)return!1;let O=this.getColor(l,p);return O!==A||(O=this.getColor(p,m),O!==A)?!1:(O=this.getColor(m,b),O===A)}getColor(l,p){let m=this.distancePoint(l,p),b=(p.getX()-l.getX())/m,w=(p.getY()-l.getY())/m,A=0,O=l.getX(),M=l.getY(),B=this.image.get(l.getX(),l.getY()),$=Math.ceil(m);for(let le=0;le<$;le++)O+=b,M+=w,this.image.get(nt.round(O),nt.round(M))!==B&&A++;let ne=A/m;return ne>.1&&ne<.9?0:ne<=.1===B?1:-1}getFirstDifferent(l,p,m,b){let w=l.getX()+m,A=l.getY()+b;for(;this.isValid(w,A)&&this.image.get(w,A)===p;)w+=m,A+=b;for(w-=m,A-=b;this.isValid(w,A)&&this.image.get(w,A)===p;)w+=m;for(w-=m;this.isValid(w,A)&&this.image.get(w,A)===p;)A+=b;return A-=b,new Ot(w,A)}expandSquare(l,p,m){let b=m/(2*p),w=l[0].getX()-l[2].getX(),A=l[0].getY()-l[2].getY(),O=(l[0].getX()+l[2].getX())/2,M=(l[0].getY()+l[2].getY())/2,B=new at(O+b*w,M+b*A),$=new at(O-b*w,M-b*A);w=l[1].getX()-l[3].getX(),A=l[1].getY()-l[3].getY(),O=(l[1].getX()+l[3].getX())/2,M=(l[1].getY()+l[3].getY())/2;let ne=new at(O+b*w,M+b*A),le=new at(O-b*w,M-b*A);return[B,ne,$,le]}isValid(l,p){return l>=0&&l<this.image.getWidth()&&p>0&&p<this.image.getHeight()}isValidPoint(l){let p=nt.round(l.getX()),m=nt.round(l.getY());return this.isValid(p,m)}distancePoint(l,p){return nt.distance(l.getX(),l.getY(),p.getX(),p.getY())}distanceResultPoint(l,p){return nt.distance(l.getX(),l.getY(),p.getX(),p.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(F.truncDivision(this.nbLayers-4,8)+1)+15}}class Ht{decode(l,p=null){let m=null,b=new In(l.getBlackMatrix()),w=null,A=null;try{let $=b.detectMirror(!1);w=$.getPoints(),this.reportFoundResultPoints(p,w),A=new _t().decode($)}catch($){m=$}if(A==null)try{let $=b.detectMirror(!0);w=$.getPoints(),this.reportFoundResultPoints(p,w),A=new _t().decode($)}catch($){throw m??$}let O=new me(A.getText(),A.getRawBytes(),A.getNumBits(),w,xe.AZTEC,E.currentTimeMillis()),M=A.getByteSegments();M!=null&&O.putMetadata(ze.BYTE_SEGMENTS,M);let B=A.getECLevel();return B!=null&&O.putMetadata(ze.ERROR_CORRECTION_LEVEL,B),O}reportFoundResultPoints(l,p){if(l!=null){let m=l.get(Q.NEED_RESULT_POINT_CALLBACK);m!=null&&p.forEach((b,w,A)=>{m.foundPossibleResultPoint(b)})}}reset(){}}class ci extends he{constructor(l=500){super(new Ht,l)}}class tn{decode(l,p){try{return this.doDecode(l,p)}catch{if(p&&p.get(Q.TRY_HARDER)===!0&&l.isRotateSupported()){const w=l.rotateCounterClockwise(),A=this.doDecode(w,p),O=A.getResultMetadata();let M=270;O!==null&&O.get(ze.ORIENTATION)===!0&&(M=M+O.get(ze.ORIENTATION)%360),A.putMetadata(ze.ORIENTATION,M);const B=A.getResultPoints();if(B!==null){const $=w.getHeight();for(let ne=0;ne<B.length;ne++)B[ne]=new at($-B[ne].getY()-1,B[ne].getX())}return A}else throw new ae}}reset(){}doDecode(l,p){const m=l.getWidth(),b=l.getHeight();let w=new U(m);const A=p&&p.get(Q.TRY_HARDER)===!0,O=Math.max(1,b>>(A?8:5));let M;A?M=b:M=15;const B=Math.trunc(b/2);for(let $=0;$<M;$++){const ne=Math.trunc(($+1)/2),le=($&1)===0,Se=B+O*(le?ne:-ne);if(Se<0||Se>=b)break;try{w=l.getBlackRow(Se,w)}catch{continue}for(let Ie=0;Ie<2;Ie++){if(Ie===1&&(w.reverse(),p&&p.get(Q.NEED_RESULT_POINT_CALLBACK)===!0)){const Pe=new Map;p.forEach((Be,Ze)=>Pe.set(Ze,Be)),Pe.delete(Q.NEED_RESULT_POINT_CALLBACK),p=Pe}try{const Pe=this.decodeRow(Se,w,p);if(Ie===1){Pe.putMetadata(ze.ORIENTATION,180);const Be=Pe.getResultPoints();Be!==null&&(Be[0]=new at(m-Be[0].getX()-1,Be[0].getY()),Be[1]=new at(m-Be[1].getX()-1,Be[1].getY()))}return Pe}catch{}}}throw new ae}static recordPattern(l,p,m){const b=m.length;for(let B=0;B<b;B++)m[B]=0;const w=l.getSize();if(p>=w)throw new ae;let A=!l.get(p),O=0,M=p;for(;M<w;){if(l.get(M)!==A)m[O]++;else{if(++O===b)break;m[O]=1,A=!A}M++}if(!(O===b||O===b-1&&M===w))throw new ae}static recordPatternInReverse(l,p,m){let b=m.length,w=l.get(p);for(;p>0&&b>=0;)l.get(--p)!==w&&(b--,w=!w);if(b>=0)throw new ae;tn.recordPattern(l,p+1,m)}static patternMatchVariance(l,p,m){const b=l.length;let w=0,A=0;for(let B=0;B<b;B++)w+=l[B],A+=p[B];if(w<A)return Number.POSITIVE_INFINITY;const O=w/A;m*=O;let M=0;for(let B=0;B<b;B++){const $=l[B],ne=p[B]*O,le=$>ne?$-ne:ne-$;if(le>m)return Number.POSITIVE_INFINITY;M+=le}return M/w}}class rt extends tn{static findStartPattern(l){const p=l.getSize(),m=l.getNextSet(0);let b=0,w=Int32Array.from([0,0,0,0,0,0]),A=m,O=!1;const M=6;for(let B=m;B<p;B++)if(l.get(B)!==O)w[b]++;else{if(b===M-1){let $=rt.MAX_AVG_VARIANCE,ne=-1;for(let le=rt.CODE_START_A;le<=rt.CODE_START_C;le++){const Se=tn.patternMatchVariance(w,rt.CODE_PATTERNS[le],rt.MAX_INDIVIDUAL_VARIANCE);Se<$&&($=Se,ne=le)}if(ne>=0&&l.isRange(Math.max(0,A-(B-A)/2),A,!1))return Int32Array.from([A,B,ne]);A+=w[0]+w[1],w=w.slice(2,w.length-1),w[b-1]=0,w[b]=0,b--}else b++;w[b]=1,O=!O}throw new ae}static decodeCode(l,p,m){tn.recordPattern(l,m,p);let b=rt.MAX_AVG_VARIANCE,w=-1;for(let A=0;A<rt.CODE_PATTERNS.length;A++){const O=rt.CODE_PATTERNS[A],M=this.patternMatchVariance(p,O,rt.MAX_INDIVIDUAL_VARIANCE);M<b&&(b=M,w=A)}if(w>=0)return w;throw new ae}decodeRow(l,p,m){const b=m&&m.get(Q.ASSUME_GS1)===!0,w=rt.findStartPattern(p),A=w[2];let O=0;const M=new Uint8Array(20);M[O++]=A;let B;switch(A){case rt.CODE_START_A:B=rt.CODE_CODE_A;break;case rt.CODE_START_B:B=rt.CODE_CODE_B;break;case rt.CODE_START_C:B=rt.CODE_CODE_C;break;default:throw new Y}let $=!1,ne=!1,le="",Se=w[0],Ie=w[1];const Pe=Int32Array.from([0,0,0,0,0,0]);let Be=0,Ze=0,ct=A,ut=0,ot=!0,rn=!1,mn=!1;for(;!$;){const fl=ne;switch(ne=!1,Be=Ze,Ze=rt.decodeCode(p,Pe,Ie),M[O++]=Ze,Ze!==rt.CODE_STOP&&(ot=!0),Ze!==rt.CODE_STOP&&(ut++,ct+=ut*Ze),Se=Ie,Ie+=Pe.reduce((Gf,Rl)=>Gf+Rl,0),Ze){case rt.CODE_START_A:case rt.CODE_START_B:case rt.CODE_START_C:throw new Y}switch(B){case rt.CODE_CODE_A:if(Ze<64)mn===rn?le+=String.fromCharCode(32+Ze):le+=String.fromCharCode(32+Ze+128),mn=!1;else if(Ze<96)mn===rn?le+=String.fromCharCode(Ze-64):le+=String.fromCharCode(Ze+64),mn=!1;else switch(Ze!==rt.CODE_STOP&&(ot=!1),Ze){case rt.CODE_FNC_1:b&&(le.length===0?le+="]C1":le+="");break;case rt.CODE_FNC_2:case rt.CODE_FNC_3:break;case rt.CODE_FNC_4_A:!rn&&mn?(rn=!0,mn=!1):rn&&mn?(rn=!1,mn=!1):mn=!0;break;case rt.CODE_SHIFT:ne=!0,B=rt.CODE_CODE_B;break;case rt.CODE_CODE_B:B=rt.CODE_CODE_B;break;case rt.CODE_CODE_C:B=rt.CODE_CODE_C;break;case rt.CODE_STOP:$=!0;break}break;case rt.CODE_CODE_B:if(Ze<96)mn===rn?le+=String.fromCharCode(32+Ze):le+=String.fromCharCode(32+Ze+128),mn=!1;else switch(Ze!==rt.CODE_STOP&&(ot=!1),Ze){case rt.CODE_FNC_1:b&&(le.length===0?le+="]C1":le+="");break;case rt.CODE_FNC_2:case rt.CODE_FNC_3:break;case rt.CODE_FNC_4_B:!rn&&mn?(rn=!0,mn=!1):rn&&mn?(rn=!1,mn=!1):mn=!0;break;case rt.CODE_SHIFT:ne=!0,B=rt.CODE_CODE_A;break;case rt.CODE_CODE_A:B=rt.CODE_CODE_A;break;case rt.CODE_CODE_C:B=rt.CODE_CODE_C;break;case rt.CODE_STOP:$=!0;break}break;case rt.CODE_CODE_C:if(Ze<100)Ze<10&&(le+="0"),le+=Ze;else switch(Ze!==rt.CODE_STOP&&(ot=!1),Ze){case rt.CODE_FNC_1:b&&(le.length===0?le+="]C1":le+="");break;case rt.CODE_CODE_A:B=rt.CODE_CODE_A;break;case rt.CODE_CODE_B:B=rt.CODE_CODE_B;break;case rt.CODE_STOP:$=!0;break}break}fl&&(B=B===rt.CODE_CODE_A?rt.CODE_CODE_B:rt.CODE_CODE_A)}const qr=Ie-Se;if(Ie=p.getNextUnset(Ie),!p.isRange(Ie,Math.min(p.getSize(),Ie+(Ie-Se)/2),!1))throw new ae;if(ct-=ut*Be,ct%103!==Be)throw new y;const sa=le.length;if(sa===0)throw new ae;sa>0&&ot&&(B===rt.CODE_CODE_C?le=le.substring(0,sa-2):le=le.substring(0,sa-1));const Bi=(w[1]+w[0])/2,gr=Se+qr/2,Fi=M.length,Ka=new Uint8Array(Fi);for(let fl=0;fl<Fi;fl++)Ka[fl]=M[fl];const Pl=[new at(Bi,l),new at(gr,l)];return new me(le,Ka,0,Pl,xe.CODE_128,new Date().getTime())}}rt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],rt.MAX_AVG_VARIANCE=.25,rt.MAX_INDIVIDUAL_VARIANCE=.7,rt.CODE_SHIFT=98,rt.CODE_CODE_C=99,rt.CODE_CODE_B=100,rt.CODE_CODE_A=101,rt.CODE_FNC_1=102,rt.CODE_FNC_2=97,rt.CODE_FNC_3=96,rt.CODE_FNC_4_A=101,rt.CODE_FNC_4_B=100,rt.CODE_START_A=103,rt.CODE_START_B=104,rt.CODE_START_C=105,rt.CODE_STOP=106;class Dt extends tn{constructor(l=!1,p=!1){super(),this.usingCheckDigit=l,this.extendedMode=p,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,p,m){let b=this.counters;b.fill(0),this.decodeRowResult="";let w=Dt.findAsteriskPattern(p,b),A=p.getNextSet(w[1]),O=p.getSize(),M,B;do{Dt.recordPattern(p,A,b);let Pe=Dt.toNarrowWidePattern(b);if(Pe<0)throw new ae;M=Dt.patternToChar(Pe),this.decodeRowResult+=M,B=A;for(let Be of b)A+=Be;A=p.getNextSet(A)}while(M!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let $=0;for(let Pe of b)$+=Pe;let ne=A-B-$;if(A!==O&&ne*2<$)throw new ae;if(this.usingCheckDigit){let Pe=this.decodeRowResult.length-1,Be=0;for(let Ze=0;Ze<Pe;Ze++)Be+=Dt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ze));if(this.decodeRowResult.charAt(Pe)!==Dt.ALPHABET_STRING.charAt(Be%43))throw new y;this.decodeRowResult=this.decodeRowResult.substring(0,Pe)}if(this.decodeRowResult.length===0)throw new ae;let le;this.extendedMode?le=Dt.decodeExtended(this.decodeRowResult):le=this.decodeRowResult;let Se=(w[1]+w[0])/2,Ie=B+$/2;return new me(le,null,0,[new at(Se,l),new at(Ie,l)],xe.CODE_39,new Date().getTime())}static findAsteriskPattern(l,p){let m=l.getSize(),b=l.getNextSet(0),w=0,A=b,O=!1,M=p.length;for(let B=b;B<m;B++)if(l.get(B)!==O)p[w]++;else{if(w===M-1){if(this.toNarrowWidePattern(p)===Dt.ASTERISK_ENCODING&&l.isRange(Math.max(0,A-Math.floor((B-A)/2)),A,!1))return[A,B];A+=p[0]+p[1],p.copyWithin(0,2,2+w-1),p[w-1]=0,p[w]=0,w--}else w++;p[w]=1,O=!O}throw new ae}static toNarrowWidePattern(l){let p=l.length,m=0,b;do{let w=2147483647;for(let M of l)M<w&&M>m&&(w=M);m=w,b=0;let A=0,O=0;for(let M=0;M<p;M++){let B=l[M];B>m&&(O|=1<<p-1-M,b++,A+=B)}if(b===3){for(let M=0;M<p&&b>0;M++){let B=l[M];if(B>m&&(b--,B*2>=A))return-1}return O}}while(b>3);return-1}static patternToChar(l){for(let p=0;p<Dt.CHARACTER_ENCODINGS.length;p++)if(Dt.CHARACTER_ENCODINGS[p]===l)return Dt.ALPHABET_STRING.charAt(p);if(l===Dt.ASTERISK_ENCODING)return"*";throw new ae}static decodeExtended(l){let p=l.length,m="";for(let b=0;b<p;b++){let w=l.charAt(b);if(w==="+"||w==="$"||w==="%"||w==="/"){let A=l.charAt(b+1),O="\0";switch(w){case"+":if(A>="A"&&A<="Z")O=String.fromCharCode(A.charCodeAt(0)+32);else throw new Y;break;case"$":if(A>="A"&&A<="Z")O=String.fromCharCode(A.charCodeAt(0)-64);else throw new Y;break;case"%":if(A>="A"&&A<="E")O=String.fromCharCode(A.charCodeAt(0)-38);else if(A>="F"&&A<="J")O=String.fromCharCode(A.charCodeAt(0)-11);else if(A>="K"&&A<="O")O=String.fromCharCode(A.charCodeAt(0)+16);else if(A>="P"&&A<="T")O=String.fromCharCode(A.charCodeAt(0)+43);else if(A==="U")O="\0";else if(A==="V")O="@";else if(A==="W")O="`";else if(A==="X"||A==="Y"||A==="Z")O="";else throw new Y;break;case"/":if(A>="A"&&A<="O")O=String.fromCharCode(A.charCodeAt(0)-32);else if(A==="Z")O=":";else throw new Y;break}m+=O,b++}else m+=w}return m}}Dt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Dt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Dt.ASTERISK_ENCODING=148;class Ft extends tn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(l,p,m){let b=this.decodeStart(p),w=this.decodeEnd(p),A=new fe;Ft.decodeMiddle(p,b[1],w[0],A);let O=A.toString(),M=null;m!=null&&(M=m.get(Q.ALLOWED_LENGTHS)),M==null&&(M=Ft.DEFAULT_ALLOWED_LENGTHS);let B=O.length,$=!1,ne=0;for(let Ie of M){if(B===Ie){$=!0;break}Ie>ne&&(ne=Ie)}if(!$&&B>ne&&($=!0),!$)throw new Y;const le=[new at(b[1],l),new at(w[0],l)];return new me(O,null,0,le,xe.ITF,new Date().getTime())}static decodeMiddle(l,p,m,b){let w=new Int32Array(10),A=new Int32Array(5),O=new Int32Array(5);for(w.fill(0),A.fill(0),O.fill(0);p<m;){tn.recordPattern(l,p,w);for(let B=0;B<5;B++){let $=2*B;A[B]=w[$],O[B]=w[$+1]}let M=Ft.decodeDigit(A);b.append(M.toString()),M=this.decodeDigit(O),b.append(M.toString()),w.forEach(function(B){p+=B})}}decodeStart(l){let p=Ft.skipWhiteSpace(l),m=Ft.findGuardPattern(l,p,Ft.START_PATTERN);return this.narrowLineWidth=(m[1]-m[0])/4,this.validateQuietZone(l,m[0]),m}validateQuietZone(l,p){let m=this.narrowLineWidth*10;m=m<p?m:p;for(let b=p-1;m>0&&b>=0&&!l.get(b);b--)m--;if(m!==0)throw new ae}static skipWhiteSpace(l){const p=l.getSize(),m=l.getNextSet(0);if(m===p)throw new ae;return m}decodeEnd(l){l.reverse();try{let p=Ft.skipWhiteSpace(l),m;try{m=Ft.findGuardPattern(l,p,Ft.END_PATTERN_REVERSED[0])}catch(w){w instanceof ae&&(m=Ft.findGuardPattern(l,p,Ft.END_PATTERN_REVERSED[1]))}this.validateQuietZone(l,m[0]);let b=m[0];return m[0]=l.getSize()-m[1],m[1]=l.getSize()-b,m}finally{l.reverse()}}static findGuardPattern(l,p,m){let b=m.length,w=new Int32Array(b),A=l.getSize(),O=!1,M=0,B=p;w.fill(0);for(let $=p;$<A;$++)if(l.get($)!==O)w[M]++;else{if(M===b-1){if(tn.patternMatchVariance(w,m,Ft.MAX_INDIVIDUAL_VARIANCE)<Ft.MAX_AVG_VARIANCE)return[B,$];B+=w[0]+w[1],E.arraycopy(w,2,w,0,M-1),w[M-1]=0,w[M]=0,M--}else M++;w[M]=1,O=!O}throw new ae}static decodeDigit(l){let p=Ft.MAX_AVG_VARIANCE,m=-1,b=Ft.PATTERNS.length;for(let w=0;w<b;w++){let A=Ft.PATTERNS[w],O=tn.patternMatchVariance(l,A,Ft.MAX_INDIVIDUAL_VARIANCE);O<p?(p=O,m=w):O===p&&(m=-1)}if(m>=0)return m%10;throw new ae}}Ft.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ft.MAX_AVG_VARIANCE=.38,Ft.MAX_INDIVIDUAL_VARIANCE=.5,Ft.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ft.START_PATTERN=Int32Array.from([1,1,1,1]),Ft.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ct extends tn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(l){let p=!1,m,b=0,w=Int32Array.from([0,0,0]);for(;!p;){w=Int32Array.from([0,0,0]),m=Ct.findGuardPattern(l,b,!1,this.START_END_PATTERN,w);let A=m[0];b=m[1];let O=A-(b-A);O>=0&&(p=l.isRange(O,A,!1))}return m}static checkChecksum(l){return Ct.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let p=l.length;if(p===0)return!1;let m=parseInt(l.charAt(p-1),10);return Ct.getStandardUPCEANChecksum(l.substring(0,p-1))===m}static getStandardUPCEANChecksum(l){let p=l.length,m=0;for(let b=p-1;b>=0;b-=2){let w=l.charAt(b).charCodeAt(0)-48;if(w<0||w>9)throw new Y;m+=w}m*=3;for(let b=p-2;b>=0;b-=2){let w=l.charAt(b).charCodeAt(0)-48;if(w<0||w>9)throw new Y;m+=w}return(1e3-m)%10}static decodeEnd(l,p){return Ct.findGuardPattern(l,p,!1,Ct.START_END_PATTERN,new Int32Array(Ct.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(l,p,m,b){return this.findGuardPattern(l,p,m,b,new Int32Array(b.length))}static findGuardPattern(l,p,m,b,w){let A=l.getSize();p=m?l.getNextUnset(p):l.getNextSet(p);let O=0,M=p,B=b.length,$=m;for(let ne=p;ne<A;ne++)if(l.get(ne)!==$)w[O]++;else{if(O===B-1){if(tn.patternMatchVariance(w,b,Ct.MAX_INDIVIDUAL_VARIANCE)<Ct.MAX_AVG_VARIANCE)return Int32Array.from([M,ne]);M+=w[0]+w[1];let le=w.slice(2,w.length-1);for(let Se=0;Se<O-1;Se++)w[Se]=le[Se];w[O-1]=0,w[O]=0,O--}else O++;w[O]=1,$=!$}throw new ae}static decodeDigit(l,p,m,b){this.recordPattern(l,m,p);let w=this.MAX_AVG_VARIANCE,A=-1,O=b.length;for(let M=0;M<O;M++){let B=b[M],$=tn.patternMatchVariance(p,B,Ct.MAX_INDIVIDUAL_VARIANCE);$<w&&(w=$,A=M)}if(A>=0)return A;throw new ae}}Ct.MAX_AVG_VARIANCE=.48,Ct.MAX_INDIVIDUAL_VARIANCE=.7,Ct.START_END_PATTERN=Int32Array.from([1,1,1]),Ct.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ct.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ct.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class cr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,p,m){let b=this.decodeRowStringBuffer,w=this.decodeMiddle(p,m,b),A=b.toString(),O=cr.parseExtensionString(A),M=[new at((m[0]+m[1])/2,l),new at(w,l)],B=new me(A,null,0,M,xe.UPC_EAN_EXTENSION,new Date().getTime());return O!=null&&B.putAllMetadata(O),B}decodeMiddle(l,p,m){let b=this.decodeMiddleCounters;b[0]=0,b[1]=0,b[2]=0,b[3]=0;let w=l.getSize(),A=p[1],O=0;for(let B=0;B<5&&A<w;B++){let $=Ct.decodeDigit(l,b,A,Ct.L_AND_G_PATTERNS);m+=String.fromCharCode(48+$%10);for(let ne of b)A+=ne;$>=10&&(O|=1<<4-B),B!==4&&(A=l.getNextSet(A),A=l.getNextUnset(A))}if(m.length!==5)throw new ae;let M=this.determineCheckDigit(O);if(cr.extensionChecksum(m.toString())!==M)throw new ae;return A}static extensionChecksum(l){let p=l.length,m=0;for(let b=p-2;b>=0;b-=2)m+=l.charAt(b).charCodeAt(0)-48;m*=3;for(let b=p-1;b>=0;b-=2)m+=l.charAt(b).charCodeAt(0)-48;return m*=3,m%10}determineCheckDigit(l){for(let p=0;p<10;p++)if(l===this.CHECK_DIGIT_ENCODINGS[p])return p;throw new ae}static parseExtensionString(l){if(l.length!==5)return null;let p=cr.parseExtension5String(l);return p==null?null:new Map([[ze.SUGGESTED_PRICE,p]])}static parseExtension5String(l){let p;switch(l.charAt(0)){case"0":p="";break;case"5":p="$";break;case"9":switch(l){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}p="";break;default:p="";break}let m=parseInt(l.substring(1)),b=(m/100).toString(),w=m%100,A=w<10?"0"+w:w.toString();return p+b+"."+A}}class pn{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,p,m){let b=this.decodeRowStringBuffer,w=this.decodeMiddle(p,m,b),A=b.toString(),O=pn.parseExtensionString(A),M=[new at((m[0]+m[1])/2,l),new at(w,l)],B=new me(A,null,0,M,xe.UPC_EAN_EXTENSION,new Date().getTime());return O!=null&&B.putAllMetadata(O),B}decodeMiddle(l,p,m){let b=this.decodeMiddleCounters;b[0]=0,b[1]=0,b[2]=0,b[3]=0;let w=l.getSize(),A=p[1],O=0;for(let M=0;M<2&&A<w;M++){let B=Ct.decodeDigit(l,b,A,Ct.L_AND_G_PATTERNS);m+=String.fromCharCode(48+B%10);for(let $ of b)A+=$;B>=10&&(O|=1<<1-M),M!==1&&(A=l.getNextSet(A),A=l.getNextUnset(A))}if(m.length!==2)throw new ae;if(parseInt(m.toString())%4!==O)throw new ae;return A}static parseExtensionString(l){return l.length!==2?null:new Map([[ze.ISSUE_NUMBER,parseInt(l)]])}}class _n{static decodeRow(l,p,m){let b=Ct.findGuardPattern(p,m,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new cr().decodeRow(l,p,b)}catch{return new pn().decodeRow(l,p,b)}}}_n.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Xt extends Ct{constructor(){super(),this.decodeRowStringBuffer="",Xt.L_AND_G_PATTERNS=Xt.L_PATTERNS.map(l=>Int32Array.from(l));for(let l=10;l<20;l++){let p=Xt.L_PATTERNS[l-10],m=new Int32Array(p.length);for(let b=0;b<p.length;b++)m[b]=p[p.length-b-1];Xt.L_AND_G_PATTERNS[l]=m}}decodeRow(l,p,m){let b=Xt.findStartGuardPattern(p),w=m==null?null:m.get(Q.NEED_RESULT_POINT_CALLBACK);if(w!=null){const ot=new at((b[0]+b[1])/2,l);w.foundPossibleResultPoint(ot)}let A=this.decodeMiddle(p,b,this.decodeRowStringBuffer),O=A.rowOffset,M=A.resultString;if(w!=null){const ot=new at(O,l);w.foundPossibleResultPoint(ot)}let B=this.decodeEnd(p,O);if(w!=null){const ot=new at((B[0]+B[1])/2,l);w.foundPossibleResultPoint(ot)}let $=B[1],ne=$+($-B[0]);if(ne>=p.getSize()||!p.isRange($,ne,!1))throw new ae;let le=M.toString();if(le.length<8)throw new Y;if(!Xt.checkChecksum(le))throw new y;let Se=(b[1]+b[0])/2,Ie=(B[1]+B[0])/2,Pe=this.getBarcodeFormat(),Be=[new at(Se,l),new at(Ie,l)],Ze=new me(le,null,0,Be,Pe,new Date().getTime()),ct=0;try{let ot=_n.decodeRow(l,p,B[1]);Ze.putMetadata(ze.UPC_EAN_EXTENSION,ot.getText()),Ze.putAllMetadata(ot.getResultMetadata()),Ze.addResultPoints(ot.getResultPoints()),ct=ot.getText().length}catch{}let ut=m==null?null:m.get(Q.ALLOWED_EAN_EXTENSIONS);if(ut!=null){let ot=!1;for(let rn in ut)if(ct.toString()===rn){ot=!0;break}if(!ot)throw new ae}return Ze}decodeEnd(l,p){return Xt.findGuardPattern(l,p,!1,Xt.START_END_PATTERN,new Int32Array(Xt.START_END_PATTERN.length).fill(0))}static checkChecksum(l){return Xt.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let p=l.length;if(p===0)return!1;let m=parseInt(l.charAt(p-1),10);return Xt.getStandardUPCEANChecksum(l.substring(0,p-1))===m}static getStandardUPCEANChecksum(l){let p=l.length,m=0;for(let b=p-1;b>=0;b-=2){let w=l.charAt(b).charCodeAt(0)-48;if(w<0||w>9)throw new Y;m+=w}m*=3;for(let b=p-2;b>=0;b-=2){let w=l.charAt(b).charCodeAt(0)-48;if(w<0||w>9)throw new Y;m+=w}return(1e3-m)%10}}class Sn extends Xt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,p,m){let b=this.decodeMiddleCounters;b[0]=0,b[1]=0,b[2]=0,b[3]=0;let w=l.getSize(),A=p[1],O=0;for(let B=0;B<6&&A<w;B++){let $=Xt.decodeDigit(l,b,A,Xt.L_AND_G_PATTERNS);m+=String.fromCharCode(48+$%10);for(let ne of b)A+=ne;$>=10&&(O|=1<<5-B)}m=Sn.determineFirstDigit(m,O),A=Xt.findGuardPattern(l,A,!0,Xt.MIDDLE_PATTERN,new Int32Array(Xt.MIDDLE_PATTERN.length).fill(0))[1];for(let B=0;B<6&&A<w;B++){let $=Xt.decodeDigit(l,b,A,Xt.L_PATTERNS);m+=String.fromCharCode(48+$);for(let ne of b)A+=ne}return{rowOffset:A,resultString:m}}getBarcodeFormat(){return xe.EAN_13}static determineFirstDigit(l,p){for(let m=0;m<10;m++)if(p===this.FIRST_DIGIT_ENCODINGS[m])return l=String.fromCharCode(48+m)+l,l;throw new ae}}Sn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Kt extends Xt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,p,m){const b=this.decodeMiddleCounters;b[0]=0,b[1]=0,b[2]=0,b[3]=0;let w=l.getSize(),A=p[1];for(let M=0;M<4&&A<w;M++){let B=Xt.decodeDigit(l,b,A,Xt.L_PATTERNS);m+=String.fromCharCode(48+B);for(let $ of b)A+=$}A=Xt.findGuardPattern(l,A,!0,Xt.MIDDLE_PATTERN,new Int32Array(Xt.MIDDLE_PATTERN.length).fill(0))[1];for(let M=0;M<4&&A<w;M++){let B=Xt.decodeDigit(l,b,A,Xt.L_PATTERNS);m+=String.fromCharCode(48+B);for(let $ of b)A+=$}return{rowOffset:A,resultString:m}}getBarcodeFormat(){return xe.EAN_8}}class Xn extends Xt{constructor(){super(...arguments),this.ean13Reader=new Sn}getBarcodeFormat(){return xe.UPC_A}decode(l,p){return this.maybeReturnResult(this.ean13Reader.decode(l))}decodeRow(l,p,m){return this.maybeReturnResult(this.ean13Reader.decodeRow(l,p,m))}decodeMiddle(l,p,m){return this.ean13Reader.decodeMiddle(l,p,m)}maybeReturnResult(l){let p=l.getText();if(p.charAt(0)==="0"){let m=new me(p.substring(1),null,null,l.getResultPoints(),xe.UPC_A);return l.getResultMetadata()!=null&&m.putAllMetadata(l.getResultMetadata()),m}else throw new ae}reset(){this.ean13Reader.reset()}}class ui extends Xt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(l,p,m){const b=this.decodeMiddleCounters.map(B=>B);b[0]=0,b[1]=0,b[2]=0,b[3]=0;const w=l.getSize();let A=p[1],O=0;for(let B=0;B<6&&A<w;B++){const $=ui.decodeDigit(l,b,A,ui.L_AND_G_PATTERNS);m+=String.fromCharCode(48+$%10);for(let ne of b)A+=ne;$>=10&&(O|=1<<5-B)}let M=ui.determineNumSysAndCheckDigit(m,O);return{rowOffset:A,resultString:M}}decodeEnd(l,p){return ui.findGuardPatternWithoutCounters(l,p,!0,ui.MIDDLE_END_PATTERN)}checkChecksum(l){return Xt.checkChecksum(ui.convertUPCEtoUPCA(l))}static determineNumSysAndCheckDigit(l,p){for(let m=0;m<=1;m++)for(let b=0;b<10;b++)if(p===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[m][b]){let w=String.fromCharCode(48+m),A=String.fromCharCode(48+b);return w+l+A}throw ae.getNotFoundInstance()}getBarcodeFormat(){return xe.UPC_E}static convertUPCEtoUPCA(l){const p=l.slice(1,7).split("").map(w=>w.charCodeAt(0)),m=new fe;m.append(l.charAt(0));let b=p[5];switch(b){case 0:case 1:case 2:m.appendChars(p,0,2),m.append(b),m.append("0000"),m.appendChars(p,2,3);break;case 3:m.appendChars(p,0,3),m.append("00000"),m.appendChars(p,3,2);break;case 4:m.appendChars(p,0,4),m.append("00000"),m.append(p[4]);break;default:m.appendChars(p,0,5),m.append("0000"),m.append(b);break}return l.length>=8&&m.append(l.charAt(7)),m.toString()}}ui.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ui.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ri extends tn{constructor(l){super();let p=l==null?null:l.get(Q.POSSIBLE_FORMATS),m=[];r(p)?(m.push(new Sn),m.push(new Xn),m.push(new Kt),m.push(new ui)):(p.indexOf(xe.EAN_13)>-1&&m.push(new Sn),p.indexOf(xe.UPC_A)>-1&&m.push(new Xn),p.indexOf(xe.EAN_8)>-1&&m.push(new Kt),p.indexOf(xe.UPC_E)>-1&&m.push(new ui)),this.readers=m}decodeRow(l,p,m){for(let b of this.readers)try{const w=b.decodeRow(l,p,m),A=w.getBarcodeFormat()===xe.EAN_13&&w.getText().charAt(0)==="0",O=m==null?null:m.get(Q.POSSIBLE_FORMATS),M=O==null||O.includes(xe.UPC_A);if(A&&M){const B=w.getRawBytes(),$=new me(w.getText().substring(1),B,B?B.length:null,w.getResultPoints(),xe.UPC_A);return $.putAllMetadata(w.getResultMetadata()),$}return w}catch{}throw new ae}reset(){for(let l of this.readers)l.reset()}}class Ir extends tn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,p){for(let m=0;m<p.length;m++)if(tn.patternMatchVariance(l,p[m],Ir.MAX_INDIVIDUAL_VARIANCE)<Ir.MAX_AVG_VARIANCE)return m;throw new ae}static count(l){return nt.sum(new Int32Array(l))}static increment(l,p){let m=0,b=p[0];for(let w=1;w<l.length;w++)p[w]>b&&(b=p[w],m=w);l[m]++}static decrement(l,p){let m=0,b=p[0];for(let w=1;w<l.length;w++)p[w]<b&&(b=p[w],m=w);l[m]--}static isFinderPattern(l){let p=l[0]+l[1],m=p+l[2]+l[3],b=p/m;if(b>=Ir.MIN_FINDER_PATTERN_RATIO&&b<=Ir.MAX_FINDER_PATTERN_RATIO){let w=Number.MAX_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER;for(let O of l)O>A&&(A=O),O<w&&(w=O);return A<10*w}return!1}}Ir.MAX_AVG_VARIANCE=.2,Ir.MAX_INDIVIDUAL_VARIANCE=.45,Ir.MIN_FINDER_PATTERN_RATIO=9.5/12,Ir.MAX_FINDER_PATTERN_RATIO=12.5/14;class ea{constructor(l,p){this.value=l,this.checksumPortion=p}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(l){if(!(l instanceof ea))return!1;const p=l;return this.value===p.value&&this.checksumPortion===p.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Zt{constructor(l,p,m,b,w){this.value=l,this.startEnd=p,this.value=l,this.startEnd=p,this.resultPoints=new Array,this.resultPoints.push(new at(m,w)),this.resultPoints.push(new at(b,w))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(l){if(!(l instanceof Zt))return!1;const p=l;return this.value===p.value}hashCode(){return this.value}}class Di{constructor(){}static getRSSvalue(l,p,m){let b=0;for(let M of l)b+=M;let w=0,A=0,O=l.length;for(let M=0;M<O-1;M++){let B;for(B=1,A|=1<<M;B<l[M];B++,A&=~(1<<M)){let $=Di.combins(b-B-1,O-M-2);if(m&&A===0&&b-B-(O-M-1)>=O-M-1&&($-=Di.combins(b-B-(O-M),O-M-2)),O-M-1>1){let ne=0;for(let le=b-B-(O-M-2);le>p;le--)ne+=Di.combins(b-B-le-1,O-M-3);$-=ne*(O-1-M)}else b-B>p&&$--;w+=$}b-=B}return w}static combins(l,p){let m,b;l-p>p?(b=p,m=l-p):(b=l-p,m=p);let w=1,A=1;for(let O=l;O>m;O--)w*=O,A<=b&&(w/=A,A++);for(;A<=b;)w/=A,A++;return w}}class io{static buildBitArray(l){let p=l.length*2-1;l[l.length-1].getRightChar()==null&&(p-=1);let m=12*p,b=new U(m),w=0,O=l[0].getRightChar().getValue();for(let M=11;M>=0;--M)(O&1<<M)!=0&&b.set(w),w++;for(let M=1;M<l.length;++M){let B=l[M],$=B.getLeftChar().getValue();for(let ne=11;ne>=0;--ne)($&1<<ne)!=0&&b.set(w),w++;if(B.getRightChar()!=null){let ne=B.getRightChar().getValue();for(let le=11;le>=0;--le)(ne&1<<le)!=0&&b.set(w),w++}}return b}}class Ti{constructor(l,p){p?this.decodedInformation=null:(this.finished=l,this.decodedInformation=p)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ea{constructor(l){this.newPosition=l}getNewPosition(){return this.newPosition}}class qn extends Ea{constructor(l,p){super(l),this.value=p}getValue(){return this.value}isFNC1(){return this.value===qn.FNC1}}qn.FNC1="$";class Nr extends Ea{constructor(l,p,m){super(l),m?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=p}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class hr extends Ea{constructor(l,p,m){if(super(l),p<0||p>10||m<0||m>10)throw new Y;this.firstDigit=p,this.secondDigit=m}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===hr.FNC1}isSecondDigitFNC1(){return this.secondDigit===hr.FNC1}isAnyFNC1(){return this.firstDigit===hr.FNC1||this.secondDigit===hr.FNC1}}hr.FNC1=10;class Nt{constructor(){}static parseFieldsInGeneralPurpose(l){if(!l)return null;if(l.length<2)throw new ae;let p=l.substring(0,2);for(let w of Nt.TWO_DIGIT_DATA_LENGTH)if(w[0]===p)return w[1]===Nt.VARIABLE_LENGTH?Nt.processVariableAI(2,w[2],l):Nt.processFixedAI(2,w[1],l);if(l.length<3)throw new ae;let m=l.substring(0,3);for(let w of Nt.THREE_DIGIT_DATA_LENGTH)if(w[0]===m)return w[1]===Nt.VARIABLE_LENGTH?Nt.processVariableAI(3,w[2],l):Nt.processFixedAI(3,w[1],l);for(let w of Nt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(w[0]===m)return w[1]===Nt.VARIABLE_LENGTH?Nt.processVariableAI(4,w[2],l):Nt.processFixedAI(4,w[1],l);if(l.length<4)throw new ae;let b=l.substring(0,4);for(let w of Nt.FOUR_DIGIT_DATA_LENGTH)if(w[0]===b)return w[1]===Nt.VARIABLE_LENGTH?Nt.processVariableAI(4,w[2],l):Nt.processFixedAI(4,w[1],l);throw new ae}static processFixedAI(l,p,m){if(m.length<l)throw new ae;let b=m.substring(0,l);if(m.length<l+p)throw new ae;let w=m.substring(l,l+p),A=m.substring(l+p),O="("+b+")"+w,M=Nt.parseFieldsInGeneralPurpose(A);return M==null?O:O+M}static processVariableAI(l,p,m){let b=m.substring(0,l),w;m.length<l+p?w=m.length:w=l+p;let A=m.substring(l,w),O=m.substring(w),M="("+b+")"+A,B=Nt.parseFieldsInGeneralPurpose(O);return B==null?M:M+B}}Nt.VARIABLE_LENGTH=[],Nt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Nt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Nt.VARIABLE_LENGTH,20],["22",Nt.VARIABLE_LENGTH,29],["30",Nt.VARIABLE_LENGTH,8],["37",Nt.VARIABLE_LENGTH,8],["90",Nt.VARIABLE_LENGTH,30],["91",Nt.VARIABLE_LENGTH,30],["92",Nt.VARIABLE_LENGTH,30],["93",Nt.VARIABLE_LENGTH,30],["94",Nt.VARIABLE_LENGTH,30],["95",Nt.VARIABLE_LENGTH,30],["96",Nt.VARIABLE_LENGTH,30],["97",Nt.VARIABLE_LENGTH,3],["98",Nt.VARIABLE_LENGTH,30],["99",Nt.VARIABLE_LENGTH,30]],Nt.THREE_DIGIT_DATA_LENGTH=[["240",Nt.VARIABLE_LENGTH,30],["241",Nt.VARIABLE_LENGTH,30],["242",Nt.VARIABLE_LENGTH,6],["250",Nt.VARIABLE_LENGTH,30],["251",Nt.VARIABLE_LENGTH,30],["253",Nt.VARIABLE_LENGTH,17],["254",Nt.VARIABLE_LENGTH,20],["400",Nt.VARIABLE_LENGTH,30],["401",Nt.VARIABLE_LENGTH,30],["402",17],["403",Nt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Nt.VARIABLE_LENGTH,20],["421",Nt.VARIABLE_LENGTH,15],["422",3],["423",Nt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Nt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Nt.VARIABLE_LENGTH,15],["391",Nt.VARIABLE_LENGTH,18],["392",Nt.VARIABLE_LENGTH,15],["393",Nt.VARIABLE_LENGTH,18],["703",Nt.VARIABLE_LENGTH,30]],Nt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Nt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Nt.VARIABLE_LENGTH,20],["8003",Nt.VARIABLE_LENGTH,30],["8004",Nt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Nt.VARIABLE_LENGTH,30],["8008",Nt.VARIABLE_LENGTH,12],["8018",18],["8020",Nt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Nt.VARIABLE_LENGTH,70],["8200",Nt.VARIABLE_LENGTH,70]];class xi{constructor(l){this.buffer=new fe,this.information=l}decodeAllCodes(l,p){let m=p,b=null;do{let w=this.decodeGeneralPurposeField(m,b),A=Nt.parseFieldsInGeneralPurpose(w.getNewString());if(A!=null&&l.append(A),w.isRemaining()?b=""+w.getRemainingValue():b=null,m===w.getNewPosition())break;m=w.getNewPosition()}while(!0);return l.toString()}isStillNumeric(l){if(l+7>this.information.getSize())return l+4<=this.information.getSize();for(let p=l;p<l+3;++p)if(this.information.get(p))return!0;return this.information.get(l+3)}decodeNumeric(l){if(l+7>this.information.getSize()){let w=this.extractNumericValueFromBitArray(l,4);return w===0?new hr(this.information.getSize(),hr.FNC1,hr.FNC1):new hr(this.information.getSize(),w-1,hr.FNC1)}let p=this.extractNumericValueFromBitArray(l,7),m=(p-8)/11,b=(p-8)%11;return new hr(l+7,m,b)}extractNumericValueFromBitArray(l,p){return xi.extractNumericValueFromBitArray(this.information,l,p)}static extractNumericValueFromBitArray(l,p,m){let b=0;for(let w=0;w<m;++w)l.get(p+w)&&(b|=1<<m-w-1);return b}decodeGeneralPurposeField(l,p){this.buffer.setLengthToZero(),p!=null&&this.buffer.append(p),this.current.setPosition(l);let m=this.parseBlocks();return m!=null&&m.isRemaining()?new Nr(this.current.getPosition(),this.buffer.toString(),m.getRemainingValue()):new Nr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let l,p;do{let m=this.current.getPosition();if(this.current.isAlpha()?(p=this.parseAlphaBlock(),l=p.isFinished()):this.current.isIsoIec646()?(p=this.parseIsoIec646Block(),l=p.isFinished()):(p=this.parseNumericBlock(),l=p.isFinished()),!(m!==this.current.getPosition())&&!l)break}while(!l);return p.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let l=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFirstDigitFNC1()){let p;return l.isSecondDigitFNC1()?p=new Nr(this.current.getPosition(),this.buffer.toString()):p=new Nr(this.current.getPosition(),this.buffer.toString(),l.getSecondDigit()),new Ti(!0,p)}if(this.buffer.append(l.getFirstDigit()),l.isSecondDigitFNC1()){let p=new Nr(this.current.getPosition(),this.buffer.toString());return new Ti(!0,p)}this.buffer.append(l.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ti(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let l=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let p=new Nr(this.current.getPosition(),this.buffer.toString());return new Ti(!0,p)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ti(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let l=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let p=new Nr(this.current.getPosition(),this.buffer.toString());return new Ti(!0,p)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ti(!1)}isStillIsoIec646(l){if(l+5>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(l,5);if(p>=5&&p<16)return!0;if(l+7>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(l,7);if(m>=64&&m<116)return!0;if(l+8>this.information.getSize())return!1;let b=this.extractNumericValueFromBitArray(l,8);return b>=232&&b<253}decodeIsoIec646(l){let p=this.extractNumericValueFromBitArray(l,5);if(p===15)return new qn(l+5,qn.FNC1);if(p>=5&&p<15)return new qn(l+5,"0"+(p-5));let m=this.extractNumericValueFromBitArray(l,7);if(m>=64&&m<90)return new qn(l+7,""+(m+1));if(m>=90&&m<116)return new qn(l+7,""+(m+7));let b=this.extractNumericValueFromBitArray(l,8),w;switch(b){case 232:w="!";break;case 233:w='"';break;case 234:w="%";break;case 235:w="&";break;case 236:w="'";break;case 237:w="(";break;case 238:w=")";break;case 239:w="*";break;case 240:w="+";break;case 241:w=",";break;case 242:w="-";break;case 243:w=".";break;case 244:w="/";break;case 245:w=":";break;case 246:w=";";break;case 247:w="<";break;case 248:w="=";break;case 249:w=">";break;case 250:w="?";break;case 251:w="_";break;case 252:w=" ";break;default:throw new Y}return new qn(l+8,w)}isStillAlpha(l){if(l+5>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(l,5);if(p>=5&&p<16)return!0;if(l+6>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(l,6);return m>=16&&m<63}decodeAlphanumeric(l){let p=this.extractNumericValueFromBitArray(l,5);if(p===15)return new qn(l+5,qn.FNC1);if(p>=5&&p<15)return new qn(l+5,"0"+(p-5));let m=this.extractNumericValueFromBitArray(l,6);if(m>=32&&m<58)return new qn(l+6,""+(m+33));let b;switch(m){case 58:b="*";break;case 59:b=",";break;case 60:b="-";break;case 61:b=".";break;case 62:b="/";break;default:throw new ye("Decoding invalid alphanumeric value: "+m)}return new qn(l+6,b)}isAlphaTo646ToAlphaLatch(l){if(l+1>this.information.getSize())return!1;for(let p=0;p<5&&p+l<this.information.getSize();++p)if(p===2){if(!this.information.get(l+2))return!1}else if(this.information.get(l+p))return!1;return!0}isAlphaOr646ToNumericLatch(l){if(l+3>this.information.getSize())return!1;for(let p=l;p<l+3;++p)if(this.information.get(p))return!1;return!0}isNumericToAlphaNumericLatch(l){if(l+1>this.information.getSize())return!1;for(let p=0;p<4&&p+l<this.information.getSize();++p)if(this.information.get(l+p))return!1;return!0}}class pr{constructor(l){this.information=l,this.generalDecoder=new xi(l)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Gn extends pr{constructor(l){super(l)}encodeCompressedGtin(l,p){l.append("(01)");let m=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,p,m)}encodeCompressedGtinWithoutAI(l,p,m){for(let b=0;b<4;++b){let w=this.getGeneralDecoder().extractNumericValueFromBitArray(p+10*b,10);w/100===0&&l.append("0"),w/10===0&&l.append("0"),l.append(w)}Gn.appendCheckDigit(l,m)}static appendCheckDigit(l,p){let m=0;for(let b=0;b<13;b++){let w=l.charAt(b+p).charCodeAt(0)-48;m+=(b&1)===0?3*w:w}m=10-m%10,m===10&&(m=0),l.append(m)}}Gn.GTIN_SIZE=40;class fi extends Gn{constructor(l){super(l)}parseInformation(){let l=new fe;l.append("(01)");let p=l.length(),m=this.getGeneralDecoder().extractNumericValueFromBitArray(fi.HEADER_SIZE,4);return l.append(m),this.encodeCompressedGtinWithoutAI(l,fi.HEADER_SIZE+4,p),this.getGeneralDecoder().decodeAllCodes(l,fi.HEADER_SIZE+44)}}fi.HEADER_SIZE=4;class ha extends pr{constructor(l){super(l)}parseInformation(){let l=new fe;return this.getGeneralDecoder().decodeAllCodes(l,ha.HEADER_SIZE)}}ha.HEADER_SIZE=5;class Ca extends Gn{constructor(l){super(l)}encodeCompressedWeight(l,p,m){let b=this.getGeneralDecoder().extractNumericValueFromBitArray(p,m);this.addWeightCode(l,b);let w=this.checkWeight(b),A=1e5;for(let O=0;O<5;++O)w/A===0&&l.append("0"),A/=10;l.append(w)}}class pa extends Ca{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=pa.HEADER_SIZE+Ca.GTIN_SIZE+pa.WEIGHT_SIZE)throw new ae;let l=new fe;return this.encodeCompressedGtin(l,pa.HEADER_SIZE),this.encodeCompressedWeight(l,pa.HEADER_SIZE+Ca.GTIN_SIZE,pa.WEIGHT_SIZE),l.toString()}}pa.HEADER_SIZE=5,pa.WEIGHT_SIZE=15;class zs extends pa{constructor(l){super(l)}addWeightCode(l,p){l.append("(3103)")}checkWeight(l){return l}}class qs extends pa{constructor(l){super(l)}addWeightCode(l,p){p<1e4?l.append("(3202)"):l.append("(3203)")}checkWeight(l){return l<1e4?l:l-1e4}}class ta extends Gn{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<ta.HEADER_SIZE+Gn.GTIN_SIZE)throw new ae;let l=new fe;this.encodeCompressedGtin(l,ta.HEADER_SIZE);let p=this.getGeneralDecoder().extractNumericValueFromBitArray(ta.HEADER_SIZE+Gn.GTIN_SIZE,ta.LAST_DIGIT_SIZE);l.append("(392"),l.append(p),l.append(")");let m=this.getGeneralDecoder().decodeGeneralPurposeField(ta.HEADER_SIZE+Gn.GTIN_SIZE+ta.LAST_DIGIT_SIZE,null);return l.append(m.getNewString()),l.toString()}}ta.HEADER_SIZE=8,ta.LAST_DIGIT_SIZE=2;class jr extends Gn{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<jr.HEADER_SIZE+Gn.GTIN_SIZE)throw new ae;let l=new fe;this.encodeCompressedGtin(l,jr.HEADER_SIZE);let p=this.getGeneralDecoder().extractNumericValueFromBitArray(jr.HEADER_SIZE+Gn.GTIN_SIZE,jr.LAST_DIGIT_SIZE);l.append("(393"),l.append(p),l.append(")");let m=this.getGeneralDecoder().extractNumericValueFromBitArray(jr.HEADER_SIZE+Gn.GTIN_SIZE+jr.LAST_DIGIT_SIZE,jr.FIRST_THREE_DIGITS_SIZE);m/100==0&&l.append("0"),m/10==0&&l.append("0"),l.append(m);let b=this.getGeneralDecoder().decodeGeneralPurposeField(jr.HEADER_SIZE+Gn.GTIN_SIZE+jr.LAST_DIGIT_SIZE+jr.FIRST_THREE_DIGITS_SIZE,null);return l.append(b.getNewString()),l.toString()}}jr.HEADER_SIZE=8,jr.LAST_DIGIT_SIZE=2,jr.FIRST_THREE_DIGITS_SIZE=10;class Kn extends Ca{constructor(l,p,m){super(l),this.dateCode=m,this.firstAIdigits=p}parseInformation(){if(this.getInformation().getSize()!=Kn.HEADER_SIZE+Kn.GTIN_SIZE+Kn.WEIGHT_SIZE+Kn.DATE_SIZE)throw new ae;let l=new fe;return this.encodeCompressedGtin(l,Kn.HEADER_SIZE),this.encodeCompressedWeight(l,Kn.HEADER_SIZE+Kn.GTIN_SIZE,Kn.WEIGHT_SIZE),this.encodeCompressedDate(l,Kn.HEADER_SIZE+Kn.GTIN_SIZE+Kn.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,p){let m=this.getGeneralDecoder().extractNumericValueFromBitArray(p,Kn.DATE_SIZE);if(m==38400)return;l.append("("),l.append(this.dateCode),l.append(")");let b=m%32;m/=32;let w=m%12+1;m/=12;let A=m;A/10==0&&l.append("0"),l.append(A),w/10==0&&l.append("0"),l.append(w),b/10==0&&l.append("0"),l.append(b)}addWeightCode(l,p){l.append("("),l.append(this.firstAIdigits),l.append(p/1e5),l.append(")")}checkWeight(l){return l%1e5}}Kn.HEADER_SIZE=8,Kn.WEIGHT_SIZE=20,Kn.DATE_SIZE=16;function sl(te){try{if(te.get(1))return new fi(te);if(!te.get(2))return new ha(te);switch(xi.extractNumericValueFromBitArray(te,1,4)){case 4:return new zs(te);case 5:return new qs(te)}switch(xi.extractNumericValueFromBitArray(te,1,5)){case 12:return new ta(te);case 13:return new jr(te)}switch(xi.extractNumericValueFromBitArray(te,1,7)){case 56:return new Kn(te,"310","11");case 57:return new Kn(te,"320","11");case 58:return new Kn(te,"310","13");case 59:return new Kn(te,"320","13");case 60:return new Kn(te,"310","15");case 61:return new Kn(te,"320","15");case 62:return new Kn(te,"310","17");case 63:return new Kn(te,"320","17")}}catch(l){throw console.log(l),new ye("unknown decoder: "+te)}}class na{constructor(l,p,m,b){this.leftchar=l,this.rightchar=p,this.finderpattern=m,this.maybeLast=b}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(l,p){return l instanceof na?na.equalsOrNull(l.leftchar,p.leftchar)&&na.equalsOrNull(l.rightchar,p.rightchar)&&na.equalsOrNull(l.finderpattern,p.finderpattern):!1}static equalsOrNull(l,p){return l===null?p===null:na.equals(l,p)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Yr{constructor(l,p,m){this.pairs=l,this.rowNumber=p,this.wasReversed=m}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(l){return this.checkEqualitity(this,l)}toString(){return"{ "+this.pairs+" }"}equals(l,p){return l instanceof Yr?this.checkEqualitity(l,p)&&l.wasReversed===p.wasReversed:!1}checkEqualitity(l,p){if(!l||!p)return;let m;return l.forEach((b,w)=>{p.forEach(A=>{b.getLeftChar().getValue()===A.getLeftChar().getValue()&&b.getRightChar().getValue()===A.getRightChar().getValue()&&b.getFinderPatter().getValue()===A.getFinderPatter().getValue()&&(m=!0)})}),m}}class gt extends Ir{constructor(l){super(...arguments),this.pairs=new Array(gt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=l===!0}decodeRow(l,p,m){this.pairs.length=0,this.startFromEven=!1;try{return gt.constructResult(this.decodeRow2pairs(l,p))}catch(b){this.verbose&&console.log(b)}return this.pairs.length=0,this.startFromEven=!0,gt.constructResult(this.decodeRow2pairs(l,p))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(l,p){let m=!1;for(;!m;)try{this.pairs.push(this.retrieveNextPair(p,this.pairs,l))}catch(w){if(w instanceof ae){if(!this.pairs.length)throw new ae;m=!0}}if(this.checkChecksum())return this.pairs;let b;if(this.rows.length?b=!0:b=!1,this.storeRow(l,!1),b){let w=this.checkRowsBoolean(!1);if(w!=null||(w=this.checkRowsBoolean(!0),w!=null))return w}throw new ae}checkRowsBoolean(l){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,l&&(this.rows=this.rows.reverse());let p=null;try{p=this.checkRows(new Array,0)}catch(m){this.verbose&&console.log(m)}return l&&(this.rows=this.rows.reverse()),p}checkRows(l,p){for(let m=p;m<this.rows.length;m++){let b=this.rows[m];this.pairs.length=0;for(let A of l)this.pairs.push(A.getPairs());if(this.pairs.push(b.getPairs()),!gt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let w=new Array(l);w.push(b);try{return this.checkRows(w,m+1)}catch(A){this.verbose&&console.log(A)}}throw new ae}static isValidSequence(l){for(let p of gt.FINDER_PATTERN_SEQUENCES){if(l.length>p.length)continue;let m=!0;for(let b=0;b<l.length;b++)if(l[b].getFinderPattern().getValue()!=p[b]){m=!1;break}if(m)return!0}return!1}storeRow(l,p){let m=0,b=!1,w=!1;for(;m<this.rows.length;){let A=this.rows[m];if(A.getRowNumber()>l){w=A.isEquivalent(this.pairs);break}b=A.isEquivalent(this.pairs),m++}w||b||gt.isPartialRow(this.pairs,this.rows)||(this.rows.push(m,new Yr(this.pairs,l,p)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(l,p){for(let m of p)if(m.getPairs().length!==l.length){for(let b of m.getPairs())for(let w of l)if(na.equals(b,w))break}}static isPartialRow(l,p){for(let m of p){let b=!0;for(let w of l){let A=!1;for(let O of m.getPairs())if(w.equals(O)){A=!0;break}if(!A){b=!1;break}}if(b)return!0}return!1}getRows(){return this.rows}static constructResult(l){let p=io.buildBitArray(l),b=sl(p).parseInformation(),w=l[0].getFinderPattern().getResultPoints(),A=l[l.length-1].getFinderPattern().getResultPoints(),O=[w[0],w[1],A[0],A[1]];return new me(b,null,null,O,xe.RSS_EXPANDED,null)}checkChecksum(){let l=this.pairs.get(0),p=l.getLeftChar(),m=l.getRightChar();if(m==null)return!1;let b=m.getChecksumPortion(),w=2;for(let O=1;O<this.pairs.size();++O){let M=this.pairs.get(O);b+=M.getLeftChar().getChecksumPortion(),w++;let B=M.getRightChar();B!=null&&(b+=B.getChecksumPortion(),w++)}return b%=211,211*(w-4)+b==p.getValue()}static getNextSecondBar(l,p){let m;return l.get(p)?(m=l.getNextUnset(p),m=l.getNextSet(m)):(m=l.getNextSet(p),m=l.getNextUnset(m)),m}retrieveNextPair(l,p,m){let b=p.length%2==0;this.startFromEven&&(b=!b);let w,A=!0,O=-1;do this.findNextPair(l,p,O),w=this.parseFoundFinderPattern(l,m,b),w==null?O=gt.getNextSecondBar(l,this.startEnd[0]):A=!1;while(A);let M=this.decodeDataCharacter(l,w,b,!0);if(!this.isEmptyPair(p)&&p[p.length-1].mustBeLast())throw new ae;let B;try{B=this.decodeDataCharacter(l,w,b,!1)}catch($){B=null,this.verbose&&console.log($)}return new na(M,B,w,!0)}isEmptyPair(l){return l.length===0}findNextPair(l,p,m){let b=this.getDecodeFinderCounters();b[0]=0,b[1]=0,b[2]=0,b[3]=0;let w=l.getSize(),A;m>=0?A=m:this.isEmptyPair(p)?A=0:A=p[p.length-1].getFinderPattern().getStartEnd()[1];let O=p.length%2!=0;this.startFromEven&&(O=!O);let M=!1;for(;A<w&&(M=!l.get(A),!!M);)A++;let B=0,$=A;for(let ne=A;ne<w;ne++)if(l.get(ne)!=M)b[B]++;else{if(B==3){if(O&&gt.reverseCounters(b),gt.isFinderPattern(b)){this.startEnd[0]=$,this.startEnd[1]=ne;return}O&&gt.reverseCounters(b),$+=b[0]+b[1],b[0]=b[2],b[1]=b[3],b[2]=0,b[3]=0,B--}else B++;b[B]=1,M=!M}throw new ae}static reverseCounters(l){let p=l.length;for(let m=0;m<p/2;++m){let b=l[m];l[m]=l[p-m-1],l[p-m-1]=b}}parseFoundFinderPattern(l,p,m){let b,w,A;if(m){let B=this.startEnd[0]-1;for(;B>=0&&!l.get(B);)B--;B++,b=this.startEnd[0]-B,w=B,A=this.startEnd[1]}else w=this.startEnd[0],A=l.getNextUnset(this.startEnd[1]+1),b=A-this.startEnd[1];let O=this.getDecodeFinderCounters();E.arraycopy(O,0,O,1,O.length-1),O[0]=b;let M;try{M=this.parseFinderValue(O,gt.FINDER_PATTERNS)}catch{return null}return new Zt(M,[w,A],w,A,p)}decodeDataCharacter(l,p,m,b){let w=this.getDataCharacterCounters();for(let gr=0;gr<w.length;gr++)w[gr]=0;if(b)gt.recordPatternInReverse(l,p.getStartEnd()[0],w);else{gt.recordPattern(l,p.getStartEnd()[1],w);for(let gr=0,Fi=w.length-1;gr<Fi;gr++,Fi--){let Ka=w[gr];w[gr]=w[Fi],w[Fi]=Ka}}let A=17,O=nt.sum(new Int32Array(w))/A,M=(p.getStartEnd()[1]-p.getStartEnd()[0])/15;if(Math.abs(O-M)/M>.3)throw new ae;let B=this.getOddCounts(),$=this.getEvenCounts(),ne=this.getOddRoundingErrors(),le=this.getEvenRoundingErrors();for(let gr=0;gr<w.length;gr++){let Fi=1*w[gr]/O,Ka=Fi+.5;if(Ka<1){if(Fi<.3)throw new ae;Ka=1}else if(Ka>8){if(Fi>8.7)throw new ae;Ka=8}let Pl=gr/2;(gr&1)==0?(B[Pl]=Ka,ne[Pl]=Fi-Ka):($[Pl]=Ka,le[Pl]=Fi-Ka)}this.adjustOddEvenCounts(A);let Se=4*p.getValue()+(m?0:2)+(b?0:1)-1,Ie=0,Pe=0;for(let gr=B.length-1;gr>=0;gr--){if(gt.isNotA1left(p,m,b)){let Fi=gt.WEIGHTS[Se][2*gr];Pe+=B[gr]*Fi}Ie+=B[gr]}let Be=0;for(let gr=$.length-1;gr>=0;gr--)if(gt.isNotA1left(p,m,b)){let Fi=gt.WEIGHTS[Se][2*gr+1];Be+=$[gr]*Fi}let Ze=Pe+Be;if((Ie&1)!=0||Ie>13||Ie<4)throw new ae;let ct=(13-Ie)/2,ut=gt.SYMBOL_WIDEST[ct],ot=9-ut,rn=Di.getRSSvalue(B,ut,!0),mn=Di.getRSSvalue($,ot,!1),qr=gt.EVEN_TOTAL_SUBSET[ct],sa=gt.GSUM[ct],Bi=rn*qr+mn+sa;return new ea(Bi,Ze)}static isNotA1left(l,p,m){return!(l.getValue()==0&&p&&m)}adjustOddEvenCounts(l){let p=nt.sum(new Int32Array(this.getOddCounts())),m=nt.sum(new Int32Array(this.getEvenCounts())),b=!1,w=!1;p>13?w=!0:p<4&&(b=!0);let A=!1,O=!1;m>13?O=!0:m<4&&(A=!0);let M=p+m-l,B=(p&1)==1,$=(m&1)==0;if(M==1)if(B){if($)throw new ae;w=!0}else{if(!$)throw new ae;O=!0}else if(M==-1)if(B){if($)throw new ae;b=!0}else{if(!$)throw new ae;A=!0}else if(M==0){if(B){if(!$)throw new ae;p<m?(b=!0,O=!0):(w=!0,A=!0)}else if($)throw new ae}else throw new ae;if(b){if(w)throw new ae;gt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&gt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),A){if(O)throw new ae;gt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}O&&gt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}gt.SYMBOL_WIDEST=[7,5,4,3,1],gt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],gt.GSUM=[0,348,1388,2948,3988],gt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],gt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],gt.FINDER_PAT_A=0,gt.FINDER_PAT_B=1,gt.FINDER_PAT_C=2,gt.FINDER_PAT_D=3,gt.FINDER_PAT_E=4,gt.FINDER_PAT_F=5,gt.FINDER_PATTERN_SEQUENCES=[[gt.FINDER_PAT_A,gt.FINDER_PAT_A],[gt.FINDER_PAT_A,gt.FINDER_PAT_B,gt.FINDER_PAT_B],[gt.FINDER_PAT_A,gt.FINDER_PAT_C,gt.FINDER_PAT_B,gt.FINDER_PAT_D],[gt.FINDER_PAT_A,gt.FINDER_PAT_E,gt.FINDER_PAT_B,gt.FINDER_PAT_D,gt.FINDER_PAT_C],[gt.FINDER_PAT_A,gt.FINDER_PAT_E,gt.FINDER_PAT_B,gt.FINDER_PAT_D,gt.FINDER_PAT_D,gt.FINDER_PAT_F],[gt.FINDER_PAT_A,gt.FINDER_PAT_E,gt.FINDER_PAT_B,gt.FINDER_PAT_D,gt.FINDER_PAT_E,gt.FINDER_PAT_F,gt.FINDER_PAT_F],[gt.FINDER_PAT_A,gt.FINDER_PAT_A,gt.FINDER_PAT_B,gt.FINDER_PAT_B,gt.FINDER_PAT_C,gt.FINDER_PAT_C,gt.FINDER_PAT_D,gt.FINDER_PAT_D],[gt.FINDER_PAT_A,gt.FINDER_PAT_A,gt.FINDER_PAT_B,gt.FINDER_PAT_B,gt.FINDER_PAT_C,gt.FINDER_PAT_C,gt.FINDER_PAT_D,gt.FINDER_PAT_E,gt.FINDER_PAT_E],[gt.FINDER_PAT_A,gt.FINDER_PAT_A,gt.FINDER_PAT_B,gt.FINDER_PAT_B,gt.FINDER_PAT_C,gt.FINDER_PAT_C,gt.FINDER_PAT_D,gt.FINDER_PAT_E,gt.FINDER_PAT_F,gt.FINDER_PAT_F],[gt.FINDER_PAT_A,gt.FINDER_PAT_A,gt.FINDER_PAT_B,gt.FINDER_PAT_B,gt.FINDER_PAT_C,gt.FINDER_PAT_D,gt.FINDER_PAT_D,gt.FINDER_PAT_E,gt.FINDER_PAT_E,gt.FINDER_PAT_F,gt.FINDER_PAT_F]],gt.MAX_PAIRS=11;class fs extends ea{constructor(l,p,m){super(l,p),this.count=0,this.finderPattern=m}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class rr extends Ir{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(l,p,m){const b=this.decodePair(p,!1,l,m);rr.addOrTally(this.possibleLeftPairs,b),p.reverse();let w=this.decodePair(p,!0,l,m);rr.addOrTally(this.possibleRightPairs,w),p.reverse();for(let A of this.possibleLeftPairs)if(A.getCount()>1){for(let O of this.possibleRightPairs)if(O.getCount()>1&&rr.checkChecksum(A,O))return rr.constructResult(A,O)}throw new ae}static addOrTally(l,p){if(p==null)return;let m=!1;for(let b of l)if(b.getValue()===p.getValue()){b.incrementCount(),m=!0;break}m||l.push(p)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(l,p){let m=4537077*l.getValue()+p.getValue(),b=new String(m).toString(),w=new fe;for(let B=13-b.length;B>0;B--)w.append("0");w.append(b);let A=0;for(let B=0;B<13;B++){let $=w.charAt(B).charCodeAt(0)-48;A+=(B&1)===0?3*$:$}A=10-A%10,A===10&&(A=0),w.append(A.toString());let O=l.getFinderPattern().getResultPoints(),M=p.getFinderPattern().getResultPoints();return new me(w.toString(),null,0,[O[0],O[1],M[0],M[1]],xe.RSS_14,new Date().getTime())}static checkChecksum(l,p){let m=(l.getChecksumPortion()+16*p.getChecksumPortion())%79,b=9*l.getFinderPattern().getValue()+p.getFinderPattern().getValue();return b>72&&b--,b>8&&b--,m===b}decodePair(l,p,m,b){try{let w=this.findFinderPattern(l,p),A=this.parseFoundFinderPattern(l,m,p,w),O=b==null?null:b.get(Q.NEED_RESULT_POINT_CALLBACK);if(O!=null){let $=(w[0]+w[1])/2;p&&($=l.getSize()-1-$),O.foundPossibleResultPoint(new at($,m))}let M=this.decodeDataCharacter(l,A,!0),B=this.decodeDataCharacter(l,A,!1);return new fs(1597*M.getValue()+B.getValue(),M.getChecksumPortion()+4*B.getChecksumPortion(),A)}catch{return null}}decodeDataCharacter(l,p,m){let b=this.getDataCharacterCounters();for(let Be=0;Be<b.length;Be++)b[Be]=0;if(m)tn.recordPatternInReverse(l,p.getStartEnd()[0],b);else{tn.recordPattern(l,p.getStartEnd()[1]+1,b);for(let Be=0,Ze=b.length-1;Be<Ze;Be++,Ze--){let ct=b[Be];b[Be]=b[Ze],b[Ze]=ct}}let w=m?16:15,A=nt.sum(new Int32Array(b))/w,O=this.getOddCounts(),M=this.getEvenCounts(),B=this.getOddRoundingErrors(),$=this.getEvenRoundingErrors();for(let Be=0;Be<b.length;Be++){let Ze=b[Be]/A,ct=Math.floor(Ze+.5);ct<1?ct=1:ct>8&&(ct=8);let ut=Math.floor(Be/2);(Be&1)===0?(O[ut]=ct,B[ut]=Ze-ct):(M[ut]=ct,$[ut]=Ze-ct)}this.adjustOddEvenCounts(m,w);let ne=0,le=0;for(let Be=O.length-1;Be>=0;Be--)le*=9,le+=O[Be],ne+=O[Be];let Se=0,Ie=0;for(let Be=M.length-1;Be>=0;Be--)Se*=9,Se+=M[Be],Ie+=M[Be];let Pe=le+3*Se;if(m){if((ne&1)!==0||ne>12||ne<4)throw new ae;let Be=(12-ne)/2,Ze=rr.OUTSIDE_ODD_WIDEST[Be],ct=9-Ze,ut=Di.getRSSvalue(O,Ze,!1),ot=Di.getRSSvalue(M,ct,!0),rn=rr.OUTSIDE_EVEN_TOTAL_SUBSET[Be],mn=rr.OUTSIDE_GSUM[Be];return new ea(ut*rn+ot+mn,Pe)}else{if((Ie&1)!==0||Ie>10||Ie<4)throw new ae;let Be=(10-Ie)/2,Ze=rr.INSIDE_ODD_WIDEST[Be],ct=9-Ze,ut=Di.getRSSvalue(O,Ze,!0),ot=Di.getRSSvalue(M,ct,!1),rn=rr.INSIDE_ODD_TOTAL_SUBSET[Be],mn=rr.INSIDE_GSUM[Be];return new ea(ot*rn+ut+mn,Pe)}}findFinderPattern(l,p){let m=this.getDecodeFinderCounters();m[0]=0,m[1]=0,m[2]=0,m[3]=0;let b=l.getSize(),w=!1,A=0;for(;A<b&&(w=!l.get(A),p!==w);)A++;let O=0,M=A;for(let B=A;B<b;B++)if(l.get(B)!==w)m[O]++;else{if(O===3){if(Ir.isFinderPattern(m))return[M,B];M+=m[0]+m[1],m[0]=m[2],m[1]=m[3],m[2]=0,m[3]=0,O--}else O++;m[O]=1,w=!w}throw new ae}parseFoundFinderPattern(l,p,m,b){let w=l.get(b[0]),A=b[0]-1;for(;A>=0&&w!==l.get(A);)A--;A++;const O=b[0]-A,M=this.getDecodeFinderCounters(),B=new Int32Array(M.length);E.arraycopy(M,0,B,1,M.length-1),B[0]=O;const $=this.parseFinderValue(B,rr.FINDER_PATTERNS);let ne=A,le=b[1];return m&&(ne=l.getSize()-1-ne,le=l.getSize()-1-le),new Zt($,[A,b[1]],ne,le,p)}adjustOddEvenCounts(l,p){let m=nt.sum(new Int32Array(this.getOddCounts())),b=nt.sum(new Int32Array(this.getEvenCounts())),w=!1,A=!1,O=!1,M=!1;l?(m>12?A=!0:m<4&&(w=!0),b>12?M=!0:b<4&&(O=!0)):(m>11?A=!0:m<5&&(w=!0),b>10?M=!0:b<4&&(O=!0));let B=m+b-p,$=(m&1)===(l?1:0),ne=(b&1)===1;if(B===1)if($){if(ne)throw new ae;A=!0}else{if(!ne)throw new ae;M=!0}else if(B===-1)if($){if(ne)throw new ae;w=!0}else{if(!ne)throw new ae;O=!0}else if(B===0){if($){if(!ne)throw new ae;m<b?(w=!0,M=!0):(A=!0,O=!0)}else if(ne)throw new ae}else throw new ae;if(w){if(A)throw new ae;Ir.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(A&&Ir.decrement(this.getOddCounts(),this.getOddRoundingErrors()),O){if(M)throw new ae;Ir.increment(this.getEvenCounts(),this.getOddRoundingErrors())}M&&Ir.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}rr.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],rr.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],rr.OUTSIDE_GSUM=[0,161,961,2015,2715],rr.INSIDE_GSUM=[0,336,1036,1516],rr.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],rr.INSIDE_ODD_WIDEST=[2,4,6,8],rr.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ha extends tn{constructor(l,p){super(),this.readers=[],this.verbose=p===!0;const m=l?l.get(Q.POSSIBLE_FORMATS):null,b=l&&l.get(Q.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;m?((m.includes(xe.EAN_13)||m.includes(xe.UPC_A)||m.includes(xe.EAN_8)||m.includes(xe.UPC_E))&&this.readers.push(new Ri(l)),m.includes(xe.CODE_39)&&this.readers.push(new Dt(b)),m.includes(xe.CODE_128)&&this.readers.push(new rt),m.includes(xe.ITF)&&this.readers.push(new Ft),m.includes(xe.RSS_14)&&this.readers.push(new rr),m.includes(xe.RSS_EXPANDED)&&this.readers.push(new gt(this.verbose))):(this.readers.push(new Ri(l)),this.readers.push(new Dt),this.readers.push(new Ri(l)),this.readers.push(new rt),this.readers.push(new Ft),this.readers.push(new rr),this.readers.push(new gt(this.verbose)))}decodeRow(l,p,m){for(let b=0;b<this.readers.length;b++)try{return this.readers[b].decodeRow(l,p,m)}catch{}throw new ae}reset(){this.readers.forEach(l=>l.reset())}}class Vc extends he{constructor(l=500,p){super(new Ha(p),l,p)}}class Zn{constructor(l,p,m){this.ecCodewords=l,this.ecBlocks=[p],m&&this.ecBlocks.push(m)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Vn{constructor(l,p){this.count=l,this.dataCodewords=p}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Un{constructor(l,p,m,b,w,A){this.versionNumber=l,this.symbolSizeRows=p,this.symbolSizeColumns=m,this.dataRegionSizeRows=b,this.dataRegionSizeColumns=w,this.ecBlocks=A;let O=0;const M=A.getECCodewords(),B=A.getECBlocks();for(let $ of B)O+=$.getCount()*($.getDataCodewords()+M);this.totalCodewords=O}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(l,p){if((l&1)!==0||(p&1)!==0)throw new Y;for(let m of Un.VERSIONS)if(m.symbolSizeRows===l&&m.symbolSizeColumns===p)return m;throw new Y}toString(){return""+this.versionNumber}static buildVersions(){return[new Un(1,10,10,8,8,new Zn(5,new Vn(1,3))),new Un(2,12,12,10,10,new Zn(7,new Vn(1,5))),new Un(3,14,14,12,12,new Zn(10,new Vn(1,8))),new Un(4,16,16,14,14,new Zn(12,new Vn(1,12))),new Un(5,18,18,16,16,new Zn(14,new Vn(1,18))),new Un(6,20,20,18,18,new Zn(18,new Vn(1,22))),new Un(7,22,22,20,20,new Zn(20,new Vn(1,30))),new Un(8,24,24,22,22,new Zn(24,new Vn(1,36))),new Un(9,26,26,24,24,new Zn(28,new Vn(1,44))),new Un(10,32,32,14,14,new Zn(36,new Vn(1,62))),new Un(11,36,36,16,16,new Zn(42,new Vn(1,86))),new Un(12,40,40,18,18,new Zn(48,new Vn(1,114))),new Un(13,44,44,20,20,new Zn(56,new Vn(1,144))),new Un(14,48,48,22,22,new Zn(68,new Vn(1,174))),new Un(15,52,52,24,24,new Zn(42,new Vn(2,102))),new Un(16,64,64,14,14,new Zn(56,new Vn(2,140))),new Un(17,72,72,16,16,new Zn(36,new Vn(4,92))),new Un(18,80,80,18,18,new Zn(48,new Vn(4,114))),new Un(19,88,88,20,20,new Zn(56,new Vn(4,144))),new Un(20,96,96,22,22,new Zn(68,new Vn(4,174))),new Un(21,104,104,24,24,new Zn(56,new Vn(6,136))),new Un(22,120,120,18,18,new Zn(68,new Vn(6,175))),new Un(23,132,132,20,20,new Zn(62,new Vn(8,163))),new Un(24,144,144,22,22,new Zn(62,new Vn(8,156),new Vn(2,155))),new Un(25,8,18,6,16,new Zn(7,new Vn(1,5))),new Un(26,8,32,6,14,new Zn(11,new Vn(1,10))),new Un(27,12,26,10,24,new Zn(14,new Vn(1,16))),new Un(28,12,36,10,16,new Zn(18,new Vn(1,22))),new Un(29,16,36,14,16,new Zn(24,new Vn(1,32))),new Un(30,16,48,14,22,new Zn(28,new Vn(1,49)))]}}Un.VERSIONS=Un.buildVersions();class Na{constructor(l){const p=l.getHeight();if(p<8||p>144||(p&1)!==0)throw new Y;this.version=Na.readVersion(l),this.mappingBitMatrix=this.extractDataRegion(l),this.readMappingMatrix=new ee(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(l){const p=l.getHeight(),m=l.getWidth();return Un.getVersionForDimensions(p,m)}readCodewords(){const l=new Int8Array(this.version.getTotalCodewords());let p=0,m=4,b=0;const w=this.mappingBitMatrix.getHeight(),A=this.mappingBitMatrix.getWidth();let O=!1,M=!1,B=!1,$=!1;do if(m===w&&b===0&&!O)l[p++]=this.readCorner1(w,A)&255,m-=2,b+=2,O=!0;else if(m===w-2&&b===0&&(A&3)!==0&&!M)l[p++]=this.readCorner2(w,A)&255,m-=2,b+=2,M=!0;else if(m===w+4&&b===2&&(A&7)===0&&!B)l[p++]=this.readCorner3(w,A)&255,m-=2,b+=2,B=!0;else if(m===w-2&&b===0&&(A&7)===4&&!$)l[p++]=this.readCorner4(w,A)&255,m-=2,b+=2,$=!0;else{do m<w&&b>=0&&!this.readMappingMatrix.get(b,m)&&(l[p++]=this.readUtah(m,b,w,A)&255),m-=2,b+=2;while(m>=0&&b<A);m+=1,b+=3;do m>=0&&b<A&&!this.readMappingMatrix.get(b,m)&&(l[p++]=this.readUtah(m,b,w,A)&255),m+=2,b-=2;while(m<w&&b>=0);m+=3,b+=1}while(m<w||b<A);if(p!==this.version.getTotalCodewords())throw new Y;return l}readModule(l,p,m,b){return l<0&&(l+=m,p+=4-(m+4&7)),p<0&&(p+=b,l+=4-(b+4&7)),this.readMappingMatrix.set(p,l),this.mappingBitMatrix.get(p,l)}readUtah(l,p,m,b){let w=0;return this.readModule(l-2,p-2,m,b)&&(w|=1),w<<=1,this.readModule(l-2,p-1,m,b)&&(w|=1),w<<=1,this.readModule(l-1,p-2,m,b)&&(w|=1),w<<=1,this.readModule(l-1,p-1,m,b)&&(w|=1),w<<=1,this.readModule(l-1,p,m,b)&&(w|=1),w<<=1,this.readModule(l,p-2,m,b)&&(w|=1),w<<=1,this.readModule(l,p-1,m,b)&&(w|=1),w<<=1,this.readModule(l,p,m,b)&&(w|=1),w}readCorner1(l,p){let m=0;return this.readModule(l-1,0,l,p)&&(m|=1),m<<=1,this.readModule(l-1,1,l,p)&&(m|=1),m<<=1,this.readModule(l-1,2,l,p)&&(m|=1),m<<=1,this.readModule(0,p-2,l,p)&&(m|=1),m<<=1,this.readModule(0,p-1,l,p)&&(m|=1),m<<=1,this.readModule(1,p-1,l,p)&&(m|=1),m<<=1,this.readModule(2,p-1,l,p)&&(m|=1),m<<=1,this.readModule(3,p-1,l,p)&&(m|=1),m}readCorner2(l,p){let m=0;return this.readModule(l-3,0,l,p)&&(m|=1),m<<=1,this.readModule(l-2,0,l,p)&&(m|=1),m<<=1,this.readModule(l-1,0,l,p)&&(m|=1),m<<=1,this.readModule(0,p-4,l,p)&&(m|=1),m<<=1,this.readModule(0,p-3,l,p)&&(m|=1),m<<=1,this.readModule(0,p-2,l,p)&&(m|=1),m<<=1,this.readModule(0,p-1,l,p)&&(m|=1),m<<=1,this.readModule(1,p-1,l,p)&&(m|=1),m}readCorner3(l,p){let m=0;return this.readModule(l-1,0,l,p)&&(m|=1),m<<=1,this.readModule(l-1,p-1,l,p)&&(m|=1),m<<=1,this.readModule(0,p-3,l,p)&&(m|=1),m<<=1,this.readModule(0,p-2,l,p)&&(m|=1),m<<=1,this.readModule(0,p-1,l,p)&&(m|=1),m<<=1,this.readModule(1,p-3,l,p)&&(m|=1),m<<=1,this.readModule(1,p-2,l,p)&&(m|=1),m<<=1,this.readModule(1,p-1,l,p)&&(m|=1),m}readCorner4(l,p){let m=0;return this.readModule(l-3,0,l,p)&&(m|=1),m<<=1,this.readModule(l-2,0,l,p)&&(m|=1),m<<=1,this.readModule(l-1,0,l,p)&&(m|=1),m<<=1,this.readModule(0,p-2,l,p)&&(m|=1),m<<=1,this.readModule(0,p-1,l,p)&&(m|=1),m<<=1,this.readModule(1,p-1,l,p)&&(m|=1),m<<=1,this.readModule(2,p-1,l,p)&&(m|=1),m<<=1,this.readModule(3,p-1,l,p)&&(m|=1),m}extractDataRegion(l){const p=this.version.getSymbolSizeRows(),m=this.version.getSymbolSizeColumns();if(l.getHeight()!==p)throw new g("Dimension of bitMatrix must match the version size");const b=this.version.getDataRegionSizeRows(),w=this.version.getDataRegionSizeColumns(),A=p/b|0,O=m/w|0,M=A*b,B=O*w,$=new ee(B,M);for(let ne=0;ne<A;++ne){const le=ne*b;for(let Se=0;Se<O;++Se){const Ie=Se*w;for(let Pe=0;Pe<b;++Pe){const Be=ne*(b+2)+1+Pe,Ze=le+Pe;for(let ct=0;ct<w;++ct){const ut=Se*(w+2)+1+ct;if(l.get(ut,Be)){const ot=Ie+ct;$.set(ot,Ze)}}}}}return $}}class Hs{constructor(l,p){this.numDataCodewords=l,this.codewords=p}static getDataBlocks(l,p){const m=p.getECBlocks();let b=0;const w=m.getECBlocks();for(let Pe of w)b+=Pe.getCount();const A=new Array(b);let O=0;for(let Pe of w)for(let Be=0;Be<Pe.getCount();Be++){const Ze=Pe.getDataCodewords(),ct=m.getECCodewords()+Ze;A[O++]=new Hs(Ze,new Uint8Array(ct))}const B=A[0].codewords.length-m.getECCodewords(),$=B-1;let ne=0;for(let Pe=0;Pe<$;Pe++)for(let Be=0;Be<O;Be++)A[Be].codewords[Pe]=l[ne++];const le=p.getVersionNumber()===24,Se=le?8:O;for(let Pe=0;Pe<Se;Pe++)A[Pe].codewords[B-1]=l[ne++];const Ie=A[0].codewords.length;for(let Pe=B;Pe<Ie;Pe++)for(let Be=0;Be<O;Be++){const Ze=le?(Be+8)%O:Be,ct=le&&Ze>7?Pe-1:Pe;A[Ze].codewords[ct]=l[ne++]}if(ne!==l.length)throw new g;return A}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ds{constructor(l){this.bytes=l,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(l){if(l<1||l>32||l>this.available())throw new g(""+l);let p=0,m=this.bitOffset,b=this.byteOffset;const w=this.bytes;if(m>0){const A=8-m,O=l<A?l:A,M=A-O,B=255>>8-O<<M;p=(w[b]&B)>>M,l-=O,m+=O,m===8&&(m=0,b++)}if(l>0){for(;l>=8;)p=p<<8|w[b]&255,b++,l-=8;if(l>0){const A=8-l,O=255>>A<<A;p=p<<l|(w[b]&O)>>A,m+=l}}return this.bitOffset=m,this.byteOffset=b,p}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var xn;(function(te){te[te.PAD_ENCODE=0]="PAD_ENCODE",te[te.ASCII_ENCODE=1]="ASCII_ENCODE",te[te.C40_ENCODE=2]="C40_ENCODE",te[te.TEXT_ENCODE=3]="TEXT_ENCODE",te[te.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",te[te.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",te[te.BASE256_ENCODE=6]="BASE256_ENCODE"})(xn||(xn={}));class As{static decode(l){const p=new ds(l),m=new fe,b=new fe,w=new Array;let A=xn.ASCII_ENCODE;do if(A===xn.ASCII_ENCODE)A=this.decodeAsciiSegment(p,m,b);else{switch(A){case xn.C40_ENCODE:this.decodeC40Segment(p,m);break;case xn.TEXT_ENCODE:this.decodeTextSegment(p,m);break;case xn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(p,m);break;case xn.EDIFACT_ENCODE:this.decodeEdifactSegment(p,m);break;case xn.BASE256_ENCODE:this.decodeBase256Segment(p,m,w);break;default:throw new Y}A=xn.ASCII_ENCODE}while(A!==xn.PAD_ENCODE&&p.available()>0);return b.length()>0&&m.append(b.toString()),new Oe(l,m.toString(),w.length===0?null:w,null)}static decodeAsciiSegment(l,p,m){let b=!1;do{let w=l.readBits(8);if(w===0)throw new Y;if(w<=128)return b&&(w+=128),p.append(String.fromCharCode(w-1)),xn.ASCII_ENCODE;if(w===129)return xn.PAD_ENCODE;if(w<=229){const A=w-130;A<10&&p.append("0"),p.append(""+A)}else switch(w){case 230:return xn.C40_ENCODE;case 231:return xn.BASE256_ENCODE;case 232:p.append("");break;case 233:case 234:break;case 235:b=!0;break;case 236:p.append("[)>05"),m.insert(0,"");break;case 237:p.append("[)>06"),m.insert(0,"");break;case 238:return xn.ANSIX12_ENCODE;case 239:return xn.TEXT_ENCODE;case 240:return xn.EDIFACT_ENCODE;case 241:break;default:if(w!==254||l.available()!==0)throw new Y;break}}while(l.available()>0);return xn.ASCII_ENCODE}static decodeC40Segment(l,p){let m=!1;const b=[];let w=0;do{if(l.available()===8)return;const A=l.readBits(8);if(A===254)return;this.parseTwoBytes(A,l.readBits(8),b);for(let O=0;O<3;O++){const M=b[O];switch(w){case 0:if(M<3)w=M+1;else if(M<this.C40_BASIC_SET_CHARS.length){const B=this.C40_BASIC_SET_CHARS[M];m?(p.append(String.fromCharCode(B.charCodeAt(0)+128)),m=!1):p.append(B)}else throw new Y;break;case 1:m?(p.append(String.fromCharCode(M+128)),m=!1):p.append(String.fromCharCode(M)),w=0;break;case 2:if(M<this.C40_SHIFT2_SET_CHARS.length){const B=this.C40_SHIFT2_SET_CHARS[M];m?(p.append(String.fromCharCode(B.charCodeAt(0)+128)),m=!1):p.append(B)}else switch(M){case 27:p.append("");break;case 30:m=!0;break;default:throw new Y}w=0;break;case 3:m?(p.append(String.fromCharCode(M+224)),m=!1):p.append(String.fromCharCode(M+96)),w=0;break;default:throw new Y}}}while(l.available()>0)}static decodeTextSegment(l,p){let m=!1,b=[],w=0;do{if(l.available()===8)return;const A=l.readBits(8);if(A===254)return;this.parseTwoBytes(A,l.readBits(8),b);for(let O=0;O<3;O++){const M=b[O];switch(w){case 0:if(M<3)w=M+1;else if(M<this.TEXT_BASIC_SET_CHARS.length){const B=this.TEXT_BASIC_SET_CHARS[M];m?(p.append(String.fromCharCode(B.charCodeAt(0)+128)),m=!1):p.append(B)}else throw new Y;break;case 1:m?(p.append(String.fromCharCode(M+128)),m=!1):p.append(String.fromCharCode(M)),w=0;break;case 2:if(M<this.TEXT_SHIFT2_SET_CHARS.length){const B=this.TEXT_SHIFT2_SET_CHARS[M];m?(p.append(String.fromCharCode(B.charCodeAt(0)+128)),m=!1):p.append(B)}else switch(M){case 27:p.append("");break;case 30:m=!0;break;default:throw new Y}w=0;break;case 3:if(M<this.TEXT_SHIFT3_SET_CHARS.length){const B=this.TEXT_SHIFT3_SET_CHARS[M];m?(p.append(String.fromCharCode(B.charCodeAt(0)+128)),m=!1):p.append(B),w=0}else throw new Y;break;default:throw new Y}}}while(l.available()>0)}static decodeAnsiX12Segment(l,p){const m=[];do{if(l.available()===8)return;const b=l.readBits(8);if(b===254)return;this.parseTwoBytes(b,l.readBits(8),m);for(let w=0;w<3;w++){const A=m[w];switch(A){case 0:p.append("\r");break;case 1:p.append("*");break;case 2:p.append(">");break;case 3:p.append(" ");break;default:if(A<14)p.append(String.fromCharCode(A+44));else if(A<40)p.append(String.fromCharCode(A+51));else throw new Y;break}}}while(l.available()>0)}static parseTwoBytes(l,p,m){let b=(l<<8)+p-1,w=Math.floor(b/1600);m[0]=w,b-=w*1600,w=Math.floor(b/40),m[1]=w,m[2]=b-w*40}static decodeEdifactSegment(l,p){do{if(l.available()<=16)return;for(let m=0;m<4;m++){let b=l.readBits(6);if(b===31){const w=8-l.getBitOffset();w!==8&&l.readBits(w);return}(b&32)===0&&(b|=64),p.append(String.fromCharCode(b))}}while(l.available()>0)}static decodeBase256Segment(l,p,m){let b=1+l.getByteOffset();const w=this.unrandomize255State(l.readBits(8),b++);let A;if(w===0?A=l.available()/8|0:w<250?A=w:A=250*(w-249)+this.unrandomize255State(l.readBits(8),b++),A<0)throw new Y;const O=new Uint8Array(A);for(let M=0;M<A;M++){if(l.available()<8)throw new Y;O[M]=this.unrandomize255State(l.readBits(8),b++)}m.push(O);try{p.append(H.decode(O,G.ISO88591))}catch(M){throw new ye("Platform does not support required encoding: "+M.message)}}static unrandomize255State(l,p){const m=149*p%255+1,b=l-m;return b>=0?b:b+256}}As.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],As.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],As.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],As.TEXT_SHIFT2_SET_CHARS=As.C40_SHIFT2_SET_CHARS,As.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ao{constructor(){this.rsDecoder=new wt(lt.DATA_MATRIX_FIELD_256)}decode(l){const p=new Na(l),m=p.getVersion(),b=p.readCodewords(),w=Hs.getDataBlocks(b,m);let A=0;for(let B of w)A+=B.getNumDataCodewords();const O=new Uint8Array(A),M=w.length;for(let B=0;B<M;B++){const $=w[B],ne=$.getCodewords(),le=$.getNumDataCodewords();this.correctErrors(ne,le);for(let Se=0;Se<le;Se++)O[Se*M+B]=ne[Se]}return As.decode(O)}correctErrors(l,p){const m=new Int32Array(l);try{this.rsDecoder.decode(m,l.length-p)}catch{throw new y}for(let b=0;b<p;b++)l[b]=m[b]}}class yr{constructor(l){this.image=l,this.rectangleDetector=new yn(this.image)}detect(){const l=this.rectangleDetector.detect();let p=this.detectSolid1(l);if(p=this.detectSolid2(p),p[3]=this.correctTopRight(p),!p[3])throw new ae;p=this.shiftToModuleCenter(p);const m=p[0],b=p[1],w=p[2],A=p[3];let O=this.transitionsBetween(m,A)+1,M=this.transitionsBetween(w,A)+1;(O&1)===1&&(O+=1),(M&1)===1&&(M+=1),4*O<7*M&&4*M<7*O&&(O=M=Math.max(O,M));let B=yr.sampleGrid(this.image,m,b,w,A,O,M);return new an(B,[m,b,w,A])}static shiftPoint(l,p,m){let b=(p.getX()-l.getX())/(m+1),w=(p.getY()-l.getY())/(m+1);return new at(l.getX()+b,l.getY()+w)}static moveAway(l,p,m){let b=l.getX(),w=l.getY();return b<p?b-=1:b+=1,w<m?w-=1:w+=1,new at(b,w)}detectSolid1(l){let p=l[0],m=l[1],b=l[3],w=l[2],A=this.transitionsBetween(p,m),O=this.transitionsBetween(m,b),M=this.transitionsBetween(b,w),B=this.transitionsBetween(w,p),$=A,ne=[w,p,m,b];return $>O&&($=O,ne[0]=p,ne[1]=m,ne[2]=b,ne[3]=w),$>M&&($=M,ne[0]=m,ne[1]=b,ne[2]=w,ne[3]=p),$>B&&(ne[0]=b,ne[1]=w,ne[2]=p,ne[3]=m),ne}detectSolid2(l){let p=l[0],m=l[1],b=l[2],w=l[3],A=this.transitionsBetween(p,w),O=yr.shiftPoint(m,b,(A+1)*4),M=yr.shiftPoint(b,m,(A+1)*4),B=this.transitionsBetween(O,p),$=this.transitionsBetween(M,w);return B<$?(l[0]=p,l[1]=m,l[2]=b,l[3]=w):(l[0]=m,l[1]=b,l[2]=w,l[3]=p),l}correctTopRight(l){let p=l[0],m=l[1],b=l[2],w=l[3],A=this.transitionsBetween(p,w),O=this.transitionsBetween(m,w),M=yr.shiftPoint(p,m,(O+1)*4),B=yr.shiftPoint(b,m,(A+1)*4);A=this.transitionsBetween(M,w),O=this.transitionsBetween(B,w);let $=new at(w.getX()+(b.getX()-m.getX())/(A+1),w.getY()+(b.getY()-m.getY())/(A+1)),ne=new at(w.getX()+(p.getX()-m.getX())/(O+1),w.getY()+(p.getY()-m.getY())/(O+1));if(!this.isValid($))return this.isValid(ne)?ne:null;if(!this.isValid(ne))return $;let le=this.transitionsBetween(M,$)+this.transitionsBetween(B,$),Se=this.transitionsBetween(M,ne)+this.transitionsBetween(B,ne);return le>Se?$:ne}shiftToModuleCenter(l){let p=l[0],m=l[1],b=l[2],w=l[3],A=this.transitionsBetween(p,w)+1,O=this.transitionsBetween(b,w)+1,M=yr.shiftPoint(p,m,O*4),B=yr.shiftPoint(b,m,A*4);A=this.transitionsBetween(M,w)+1,O=this.transitionsBetween(B,w)+1,(A&1)===1&&(A+=1),(O&1)===1&&(O+=1);let $=(p.getX()+m.getX()+b.getX()+w.getX())/4,ne=(p.getY()+m.getY()+b.getY()+w.getY())/4;p=yr.moveAway(p,$,ne),m=yr.moveAway(m,$,ne),b=yr.moveAway(b,$,ne),w=yr.moveAway(w,$,ne);let le,Se;return M=yr.shiftPoint(p,m,O*4),M=yr.shiftPoint(M,w,A*4),le=yr.shiftPoint(m,p,O*4),le=yr.shiftPoint(le,b,A*4),B=yr.shiftPoint(b,w,O*4),B=yr.shiftPoint(B,m,A*4),Se=yr.shiftPoint(w,b,O*4),Se=yr.shiftPoint(Se,p,A*4),[M,le,B,Se]}isValid(l){return l.getX()>=0&&l.getX()<this.image.getWidth()&&l.getY()>0&&l.getY()<this.image.getHeight()}static sampleGrid(l,p,m,b,w,A,O){return Nn.getInstance().sampleGrid(l,A,O,.5,.5,A-.5,.5,A-.5,O-.5,.5,O-.5,p.getX(),p.getY(),w.getX(),w.getY(),b.getX(),b.getY(),m.getX(),m.getY())}transitionsBetween(l,p){let m=Math.trunc(l.getX()),b=Math.trunc(l.getY()),w=Math.trunc(p.getX()),A=Math.trunc(p.getY()),O=Math.abs(A-b)>Math.abs(w-m);if(O){let Pe=m;m=b,b=Pe,Pe=w,w=A,A=Pe}let M=Math.abs(w-m),B=Math.abs(A-b),$=-M/2,ne=b<A?1:-1,le=m<w?1:-1,Se=0,Ie=this.image.get(O?b:m,O?m:b);for(let Pe=m,Be=b;Pe!==w;Pe+=le){let Ze=this.image.get(O?Be:Pe,O?Pe:Be);if(Ze!==Ie&&(Se++,Ie=Ze),$+=B,$>0){if(Be===A)break;Be+=ne,$-=M}}return Se}}class Es{constructor(){this.decoder=new ao}decode(l,p=null){let m,b;if(p!=null&&p.has(Q.PURE_BARCODE)){const B=Es.extractPureBits(l.getBlackMatrix());m=this.decoder.decode(B),b=Es.NO_POINTS}else{const B=new yr(l.getBlackMatrix()).detect();m=this.decoder.decode(B.getBits()),b=B.getPoints()}const w=m.getRawBytes(),A=new me(m.getText(),w,8*w.length,b,xe.DATA_MATRIX,E.currentTimeMillis()),O=m.getByteSegments();O!=null&&A.putMetadata(ze.BYTE_SEGMENTS,O);const M=m.getECLevel();return M!=null&&A.putMetadata(ze.ERROR_CORRECTION_LEVEL,M),A}reset(){}static extractPureBits(l){const p=l.getTopLeftOnBit(),m=l.getBottomRightOnBit();if(p==null||m==null)throw new ae;const b=this.moduleSize(p,l);let w=p[1];const A=m[1];let O=p[0];const B=(m[0]-O+1)/b,$=(A-w+1)/b;if(B<=0||$<=0)throw new ae;const ne=b/2;w+=ne,O+=ne;const le=new ee(B,$);for(let Se=0;Se<$;Se++){const Ie=w+Se*b;for(let Pe=0;Pe<B;Pe++)l.get(O+Pe*b,Ie)&&le.set(Pe,Se)}return le}static moduleSize(l,p){const m=p.getWidth();let b=l[0];const w=l[1];for(;b<m&&p.get(b,w);)b++;if(b===m)throw new ae;const A=b-l[0];if(A===0)throw new ae;return A}}Es.NO_POINTS=[];class Oa extends he{constructor(l=500){super(new Es,l)}}var zr;(function(te){te[te.L=0]="L",te[te.M=1]="M",te[te.Q=2]="Q",te[te.H=3]="H"})(zr||(zr={}));class Tn{constructor(l,p,m){this.value=l,this.stringValue=p,this.bits=m,Tn.FOR_BITS.set(m,this),Tn.FOR_VALUE.set(l,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(l){switch(l){case"L":return Tn.L;case"M":return Tn.M;case"Q":return Tn.Q;case"H":return Tn.H;default:throw new h(l+"not available")}}toString(){return this.stringValue}equals(l){if(!(l instanceof Tn))return!1;const p=l;return this.value===p.value}static forBits(l){if(l<0||l>=Tn.FOR_BITS.size)throw new g;return Tn.FOR_BITS.get(l)}}Tn.FOR_BITS=new Map,Tn.FOR_VALUE=new Map,Tn.L=new Tn(zr.L,"L",1),Tn.M=new Tn(zr.M,"M",0),Tn.Q=new Tn(zr.Q,"Q",3),Tn.H=new Tn(zr.H,"H",2);class di{constructor(l){this.errorCorrectionLevel=Tn.forBits(l>>3&3),this.dataMask=l&7}static numBitsDiffering(l,p){return F.bitCount(l^p)}static decodeFormatInformation(l,p){const m=di.doDecodeFormatInformation(l,p);return m!==null?m:di.doDecodeFormatInformation(l^di.FORMAT_INFO_MASK_QR,p^di.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(l,p){let m=Number.MAX_SAFE_INTEGER,b=0;for(const w of di.FORMAT_INFO_DECODE_LOOKUP){const A=w[0];if(A===l||A===p)return new di(w[1]);let O=di.numBitsDiffering(l,A);O<m&&(b=w[1],m=O),l!==p&&(O=di.numBitsDiffering(p,A),O<m&&(b=w[1],m=O))}return m<=3?new di(b):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(l){if(!(l instanceof di))return!1;const p=l;return this.errorCorrectionLevel===p.errorCorrectionLevel&&this.dataMask===p.dataMask}}di.FORMAT_INFO_MASK_QR=21522,di.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class $e{constructor(l,...p){this.ecCodewordsPerBlock=l,this.ecBlocks=p}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let l=0;const p=this.ecBlocks;for(const m of p)l+=m.getCount();return l}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _e{constructor(l,p){this.count=l,this.dataCodewords=p}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class It{constructor(l,p,...m){this.versionNumber=l,this.alignmentPatternCenters=p,this.ecBlocks=m;let b=0;const w=m[0].getECCodewordsPerBlock(),A=m[0].getECBlocks();for(const O of A)b+=O.getCount()*(O.getDataCodewords()+w);this.totalCodewords=b}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(l){return this.ecBlocks[l.getValue()]}static getProvisionalVersionForDimension(l){if(l%4!==1)throw new Y;try{return this.getVersionForNumber((l-17)/4)}catch{throw new Y}}static getVersionForNumber(l){if(l<1||l>40)throw new g;return It.VERSIONS[l-1]}static decodeVersionInformation(l){let p=Number.MAX_SAFE_INTEGER,m=0;for(let b=0;b<It.VERSION_DECODE_INFO.length;b++){const w=It.VERSION_DECODE_INFO[b];if(w===l)return It.getVersionForNumber(b+7);const A=di.numBitsDiffering(l,w);A<p&&(m=b+7,p=A)}return p<=3?It.getVersionForNumber(m):null}buildFunctionPattern(){const l=this.getDimensionForVersion(),p=new ee(l);p.setRegion(0,0,9,9),p.setRegion(l-8,0,8,9),p.setRegion(0,l-8,9,8);const m=this.alignmentPatternCenters.length;for(let b=0;b<m;b++){const w=this.alignmentPatternCenters[b]-2;for(let A=0;A<m;A++)b===0&&(A===0||A===m-1)||b===m-1&&A===0||p.setRegion(this.alignmentPatternCenters[A]-2,w,5,5)}return p.setRegion(6,9,1,l-17),p.setRegion(9,6,l-17,1),this.versionNumber>6&&(p.setRegion(l-11,0,3,6),p.setRegion(0,l-11,6,3)),p}toString(){return""+this.versionNumber}}It.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),It.VERSIONS=[new It(1,new Int32Array(0),new $e(7,new _e(1,19)),new $e(10,new _e(1,16)),new $e(13,new _e(1,13)),new $e(17,new _e(1,9))),new It(2,Int32Array.from([6,18]),new $e(10,new _e(1,34)),new $e(16,new _e(1,28)),new $e(22,new _e(1,22)),new $e(28,new _e(1,16))),new It(3,Int32Array.from([6,22]),new $e(15,new _e(1,55)),new $e(26,new _e(1,44)),new $e(18,new _e(2,17)),new $e(22,new _e(2,13))),new It(4,Int32Array.from([6,26]),new $e(20,new _e(1,80)),new $e(18,new _e(2,32)),new $e(26,new _e(2,24)),new $e(16,new _e(4,9))),new It(5,Int32Array.from([6,30]),new $e(26,new _e(1,108)),new $e(24,new _e(2,43)),new $e(18,new _e(2,15),new _e(2,16)),new $e(22,new _e(2,11),new _e(2,12))),new It(6,Int32Array.from([6,34]),new $e(18,new _e(2,68)),new $e(16,new _e(4,27)),new $e(24,new _e(4,19)),new $e(28,new _e(4,15))),new It(7,Int32Array.from([6,22,38]),new $e(20,new _e(2,78)),new $e(18,new _e(4,31)),new $e(18,new _e(2,14),new _e(4,15)),new $e(26,new _e(4,13),new _e(1,14))),new It(8,Int32Array.from([6,24,42]),new $e(24,new _e(2,97)),new $e(22,new _e(2,38),new _e(2,39)),new $e(22,new _e(4,18),new _e(2,19)),new $e(26,new _e(4,14),new _e(2,15))),new It(9,Int32Array.from([6,26,46]),new $e(30,new _e(2,116)),new $e(22,new _e(3,36),new _e(2,37)),new $e(20,new _e(4,16),new _e(4,17)),new $e(24,new _e(4,12),new _e(4,13))),new It(10,Int32Array.from([6,28,50]),new $e(18,new _e(2,68),new _e(2,69)),new $e(26,new _e(4,43),new _e(1,44)),new $e(24,new _e(6,19),new _e(2,20)),new $e(28,new _e(6,15),new _e(2,16))),new It(11,Int32Array.from([6,30,54]),new $e(20,new _e(4,81)),new $e(30,new _e(1,50),new _e(4,51)),new $e(28,new _e(4,22),new _e(4,23)),new $e(24,new _e(3,12),new _e(8,13))),new It(12,Int32Array.from([6,32,58]),new $e(24,new _e(2,92),new _e(2,93)),new $e(22,new _e(6,36),new _e(2,37)),new $e(26,new _e(4,20),new _e(6,21)),new $e(28,new _e(7,14),new _e(4,15))),new It(13,Int32Array.from([6,34,62]),new $e(26,new _e(4,107)),new $e(22,new _e(8,37),new _e(1,38)),new $e(24,new _e(8,20),new _e(4,21)),new $e(22,new _e(12,11),new _e(4,12))),new It(14,Int32Array.from([6,26,46,66]),new $e(30,new _e(3,115),new _e(1,116)),new $e(24,new _e(4,40),new _e(5,41)),new $e(20,new _e(11,16),new _e(5,17)),new $e(24,new _e(11,12),new _e(5,13))),new It(15,Int32Array.from([6,26,48,70]),new $e(22,new _e(5,87),new _e(1,88)),new $e(24,new _e(5,41),new _e(5,42)),new $e(30,new _e(5,24),new _e(7,25)),new $e(24,new _e(11,12),new _e(7,13))),new It(16,Int32Array.from([6,26,50,74]),new $e(24,new _e(5,98),new _e(1,99)),new $e(28,new _e(7,45),new _e(3,46)),new $e(24,new _e(15,19),new _e(2,20)),new $e(30,new _e(3,15),new _e(13,16))),new It(17,Int32Array.from([6,30,54,78]),new $e(28,new _e(1,107),new _e(5,108)),new $e(28,new _e(10,46),new _e(1,47)),new $e(28,new _e(1,22),new _e(15,23)),new $e(28,new _e(2,14),new _e(17,15))),new It(18,Int32Array.from([6,30,56,82]),new $e(30,new _e(5,120),new _e(1,121)),new $e(26,new _e(9,43),new _e(4,44)),new $e(28,new _e(17,22),new _e(1,23)),new $e(28,new _e(2,14),new _e(19,15))),new It(19,Int32Array.from([6,30,58,86]),new $e(28,new _e(3,113),new _e(4,114)),new $e(26,new _e(3,44),new _e(11,45)),new $e(26,new _e(17,21),new _e(4,22)),new $e(26,new _e(9,13),new _e(16,14))),new It(20,Int32Array.from([6,34,62,90]),new $e(28,new _e(3,107),new _e(5,108)),new $e(26,new _e(3,41),new _e(13,42)),new $e(30,new _e(15,24),new _e(5,25)),new $e(28,new _e(15,15),new _e(10,16))),new It(21,Int32Array.from([6,28,50,72,94]),new $e(28,new _e(4,116),new _e(4,117)),new $e(26,new _e(17,42)),new $e(28,new _e(17,22),new _e(6,23)),new $e(30,new _e(19,16),new _e(6,17))),new It(22,Int32Array.from([6,26,50,74,98]),new $e(28,new _e(2,111),new _e(7,112)),new $e(28,new _e(17,46)),new $e(30,new _e(7,24),new _e(16,25)),new $e(24,new _e(34,13))),new It(23,Int32Array.from([6,30,54,78,102]),new $e(30,new _e(4,121),new _e(5,122)),new $e(28,new _e(4,47),new _e(14,48)),new $e(30,new _e(11,24),new _e(14,25)),new $e(30,new _e(16,15),new _e(14,16))),new It(24,Int32Array.from([6,28,54,80,106]),new $e(30,new _e(6,117),new _e(4,118)),new $e(28,new _e(6,45),new _e(14,46)),new $e(30,new _e(11,24),new _e(16,25)),new $e(30,new _e(30,16),new _e(2,17))),new It(25,Int32Array.from([6,32,58,84,110]),new $e(26,new _e(8,106),new _e(4,107)),new $e(28,new _e(8,47),new _e(13,48)),new $e(30,new _e(7,24),new _e(22,25)),new $e(30,new _e(22,15),new _e(13,16))),new It(26,Int32Array.from([6,30,58,86,114]),new $e(28,new _e(10,114),new _e(2,115)),new $e(28,new _e(19,46),new _e(4,47)),new $e(28,new _e(28,22),new _e(6,23)),new $e(30,new _e(33,16),new _e(4,17))),new It(27,Int32Array.from([6,34,62,90,118]),new $e(30,new _e(8,122),new _e(4,123)),new $e(28,new _e(22,45),new _e(3,46)),new $e(30,new _e(8,23),new _e(26,24)),new $e(30,new _e(12,15),new _e(28,16))),new It(28,Int32Array.from([6,26,50,74,98,122]),new $e(30,new _e(3,117),new _e(10,118)),new $e(28,new _e(3,45),new _e(23,46)),new $e(30,new _e(4,24),new _e(31,25)),new $e(30,new _e(11,15),new _e(31,16))),new It(29,Int32Array.from([6,30,54,78,102,126]),new $e(30,new _e(7,116),new _e(7,117)),new $e(28,new _e(21,45),new _e(7,46)),new $e(30,new _e(1,23),new _e(37,24)),new $e(30,new _e(19,15),new _e(26,16))),new It(30,Int32Array.from([6,26,52,78,104,130]),new $e(30,new _e(5,115),new _e(10,116)),new $e(28,new _e(19,47),new _e(10,48)),new $e(30,new _e(15,24),new _e(25,25)),new $e(30,new _e(23,15),new _e(25,16))),new It(31,Int32Array.from([6,30,56,82,108,134]),new $e(30,new _e(13,115),new _e(3,116)),new $e(28,new _e(2,46),new _e(29,47)),new $e(30,new _e(42,24),new _e(1,25)),new $e(30,new _e(23,15),new _e(28,16))),new It(32,Int32Array.from([6,34,60,86,112,138]),new $e(30,new _e(17,115)),new $e(28,new _e(10,46),new _e(23,47)),new $e(30,new _e(10,24),new _e(35,25)),new $e(30,new _e(19,15),new _e(35,16))),new It(33,Int32Array.from([6,30,58,86,114,142]),new $e(30,new _e(17,115),new _e(1,116)),new $e(28,new _e(14,46),new _e(21,47)),new $e(30,new _e(29,24),new _e(19,25)),new $e(30,new _e(11,15),new _e(46,16))),new It(34,Int32Array.from([6,34,62,90,118,146]),new $e(30,new _e(13,115),new _e(6,116)),new $e(28,new _e(14,46),new _e(23,47)),new $e(30,new _e(44,24),new _e(7,25)),new $e(30,new _e(59,16),new _e(1,17))),new It(35,Int32Array.from([6,30,54,78,102,126,150]),new $e(30,new _e(12,121),new _e(7,122)),new $e(28,new _e(12,47),new _e(26,48)),new $e(30,new _e(39,24),new _e(14,25)),new $e(30,new _e(22,15),new _e(41,16))),new It(36,Int32Array.from([6,24,50,76,102,128,154]),new $e(30,new _e(6,121),new _e(14,122)),new $e(28,new _e(6,47),new _e(34,48)),new $e(30,new _e(46,24),new _e(10,25)),new $e(30,new _e(2,15),new _e(64,16))),new It(37,Int32Array.from([6,28,54,80,106,132,158]),new $e(30,new _e(17,122),new _e(4,123)),new $e(28,new _e(29,46),new _e(14,47)),new $e(30,new _e(49,24),new _e(10,25)),new $e(30,new _e(24,15),new _e(46,16))),new It(38,Int32Array.from([6,32,58,84,110,136,162]),new $e(30,new _e(4,122),new _e(18,123)),new $e(28,new _e(13,46),new _e(32,47)),new $e(30,new _e(48,24),new _e(14,25)),new $e(30,new _e(42,15),new _e(32,16))),new It(39,Int32Array.from([6,26,54,82,110,138,166]),new $e(30,new _e(20,117),new _e(4,118)),new $e(28,new _e(40,47),new _e(7,48)),new $e(30,new _e(43,24),new _e(22,25)),new $e(30,new _e(10,15),new _e(67,16))),new It(40,Int32Array.from([6,30,58,86,114,142,170]),new $e(30,new _e(19,118),new _e(6,119)),new $e(28,new _e(18,47),new _e(31,48)),new $e(30,new _e(34,24),new _e(34,25)),new $e(30,new _e(20,15),new _e(61,16)))];var ni;(function(te){te[te.DATA_MASK_000=0]="DATA_MASK_000",te[te.DATA_MASK_001=1]="DATA_MASK_001",te[te.DATA_MASK_010=2]="DATA_MASK_010",te[te.DATA_MASK_011=3]="DATA_MASK_011",te[te.DATA_MASK_100=4]="DATA_MASK_100",te[te.DATA_MASK_101=5]="DATA_MASK_101",te[te.DATA_MASK_110=6]="DATA_MASK_110",te[te.DATA_MASK_111=7]="DATA_MASK_111"})(ni||(ni={}));class ma{constructor(l,p){this.value=l,this.isMasked=p}unmaskBitMatrix(l,p){for(let m=0;m<p;m++)for(let b=0;b<p;b++)this.isMasked(m,b)&&l.flip(b,m)}}ma.values=new Map([[ni.DATA_MASK_000,new ma(ni.DATA_MASK_000,(te,l)=>(te+l&1)===0)],[ni.DATA_MASK_001,new ma(ni.DATA_MASK_001,(te,l)=>(te&1)===0)],[ni.DATA_MASK_010,new ma(ni.DATA_MASK_010,(te,l)=>l%3===0)],[ni.DATA_MASK_011,new ma(ni.DATA_MASK_011,(te,l)=>(te+l)%3===0)],[ni.DATA_MASK_100,new ma(ni.DATA_MASK_100,(te,l)=>(Math.floor(te/2)+Math.floor(l/3)&1)===0)],[ni.DATA_MASK_101,new ma(ni.DATA_MASK_101,(te,l)=>te*l%6===0)],[ni.DATA_MASK_110,new ma(ni.DATA_MASK_110,(te,l)=>te*l%6<3)],[ni.DATA_MASK_111,new ma(ni.DATA_MASK_111,(te,l)=>(te+l+te*l%3&1)===0)]]);class Gs{constructor(l){const p=l.getHeight();if(p<21||(p&3)!==1)throw new Y;this.bitMatrix=l}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let l=0;for(let w=0;w<6;w++)l=this.copyBit(w,8,l);l=this.copyBit(7,8,l),l=this.copyBit(8,8,l),l=this.copyBit(8,7,l);for(let w=5;w>=0;w--)l=this.copyBit(8,w,l);const p=this.bitMatrix.getHeight();let m=0;const b=p-7;for(let w=p-1;w>=b;w--)m=this.copyBit(8,w,m);for(let w=p-8;w<p;w++)m=this.copyBit(w,8,m);if(this.parsedFormatInfo=di.decodeFormatInformation(l,m),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Y}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const l=this.bitMatrix.getHeight(),p=Math.floor((l-17)/4);if(p<=6)return It.getVersionForNumber(p);let m=0;const b=l-11;for(let A=5;A>=0;A--)for(let O=l-9;O>=b;O--)m=this.copyBit(O,A,m);let w=It.decodeVersionInformation(m);if(w!==null&&w.getDimensionForVersion()===l)return this.parsedVersion=w,w;m=0;for(let A=5;A>=0;A--)for(let O=l-9;O>=b;O--)m=this.copyBit(A,O,m);if(w=It.decodeVersionInformation(m),w!==null&&w.getDimensionForVersion()===l)return this.parsedVersion=w,w;throw new Y}copyBit(l,p,m){return(this.isMirror?this.bitMatrix.get(p,l):this.bitMatrix.get(l,p))?m<<1|1:m<<1}readCodewords(){const l=this.readFormatInformation(),p=this.readVersion(),m=ma.values.get(l.getDataMask()),b=this.bitMatrix.getHeight();m.unmaskBitMatrix(this.bitMatrix,b);const w=p.buildFunctionPattern();let A=!0;const O=new Uint8Array(p.getTotalCodewords());let M=0,B=0,$=0;for(let ne=b-1;ne>0;ne-=2){ne===6&&ne--;for(let le=0;le<b;le++){const Se=A?b-1-le:le;for(let Ie=0;Ie<2;Ie++)w.get(ne-Ie,Se)||($++,B<<=1,this.bitMatrix.get(ne-Ie,Se)&&(B|=1),$===8&&(O[M++]=B,$=0,B=0))}A=!A}if(M!==p.getTotalCodewords())throw new Y;return O}remask(){if(this.parsedFormatInfo===null)return;const l=ma.values[this.parsedFormatInfo.getDataMask()],p=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,p)}setMirror(l){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=l}mirror(){const l=this.bitMatrix;for(let p=0,m=l.getWidth();p<m;p++)for(let b=p+1,w=l.getHeight();b<w;b++)l.get(p,b)!==l.get(b,p)&&(l.flip(b,p),l.flip(p,b))}}class Po{constructor(l,p){this.numDataCodewords=l,this.codewords=p}static getDataBlocks(l,p,m){if(l.length!==p.getTotalCodewords())throw new g;const b=p.getECBlocksForLevel(m);let w=0;const A=b.getECBlocks();for(const Ie of A)w+=Ie.getCount();const O=new Array(w);let M=0;for(const Ie of A)for(let Pe=0;Pe<Ie.getCount();Pe++){const Be=Ie.getDataCodewords(),Ze=b.getECCodewordsPerBlock()+Be;O[M++]=new Po(Be,new Uint8Array(Ze))}const B=O[0].codewords.length;let $=O.length-1;for(;$>=0&&O[$].codewords.length!==B;)$--;$++;const ne=B-b.getECCodewordsPerBlock();let le=0;for(let Ie=0;Ie<ne;Ie++)for(let Pe=0;Pe<M;Pe++)O[Pe].codewords[Ie]=l[le++];for(let Ie=$;Ie<M;Ie++)O[Ie].codewords[ne]=l[le++];const Se=O[0].codewords.length;for(let Ie=ne;Ie<Se;Ie++)for(let Pe=0;Pe<M;Pe++){const Be=Pe<$?Ie:Ie+1;O[Pe].codewords[Be]=l[le++]}return O}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ta;(function(te){te[te.TERMINATOR=0]="TERMINATOR",te[te.NUMERIC=1]="NUMERIC",te[te.ALPHANUMERIC=2]="ALPHANUMERIC",te[te.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",te[te.BYTE=4]="BYTE",te[te.ECI=5]="ECI",te[te.KANJI=6]="KANJI",te[te.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",te[te.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",te[te.HANZI=9]="HANZI"})(Ta||(Ta={}));class nn{constructor(l,p,m,b){this.value=l,this.stringValue=p,this.characterCountBitsForVersions=m,this.bits=b,nn.FOR_BITS.set(b,this),nn.FOR_VALUE.set(l,this)}static forBits(l){const p=nn.FOR_BITS.get(l);if(p===void 0)throw new g;return p}getCharacterCountBits(l){const p=l.getVersionNumber();let m;return p<=9?m=0:p<=26?m=1:m=2,this.characterCountBitsForVersions[m]}getValue(){return this.value}getBits(){return this.bits}equals(l){if(!(l instanceof nn))return!1;const p=l;return this.value===p.value}toString(){return this.stringValue}}nn.FOR_BITS=new Map,nn.FOR_VALUE=new Map,nn.TERMINATOR=new nn(Ta.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),nn.NUMERIC=new nn(Ta.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),nn.ALPHANUMERIC=new nn(Ta.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),nn.STRUCTURED_APPEND=new nn(Ta.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),nn.BYTE=new nn(Ta.BYTE,"BYTE",Int32Array.from([8,16,16]),4),nn.ECI=new nn(Ta.ECI,"ECI",Int32Array.from([0,0,0]),7),nn.KANJI=new nn(Ta.KANJI,"KANJI",Int32Array.from([8,10,12]),8),nn.FNC1_FIRST_POSITION=new nn(Ta.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),nn.FNC1_SECOND_POSITION=new nn(Ta.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),nn.HANZI=new nn(Ta.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class _r{static decode(l,p,m,b){const w=new ds(l);let A=new fe;const O=new Array;let M=-1,B=-1;try{let $=null,ne=!1,le;do{if(w.available()<4)le=nn.TERMINATOR;else{const Se=w.readBits(4);le=nn.forBits(Se)}switch(le){case nn.TERMINATOR:break;case nn.FNC1_FIRST_POSITION:case nn.FNC1_SECOND_POSITION:ne=!0;break;case nn.STRUCTURED_APPEND:if(w.available()<16)throw new Y;M=w.readBits(8),B=w.readBits(8);break;case nn.ECI:const Se=_r.parseECIValue(w);if($=q.getCharacterSetECIByValue(Se),$===null)throw new Y;break;case nn.HANZI:const Ie=w.readBits(4),Pe=w.readBits(le.getCharacterCountBits(p));Ie===_r.GB2312_SUBSET&&_r.decodeHanziSegment(w,A,Pe);break;default:const Be=w.readBits(le.getCharacterCountBits(p));switch(le){case nn.NUMERIC:_r.decodeNumericSegment(w,A,Be);break;case nn.ALPHANUMERIC:_r.decodeAlphanumericSegment(w,A,Be,ne);break;case nn.BYTE:_r.decodeByteSegment(w,A,Be,$,O,b);break;case nn.KANJI:_r.decodeKanjiSegment(w,A,Be);break;default:throw new Y}break}}while(le!==nn.TERMINATOR)}catch{throw new Y}return new Oe(l,A.toString(),O.length===0?null:O,m===null?null:m.toString(),M,B)}static decodeHanziSegment(l,p,m){if(m*13>l.available())throw new Y;const b=new Uint8Array(2*m);let w=0;for(;m>0;){const A=l.readBits(13);let O=A/96<<8&4294967295|A%96;O<959?O+=41377:O+=42657,b[w]=O>>8&255,b[w+1]=O&255,w+=2,m--}try{p.append(H.decode(b,G.GB2312))}catch(A){throw new Y(A)}}static decodeKanjiSegment(l,p,m){if(m*13>l.available())throw new Y;const b=new Uint8Array(2*m);let w=0;for(;m>0;){const A=l.readBits(13);let O=A/192<<8&4294967295|A%192;O<7936?O+=33088:O+=49472,b[w]=O>>8,b[w+1]=O,w+=2,m--}try{p.append(H.decode(b,G.SHIFT_JIS))}catch(A){throw new Y(A)}}static decodeByteSegment(l,p,m,b,w,A){if(8*m>l.available())throw new Y;const O=new Uint8Array(m);for(let B=0;B<m;B++)O[B]=l.readBits(8);let M;b===null?M=G.guessEncoding(O,A):M=b.getName();try{p.append(H.decode(O,M))}catch(B){throw new Y(B)}w.push(O)}static toAlphaNumericChar(l){if(l>=_r.ALPHANUMERIC_CHARS.length)throw new Y;return _r.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,p,m,b){const w=p.length();for(;m>1;){if(l.available()<11)throw new Y;const A=l.readBits(11);p.append(_r.toAlphaNumericChar(Math.floor(A/45))),p.append(_r.toAlphaNumericChar(A%45)),m-=2}if(m===1){if(l.available()<6)throw new Y;p.append(_r.toAlphaNumericChar(l.readBits(6)))}if(b)for(let A=w;A<p.length();A++)p.charAt(A)==="%"&&(A<p.length()-1&&p.charAt(A+1)==="%"?p.deleteCharAt(A+1):p.setCharAt(A,""))}static decodeNumericSegment(l,p,m){for(;m>=3;){if(l.available()<10)throw new Y;const b=l.readBits(10);if(b>=1e3)throw new Y;p.append(_r.toAlphaNumericChar(Math.floor(b/100))),p.append(_r.toAlphaNumericChar(Math.floor(b/10)%10)),p.append(_r.toAlphaNumericChar(b%10)),m-=3}if(m===2){if(l.available()<7)throw new Y;const b=l.readBits(7);if(b>=100)throw new Y;p.append(_r.toAlphaNumericChar(Math.floor(b/10))),p.append(_r.toAlphaNumericChar(b%10))}else if(m===1){if(l.available()<4)throw new Y;const b=l.readBits(4);if(b>=10)throw new Y;p.append(_r.toAlphaNumericChar(b))}}static parseECIValue(l){const p=l.readBits(8);if((p&128)===0)return p&127;if((p&192)===128){const m=l.readBits(8);return(p&63)<<8&4294967295|m}if((p&224)===192){const m=l.readBits(16);return(p&31)<<16&4294967295|m}throw new Y}}_r.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",_r.GB2312_SUBSET=1;class uc{constructor(l){this.mirrored=l}isMirrored(){return this.mirrored}applyMirroredCorrection(l){if(!this.mirrored||l===null||l.length<3)return;const p=l[0];l[0]=l[2],l[2]=p}}class $u{constructor(){this.rsDecoder=new wt(lt.QR_CODE_FIELD_256)}decodeBooleanArray(l,p){return this.decodeBitMatrix(ee.parseFromBooleanArray(l),p)}decodeBitMatrix(l,p){const m=new Gs(l);let b=null;try{return this.decodeBitMatrixParser(m,p)}catch(w){b=w}try{m.remask(),m.setMirror(!0),m.readVersion(),m.readFormatInformation(),m.mirror();const w=this.decodeBitMatrixParser(m,p);return w.setOther(new uc(!0)),w}catch(w){throw b!==null?b:w}}decodeBitMatrixParser(l,p){const m=l.readVersion(),b=l.readFormatInformation().getErrorCorrectionLevel(),w=l.readCodewords(),A=Po.getDataBlocks(w,m,b);let O=0;for(const $ of A)O+=$.getNumDataCodewords();const M=new Uint8Array(O);let B=0;for(const $ of A){const ne=$.getCodewords(),le=$.getNumDataCodewords();this.correctErrors(ne,le);for(let Se=0;Se<le;Se++)M[B++]=ne[Se]}return _r.decode(M,m,b,p)}correctErrors(l,p){const m=new Int32Array(l);try{this.rsDecoder.decode(m,l.length-p)}catch{throw new y}for(let b=0;b<p;b++)l[b]=m[b]}}class ga extends at{constructor(l,p,m){super(l,p),this.estimatedModuleSize=m}aboutEquals(l,p,m){if(Math.abs(p-this.getY())<=l&&Math.abs(m-this.getX())<=l){const b=Math.abs(l-this.estimatedModuleSize);return b<=1||b<=this.estimatedModuleSize}return!1}combineEstimate(l,p,m){const b=(this.getX()+p)/2,w=(this.getY()+l)/2,A=(this.estimatedModuleSize+m)/2;return new ga(b,w,A)}}class Ga{constructor(l,p,m,b,w,A,O){this.image=l,this.startX=p,this.startY=m,this.width=b,this.height=w,this.moduleSize=A,this.resultPointCallback=O,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const l=this.startX,p=this.height,m=this.width,b=l+m,w=this.startY+p/2,A=new Int32Array(3),O=this.image;for(let M=0;M<p;M++){const B=w+((M&1)===0?Math.floor((M+1)/2):-Math.floor((M+1)/2));A[0]=0,A[1]=0,A[2]=0;let $=l;for(;$<b&&!O.get($,B);)$++;let ne=0;for(;$<b;){if(O.get($,B))if(ne===1)A[1]++;else if(ne===2){if(this.foundPatternCross(A)){const le=this.handlePossibleCenter(A,B,$);if(le!==null)return le}A[0]=A[2],A[1]=1,A[2]=0,ne=1}else A[++ne]++;else ne===1&&ne++,A[ne]++;$++}if(this.foundPatternCross(A)){const le=this.handlePossibleCenter(A,B,b);if(le!==null)return le}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ae}static centerFromEnd(l,p){return p-l[2]-l[1]/2}foundPatternCross(l){const p=this.moduleSize,m=p/2;for(let b=0;b<3;b++)if(Math.abs(p-l[b])>=m)return!1;return!0}crossCheckVertical(l,p,m,b){const w=this.image,A=w.getHeight(),O=this.crossCheckStateCount;O[0]=0,O[1]=0,O[2]=0;let M=l;for(;M>=0&&w.get(p,M)&&O[1]<=m;)O[1]++,M--;if(M<0||O[1]>m)return NaN;for(;M>=0&&!w.get(p,M)&&O[0]<=m;)O[0]++,M--;if(O[0]>m)return NaN;for(M=l+1;M<A&&w.get(p,M)&&O[1]<=m;)O[1]++,M++;if(M===A||O[1]>m)return NaN;for(;M<A&&!w.get(p,M)&&O[2]<=m;)O[2]++,M++;if(O[2]>m)return NaN;const B=O[0]+O[1]+O[2];return 5*Math.abs(B-b)>=2*b?NaN:this.foundPatternCross(O)?Ga.centerFromEnd(O,M):NaN}handlePossibleCenter(l,p,m){const b=l[0]+l[1]+l[2],w=Ga.centerFromEnd(l,m),A=this.crossCheckVertical(p,w,2*l[1],b);if(!isNaN(A)){const O=(l[0]+l[1]+l[2])/3;for(const B of this.possibleCenters)if(B.aboutEquals(O,A,w))return B.combineEstimate(A,w,O);const M=new ga(w,A,O);this.possibleCenters.push(M),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(M)}return null}}class $s extends at{constructor(l,p,m,b){super(l,p),this.estimatedModuleSize=m,this.count=b,b===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(l,p,m){if(Math.abs(p-this.getY())<=l&&Math.abs(m-this.getX())<=l){const b=Math.abs(l-this.estimatedModuleSize);return b<=1||b<=this.estimatedModuleSize}return!1}combineEstimate(l,p,m){const b=this.count+1,w=(this.count*this.getX()+p)/b,A=(this.count*this.getY()+l)/b,O=(this.count*this.estimatedModuleSize+m)/b;return new $s(w,A,O,b)}}class Ol{constructor(l){this.bottomLeft=l[0],this.topLeft=l[1],this.topRight=l[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class kr{constructor(l,p){this.image=l,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=p}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const p=l!=null&&l.get(Q.TRY_HARDER)!==void 0,m=l!=null&&l.get(Q.PURE_BARCODE)!==void 0,b=this.image,w=b.getHeight(),A=b.getWidth();let O=Math.floor(3*w/(4*kr.MAX_MODULES));(O<kr.MIN_SKIP||p)&&(O=kr.MIN_SKIP);let M=!1;const B=new Int32Array(5);for(let ne=O-1;ne<w&&!M;ne+=O){B[0]=0,B[1]=0,B[2]=0,B[3]=0,B[4]=0;let le=0;for(let Se=0;Se<A;Se++)if(b.get(Se,ne))(le&1)===1&&le++,B[le]++;else if((le&1)===0)if(le===4)if(kr.foundPatternCross(B)){if(this.handlePossibleCenter(B,ne,Se,m)===!0)if(O=2,this.hasSkipped===!0)M=this.haveMultiplyConfirmedCenters();else{const Pe=this.findRowSkip();Pe>B[2]&&(ne+=Pe-B[2]-O,Se=A-1)}else{B[0]=B[2],B[1]=B[3],B[2]=B[4],B[3]=1,B[4]=0,le=3;continue}le=0,B[0]=0,B[1]=0,B[2]=0,B[3]=0,B[4]=0}else B[0]=B[2],B[1]=B[3],B[2]=B[4],B[3]=1,B[4]=0,le=3;else B[++le]++;else B[le]++;kr.foundPatternCross(B)&&this.handlePossibleCenter(B,ne,A,m)===!0&&(O=B[0],this.hasSkipped&&(M=this.haveMultiplyConfirmedCenters()))}const $=this.selectBestPatterns();return at.orderBestPatterns($),new Ol($)}static centerFromEnd(l,p){return p-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let p=0;for(let w=0;w<5;w++){const A=l[w];if(A===0)return!1;p+=A}if(p<7)return!1;const m=p/7,b=m/2;return Math.abs(m-l[0])<b&&Math.abs(m-l[1])<b&&Math.abs(3*m-l[2])<3*b&&Math.abs(m-l[3])<b&&Math.abs(m-l[4])<b}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,p,m,b){const w=this.getCrossCheckStateCount();let A=0;const O=this.image;for(;l>=A&&p>=A&&O.get(p-A,l-A);)w[2]++,A++;if(l<A||p<A)return!1;for(;l>=A&&p>=A&&!O.get(p-A,l-A)&&w[1]<=m;)w[1]++,A++;if(l<A||p<A||w[1]>m)return!1;for(;l>=A&&p>=A&&O.get(p-A,l-A)&&w[0]<=m;)w[0]++,A++;if(w[0]>m)return!1;const M=O.getHeight(),B=O.getWidth();for(A=1;l+A<M&&p+A<B&&O.get(p+A,l+A);)w[2]++,A++;if(l+A>=M||p+A>=B)return!1;for(;l+A<M&&p+A<B&&!O.get(p+A,l+A)&&w[3]<m;)w[3]++,A++;if(l+A>=M||p+A>=B||w[3]>=m)return!1;for(;l+A<M&&p+A<B&&O.get(p+A,l+A)&&w[4]<m;)w[4]++,A++;if(w[4]>=m)return!1;const $=w[0]+w[1]+w[2]+w[3]+w[4];return Math.abs($-b)<2*b&&kr.foundPatternCross(w)}crossCheckVertical(l,p,m,b){const w=this.image,A=w.getHeight(),O=this.getCrossCheckStateCount();let M=l;for(;M>=0&&w.get(p,M);)O[2]++,M--;if(M<0)return NaN;for(;M>=0&&!w.get(p,M)&&O[1]<=m;)O[1]++,M--;if(M<0||O[1]>m)return NaN;for(;M>=0&&w.get(p,M)&&O[0]<=m;)O[0]++,M--;if(O[0]>m)return NaN;for(M=l+1;M<A&&w.get(p,M);)O[2]++,M++;if(M===A)return NaN;for(;M<A&&!w.get(p,M)&&O[3]<m;)O[3]++,M++;if(M===A||O[3]>=m)return NaN;for(;M<A&&w.get(p,M)&&O[4]<m;)O[4]++,M++;if(O[4]>=m)return NaN;const B=O[0]+O[1]+O[2]+O[3]+O[4];return 5*Math.abs(B-b)>=2*b?NaN:kr.foundPatternCross(O)?kr.centerFromEnd(O,M):NaN}crossCheckHorizontal(l,p,m,b){const w=this.image,A=w.getWidth(),O=this.getCrossCheckStateCount();let M=l;for(;M>=0&&w.get(M,p);)O[2]++,M--;if(M<0)return NaN;for(;M>=0&&!w.get(M,p)&&O[1]<=m;)O[1]++,M--;if(M<0||O[1]>m)return NaN;for(;M>=0&&w.get(M,p)&&O[0]<=m;)O[0]++,M--;if(O[0]>m)return NaN;for(M=l+1;M<A&&w.get(M,p);)O[2]++,M++;if(M===A)return NaN;for(;M<A&&!w.get(M,p)&&O[3]<m;)O[3]++,M++;if(M===A||O[3]>=m)return NaN;for(;M<A&&w.get(M,p)&&O[4]<m;)O[4]++,M++;if(O[4]>=m)return NaN;const B=O[0]+O[1]+O[2]+O[3]+O[4];return 5*Math.abs(B-b)>=b?NaN:kr.foundPatternCross(O)?kr.centerFromEnd(O,M):NaN}handlePossibleCenter(l,p,m,b){const w=l[0]+l[1]+l[2]+l[3]+l[4];let A=kr.centerFromEnd(l,m),O=this.crossCheckVertical(p,Math.floor(A),l[2],w);if(!isNaN(O)&&(A=this.crossCheckHorizontal(Math.floor(A),Math.floor(O),l[2],w),!isNaN(A)&&(!b||this.crossCheckDiagonal(Math.floor(O),Math.floor(A),l[2],w)))){const M=w/7;let B=!1;const $=this.possibleCenters;for(let ne=0,le=$.length;ne<le;ne++){const Se=$[ne];if(Se.aboutEquals(M,O,A)){$[ne]=Se.combineEstimate(O,A,M),B=!0;break}}if(!B){const ne=new $s(A,O,M);$.push(ne),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(ne)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let p=null;for(const m of this.possibleCenters)if(m.getCount()>=kr.CENTER_QUORUM)if(p==null)p=m;else return this.hasSkipped=!0,Math.floor((Math.abs(p.getX()-m.getX())-Math.abs(p.getY()-m.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let l=0,p=0;const m=this.possibleCenters.length;for(const A of this.possibleCenters)A.getCount()>=kr.CENTER_QUORUM&&(l++,p+=A.getEstimatedModuleSize());if(l<3)return!1;const b=p/m;let w=0;for(const A of this.possibleCenters)w+=Math.abs(A.getEstimatedModuleSize()-b);return w<=.05*p}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new ae;const p=this.possibleCenters;let m;if(l>3){let b=0,w=0;for(const M of this.possibleCenters){const B=M.getEstimatedModuleSize();b+=B,w+=B*B}m=b/l;let A=Math.sqrt(w/l-m*m);p.sort((M,B)=>{const $=Math.abs(B.getEstimatedModuleSize()-m),ne=Math.abs(M.getEstimatedModuleSize()-m);return $<ne?-1:$>ne?1:0});const O=Math.max(.2*m,A);for(let M=0;M<p.length&&p.length>3;M++){const B=p[M];Math.abs(B.getEstimatedModuleSize()-m)>O&&(p.splice(M,1),M--)}}if(p.length>3){let b=0;for(const w of p)b+=w.getEstimatedModuleSize();m=b/p.length,p.sort((w,A)=>{if(A.getCount()===w.getCount()){const O=Math.abs(A.getEstimatedModuleSize()-m),M=Math.abs(w.getEstimatedModuleSize()-m);return O<M?1:O>M?-1:0}else return A.getCount()-w.getCount()}),p.splice(3)}return[p[0],p[1],p[2]]}}kr.CENTER_QUORUM=2,kr.MIN_SKIP=3,kr.MAX_MODULES=57;class un{constructor(l){this.image=l}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(l){this.resultPointCallback=l==null?null:l.get(Q.NEED_RESULT_POINT_CALLBACK);const m=new kr(this.image,this.resultPointCallback).find(l);return this.processFinderPatternInfo(m)}processFinderPatternInfo(l){const p=l.getTopLeft(),m=l.getTopRight(),b=l.getBottomLeft(),w=this.calculateModuleSize(p,m,b);if(w<1)throw new ae("No pattern found in proccess finder.");const A=un.computeDimension(p,m,b,w),O=It.getProvisionalVersionForDimension(A),M=O.getDimensionForVersion()-7;let B=null;if(O.getAlignmentPatternCenters().length>0){const Se=m.getX()-p.getX()+b.getX(),Ie=m.getY()-p.getY()+b.getY(),Pe=1-3/M,Be=Math.floor(p.getX()+Pe*(Se-p.getX())),Ze=Math.floor(p.getY()+Pe*(Ie-p.getY()));for(let ct=4;ct<=16;ct<<=1)try{B=this.findAlignmentInRegion(w,Be,Ze,ct);break}catch(ut){if(!(ut instanceof ae))throw ut}}const $=un.createTransform(p,m,b,B,A),ne=un.sampleGrid(this.image,$,A);let le;return B===null?le=[b,p,m]:le=[b,p,m,B],new an(ne,le)}static createTransform(l,p,m,b,w){const A=w-3.5;let O,M,B,$;return b!==null?(O=b.getX(),M=b.getY(),B=A-3,$=B):(O=p.getX()-l.getX()+m.getX(),M=p.getY()-l.getY()+m.getY(),B=A,$=A),cn.quadrilateralToQuadrilateral(3.5,3.5,A,3.5,B,$,3.5,A,l.getX(),l.getY(),p.getX(),p.getY(),O,M,m.getX(),m.getY())}static sampleGrid(l,p,m){return Nn.getInstance().sampleGridWithTransform(l,m,m,p)}static computeDimension(l,p,m,b){const w=nt.round(at.distance(l,p)/b),A=nt.round(at.distance(l,m)/b);let O=Math.floor((w+A)/2)+7;switch(O&3){case 0:O++;break;case 2:O--;break;case 3:throw new ae("Dimensions could be not found.")}return O}calculateModuleSize(l,p,m){return(this.calculateModuleSizeOneWay(l,p)+this.calculateModuleSizeOneWay(l,m))/2}calculateModuleSizeOneWay(l,p){const m=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(p.getX()),Math.floor(p.getY())),b=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(p.getX()),Math.floor(p.getY()),Math.floor(l.getX()),Math.floor(l.getY()));return isNaN(m)?b/7:isNaN(b)?m/7:(m+b)/14}sizeOfBlackWhiteBlackRunBothWays(l,p,m,b){let w=this.sizeOfBlackWhiteBlackRun(l,p,m,b),A=1,O=l-(m-l);O<0?(A=l/(l-O),O=0):O>=this.image.getWidth()&&(A=(this.image.getWidth()-1-l)/(O-l),O=this.image.getWidth()-1);let M=Math.floor(p-(b-p)*A);return A=1,M<0?(A=p/(p-M),M=0):M>=this.image.getHeight()&&(A=(this.image.getHeight()-1-p)/(M-p),M=this.image.getHeight()-1),O=Math.floor(l+(O-l)*A),w+=this.sizeOfBlackWhiteBlackRun(l,p,O,M),w-1}sizeOfBlackWhiteBlackRun(l,p,m,b){const w=Math.abs(b-p)>Math.abs(m-l);if(w){let Se=l;l=p,p=Se,Se=m,m=b,b=Se}const A=Math.abs(m-l),O=Math.abs(b-p);let M=-A/2;const B=l<m?1:-1,$=p<b?1:-1;let ne=0;const le=m+B;for(let Se=l,Ie=p;Se!==le;Se+=B){const Pe=w?Ie:Se,Be=w?Se:Ie;if(ne===1===this.image.get(Pe,Be)){if(ne===2)return nt.distance(Se,Ie,l,p);ne++}if(M+=O,M>0){if(Ie===b)break;Ie+=$,M-=A}}return ne===2?nt.distance(m+B,b,l,p):NaN}findAlignmentInRegion(l,p,m,b){const w=Math.floor(b*l),A=Math.max(0,p-w),O=Math.min(this.image.getWidth()-1,p+w);if(O-A<l*3)throw new ae("Alignment top exceeds estimated module size.");const M=Math.max(0,m-w),B=Math.min(this.image.getHeight()-1,m+w);if(B-M<l*3)throw new ae("Alignment bottom exceeds estimated module size.");return new Ga(this.image,A,M,O-A,B-M,l,this.resultPointCallback).find()}}class Ws{constructor(){this.decoder=new $u}getDecoder(){return this.decoder}decode(l,p){let m,b;if(p!=null&&p.get(Q.PURE_BARCODE)!==void 0){const M=Ws.extractPureBits(l.getBlackMatrix());m=this.decoder.decodeBitMatrix(M,p),b=Ws.NO_POINTS}else{const M=new un(l.getBlackMatrix()).detect(p);m=this.decoder.decodeBitMatrix(M.getBits(),p),b=M.getPoints()}m.getOther()instanceof uc&&m.getOther().applyMirroredCorrection(b);const w=new me(m.getText(),m.getRawBytes(),void 0,b,xe.QR_CODE,void 0),A=m.getByteSegments();A!==null&&w.putMetadata(ze.BYTE_SEGMENTS,A);const O=m.getECLevel();return O!==null&&w.putMetadata(ze.ERROR_CORRECTION_LEVEL,O),m.hasStructuredAppend()&&(w.putMetadata(ze.STRUCTURED_APPEND_SEQUENCE,m.getStructuredAppendSequenceNumber()),w.putMetadata(ze.STRUCTURED_APPEND_PARITY,m.getStructuredAppendParity())),w}reset(){}static extractPureBits(l){const p=l.getTopLeftOnBit(),m=l.getBottomRightOnBit();if(p===null||m===null)throw new ae;const b=this.moduleSize(p,l);let w=p[1],A=m[1],O=p[0],M=m[0];if(O>=M||w>=A)throw new ae;if(A-w!==M-O&&(M=O+(A-w),M>=l.getWidth()))throw new ae;const B=Math.round((M-O+1)/b),$=Math.round((A-w+1)/b);if(B<=0||$<=0)throw new ae;if($!==B)throw new ae;const ne=Math.floor(b/2);w+=ne,O+=ne;const le=O+Math.floor((B-1)*b)-M;if(le>0){if(le>ne)throw new ae;O-=le}const Se=w+Math.floor(($-1)*b)-A;if(Se>0){if(Se>ne)throw new ae;w-=Se}const Ie=new ee(B,$);for(let Pe=0;Pe<$;Pe++){const Be=w+Math.floor(Pe*b);for(let Ze=0;Ze<B;Ze++)l.get(O+Math.floor(Ze*b),Be)&&Ie.set(Ze,Pe)}return Ie}static moduleSize(l,p){const m=p.getHeight(),b=p.getWidth();let w=l[0],A=l[1],O=!0,M=0;for(;w<b&&A<m;){if(O!==p.get(w,A)){if(++M===5)break;O=!O}w++,A++}if(w===b||A===m)throw new ae;return(w-l[0])/7}}Ws.NO_POINTS=new Array;class fn{PDF417Common(){}static getBitCountSum(l){return nt.sum(l)}static toIntArray(l){if(l==null||!l.length)return fn.EMPTY_INT_ARRAY;const p=new Int32Array(l.length);let m=0;for(const b of l)p[m++]=b;return p}static getCodeword(l){const p=D.binarySearch(fn.SYMBOL_TABLE,l&262143);return p<0?-1:(fn.CODEWORD_TABLE[p]-1)%fn.NUMBER_OF_CODEWORDS}}fn.NUMBER_OF_CODEWORDS=929,fn.MAX_CODEWORDS_IN_BARCODE=fn.NUMBER_OF_CODEWORDS-1,fn.MIN_ROWS_IN_BARCODE=3,fn.MAX_ROWS_IN_BARCODE=90,fn.MODULES_IN_CODEWORD=17,fn.MODULES_IN_STOP_PATTERN=18,fn.BARS_IN_MODULE=8,fn.EMPTY_INT_ARRAY=new Int32Array([]),fn.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),fn.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Wu{constructor(l,p){this.bits=l,this.points=p}getBits(){return this.bits}getPoints(){return this.points}}class dn{static detectMultiple(l,p,m){let b=l.getBlackMatrix(),w=dn.detect(m,b);return w.length||(b=b.clone(),b.rotate180(),w=dn.detect(m,b)),new Wu(b,w)}static detect(l,p){const m=new Array;let b=0,w=0,A=!1;for(;b<p.getHeight();){const O=dn.findVertices(p,b,w);if(O[0]==null&&O[3]==null){if(!A)break;A=!1,w=0;for(const M of m)M[1]!=null&&(b=Math.trunc(Math.max(b,M[1].getY()))),M[3]!=null&&(b=Math.max(b,Math.trunc(M[3].getY())));b+=dn.ROW_STEP;continue}if(A=!0,m.push(O),!l)break;O[2]!=null?(w=Math.trunc(O[2].getX()),b=Math.trunc(O[2].getY())):(w=Math.trunc(O[4].getX()),b=Math.trunc(O[4].getY()))}return m}static findVertices(l,p,m){const b=l.getHeight(),w=l.getWidth(),A=new Array(8);return dn.copyToResult(A,dn.findRowsWithPattern(l,b,w,p,m,dn.START_PATTERN),dn.INDEXES_START_PATTERN),A[4]!=null&&(m=Math.trunc(A[4].getX()),p=Math.trunc(A[4].getY())),dn.copyToResult(A,dn.findRowsWithPattern(l,b,w,p,m,dn.STOP_PATTERN),dn.INDEXES_STOP_PATTERN),A}static copyToResult(l,p,m){for(let b=0;b<m.length;b++)l[m[b]]=p[b]}static findRowsWithPattern(l,p,m,b,w,A){const O=new Array(4);let M=!1;const B=new Int32Array(A.length);for(;b<p;b+=dn.ROW_STEP){let ne=dn.findGuardPattern(l,w,b,m,!1,A,B);if(ne!=null){for(;b>0;){const le=dn.findGuardPattern(l,w,--b,m,!1,A,B);if(le!=null)ne=le;else{b++;break}}O[0]=new at(ne[0],b),O[1]=new at(ne[1],b),M=!0;break}}let $=b+1;if(M){let ne=0,le=Int32Array.from([Math.trunc(O[0].getX()),Math.trunc(O[1].getX())]);for(;$<p;$++){const Se=dn.findGuardPattern(l,le[0],$,m,!1,A,B);if(Se!=null&&Math.abs(le[0]-Se[0])<dn.MAX_PATTERN_DRIFT&&Math.abs(le[1]-Se[1])<dn.MAX_PATTERN_DRIFT)le=Se,ne=0;else{if(ne>dn.SKIPPED_ROW_COUNT_MAX)break;ne++}}$-=ne+1,O[2]=new at(le[0],$),O[3]=new at(le[1],$)}return $-b<dn.BARCODE_MIN_HEIGHT&&D.fill(O,null),O}static findGuardPattern(l,p,m,b,w,A,O){D.fillWithin(O,0,O.length,0);let M=p,B=0;for(;l.get(M,m)&&M>0&&B++<dn.MAX_PIXEL_DRIFT;)M--;let $=M,ne=0,le=A.length;for(let Se=w;$<b;$++)if(l.get($,m)!==Se)O[ne]++;else{if(ne===le-1){if(dn.patternMatchVariance(O,A,dn.MAX_INDIVIDUAL_VARIANCE)<dn.MAX_AVG_VARIANCE)return new Int32Array([M,$]);M+=O[0]+O[1],E.arraycopy(O,2,O,0,ne-1),O[ne-1]=0,O[ne]=0,ne--}else ne++;O[ne]=1,Se=!Se}return ne===le-1&&dn.patternMatchVariance(O,A,dn.MAX_INDIVIDUAL_VARIANCE)<dn.MAX_AVG_VARIANCE?new Int32Array([M,$-1]):null}static patternMatchVariance(l,p,m){let b=l.length,w=0,A=0;for(let B=0;B<b;B++)w+=l[B],A+=p[B];if(w<A)return 1/0;let O=w/A;m*=O;let M=0;for(let B=0;B<b;B++){let $=l[B],ne=p[B]*O,le=$>ne?$-ne:ne-$;if(le>m)return 1/0;M+=le}return M/w}}dn.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),dn.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),dn.MAX_AVG_VARIANCE=.42,dn.MAX_INDIVIDUAL_VARIANCE=.8,dn.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),dn.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),dn.MAX_PIXEL_DRIFT=3,dn.MAX_PATTERN_DRIFT=5,dn.SKIPPED_ROW_COUNT_MAX=25,dn.ROW_STEP=5,dn.BARCODE_MIN_HEIGHT=10;class Jn{constructor(l,p){if(p.length===0)throw new g;this.field=l;let m=p.length;if(m>1&&p[0]===0){let b=1;for(;b<m&&p[b]===0;)b++;b===m?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(m-b),E.arraycopy(p,b,this.coefficients,0,this.coefficients.length))}else this.coefficients=p}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);if(l===1){let b=0;for(let w of this.coefficients)b=this.field.add(b,w);return b}let p=this.coefficients[0],m=this.coefficients.length;for(let b=1;b<m;b++)p=this.field.add(this.field.multiply(l,p),this.coefficients[b]);return p}add(l){if(!this.field.equals(l.field))throw new g("ModulusPolys do not have same ModulusGF field");if(this.isZero())return l;if(l.isZero())return this;let p=this.coefficients,m=l.coefficients;if(p.length>m.length){let A=p;p=m,m=A}let b=new Int32Array(m.length),w=m.length-p.length;E.arraycopy(m,0,b,0,w);for(let A=w;A<m.length;A++)b[A]=this.field.add(p[A-w],m[A]);return new Jn(this.field,b)}subtract(l){if(!this.field.equals(l.field))throw new g("ModulusPolys do not have same ModulusGF field");return l.isZero()?this:this.add(l.negative())}multiply(l){return l instanceof Jn?this.multiplyOther(l):this.multiplyScalar(l)}multiplyOther(l){if(!this.field.equals(l.field))throw new g("ModulusPolys do not have same ModulusGF field");if(this.isZero()||l.isZero())return new Jn(this.field,new Int32Array([0]));let p=this.coefficients,m=p.length,b=l.coefficients,w=b.length,A=new Int32Array(m+w-1);for(let O=0;O<m;O++){let M=p[O];for(let B=0;B<w;B++)A[O+B]=this.field.add(A[O+B],this.field.multiply(M,b[B]))}return new Jn(this.field,A)}negative(){let l=this.coefficients.length,p=new Int32Array(l);for(let m=0;m<l;m++)p[m]=this.field.subtract(0,this.coefficients[m]);return new Jn(this.field,p)}multiplyScalar(l){if(l===0)return new Jn(this.field,new Int32Array([0]));if(l===1)return this;let p=this.coefficients.length,m=new Int32Array(p);for(let b=0;b<p;b++)m[b]=this.field.multiply(this.coefficients[b],l);return new Jn(this.field,m)}multiplyByMonomial(l,p){if(l<0)throw new g;if(p===0)return new Jn(this.field,new Int32Array([0]));let m=this.coefficients.length,b=new Int32Array(m+l);for(let w=0;w<m;w++)b[w]=this.field.multiply(this.coefficients[w],p);return new Jn(this.field,b)}toString(){let l=new fe;for(let p=this.getDegree();p>=0;p--){let m=this.getCoefficient(p);m!==0&&(m<0?(l.append(" - "),m=-m):l.length()>0&&l.append(" + "),(p===0||m!==1)&&l.append(m),p!==0&&(p===1?l.append("x"):(l.append("x^"),l.append(p))))}return l.toString()}}class Yc{add(l,p){return(l+p)%this.modulus}subtract(l,p){return(this.modulus+l-p)%this.modulus}exp(l){return this.expTable[l]}log(l){if(l===0)throw new g;return this.logTable[l]}inverse(l){if(l===0)throw new qe;return this.expTable[this.modulus-this.logTable[l]-1]}multiply(l,p){return l===0||p===0?0:this.expTable[(this.logTable[l]+this.logTable[p])%(this.modulus-1)]}getSize(){return this.modulus}equals(l){return l===this}}class Ro extends Yc{constructor(l,p){super(),this.modulus=l,this.expTable=new Int32Array(l),this.logTable=new Int32Array(l);let m=1;for(let b=0;b<l;b++)this.expTable[b]=m,m=m*p%l;for(let b=0;b<l-1;b++)this.logTable[this.expTable[b]]=b;this.zero=new Jn(this,new Int32Array([0])),this.one=new Jn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,p){if(l<0)throw new g;if(p===0)return this.zero;let m=new Int32Array(l+1);return m[0]=p,new Jn(this,m)}}Ro.PDF417_GF=new Ro(fn.NUMBER_OF_CODEWORDS,3);class $a{constructor(){this.field=Ro.PDF417_GF}decode(l,p,m){let b=new Jn(this.field,l),w=new Int32Array(p),A=!1;for(let Ie=p;Ie>0;Ie--){let Pe=b.evaluateAt(this.field.exp(Ie));w[p-Ie]=Pe,Pe!==0&&(A=!0)}if(!A)return 0;let O=this.field.getOne();if(m!=null)for(const Ie of m){let Pe=this.field.exp(l.length-1-Ie),Be=new Jn(this.field,new Int32Array([this.field.subtract(0,Pe),1]));O=O.multiply(Be)}let M=new Jn(this.field,w),B=this.runEuclideanAlgorithm(this.field.buildMonomial(p,1),M,p),$=B[0],ne=B[1],le=this.findErrorLocations($),Se=this.findErrorMagnitudes(ne,$,le);for(let Ie=0;Ie<le.length;Ie++){let Pe=l.length-1-this.field.log(le[Ie]);if(Pe<0)throw y.getChecksumInstance();l[Pe]=this.field.subtract(l[Pe],Se[Ie])}return le.length}runEuclideanAlgorithm(l,p,m){if(l.getDegree()<p.getDegree()){let le=l;l=p,p=le}let b=l,w=p,A=this.field.getZero(),O=this.field.getOne();for(;w.getDegree()>=Math.round(m/2);){let le=b,Se=A;if(b=w,A=O,b.isZero())throw y.getChecksumInstance();w=le;let Ie=this.field.getZero(),Pe=b.getCoefficient(b.getDegree()),Be=this.field.inverse(Pe);for(;w.getDegree()>=b.getDegree()&&!w.isZero();){let Ze=w.getDegree()-b.getDegree(),ct=this.field.multiply(w.getCoefficient(w.getDegree()),Be);Ie=Ie.add(this.field.buildMonomial(Ze,ct)),w=w.subtract(b.multiplyByMonomial(Ze,ct))}O=Ie.multiply(A).subtract(Se).negative()}let M=O.getCoefficient(0);if(M===0)throw y.getChecksumInstance();let B=this.field.inverse(M),$=O.multiply(B),ne=w.multiply(B);return[$,ne]}findErrorLocations(l){let p=l.getDegree(),m=new Int32Array(p),b=0;for(let w=1;w<this.field.getSize()&&b<p;w++)l.evaluateAt(w)===0&&(m[b]=this.field.inverse(w),b++);if(b!==p)throw y.getChecksumInstance();return m}findErrorMagnitudes(l,p,m){let b=p.getDegree(),w=new Int32Array(b);for(let B=1;B<=b;B++)w[b-B]=this.field.multiply(B,p.getCoefficient(B));let A=new Jn(this.field,w),O=m.length,M=new Int32Array(O);for(let B=0;B<O;B++){let $=this.field.inverse(m[B]),ne=this.field.subtract(0,l.evaluateAt($)),le=this.field.inverse(A.evaluateAt($));M[B]=this.field.multiply(ne,le)}return M}}class hs{constructor(l,p,m,b,w){l instanceof hs?this.constructor_2(l):this.constructor_1(l,p,m,b,w)}constructor_1(l,p,m,b,w){const A=p==null||m==null,O=b==null||w==null;if(A&&O)throw new ae;A?(p=new at(0,b.getY()),m=new at(0,w.getY())):O&&(b=new at(l.getWidth()-1,p.getY()),w=new at(l.getWidth()-1,m.getY())),this.image=l,this.topLeft=p,this.bottomLeft=m,this.topRight=b,this.bottomRight=w,this.minX=Math.trunc(Math.min(p.getX(),m.getX())),this.maxX=Math.trunc(Math.max(b.getX(),w.getX())),this.minY=Math.trunc(Math.min(p.getY(),b.getY())),this.maxY=Math.trunc(Math.max(m.getY(),w.getY()))}constructor_2(l){this.image=l.image,this.topLeft=l.getTopLeft(),this.bottomLeft=l.getBottomLeft(),this.topRight=l.getTopRight(),this.bottomRight=l.getBottomRight(),this.minX=l.getMinX(),this.maxX=l.getMaxX(),this.minY=l.getMinY(),this.maxY=l.getMaxY()}static merge(l,p){return l==null?p:p==null?l:new hs(l.image,l.topLeft,l.bottomLeft,p.topRight,p.bottomRight)}addMissingRows(l,p,m){let b=this.topLeft,w=this.bottomLeft,A=this.topRight,O=this.bottomRight;if(l>0){let M=m?this.topLeft:this.topRight,B=Math.trunc(M.getY()-l);B<0&&(B=0);let $=new at(M.getX(),B);m?b=$:A=$}if(p>0){let M=m?this.bottomLeft:this.bottomRight,B=Math.trunc(M.getY()+p);B>=this.image.getHeight()&&(B=this.image.getHeight()-1);let $=new at(M.getX(),B);m?w=$:O=$}return new hs(this.image,b,w,A,O)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class so{constructor(l,p,m,b){this.columnCount=l,this.errorCorrectionLevel=b,this.rowCountUpperPart=p,this.rowCountLowerPart=m,this.rowCount=p+m}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ol{constructor(){this.buffer=""}static form(l,p){let m=-1;function b(A,O,M,B,$,ne){if(A==="%%")return"%";if(p[++m]===void 0)return;A=B?parseInt(B.substr(1)):void 0;let le=$?parseInt($.substr(1)):void 0,Se;switch(ne){case"s":Se=p[m];break;case"c":Se=p[m][0];break;case"f":Se=parseFloat(p[m]).toFixed(A);break;case"p":Se=parseFloat(p[m]).toPrecision(A);break;case"e":Se=parseFloat(p[m]).toExponential(A);break;case"x":Se=parseInt(p[m]).toString(le||16);break;case"d":Se=parseFloat(parseInt(p[m],le||10).toPrecision(A)).toFixed(0);break}Se=typeof Se=="object"?JSON.stringify(Se):(+Se).toString(le);let Ie=parseInt(M),Pe=M&&M[0]+""=="0"?"0":" ";for(;Se.length<Ie;)Se=O!==void 0?Se+Pe:Pe+Se;return Se}let w=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(w,b)}format(l,...p){this.buffer+=ol.form(l,p)}toString(){return this.buffer}}class va{constructor(l){this.boundingBox=new hs(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let p=this.getCodeword(l);if(p!=null)return p;for(let m=1;m<va.MAX_NEARBY_DISTANCE;m++){let b=this.imageRowToCodewordIndex(l)-m;if(b>=0&&(p=this.codewords[b],p!=null)||(b=this.imageRowToCodewordIndex(l)+m,b<this.codewords.length&&(p=this.codewords[b],p!=null)))return p}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,p){this.codewords[this.imageRowToCodewordIndex(l)]=p}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new ol;let p=0;for(const m of this.codewords){if(m==null){l.format("%3d:    |   %n",p++);continue}l.format("%3d: %3d|%3d%n",p++,m.getRowNumber(),m.getValue())}return l.toString()}}va.MAX_NEARBY_DISTANCE=5;class oo{constructor(){this.values=new Map}setValue(l){l=Math.trunc(l);let p=this.values.get(l);p==null&&(p=0),p++,this.values.set(l,p)}getValue(){let l=-1,p=new Array;for(const[m,b]of this.values.entries()){const w={getKey:()=>m,getValue:()=>b};w.getValue()>l?(l=w.getValue(),p=[],p.push(w.getKey())):w.getValue()===l&&p.push(w.getKey())}return fn.toIntArray(p)}getConfidence(l){return this.values.get(l)}}class Tl extends va{constructor(l,p){super(l),this._isLeft=p}setRowNumbers(){for(let l of this.getCodewords())l!=null&&l.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(l){let p=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(p,l);let m=this.getBoundingBox(),b=this._isLeft?m.getTopLeft():m.getTopRight(),w=this._isLeft?m.getBottomLeft():m.getBottomRight(),A=this.imageRowToCodewordIndex(Math.trunc(b.getY())),O=this.imageRowToCodewordIndex(Math.trunc(w.getY())),M=-1,B=1,$=0;for(let ne=A;ne<O;ne++){if(p[ne]==null)continue;let le=p[ne],Se=le.getRowNumber()-M;if(Se===0)$++;else if(Se===1)B=Math.max(B,$),$=1,M=le.getRowNumber();else if(Se<0||le.getRowNumber()>=l.getRowCount()||Se>ne)p[ne]=null;else{let Ie;B>2?Ie=(B-2)*Se:Ie=Se;let Pe=Ie>=ne;for(let Be=1;Be<=Ie&&!Pe;Be++)Pe=p[ne-Be]!=null;Pe?p[ne]=null:(M=le.getRowNumber(),$=1)}}}getRowHeights(){let l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);let p=new Int32Array(l.getRowCount());for(let m of this.getCodewords())if(m!=null){let b=m.getRowNumber();if(b>=p.length)continue;p[b]++}return p}adjustIncompleteIndicatorColumnRowNumbers(l){let p=this.getBoundingBox(),m=this._isLeft?p.getTopLeft():p.getTopRight(),b=this._isLeft?p.getBottomLeft():p.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(m.getY())),A=this.imageRowToCodewordIndex(Math.trunc(b.getY())),O=this.getCodewords(),M=-1;for(let B=w;B<A;B++){if(O[B]==null)continue;let $=O[B];$.setRowNumberAsRowIndicatorColumn();let ne=$.getRowNumber()-M;ne===0||(ne===1?M=$.getRowNumber():$.getRowNumber()>=l.getRowCount()?O[B]=null:M=$.getRowNumber())}}getBarcodeMetadata(){let l=this.getCodewords(),p=new oo,m=new oo,b=new oo,w=new oo;for(let O of l){if(O==null)continue;O.setRowNumberAsRowIndicatorColumn();let M=O.getValue()%30,B=O.getRowNumber();switch(this._isLeft||(B+=2),B%3){case 0:m.setValue(M*3+1);break;case 1:w.setValue(M/3),b.setValue(M%3);break;case 2:p.setValue(M+1);break}}if(p.getValue().length===0||m.getValue().length===0||b.getValue().length===0||w.getValue().length===0||p.getValue()[0]<1||m.getValue()[0]+b.getValue()[0]<fn.MIN_ROWS_IN_BARCODE||m.getValue()[0]+b.getValue()[0]>fn.MAX_ROWS_IN_BARCODE)return null;let A=new so(p.getValue()[0],m.getValue()[0],b.getValue()[0],w.getValue()[0]);return this.removeIncorrectCodewords(l,A),A}removeIncorrectCodewords(l,p){for(let m=0;m<l.length;m++){let b=l[m];if(l[m]==null)continue;let w=b.getValue()%30,A=b.getRowNumber();if(A>p.getRowCount()){l[m]=null;continue}switch(this._isLeft||(A+=2),A%3){case 0:w*3+1!==p.getRowCountUpperPart()&&(l[m]=null);break;case 1:(Math.trunc(w/3)!==p.getErrorCorrectionLevel()||w%3!==p.getRowCountLowerPart())&&(l[m]=null);break;case 2:w+1!==p.getColumnCount()&&(l[m]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ri{constructor(l,p){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=l,this.barcodeColumnCount=l.getColumnCount(),this.boundingBox=p,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l=fn.MAX_CODEWORDS_IN_BARCODE,p;do p=l,l=this.adjustRowNumbersAndGetCount();while(l>0&&l<p);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(l){l!=null&&l.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let l=this.adjustRowNumbersByRow();if(l===0)return 0;for(let p=1;p<this.barcodeColumnCount+1;p++){let m=this.detectionResultColumns[p].getCodewords();for(let b=0;b<m.length;b++)m[b]!=null&&(m[b].hasValidRowNumber()||this.adjustRowNumbers(p,b,m))}return l}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let l=this.detectionResultColumns[0].getCodewords(),p=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let m=0;m<l.length;m++)if(l[m]!=null&&p[m]!=null&&l[m].getRowNumber()===p[m].getRowNumber())for(let b=1;b<=this.barcodeColumnCount;b++){let w=this.detectionResultColumns[b].getCodewords()[m];w!=null&&(w.setRowNumber(l[m].getRowNumber()),w.hasValidRowNumber()||(this.detectionResultColumns[b].getCodewords()[m]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let l=0,p=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let m=0;m<p.length;m++){if(p[m]==null)continue;let b=p[m].getRowNumber(),w=0;for(let A=this.barcodeColumnCount+1;A>0&&w<this.ADJUST_ROW_NUMBER_SKIP;A--){let O=this.detectionResultColumns[A].getCodewords()[m];O!=null&&(w=ri.adjustRowNumberIfValid(b,w,O),O.hasValidRowNumber()||l++)}}return l}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let l=0,p=this.detectionResultColumns[0].getCodewords();for(let m=0;m<p.length;m++){if(p[m]==null)continue;let b=p[m].getRowNumber(),w=0;for(let A=1;A<this.barcodeColumnCount+1&&w<this.ADJUST_ROW_NUMBER_SKIP;A++){let O=this.detectionResultColumns[A].getCodewords()[m];O!=null&&(w=ri.adjustRowNumberIfValid(b,w,O),O.hasValidRowNumber()||l++)}}return l}static adjustRowNumberIfValid(l,p,m){return m==null||m.hasValidRowNumber()||(m.isValidRowNumber(l)?(m.setRowNumber(l),p=0):++p),p}adjustRowNumbers(l,p,m){if(!this.detectionResultColumns[l-1])return;let b=m[p],w=this.detectionResultColumns[l-1].getCodewords(),A=w;this.detectionResultColumns[l+1]!=null&&(A=this.detectionResultColumns[l+1].getCodewords());let O=new Array(14);O[2]=w[p],O[3]=A[p],p>0&&(O[0]=m[p-1],O[4]=w[p-1],O[5]=A[p-1]),p>1&&(O[8]=m[p-2],O[10]=w[p-2],O[11]=A[p-2]),p<m.length-1&&(O[1]=m[p+1],O[6]=w[p+1],O[7]=A[p+1]),p<m.length-2&&(O[9]=m[p+2],O[12]=w[p+2],O[13]=A[p+2]);for(let M of O)if(ri.adjustRowNumber(b,M))return}static adjustRowNumber(l,p){return p==null?!1:p.hasValidRowNumber()&&p.getBucket()===l.getBucket()?(l.setRowNumber(p.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(l){this.boundingBox=l}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(l,p){this.detectionResultColumns[l]=p}getDetectionResultColumn(l){return this.detectionResultColumns[l]}toString(){let l=this.detectionResultColumns[0];l==null&&(l=this.detectionResultColumns[this.barcodeColumnCount+1]);let p=new ol;for(let m=0;m<l.getCodewords().length;m++){p.format("CW %3d:",m);for(let b=0;b<this.barcodeColumnCount+2;b++){if(this.detectionResultColumns[b]==null){p.format("    |   ");continue}let w=this.detectionResultColumns[b].getCodewords()[m];if(w==null){p.format("    |   ");continue}p.format(" %3d|%3d",w.getRowNumber(),w.getValue())}p.format("%n")}return p.toString()}}class Wa{constructor(l,p,m,b){this.rowNumber=Wa.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(p),this.bucket=Math.trunc(m),this.value=Math.trunc(b)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==Wa.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}Wa.BARCODE_ROW_UNKNOWN=-1;class Mr{static initialize(){for(let l=0;l<fn.SYMBOL_TABLE.length;l++){let p=fn.SYMBOL_TABLE[l],m=p&1;for(let b=0;b<fn.BARS_IN_MODULE;b++){let w=0;for(;(p&1)===m;)w+=1,p>>=1;m=p&1,Mr.RATIOS_TABLE[l]||(Mr.RATIOS_TABLE[l]=new Array(fn.BARS_IN_MODULE)),Mr.RATIOS_TABLE[l][fn.BARS_IN_MODULE-b-1]=Math.fround(w/fn.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(l){let p=Mr.getDecodedCodewordValue(Mr.sampleBitCounts(l));return p!==-1?p:Mr.getClosestDecodedValue(l)}static sampleBitCounts(l){let p=nt.sum(l),m=new Int32Array(fn.BARS_IN_MODULE),b=0,w=0;for(let A=0;A<fn.MODULES_IN_CODEWORD;A++){let O=p/(2*fn.MODULES_IN_CODEWORD)+A*p/fn.MODULES_IN_CODEWORD;w+l[b]<=O&&(w+=l[b],b++),m[b]++}return m}static getDecodedCodewordValue(l){let p=Mr.getBitValue(l);return fn.getCodeword(p)===-1?-1:p}static getBitValue(l){let p=0;for(let m=0;m<l.length;m++)for(let b=0;b<l[m];b++)p=p<<1|(m%2===0?1:0);return Math.trunc(p)}static getClosestDecodedValue(l){let p=nt.sum(l),m=new Array(fn.BARS_IN_MODULE);if(p>1)for(let A=0;A<m.length;A++)m[A]=Math.fround(l[A]/p);let b=en.MAX_VALUE,w=-1;this.bSymbolTableReady||Mr.initialize();for(let A=0;A<Mr.RATIOS_TABLE.length;A++){let O=0,M=Mr.RATIOS_TABLE[A];for(let B=0;B<fn.BARS_IN_MODULE;B++){let $=Math.fround(M[B]-m[B]);if(O+=Math.fround($*$),O>=b)break}O<b&&(b=O,w=fn.SYMBOL_TABLE[A])}return w}}Mr.bSymbolTableReady=!1,Mr.RATIOS_TABLE=new Array(fn.SYMBOL_TABLE.length).map(te=>new Array(fn.BARS_IN_MODULE));class lo{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(l){this.segmentIndex=l}getFileId(){return this.fileId}setFileId(l){this.fileId=l}getOptionalData(){return this.optionalData}setOptionalData(l){this.optionalData=l}isLastSegment(){return this.lastSegment}setLastSegment(l){this.lastSegment=l}getSegmentCount(){return this.segmentCount}setSegmentCount(l){this.segmentCount=l}getSender(){return this.sender||null}setSender(l){this.sender=l}getAddressee(){return this.addressee||null}setAddressee(l){this.addressee=l}getFileName(){return this.fileName}setFileName(l){this.fileName=l}getFileSize(){return this.fileSize}setFileSize(l){this.fileSize=l}getChecksum(){return this.checksum}setChecksum(l){this.checksum=l}getTimestamp(){return this.timestamp}setTimestamp(l){this.timestamp=l}}class Il{static parseLong(l,p=void 0){return parseInt(l,p)}}class ll extends c{}ll.kind="NullPointerException";class Do{writeBytes(l){this.writeBytesOffset(l,0,l.length)}writeBytesOffset(l,p,m){if(l==null)throw new ll;if(p<0||p>l.length||m<0||p+m>l.length||p+m<0)throw new T;if(m===0)return;for(let b=0;b<m;b++)this.write(l[p+b])}flush(){}close(){}}class Lo extends c{}class jl extends Do{constructor(l=32){if(super(),this.count=0,l<0)throw new g("Negative initial size: "+l);this.buf=new Uint8Array(l)}ensureCapacity(l){l-this.buf.length>0&&this.grow(l)}grow(l){let m=this.buf.length<<1;if(m-l<0&&(m=l),m<0){if(l<0)throw new Lo;m=F.MAX_VALUE}this.buf=D.copyOfUint8Array(this.buf,m)}write(l){this.ensureCapacity(this.count+1),this.buf[this.count]=l,this.count+=1}writeBytesOffset(l,p,m){if(p<0||p>l.length||m<0||p+m-l.length>0)throw new T;this.ensureCapacity(this.count+m),E.arraycopy(l,p,this.buf,this.count,m),this.count+=m}writeTo(l){l.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return D.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(l){return l?typeof l=="string"?this.toString_string(l):this.toString_number(l):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(l){return new String(this.buf).toString()}toString_number(l){return new String(this.buf).toString()}close(){}}var ir;(function(te){te[te.ALPHA=0]="ALPHA",te[te.LOWER=1]="LOWER",te[te.MIXED=2]="MIXED",te[te.PUNCT=3]="PUNCT",te[te.ALPHA_SHIFT=4]="ALPHA_SHIFT",te[te.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ir||(ir={}));function co(){if(typeof window<"u")return window.BigInt||null;if(typeof $m<"u")return $m.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Cs;function Vs(te){if(typeof Cs>"u"&&(Cs=co()),Cs===null)throw new Error("BigInt is not supported!");return Cs(te)}function Bo(){let te=[];te[0]=Vs(1);let l=Vs(900);te[1]=l;for(let p=2;p<16;p++)te[p]=te[p-1]*l;return te}class et{static decode(l,p){let m=new fe(""),b=q.ISO8859_1;m.enableDecoding(b);let w=1,A=l[w++],O=new lo;for(;w<l[0];){switch(A){case et.TEXT_COMPACTION_MODE_LATCH:w=et.textCompaction(l,w,m);break;case et.BYTE_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH_6:w=et.byteCompaction(A,l,b,w,m);break;case et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(l[w++]);break;case et.NUMERIC_COMPACTION_MODE_LATCH:w=et.numericCompaction(l,w,m);break;case et.ECI_CHARSET:q.getCharacterSetECIByValue(l[w++]);break;case et.ECI_GENERAL_PURPOSE:w+=2;break;case et.ECI_USER_DEFINED:w++;break;case et.BEGIN_MACRO_PDF417_CONTROL_BLOCK:w=et.decodeMacroBlock(l,w,O);break;case et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case et.MACRO_PDF417_TERMINATOR:throw new Y;default:w--,w=et.textCompaction(l,w,m);break}if(w<l.length)A=l[w++];else throw Y.getFormatInstance()}if(m.length()===0)throw Y.getFormatInstance();let M=new Oe(null,m.toString(),null,p);return M.setOther(O),M}static decodeMacroBlock(l,p,m){if(p+et.NUMBER_OF_SEQUENCE_CODEWORDS>l[0])throw Y.getFormatInstance();let b=new Int32Array(et.NUMBER_OF_SEQUENCE_CODEWORDS);for(let O=0;O<et.NUMBER_OF_SEQUENCE_CODEWORDS;O++,p++)b[O]=l[p];m.setSegmentIndex(F.parseInt(et.decodeBase900toBase10(b,et.NUMBER_OF_SEQUENCE_CODEWORDS)));let w=new fe;p=et.textCompaction(l,p,w),m.setFileId(w.toString());let A=-1;for(l[p]===et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(A=p+1);p<l[0];)switch(l[p]){case et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(p++,l[p]){case et.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let O=new fe;p=et.textCompaction(l,p+1,O),m.setFileName(O.toString());break;case et.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let M=new fe;p=et.textCompaction(l,p+1,M),m.setSender(M.toString());break;case et.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let B=new fe;p=et.textCompaction(l,p+1,B),m.setAddressee(B.toString());break;case et.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let $=new fe;p=et.numericCompaction(l,p+1,$),m.setSegmentCount(F.parseInt($.toString()));break;case et.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let ne=new fe;p=et.numericCompaction(l,p+1,ne),m.setTimestamp(Il.parseLong(ne.toString()));break;case et.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let le=new fe;p=et.numericCompaction(l,p+1,le),m.setChecksum(F.parseInt(le.toString()));break;case et.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Se=new fe;p=et.numericCompaction(l,p+1,Se),m.setFileSize(Il.parseLong(Se.toString()));break;default:throw Y.getFormatInstance()}break;case et.MACRO_PDF417_TERMINATOR:p++,m.setLastSegment(!0);break;default:throw Y.getFormatInstance()}if(A!==-1){let O=p-A;m.isLastSegment()&&O--,m.setOptionalData(D.copyOfRange(l,A,A+O))}return p}static textCompaction(l,p,m){let b=new Int32Array((l[0]-p)*2),w=new Int32Array((l[0]-p)*2),A=0,O=!1;for(;p<l[0]&&!O;){let M=l[p++];if(M<et.TEXT_COMPACTION_MODE_LATCH)b[A]=M/30,b[A+1]=M%30,A+=2;else switch(M){case et.TEXT_COMPACTION_MODE_LATCH:b[A++]=et.TEXT_COMPACTION_MODE_LATCH;break;case et.BYTE_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH_6:case et.NUMERIC_COMPACTION_MODE_LATCH:case et.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case et.MACRO_PDF417_TERMINATOR:p--,O=!0;break;case et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:b[A]=et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,M=l[p++],w[A]=M,A++;break}}return et.decodeTextCompaction(b,w,A,m),p}static decodeTextCompaction(l,p,m,b){let w=ir.ALPHA,A=ir.ALPHA,O=0;for(;O<m;){let M=l[O],B="";switch(w){case ir.ALPHA:if(M<26)B=String.fromCharCode(65+M);else switch(M){case 26:B=" ";break;case et.LL:w=ir.LOWER;break;case et.ML:w=ir.MIXED;break;case et.PS:A=w,w=ir.PUNCT_SHIFT;break;case et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:b.append(p[O]);break;case et.TEXT_COMPACTION_MODE_LATCH:w=ir.ALPHA;break}break;case ir.LOWER:if(M<26)B=String.fromCharCode(97+M);else switch(M){case 26:B=" ";break;case et.AS:A=w,w=ir.ALPHA_SHIFT;break;case et.ML:w=ir.MIXED;break;case et.PS:A=w,w=ir.PUNCT_SHIFT;break;case et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:b.append(p[O]);break;case et.TEXT_COMPACTION_MODE_LATCH:w=ir.ALPHA;break}break;case ir.MIXED:if(M<et.PL)B=et.MIXED_CHARS[M];else switch(M){case et.PL:w=ir.PUNCT;break;case 26:B=" ";break;case et.LL:w=ir.LOWER;break;case et.AL:w=ir.ALPHA;break;case et.PS:A=w,w=ir.PUNCT_SHIFT;break;case et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:b.append(p[O]);break;case et.TEXT_COMPACTION_MODE_LATCH:w=ir.ALPHA;break}break;case ir.PUNCT:if(M<et.PAL)B=et.PUNCT_CHARS[M];else switch(M){case et.PAL:w=ir.ALPHA;break;case et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:b.append(p[O]);break;case et.TEXT_COMPACTION_MODE_LATCH:w=ir.ALPHA;break}break;case ir.ALPHA_SHIFT:if(w=A,M<26)B=String.fromCharCode(65+M);else switch(M){case 26:B=" ";break;case et.TEXT_COMPACTION_MODE_LATCH:w=ir.ALPHA;break}break;case ir.PUNCT_SHIFT:if(w=A,M<et.PAL)B=et.PUNCT_CHARS[M];else switch(M){case et.PAL:w=ir.ALPHA;break;case et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:b.append(p[O]);break;case et.TEXT_COMPACTION_MODE_LATCH:w=ir.ALPHA;break}break}B!==""&&b.append(B),O++}}static byteCompaction(l,p,m,b,w){let A=new jl,O=0,M=0,B=!1;switch(l){case et.BYTE_COMPACTION_MODE_LATCH:let $=new Int32Array(6),ne=p[b++];for(;b<p[0]&&!B;)switch($[O++]=ne,M=900*M+ne,ne=p[b++],ne){case et.TEXT_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH:case et.NUMERIC_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH_6:case et.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case et.MACRO_PDF417_TERMINATOR:b--,B=!0;break;default:if(O%5===0&&O>0){for(let le=0;le<6;++le)A.write(Number(Vs(M)>>Vs(8*(5-le))));M=0,O=0}break}b===p[0]&&ne<et.TEXT_COMPACTION_MODE_LATCH&&($[O++]=ne);for(let le=0;le<O;le++)A.write($[le]);break;case et.BYTE_COMPACTION_MODE_LATCH_6:for(;b<p[0]&&!B;){let le=p[b++];if(le<et.TEXT_COMPACTION_MODE_LATCH)O++,M=900*M+le;else switch(le){case et.TEXT_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH:case et.NUMERIC_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH_6:case et.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case et.MACRO_PDF417_TERMINATOR:b--,B=!0;break}if(O%5===0&&O>0){for(let Se=0;Se<6;++Se)A.write(Number(Vs(M)>>Vs(8*(5-Se))));M=0,O=0}}break}return w.append(H.decode(A.toByteArray(),m)),b}static numericCompaction(l,p,m){let b=0,w=!1,A=new Int32Array(et.MAX_NUMERIC_CODEWORDS);for(;p<l[0]&&!w;){let O=l[p++];if(p===l[0]&&(w=!0),O<et.TEXT_COMPACTION_MODE_LATCH)A[b]=O,b++;else switch(O){case et.TEXT_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH:case et.BYTE_COMPACTION_MODE_LATCH_6:case et.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case et.MACRO_PDF417_TERMINATOR:p--,w=!0;break}(b%et.MAX_NUMERIC_CODEWORDS===0||O===et.NUMERIC_COMPACTION_MODE_LATCH||w)&&b>0&&(m.append(et.decodeBase900toBase10(A,b)),b=0)}return p}static decodeBase900toBase10(l,p){let m=Vs(0);for(let w=0;w<p;w++)m+=et.EXP900[p-w-1]*Vs(l[w]);let b=m.toString();if(b.charAt(0)!=="1")throw new Y;return b.substring(1)}}et.TEXT_COMPACTION_MODE_LATCH=900,et.BYTE_COMPACTION_MODE_LATCH=901,et.NUMERIC_COMPACTION_MODE_LATCH=902,et.BYTE_COMPACTION_MODE_LATCH_6=924,et.ECI_USER_DEFINED=925,et.ECI_GENERAL_PURPOSE=926,et.ECI_CHARSET=927,et.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,et.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,et.MACRO_PDF417_TERMINATOR=922,et.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,et.MAX_NUMERIC_CODEWORDS=15,et.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,et.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,et.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,et.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,et.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,et.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,et.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,et.PL=25,et.LL=27,et.AS=27,et.ML=28,et.AL=28,et.PS=29,et.PAL=29,et.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,et.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",et.EXP900=co()?Bo():[],et.NUMBER_OF_SEQUENCE_CODEWORDS=2;class L{constructor(){}static decode(l,p,m,b,w,A,O){let M=new hs(l,p,m,b,w),B=null,$=null,ne;for(let Ie=!0;;Ie=!1){if(p!=null&&(B=L.getRowIndicatorColumn(l,M,p,!0,A,O)),b!=null&&($=L.getRowIndicatorColumn(l,M,b,!1,A,O)),ne=L.merge(B,$),ne==null)throw ae.getNotFoundInstance();let Pe=ne.getBoundingBox();if(Ie&&Pe!=null&&(Pe.getMinY()<M.getMinY()||Pe.getMaxY()>M.getMaxY()))M=Pe;else break}ne.setBoundingBox(M);let le=ne.getBarcodeColumnCount()+1;ne.setDetectionResultColumn(0,B),ne.setDetectionResultColumn(le,$);let Se=B!=null;for(let Ie=1;Ie<=le;Ie++){let Pe=Se?Ie:le-Ie;if(ne.getDetectionResultColumn(Pe)!==void 0)continue;let Be;Pe===0||Pe===le?Be=new Tl(M,Pe===0):Be=new va(M),ne.setDetectionResultColumn(Pe,Be);let Ze=-1,ct=Ze;for(let ut=M.getMinY();ut<=M.getMaxY();ut++){if(Ze=L.getStartColumn(ne,Pe,ut,Se),Ze<0||Ze>M.getMaxX()){if(ct===-1)continue;Ze=ct}let ot=L.detectCodeword(l,M.getMinX(),M.getMaxX(),Se,Ze,ut,A,O);ot!=null&&(Be.setCodeword(ut,ot),ct=Ze,A=Math.min(A,ot.getWidth()),O=Math.max(O,ot.getWidth()))}}return L.createDecoderResult(ne)}static merge(l,p){if(l==null&&p==null)return null;let m=L.getBarcodeMetadata(l,p);if(m==null)return null;let b=hs.merge(L.adjustBoundingBox(l),L.adjustBoundingBox(p));return new ri(m,b)}static adjustBoundingBox(l){if(l==null)return null;let p=l.getRowHeights();if(p==null)return null;let m=L.getMax(p),b=0;for(let O of p)if(b+=m-O,O>0)break;let w=l.getCodewords();for(let O=0;b>0&&w[O]==null;O++)b--;let A=0;for(let O=p.length-1;O>=0&&(A+=m-p[O],!(p[O]>0));O--);for(let O=w.length-1;A>0&&w[O]==null;O--)A--;return l.getBoundingBox().addMissingRows(b,A,l.isLeft())}static getMax(l){let p=-1;for(let m of l)p=Math.max(p,m);return p}static getBarcodeMetadata(l,p){let m;if(l==null||(m=l.getBarcodeMetadata())==null)return p==null?null:p.getBarcodeMetadata();let b;return p==null||(b=p.getBarcodeMetadata())==null?m:m.getColumnCount()!==b.getColumnCount()&&m.getErrorCorrectionLevel()!==b.getErrorCorrectionLevel()&&m.getRowCount()!==b.getRowCount()?null:m}static getRowIndicatorColumn(l,p,m,b,w,A){let O=new Tl(p,b);for(let M=0;M<2;M++){let B=M===0?1:-1,$=Math.trunc(Math.trunc(m.getX()));for(let ne=Math.trunc(Math.trunc(m.getY()));ne<=p.getMaxY()&&ne>=p.getMinY();ne+=B){let le=L.detectCodeword(l,0,l.getWidth(),b,$,ne,w,A);le!=null&&(O.setCodeword(ne,le),b?$=le.getStartX():$=le.getEndX())}}return O}static adjustCodewordCount(l,p){let m=p[0][1],b=m.getValue(),w=l.getBarcodeColumnCount()*l.getBarcodeRowCount()-L.getNumberOfECCodeWords(l.getBarcodeECLevel());if(b.length===0){if(w<1||w>fn.MAX_CODEWORDS_IN_BARCODE)throw ae.getNotFoundInstance();m.setValue(w)}else b[0]!==w&&m.setValue(w)}static createDecoderResult(l){let p=L.createBarcodeMatrix(l);L.adjustCodewordCount(l,p);let m=new Array,b=new Int32Array(l.getBarcodeRowCount()*l.getBarcodeColumnCount()),w=[],A=new Array;for(let M=0;M<l.getBarcodeRowCount();M++)for(let B=0;B<l.getBarcodeColumnCount();B++){let $=p[M][B+1].getValue(),ne=M*l.getBarcodeColumnCount()+B;$.length===0?m.push(ne):$.length===1?b[ne]=$[0]:(A.push(ne),w.push($))}let O=new Array(w.length);for(let M=0;M<O.length;M++)O[M]=w[M];return L.createDecoderResultFromAmbiguousValues(l.getBarcodeECLevel(),b,fn.toIntArray(m),fn.toIntArray(A),O)}static createDecoderResultFromAmbiguousValues(l,p,m,b,w){let A=new Int32Array(b.length),O=100;for(;O-- >0;){for(let M=0;M<A.length;M++)p[b[M]]=w[M][A[M]];try{return L.decodeCodewords(p,l,m)}catch(M){if(!(M instanceof y))throw M}if(A.length===0)throw y.getChecksumInstance();for(let M=0;M<A.length;M++)if(A[M]<w[M].length-1){A[M]++;break}else if(A[M]=0,M===A.length-1)throw y.getChecksumInstance()}throw y.getChecksumInstance()}static createBarcodeMatrix(l){let p=Array.from({length:l.getBarcodeRowCount()},()=>new Array(l.getBarcodeColumnCount()+2));for(let b=0;b<p.length;b++)for(let w=0;w<p[b].length;w++)p[b][w]=new oo;let m=0;for(let b of l.getDetectionResultColumns()){if(b!=null){for(let w of b.getCodewords())if(w!=null){let A=w.getRowNumber();if(A>=0){if(A>=p.length)continue;p[A][m].setValue(w.getValue())}}}m++}return p}static isValidBarcodeColumn(l,p){return p>=0&&p<=l.getBarcodeColumnCount()+1}static getStartColumn(l,p,m,b){let w=b?1:-1,A=null;if(L.isValidBarcodeColumn(l,p-w)&&(A=l.getDetectionResultColumn(p-w).getCodeword(m)),A!=null)return b?A.getEndX():A.getStartX();if(A=l.getDetectionResultColumn(p).getCodewordNearby(m),A!=null)return b?A.getStartX():A.getEndX();if(L.isValidBarcodeColumn(l,p-w)&&(A=l.getDetectionResultColumn(p-w).getCodewordNearby(m)),A!=null)return b?A.getEndX():A.getStartX();let O=0;for(;L.isValidBarcodeColumn(l,p-w);){p-=w;for(let M of l.getDetectionResultColumn(p).getCodewords())if(M!=null)return(b?M.getEndX():M.getStartX())+w*O*(M.getEndX()-M.getStartX());O++}return b?l.getBoundingBox().getMinX():l.getBoundingBox().getMaxX()}static detectCodeword(l,p,m,b,w,A,O,M){w=L.adjustCodewordStartColumn(l,p,m,b,w,A);let B=L.getModuleBitCount(l,p,m,b,w,A);if(B==null)return null;let $,ne=nt.sum(B);if(b)$=w+ne;else{for(let Ie=0;Ie<B.length/2;Ie++){let Pe=B[Ie];B[Ie]=B[B.length-1-Ie],B[B.length-1-Ie]=Pe}$=w,w=$-ne}if(!L.checkCodewordSkew(ne,O,M))return null;let le=Mr.getDecodedValue(B),Se=fn.getCodeword(le);return Se===-1?null:new Wa(w,$,L.getCodewordBucketNumber(le),Se)}static getModuleBitCount(l,p,m,b,w,A){let O=w,M=new Int32Array(8),B=0,$=b?1:-1,ne=b;for(;(b?O<m:O>=p)&&B<M.length;)l.get(O,A)===ne?(M[B]++,O+=$):(B++,ne=!ne);return B===M.length||O===(b?m:p)&&B===M.length-1?M:null}static getNumberOfECCodeWords(l){return 2<<l}static adjustCodewordStartColumn(l,p,m,b,w,A){let O=w,M=b?-1:1;for(let B=0;B<2;B++){for(;(b?O>=p:O<m)&&b===l.get(O,A);){if(Math.abs(w-O)>L.CODEWORD_SKEW_SIZE)return w;O+=M}M=-M,b=!b}return O}static checkCodewordSkew(l,p,m){return p-L.CODEWORD_SKEW_SIZE<=l&&l<=m+L.CODEWORD_SKEW_SIZE}static decodeCodewords(l,p,m){if(l.length===0)throw Y.getFormatInstance();let b=1<<p+1,w=L.correctErrors(l,m,b);L.verifyCodewordCount(l,b);let A=et.decode(l,""+p);return A.setErrorsCorrected(w),A.setErasures(m.length),A}static correctErrors(l,p,m){if(p!=null&&p.length>m/2+L.MAX_ERRORS||m<0||m>L.MAX_EC_CODEWORDS)throw y.getChecksumInstance();return L.errorCorrection.decode(l,m,p)}static verifyCodewordCount(l,p){if(l.length<4)throw Y.getFormatInstance();let m=l[0];if(m>l.length)throw Y.getFormatInstance();if(m===0)if(p<l.length)l[0]=l.length-p;else throw Y.getFormatInstance()}static getBitCountForCodeword(l){let p=new Int32Array(8),m=0,b=p.length-1;for(;!((l&1)!==m&&(m=l&1,b--,b<0));)p[b]++,l>>=1;return p}static getCodewordBucketNumber(l){return l instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(l):this.getCodewordBucketNumber_number(l)}static getCodewordBucketNumber_number(l){return L.getCodewordBucketNumber(L.getBitCountForCodeword(l))}static getCodewordBucketNumber_Int32Array(l){return(l[0]-l[2]+l[4]-l[6]+9)%9}static toString(l){let p=new ol;for(let m=0;m<l.length;m++){p.format("Row %2d: ",m);for(let b=0;b<l[m].length;b++){let w=l[m][b];w.getValue().length===0?p.format("        ",null):p.format("%4d(%2d)",w.getValue()[0],w.getConfidence(w.getValue()[0]))}p.format("%n")}return p.toString()}}L.CODEWORD_SKEW_SIZE=2,L.MAX_ERRORS=3,L.MAX_EC_CODEWORDS=512,L.errorCorrection=new $a;class re{decode(l,p=null){let m=re.decode(l,p,!1);if(m==null||m.length===0||m[0]==null)throw ae.getNotFoundInstance();return m[0]}decodeMultiple(l,p=null){try{return re.decode(l,p,!0)}catch(m){throw m instanceof Y||m instanceof y?ae.getNotFoundInstance():m}}static decode(l,p,m){const b=new Array,w=dn.detectMultiple(l,p,m);for(const A of w.getPoints()){const O=L.decode(w.getBits(),A[4],A[5],A[6],A[7],re.getMinCodewordWidth(A),re.getMaxCodewordWidth(A)),M=new me(O.getText(),O.getRawBytes(),void 0,A,xe.PDF_417);M.putMetadata(ze.ERROR_CORRECTION_LEVEL,O.getECLevel());const B=O.getOther();B!=null&&M.putMetadata(ze.PDF417_EXTRA_METADATA,B),b.push(M)}return b.map(A=>A)}static getMaxWidth(l,p){return l==null||p==null?0:Math.trunc(Math.abs(l.getX()-p.getX()))}static getMinWidth(l,p){return l==null||p==null?F.MAX_VALUE:Math.trunc(Math.abs(l.getX()-p.getX()))}static getMaxCodewordWidth(l){return Math.floor(Math.max(Math.max(re.getMaxWidth(l[0],l[4]),re.getMaxWidth(l[6],l[2])*fn.MODULES_IN_CODEWORD/fn.MODULES_IN_STOP_PATTERN),Math.max(re.getMaxWidth(l[1],l[5]),re.getMaxWidth(l[7],l[3])*fn.MODULES_IN_CODEWORD/fn.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(l){return Math.floor(Math.min(Math.min(re.getMinWidth(l[0],l[4]),re.getMinWidth(l[6],l[2])*fn.MODULES_IN_CODEWORD/fn.MODULES_IN_STOP_PATTERN),Math.min(re.getMinWidth(l[1],l[5]),re.getMinWidth(l[7],l[3])*fn.MODULES_IN_CODEWORD/fn.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ae extends c{}Ae.kind="ReaderException";class ke{constructor(l,p){this.verbose=l===!0,p&&this.setHints(p)}decode(l,p){return p&&this.setHints(p),this.decodeInternal(l)}decodeWithState(l){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(l)}setHints(l){this.hints=l;const p=!r(l)&&l.get(Q.TRY_HARDER)===!0,m=r(l)?null:l.get(Q.POSSIBLE_FORMATS),b=new Array;if(!r(m)){const w=m.some(A=>A===xe.UPC_A||A===xe.UPC_E||A===xe.EAN_13||A===xe.EAN_8||A===xe.CODABAR||A===xe.CODE_39||A===xe.CODE_93||A===xe.CODE_128||A===xe.ITF||A===xe.RSS_14||A===xe.RSS_EXPANDED);w&&!p&&b.push(new Ha(l,this.verbose)),m.includes(xe.QR_CODE)&&b.push(new Ws),m.includes(xe.DATA_MATRIX)&&b.push(new Es),m.includes(xe.AZTEC)&&b.push(new Ht),m.includes(xe.PDF_417)&&b.push(new re),w&&p&&b.push(new Ha(l,this.verbose))}b.length===0&&(p||b.push(new Ha(l,this.verbose)),b.push(new Ws),b.push(new Es),b.push(new Ht),b.push(new re),p&&b.push(new Ha(l,this.verbose))),this.readers=b}reset(){if(this.readers!==null)for(const l of this.readers)l.reset()}decodeInternal(l){if(this.readers===null)throw new Ae("No readers where selected, nothing can be read.");for(const p of this.readers)try{return p.decode(l,this.hints)}catch(m){if(m instanceof Ae)continue}throw new ae("No MultiFormat Readers were able to detect the code.")}}class Fe extends he{constructor(l=null,p=500){const m=new ke;m.setHints(l),super(m,p)}decodeBitmap(l){return this.reader.decodeWithState(l)}}class dt extends he{constructor(l=500){super(new re,l)}}class yt extends he{constructor(l=500){super(new Ws,l)}}var Pt;(function(te){te[te.ERROR_CORRECTION=0]="ERROR_CORRECTION",te[te.CHARACTER_SET=1]="CHARACTER_SET",te[te.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",te[te.MIN_SIZE=3]="MIN_SIZE",te[te.MAX_SIZE=4]="MAX_SIZE",te[te.MARGIN=5]="MARGIN",te[te.PDF417_COMPACT=6]="PDF417_COMPACT",te[te.PDF417_COMPACTION=7]="PDF417_COMPACTION",te[te.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",te[te.AZTEC_LAYERS=9]="AZTEC_LAYERS",te[te.QR_VERSION=10]="QR_VERSION"})(Pt||(Pt={}));var At=Pt;class bn{constructor(l){this.field=l,this.cachedGenerators=[],this.cachedGenerators.push(new Je(l,Int32Array.from([1])))}buildGenerator(l){const p=this.cachedGenerators;if(l>=p.length){let m=p[p.length-1];const b=this.field;for(let w=p.length;w<=l;w++){const A=m.multiply(new Je(b,Int32Array.from([1,b.exp(w-1+b.getGeneratorBase())])));p.push(A),m=A}}return p[l]}encode(l,p){if(p===0)throw new g("No error correction bytes");const m=l.length-p;if(m<=0)throw new g("No data bytes provided");const b=this.buildGenerator(p),w=new Int32Array(m);E.arraycopy(l,0,w,0,m);let A=new Je(this.field,w);A=A.multiplyByMonomial(p,1);const M=A.divide(b)[1].getCoefficients(),B=p-M.length;for(let $=0;$<B;$++)l[m+$]=0;E.arraycopy(M,0,l,m+B,M.length)}}class Lt{constructor(){}static applyMaskPenaltyRule1(l){return Lt.applyMaskPenaltyRule1Internal(l,!0)+Lt.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let p=0;const m=l.getArray(),b=l.getWidth(),w=l.getHeight();for(let A=0;A<w-1;A++){const O=m[A];for(let M=0;M<b-1;M++){const B=O[M];B===O[M+1]&&B===m[A+1][M]&&B===m[A+1][M+1]&&p++}}return Lt.N2*p}static applyMaskPenaltyRule3(l){let p=0;const m=l.getArray(),b=l.getWidth(),w=l.getHeight();for(let A=0;A<w;A++)for(let O=0;O<b;O++){const M=m[A];O+6<b&&M[O]===1&&M[O+1]===0&&M[O+2]===1&&M[O+3]===1&&M[O+4]===1&&M[O+5]===0&&M[O+6]===1&&(Lt.isWhiteHorizontal(M,O-4,O)||Lt.isWhiteHorizontal(M,O+7,O+11))&&p++,A+6<w&&m[A][O]===1&&m[A+1][O]===0&&m[A+2][O]===1&&m[A+3][O]===1&&m[A+4][O]===1&&m[A+5][O]===0&&m[A+6][O]===1&&(Lt.isWhiteVertical(m,O,A-4,A)||Lt.isWhiteVertical(m,O,A+7,A+11))&&p++}return p*Lt.N3}static isWhiteHorizontal(l,p,m){p=Math.max(p,0),m=Math.min(m,l.length);for(let b=p;b<m;b++)if(l[b]===1)return!1;return!0}static isWhiteVertical(l,p,m,b){m=Math.max(m,0),b=Math.min(b,l.length);for(let w=m;w<b;w++)if(l[w][p]===1)return!1;return!0}static applyMaskPenaltyRule4(l){let p=0;const m=l.getArray(),b=l.getWidth(),w=l.getHeight();for(let M=0;M<w;M++){const B=m[M];for(let $=0;$<b;$++)B[$]===1&&p++}const A=l.getHeight()*l.getWidth();return Math.floor(Math.abs(p*2-A)*10/A)*Lt.N4}static getDataMaskBit(l,p,m){let b,w;switch(l){case 0:b=m+p&1;break;case 1:b=m&1;break;case 2:b=p%3;break;case 3:b=(m+p)%3;break;case 4:b=Math.floor(m/2)+Math.floor(p/3)&1;break;case 5:w=m*p,b=(w&1)+w%3;break;case 6:w=m*p,b=(w&1)+w%3&1;break;case 7:w=m*p,b=w%3+(m+p&1)&1;break;default:throw new g("Invalid mask pattern: "+l)}return b===0}static applyMaskPenaltyRule1Internal(l,p){let m=0;const b=p?l.getHeight():l.getWidth(),w=p?l.getWidth():l.getHeight(),A=l.getArray();for(let O=0;O<b;O++){let M=0,B=-1;for(let $=0;$<w;$++){const ne=p?A[O][$]:A[$][O];ne===B?M++:(M>=5&&(m+=Lt.N1+(M-5)),M=1,B=ne)}M>=5&&(m+=Lt.N1+(M-5))}return m}}Lt.N1=3,Lt.N2=3,Lt.N3=40,Lt.N4=10;class $n{constructor(l,p){this.width=l,this.height=p;const m=new Array(p);for(let b=0;b!==p;b++)m[b]=new Uint8Array(l);this.bytes=m}getHeight(){return this.height}getWidth(){return this.width}get(l,p){return this.bytes[p][l]}getArray(){return this.bytes}setNumber(l,p,m){this.bytes[p][l]=m}setBoolean(l,p,m){this.bytes[p][l]=m?1:0}clear(l){for(const p of this.bytes)D.fill(p,l)}equals(l){if(!(l instanceof $n))return!1;const p=l;if(this.width!==p.width||this.height!==p.height)return!1;for(let m=0,b=this.height;m<b;++m){const w=this.bytes[m],A=p.bytes[m];for(let O=0,M=this.width;O<M;++O)if(w[O]!==A[O])return!1}return!0}toString(){const l=new fe;for(let p=0,m=this.height;p<m;++p){const b=this.bytes[p];for(let w=0,A=this.width;w<A;++w)switch(b[w]){case 0:l.append(" 0");break;case 1:l.append(" 1");break;default:l.append("  ");break}l.append(`
`)}return l.toString()}}class mr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new fe;return l.append(`<<
`),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append(`
 ecLevel: `),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append(`
 version: `),l.append(this.version?this.version.toString():"null"),l.append(`
 maskPattern: `),l.append(this.maskPattern.toString()),this.matrix?(l.append(`
 matrix:
`),l.append(this.matrix.toString())):l.append(`
 matrix: null
`),l.append(`>>
`),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<mr.NUM_MASK_PATTERNS}}mr.NUM_MASK_PATTERNS=8;class An extends c{}An.kind="WriterException";class Et{constructor(){}static clearMatrix(l){l.clear(255)}static buildMatrix(l,p,m,b,w){Et.clearMatrix(w),Et.embedBasicPatterns(m,w),Et.embedTypeInfo(p,b,w),Et.maybeEmbedVersionInfo(m,w),Et.embedDataBits(l,b,w)}static embedBasicPatterns(l,p){Et.embedPositionDetectionPatternsAndSeparators(p),Et.embedDarkDotAtLeftBottomCorner(p),Et.maybeEmbedPositionAdjustmentPatterns(l,p),Et.embedTimingPatterns(p)}static embedTypeInfo(l,p,m){const b=new U;Et.makeTypeInfoBits(l,p,b);for(let w=0,A=b.getSize();w<A;++w){const O=b.get(b.getSize()-1-w),M=Et.TYPE_INFO_COORDINATES[w],B=M[0],$=M[1];if(m.setBoolean(B,$,O),w<8){const ne=m.getWidth()-w-1;m.setBoolean(ne,8,O)}else{const le=m.getHeight()-7+(w-8);m.setBoolean(8,le,O)}}}static maybeEmbedVersionInfo(l,p){if(l.getVersionNumber()<7)return;const m=new U;Et.makeVersionInfoBits(l,m);let b=17;for(let w=0;w<6;++w)for(let A=0;A<3;++A){const O=m.get(b);b--,p.setBoolean(w,p.getHeight()-11+A,O),p.setBoolean(p.getHeight()-11+A,w,O)}}static embedDataBits(l,p,m){let b=0,w=-1,A=m.getWidth()-1,O=m.getHeight()-1;for(;A>0;){for(A===6&&(A-=1);O>=0&&O<m.getHeight();){for(let M=0;M<2;++M){const B=A-M;if(!Et.isEmpty(m.get(B,O)))continue;let $;b<l.getSize()?($=l.get(b),++b):$=!1,p!==255&&Lt.getDataMaskBit(p,B,O)&&($=!$),m.setBoolean(B,O,$)}O+=w}w=-w,O+=w,A-=2}if(b!==l.getSize())throw new An("Not all bits consumed: "+b+"/"+l.getSize())}static findMSBSet(l){return 32-F.numberOfLeadingZeros(l)}static calculateBCHCode(l,p){if(p===0)throw new g("0 polynomial");const m=Et.findMSBSet(p);for(l<<=m-1;Et.findMSBSet(l)>=m;)l^=p<<Et.findMSBSet(l)-m;return l}static makeTypeInfoBits(l,p,m){if(!mr.isValidMaskPattern(p))throw new An("Invalid mask pattern");const b=l.getBits()<<3|p;m.appendBits(b,5);const w=Et.calculateBCHCode(b,Et.TYPE_INFO_POLY);m.appendBits(w,10);const A=new U;if(A.appendBits(Et.TYPE_INFO_MASK_PATTERN,15),m.xor(A),m.getSize()!==15)throw new An("should not happen but we got: "+m.getSize())}static makeVersionInfoBits(l,p){p.appendBits(l.getVersionNumber(),6);const m=Et.calculateBCHCode(l.getVersionNumber(),Et.VERSION_INFO_POLY);if(p.appendBits(m,12),p.getSize()!==18)throw new An("should not happen but we got: "+p.getSize())}static isEmpty(l){return l===255}static embedTimingPatterns(l){for(let p=8;p<l.getWidth()-8;++p){const m=(p+1)%2;Et.isEmpty(l.get(p,6))&&l.setNumber(p,6,m),Et.isEmpty(l.get(6,p))&&l.setNumber(6,p,m)}}static embedDarkDotAtLeftBottomCorner(l){if(l.get(8,l.getHeight()-8)===0)throw new An;l.setNumber(8,l.getHeight()-8,1)}static embedHorizontalSeparationPattern(l,p,m){for(let b=0;b<8;++b){if(!Et.isEmpty(m.get(l+b,p)))throw new An;m.setNumber(l+b,p,0)}}static embedVerticalSeparationPattern(l,p,m){for(let b=0;b<7;++b){if(!Et.isEmpty(m.get(l,p+b)))throw new An;m.setNumber(l,p+b,0)}}static embedPositionAdjustmentPattern(l,p,m){for(let b=0;b<5;++b){const w=Et.POSITION_ADJUSTMENT_PATTERN[b];for(let A=0;A<5;++A)m.setNumber(l+A,p+b,w[A])}}static embedPositionDetectionPattern(l,p,m){for(let b=0;b<7;++b){const w=Et.POSITION_DETECTION_PATTERN[b];for(let A=0;A<7;++A)m.setNumber(l+A,p+b,w[A])}}static embedPositionDetectionPatternsAndSeparators(l){const p=Et.POSITION_DETECTION_PATTERN[0].length;Et.embedPositionDetectionPattern(0,0,l),Et.embedPositionDetectionPattern(l.getWidth()-p,0,l),Et.embedPositionDetectionPattern(0,l.getWidth()-p,l);const m=8;Et.embedHorizontalSeparationPattern(0,m-1,l),Et.embedHorizontalSeparationPattern(l.getWidth()-m,m-1,l),Et.embedHorizontalSeparationPattern(0,l.getWidth()-m,l);const b=7;Et.embedVerticalSeparationPattern(b,0,l),Et.embedVerticalSeparationPattern(l.getHeight()-b-1,0,l),Et.embedVerticalSeparationPattern(b,l.getHeight()-b,l)}static maybeEmbedPositionAdjustmentPatterns(l,p){if(l.getVersionNumber()<2)return;const m=l.getVersionNumber()-1,b=Et.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[m];for(let w=0,A=b.length;w!==A;w++){const O=b[w];if(O>=0)for(let M=0;M!==A;M++){const B=b[M];B>=0&&Et.isEmpty(p.get(B,O))&&Et.embedPositionAdjustmentPattern(B-2,O-2,p)}}}}Et.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Et.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Et.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Et.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Et.VERSION_INFO_POLY=7973,Et.TYPE_INFO_POLY=1335,Et.TYPE_INFO_MASK_PATTERN=21522;class Ii{constructor(l,p){this.dataBytes=l,this.errorCorrectionBytes=p}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class jn{constructor(){}static calculateMaskPenalty(l){return Lt.applyMaskPenaltyRule1(l)+Lt.applyMaskPenaltyRule2(l)+Lt.applyMaskPenaltyRule3(l)+Lt.applyMaskPenaltyRule4(l)}static encode(l,p,m=null){let b=jn.DEFAULT_BYTE_MODE_ENCODING;const w=m!==null&&m.get(At.CHARACTER_SET)!==void 0;w&&(b=m.get(At.CHARACTER_SET).toString());const A=this.chooseMode(l,b),O=new U;if(A===nn.BYTE&&(w||jn.DEFAULT_BYTE_MODE_ENCODING!==b)){const ut=q.getCharacterSetECIByName(b);ut!==void 0&&this.appendECI(ut,O)}this.appendModeInfo(A,O);const M=new U;this.appendBytes(l,A,M,b);let B;if(m!==null&&m.get(At.QR_VERSION)!==void 0){const ut=Number.parseInt(m.get(At.QR_VERSION).toString(),10);B=It.getVersionForNumber(ut);const ot=this.calculateBitsNeeded(A,O,M,B);if(!this.willFit(ot,B,p))throw new An("Data too big for requested version")}else B=this.recommendVersion(p,A,O,M);const $=new U;$.appendBitArray(O);const ne=A===nn.BYTE?M.getSizeInBytes():l.length;this.appendLengthInfo(ne,B,A,$),$.appendBitArray(M);const le=B.getECBlocksForLevel(p),Se=B.getTotalCodewords()-le.getTotalECCodewords();this.terminateBits(Se,$);const Ie=this.interleaveWithECBytes($,B.getTotalCodewords(),Se,le.getNumBlocks()),Pe=new mr;Pe.setECLevel(p),Pe.setMode(A),Pe.setVersion(B);const Be=B.getDimensionForVersion(),Ze=new $n(Be,Be),ct=this.chooseMaskPattern(Ie,p,B,Ze);return Pe.setMaskPattern(ct),Et.buildMatrix(Ie,p,B,ct,Ze),Pe.setMatrix(Ze),Pe}static recommendVersion(l,p,m,b){const w=this.calculateBitsNeeded(p,m,b,It.getVersionForNumber(1)),A=this.chooseVersion(w,l),O=this.calculateBitsNeeded(p,m,b,A);return this.chooseVersion(O,l)}static calculateBitsNeeded(l,p,m,b){return p.getSize()+l.getCharacterCountBits(b)+m.getSize()}static getAlphanumericCode(l){return l<jn.ALPHANUMERIC_TABLE.length?jn.ALPHANUMERIC_TABLE[l]:-1}static chooseMode(l,p=null){if(q.SJIS.getName()===p&&this.isOnlyDoubleByteKanji(l))return nn.KANJI;let m=!1,b=!1;for(let w=0,A=l.length;w<A;++w){const O=l.charAt(w);if(jn.isDigit(O))m=!0;else if(this.getAlphanumericCode(O.charCodeAt(0))!==-1)b=!0;else return nn.BYTE}return b?nn.ALPHANUMERIC:m?nn.NUMERIC:nn.BYTE}static isOnlyDoubleByteKanji(l){let p;try{p=H.encode(l,q.SJIS)}catch{return!1}const m=p.length;if(m%2!==0)return!1;for(let b=0;b<m;b+=2){const w=p[b]&255;if((w<129||w>159)&&(w<224||w>235))return!1}return!0}static chooseMaskPattern(l,p,m,b){let w=Number.MAX_SAFE_INTEGER,A=-1;for(let O=0;O<mr.NUM_MASK_PATTERNS;O++){Et.buildMatrix(l,p,m,O,b);let M=this.calculateMaskPenalty(b);M<w&&(w=M,A=O)}return A}static chooseVersion(l,p){for(let m=1;m<=40;m++){const b=It.getVersionForNumber(m);if(jn.willFit(l,b,p))return b}throw new An("Data too big")}static willFit(l,p,m){const b=p.getTotalCodewords(),A=p.getECBlocksForLevel(m).getTotalECCodewords(),O=b-A,M=(l+7)/8;return O>=M}static terminateBits(l,p){const m=l*8;if(p.getSize()>m)throw new An("data bits cannot fit in the QR Code"+p.getSize()+" > "+m);for(let A=0;A<4&&p.getSize()<m;++A)p.appendBit(!1);const b=p.getSize()&7;if(b>0)for(let A=b;A<8;A++)p.appendBit(!1);const w=l-p.getSizeInBytes();for(let A=0;A<w;++A)p.appendBits((A&1)===0?236:17,8);if(p.getSize()!==m)throw new An("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(l,p,m,b,w,A){if(b>=m)throw new An("Block ID too large");const O=l%m,M=m-O,B=Math.floor(l/m),$=B+1,ne=Math.floor(p/m),le=ne+1,Se=B-ne,Ie=$-le;if(Se!==Ie)throw new An("EC bytes mismatch");if(m!==M+O)throw new An("RS blocks mismatch");if(l!==(ne+Se)*M+(le+Ie)*O)throw new An("Total bytes mismatch");b<M?(w[0]=ne,A[0]=Se):(w[0]=le,A[0]=Ie)}static interleaveWithECBytes(l,p,m,b){if(l.getSizeInBytes()!==m)throw new An("Number of bits and data bytes does not match");let w=0,A=0,O=0;const M=new Array;for(let $=0;$<b;++$){const ne=new Int32Array(1),le=new Int32Array(1);jn.getNumDataBytesAndNumECBytesForBlockID(p,m,b,$,ne,le);const Se=ne[0],Ie=new Uint8Array(Se);l.toBytes(8*w,Ie,0,Se);const Pe=jn.generateECBytes(Ie,le[0]);M.push(new Ii(Ie,Pe)),A=Math.max(A,Se),O=Math.max(O,Pe.length),w+=ne[0]}if(m!==w)throw new An("Data bytes does not match offset");const B=new U;for(let $=0;$<A;++$)for(const ne of M){const le=ne.getDataBytes();$<le.length&&B.appendBits(le[$],8)}for(let $=0;$<O;++$)for(const ne of M){const le=ne.getErrorCorrectionBytes();$<le.length&&B.appendBits(le[$],8)}if(p!==B.getSizeInBytes())throw new An("Interleaving error: "+p+" and "+B.getSizeInBytes()+" differ.");return B}static generateECBytes(l,p){const m=l.length,b=new Int32Array(m+p);for(let A=0;A<m;A++)b[A]=l[A]&255;new bn(lt.QR_CODE_FIELD_256).encode(b,p);const w=new Uint8Array(p);for(let A=0;A<p;A++)w[A]=b[m+A];return w}static appendModeInfo(l,p){p.appendBits(l.getBits(),4)}static appendLengthInfo(l,p,m,b){const w=m.getCharacterCountBits(p);if(l>=1<<w)throw new An(l+" is bigger than "+((1<<w)-1));b.appendBits(l,w)}static appendBytes(l,p,m,b){switch(p){case nn.NUMERIC:jn.appendNumericBytes(l,m);break;case nn.ALPHANUMERIC:jn.appendAlphanumericBytes(l,m);break;case nn.BYTE:jn.append8BitBytes(l,m,b);break;case nn.KANJI:jn.appendKanjiBytes(l,m);break;default:throw new An("Invalid mode: "+p)}}static getDigit(l){return l.charCodeAt(0)-48}static isDigit(l){const p=jn.getDigit(l);return p>=0&&p<=9}static appendNumericBytes(l,p){const m=l.length;let b=0;for(;b<m;){const w=jn.getDigit(l.charAt(b));if(b+2<m){const A=jn.getDigit(l.charAt(b+1)),O=jn.getDigit(l.charAt(b+2));p.appendBits(w*100+A*10+O,10),b+=3}else if(b+1<m){const A=jn.getDigit(l.charAt(b+1));p.appendBits(w*10+A,7),b+=2}else p.appendBits(w,4),b++}}static appendAlphanumericBytes(l,p){const m=l.length;let b=0;for(;b<m;){const w=jn.getAlphanumericCode(l.charCodeAt(b));if(w===-1)throw new An;if(b+1<m){const A=jn.getAlphanumericCode(l.charCodeAt(b+1));if(A===-1)throw new An;p.appendBits(w*45+A,11),b+=2}else p.appendBits(w,6),b++}}static append8BitBytes(l,p,m){let b;try{b=H.encode(l,m)}catch(w){throw new An(w)}for(let w=0,A=b.length;w!==A;w++){const O=b[w];p.appendBits(O,8)}}static appendKanjiBytes(l,p){let m;try{m=H.encode(l,q.SJIS)}catch(w){throw new An(w)}const b=m.length;for(let w=0;w<b;w+=2){const A=m[w]&255,O=m[w+1]&255,M=A<<8&4294967295|O;let B=-1;if(M>=33088&&M<=40956?B=M-33088:M>=57408&&M<=60351&&(B=M-49472),B===-1)throw new An("Invalid byte sequence");const $=(B>>8)*192+(B&255);p.appendBits($,13)}}static appendECI(l,p){p.appendBits(nn.ECI.getBits(),4),p.appendBits(l.getValue(),8)}}jn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),jn.DEFAULT_BYTE_MODE_ENCODING=q.UTF8.getName();class Xr{write(l,p,m,b=null){if(l.length===0)throw new g("Found empty contents");if(p<0||m<0)throw new g("Requested dimensions are too small: "+p+"x"+m);let w=Tn.L,A=Xr.QUIET_ZONE_SIZE;b!==null&&(b.get(At.ERROR_CORRECTION)!==void 0&&(w=Tn.fromString(b.get(At.ERROR_CORRECTION).toString())),b.get(At.MARGIN)!==void 0&&(A=Number.parseInt(b.get(At.MARGIN).toString(),10)));const O=jn.encode(l,w,b);return this.renderResult(O,p,m,A)}writeToDom(l,p,m,b,w=null){typeof l=="string"&&(l=document.querySelector(l));const A=this.write(p,m,b,w);l&&l.appendChild(A)}renderResult(l,p,m,b){const w=l.getMatrix();if(w===null)throw new ye;const A=w.getWidth(),O=w.getHeight(),M=A+b*2,B=O+b*2,$=Math.max(p,M),ne=Math.max(m,B),le=Math.min(Math.floor($/M),Math.floor(ne/B)),Se=Math.floor(($-A*le)/2),Ie=Math.floor((ne-O*le)/2),Pe=this.createSVGElement($,ne);for(let Be=0,Ze=Ie;Be<O;Be++,Ze+=le)for(let ct=0,ut=Se;ct<A;ct++,ut+=le)if(w.get(ct,Be)===1){const ot=this.createSvgRectElement(ut,Ze,le,le);Pe.appendChild(ot)}return Pe}createSVGElement(l,p){const m=document.createElementNS(Xr.SVG_NS,"svg");return m.setAttributeNS(null,"height",l.toString()),m.setAttributeNS(null,"width",p.toString()),m}createSvgRectElement(l,p,m,b){const w=document.createElementNS(Xr.SVG_NS,"rect");return w.setAttributeNS(null,"x",l.toString()),w.setAttributeNS(null,"y",p.toString()),w.setAttributeNS(null,"height",m.toString()),w.setAttributeNS(null,"width",b.toString()),w.setAttributeNS(null,"fill","#000000"),w}}Xr.QUIET_ZONE_SIZE=4,Xr.SVG_NS="http://www.w3.org/2000/svg";class Va{encode(l,p,m,b,w){if(l.length===0)throw new g("Found empty contents");if(p!==xe.QR_CODE)throw new g("Can only encode QR_CODE, but got "+p);if(m<0||b<0)throw new g(`Requested dimensions are too small: ${m}x${b}`);let A=Tn.L,O=Va.QUIET_ZONE_SIZE;w!==null&&(w.get(At.ERROR_CORRECTION)!==void 0&&(A=Tn.fromString(w.get(At.ERROR_CORRECTION).toString())),w.get(At.MARGIN)!==void 0&&(O=Number.parseInt(w.get(At.MARGIN).toString(),10)));const M=jn.encode(l,A,w);return Va.renderResult(M,m,b,O)}static renderResult(l,p,m,b){const w=l.getMatrix();if(w===null)throw new ye;const A=w.getWidth(),O=w.getHeight(),M=A+b*2,B=O+b*2,$=Math.max(p,M),ne=Math.max(m,B),le=Math.min(Math.floor($/M),Math.floor(ne/B)),Se=Math.floor(($-A*le)/2),Ie=Math.floor((ne-O*le)/2),Pe=new ee($,ne);for(let Be=0,Ze=Ie;Be<O;Be++,Ze+=le)for(let ct=0,ut=Se;ct<A;ct++,ut+=le)w.get(ct,Be)===1&&Pe.setRegion(ut,Ze,le,le);return Pe}}Va.QUIET_ZONE_SIZE=4;class Ys{encode(l,p,m,b,w){let A;switch(p){case xe.QR_CODE:A=new Va;break;default:throw new g("No encoder available for format "+p)}return A.encode(l,p,m,b,w)}}class Li extends ve{constructor(l,p,m,b,w,A,O,M){if(super(A,O),this.yuvData=l,this.dataWidth=p,this.dataHeight=m,this.left=b,this.top=w,b+A>p||w+O>m)throw new g("Crop rectangle does not fit within image data.");M&&this.reverseHorizontal(A,O)}getRow(l,p){if(l<0||l>=this.getHeight())throw new g("Requested row is outside the image: "+l);const m=this.getWidth();(p==null||p.length<m)&&(p=new Uint8ClampedArray(m));const b=(l+this.top)*this.dataWidth+this.left;return E.arraycopy(this.yuvData,b,p,0,m),p}getMatrix(){const l=this.getWidth(),p=this.getHeight();if(l===this.dataWidth&&p===this.dataHeight)return this.yuvData;const m=l*p,b=new Uint8ClampedArray(m);let w=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return E.arraycopy(this.yuvData,w,b,0,m),b;for(let A=0;A<p;A++){const O=A*l;E.arraycopy(this.yuvData,w,b,O,l),w+=this.dataWidth}return b}isCropSupported(){return!0}crop(l,p,m,b){return new Li(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+p,m,b,!1)}renderThumbnail(){const l=this.getWidth()/Li.THUMBNAIL_SCALE_FACTOR,p=this.getHeight()/Li.THUMBNAIL_SCALE_FACTOR,m=new Int32Array(l*p),b=this.yuvData;let w=this.top*this.dataWidth+this.left;for(let A=0;A<p;A++){const O=A*l;for(let M=0;M<l;M++){const B=b[w+M*Li.THUMBNAIL_SCALE_FACTOR]&255;m[O+M]=4278190080|B*65793}w+=this.dataWidth*Li.THUMBNAIL_SCALE_FACTOR}return m}getThumbnailWidth(){return this.getWidth()/Li.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Li.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,p){const m=this.yuvData;for(let b=0,w=this.top*this.dataWidth+this.left;b<p;b++,w+=this.dataWidth){const A=w+l/2;for(let O=w,M=w+l-1;O<A;O++,M--){const B=m[O];m[O]=m[M],m[M]=B}}}invert(){return new Te(this)}}Li.THUMBNAIL_SCALE_FACTOR=2;class kl extends ve{constructor(l,p,m,b,w,A,O){if(super(p,m),this.dataWidth=b,this.dataHeight=w,this.left=A,this.top=O,l.BYTES_PER_ELEMENT===4){const M=p*m,B=new Uint8ClampedArray(M);for(let $=0;$<M;$++){const ne=l[$],le=ne>>16&255,Se=ne>>7&510,Ie=ne&255;B[$]=(le+Se+Ie)/4&255}this.luminances=B}else this.luminances=l;if(b===void 0&&(this.dataWidth=p),w===void 0&&(this.dataHeight=m),A===void 0&&(this.left=0),O===void 0&&(this.top=0),this.left+p>this.dataWidth||this.top+m>this.dataHeight)throw new g("Crop rectangle does not fit within image data.")}getRow(l,p){if(l<0||l>=this.getHeight())throw new g("Requested row is outside the image: "+l);const m=this.getWidth();(p==null||p.length<m)&&(p=new Uint8ClampedArray(m));const b=(l+this.top)*this.dataWidth+this.left;return E.arraycopy(this.luminances,b,p,0,m),p}getMatrix(){const l=this.getWidth(),p=this.getHeight();if(l===this.dataWidth&&p===this.dataHeight)return this.luminances;const m=l*p,b=new Uint8ClampedArray(m);let w=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return E.arraycopy(this.luminances,w,b,0,m),b;for(let A=0;A<p;A++){const O=A*l;E.arraycopy(this.luminances,w,b,O,l),w+=this.dataWidth}return b}isCropSupported(){return!0}crop(l,p,m,b){return new kl(this.luminances,m,b,this.dataWidth,this.dataHeight,this.left+l,this.top+p)}invert(){return new Te(this)}}class Ml extends q{static forName(l){return this.getCharacterSetECIByName(l)}}class Ns{}Ns.ISO_8859_1=q.ISO8859_1;class Os{isCompact(){return this.compact}setCompact(l){this.compact=l}getSize(){return this.size}setSize(l){this.size=l}getLayers(){return this.layers}setLayers(l){this.layers=l}getCodeWords(){return this.codeWords}setCodeWords(l){this.codeWords=l}getMatrix(){return this.matrix}setMatrix(l){this.matrix=l}}class cl{static singletonList(l){return[l]}static min(l,p){return l.sort(p)[0]}}class Fo{constructor(l){this.previous=l}getPrevious(){return this.previous}}class Kr extends Fo{constructor(l,p,m){super(l),this.value=p,this.bitCount=m}appendTo(l,p){l.appendBits(this.value,this.bitCount)}add(l,p){return new Kr(this,l,p)}addBinaryShift(l,p){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Kr(this,l,p)}toString(){let l=this.value&(1<<this.bitCount)-1;return l|=1<<this.bitCount,"<"+F.toBinaryString(l|1<<this.bitCount).substring(1)+">"}}class uo extends Kr{constructor(l,p,m){super(l,0,0),this.binaryShiftStart=p,this.binaryShiftByteCount=m}appendTo(l,p){for(let m=0;m<this.binaryShiftByteCount;m++)(m===0||m===31&&this.binaryShiftByteCount<=62)&&(l.appendBits(31,5),this.binaryShiftByteCount>62?l.appendBits(this.binaryShiftByteCount-31,16):m===0?l.appendBits(Math.min(this.binaryShiftByteCount,31),5):l.appendBits(this.binaryShiftByteCount-31,5)),l.appendBits(p[this.binaryShiftStart+m],8)}addBinaryShift(l,p){return new uo(this,l,p)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ul(te,l,p){return new uo(te,l,p)}function fo(te,l,p){return new Kr(te,l,p)}const ho=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ii=0,Ts=1,ra=2,fc=3,ai=4,Xs=new Kr(null,0,0),Ks=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Xc(te){for(let l of te)D.fill(l,-1);return te[ii][ai]=0,te[Ts][ai]=0,te[Ts][ii]=28,te[fc][ai]=0,te[ra][ai]=0,te[ra][ii]=15,te}const Is=Xc(D.createInt32Array(6,6));class ia{constructor(l,p,m,b){this.token=l,this.mode=p,this.binaryShiftByteCount=m,this.bitCount=b}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(l,p){let m=this.bitCount,b=this.token;if(l!==this.mode){let A=Ks[this.mode][l];b=fo(b,A&65535,A>>16),m+=A>>16}let w=l===ra?4:5;return b=fo(b,p,w),new ia(b,l,0,m+w)}shiftAndAppend(l,p){let m=this.token,b=this.mode===ra?4:5;return m=fo(m,Is[this.mode][l],b),m=fo(m,p,5),new ia(m,this.mode,0,this.bitCount+b+5)}addBinaryShiftChar(l){let p=this.token,m=this.mode,b=this.bitCount;if(this.mode===ai||this.mode===ra){let O=Ks[m][ii];p=fo(p,O&65535,O>>16),b+=O>>16,m=ii}let w=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,A=new ia(p,m,this.binaryShiftByteCount+1,b+w);return A.binaryShiftByteCount===2078&&(A=A.endBinaryShift(l+1)),A}endBinaryShift(l){if(this.binaryShiftByteCount===0)return this;let p=this.token;return p=ul(p,l-this.binaryShiftByteCount,this.binaryShiftByteCount),new ia(p,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(l){let p=this.bitCount+(Ks[this.mode][l.mode]>>16);return this.binaryShiftByteCount<l.binaryShiftByteCount?p+=ia.calculateBinaryShiftCost(l)-ia.calculateBinaryShiftCost(this):this.binaryShiftByteCount>l.binaryShiftByteCount&&l.binaryShiftByteCount>0&&(p+=10),p<=l.bitCount}toBitArray(l){let p=[];for(let b=this.endBinaryShift(l.length).token;b!==null;b=b.getPrevious())p.unshift(b);let m=new U;for(const b of p)b.appendTo(m,l);return m}toString(){return G.format("%s bits=%d bytes=%d",ho[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(l){return l.binaryShiftByteCount>62?21:l.binaryShiftByteCount>31?20:l.binaryShiftByteCount>0?10:0}}ia.INITIAL_STATE=new ia(Xs,ii,0,0);function Ya(te){const l=G.getCharCode(" "),p=G.getCharCode("."),m=G.getCharCode(",");te[ii][l]=1;const b=G.getCharCode("Z"),w=G.getCharCode("A");for(let le=w;le<=b;le++)te[ii][le]=le-w+2;te[Ts][l]=1;const A=G.getCharCode("z"),O=G.getCharCode("a");for(let le=O;le<=A;le++)te[Ts][le]=le-O+2;te[ra][l]=1;const M=G.getCharCode("9"),B=G.getCharCode("0");for(let le=B;le<=M;le++)te[ra][le]=le-B+2;te[ra][m]=12,te[ra][p]=13;const $=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let le=0;le<$.length;le++)te[fc][G.getCharCode($[le])]=le;const ne=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let le=0;le<ne.length;le++)G.getCharCode(ne[le])>0&&(te[ai][G.getCharCode(ne[le])]=le);return te}const aa=Ya(D.createInt32Array(5,256));class Xa{constructor(l){this.text=l}encode(){const l=G.getCharCode(" "),p=G.getCharCode(`
`);let m=cl.singletonList(ia.INITIAL_STATE);for(let w=0;w<this.text.length;w++){let A,O=w+1<this.text.length?this.text[w+1]:0;switch(this.text[w]){case G.getCharCode("\r"):A=O===p?2:0;break;case G.getCharCode("."):A=O===l?3:0;break;case G.getCharCode(","):A=O===l?4:0;break;case G.getCharCode(":"):A=O===l?5:0;break;default:A=0}A>0?(m=Xa.updateStateListForPair(m,w,A),w++):m=this.updateStateListForChar(m,w)}return cl.min(m,(w,A)=>w.getBitCount()-A.getBitCount()).toBitArray(this.text)}updateStateListForChar(l,p){const m=[];for(let b of l)this.updateStateForChar(b,p,m);return Xa.simplifyStates(m)}updateStateForChar(l,p,m){let b=this.text[p]&255,w=aa[l.getMode()][b]>0,A=null;for(let O=0;O<=ai;O++){let M=aa[O][b];if(M>0){if(A==null&&(A=l.endBinaryShift(p)),!w||O===l.getMode()||O===ra){const B=A.latchAndAppend(O,M);m.push(B)}if(!w&&Is[l.getMode()][O]>=0){const B=A.shiftAndAppend(O,M);m.push(B)}}}if(l.getBinaryShiftByteCount()>0||aa[l.getMode()][b]===0){let O=l.addBinaryShiftChar(p);m.push(O)}}static updateStateListForPair(l,p,m){const b=[];for(let w of l)this.updateStateForPair(w,p,m,b);return this.simplifyStates(b)}static updateStateForPair(l,p,m,b){let w=l.endBinaryShift(p);if(b.push(w.latchAndAppend(ai,m)),l.getMode()!==ai&&b.push(w.shiftAndAppend(ai,m)),m===3||m===4){let A=w.latchAndAppend(ra,16-m).latchAndAppend(ra,1);b.push(A)}if(l.getBinaryShiftByteCount()>0){let A=l.addBinaryShiftChar(p).addBinaryShiftChar(p+1);b.push(A)}}static simplifyStates(l){let p=[];for(const m of l){let b=!0;for(const w of p){if(w.isBetterThanOrEqualTo(m)){b=!1;break}m.isBetterThanOrEqualTo(w)&&(p=p.filter(A=>A!==w))}b&&p.push(m)}return p}}class Pn{constructor(){}static encodeBytes(l){return Pn.encode(l,Pn.DEFAULT_EC_PERCENT,Pn.DEFAULT_AZTEC_LAYERS)}static encode(l,p,m){let b=new Xa(l).encode(),w=F.truncDivision(b.getSize()*p,100)+11,A=b.getSize()+w,O,M,B,$,ne;if(m!==Pn.DEFAULT_AZTEC_LAYERS){if(O=m<0,M=Math.abs(m),M>(O?Pn.MAX_NB_BITS_COMPACT:Pn.MAX_NB_BITS))throw new g(G.format("Illegal value %s for layers",m));B=Pn.totalBitsInLayer(M,O),$=Pn.WORD_SIZE[M];let ot=B-B%$;if(ne=Pn.stuffBits(b,$),ne.getSize()+w>ot)throw new g("Data to large for user specified layer");if(O&&ne.getSize()>$*64)throw new g("Data to large for user specified layer")}else{$=0,ne=null;for(let ot=0;;ot++){if(ot>Pn.MAX_NB_BITS)throw new g("Data too large for an Aztec code");if(O=ot<=3,M=O?ot+1:ot,B=Pn.totalBitsInLayer(M,O),A>B)continue;(ne==null||$!==Pn.WORD_SIZE[M])&&($=Pn.WORD_SIZE[M],ne=Pn.stuffBits(b,$));let rn=B-B%$;if(!(O&&ne.getSize()>$*64)&&ne.getSize()+w<=rn)break}}let le=Pn.generateCheckWords(ne,B,$),Se=ne.getSize()/$,Ie=Pn.generateModeMessage(O,M,Se),Pe=(O?11:14)+M*4,Be=new Int32Array(Pe),Ze;if(O){Ze=Pe;for(let ot=0;ot<Be.length;ot++)Be[ot]=ot}else{Ze=Pe+1+2*F.truncDivision(F.truncDivision(Pe,2)-1,15);let ot=F.truncDivision(Pe,2),rn=F.truncDivision(Ze,2);for(let mn=0;mn<ot;mn++){let qr=mn+F.truncDivision(mn,15);Be[ot-mn-1]=rn-qr-1,Be[ot+mn]=rn+qr+1}}let ct=new ee(Ze);for(let ot=0,rn=0;ot<M;ot++){let mn=(M-ot)*4+(O?9:12);for(let qr=0;qr<mn;qr++){let sa=qr*2;for(let Bi=0;Bi<2;Bi++)le.get(rn+sa+Bi)&&ct.set(Be[ot*2+Bi],Be[ot*2+qr]),le.get(rn+mn*2+sa+Bi)&&ct.set(Be[ot*2+qr],Be[Pe-1-ot*2-Bi]),le.get(rn+mn*4+sa+Bi)&&ct.set(Be[Pe-1-ot*2-Bi],Be[Pe-1-ot*2-qr]),le.get(rn+mn*6+sa+Bi)&&ct.set(Be[Pe-1-ot*2-qr],Be[ot*2+Bi])}rn+=mn*8}if(Pn.drawModeMessage(ct,O,Ze,Ie),O)Pn.drawBullsEye(ct,F.truncDivision(Ze,2),5);else{Pn.drawBullsEye(ct,F.truncDivision(Ze,2),7);for(let ot=0,rn=0;ot<F.truncDivision(Pe,2)-1;ot+=15,rn+=16)for(let mn=F.truncDivision(Ze,2)&1;mn<Ze;mn+=2)ct.set(F.truncDivision(Ze,2)-rn,mn),ct.set(F.truncDivision(Ze,2)+rn,mn),ct.set(mn,F.truncDivision(Ze,2)-rn),ct.set(mn,F.truncDivision(Ze,2)+rn)}let ut=new Os;return ut.setCompact(O),ut.setSize(Ze),ut.setLayers(M),ut.setCodeWords(Se),ut.setMatrix(ct),ut}static drawBullsEye(l,p,m){for(let b=0;b<m;b+=2)for(let w=p-b;w<=p+b;w++)l.set(w,p-b),l.set(w,p+b),l.set(p-b,w),l.set(p+b,w);l.set(p-m,p-m),l.set(p-m+1,p-m),l.set(p-m,p-m+1),l.set(p+m,p-m),l.set(p+m,p-m+1),l.set(p+m,p+m-1)}static generateModeMessage(l,p,m){let b=new U;return l?(b.appendBits(p-1,2),b.appendBits(m-1,6),b=Pn.generateCheckWords(b,28,4)):(b.appendBits(p-1,5),b.appendBits(m-1,11),b=Pn.generateCheckWords(b,40,4)),b}static drawModeMessage(l,p,m,b){let w=F.truncDivision(m,2);if(p)for(let A=0;A<7;A++){let O=w-3+A;b.get(A)&&l.set(O,w-5),b.get(A+7)&&l.set(w+5,O),b.get(20-A)&&l.set(O,w+5),b.get(27-A)&&l.set(w-5,O)}else for(let A=0;A<10;A++){let O=w-5+A+F.truncDivision(A,5);b.get(A)&&l.set(O,w-7),b.get(A+10)&&l.set(w+7,O),b.get(29-A)&&l.set(O,w+7),b.get(39-A)&&l.set(w-7,O)}}static generateCheckWords(l,p,m){let b=l.getSize()/m,w=new bn(Pn.getGF(m)),A=F.truncDivision(p,m),O=Pn.bitsToWords(l,m,A);w.encode(O,A-b);let M=p%m,B=new U;B.appendBits(0,M);for(const $ of Array.from(O))B.appendBits($,m);return B}static bitsToWords(l,p,m){let b=new Int32Array(m),w,A;for(w=0,A=l.getSize()/p;w<A;w++){let O=0;for(let M=0;M<p;M++)O|=l.get(w*p+M)?1<<p-M-1:0;b[w]=O}return b}static getGF(l){switch(l){case 4:return lt.AZTEC_PARAM;case 6:return lt.AZTEC_DATA_6;case 8:return lt.AZTEC_DATA_8;case 10:return lt.AZTEC_DATA_10;case 12:return lt.AZTEC_DATA_12;default:throw new g("Unsupported word size "+l)}}static stuffBits(l,p){let m=new U,b=l.getSize(),w=(1<<p)-2;for(let A=0;A<b;A+=p){let O=0;for(let M=0;M<p;M++)(A+M>=b||l.get(A+M))&&(O|=1<<p-1-M);(O&w)===w?(m.appendBits(O&w,p),A--):(O&w)===0?(m.appendBits(O|1,p),A--):m.appendBits(O,p)}return m}static totalBitsInLayer(l,p){return((p?88:112)+16*l)*l}}Pn.DEFAULT_EC_PERCENT=33,Pn.DEFAULT_AZTEC_LAYERS=0,Pn.MAX_NB_BITS=32,Pn.MAX_NB_BITS_COMPACT=4,Pn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class js{encode(l,p,m,b){return this.encodeWithHints(l,p,m,b,null)}encodeWithHints(l,p,m,b,w){let A=Ns.ISO_8859_1,O=Pn.DEFAULT_EC_PERCENT,M=Pn.DEFAULT_AZTEC_LAYERS;return w!=null&&(w.has(At.CHARACTER_SET)&&(A=Ml.forName(w.get(At.CHARACTER_SET).toString())),w.has(At.ERROR_CORRECTION)&&(O=F.parseInt(w.get(At.ERROR_CORRECTION).toString())),w.has(At.AZTEC_LAYERS)&&(M=F.parseInt(w.get(At.AZTEC_LAYERS).toString()))),js.encodeLayers(l,p,m,b,A,O,M)}static encodeLayers(l,p,m,b,w,A,O){if(p!==xe.AZTEC)throw new g("Can only encode AZTEC, but got "+p);let M=Pn.encode(G.getBytes(l,w),A,O);return js.renderResult(M,m,b)}static renderResult(l,p,m){let b=l.getMatrix();if(b==null)throw new ye;let w=b.getWidth(),A=b.getHeight(),O=Math.max(p,w),M=Math.max(m,A),B=Math.min(O/w,M/A),$=(O-w*B)/2,ne=(M-A*B)/2,le=new ee(O,M);for(let Se=0,Ie=ne;Se<A;Se++,Ie+=B)for(let Pe=0,Be=$;Pe<w;Pe++,Be+=B)b.get(Pe,Se)&&le.setRegion(Be,Ie,B,B);return le}}n.AbstractExpandedDecoder=pr,n.ArgumentException=h,n.ArithmeticException=qe,n.AztecCode=Os,n.AztecCodeReader=Ht,n.AztecCodeWriter=js,n.AztecDecoder=_t,n.AztecDetector=In,n.AztecDetectorResult=sn,n.AztecEncoder=Pn,n.AztecHighLevelEncoder=Xa,n.AztecPoint=Ot,n.BarcodeFormat=xe,n.Binarizer=C,n.BinaryBitmap=x,n.BitArray=U,n.BitMatrix=ee,n.BitSource=ds,n.BrowserAztecCodeReader=ci,n.BrowserBarcodeReader=Vc,n.BrowserCodeReader=he,n.BrowserDatamatrixCodeReader=Oa,n.BrowserMultiFormatReader=Fe,n.BrowserPDF417Reader=dt,n.BrowserQRCodeReader=yt,n.BrowserQRCodeSvgWriter=Xr,n.CharacterSetECI=q,n.ChecksumException=y,n.Code128Reader=rt,n.Code39Reader=Dt,n.DataMatrixDecodedBitStreamParser=As,n.DataMatrixReader=Es,n.DecodeHintType=Q,n.DecoderResult=Oe,n.DefaultGridSampler=zn,n.DetectorResult=an,n.EAN13Reader=Sn,n.EncodeHintType=At,n.Exception=c,n.FormatException=Y,n.GenericGF=lt,n.GenericGFPoly=Je,n.GlobalHistogramBinarizer=ie,n.GridSampler=Fn,n.GridSamplerInstance=Nn,n.HTMLCanvasElementLuminanceSource=we,n.HybridBinarizer=K,n.ITFReader=Ft,n.IllegalArgumentException=g,n.IllegalStateException=ye,n.InvertedLuminanceSource=Te,n.LuminanceSource=ve,n.MathUtils=nt,n.MultiFormatOneDReader=Ha,n.MultiFormatReader=ke,n.MultiFormatWriter=Ys,n.NotFoundException=ae,n.OneDReader=tn,n.PDF417DecodedBitStreamParser=et,n.PDF417DecoderErrorCorrection=$a,n.PDF417Reader=re,n.PDF417ResultMetadata=lo,n.PerspectiveTransform=cn,n.PlanarYUVLuminanceSource=Li,n.QRCodeByteMatrix=$n,n.QRCodeDataMask=ma,n.QRCodeDecodedBitStreamParser=_r,n.QRCodeDecoderErrorCorrectionLevel=Tn,n.QRCodeDecoderFormatInformation=di,n.QRCodeEncoder=jn,n.QRCodeEncoderQRCode=mr,n.QRCodeMaskUtil=Lt,n.QRCodeMatrixUtil=Et,n.QRCodeMode=nn,n.QRCodeReader=Ws,n.QRCodeVersion=It,n.QRCodeWriter=Va,n.RGBLuminanceSource=kl,n.RSS14Reader=rr,n.RSSExpandedReader=gt,n.ReaderException=Ae,n.ReedSolomonDecoder=wt,n.ReedSolomonEncoder=bn,n.ReedSolomonException=bt,n.Result=me,n.ResultMetadataType=ze,n.ResultPoint=at,n.StringUtils=G,n.UnsupportedOperationException=oe,n.VideoInputDevice=ue,n.WhiteRectangleDetector=yn,n.WriterException=An,n.ZXingArrays=D,n.ZXingCharset=Ml,n.ZXingInteger=F,n.ZXingStandardCharsets=Ns,n.ZXingStringBuilder=fe,n.ZXingStringEncoding=H,n.ZXingSystem=E,n.createAbstractExpandedDecoder=sl,Object.defineProperty(n,"__esModule",{value:!0})}))})(G1,G1.exports)),G1.exports}var Mi=Bfe();const Ffe=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var JT=(function(){function e(t,n,r){if(this.formatMap=new Map([[Bt.QR_CODE,Mi.BarcodeFormat.QR_CODE],[Bt.AZTEC,Mi.BarcodeFormat.AZTEC],[Bt.CODABAR,Mi.BarcodeFormat.CODABAR],[Bt.CODE_39,Mi.BarcodeFormat.CODE_39],[Bt.CODE_93,Mi.BarcodeFormat.CODE_93],[Bt.CODE_128,Mi.BarcodeFormat.CODE_128],[Bt.DATA_MATRIX,Mi.BarcodeFormat.DATA_MATRIX],[Bt.MAXICODE,Mi.BarcodeFormat.MAXICODE],[Bt.ITF,Mi.BarcodeFormat.ITF],[Bt.EAN_13,Mi.BarcodeFormat.EAN_13],[Bt.EAN_8,Mi.BarcodeFormat.EAN_8],[Bt.PDF_417,Mi.BarcodeFormat.PDF_417],[Bt.RSS_14,Mi.BarcodeFormat.RSS_14],[Bt.RSS_EXPANDED,Mi.BarcodeFormat.RSS_EXPANDED],[Bt.UPC_A,Mi.BarcodeFormat.UPC_A],[Bt.UPC_E,Mi.BarcodeFormat.UPC_E],[Bt.UPC_EAN_EXTENSION,Mi.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Ffe)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(t),a=new Map;a.set(Mi.DecodeHintType.POSSIBLE_FORMATS,i),a.set(Mi.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,i){try{r(n.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var n=new Mi.MultiFormatReader(this.verbose,this.hints),r=new Mi.HTMLCanvasElementLuminanceSource(t),i=new Mi.BinaryBitmap(new Mi.HybridBinarizer(r)),a=n.decode(i);return{text:a.text,format:qL.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),Ufe=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{c(r.next(h))}catch(g){o(g)}}function d(h){try{c(r.throw(h))}catch(g){o(g)}}function c(h){h.done?a(h.value):i(h.value).then(u,d)}c((r=r.apply(e,t||[])).next())})},zfe=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return d([c,h])}}function d(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(h){c=[6,h],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},eI=(function(){function e(t,n,r){if(this.formatMap=new Map([[Bt.QR_CODE,"qr_code"],[Bt.AZTEC,"aztec"],[Bt.CODABAR,"codabar"],[Bt.CODE_39,"code_39"],[Bt.CODE_93,"code_93"],[Bt.CODE_128,"code_128"],[Bt.DATA_MATRIX,"data_matrix"],[Bt.ITF,"itf"],[Bt.EAN_13,"ean_13"],[Bt.EAN_8,"ean_8"],[Bt.PDF_417,"pdf417"],[Bt.UPC_A,"upc_a"],[Bt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return Ufe(this,void 0,void 0,function(){var n,r;return zfe(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:qL.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,i=0,a=t;i<a.length;i++){var o=a[i],u=o.boundingBox.width*o.boundingBox.height;u>r&&(r=u,n=o)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),tI=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{c(r.next(h))}catch(g){o(g)}}function d(h){try{c(r.throw(h))}catch(g){o(g)}}function c(h){h.done?a(h.value):i(h.value).then(u,d)}c((r=r.apply(e,t||[])).next())})},nI=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return d([c,h])}}function d(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(h){c=[6,h],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},qfe=(function(){function e(t,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&eI.isSupported()?(this.primaryDecoder=new eI(t,r,i),this.secondaryDecoder=new JT(t,r,i)):this.primaryDecoder=new JT(t,r,i)}return e.prototype.decodeAsync=function(t){return tI(this,void 0,void 0,function(){var n;return nI(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return tI(this,void 0,void 0,function(){var n,r;return nI(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),jA=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),j2=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{c(r.next(h))}catch(g){o(g)}}function d(h){try{c(r.throw(h))}catch(g){o(g)}}function c(h){h.done?a(h.value):i(h.value).then(u,d)}c((r=r.apply(e,t||[])).next())})},k2=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return d([c,h])}}function d(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(h){c=[6,h],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},WL=(function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e})(),Hfe=(function(e){jA(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(WL),Gfe=(function(e){jA(t,e);function t(n){return e.call(this,"zoom",n)||this}return t})(Hfe),$fe=(function(e){jA(t,e);function t(n){return e.call(this,"torch",n)||this}return t})(WL),Wfe=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new Gfe(this.track)},e.prototype.torchFeature=function(){return new $fe(this.track)},e})(),Vfe=(function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,i),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return j2(this,void 0,void 0,function(){var a,o;return k2(this,function(u){switch(u.label){case 0:return a=new e(t,n,i),r.aspectRatio?(o={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:u.sent(),u.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return j2(this,void 0,void 0,function(){return k2(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var i=t.mediaStream.getVideoTracks(),a=i.length,o=0;t.mediaStream.getVideoTracks().forEach(function(u){t.mediaStream.removeTrack(u),u.stop(),++o,o>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new Wfe(this.getFirstTrackOrFail())},e})(),Yfe=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return j2(this,void 0,void 0,function(){return k2(this,function(i){return[2,Vfe.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return j2(this,void 0,void 0,function(){var n,r;return k2(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new e(r)]}})})},e})(),rI=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{c(r.next(h))}catch(g){o(g)}}function d(h){try{c(r.throw(h))}catch(g){o(g)}}function c(h){h.done?a(h.value):i(h.value).then(u,d)}c((r=r.apply(e,t||[])).next())})},iI=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return d([c,h])}}function d(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(h){c=[6,h],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Xfe=(function(){function e(){}return e.failIfNotSupported=function(){return rI(this,void 0,void 0,function(){return iI(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return rI(this,void 0,void 0,function(){return iI(this,function(n){return[2,Yfe.create(t)]})})},e})(),Kfe=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{c(r.next(h))}catch(g){o(g)}}function d(h){try{c(r.throw(h))}catch(g){o(g)}}function c(h){h.done?a(h.value):i(h.value).then(u,d)}c((r=r.apply(e,t||[])).next())})},Zfe=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return d([c,h])}}function d(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(h){c=[6,h],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Qfe=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=e0.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=e0.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return Kfe(this,void 0,void 0,function(){var t,n,r,i,a,o,u;return Zfe(this,function(d){switch(d.label){case 0:return t=function(c){for(var h=c.getVideoTracks(),g=0,x=h;g<x.length;g++){var y=x[g];y.enabled=!1,y.stop(),c.removeTrack(y)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=d.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=d.sent(),i=[],a=0,o=r;a<o.length;a++)u=o[a],u.kind==="videoinput"&&i.push({id:u.deviceId,label:u.label});return t(n),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(a){for(var o=[],u=0,d=a;u<d.length;u++){var c=d[u];c.kind==="video"&&o.push({id:c.id,label:c.label})}t(o)},i=MediaStreamTrack;i.getSources(r)})},e})(),Vi;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Vi||(Vi={}));var Jfe=(function(){function e(){this.state=Vi.NOT_STARTED,this.onGoingTransactionNewState=Vi.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Vi.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Vi.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Vi.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Vi.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Vi.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Vi.UNKNOWN:throw"Transition from unknown is not allowed";case Vi.NOT_STARTED:this.failIfNewStateIs(t,[Vi.PAUSED]);break;case Vi.SCANNING:break;case Vi.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),ede=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Vi.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Vi.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Vi.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Vi.PAUSED},e})(),tde=(function(){function e(){}return e.create=function(){return new ede(new Jfe)},e})(),nde=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Yo=(function(e){nde(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(Xl),rde=(function(){function e(t,n){this.logger=n,this.fps=Yo.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Yo.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?$L.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!jc(this.qrbox)},e.create=function(t,n){return new e(t,n)},e})(),aI=(function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new GL(this.verbose),this.qrcode=new qfe(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=tde.create()}return e.prototype.start=function(t,n,r,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var u=rde.create(n,this.logger);this.clearElement();var d=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?d=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var c=d,h=document.getElementById(this.elementId);h.clientWidth?h.clientWidth:Yo.DEFAULT_WIDTH,h.style.position="relative",this.shouldScan=!0,this.element=h;var g=this,x=this.stateManagerProxy.startTransition(Vi.SCANNING);return new Promise(function(y,C){var E=c?u.videoConstraints:g.createVideoConstraints(t);if(!E){x.cancel(),C("videoConstraints should be defined");return}var T={};(!c||u.aspectRatio)&&(T.aspectRatio=u.aspectRatio);var I={onRenderSurfaceReady:function(D,F){g.setupUi(D,F,u),g.isScanning=!0,g.foreverScan(u,r,o)}};Xfe.failIfNotSupported().then(function(D){D.create(E).then(function(F){return F.render(a.element,T,I).then(function(U){g.renderedCamera=U,x.execute(),y(null)}).catch(function(U){x.cancel(),C(U)})}).catch(function(F){x.cancel(),C(e0.errorGettingUserMedia(F))})}).catch(function(D){x.cancel(),C(e0.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Vi.PAUSED),this.showPausedState(),(jc(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Vi.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Vi.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var a=document.getElementById(Yo.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(jc(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var u=o.width,d=o.height,c=document.getElementById(r.elementId),h=c.clientWidth?c.clientWidth:Yo.DEFAULT_WIDTH,g=Math.max(c.clientHeight?c.clientHeight:d,Yo.FILE_SCAN_MIN_HEIGHT),x=r.computeCanvasDrawConfig(u,d,h,g);if(n){var y=r.createCanvasElement(h,g,"qr-canvas-visible");y.style.display="inline-block",c.appendChild(y);var C=y.getContext("2d");if(!C)throw"Unable to get 2d context from canvas";C.canvas.width=h,C.canvas.height=g,C.drawImage(o,0,0,u,d,x.x,x.y,x.width,x.height)}var E=Yo.FILE_SCAN_HIDDEN_CANVAS_PADDING,T=Math.max(o.width,x.width),I=Math.max(o.height,x.height),D=T+2*E,F=I+2*E,U=r.createCanvasElement(D,F);c.appendChild(U);var Z=U.getContext("2d");if(!Z)throw"Unable to get 2d context from canvas";Z.canvas.width=D,Z.canvas.height=F,Z.drawImage(o,0,0,u,d,E,E,T,I);try{r.qrcode.decodeRobustlyAsync(U).then(function(Q){i(KT.createFromQrcodeResult(Q))}).catch(a)}catch(Q){a("QR code parse error, error = ".concat(Q))}},o.onerror=a,o.onabort=a,o.onstalled=a,o.onsuspend=a,o.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Qfe.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!$L.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Bt.QR_CODE,Bt.AZTEC,Bt.CODABAR,Bt.CODE_39,Bt.CODE_93,Bt.CODE_128,Bt.DATA_MATRIX,Bt.MAXICODE,Bt.ITF,Bt.EAN_13,Bt.EAN_8,Bt.PDF_417,Bt.RSS_14,Bt.RSS_EXPANDED,Bt.UPC_A,Bt.UPC_E,Bt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,a=t.formatsToSupport;i<a.length;i++){var o=a[i];Rfe(o)?r.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(jc(t))return!0;if(!jc(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(jc(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return jc(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var i=this,a=r.qrbox;this.validateQrboxConfig(a);var o=this.toQrdimensions(t,n,a),u=function(c){if(c<Yo.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Yo.MIN_QR_BOX_SIZE,"px.")},d=function(c){return c>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),c=t),c};u(o.width),u(o.height),o.width=d(o.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var i=jc(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,n,i);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=r.isShadedBoxEnabled()&&a.height<=n,u={x:0,y:0,width:t,height:n},d=o?this.getShadedRegionBounds(t,n,a):u,c=this.createCanvasElement(d.width,d.height),h={willReadFrequently:!0},g=c.getContext("2d",h);g.canvas.width=d.width,g.canvas.height=d.height,this.element.append(c),o&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=d,this.context=g,this.canvasElement=c},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=e0.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,KT.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var a=e0.codeParseError(i);return n(a,HL.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),o=a.videoWidth/a.clientWidth,u=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var d=this.qrRegion.width*o,c=this.qrRegion.height*u,h=this.qrRegion.x*o,g=this.qrRegion.y*u;this.context.drawImage(a,h,g,d,c,0,0,this.qrRegion.width,this.qrRegion.height);var x=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,n,r)},i.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(y){!y&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){x()})):x()}).catch(function(y){i.logger.logError("Error happend while scanning context",y),x()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},a="exact",o=function(C){if(C in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(C,"'")},u=Object.keys(t);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var d=Object.keys(t)[0];if(d!==n&&d!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(d===n){var c=t.facingMode;if(typeof c=="string"){if(o(c))return{facingMode:c}}else if(typeof c=="object")if(a in c){if(o(c["".concat(a)]))return{facingMode:{exact:c["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var h=typeof c;throw"Invalid type of 'facingMode' = ".concat(h)}}else{var g=t.deviceId;if(typeof g=="string")return{deviceId:g};if(typeof g=="object"){if(a in g)return{deviceId:{exact:g["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var x=typeof g;throw"Invalid type of 'deviceId' = ".concat(x)}}}var y=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(y)},e.prototype.computeCanvasDrawConfig=function(t,n,r,i){if(t<=r&&n<=i){var a=(r-t)/2,o=(i-n)/2;return{x:a,y:o,width:t,height:n}}else{var u=t,d=n;return t>r&&(n=r/t*n,t=r),n>i&&(t=i/n*t,n=i),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(d)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Yo.BORDER_SHADER_MATCH_COLOR:Yo.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var i=t,a=n,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(a,"px"),o.style.display="none",o.id=jc(r)?"qr-canvas":r,o},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,i){if(!(n-i.width<1||r-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var o=(n-i.width)/2,u=(r-i.height)/2;if(a.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(Yo.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var d=5,c=40;this.insertShaderBorders(a,c,d,-d,null,0,!0),this.insertShaderBorders(a,c,d,-d,null,0,!1),this.insertShaderBorders(a,c,d,null,-d,0,!0),this.insertShaderBorders(a,c,d,null,-d,0,!1),this.insertShaderBorders(a,d,c+d,-d,null,-d,!0),this.insertShaderBorders(a,d,c+d,null,-d,-d,!0),this.insertShaderBorders(a,d,c+d,-d,null,-d,!1),this.insertShaderBorders(a,d,c+d,null,-d,-d,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,r,i,a,o,u){var d=document.createElement("div");d.style.position="absolute",d.style.backgroundColor=Yo.BORDER_SHADER_DEFAULT_COLOR,d.style.width="".concat(n,"px"),d.style.height="".concat(r,"px"),i!==null&&(d.style.top="".concat(i,"px")),a!==null&&(d.style.bottom="".concat(a,"px")),u?d.style.left="".concat(o,"px"):d.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(d),t.appendChild(d)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),kA="data:image/svg+xml;base64,",ide=kA+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",ade=kA+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",sI=kA+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",sde="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",oI=(function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e})(),ode=(function(){function e(){this.data=oI.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=oI.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e})(),lde=(function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=ZT.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var a=document.createElement("a");a.innerText=ZT.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e})(),cde=(function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=sI,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=sde,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=sI,this.infoIcon.style.opacity="0.6")},e})(),ude=(function(){function e(){var t=this;this.infoDiv=new lde,this.infoIcon=new cde(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e})(),fde=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{c(r.next(h))}catch(g){o(g)}}function d(h){try{c(r.throw(h))}catch(g){o(g)}}function c(h){h.done?a(h.value):i(h.value).then(u,d)}c((r=r.apply(e,t||[])).next())})},dde=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return d([c,h])}}function d(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(h){c=[6,h],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},lI=(function(){function e(){}return e.hasPermissions=function(){return fde(this,void 0,void 0,function(){var t,n,r,i;return dde(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=a.sent(),n=0,r=t;n<r.length;n++)if(i=r[n],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},e})(),bf=(function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===Df.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Df.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Xl.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Xl.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,i=t;r<i.length;r++){var a=i[r];if(!Xl.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return t},e})(),Qo=(function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e})(),Su=(function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(Qo.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e})(),VL=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(h){try{c(r.next(h))}catch(g){o(g)}}function d(h){try{c(r.throw(h))}catch(g){o(g)}}function c(h){h.done?a(h.value):i(h.value).then(u,d)}c((r=r.apply(e,t||[])).next())})},YL=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return d([c,h])}}function d(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(h){c=[6,h],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},cI=(function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return VL(this,void 0,void 0,function(){var t,n;return YL(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?Br.torchOffButton():Br.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?Br.torchOnFailedMessage():Br.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e})(),hde=(function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=Su.createElement("button",Qo.TORCH_BUTTON_ID),this.torchController=new cI(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=Br.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var i=this;this.torchButton.addEventListener("click",function(a){return VL(r,void 0,void 0,function(){return YL(this,function(o){switch(o.label){case 0:return[4,i.torchController.flipState()];case 1:return o.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(Qo.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(Qo.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(Qo.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(Qo.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new cI(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Br.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,i){var a=new e(n,i);return a.render(t,r),a},e})(),pde=(function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=Su.createElement("button",Qo.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(u){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=Su.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(u){if(!(u==null||u.target==null)){var d=u.target;if(!(d.files&&d.files.length===0)){var c=d.files,h=c[0],g=h.name;a.setImageNameToButton(g),r(h)}}});var o=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o),this.fileBasedScanRegion.addEventListener("dragenter",function(u){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(u){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(u){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(u){u.stopPropagation(),u.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var d=u.dataTransfer;if(d){var c=d.files;if(!c||c.length===0)return;for(var h=!1,g=0;g<c.length;++g){var x=c.item(g);if(x){var y=/image.*/;if(x.type.match(y)){h=!0;var C=x.name;a.setImageNameToButton(C),r(x),o.innerText=Br.dragAndDropMessage();break}}}h||(o.innerText=Br.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Br.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),i=t.length,a=t.substring(i-8,i);t="".concat(r,"....").concat(a)}var o=Br.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=o},e.prototype.setInitialValueToButton=function(){var t=Br.fileSelectionChooseImage()+" - "+Br.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var i=new e(t,n,r);return i},e})(),mde=(function(){function e(t){this.selectElement=Su.createElement("select",Qo.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var i=Br.selectCamera();n.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var a=1,o=0,u=this.cameras;o<u.length;o++){var d=u[o],c=d.id,h=d.label==null?c:d.label;(!h||h==="")&&(h=[Br.anonymousCameraPrefix(),a++].join(" "));var g=document.createElement("option");g.value=c,g.innerText=h,this.options.push(g),this.selectElement.appendChild(g)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var i=r[n];if(i.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e})(),gde=(function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Su.createElement("input",Qo.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Br.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Br.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,i){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e})(),Xo;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Xo||(Xo={}));function vde(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function yde(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var bde=(function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new bf(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new GL(this.verbose),this.persistedDataManager=new ode,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,o){if(t)t(a,o);else{if(r.lastMatchFound===a)return;r.lastMatchFound=a,r.setHeaderMessage(Br.lastMatch(a),Xo.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,o){n&&n(a,o)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new aI(this.getScanRegionId(),yde(this.config,this.verbose))},e.prototype.pause=function(t){(jc(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(a){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(a){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",a),i(a)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Xl.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Xl.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Xl.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Xl.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Xl.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Xl.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Xl.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),bf.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),a=this.getDashboardId();i.id=a,i.style.width="100%",t.appendChild(i),this.setupInitialDashboard(i)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new ude;r.renderInto(n);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",n.appendChild(i)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(Br.cameraPermissionRequesting());var a=function(){r||i.createPermissionButton(t,n)};aI.getCameras().then(function(o){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),o&&o.length>0?(t.removeChild(n),i.renderCameraSelection(o)):(i.setHeaderMessage(Br.noCameraFound(),Xo.STATUS_WARNING),a())}).catch(function(o){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:a(),i.setHeaderMessage(o,Xo.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,i=Su.createElement("button",this.getCameraPermissionButtonId());i.innerText=Br.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(t,n,i)}),n.appendChild(i)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(bf.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){lI.hasPermissions().then(function(i){i?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=bf.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=bf.isFileScanType(this.currentScanType),r=this,i=function(a){if(!r.html5Qrcode)throw"html5Qrcode not defined";bf.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Br.loadingImage()),r.html5Qrcode.scanFileV2(a,!0).then(function(o){r.resetHeaderMessage(),r.qrCodeSuccessCallback(o.decodedText,o)}).catch(function(o){r.setHeaderMessage(o,Xo.STATUS_WARNING),r.qrCodeErrorCallback(o,HL.createFrom(o))}))};this.fileSelectionUi=pde.create(t,n,i)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var a=gde.create(i,!1),o=function(E){var T=E.zoomFeature();if(T.isSupported()){a.setOnCameraZoomValueChangeCallback(function(D){T.apply(D)});var I=1;n.config.defaultZoomValueIfSupported&&(I=n.config.defaultZoomValueIfSupported),I=Dfe(I,T.min(),T.max()),a.setValues(T.min(),T.max(),I,T.step()),a.show()}},u=mde.create(i,t),d=document.createElement("span"),c=Su.createElement("button",Qo.CAMERA_START_BUTTON_ID);c.innerText=Br.scanButtonStartScanningText(),d.appendChild(c);var h=Su.createElement("button",Qo.CAMERA_STOP_BUTTON_ID);h.innerText=Br.scanButtonStopScanningText(),h.style.display="none",h.disabled=!0,d.appendChild(h);var g,x=function(E){if(!E.torchFeature().isSupported()){g&&g.hide();return}g?g.updateTorchCapability(E.torchFeature()):g=hde.create(d,E.torchFeature(),{display:"none",marginLeft:"5px"},function(T){r.setHeaderMessage(T,Xo.STATUS_WARNING)}),g.show()};i.appendChild(d);var y=function(E){E||(c.style.display="none"),c.innerText=Br.scanButtonStartScanningText(),c.style.opacity="1",c.disabled=!1,E&&(c.style.display="inline-block")};if(c.addEventListener("click",function(E){c.innerText=Br.scanButtonScanningStarting(),u.disable(),c.disabled=!0,c.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var T=u.getValue();r.persistedDataManager.setLastUsedCameraId(T),r.html5Qrcode.start(T,vde(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(I){h.disabled=!1,h.style.display="inline-block",y(!1);var D=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&x(D),n.config.showZoomSliderIfSupported===!0&&o(D)}).catch(function(I){r.showHideScanTypeSwapLink(!0),u.enable(),y(!0),r.setHeaderMessage(I,Xo.STATUS_WARNING)})}),u.hasSingleItem()&&c.click(),h.addEventListener("click",function(E){if(!r.html5Qrcode)throw"html5Qrcode not defined";h.disabled=!0,r.html5Qrcode.stop().then(function(T){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),u.enable(),c.disabled=!1,h.style.display="none",c.style.display="inline-block",g&&(g.reset(),g.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(T){h.disabled=!1,r.setHeaderMessage(T,Xo.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var C=r.persistedDataManager.getLastUsedCameraId();u.hasValue(C)?(u.setValue(C),c.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Br.textIfCameraScanSelected(),r=Br.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var o=Su.createElement("span",this.getDashboardSectionSwapLinkId());o.style.textDecoration="underline",o.style.cursor="pointer",o.innerText=bf.isCameraScanType(this.currentScanType)?n:r,o.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,bf.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),o.innerText=r,t.currentScanType=Df.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),o.innerText=n,t.currentScanType=Df.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),a.appendChild(o),i.appendChild(a)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){lI.hasPermissions().then(function(r){if(r){var i=document.getElementById(n.getCameraPermissionButtonId());if(!i)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=Xo.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case Xo.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case Xo.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case Xo.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=ide,this.cameraScanImage.alt=Br.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=ade,this.fileScanImage.alt=Br.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Qo.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Qo.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e})();function xde({isOpen:e,onClose:t,onScan:n}){const r=R.useRef(null);return R.useEffect(()=>{if(e){const i=setTimeout(()=>{r.current=new bde("qr-reader-quick-entry",{fps:10,qrbox:{width:300,height:150},rememberLastUsedCamera:!0,supportedScanTypes:[]},!1),r.current.render(a=>{r.current&&r.current.pause(!0),n(a)},a=>{})},100);return()=>{clearTimeout(i),r.current&&r.current.clear().catch(a=>console.error("Failed to clear scanner",a))}}},[e,n]),e?_.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/80 backdrop-blur-sm p-4 animate-in fade-in",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden flex flex-col animate-in zoom-in-95",children:[_.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-100",children:[_.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[_.jsx(jM,{className:"h-5 w-5"}),_.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Escanear Cdigo / Gua"})]}),_.jsx("button",{onClick:t,className:"p-2 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-full transition-colors",children:_.jsx(Ou,{className:"h-5 w-5"})})]}),_.jsx("div",{className:"p-4 bg-slate-50 flex items-center justify-center",children:_.jsx("div",{id:"qr-reader-quick-entry",className:"w-full bg-white rounded-xl overflow-hidden shadow-sm border border-slate-200"})}),_.jsx("div",{className:"p-4 bg-white border-t border-slate-100 text-center text-sm text-slate-500",children:"Apunta la cmara al cdigo de barras del paquete. El escaneo suceder automticamente."})]})}):null}const s5=(e="",t="")=>({id:Math.random().toString(36).substring(7),tracking:"",cliente_id:"",bodega_id:e,transportista_id:t,peso_lbs:"",largo_in:"",ancho_in:"",alto_in:"",piezas:"1",valor_declarado:"",es_fragil:!1,reempaque:!1,notas:"",clientSearch:"",clientResults:[],isSearchingClient:!1,showClientDropdown:!1});function wde(){const{user:e}=Aa(),[t,n]=R.useState([]),[r,i]=R.useState([]),[a,o]=R.useState([]),[u,d]=R.useState(!1),[c,h]=R.useState(""),[g,x]=R.useState(""),[y,C]=R.useState(!1),[E,T]=R.useState(null);R.useEffect(()=>{I()},[]);async function I(){try{const[ee,ae]=await Promise.all([Tt.from("bodegas").select("id, nombre").eq("activo",!0),Tt.from("transportistas").select("id, nombre").eq("activo",!0)]);let ie="",K="";ee.data&&ee.data.length>0&&(n(ee.data),ie=ee.data[0].id,h(ie)),ae.data&&ae.data.length>0&&(i(ae.data),K=ae.data[0].id,x(K)),o([s5(ie,K)])}catch(ee){console.error("Error fetching catalogs:",ee)}}const D=()=>{const ee=a[a.length-1],ae=ee?ee.bodega_id:c,ie=ee?ee.transportista_id:g,K=Math.random().toString(36).substring(7),ve=s5(ae,ie);ve.id=K,o(Te=>[...Te,ve]),setTimeout(()=>{const Te=document.getElementById(`tracking-${K}`);Te&&Te.focus()},50)},F=ee=>{a.length!==1&&o(a.filter(ae=>ae.id!==ee))},U=(ee,ae,ie)=>{o(K=>K.map(ve=>ve.id===ee?{...ve,[ae]:ie}:ve))},Z=(ee,ae)=>{U(ee,"clientSearch",ae),U(ee,"cliente_id",""),ae.length>=2?(U(ee,"isSearchingClient",!0),setTimeout(()=>Q(ee,ae),400)):(U(ee,"clientResults",[]),U(ee,"showClientDropdown",!1))},Q=async(ee,ae)=>{try{const{data:ie,error:K}=await Tt.from("clientes").select("id, locker_id, nombre, apellido").or(`locker_id.ilike.%${ae}%,nombre.ilike.%${ae}%,apellido.ilike.%${ae}%`).eq("activo",!0).limit(8);!K&&ie&&o(ve=>ve.map(Te=>Te.id===ee?{...Te,clientResults:ie,showClientDropdown:!0,isSearchingClient:!1}:Te))}catch(ie){console.error("Search error:",ie)}},Y=(ee,ae)=>{o(ie=>ie.map(K=>K.id===ee?{...K,cliente_id:ae.id,clientSearch:`${ae.locker_id} - ${ae.nombre} ${ae.apellido}`,showClientDropdown:!1,clientResults:[]}:K)),setTimeout(()=>{const ie=document.getElementById(`peso-${ee}`);ie&&ie.focus()},50)},J=(ee,ae,ie,K)=>{if(ee.key==="Enter"){if(ee.preventDefault(),ie==="tracking"){const ve=document.getElementById(`client-${ae}`);ve&&ve.focus()}else if(ie==="client"){const ve=document.getElementById(`peso-${ae}`);ve&&ve.focus()}else if(ie==="peso")if(K===a.length-1)a[K].tracking.trim()!==""&&D();else{const Te=a[K+1].id,we=document.getElementById(`tracking-${Te}`);we&&we.focus()}}},q=ee=>{T(ee),C(!0)},oe=ee=>{E&&(U(E,"tracking",ee),C(!1),T(null),setTimeout(()=>{const ae=document.getElementById(`client-${E}`);ae&&ae.focus()},100))},H=ee=>{setTimeout(()=>{U(ee,"showClientDropdown",!1)},200)},G=async()=>{const ee=a.filter(ae=>ae.tracking.trim()!==""&&ae.cliente_id!=="");if(ee.length===0){alert("Debes completar al menos una fila con Tracking y Cliente vlido (casillero asignado).");return}try{d(!0);const ae=ee.map(K=>{let ve=null;const Te=parseFloat(K.largo_in)||0,we=parseFloat(K.ancho_in)||0,ue=parseFloat(K.alto_in)||0;return Te>0&&we>0&&ue>0&&(ve=Te*we*ue/166),{tracking:K.tracking.trim(),cliente_id:K.cliente_id,bodega_id:K.bodega_id||c,transportista_id:K.transportista_id||g,peso_lbs:parseFloat(K.peso_lbs)||null,largo_in:Te||null,ancho_in:we||null,alto_in:ue||null,peso_volumetrico:ve,piezas:parseInt(K.piezas)||1,valor_declarado:parseFloat(K.valor_declarado)||null,es_fragil:K.es_fragil,reempaque:K.reempaque,notas:K.notas,estado:"en_bodega",usuario_recepcion:(e==null?void 0:e.id)==="admin-001"?null:e==null?void 0:e.id}}),{error:ie}=await Tt.from("paquetes").insert(ae);if(ie)throw ie;alert(`xito! ${ae.length} paquete(s) guardado(s) correctamente.`),o([s5(c,g)])}catch(ae){console.error("Error saving batch:",ae),alert("Error inesperado al guardar el lote: "+ae.message)}finally{d(!1)}},fe=ee=>{if(ee===a.length-1){const ae=a[ee];(ae.tracking!==""||ae.cliente_id!=="")&&D()}};return _.jsxs("div",{className:"space-y-6 max-w-[1400px] mx-auto pb-10",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Multi-Entry (Bulk)"}),_.jsxs("p",{className:"text-sm text-slate-500",children:["Ingreso masivo de paquetes en matriz optimizada para lectores ",_.jsx(HG,{className:"inline h-3 w-3 mx-0.5 text-slate-400"})," y cmara."]})]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsxs("button",{onClick:D,className:"inline-flex items-center gap-2 rounded-md bg-white px-4 py-2 text-sm font-medium text-slate-700 shadow-sm ring-1 ring-inset ring-slate-300 hover:bg-slate-50",children:[_.jsx(E0,{className:"h-4 w-4"}),"Aadir Fila"]}),_.jsxs("button",{disabled:u,onClick:G,className:"inline-flex items-center gap-2 rounded-md bg-blue-600 px-6 py-2 text-sm font-bold text-white shadow-sm hover:bg-blue-500 disabled:opacity-50 transition-colors",children:[u?_.jsx(Ss,{className:"h-4 w-4 animate-spin"}):_.jsx(Pf,{className:"h-4 w-4"}),u?"Procesando...":"Guardar Lote Completo"]})]})]}),_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden",children:[_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[_.jsx("thead",{className:"bg-slate-50 text-slate-600 border-b border-slate-200",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-4 py-3 font-semibold w-12 text-center",children:"#"}),_.jsx("th",{className:"px-4 py-3 font-semibold w-40",children:"Bodega de Salida"}),_.jsxs("th",{className:"px-4 py-3 font-semibold min-w-[200px]",children:["Tracking Number ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsxs("th",{className:"px-4 py-3 font-semibold min-w-[240px]",children:["Cliente / Locker ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("th",{className:"px-4 py-3 font-semibold w-24",children:"Peso(lbs)"}),_.jsx("th",{className:"px-4 py-3 font-semibold w-36",children:"Dim(L,W,H)"}),_.jsx("th",{className:"px-4 py-3 font-semibold w-20",children:"Pz"}),_.jsx("th",{className:"px-4 py-3 font-semibold w-24",children:"Frgil/Re"}),_.jsx("th",{className:"px-4 py-3 font-semibold w-12 text-center"})]})}),_.jsx("tbody",{className:"divide-y divide-slate-100",children:a.map((ee,ae)=>_.jsxs("tr",{className:"hover:bg-blue-50/10 transition-colors group",children:[_.jsx("td",{className:"px-4 py-2 text-center text-slate-400 font-medium",children:ae+1}),_.jsx("td",{className:"px-4 py-2",children:_.jsx("select",{value:ee.bodega_id,onChange:ie=>U(ee.id,"bodega_id",ie.target.value),className:"block w-full rounded-md border-0 py-1.5 px-2 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-xs",children:t.map(ie=>_.jsx("option",{value:ie.id,children:ie.nombre},ie.id))})}),_.jsx("td",{className:"px-4 py-2",children:_.jsxs("div",{className:"flex gap-1.5",children:[_.jsx("input",{id:`tracking-${ee.id}`,type:"text",className:"block w-full rounded-md border-0 py-1.5 px-3 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 placeholder:text-slate-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm font-medium",placeholder:"Escanea o escribe...",value:ee.tracking,onChange:ie=>{U(ee.id,"tracking",ie.target.value),fe(ae)},onKeyDown:ie=>J(ie,ee.id,"tracking",ae)}),_.jsx("button",{type:"button",onClick:()=>q(ee.id),className:"p-1.5 rounded-md text-slate-400 hover:text-blue-600 hover:bg-blue-50 border border-slate-200",title:"Usar Cmara (Scan ptico)",children:_.jsx(jM,{className:"h-4 w-4"})})]})}),_.jsx("td",{className:"px-4 py-2",children:_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-y-0 left-0 pl-2 flex items-center pointer-events-none",children:_.jsx(Id,{className:"h-3 w-3 text-slate-400"})}),_.jsx("input",{id:`client-${ee.id}`,type:"text",className:`block w-full rounded-md border-0 py-1.5 pl-7 pr-3 text-slate-900 shadow-sm ring-1 ring-inset focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm ${!ee.cliente_id&&ee.clientSearch?"ring-yellow-400":"ring-slate-300"}`,placeholder:"Buscar YBG...",value:ee.clientSearch,onChange:ie=>Z(ee.id,ie.target.value),onBlur:()=>H(ee.id),onKeyDown:ie=>J(ie,ee.id,"client",ae),autoComplete:"off"}),ee.isSearchingClient&&_.jsx("div",{className:"absolute inset-y-0 right-0 pr-2 flex items-center pointer-events-none",children:_.jsx(Ss,{className:"h-3 w-3 text-slate-400 animate-spin"})}),ee.showClientDropdown&&ee.clientResults.length>0&&_.jsx("div",{className:"absolute z-50 w-full lg:w-[350px] mt-1 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none max-h-60 overflow-auto",children:_.jsx("ul",{className:"py-1",children:ee.clientResults.map(ie=>_.jsx("li",{onMouseDown:()=>Y(ee.id,ie),className:"text-slate-900 hover:bg-blue-50 cursor-pointer select-none relative py-2 pl-3 pr-3 border-b border-slate-50 last:border-0",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"font-bold text-blue-700",children:ie.locker_id}),_.jsxs("span",{className:"text-sm text-slate-700 truncate",children:[ie.nombre," ",ie.apellido]})]})},ie.id))})})]})}),_.jsx("td",{className:"px-4 py-2",children:_.jsx("input",{id:`peso-${ee.id}`,type:"number",step:"0.01",className:"block w-full rounded-md border-0 py-1.5 px-2 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-xs",placeholder:"0.00",value:ee.peso_lbs,onChange:ie=>U(ee.id,"peso_lbs",ie.target.value),onKeyDown:ie=>J(ie,ee.id,"peso",ae)})}),_.jsx("td",{className:"px-4 py-2",children:_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx("input",{type:"number",className:"block w-1/3 rounded-md border-0 py-1.5 px-1.5 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-xs text-center",placeholder:"L",value:ee.largo_in,onChange:ie=>U(ee.id,"largo_in",ie.target.value),title:"Largo"}),_.jsx("input",{type:"number",className:"block w-1/3 rounded-md border-0 py-1.5 px-1.5 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-xs text-center",placeholder:"W",value:ee.ancho_in,onChange:ie=>U(ee.id,"ancho_in",ie.target.value),title:"Ancho"}),_.jsx("input",{type:"number",className:"block w-1/3 rounded-md border-0 py-1.5 px-1.5 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-xs text-center",placeholder:"H",value:ee.alto_in,onChange:ie=>U(ee.id,"alto_in",ie.target.value),title:"Alto"})]})}),_.jsx("td",{className:"px-4 py-2",children:_.jsx("input",{type:"number",min:"1",className:"block w-full rounded-md border-0 py-1.5 px-2 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-xs text-center",value:ee.piezas,onChange:ie=>U(ee.id,"piezas",ie.target.value)})}),_.jsx("td",{className:"px-4 py-2",children:_.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[_.jsxs("label",{title:"Frgil",className:"flex items-center cursor-pointer",children:[_.jsx("input",{type:"checkbox",className:"h-3.5 w-3.5 rounded border-slate-300 text-red-500 focus:ring-red-500 cursor-pointer",checked:ee.es_fragil,onChange:ie=>U(ee.id,"es_fragil",ie.target.checked)}),_.jsx("span",{className:"ml-1 text-[10px] uppercase text-slate-500 hidden sm:inline",children:"Fg"})]}),_.jsxs("label",{title:"Reempaque",className:"flex items-center cursor-pointer",children:[_.jsx("input",{type:"checkbox",className:"h-3.5 w-3.5 rounded border-slate-300 text-blue-600 focus:ring-blue-600 cursor-pointer",checked:ee.reempaque,onChange:ie=>U(ee.id,"reempaque",ie.target.checked)}),_.jsx("span",{className:"ml-1 text-[10px] uppercase text-slate-500 hidden sm:inline",children:"Rm"})]})]})}),_.jsx("td",{className:"px-4 py-2 text-center",children:_.jsx("button",{onClick:()=>F(ee.id),disabled:a.length===1,className:"text-slate-400 hover:text-red-500 transition-colors disabled:opacity-30 disabled:hover:text-slate-400",title:"Eliminar fila",children:_.jsx(T3,{className:"h-4 w-4"})})})]},ee.id))})]})}),_.jsxs("div",{className:"bg-slate-50 border-t border-slate-200 p-4 flex items-center justify-between",children:[_.jsxs("p",{className:"text-sm text-slate-500",children:["Mostrando ",_.jsx("span",{className:"font-medium text-slate-900",children:a.length})," fila(s) para captura de datos."]}),_.jsxs("p",{className:"text-sm text-slate-500",children:["Puedes conectar una pistola de cdigo de barras lser. El sistema usar la tecla ",_.jsx("kbd",{className:"font-mono bg-white border border-slate-300 px-1 rounded mx-1",children:"Enter"})," para saltar gilmente."]})]})]}),_.jsx(xde,{isOpen:y,onClose:()=>{C(!1),T(null)},onScan:oe})]})}const XL=6048e5,_de=864e5,KL=6e4,ZL=36e5,uI=Symbol.for("constructDateFrom");function El(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&uI in e?e[uI](t):e instanceof Date?new e.constructor(t):new Date(t)}function Io(e,t){return El(t||e,e)}function Sde(e,t,n){const r=Io(e,n==null?void 0:n.in);if(isNaN(t))return El(e,NaN);const i=r.getDate(),a=El(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const o=a.getDate();return i>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}let Ade={};function qy(){return Ade}function Ap(e,t){var u,d,c,h;const n=qy(),r=(t==null?void 0:t.weekStartsOn)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??0,i=Io(e,t==null?void 0:t.in),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function M2(e,t){return Ap(e,{...t,weekStartsOn:1})}function QL(e,t){const n=Io(e,t==null?void 0:t.in),r=n.getFullYear(),i=El(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=M2(i),o=El(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const u=M2(o);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function fI(e){const t=Io(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function JL(e,...t){const n=El.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function dI(e,t){const n=Io(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function Ede(e,t,n){const[r,i]=JL(n==null?void 0:n.in,e,t),a=dI(r),o=dI(i),u=+a-fI(a),d=+o-fI(o);return Math.round((u-d)/_de)}function Cde(e,t){const n=QL(e,t),r=El(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),M2(r)}function Nde(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ode(e){return!(!Nde(e)&&typeof e!="number"||isNaN(+Io(e)))}function Tde(e,t){const[n,r]=JL(e,t.start,t.end);return{start:n,end:r}}function Ide(e,t){const{start:n,end:r}=Tde(t==null?void 0:t.in,e);let i=+n>+r;const a=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0),o.setDate(1);let u=1;const d=[];for(;+o<=a;)d.push(El(n,o)),o.setMonth(o.getMonth()+u);return i?d.reverse():d}function jde(e,t){const n=Io(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const kde={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Mde=(e,t,n)=>{let r;const i=kde[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function a0(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Pde={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Rde={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Dde={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Lde={date:a0({formats:Pde,defaultWidth:"full"}),time:a0({formats:Rde,defaultWidth:"full"}),dateTime:a0({formats:Dde,defaultWidth:"full"})},Bde={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Fde=(e,t,n,r)=>Bde[e];function kc(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):o;i=e.formattingValues[u]||e.formattingValues[o]}else{const o=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[u]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const Ude={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zde={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Hde={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Gde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$de={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Wde=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Vde={ordinalNumber:Wde,era:kc({values:Ude,defaultWidth:"wide"}),quarter:kc({values:zde,defaultWidth:"wide",argumentCallback:e=>e-1}),month:kc({values:qde,defaultWidth:"wide"}),day:kc({values:Hde,defaultWidth:"wide"}),dayPeriod:kc({values:Gde,defaultWidth:"wide",formattingValues:$de,defaultFormattingWidth:"wide"})};function Mc(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?Xde(u,g=>g.test(o)):Yde(u,g=>g.test(o));let c;c=e.valueCallback?e.valueCallback(d):d,c=n.valueCallback?n.valueCallback(c):c;const h=t.slice(o.length);return{value:c,rest:h}}}function Yde(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Xde(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function e9(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const u=t.slice(i.length);return{value:o,rest:u}}}const Kde=/^(\d+)(th|st|nd|rd)?/i,Zde=/\d+/i,Qde={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Jde={any:[/^b/i,/^(a|c)/i]},ehe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},the={any:[/1/i,/2/i,/3/i,/4/i]},nhe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rhe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ihe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ahe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},she={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ohe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lhe={ordinalNumber:e9({matchPattern:Kde,parsePattern:Zde,valueCallback:e=>parseInt(e,10)}),era:Mc({matchPatterns:Qde,defaultMatchWidth:"wide",parsePatterns:Jde,defaultParseWidth:"any"}),quarter:Mc({matchPatterns:ehe,defaultMatchWidth:"wide",parsePatterns:the,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Mc({matchPatterns:nhe,defaultMatchWidth:"wide",parsePatterns:rhe,defaultParseWidth:"any"}),day:Mc({matchPatterns:ihe,defaultMatchWidth:"wide",parsePatterns:ahe,defaultParseWidth:"any"}),dayPeriod:Mc({matchPatterns:she,defaultMatchWidth:"any",parsePatterns:ohe,defaultParseWidth:"any"})},che={code:"en-US",formatDistance:Mde,formatLong:Lde,formatRelative:Fde,localize:Vde,match:lhe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function uhe(e,t){const n=Io(e,t==null?void 0:t.in);return Ede(n,jde(n))+1}function fhe(e,t){const n=Io(e,t==null?void 0:t.in),r=+M2(n)-+Cde(n);return Math.round(r/XL)+1}function t9(e,t){var h,g,x,y;const n=Io(e,t==null?void 0:t.in),r=n.getFullYear(),i=qy(),a=(t==null?void 0:t.firstWeekContainsDate)??((g=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(x=i.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,o=El((t==null?void 0:t.in)||e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const u=Ap(o,t),d=El((t==null?void 0:t.in)||e,0);d.setFullYear(r,0,a),d.setHours(0,0,0,0);const c=Ap(d,t);return+n>=+u?r+1:+n>=+c?r:r-1}function dhe(e,t){var u,d,c,h;const n=qy(),r=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??1,i=t9(e,t),a=El((t==null?void 0:t.in)||e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Ap(a,t)}function hhe(e,t){const n=Io(e,t==null?void 0:t.in),r=+Ap(n,t)-+dhe(n,t);return Math.round(r/XL)+1}function Lr(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const xf={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Lr(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Lr(n+1,2)},d(e,t){return Lr(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Lr(e.getHours()%12||12,t.length)},H(e,t){return Lr(e.getHours(),t.length)},m(e,t){return Lr(e.getMinutes(),t.length)},s(e,t){return Lr(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Lr(i,t.length)}},Bh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hI={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return xf.y(e,t)},Y:function(e,t,n,r){const i=t9(e,r),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return Lr(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Lr(a,t.length)},R:function(e,t){const n=QL(e);return Lr(n,t.length)},u:function(e,t){const n=e.getFullYear();return Lr(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Lr(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Lr(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return xf.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Lr(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=hhe(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Lr(i,t.length)},I:function(e,t,n){const r=fhe(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Lr(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):xf.d(e,t)},D:function(e,t,n){const r=uhe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Lr(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Lr(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Lr(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Lr(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Bh.noon:r===0?i=Bh.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Bh.evening:r>=12?i=Bh.afternoon:r>=4?i=Bh.morning:i=Bh.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return xf.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):xf.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Lr(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Lr(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):xf.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):xf.s(e,t)},S:function(e,t){return xf.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return mI(r);case"XXXX":case"XX":return md(r);case"XXXXX":case"XXX":default:return md(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return mI(r);case"xxxx":case"xx":return md(r);case"xxxxx":case"xxx":default:return md(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+pI(r,":");case"OOOO":default:return"GMT"+md(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+pI(r,":");case"zzzz":default:return"GMT"+md(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Lr(r,t.length)},T:function(e,t,n){return Lr(+e,t.length)}};function pI(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+Lr(a,2)}function mI(e,t){return e%60===0?(e>0?"-":"+")+Lr(Math.abs(e)/60,2):md(e,t)}function md(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Lr(Math.trunc(r/60),2),a=Lr(r%60,2);return n+i+t+a}const gI=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},n9=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},phe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return gI(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",gI(r,t)).replace("{{time}}",n9(i,t))},mhe={p:n9,P:phe},ghe=/^D+$/,vhe=/^Y+$/,yhe=["D","DD","YY","YYYY"];function bhe(e){return ghe.test(e)}function xhe(e){return vhe.test(e)}function whe(e,t,n){const r=_he(e,t,n);if(console.warn(r),yhe.includes(e))throw new RangeError(r)}function _he(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const She=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ahe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ehe=/^'([^]*?)'?$/,Che=/''/g,Nhe=/[a-zA-Z]/;function nl(e,t,n){var h,g,x,y,C,E,T,I;const r=qy(),i=(n==null?void 0:n.locale)??r.locale??che,a=(n==null?void 0:n.firstWeekContainsDate)??((g=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(x=r.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((E=(C=n==null?void 0:n.locale)==null?void 0:C.options)==null?void 0:E.weekStartsOn)??r.weekStartsOn??((I=(T=r.locale)==null?void 0:T.options)==null?void 0:I.weekStartsOn)??0,u=Io(e,n==null?void 0:n.in);if(!Ode(u))throw new RangeError("Invalid time value");let d=t.match(Ahe).map(D=>{const F=D[0];if(F==="p"||F==="P"){const U=mhe[F];return U(D,i.formatLong)}return D}).join("").match(She).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const F=D[0];if(F==="'")return{isToken:!1,value:Ohe(D)};if(hI[F])return{isToken:!0,value:D};if(F.match(Nhe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return{isToken:!1,value:D}});i.localize.preprocessor&&(d=i.localize.preprocessor(u,d));const c={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return d.map(D=>{if(!D.isToken)return D.value;const F=D.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&xhe(F)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&bhe(F))&&whe(F,t,String(e));const U=hI[F[0]];return U(u,F,i.localize,c)}).join("")}function Ohe(e){const t=e.match(Ehe);return t?t[1].replace(Che,"'"):e}function vI(e,t){const n=()=>El(t==null?void 0:t.in,NaN),i=khe(e);let a;if(i.date){const c=Mhe(i.date,2);a=Phe(c.restDateString,c.year)}if(!a||isNaN(+a))return n();const o=+a;let u=0,d;if(i.time&&(u=Rhe(i.time),isNaN(u)))return n();if(i.timezone){if(d=Dhe(i.timezone),isNaN(d))return n()}else{const c=new Date(o+u),h=Io(0,t==null?void 0:t.in);return h.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),h.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),h}return Io(o+u+d,t==null?void 0:t.in)}const xg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},The=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ihe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,jhe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function khe(e){const t={},n=e.split(xg.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],xg.timeZoneDelimiter.test(t.date)&&(t.date=e.split(xg.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=xg.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function Mhe(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function Phe(e,t){if(t===null)return new Date(NaN);const n=e.match(The);if(!n)return new Date(NaN);const r=!!n[4],i=j1(n[1]),a=j1(n[2])-1,o=j1(n[3]),u=j1(n[4]),d=j1(n[5])-1;if(r)return zhe(t,u,d)?Lhe(t,u,d):new Date(NaN);{const c=new Date(0);return!Fhe(t,a,o)||!Uhe(t,i)?new Date(NaN):(c.setUTCFullYear(t,a,Math.max(i,o)),c)}}function j1(e){return e?parseInt(e):1}function Rhe(e){const t=e.match(Ihe);if(!t)return NaN;const n=o5(t[1]),r=o5(t[2]),i=o5(t[3]);return qhe(n,r,i)?n*ZL+r*KL+i*1e3:NaN}function o5(e){return e&&parseFloat(e.replace(",","."))||0}function Dhe(e){if(e==="Z")return 0;const t=e.match(jhe);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return Hhe(r,i)?n*(r*ZL+i*KL):NaN}function Lhe(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,a=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const Bhe=[31,null,31,30,31,30,31,31,30,31,30,31];function r9(e){return e%400===0||e%4===0&&e%100!==0}function Fhe(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Bhe[t]||(r9(e)?29:28))}function Uhe(e,t){return t>=1&&t<=(r9(e)?366:365)}function zhe(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function qhe(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Hhe(e,t){return t>=0&&t<=59}function Ghe(e,t,n){return Sde(e,-5,n)}function $he(){const[e,t]=R.useState(!0),[n,r]=R.useState(""),[i,a]=R.useState({}),[o,u]=R.useState({});R.useEffect(()=>{d()},[]);async function d(){t(!0);try{const{data:g,error:x}=await Tt.from("paquetes").select(`
          id,
          tracking,
          peso_lbs,
          piezas,
          fecha_recepcion,
          transportistas(nombre),
          clientes(id, nombre, apellido, locker_id),
          bodegas(id, nombre)
        `).in("estado",["en_bodega","recibido"]).order("fecha_recepcion",{ascending:!1});if(x)throw x;if(g){const y=g.reduce((C,E)=>{var F,U;const T=((F=E.clientes)==null?void 0:F.locker_id)||"SIN_LOCKER",I=((U=E.bodegas)==null?void 0:U.id)||"SIN_BODEGA",D=`${T}_${I}`;return C[D]||(C[D]={cliente:E.clientes,bodega:E.bodegas,paquetes:[]}),C[D].paquetes.push(E),C},{});a(y)}}catch(g){console.error("Error fetching warehouse packages:",g)}finally{t(!1)}}const c=g=>{u(x=>({...x,[g]:!x[g]}))},h=Object.entries(i).filter(([g,x])=>{var D;const y=n.toLowerCase(),C=g.toLowerCase().includes(y),E=x.cliente?`${x.cliente.nombre} ${x.cliente.apellido}`.toLowerCase().includes(y):!1,T=(D=x.bodega)==null?void 0:D.nombre.toLowerCase().includes(y),I=x.paquetes.some(F=>F.tracking.toLowerCase().includes(y));return C||E||T||I});return _.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto pb-10",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Warehouse"}),_.jsx("p",{className:"text-sm text-slate-500",children:"Agrupacin temporal de paquetes por cliente y bodega."})]}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:_.jsx(Id,{className:"h-4 w-4 text-slate-400","aria-hidden":"true"})}),_.jsx("input",{type:"text",className:"block w-full rounded-full border-0 py-2 pl-10 pr-4 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 placeholder:text-slate-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6 min-w-[300px]",placeholder:"Buscar casillero, nombre, bodega o tracking...",value:n,onChange:g=>r(g.target.value)})]})]}),e?_.jsx("div",{className:"flex justify-center items-center py-20",children:_.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"})}):h.length===0?_.jsxs("div",{className:"text-center bg-white rounded-xl border border-slate-200 py-16 px-6 shadow-sm",children:[_.jsx(Y2,{className:"mx-auto h-12 w-12 text-slate-300"}),_.jsx("h3",{className:"mt-4 text-sm font-semibold text-slate-900",children:"No hay paquetes en bodega"}),_.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Todos los paquetes han sido consolidados o la bsqueda no arroj resultados."})]}):_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:h.map(([g,x])=>{var E,T;const y=!!o[g],C=((E=x.cliente)==null?void 0:E.locker_id)||"SIN_LOCKER";return _.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden hover:shadow-md transition-shadow duration-200 flex flex-col",children:[_.jsxs("div",{className:"p-5 cursor-pointer flex-none select-none hover:bg-slate-50/50",onClick:()=>c(g),children:[_.jsx("div",{className:"flex items-start justify-between mb-3",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-50 border border-blue-100 flex items-center justify-center flex-shrink-0",children:_.jsx(Jl,{className:"h-5 w-5 text-blue-600"})}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("h3",{className:"text-lg font-bold text-slate-900 transition-colors",children:C}),_.jsx("span",{className:"inline-flex items-center rounded-md bg-slate-100 px-2 py-0.5 text-[10px] font-bold text-slate-600 uppercase tracking-wider",children:((T=x.bodega)==null?void 0:T.nombre)||"Desconocida"})]}),x.cliente?_.jsxs("p",{className:"text-sm font-medium text-slate-600 mt-0.5",children:[x.cliente.nombre," ",x.cliente.apellido]}):_.jsx("p",{className:"text-sm text-red-500 font-medium mt-0.5",children:"Cliente Desconocido"})]})]})}),_.jsxs("div",{className:"flex items-center justify-between text-xs font-medium text-slate-500 uppercase tracking-wider border-t border-slate-100 pt-3",children:[_.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[_.jsx(Fc,{className:"h-4 w-4"}),_.jsxs("span",{className:"font-bold",children:[x.paquetes.length," pz"]})]}),_.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[_.jsx("span",{children:y?"Ocultar":"Ver Contenido"}),y?_.jsx(bG,{className:"h-4 w-4"}):_.jsx(gG,{className:"h-4 w-4"})]})]})]}),y&&_.jsx("div",{className:"bg-slate-50 border-t border-slate-200 p-4 flex-1",children:_.jsx("div",{className:"space-y-3",children:x.paquetes.map(I=>{var D;return _.jsxs("div",{className:"bg-white rounded-lg p-3 border border-slate-200 shadow-sm flex flex-col gap-2",children:[_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Fc,{className:"h-4 w-4 text-slate-400"}),_.jsx("span",{className:"text-sm font-bold text-slate-800 break-all",children:I.tracking})]}),I.peso_lbs&&_.jsxs("span",{className:"text-xs font-semibold bg-slate-100 text-slate-600 rounded px-1.5 py-0.5 whitespace-nowrap",children:[I.peso_lbs," lbs"]})]}),_.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx(jp,{className:"h-3 w-3"}),_.jsx("span",{children:((D=I.transportistas)==null?void 0:D.nombre)||"Desconocido"})]}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx(ap,{className:"h-3 w-3"}),_.jsx("span",{children:I.fecha_recepcion?nl(new Date(I.fecha_recepcion),"dd/MM/yyyy"):"N/A"})]})]})]},I.id)})})})]},g)})})]})}const Whe={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},Vhe=(e,t,n)=>{let r;const i=Whe[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},Yhe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},Xhe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Khe={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Zhe={date:a0({formats:Yhe,defaultWidth:"full"}),time:a0({formats:Xhe,defaultWidth:"full"}),dateTime:a0({formats:Khe,defaultWidth:"full"})},Qhe={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Jhe={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},e0e=(e,t,n,r)=>t.getHours()!==1?Jhe[e]:Qhe[e],t0e={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},n0e={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},r0e={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},i0e={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},a0e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},s0e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},o0e=(e,t)=>Number(e)+"",l0e={ordinalNumber:o0e,era:kc({values:t0e,defaultWidth:"wide"}),quarter:kc({values:n0e,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:kc({values:r0e,defaultWidth:"wide"}),day:kc({values:i0e,defaultWidth:"wide"}),dayPeriod:kc({values:a0e,defaultWidth:"wide",formattingValues:s0e,defaultFormattingWidth:"wide"})},c0e=/^(\d+)()?/i,u0e=/\d+/i,f0e={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},d0e={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},h0e={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},p0e={any:[/1/i,/2/i,/3/i,/4/i]},m0e={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},g0e={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},v0e={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},y0e={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},b0e={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},x0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},w0e={ordinalNumber:e9({matchPattern:c0e,parsePattern:u0e,valueCallback:function(e){return parseInt(e,10)}}),era:Mc({matchPatterns:f0e,defaultMatchWidth:"wide",parsePatterns:d0e,defaultParseWidth:"any"}),quarter:Mc({matchPatterns:h0e,defaultMatchWidth:"wide",parsePatterns:p0e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Mc({matchPatterns:m0e,defaultMatchWidth:"wide",parsePatterns:g0e,defaultParseWidth:"any"}),day:Mc({matchPatterns:v0e,defaultMatchWidth:"wide",parsePatterns:y0e,defaultParseWidth:"any"}),dayPeriod:Mc({matchPatterns:b0e,defaultMatchWidth:"any",parsePatterns:x0e,defaultParseWidth:"any"})},Lf={code:"es",formatDistance:Vhe,formatLong:Zhe,formatRelative:e0e,localize:l0e,match:w0e,options:{weekStartsOn:1,firstWeekContainsDate:1}};var wg={},k1={},_g={},yI;function al(){if(yI)return _g;yI=1,Object.defineProperty(_g,"__esModule",{value:!0});function e(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}var t=function n(r,i){e(this,n),this.data=r,this.text=i.text||r,this.options=i};return _g.default=t,_g}var bI;function _0e(){if(bI)return k1;bI=1,Object.defineProperty(k1,"__esModule",{value:!0}),k1.CODE39=void 0;var e=(function(){function E(T,I){for(var D=0;D<I.length;D++){var F=I[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(T,F.key,F)}}return function(T,I,D){return I&&E(T.prototype,I),D&&E(T,D),T}})(),t=al(),n=r(t);function r(E){return E&&E.__esModule?E:{default:E}}function i(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function a(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function o(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var u=(function(E){o(T,E);function T(I,D){return i(this,T),I=I.toUpperCase(),D.mod43&&(I+=x(C(I))),a(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,I,D))}return e(T,[{key:"encode",value:function(){for(var D=h("*"),F=0;F<this.data.length;F++)D+=h(this.data[F])+"0";return D+=h("*"),{data:D,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),T})(n.default),d=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],c=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function h(E){return g(y(E))}function g(E){return c[E].toString(2)}function x(E){return d[E]}function y(E){return d.indexOf(E)}function C(E){for(var T=0,I=0;I<E.length;I++)T+=y(E[I]);return T=T%43,T}return k1.CODE39=u,k1}var Gl={},Sg={},Ag={},Wi={},xI;function Zp(){if(xI)return Wi;xI=1,Object.defineProperty(Wi,"__esModule",{value:!0});var e;function t(d,c,h){return c in d?Object.defineProperty(d,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[c]=h,d}var n=Wi.SET_A=0,r=Wi.SET_B=1,i=Wi.SET_C=2;Wi.SHIFT=98;var a=Wi.START_A=103,o=Wi.START_B=104,u=Wi.START_C=105;return Wi.MODULO=103,Wi.STOP=106,Wi.FNC1=207,Wi.SET_BY_CODE=(e={},t(e,a,n),t(e,o,r),t(e,u,i),e),Wi.SWAP={101:n,100:r,99:i},Wi.A_START_CHAR="",Wi.B_START_CHAR="",Wi.C_START_CHAR="",Wi.A_CHARS="[\0-_-]",Wi.B_CHARS="[ --]",Wi.C_CHARS="(*[0-9]{2}*)",Wi.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],Wi}var wI;function Hy(){if(wI)return Ag;wI=1,Object.defineProperty(Ag,"__esModule",{value:!0});var e=(function(){function c(h,g){for(var x=0;x<g.length;x++){var y=g[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,g,x){return g&&c(h.prototype,g),x&&c(h,x),h}})(),t=al(),n=i(t),r=Zp();function i(c){return c&&c.__esModule?c:{default:c}}function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function o(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=(function(c){u(h,c);function h(g,x){a(this,h);var y=o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,g.substring(1),x));return y.bytes=g.split("").map(function(C){return C.charCodeAt(0)}),y}return e(h,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var x=this.bytes,y=x.shift()-105,C=r.SET_BY_CODE[y];if(C===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&x.unshift(r.FNC1);var E=h.next(x,1,C);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:h.getBar(y)+E.result+h.getBar((E.checksum+y)%r.MODULO)+h.getBar(r.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var x=this.options.ean128||!1;return typeof x=="string"&&(x=x.toLowerCase()==="true"),x}}],[{key:"getBar",value:function(x){return r.BARS[x]?r.BARS[x].toString():""}},{key:"correctIndex",value:function(x,y){if(y===r.SET_A){var C=x.shift();return C<32?C+64:C-32}else return y===r.SET_B?x.shift()-32:(x.shift()-48)*10+x.shift()-48}},{key:"next",value:function(x,y,C){if(!x.length)return{result:"",checksum:0};var E=void 0,T=void 0;if(x[0]>=200){T=x.shift()-105;var I=r.SWAP[T];I!==void 0?E=h.next(x,y+1,I):((C===r.SET_A||C===r.SET_B)&&T===r.SHIFT&&(x[0]=C===r.SET_A?x[0]>95?x[0]-96:x[0]:x[0]<32?x[0]+96:x[0]),E=h.next(x,y+1,C))}else T=h.correctIndex(x,C),E=h.next(x,y+1,C);var D=h.getBar(T),F=T*y;return{result:D+E.result,checksum:F+E.checksum}}}]),h})(n.default);return Ag.default=d,Ag}var Eg={},_I;function S0e(){if(_I)return Eg;_I=1,Object.defineProperty(Eg,"__esModule",{value:!0});var e=Zp(),t=function(u){return u.match(new RegExp("^"+e.A_CHARS+"*"))[0].length},n=function(u){return u.match(new RegExp("^"+e.B_CHARS+"*"))[0].length},r=function(u){return u.match(new RegExp("^"+e.C_CHARS+"*"))[0]};function i(o,u){var d=u?e.A_CHARS:e.B_CHARS,c=o.match(new RegExp("^("+d+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(c)return c[1]+""+a(o.substring(c[1].length));var h=o.match(new RegExp("^"+d+"+"))[0];return h.length===o.length?o:h+String.fromCharCode(u?205:206)+i(o.substring(h.length),!u)}function a(o){var u=r(o),d=u.length;if(d===o.length)return o;o=o.substring(d);var c=t(o)>=n(o);return u+String.fromCharCode(c?206:205)+i(o,c)}return Eg.default=function(o){var u=void 0,d=r(o).length;if(d>=2)u=e.C_START_CHAR+a(o);else{var c=t(o)>n(o);u=(c?e.A_START_CHAR:e.B_START_CHAR)+i(o,c)}return u.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(h,g){return""+g})},Eg}var SI;function A0e(){if(SI)return Sg;SI=1,Object.defineProperty(Sg,"__esModule",{value:!0});var e=Hy(),t=i(e),n=S0e(),r=i(n);function i(c){return c&&c.__esModule?c:{default:c}}function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function o(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=(function(c){u(h,c);function h(g,x){if(a(this,h),/^[\x00-\x7F\xC8-\xD3]+$/.test(g))var y=o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,(0,r.default)(g),x));else var y=o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,g,x));return o(y)}return h})(t.default);return Sg.default=d,Sg}var Cg={},AI;function E0e(){if(AI)return Cg;AI=1,Object.defineProperty(Cg,"__esModule",{value:!0});var e=(function(){function c(h,g){for(var x=0;x<g.length;x++){var y=g[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,g,x){return g&&c(h.prototype,g),x&&c(h,x),h}})(),t=Hy(),n=i(t),r=Zp();function i(c){return c&&c.__esModule?c:{default:c}}function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function o(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=(function(c){u(h,c);function h(g,x){return a(this,h),o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,r.A_START_CHAR+g,x))}return e(h,[{key:"valid",value:function(){return new RegExp("^"+r.A_CHARS+"+$").test(this.data)}}]),h})(n.default);return Cg.default=d,Cg}var Ng={},EI;function C0e(){if(EI)return Ng;EI=1,Object.defineProperty(Ng,"__esModule",{value:!0});var e=(function(){function c(h,g){for(var x=0;x<g.length;x++){var y=g[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,g,x){return g&&c(h.prototype,g),x&&c(h,x),h}})(),t=Hy(),n=i(t),r=Zp();function i(c){return c&&c.__esModule?c:{default:c}}function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function o(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=(function(c){u(h,c);function h(g,x){return a(this,h),o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,r.B_START_CHAR+g,x))}return e(h,[{key:"valid",value:function(){return new RegExp("^"+r.B_CHARS+"+$").test(this.data)}}]),h})(n.default);return Ng.default=d,Ng}var Og={},CI;function N0e(){if(CI)return Og;CI=1,Object.defineProperty(Og,"__esModule",{value:!0});var e=(function(){function c(h,g){for(var x=0;x<g.length;x++){var y=g[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,g,x){return g&&c(h.prototype,g),x&&c(h,x),h}})(),t=Hy(),n=i(t),r=Zp();function i(c){return c&&c.__esModule?c:{default:c}}function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function o(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=(function(c){u(h,c);function h(g,x){return a(this,h),o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,r.C_START_CHAR+g,x))}return e(h,[{key:"valid",value:function(){return new RegExp("^"+r.C_CHARS+"+$").test(this.data)}}]),h})(n.default);return Og.default=d,Og}var NI;function O0e(){if(NI)return Gl;NI=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.CODE128C=Gl.CODE128B=Gl.CODE128A=Gl.CODE128=void 0;var e=A0e(),t=d(e),n=E0e(),r=d(n),i=C0e(),a=d(i),o=N0e(),u=d(o);function d(c){return c&&c.__esModule?c:{default:c}}return Gl.CODE128=t.default,Gl.CODE128A=r.default,Gl.CODE128B=a.default,Gl.CODE128C=u.default,Gl}var Js={},Tg={},pu={},OI;function Qp(){return OI||(OI=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.SIDE_BIN="101",pu.MIDDLE_BIN="01010",pu.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},pu.EAN2_STRUCTURE=["LL","LG","GL","GG"],pu.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],pu.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),pu}var Ig={},jg={},TI;function Jp(){if(TI)return jg;TI=1,Object.defineProperty(jg,"__esModule",{value:!0});var e=Qp(),t=function(r,i,a){var o=r.split("").map(function(d,c){return e.BINARIES[i[c]]}).map(function(d,c){return d?d[r[c]]:""});if(a){var u=r.length-1;o=o.map(function(d,c){return c<u?d+a:d})}return o.join("")};return jg.default=t,jg}var II;function i9(){if(II)return Ig;II=1,Object.defineProperty(Ig,"__esModule",{value:!0});var e=(function(){function g(x,y){for(var C=0;C<y.length;C++){var E=y[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,y,C){return y&&g(x.prototype,y),C&&g(x,C),x}})(),t=Qp(),n=Jp(),r=o(n),i=al(),a=o(i);function o(g){return g&&g.__esModule?g:{default:g}}function u(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")}function d(g,x){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:g}function c(g,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);g.prototype=Object.create(x&&x.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(g,x):g.__proto__=x)}var h=(function(g){c(x,g);function x(y,C){u(this,x);var E=d(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,y,C));return E.fontSize=!C.flat&&C.fontSize>C.width*10?C.width*10:C.fontSize,E.guardHeight=C.height+E.fontSize/2+C.textMargin,E}return e(x,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(C,E){return this.text.substr(C,E)}},{key:"leftEncode",value:function(C,E){return(0,r.default)(C,E)}},{key:"rightText",value:function(C,E){return this.text.substr(C,E)}},{key:"rightEncode",value:function(C,E){return(0,r.default)(C,E)}},{key:"encodeGuarded",value:function(){var C={fontSize:this.fontSize},E={height:this.guardHeight};return[{data:t.SIDE_BIN,options:E},{data:this.leftEncode(),text:this.leftText(),options:C},{data:t.MIDDLE_BIN,options:E},{data:this.rightEncode(),text:this.rightText(),options:C},{data:t.SIDE_BIN,options:E}]}},{key:"encodeFlat",value:function(){var C=[t.SIDE_BIN,this.leftEncode(),t.MIDDLE_BIN,this.rightEncode(),t.SIDE_BIN];return{data:C.join(""),text:this.text}}}]),x})(a.default);return Ig.default=h,Ig}var jI;function T0e(){if(jI)return Tg;jI=1,Object.defineProperty(Tg,"__esModule",{value:!0});var e=(function(){function g(x,y){for(var C=0;C<y.length;C++){var E=y[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,y,C){return y&&g(x.prototype,y),C&&g(x,C),x}})(),t=function g(x,y,C){x===null&&(x=Function.prototype);var E=Object.getOwnPropertyDescriptor(x,y);if(E===void 0){var T=Object.getPrototypeOf(x);return T===null?void 0:g(T,y,C)}else{if("value"in E)return E.value;var I=E.get;return I===void 0?void 0:I.call(C)}},n=Qp(),r=i9(),i=a(r);function a(g){return g&&g.__esModule?g:{default:g}}function o(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")}function u(g,x){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:g}function d(g,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);g.prototype=Object.create(x&&x.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(g,x):g.__proto__=x)}var c=function(x){var y=x.substr(0,12).split("").map(function(C){return+C}).reduce(function(C,E,T){return T%2?C+E*3:C+E},0);return(10-y%10)%10},h=(function(g){d(x,g);function x(y,C){o(this,x),y.search(/^[0-9]{12}$/)!==-1&&(y+=c(y));var E=u(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,y,C));return E.lastChar=C.lastChar,E}return e(x,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===c(this.data)}},{key:"leftText",value:function(){return t(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var C=this.data.substr(1,6),E=n.EAN13_STRUCTURE[this.data[0]];return t(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"leftEncode",this).call(this,C,E)}},{key:"rightText",value:function(){return t(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var C=this.data.substr(7,6);return t(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"rightEncode",this).call(this,C,"RRRRRR")}},{key:"encodeGuarded",value:function(){var C=t(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(C.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(C.push({data:"00"}),C.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),C}}]),x})(i.default);return Tg.default=h,Tg}var kg={},kI;function I0e(){if(kI)return kg;kI=1,Object.defineProperty(kg,"__esModule",{value:!0});var e=(function(){function h(g,x){for(var y=0;y<x.length;y++){var C=x[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}return function(g,x,y){return x&&h(g.prototype,x),y&&h(g,y),g}})(),t=function h(g,x,y){g===null&&(g=Function.prototype);var C=Object.getOwnPropertyDescriptor(g,x);if(C===void 0){var E=Object.getPrototypeOf(g);return E===null?void 0:h(E,x,y)}else{if("value"in C)return C.value;var T=C.get;return T===void 0?void 0:T.call(y)}},n=i9(),r=i(n);function i(h){return h&&h.__esModule?h:{default:h}}function a(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}function o(h,g){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:h}function u(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);h.prototype=Object.create(g&&g.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(h,g):h.__proto__=g)}var d=function(g){var x=g.substr(0,7).split("").map(function(y){return+y}).reduce(function(y,C,E){return E%2?y+C:y+C*3},0);return(10-x%10)%10},c=(function(h){u(g,h);function g(x,y){return a(this,g),x.search(/^[0-9]{7}$/)!==-1&&(x+=d(x)),o(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,x,y))}return e(g,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===d(this.data)}},{key:"leftText",value:function(){return t(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var y=this.data.substr(0,4);return t(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"leftEncode",this).call(this,y,"LLLL")}},{key:"rightText",value:function(){return t(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var y=this.data.substr(4,4);return t(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"rightEncode",this).call(this,y,"RRRR")}}]),g})(r.default);return kg.default=c,kg}var Mg={},MI;function j0e(){if(MI)return Mg;MI=1,Object.defineProperty(Mg,"__esModule",{value:!0});var e=(function(){function x(y,C){for(var E=0;E<C.length;E++){var T=C[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,C,E){return C&&x(y.prototype,C),E&&x(y,E),y}})(),t=Qp(),n=Jp(),r=o(n),i=al(),a=o(i);function o(x){return x&&x.__esModule?x:{default:x}}function u(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function d(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function c(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var h=function(y){var C=y.split("").map(function(E){return+E}).reduce(function(E,T,I){return I%2?E+T*9:E+T*3},0);return C%10},g=(function(x){c(y,x);function y(C,E){return u(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,C,E))}return e(y,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var E=t.EAN5_STRUCTURE[h(this.data)];return{data:"1011"+(0,r.default)(this.data,E,"01"),text:this.text}}}]),y})(a.default);return Mg.default=g,Mg}var Pg={},PI;function k0e(){if(PI)return Pg;PI=1,Object.defineProperty(Pg,"__esModule",{value:!0});var e=(function(){function g(x,y){for(var C=0;C<y.length;C++){var E=y[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,y,C){return y&&g(x.prototype,y),C&&g(x,C),x}})(),t=Qp(),n=Jp(),r=o(n),i=al(),a=o(i);function o(g){return g&&g.__esModule?g:{default:g}}function u(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")}function d(g,x){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:g}function c(g,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);g.prototype=Object.create(x&&x.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(g,x):g.__proto__=x)}var h=(function(g){c(x,g);function x(y,C){return u(this,x),d(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,y,C))}return e(x,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var C=t.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,r.default)(this.data,C,"01"),text:this.text}}}]),x})(a.default);return Pg.default=h,Pg}var M1={},RI;function a9(){if(RI)return M1;RI=1,Object.defineProperty(M1,"__esModule",{value:!0});var e=(function(){function g(x,y){for(var C=0;C<y.length;C++){var E=y[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,y,C){return y&&g(x.prototype,y),C&&g(x,C),x}})();M1.checksum=h;var t=Jp(),n=a(t),r=al(),i=a(r);function a(g){return g&&g.__esModule?g:{default:g}}function o(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")}function u(g,x){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:g}function d(g,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);g.prototype=Object.create(x&&x.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(g,x):g.__proto__=x)}var c=(function(g){d(x,g);function x(y,C){o(this,x),y.search(/^[0-9]{11}$/)!==-1&&(y+=h(y));var E=u(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,y,C));return E.displayValue=C.displayValue,C.fontSize>C.width*10?E.fontSize=C.width*10:E.fontSize=C.fontSize,E.guardHeight=C.height+E.fontSize/2+C.textMargin,E}return e(x,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==h(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var C="";return C+="101",C+=(0,n.default)(this.data.substr(0,6),"LLLLLL"),C+="01010",C+=(0,n.default)(this.data.substr(6,6),"RRRRRR"),C+="101",{data:C,text:this.text}}},{key:"guardedEncoding",value:function(){var C=[];return this.displayValue&&C.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),C.push({data:"101"+(0,n.default)(this.data[0],"L"),options:{height:this.guardHeight}}),C.push({data:(0,n.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),C.push({data:"01010",options:{height:this.guardHeight}}),C.push({data:(0,n.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),C.push({data:(0,n.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&C.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),C}}]),x})(i.default);function h(g){var x=0,y;for(y=1;y<11;y+=2)x+=parseInt(g[y]);for(y=0;y<11;y+=2)x+=parseInt(g[y])*3;return(10-x%10)%10}return M1.default=c,M1}var Rg={},DI;function M0e(){if(DI)return Rg;DI=1,Object.defineProperty(Rg,"__esModule",{value:!0});var e=(function(){function C(E,T){for(var I=0;I<T.length;I++){var D=T[I];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(E,D.key,D)}}return function(E,T,I){return T&&C(E.prototype,T),I&&C(E,I),E}})(),t=Jp(),n=o(t),r=al(),i=o(r),a=a9();function o(C){return C&&C.__esModule?C:{default:C}}function u(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}function d(C,E){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:C}function c(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(C,E):C.__proto__=E)}var h=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],g=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],x=(function(C){c(E,C);function E(T,I){u(this,E);var D=d(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,T,I));if(D.isValid=!1,T.search(/^[0-9]{6}$/)!==-1)D.middleDigits=T,D.upcA=y(T,"0"),D.text=I.text||""+D.upcA[0]+T+D.upcA[D.upcA.length-1],D.isValid=!0;else if(T.search(/^[01][0-9]{7}$/)!==-1)if(D.middleDigits=T.substring(1,T.length-1),D.upcA=y(D.middleDigits,T[0]),D.upcA[D.upcA.length-1]===T[T.length-1])D.isValid=!0;else return d(D);else return d(D);return D.displayValue=I.displayValue,I.fontSize>I.width*10?D.fontSize=I.width*10:D.fontSize=I.fontSize,D.guardHeight=I.height+D.fontSize/2+I.textMargin,D}return e(E,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var I="";return I+="101",I+=this.encodeMiddleDigits(),I+="010101",{data:I,text:this.text}}},{key:"guardedEncoding",value:function(){var I=[];return this.displayValue&&I.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),I.push({data:"101",options:{height:this.guardHeight}}),I.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),I.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&I.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),I}},{key:"encodeMiddleDigits",value:function(){var I=this.upcA[0],D=this.upcA[this.upcA.length-1],F=g[parseInt(D)][parseInt(I)];return(0,n.default)(this.middleDigits,F)}}]),E})(i.default);function y(C,E){for(var T=parseInt(C[C.length-1]),I=h[T],D="",F=0,U=0;U<I.length;U++){var Z=I[U];Z==="X"?D+=C[F++]:D+=Z}return D=""+E+D,""+D+(0,a.checksum)(D)}return Rg.default=x,Rg}var LI;function P0e(){if(LI)return Js;LI=1,Object.defineProperty(Js,"__esModule",{value:!0}),Js.UPCE=Js.UPC=Js.EAN2=Js.EAN5=Js.EAN8=Js.EAN13=void 0;var e=T0e(),t=x(e),n=I0e(),r=x(n),i=j0e(),a=x(i),o=k0e(),u=x(o),d=a9(),c=x(d),h=M0e(),g=x(h);function x(y){return y&&y.__esModule?y:{default:y}}return Js.EAN13=t.default,Js.EAN8=r.default,Js.EAN5=a.default,Js.EAN2=u.default,Js.UPC=c.default,Js.UPCE=g.default,Js}var cd={},Dg={},Fh={},BI;function R0e(){return BI||(BI=1,Object.defineProperty(Fh,"__esModule",{value:!0}),Fh.START_BIN="1010",Fh.END_BIN="11101",Fh.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),Fh}var FI;function s9(){if(FI)return Dg;FI=1,Object.defineProperty(Dg,"__esModule",{value:!0});var e=(function(){function c(h,g){for(var x=0;x<g.length;x++){var y=g[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,g,x){return g&&c(h.prototype,g),x&&c(h,x),h}})(),t=R0e(),n=al(),r=i(n);function i(c){return c&&c.__esModule?c:{default:c}}function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function o(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=(function(c){u(h,c);function h(){return a(this,h),o(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return e(h,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var x=this,y=this.data.match(/.{2}/g).map(function(C){return x.encodePair(C)}).join("");return{data:t.START_BIN+y+t.END_BIN,text:this.text}}},{key:"encodePair",value:function(x){var y=t.BINARIES[x[1]];return t.BINARIES[x[0]].split("").map(function(C,E){return(C==="1"?"111":"1")+(y[E]==="1"?"000":"0")}).join("")}}]),h})(r.default);return Dg.default=d,Dg}var Lg={},UI;function D0e(){if(UI)return Lg;UI=1,Object.defineProperty(Lg,"__esModule",{value:!0});var e=(function(){function c(h,g){for(var x=0;x<g.length;x++){var y=g[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,g,x){return g&&c(h.prototype,g),x&&c(h,x),h}})(),t=s9(),n=r(t);function r(c){return c&&c.__esModule?c:{default:c}}function i(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function a(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function o(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var u=function(h){var g=h.substr(0,13).split("").map(function(x){return parseInt(x,10)}).reduce(function(x,y,C){return x+y*(3-C%2*2)},0);return Math.ceil(g/10)*10-g},d=(function(c){o(h,c);function h(g,x){return i(this,h),g.search(/^[0-9]{13}$/)!==-1&&(g+=u(g)),a(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,g,x))}return e(h,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===u(this.data)}}]),h})(n.default);return Lg.default=d,Lg}var zI;function L0e(){if(zI)return cd;zI=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.ITF14=cd.ITF=void 0;var e=s9(),t=i(e),n=D0e(),r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}return cd.ITF=t.default,cd.ITF14=r.default,cd}var Go={},Bg={},qI;function em(){if(qI)return Bg;qI=1,Object.defineProperty(Bg,"__esModule",{value:!0});var e=(function(){function c(h,g){for(var x=0;x<g.length;x++){var y=g[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,g,x){return g&&c(h.prototype,g),x&&c(h,x),h}})(),t=al(),n=r(t);function r(c){return c&&c.__esModule?c:{default:c}}function i(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function a(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function o(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var u=(function(c){o(h,c);function h(g,x){return i(this,h),a(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,g,x))}return e(h,[{key:"encode",value:function(){for(var x="110",y=0;y<this.data.length;y++){var C=parseInt(this.data[y]),E=C.toString(2);E=d(E,4-E.length);for(var T=0;T<E.length;T++)x+=E[T]=="0"?"100":"110"}return x+="1001",{data:x,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),h})(n.default);function d(c,h){for(var g=0;g<h;g++)c="0"+c;return c}return Bg.default=u,Bg}var Fg={},P1={},HI;function Gy(){if(HI)return P1;HI=1,Object.defineProperty(P1,"__esModule",{value:!0}),P1.mod10=e,P1.mod11=t;function e(n){for(var r=0,i=0;i<n.length;i++){var a=parseInt(n[i]);(i+n.length)%2===0?r+=a:r+=a*2%10+Math.floor(a*2/10)}return(10-r%10)%10}function t(n){for(var r=0,i=[2,3,4,5,6,7],a=0;a<n.length;a++){var o=parseInt(n[n.length-1-a]);r+=i[a%i.length]*o}return(11-r%11)%11}return P1}var GI;function B0e(){if(GI)return Fg;GI=1,Object.defineProperty(Fg,"__esModule",{value:!0});var e=em(),t=r(e),n=Gy();function r(d){return d&&d.__esModule?d:{default:d}}function i(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function a(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,g){return i(this,c),a(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h+(0,n.mod10)(h),g))}return c})(t.default);return Fg.default=u,Fg}var Ug={},$I;function F0e(){if($I)return Ug;$I=1,Object.defineProperty(Ug,"__esModule",{value:!0});var e=em(),t=r(e),n=Gy();function r(d){return d&&d.__esModule?d:{default:d}}function i(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function a(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,g){return i(this,c),a(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h+(0,n.mod11)(h),g))}return c})(t.default);return Ug.default=u,Ug}var zg={},WI;function U0e(){if(WI)return zg;WI=1,Object.defineProperty(zg,"__esModule",{value:!0});var e=em(),t=r(e),n=Gy();function r(d){return d&&d.__esModule?d:{default:d}}function i(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function a(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,g){return i(this,c),h+=(0,n.mod10)(h),h+=(0,n.mod10)(h),a(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h,g))}return c})(t.default);return zg.default=u,zg}var qg={},VI;function z0e(){if(VI)return qg;VI=1,Object.defineProperty(qg,"__esModule",{value:!0});var e=em(),t=r(e),n=Gy();function r(d){return d&&d.__esModule?d:{default:d}}function i(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function a(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,g){return i(this,c),h+=(0,n.mod11)(h),h+=(0,n.mod10)(h),a(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h,g))}return c})(t.default);return qg.default=u,qg}var YI;function q0e(){if(YI)return Go;YI=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.MSI1110=Go.MSI1010=Go.MSI11=Go.MSI10=Go.MSI=void 0;var e=em(),t=h(e),n=B0e(),r=h(n),i=F0e(),a=h(i),o=U0e(),u=h(o),d=z0e(),c=h(d);function h(g){return g&&g.__esModule?g:{default:g}}return Go.MSI=t.default,Go.MSI10=r.default,Go.MSI11=a.default,Go.MSI1010=u.default,Go.MSI1110=c.default,Go}var R1={},XI;function H0e(){if(XI)return R1;XI=1,Object.defineProperty(R1,"__esModule",{value:!0}),R1.pharmacode=void 0;var e=(function(){function d(c,h){for(var g=0;g<h.length;g++){var x=h[g];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(c,x.key,x)}}return function(c,h,g){return h&&d(c.prototype,h),g&&d(c,g),c}})(),t=al(),n=r(t);function r(d){return d&&d.__esModule?d:{default:d}}function i(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function a(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,g){i(this,c);var x=a(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h,g));return x.number=parseInt(h,10),x}return e(c,[{key:"encode",value:function(){for(var g=this.number,x="";!isNaN(g)&&g!=0;)g%2===0?(x="11100"+x,g=(g-2)/2):(x="100"+x,g=(g-1)/2);return x=x.slice(0,-2),{data:x,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),c})(n.default);return R1.pharmacode=u,R1}var D1={},KI;function G0e(){if(KI)return D1;KI=1,Object.defineProperty(D1,"__esModule",{value:!0}),D1.codabar=void 0;var e=(function(){function d(c,h){for(var g=0;g<h.length;g++){var x=h[g];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(c,x.key,x)}}return function(c,h,g){return h&&d(c.prototype,h),g&&d(c,g),c}})(),t=al(),n=r(t);function r(d){return d&&d.__esModule?d:{default:d}}function i(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function a(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,g){i(this,c),h.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(h="A"+h+"A");var x=a(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h.toUpperCase(),g));return x.text=x.options.text||x.text.replace(/[A-D]/g,""),x}return e(c,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var g=[],x=this.getEncodings(),y=0;y<this.data.length;y++)g.push(x[this.data.charAt(y)]),y!==this.data.length-1&&g.push("0");return{text:this.text,data:g.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),c})(n.default);return D1.codabar=u,D1}var ud={},Hg={},Uh={},ZI;function $0e(){return ZI||(ZI=1,Object.defineProperty(Uh,"__esModule",{value:!0}),Uh.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""],Uh.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],Uh.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),Uh}var QI;function o9(){if(QI)return Hg;QI=1,Object.defineProperty(Hg,"__esModule",{value:!0});var e=(function(){function c(h,g){for(var x=0;x<g.length;x++){var y=g[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,g,x){return g&&c(h.prototype,g),x&&c(h,x),h}})(),t=$0e(),n=al(),r=i(n);function i(c){return c&&c.__esModule?c:{default:c}}function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function o(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=(function(c){u(h,c);function h(g,x){return a(this,h),o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,g,x))}return e(h,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var x=this.data.split("").flatMap(function(T){return t.MULTI_SYMBOLS[T]||T}),y=x.map(function(T){return h.getEncoding(T)}).join(""),C=h.checksum(x,20),E=h.checksum(x.concat(C),15);return{text:this.text,data:h.getEncoding("")+y+h.getEncoding(C)+h.getEncoding(E)+h.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(x){return t.BINARIES[h.symbolValue(x)]}},{key:"getSymbol",value:function(x){return t.SYMBOLS[x]}},{key:"symbolValue",value:function(x){return t.SYMBOLS.indexOf(x)}},{key:"checksum",value:function(x,y){var C=x.slice().reverse().reduce(function(E,T,I){var D=I%y+1;return E+h.symbolValue(T)*D},0);return h.getSymbol(C%47)}}]),h})(r.default);return Hg.default=d,Hg}var Gg={},JI;function W0e(){if(JI)return Gg;JI=1,Object.defineProperty(Gg,"__esModule",{value:!0});var e=(function(){function d(c,h){for(var g=0;g<h.length;g++){var x=h[g];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(c,x.key,x)}}return function(c,h,g){return h&&d(c.prototype,h),g&&d(c,g),c}})(),t=o9(),n=r(t);function r(d){return d&&d.__esModule?d:{default:d}}function i(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function a(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,g){return i(this,c),a(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h,g))}return e(c,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),c})(n.default);return Gg.default=u,Gg}var ej;function V0e(){if(ej)return ud;ej=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.CODE93FullASCII=ud.CODE93=void 0;var e=o9(),t=i(e),n=W0e(),r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}return ud.CODE93=t.default,ud.CODE93FullASCII=r.default,ud}var L1={},tj;function Y0e(){if(tj)return L1;tj=1,Object.defineProperty(L1,"__esModule",{value:!0}),L1.GenericBarcode=void 0;var e=(function(){function d(c,h){for(var g=0;g<h.length;g++){var x=h[g];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(c,x.key,x)}}return function(c,h,g){return h&&d(c.prototype,h),g&&d(c,g),c}})(),t=al(),n=r(t);function r(d){return d&&d.__esModule?d:{default:d}}function i(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function a(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:d}function o(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}var u=(function(d){o(c,d);function c(h,g){return i(this,c),a(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h,g))}return e(c,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),c})(n.default);return L1.GenericBarcode=u,L1}var nj;function X0e(){if(nj)return wg;nj=1,Object.defineProperty(wg,"__esModule",{value:!0});var e=_0e(),t=O0e(),n=P0e(),r=L0e(),i=q0e(),a=H0e(),o=G0e(),u=V0e(),d=Y0e();return wg.default={CODE39:e.CODE39,CODE128:t.CODE128,CODE128A:t.CODE128A,CODE128B:t.CODE128B,CODE128C:t.CODE128C,EAN13:n.EAN13,EAN8:n.EAN8,EAN5:n.EAN5,EAN2:n.EAN2,UPC:n.UPC,UPCE:n.UPCE,ITF14:r.ITF14,ITF:r.ITF,MSI:i.MSI,MSI10:i.MSI10,MSI11:i.MSI11,MSI1010:i.MSI1010,MSI1110:i.MSI1110,pharmacode:a.pharmacode,codabar:o.codabar,CODE93:u.CODE93,CODE93FullASCII:u.CODE93FullASCII,GenericBarcode:d.GenericBarcode},wg}var $g={},rj;function $y(){if(rj)return $g;rj=1,Object.defineProperty($g,"__esModule",{value:!0});var e=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t};return $g.default=function(t,n){return e({},t,n)},$g}var Wg={},ij;function K0e(){if(ij)return Wg;ij=1,Object.defineProperty(Wg,"__esModule",{value:!0}),Wg.default=e;function e(t){var n=[];function r(i){if(Array.isArray(i))for(var a=0;a<i.length;a++)r(i[a]);else i.text=i.text||"",i.data=i.data||"",n.push(i)}return r(t),n}return Wg}var Vg={},aj;function Z0e(){if(aj)return Vg;aj=1,Object.defineProperty(Vg,"__esModule",{value:!0}),Vg.default=e;function e(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}return Vg}var Yg={},Xg={},Kg={},sj;function l9(){if(sj)return Kg;sj=1,Object.defineProperty(Kg,"__esModule",{value:!0}),Kg.default=e;function e(t){var n=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var r in n)n.hasOwnProperty(r)&&(r=n[r],typeof t[r]=="string"&&(t[r]=parseInt(t[r],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}return Kg}var Zg={},oj;function c9(){if(oj)return Zg;oj=1,Object.defineProperty(Zg,"__esModule",{value:!0});var e={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return Zg.default=e,Zg}var lj;function Q0e(){if(lj)return Xg;lj=1,Object.defineProperty(Xg,"__esModule",{value:!0});var e=l9(),t=i(e),n=c9(),r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function a(o){var u={};for(var d in r.default)r.default.hasOwnProperty(d)&&(o.hasAttribute("jsbarcode-"+d.toLowerCase())&&(u[d]=o.getAttribute("jsbarcode-"+d.toLowerCase())),o.hasAttribute("data-"+d.toLowerCase())&&(u[d]=o.getAttribute("data-"+d.toLowerCase())));return u.value=o.getAttribute("jsbarcode-value")||o.getAttribute("data-value"),u=(0,t.default)(u),u}return Xg.default=a,Xg}var Qg={},Jg={},$o={},cj;function u9(){if(cj)return $o;cj=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.getTotalWidthOfEncodings=$o.calculateEncodingAttributes=$o.getBarcodePadding=$o.getEncodingHeight=$o.getMaximumHeightOfEncodings=void 0;var e=$y(),t=n(e);function n(c){return c&&c.__esModule?c:{default:c}}function r(c,h){return h.height+(h.displayValue&&c.text.length>0?h.fontSize+h.textMargin:0)+h.marginTop+h.marginBottom}function i(c,h,g){if(g.displayValue&&h<c){if(g.textAlign=="center")return Math.floor((c-h)/2);if(g.textAlign=="left")return 0;if(g.textAlign=="right")return Math.floor(c-h)}return 0}function a(c,h,g){for(var x=0;x<c.length;x++){var y=c[x],C=(0,t.default)(h,y.options),E;C.displayValue?E=d(y.text,C,g):E=0;var T=y.data.length*C.width;y.width=Math.ceil(Math.max(E,T)),y.height=r(y,C),y.barcodePadding=i(E,T,C)}}function o(c){for(var h=0,g=0;g<c.length;g++)h+=c[g].width;return h}function u(c){for(var h=0,g=0;g<c.length;g++)c[g].height>h&&(h=c[g].height);return h}function d(c,h,g){var x;if(g)x=g;else if(typeof document<"u")x=document.createElement("canvas").getContext("2d");else return 0;x.font=h.fontOptions+" "+h.fontSize+"px "+h.font;var y=x.measureText(c);if(!y)return 0;var C=y.width;return C}return $o.getMaximumHeightOfEncodings=u,$o.getEncodingHeight=r,$o.getBarcodePadding=i,$o.calculateEncodingAttributes=a,$o.getTotalWidthOfEncodings=o,$o}var uj;function J0e(){if(uj)return Jg;uj=1,Object.defineProperty(Jg,"__esModule",{value:!0});var e=(function(){function u(d,c){for(var h=0;h<c.length;h++){var g=c[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,c,h){return c&&u(d.prototype,c),h&&u(d,h),d}})(),t=$y(),n=i(t),r=u9();function i(u){return u&&u.__esModule?u:{default:u}}function a(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}var o=(function(){function u(d,c,h){a(this,u),this.canvas=d,this.encodings=c,this.options=h}return e(u,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var c=0;c<this.encodings.length;c++){var h=(0,n.default)(this.options,this.encodings[c].options);this.drawCanvasBarcode(h,this.encodings[c]),this.drawCanvasText(h,this.encodings[c]),this.moveCanvasDrawing(this.encodings[c])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var c=this.canvas.getContext("2d");c.save(),(0,r.calculateEncodingAttributes)(this.encodings,this.options,c);var h=(0,r.getTotalWidthOfEncodings)(this.encodings),g=(0,r.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=h+this.options.marginLeft+this.options.marginRight,this.canvas.height=g,c.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(c.fillStyle=this.options.background,c.fillRect(0,0,this.canvas.width,this.canvas.height)),c.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(c,h){var g=this.canvas.getContext("2d"),x=h.data,y;c.textPosition=="top"?y=c.marginTop+c.fontSize+c.textMargin:y=c.marginTop,g.fillStyle=c.lineColor;for(var C=0;C<x.length;C++){var E=C*c.width+h.barcodePadding;x[C]==="1"?g.fillRect(E,y,c.width,c.height):x[C]&&g.fillRect(E,y,c.width,c.height*x[C])}}},{key:"drawCanvasText",value:function(c,h){var g=this.canvas.getContext("2d"),x=c.fontOptions+" "+c.fontSize+"px "+c.font;if(c.displayValue){var y,C;c.textPosition=="top"?C=c.marginTop+c.fontSize-c.textMargin:C=c.height+c.textMargin+c.marginTop+c.fontSize,g.font=x,c.textAlign=="left"||h.barcodePadding>0?(y=0,g.textAlign="left"):c.textAlign=="right"?(y=h.width-1,g.textAlign="right"):(y=h.width/2,g.textAlign="center"),g.fillText(h.text,y,C)}}},{key:"moveCanvasDrawing",value:function(c){var h=this.canvas.getContext("2d");h.translate(c.width,0)}},{key:"restoreCanvas",value:function(){var c=this.canvas.getContext("2d");c.restore()}}]),u})();return Jg.default=o,Jg}var ev={},fj;function e1e(){if(fj)return ev;fj=1,Object.defineProperty(ev,"__esModule",{value:!0});var e=(function(){function d(c,h){for(var g=0;g<h.length;g++){var x=h[g];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(c,x.key,x)}}return function(c,h,g){return h&&d(c.prototype,h),g&&d(c,g),c}})(),t=$y(),n=i(t),r=u9();function i(d){return d&&d.__esModule?d:{default:d}}function a(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}var o="http://www.w3.org/2000/svg",u=(function(){function d(c,h,g){a(this,d),this.svg=c,this.encodings=h,this.options=g,this.document=g.xmlDocument||document}return e(d,[{key:"render",value:function(){var h=this.options.marginLeft;this.prepareSVG();for(var g=0;g<this.encodings.length;g++){var x=this.encodings[g],y=(0,n.default)(this.options,x.options),C=this.createGroup(h,y.marginTop,this.svg);this.setGroupOptions(C,y),this.drawSvgBarcode(C,y,x),this.drawSVGText(C,y,x),h+=x.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,r.calculateEncodingAttributes)(this.encodings,this.options);var h=(0,r.getTotalWidthOfEncodings)(this.encodings),g=(0,r.getMaximumHeightOfEncodings)(this.encodings),x=h+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(x,g),this.options.background&&this.drawRect(0,0,x,g,this.svg).setAttribute("fill",this.options.background)}},{key:"drawSvgBarcode",value:function(h,g,x){var y=x.data,C;g.textPosition=="top"?C=g.fontSize+g.textMargin:C=0;for(var E=0,T=0,I=0;I<y.length;I++)T=I*g.width+x.barcodePadding,y[I]==="1"?E++:E>0&&(this.drawRect(T-g.width*E,C,g.width*E,g.height,h),E=0);E>0&&this.drawRect(T-g.width*(E-1),C,g.width*E,g.height,h)}},{key:"drawSVGText",value:function(h,g,x){var y=this.document.createElementNS(o,"text");if(g.displayValue){var C,E;y.setAttribute("font-family",g.font),y.setAttribute("font-size",g.fontSize),g.fontOptions.includes("bold")&&y.setAttribute("font-weight","bold"),g.fontOptions.includes("italic")&&y.setAttribute("font-style","italic"),g.textPosition=="top"?E=g.fontSize-g.textMargin:E=g.height+g.textMargin+g.fontSize,g.textAlign=="left"||x.barcodePadding>0?(C=0,y.setAttribute("text-anchor","start")):g.textAlign=="right"?(C=x.width-1,y.setAttribute("text-anchor","end")):(C=x.width/2,y.setAttribute("text-anchor","middle")),y.setAttribute("x",C),y.setAttribute("y",E),y.appendChild(this.document.createTextNode(x.text)),h.appendChild(y)}}},{key:"setSvgAttributes",value:function(h,g){var x=this.svg;x.setAttribute("width",h+"px"),x.setAttribute("height",g+"px"),x.setAttribute("x","0px"),x.setAttribute("y","0px"),x.setAttribute("viewBox","0 0 "+h+" "+g),x.setAttribute("xmlns",o),x.setAttribute("version","1.1")}},{key:"createGroup",value:function(h,g,x){var y=this.document.createElementNS(o,"g");return y.setAttribute("transform","translate("+h+", "+g+")"),x.appendChild(y),y}},{key:"setGroupOptions",value:function(h,g){h.setAttribute("fill",g.lineColor)}},{key:"drawRect",value:function(h,g,x,y,C){var E=this.document.createElementNS(o,"rect");return E.setAttribute("x",h),E.setAttribute("y",g),E.setAttribute("width",x),E.setAttribute("height",y),C.appendChild(E),E}}]),d})();return ev.default=u,ev}var tv={},dj;function t1e(){if(dj)return tv;dj=1,Object.defineProperty(tv,"__esModule",{value:!0});var e=(function(){function r(i,a){for(var o=0;o<a.length;o++){var u=a[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(i,u.key,u)}}return function(i,a,o){return a&&r(i.prototype,a),o&&r(i,o),i}})();function t(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}var n=(function(){function r(i,a,o){t(this,r),this.object=i,this.encodings=a,this.options=o}return e(r,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),r})();return tv.default=n,tv}var hj;function n1e(){if(hj)return Qg;hj=1,Object.defineProperty(Qg,"__esModule",{value:!0});var e=J0e(),t=o(e),n=e1e(),r=o(n),i=t1e(),a=o(i);function o(u){return u&&u.__esModule?u:{default:u}}return Qg.default={CanvasRenderer:t.default,SVGRenderer:r.default,ObjectRenderer:a.default},Qg}var zh={},pj;function f9(){if(pj)return zh;pj=1,Object.defineProperty(zh,"__esModule",{value:!0});function e(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}function t(o,u){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:o}function n(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(o,u):o.__proto__=u)}var r=(function(o){n(u,o);function u(d,c){e(this,u);var h=t(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return h.name="InvalidInputException",h.symbology=d,h.input=c,h.message='"'+h.input+'" is not a valid input for '+h.symbology,h}return u})(Error),i=(function(o){n(u,o);function u(){e(this,u);var d=t(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return d.name="InvalidElementException",d.message="Not supported type to render on",d}return u})(Error),a=(function(o){n(u,o);function u(){e(this,u);var d=t(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return d.name="NoElementException",d.message="No element to render on.",d}return u})(Error);return zh.InvalidInputException=r,zh.InvalidElementException=i,zh.NoElementException=a,zh}var mj;function r1e(){if(mj)return Yg;mj=1,Object.defineProperty(Yg,"__esModule",{value:!0});var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},t=Q0e(),n=o(t),r=n1e(),i=o(r),a=f9();function o(h){return h&&h.__esModule?h:{default:h}}function u(h){if(typeof h=="string")return d(h);if(Array.isArray(h)){for(var g=[],x=0;x<h.length;x++)g.push(u(h[x]));return g}else{if(typeof HTMLCanvasElement<"u"&&h instanceof HTMLImageElement)return c(h);if(h&&h.nodeName&&h.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&h instanceof SVGElement)return{element:h,options:(0,n.default)(h),renderer:i.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&h instanceof HTMLCanvasElement)return{element:h,options:(0,n.default)(h),renderer:i.default.CanvasRenderer};if(h&&h.getContext)return{element:h,renderer:i.default.CanvasRenderer};if(h&&(typeof h>"u"?"undefined":e(h))==="object"&&!h.nodeName)return{element:h,renderer:i.default.ObjectRenderer};throw new a.InvalidElementException}}function d(h){var g=document.querySelectorAll(h);if(g.length!==0){for(var x=[],y=0;y<g.length;y++)x.push(u(g[y]));return x}}function c(h){var g=document.createElement("canvas");return{element:g,options:(0,n.default)(h),renderer:i.default.CanvasRenderer,afterRender:function(){h.setAttribute("src",g.toDataURL())}}}return Yg.default=u,Yg}var nv={},gj;function i1e(){if(gj)return nv;gj=1,Object.defineProperty(nv,"__esModule",{value:!0});var e=(function(){function r(i,a){for(var o=0;o<a.length;o++){var u=a[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(i,u.key,u)}}return function(i,a,o){return a&&r(i.prototype,a),o&&r(i,o),i}})();function t(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}var n=(function(){function r(i){t(this,r),this.api=i}return e(r,[{key:"handleCatch",value:function(a){if(a.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw a.message;else throw a;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(a){try{var o=a.apply(void 0,arguments);return this.api._options.valid(!0),o}catch(u){return this.handleCatch(u),this.api}}}]),r})();return nv.default=n,nv}var l5,vj;function a1e(){if(vj)return l5;vj=1;var e=X0e(),t=I(e),n=$y(),r=I(n),i=K0e(),a=I(i),o=Z0e(),u=I(o),d=r1e(),c=I(d),h=l9(),g=I(h),x=i1e(),y=I(x),C=f9(),E=c9(),T=I(E);function I(q){return q&&q.__esModule?q:{default:q}}var D=function(){},F=function(oe,H,G){var fe=new D;if(typeof oe>"u")throw Error("No element to render on was provided.");return fe._renderProperties=(0,c.default)(oe),fe._encodings=[],fe._options=T.default,fe._errorHandler=new y.default(fe),typeof H<"u"&&(G=G||{},G.format||(G.format=Y()),fe.options(G)[G.format](H,G).render()),fe};F.getModule=function(q){return t.default[q]};for(var U in t.default)t.default.hasOwnProperty(U)&&Z(t.default,U);function Z(q,oe){D.prototype[oe]=D.prototype[oe.toUpperCase()]=D.prototype[oe.toLowerCase()]=function(H,G){var fe=this;return fe._errorHandler.wrapBarcodeCall(function(){G.text=typeof G.text>"u"?void 0:""+G.text;var ee=(0,r.default)(fe._options,G);ee=(0,g.default)(ee);var ae=q[oe],ie=Q(H,ae,ee);return fe._encodings.push(ie),fe})}}function Q(q,oe,H){q=""+q;var G=new oe(q,H);if(!G.valid())throw new C.InvalidInputException(G.constructor.name,q);var fe=G.encode();fe=(0,a.default)(fe);for(var ee=0;ee<fe.length;ee++)fe[ee].options=(0,r.default)(H,fe[ee].options);return fe}function Y(){return t.default.CODE128?"CODE128":Object.keys(t.default)[0]}D.prototype.options=function(q){return this._options=(0,r.default)(this._options,q),this},D.prototype.blank=function(q){var oe=new Array(q+1).join("0");return this._encodings.push({data:oe}),this},D.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var q;for(var oe in this._renderProperties){q=this._renderProperties[oe];var H=(0,r.default)(this._options,q.options);H.format=="auto"&&(H.format=Y()),this._errorHandler.wrapBarcodeCall(function(){var G=H.value,fe=t.default[H.format.toUpperCase()],ee=Q(G,fe,H);J(q,ee,H)})}}},D.prototype.render=function(){if(!this._renderProperties)throw new C.NoElementException;if(Array.isArray(this._renderProperties))for(var q=0;q<this._renderProperties.length;q++)J(this._renderProperties[q],this._encodings,this._options);else J(this._renderProperties,this._encodings,this._options);return this},D.prototype._defaults=T.default;function J(q,oe,H){oe=(0,a.default)(oe);for(var G=0;G<oe.length;G++)oe[G].options=(0,r.default)(H,oe[G].options),(0,u.default)(oe[G].options);(0,u.default)(H);var fe=q.renderer,ee=new fe(q.element,oe,H);ee.render(),q.afterRender&&q.afterRender()}return typeof window<"u"&&(window.JsBarcode=F),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(q,oe){var H=[];return jQuery(this).each(function(){H.push(this)}),F(H,q,oe)}),l5=F,l5}var s1e=a1e();const o1e=Gc(s1e),l1e="modulepreload",c1e=function(e){return"/"+e},yj={},c5=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=o(n.map(c=>{if(c=c1e(c),c in yj)return;yj[c]=!0;const h=c.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${g}`))return;const x=document.createElement("link");if(x.rel=h?"stylesheet":l1e,h||(x.as="script"),x.crossOrigin="",x.href=c,d&&x.setAttribute("nonce",d),document.head.appendChild(x),h)return new Promise((y,C)=>{x.addEventListener("load",y),x.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return i.then(o=>{for(const u of o||[])u.status==="rejected"&&a(u.reason);return t().catch(a)})};function Ur(e){"@babel/helpers - typeof";return Ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ur(e)}var ic=Uint8Array,el=Uint16Array,MA=Int32Array,PA=new ic([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),RA=new ic([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),bj=new ic([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d9=function(e,t){for(var n=new el(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new MA(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},h9=d9(PA,2),u1e=h9.b,t3=h9.r;u1e[28]=258,t3[258]=28;var f1e=d9(RA,0),xj=f1e.r,n3=new el(32768);for(var yi=0;yi<32768;++yi){var wf=(yi&43690)>>1|(yi&21845)<<1;wf=(wf&52428)>>2|(wf&13107)<<2,wf=(wf&61680)>>4|(wf&3855)<<4,n3[yi]=((wf&65280)>>8|(wf&255)<<8)>>1}var Y1=(function(e,t,n){for(var r=e.length,i=0,a=new el(t);i<r;++i)e[i]&&++a[e[i]-1];var o=new el(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var u;if(n){u=new el(1<<t);var d=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],h=t-e[i],g=o[e[i]-1]++<<h,x=g|(1<<h)-1;g<=x;++g)u[n3[g]>>d]=c}else for(u=new el(r),i=0;i<r;++i)e[i]&&(u[i]=n3[o[e[i]-1]++]>>15-e[i]);return u}),Ud=new ic(288);for(var yi=0;yi<144;++yi)Ud[yi]=8;for(var yi=144;yi<256;++yi)Ud[yi]=9;for(var yi=256;yi<280;++yi)Ud[yi]=7;for(var yi=280;yi<288;++yi)Ud[yi]=8;var P2=new ic(32);for(var yi=0;yi<32;++yi)P2[yi]=5;var d1e=Y1(Ud,9,0),h1e=Y1(P2,5,0),p9=function(e){return(e+7)/8|0},p1e=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new ic(e.subarray(t,n))},mu=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},B1=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},u5=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return{t:g9,l:0};if(i==1){var o=new ic(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(Z,Q){return Z.f-Q.f}),n.push({s:-1,f:25001});var u=n[0],d=n[1],c=0,h=1,g=2;for(n[0]={s:-1,f:u.f+d.f,l:u,r:d};h!=i-1;)u=n[n[c].f<n[g].f?c++:g++],d=n[c!=h&&n[c].f<n[g].f?c++:g++],n[h++]={s:-1,f:u.f+d.f,l:u,r:d};for(var x=a[0].s,r=1;r<i;++r)a[r].s>x&&(x=a[r].s);var y=new el(x+1),C=r3(n[h-1],y,0);if(C>t){var r=0,E=0,T=C-t,I=1<<T;for(a.sort(function(Q,Y){return y[Y.s]-y[Q.s]||Q.f-Y.f});r<i;++r){var D=a[r].s;if(y[D]>t)E+=I-(1<<C-y[D]),y[D]=t;else break}for(E>>=T;E>0;){var F=a[r].s;y[F]<t?E-=1<<t-y[F]++-1:++r}for(;r>=0&&E;--r){var U=a[r].s;y[U]==t&&(--y[U],++E)}C=t}return{t:new ic(y),l:C}},r3=function(e,t,n){return e.s==-1?Math.max(r3(e.l,t,n+1),r3(e.r,t,n+1)):t[e.s]=n},wj=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new el(++t),r=0,i=e[0],a=1,o=function(d){n[r++]=d},u=1;u<=t;++u)if(e[u]==i&&u!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[u]}return{c:n.subarray(0,r),n:t}},F1=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},m9=function(e,t,n){var r=n.length,i=p9(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=n[a];return(i+4+r)*8},_j=function(e,t,n,r,i,a,o,u,d,c,h){mu(t,h++,n),++i[256];for(var g=u5(i,15),x=g.t,y=g.l,C=u5(a,15),E=C.t,T=C.l,I=wj(x),D=I.c,F=I.n,U=wj(E),Z=U.c,Q=U.n,Y=new el(19),J=0;J<D.length;++J)++Y[D[J]&31];for(var J=0;J<Z.length;++J)++Y[Z[J]&31];for(var q=u5(Y,7),oe=q.t,H=q.l,G=19;G>4&&!oe[bj[G-1]];--G);var fe=c+5<<3,ee=F1(i,Ud)+F1(a,P2)+o,ae=F1(i,x)+F1(a,E)+o+14+3*G+F1(Y,oe)+2*Y[16]+3*Y[17]+7*Y[18];if(d>=0&&fe<=ee&&fe<=ae)return m9(t,h,e.subarray(d,d+c));var ie,K,ve,Te;if(mu(t,h,1+(ae<ee)),h+=2,ae<ee){ie=Y1(x,y,0),K=x,ve=Y1(E,T,0),Te=E;var we=Y1(oe,H,0);mu(t,h,F-257),mu(t,h+5,Q-1),mu(t,h+10,G-4),h+=14;for(var J=0;J<G;++J)mu(t,h+3*J,oe[bj[J]]);h+=3*G;for(var ue=[D,Z],V=0;V<2;++V)for(var he=ue[V],J=0;J<he.length;++J){var me=he[J]&31;mu(t,h,we[me]),h+=oe[me],me>15&&(mu(t,h,he[J]>>5&127),h+=he[J]>>12)}}else ie=d1e,K=Ud,ve=h1e,Te=P2;for(var J=0;J<u;++J){var Ce=r[J];if(Ce>255){var me=Ce>>18&31;B1(t,h,ie[me+257]),h+=K[me+257],me>7&&(mu(t,h,Ce>>23&31),h+=PA[me]);var xe=Ce&31;B1(t,h,ve[xe]),h+=Te[xe],xe>3&&(B1(t,h,Ce>>5&8191),h+=RA[xe])}else B1(t,h,ie[Ce]),h+=K[Ce]}return B1(t,h,ie[256]),h+K[256]},m1e=new MA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),g9=new ic(0),g1e=function(e,t,n,r,i,a){var o=a.z||e.length,u=new ic(r+o+5*(1+Math.ceil(o/7e3))+i),d=u.subarray(r,u.length-i),c=a.l,h=(a.r||0)&7;if(t){h&&(d[0]=a.r>>3);for(var g=m1e[t-1],x=g>>13,y=g&8191,C=(1<<n)-1,E=a.p||new el(32768),T=a.h||new el(C+1),I=Math.ceil(n/3),D=2*I,F=function(bt){return(e[bt]^e[bt+1]<<I^e[bt+2]<<D)&C},U=new MA(25e3),Z=new el(288),Q=new el(32),Y=0,J=0,q=a.i||0,oe=0,H=a.w||0,G=0;q+2<o;++q){var fe=F(q),ee=q&32767,ae=T[fe];if(E[ee]=ae,T[fe]=ee,H<=q){var ie=o-q;if((Y>7e3||oe>24576)&&(ie>423||!c)){h=_j(e,d,0,U,Z,Q,J,oe,G,q-G,h),oe=Y=J=0,G=q;for(var K=0;K<286;++K)Z[K]=0;for(var K=0;K<30;++K)Q[K]=0}var ve=2,Te=0,we=y,ue=ee-ae&32767;if(ie>2&&fe==F(q-ue))for(var V=Math.min(x,ie)-1,he=Math.min(32767,q),me=Math.min(258,ie);ue<=he&&--we&&ee!=ae;){if(e[q+ve]==e[q+ve-ue]){for(var Ce=0;Ce<me&&e[q+Ce]==e[q+Ce-ue];++Ce);if(Ce>ve){if(ve=Ce,Te=ue,Ce>V)break;for(var xe=Math.min(ue,Ce-2),Me=0,K=0;K<xe;++K){var ze=q-ue+K&32767,Oe=E[ze],Ge=ze-Oe&32767;Ge>Me&&(Me=Ge,ae=ze)}}}ee=ae,ae=E[ee],ue+=ee-ae&32767}if(Te){U[oe++]=268435456|t3[ve]<<18|xj[Te];var Je=t3[ve]&31,qe=xj[Te]&31;J+=PA[Je]+RA[qe],++Z[257+Je],++Q[qe],H=q+ve,++Y}else U[oe++]=e[q],++Z[e[q]]}}for(q=Math.max(q,H);q<o;++q)U[oe++]=e[q],++Z[e[q]];h=_j(e,d,c,U,Z,Q,J,oe,G,q-G,h),c||(a.r=h&7|d[h/8|0]<<3,h-=7,a.h=T,a.p=E,a.i=q,a.w=H)}else{for(var q=a.w||0;q<o+c;q+=65535){var lt=q+65535;lt>=o&&(d[h/8|0]=c,lt=o),h=m9(d,h+1,e.subarray(q,lt))}a.i=o}return p1e(u,0,r+p9(h)+i)},v9=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,a=n.length|0,o=0;o!=a;){for(var u=Math.min(o+2655,a);o<u;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},v1e=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new ic(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return g1e(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},y9=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},y1e=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=v9();i.p(t.dictionary),y9(e,2,i.d())}};function i3(e,t){t||(t={});var n=v9();n.p(e);var r=v1e(e,t,t.dictionary?6:2,4);return y1e(r,t),y9(r,r.length-4,n.d()),r}var b1e=typeof TextDecoder<"u"&&new TextDecoder,x1e=0;try{b1e.decode(g9,{stream:!0}),x1e=1}catch{}function w1e(e){if(Array.isArray(e))return e}function _1e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,u=[],d=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(d=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(h){c=!0,i=h}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}function Sj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function S1e(e,t){if(e){if(typeof e=="string")return Sj(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sj(e,t):void 0}}function A1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aj(e,t){return w1e(e)||_1e(e,t)||S1e(e,t)||A1e()}function Ej(e,t="utf8"){return new TextDecoder(t).decode(e)}const E1e=new TextEncoder;function C1e(e){return E1e.encode(e)}const N1e=1024*8,O1e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),f5={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class DA{constructor(t=N1e,n={}){Cr(this,"buffer");Cr(this,"byteLength");Cr(this,"byteOffset");Cr(this,"length");Cr(this,"offset");Cr(this,"lastWrittenByte");Cr(this,"littleEndian");Cr(this,"_data");Cr(this,"_mark");Cr(this,"_marks");let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const i=n.offset?n.offset>>>0:0,a=t.byteLength-i;let o=i;(ArrayBuffer.isView(t)||t instanceof DA)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const r=f5[n].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===O1e&&n!=="uint8"&&n!=="int8"){const u=new Uint8Array(this.buffer.slice(i,i+r));u.reverse();const d=new f5[n](u.buffer);return this.offset+=r,d.reverse(),d}const o=new f5[n](a);return this.offset+=r,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let r=0;r<t;r++)n+=this.readChar();return n}readUtf8(t=1){return Ej(this.readBytes(t))}decodeText(t=1,n="utf8"){return Ej(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(C1e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function B0(e){let t=e.length;for(;--t>=0;)e[t]=0}const T1e=3,I1e=258,b9=29,j1e=256,k1e=j1e+1+b9,x9=30,M1e=512,P1e=new Array((k1e+2)*2);B0(P1e);const R1e=new Array(x9*2);B0(R1e);const D1e=new Array(M1e);B0(D1e);const L1e=new Array(I1e-T1e+1);B0(L1e);const B1e=new Array(b9);B0(B1e);const F1e=new Array(x9);B0(F1e);const U1e=(e,t,n,r)=>{let i=e&65535|0,a=e>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+t[r++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var a3=U1e;const z1e=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},q1e=new Uint32Array(z1e()),H1e=(e,t,n,r)=>{const i=q1e,a=r+n;e^=-1;for(let o=r;o<a;o++)e=e>>>8^i[(e^t[o])&255];return e^-1};var Oc=H1e,s3={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},w9={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const G1e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var $1e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)G1e(n,r)&&(e[r]=n[r])}}return e},W1e=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,a=e.length;r<a;r++){let o=e[r];n.set(o,i),i+=o.length}return n},_9={assign:$1e,flattenChunks:W1e};let S9=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{S9=!1}const Ep=new Uint8Array(256);for(let e=0;e<256;e++)Ep[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Ep[254]=Ep[254]=1;var V1e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,a,o=e.length,u=0;for(i=0;i<o;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(u),a=0,i=0;a<u;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|n&63):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|n&63):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|n&63);return t};const Y1e=(e,t)=>{if(t<65534&&e.subarray&&S9)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var X1e=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let o=e[r++];if(o<128){a[i++]=o;continue}let u=Ep[o];if(u>4){a[i++]=65533,r+=u-1;continue}for(o&=u===2?31:u===3?15:7;u>1&&r<n;)o=o<<6|e[r++]&63,u--;if(u>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return Y1e(a,i)},K1e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Ep[e[n]]>t?n:t},o3={string2buf:V1e,buf2string:X1e,utf8border:K1e};function Z1e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Q1e=Z1e;const rv=16209,J1e=16191;var epe=function(t,n){let r,i,a,o,u,d,c,h,g,x,y,C,E,T,I,D,F,U,Z,Q,Y,J,q,oe;const H=t.state;r=t.next_in,q=t.input,i=r+(t.avail_in-5),a=t.next_out,oe=t.output,o=a-(n-t.avail_out),u=a+(t.avail_out-257),d=H.dmax,c=H.wsize,h=H.whave,g=H.wnext,x=H.window,y=H.hold,C=H.bits,E=H.lencode,T=H.distcode,I=(1<<H.lenbits)-1,D=(1<<H.distbits)-1;e:do{C<15&&(y+=q[r++]<<C,C+=8,y+=q[r++]<<C,C+=8),F=E[y&I];t:for(;;){if(U=F>>>24,y>>>=U,C-=U,U=F>>>16&255,U===0)oe[a++]=F&65535;else if(U&16){Z=F&65535,U&=15,U&&(C<U&&(y+=q[r++]<<C,C+=8),Z+=y&(1<<U)-1,y>>>=U,C-=U),C<15&&(y+=q[r++]<<C,C+=8,y+=q[r++]<<C,C+=8),F=T[y&D];n:for(;;){if(U=F>>>24,y>>>=U,C-=U,U=F>>>16&255,U&16){if(Q=F&65535,U&=15,C<U&&(y+=q[r++]<<C,C+=8,C<U&&(y+=q[r++]<<C,C+=8)),Q+=y&(1<<U)-1,Q>d){t.msg="invalid distance too far back",H.mode=rv;break e}if(y>>>=U,C-=U,U=a-o,Q>U){if(U=Q-U,U>h&&H.sane){t.msg="invalid distance too far back",H.mode=rv;break e}if(Y=0,J=x,g===0){if(Y+=c-U,U<Z){Z-=U;do oe[a++]=x[Y++];while(--U);Y=a-Q,J=oe}}else if(g<U){if(Y+=c+g-U,U-=g,U<Z){Z-=U;do oe[a++]=x[Y++];while(--U);if(Y=0,g<Z){U=g,Z-=U;do oe[a++]=x[Y++];while(--U);Y=a-Q,J=oe}}}else if(Y+=g-U,U<Z){Z-=U;do oe[a++]=x[Y++];while(--U);Y=a-Q,J=oe}for(;Z>2;)oe[a++]=J[Y++],oe[a++]=J[Y++],oe[a++]=J[Y++],Z-=3;Z&&(oe[a++]=J[Y++],Z>1&&(oe[a++]=J[Y++]))}else{Y=a-Q;do oe[a++]=oe[Y++],oe[a++]=oe[Y++],oe[a++]=oe[Y++],Z-=3;while(Z>2);Z&&(oe[a++]=oe[Y++],Z>1&&(oe[a++]=oe[Y++]))}}else if((U&64)===0){F=T[(F&65535)+(y&(1<<U)-1)];continue n}else{t.msg="invalid distance code",H.mode=rv;break e}break}}else if((U&64)===0){F=E[(F&65535)+(y&(1<<U)-1)];continue t}else if(U&32){H.mode=J1e;break e}else{t.msg="invalid literal/length code",H.mode=rv;break e}break}}while(r<i&&a<u);Z=C>>3,r-=Z,C-=Z<<3,y&=(1<<C)-1,t.next_in=r,t.next_out=a,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=a<u?257+(u-a):257-(a-u),H.hold=y,H.bits=C};const qh=15,Cj=852,Nj=592,Oj=0,d5=1,Tj=2,tpe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),npe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),rpe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ipe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ape=(e,t,n,r,i,a,o,u)=>{const d=u.bits;let c=0,h=0,g=0,x=0,y=0,C=0,E=0,T=0,I=0,D=0,F,U,Z,Q,Y,J=null,q;const oe=new Uint16Array(qh+1),H=new Uint16Array(qh+1);let G=null,fe,ee,ae;for(c=0;c<=qh;c++)oe[c]=0;for(h=0;h<r;h++)oe[t[n+h]]++;for(y=d,x=qh;x>=1&&oe[x]===0;x--);if(y>x&&(y=x),x===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,u.bits=1,0;for(g=1;g<x&&oe[g]===0;g++);for(y<g&&(y=g),T=1,c=1;c<=qh;c++)if(T<<=1,T-=oe[c],T<0)return-1;if(T>0&&(e===Oj||x!==1))return-1;for(H[1]=0,c=1;c<qh;c++)H[c+1]=H[c]+oe[c];for(h=0;h<r;h++)t[n+h]!==0&&(o[H[t[n+h]]++]=h);if(e===Oj?(J=G=o,q=20):e===d5?(J=tpe,G=npe,q=257):(J=rpe,G=ipe,q=0),D=0,h=0,c=g,Y=a,C=y,E=0,Z=-1,I=1<<y,Q=I-1,e===d5&&I>Cj||e===Tj&&I>Nj)return 1;for(;;){fe=c-E,o[h]+1<q?(ee=0,ae=o[h]):o[h]>=q?(ee=G[o[h]-q],ae=J[o[h]-q]):(ee=96,ae=0),F=1<<c-E,U=1<<C,g=U;do U-=F,i[Y+(D>>E)+U]=fe<<24|ee<<16|ae|0;while(U!==0);for(F=1<<c-1;D&F;)F>>=1;if(F!==0?(D&=F-1,D+=F):D=0,h++,--oe[c]===0){if(c===x)break;c=t[n+o[h]]}if(c>y&&(D&Q)!==Z){for(E===0&&(E=y),Y+=g,C=c-E,T=1<<C;C+E<x&&(T-=oe[C+E],!(T<=0));)C++,T<<=1;if(I+=1<<C,e===d5&&I>Cj||e===Tj&&I>Nj)return 1;Z=D&Q,i[Z]=y<<24|C<<16|Y-a|0}}return D!==0&&(i[Y+D]=c-E<<24|64<<16|0),u.bits=y,0};var X1=ape;const spe=0,A9=1,E9=2,{Z_FINISH:Ij,Z_BLOCK:ope,Z_TREES:iv,Z_OK:zd,Z_STREAM_END:lpe,Z_NEED_DICT:cpe,Z_STREAM_ERROR:Cl,Z_DATA_ERROR:C9,Z_MEM_ERROR:N9,Z_BUF_ERROR:upe,Z_DEFLATED:jj}=w9,Wy=16180,kj=16181,Mj=16182,Pj=16183,Rj=16184,Dj=16185,Lj=16186,Bj=16187,Fj=16188,Uj=16189,R2=16190,gu=16191,h5=16192,zj=16193,p5=16194,qj=16195,Hj=16196,Gj=16197,$j=16198,av=16199,sv=16200,Wj=16201,Vj=16202,Yj=16203,Xj=16204,Kj=16205,m5=16206,Zj=16207,Qj=16208,Ei=16209,O9=16210,T9=16211,fpe=852,dpe=592,hpe=15,ppe=hpe,Jj=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function mpe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Yd=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Wy||t.mode>T9?1:0},I9=e=>{if(Yd(e))return Cl;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Wy,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(fpe),t.distcode=t.distdyn=new Int32Array(dpe),t.sane=1,t.back=-1,zd},j9=e=>{if(Yd(e))return Cl;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,I9(e)},k9=(e,t)=>{let n;if(Yd(e))return Cl;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Cl:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,j9(e))},M9=(e,t)=>{if(!e)return Cl;const n=new mpe;e.state=n,n.strm=e,n.window=null,n.mode=Wy;const r=k9(e,t);return r!==zd&&(e.state=null),r},gpe=e=>M9(e,ppe);let ek=!0,g5,v5;const vpe=e=>{if(ek){g5=new Int32Array(512),v5=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(X1(A9,e.lens,0,288,g5,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;X1(E9,e.lens,0,32,v5,0,e.work,{bits:5}),ek=!1}e.lencode=g5,e.lenbits=9,e.distcode=v5,e.distbits=5},P9=(e,t,n,r)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(t.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(t.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},ype=(e,t)=>{let n,r,i,a,o,u,d,c,h,g,x,y,C,E,T=0,I,D,F,U,Z,Q,Y,J;const q=new Uint8Array(4);let oe,H;const G=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Yd(e)||!e.output||!e.input&&e.avail_in!==0)return Cl;n=e.state,n.mode===gu&&(n.mode=h5),o=e.next_out,i=e.output,d=e.avail_out,a=e.next_in,r=e.input,u=e.avail_in,c=n.hold,h=n.bits,g=u,x=d,J=zd;e:for(;;)switch(n.mode){case Wy:if(n.wrap===0){n.mode=h5;break}for(;h<16;){if(u===0)break e;u--,c+=r[a++]<<h,h+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,q[0]=c&255,q[1]=c>>>8&255,n.check=Oc(n.check,q,2,0),c=0,h=0,n.mode=kj;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Ei;break}if((c&15)!==jj){e.msg="unknown compression method",n.mode=Ei;break}if(c>>>=4,h-=4,Y=(c&15)+8,n.wbits===0&&(n.wbits=Y),Y>15||Y>n.wbits){e.msg="invalid window size",n.mode=Ei;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=c&512?Uj:gu,c=0,h=0;break;case kj:for(;h<16;){if(u===0)break e;u--,c+=r[a++]<<h,h+=8}if(n.flags=c,(n.flags&255)!==jj){e.msg="unknown compression method",n.mode=Ei;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Ei;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(q[0]=c&255,q[1]=c>>>8&255,n.check=Oc(n.check,q,2,0)),c=0,h=0,n.mode=Mj;case Mj:for(;h<32;){if(u===0)break e;u--,c+=r[a++]<<h,h+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(q[0]=c&255,q[1]=c>>>8&255,q[2]=c>>>16&255,q[3]=c>>>24&255,n.check=Oc(n.check,q,4,0)),c=0,h=0,n.mode=Pj;case Pj:for(;h<16;){if(u===0)break e;u--,c+=r[a++]<<h,h+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(q[0]=c&255,q[1]=c>>>8&255,n.check=Oc(n.check,q,2,0)),c=0,h=0,n.mode=Rj;case Rj:if(n.flags&1024){for(;h<16;){if(u===0)break e;u--,c+=r[a++]<<h,h+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(q[0]=c&255,q[1]=c>>>8&255,n.check=Oc(n.check,q,2,0)),c=0,h=0}else n.head&&(n.head.extra=null);n.mode=Dj;case Dj:if(n.flags&1024&&(y=n.length,y>u&&(y=u),y&&(n.head&&(Y=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+y),Y)),n.flags&512&&n.wrap&4&&(n.check=Oc(n.check,r,y,a)),u-=y,a+=y,n.length-=y),n.length))break e;n.length=0,n.mode=Lj;case Lj:if(n.flags&2048){if(u===0)break e;y=0;do Y=r[a+y++],n.head&&Y&&n.length<65536&&(n.head.name+=String.fromCharCode(Y));while(Y&&y<u);if(n.flags&512&&n.wrap&4&&(n.check=Oc(n.check,r,y,a)),u-=y,a+=y,Y)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Bj;case Bj:if(n.flags&4096){if(u===0)break e;y=0;do Y=r[a+y++],n.head&&Y&&n.length<65536&&(n.head.comment+=String.fromCharCode(Y));while(Y&&y<u);if(n.flags&512&&n.wrap&4&&(n.check=Oc(n.check,r,y,a)),u-=y,a+=y,Y)break e}else n.head&&(n.head.comment=null);n.mode=Fj;case Fj:if(n.flags&512){for(;h<16;){if(u===0)break e;u--,c+=r[a++]<<h,h+=8}if(n.wrap&4&&c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Ei;break}c=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=gu;break;case Uj:for(;h<32;){if(u===0)break e;u--,c+=r[a++]<<h,h+=8}e.adler=n.check=Jj(c),c=0,h=0,n.mode=R2;case R2:if(n.havedict===0)return e.next_out=o,e.avail_out=d,e.next_in=a,e.avail_in=u,n.hold=c,n.bits=h,cpe;e.adler=n.check=1,n.mode=gu;case gu:if(t===ope||t===iv)break e;case h5:if(n.last){c>>>=h&7,h-=h&7,n.mode=m5;break}for(;h<3;){if(u===0)break e;u--,c+=r[a++]<<h,h+=8}switch(n.last=c&1,c>>>=1,h-=1,c&3){case 0:n.mode=zj;break;case 1:if(vpe(n),n.mode=av,t===iv){c>>>=2,h-=2;break e}break;case 2:n.mode=Hj;break;case 3:e.msg="invalid block type",n.mode=Ei}c>>>=2,h-=2;break;case zj:for(c>>>=h&7,h-=h&7;h<32;){if(u===0)break e;u--,c+=r[a++]<<h,h+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Ei;break}if(n.length=c&65535,c=0,h=0,n.mode=p5,t===iv)break e;case p5:n.mode=qj;case qj:if(y=n.length,y){if(y>u&&(y=u),y>d&&(y=d),y===0)break e;i.set(r.subarray(a,a+y),o),u-=y,a+=y,d-=y,o+=y,n.length-=y;break}n.mode=gu;break;case Hj:for(;h<14;){if(u===0)break e;u--,c+=r[a++]<<h,h+=8}if(n.nlen=(c&31)+257,c>>>=5,h-=5,n.ndist=(c&31)+1,c>>>=5,h-=5,n.ncode=(c&15)+4,c>>>=4,h-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Ei;break}n.have=0,n.mode=Gj;case Gj:for(;n.have<n.ncode;){for(;h<3;){if(u===0)break e;u--,c+=r[a++]<<h,h+=8}n.lens[G[n.have++]]=c&7,c>>>=3,h-=3}for(;n.have<19;)n.lens[G[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,oe={bits:n.lenbits},J=X1(spe,n.lens,0,19,n.lencode,0,n.work,oe),n.lenbits=oe.bits,J){e.msg="invalid code lengths set",n.mode=Ei;break}n.have=0,n.mode=$j;case $j:for(;n.have<n.nlen+n.ndist;){for(;T=n.lencode[c&(1<<n.lenbits)-1],I=T>>>24,D=T>>>16&255,F=T&65535,!(I<=h);){if(u===0)break e;u--,c+=r[a++]<<h,h+=8}if(F<16)c>>>=I,h-=I,n.lens[n.have++]=F;else{if(F===16){for(H=I+2;h<H;){if(u===0)break e;u--,c+=r[a++]<<h,h+=8}if(c>>>=I,h-=I,n.have===0){e.msg="invalid bit length repeat",n.mode=Ei;break}Y=n.lens[n.have-1],y=3+(c&3),c>>>=2,h-=2}else if(F===17){for(H=I+3;h<H;){if(u===0)break e;u--,c+=r[a++]<<h,h+=8}c>>>=I,h-=I,Y=0,y=3+(c&7),c>>>=3,h-=3}else{for(H=I+7;h<H;){if(u===0)break e;u--,c+=r[a++]<<h,h+=8}c>>>=I,h-=I,Y=0,y=11+(c&127),c>>>=7,h-=7}if(n.have+y>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Ei;break}for(;y--;)n.lens[n.have++]=Y}}if(n.mode===Ei)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Ei;break}if(n.lenbits=9,oe={bits:n.lenbits},J=X1(A9,n.lens,0,n.nlen,n.lencode,0,n.work,oe),n.lenbits=oe.bits,J){e.msg="invalid literal/lengths set",n.mode=Ei;break}if(n.distbits=6,n.distcode=n.distdyn,oe={bits:n.distbits},J=X1(E9,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,oe),n.distbits=oe.bits,J){e.msg="invalid distances set",n.mode=Ei;break}if(n.mode=av,t===iv)break e;case av:n.mode=sv;case sv:if(u>=6&&d>=258){e.next_out=o,e.avail_out=d,e.next_in=a,e.avail_in=u,n.hold=c,n.bits=h,epe(e,x),o=e.next_out,i=e.output,d=e.avail_out,a=e.next_in,r=e.input,u=e.avail_in,c=n.hold,h=n.bits,n.mode===gu&&(n.back=-1);break}for(n.back=0;T=n.lencode[c&(1<<n.lenbits)-1],I=T>>>24,D=T>>>16&255,F=T&65535,!(I<=h);){if(u===0)break e;u--,c+=r[a++]<<h,h+=8}if(D&&(D&240)===0){for(U=I,Z=D,Q=F;T=n.lencode[Q+((c&(1<<U+Z)-1)>>U)],I=T>>>24,D=T>>>16&255,F=T&65535,!(U+I<=h);){if(u===0)break e;u--,c+=r[a++]<<h,h+=8}c>>>=U,h-=U,n.back+=U}if(c>>>=I,h-=I,n.back+=I,n.length=F,D===0){n.mode=Kj;break}if(D&32){n.back=-1,n.mode=gu;break}if(D&64){e.msg="invalid literal/length code",n.mode=Ei;break}n.extra=D&15,n.mode=Wj;case Wj:if(n.extra){for(H=n.extra;h<H;){if(u===0)break e;u--,c+=r[a++]<<h,h+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Vj;case Vj:for(;T=n.distcode[c&(1<<n.distbits)-1],I=T>>>24,D=T>>>16&255,F=T&65535,!(I<=h);){if(u===0)break e;u--,c+=r[a++]<<h,h+=8}if((D&240)===0){for(U=I,Z=D,Q=F;T=n.distcode[Q+((c&(1<<U+Z)-1)>>U)],I=T>>>24,D=T>>>16&255,F=T&65535,!(U+I<=h);){if(u===0)break e;u--,c+=r[a++]<<h,h+=8}c>>>=U,h-=U,n.back+=U}if(c>>>=I,h-=I,n.back+=I,D&64){e.msg="invalid distance code",n.mode=Ei;break}n.offset=F,n.extra=D&15,n.mode=Yj;case Yj:if(n.extra){for(H=n.extra;h<H;){if(u===0)break e;u--,c+=r[a++]<<h,h+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Ei;break}n.mode=Xj;case Xj:if(d===0)break e;if(y=x-d,n.offset>y){if(y=n.offset-y,y>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Ei;break}y>n.wnext?(y-=n.wnext,C=n.wsize-y):C=n.wnext-y,y>n.length&&(y=n.length),E=n.window}else E=i,C=o-n.offset,y=n.length;y>d&&(y=d),d-=y,n.length-=y;do i[o++]=E[C++];while(--y);n.length===0&&(n.mode=sv);break;case Kj:if(d===0)break e;i[o++]=n.length,d--,n.mode=sv;break;case m5:if(n.wrap){for(;h<32;){if(u===0)break e;u--,c|=r[a++]<<h,h+=8}if(x-=d,e.total_out+=x,n.total+=x,n.wrap&4&&x&&(e.adler=n.check=n.flags?Oc(n.check,i,x,o-x):a3(n.check,i,x,o-x)),x=d,n.wrap&4&&(n.flags?c:Jj(c))!==n.check){e.msg="incorrect data check",n.mode=Ei;break}c=0,h=0}n.mode=Zj;case Zj:if(n.wrap&&n.flags){for(;h<32;){if(u===0)break e;u--,c+=r[a++]<<h,h+=8}if(n.wrap&4&&c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Ei;break}c=0,h=0}n.mode=Qj;case Qj:J=lpe;break e;case Ei:J=C9;break e;case O9:return N9;case T9:default:return Cl}return e.next_out=o,e.avail_out=d,e.next_in=a,e.avail_in=u,n.hold=c,n.bits=h,(n.wsize||x!==e.avail_out&&n.mode<Ei&&(n.mode<m5||t!==Ij))&&P9(e,e.output,e.next_out,x-e.avail_out),g-=e.avail_in,x-=e.avail_out,e.total_in+=g,e.total_out+=x,n.total+=x,n.wrap&4&&x&&(e.adler=n.check=n.flags?Oc(n.check,i,x,e.next_out-x):a3(n.check,i,x,e.next_out-x)),e.data_type=n.bits+(n.last?64:0)+(n.mode===gu?128:0)+(n.mode===av||n.mode===p5?256:0),(g===0&&x===0||t===Ij)&&J===zd&&(J=upe),J},bpe=e=>{if(Yd(e))return Cl;let t=e.state;return t.window&&(t.window=null),e.state=null,zd},xpe=(e,t)=>{if(Yd(e))return Cl;const n=e.state;return(n.wrap&2)===0?Cl:(n.head=t,t.done=!1,zd)},wpe=(e,t)=>{const n=t.length;let r,i,a;return Yd(e)||(r=e.state,r.wrap!==0&&r.mode!==R2)?Cl:r.mode===R2&&(i=1,i=a3(i,t,n,0),i!==r.check)?C9:(a=P9(e,t,n,n),a?(r.mode=O9,N9):(r.havedict=1,zd))};var _pe=j9,Spe=k9,Ape=I9,Epe=gpe,Cpe=M9,Npe=ype,Ope=bpe,Tpe=xpe,Ipe=wpe,jpe="pako inflate (from Nodeca project)",bu={inflateReset:_pe,inflateReset2:Spe,inflateResetKeep:Ape,inflateInit:Epe,inflateInit2:Cpe,inflate:Npe,inflateEnd:Ope,inflateGetHeader:Tpe,inflateSetDictionary:Ipe,inflateInfo:jpe};function kpe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Mpe=kpe;const R9=Object.prototype.toString,{Z_NO_FLUSH:Ppe,Z_FINISH:Rpe,Z_OK:Cp,Z_STREAM_END:y5,Z_NEED_DICT:b5,Z_STREAM_ERROR:Dpe,Z_DATA_ERROR:tk,Z_MEM_ERROR:Lpe}=w9;function tm(e){this.options=_9.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Q1e,this.strm.avail_out=0;let n=bu.inflateInit2(this.strm,t.windowBits);if(n!==Cp)throw new Error(s3[n]);if(this.header=new Mpe,bu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=o3.string2buf(t.dictionary):R9.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=bu.inflateSetDictionary(this.strm,t.dictionary),n!==Cp)))throw new Error(s3[n])}tm.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,o,u;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?Rpe:Ppe,R9.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=bu.inflate(n,o),a===b5&&i&&(a=bu.inflateSetDictionary(n,i),a===Cp?a=bu.inflate(n,o):a===tk&&(a=b5));n.avail_in>0&&a===y5&&n.state.wrap>0&&e[n.next_in]!==0;)bu.inflateReset(n),a=bu.inflate(n,o);switch(a){case Dpe:case tk:case b5:case Lpe:return this.onEnd(a),this.ended=!0,!1}if(u=n.avail_out,n.next_out&&(n.avail_out===0||a===y5))if(this.options.to==="string"){let d=o3.utf8border(n.output,n.next_out),c=n.next_out-d,h=o3.buf2string(n.output,d);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(d,d+c),0),this.onData(h)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===Cp&&u===0)){if(a===y5)return a=bu.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};tm.prototype.onData=function(e){this.chunks.push(e)};tm.prototype.onEnd=function(e){e===Cp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_9.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Bpe(e,t){const n=new tm(t);if(n.push(e),n.err)throw n.msg||s3[n.err];return n.result}var Fpe=tm,Upe=Bpe,zpe={Inflate:Fpe,inflate:Upe};const{Inflate:qpe,inflate:Hpe}=zpe;var nk=qpe,Gpe=Hpe;const D9=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;D9[e]=t}const rk=4294967295;function $pe(e,t,n){let r=e;for(let i=0;i<n;i++)r=D9[(r^t[i])&255]^r>>>8;return r}function Wpe(e,t){return($pe(rk,e,t)^rk)>>>0}function ik(e,t,n){const r=e.readUint32(),i=Wpe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function L9(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function B9(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function F9(e,t,n,r){let i=0;if(n.length===0)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function U9(e,t,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(n[a]>>1)&255;for(;a<r;a++)t[a]=e[a]+(t[a-i]+n[a]>>1)&255}}function z9(e,t,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+n[a]&255;for(;a<r;a++)t[a]=e[a]+Vpe(t[a-i],n[a],n[a-i])&255}}function Vpe(e,t,n){const r=e+t-n,i=Math.abs(r-e),a=Math.abs(r-t),o=Math.abs(r-n);return i<=a&&i<=o?e:a<=o?t:n}function Ype(e,t,n,r,i,a){switch(e){case 0:L9(t,n,i);break;case 1:B9(t,n,i,a);break;case 2:F9(t,n,r,i);break;case 3:U9(t,n,r,i,a);break;case 4:z9(t,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const Xpe=new Uint16Array([255]),Kpe=new Uint8Array(Xpe.buffer),Zpe=Kpe[0]===255;function Qpe(e){const{data:t,width:n,height:r,channels:i,depth:a}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(a/8)*i,d=new Uint8Array(r*n*u);let c=0;for(let h=0;h<7;h++){const g=o[h],x=Math.ceil((n-g.x)/g.xStep),y=Math.ceil((r-g.y)/g.yStep);if(x<=0||y<=0)continue;const C=x*u,E=new Uint8Array(C);for(let T=0;T<y;T++){const I=t[c++],D=t.subarray(c,c+C);c+=C;const F=new Uint8Array(C);Ype(I,D,F,E,C,u),E.set(F);for(let U=0;U<x;U++){const Z=g.x+U*g.xStep,Q=g.y+T*g.yStep;if(!(Z>=n||Q>=r))for(let Y=0;Y<u;Y++)d[(Q*n+Z)*u+Y]=F[U*u+Y]}}}if(a===16){const h=new Uint16Array(d.buffer);if(Zpe)for(let g=0;g<h.length;g++)h[g]=Jpe(h[g]);return h}else return d}function Jpe(e){return(e&255)<<8|e>>8&255}const eme=new Uint16Array([255]),tme=new Uint8Array(eme.buffer),nme=tme[0]===255,rme=new Uint8Array(0);function ak(e){const{data:t,width:n,height:r,channels:i,depth:a}=e,o=Math.ceil(a/8)*i,u=Math.ceil(a/8*i*n),d=new Uint8Array(r*u);let c=rme,h=0,g,x;for(let y=0;y<r;y++){switch(g=t.subarray(h+1,h+1+u),x=d.subarray(y*u,(y+1)*u),t[h]){case 0:L9(g,x,u);break;case 1:B9(g,x,u,o);break;case 2:F9(g,x,c,u);break;case 3:U9(g,x,c,u,o);break;case 4:z9(g,x,c,u,o);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}c=x,h+=u+1}if(a===16){const y=new Uint16Array(d.buffer);if(nme)for(let C=0;C<y.length;C++)y[C]=ime(y[C]);return y}else return d}function ime(e){return(e&255)<<8|e>>8&255}const _v=Uint8Array.of(137,80,78,71,13,10,26,10);function sk(e){if(!ame(e.readBytes(_v.length)))throw new Error("wrong PNG signature")}function ame(e){if(e.length<_v.length)return!1;for(let t=0;t<_v.length;t++)if(e[t]!==_v[t])return!1;return!0}const sme="tEXt",ome=0,q9=new TextDecoder("latin1");function lme(e){if(ume(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const cme=/^[\u0000-\u00FF]*$/;function ume(e){if(!cme.test(e))throw new Error("invalid latin1 text")}function fme(e,t,n){const r=H9(t);e[r]=dme(t,n-r.length-1)}function H9(e){for(e.mark();e.readByte()!==ome;);const t=e.offset;e.reset();const n=q9.decode(e.readBytes(t-e.offset-1));return e.skip(1),lme(n),n}function dme(e,t){return q9.decode(e.readBytes(t))}const Wo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},x5={UNKNOWN:-1,DEFLATE:0},ok={UNKNOWN:-1,ADAPTIVE:0},w5={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ov={NONE:0,BACKGROUND:1,PREVIOUS:2},_5={SOURCE:0,OVER:1};class hme extends DA{constructor(n,r={}){super(n);Cr(this,"_checkCrc");Cr(this,"_inflator");Cr(this,"_png");Cr(this,"_apng");Cr(this,"_end");Cr(this,"_hasPalette");Cr(this,"_palette");Cr(this,"_hasTransparency");Cr(this,"_transparency");Cr(this,"_compressionMethod");Cr(this,"_filterMethod");Cr(this,"_interlaceMethod");Cr(this,"_colorType");Cr(this,"_isAnimated");Cr(this,"_numberOfFrames");Cr(this,"_numberOfPlays");Cr(this,"_frames");Cr(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new nk,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=x5.UNKNOWN,this._filterMethod=ok.UNKNOWN,this._interlaceMethod=w5.UNKNOWN,this._colorType=Wo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(sk(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(sk(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case sme:fme(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?ik(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?ik(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=pme(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Wo.GREYSCALE:i=1;break;case Wo.TRUECOLOUR:i=3;break;case Wo.INDEXED_COLOUR:i=1;break;case Wo.GREYSCALE_ALPHA:i=2;break;case Wo.TRUECOLOUR_ALPHA:i=4;break;case Wo.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==x5.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<r;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Wo.GREYSCALE:case Wo.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Wo.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Wo.UNKNOWN:case Wo.GREYSCALE_ALPHA:case Wo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=H9(this),i=this.readUint8();if(i!==x5.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:Gpe(a)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=ak({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(i,a,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case ov.NONE:break;case ov.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const u=(a*n.width+o)*this._png.channels;for(let d=0;d<this._png.channels;d++)i.data[u+d]=0}break;case ov.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,a=(o,u)=>{const d=((o+r.yOffset)*this._png.width+r.xOffset+u)*this._png.channels,c=(o*r.width+u)*this._png.channels;return{index:d,frameIndex:c}};switch(r.blendOp){case _5.SOURCE:for(let o=0;o<r.height;o++)for(let u=0;u<r.width;u++){const{index:d,frameIndex:c}=a(o,u);for(let h=0;h<this._png.channels;h++)n.data[d+h]=r.data[c+h]}break;case _5.OVER:for(let o=0;o<r.height;o++)for(let u=0;u<r.width;u++){const{index:d,frameIndex:c}=a(o,u);for(let h=0;h<this._png.channels;h++){const g=r.data[c+this._png.channels-1]/i,x=h%(this._png.channels-1)===0?1:r.data[c+h],y=Math.floor(g*x+(1-g)*n.data[d+h]);n.data[d+h]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==ok.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===w5.NO_INTERLACE)this._png.data=ak({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===w5.ADAM7)this._png.data=Qpe({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ov.NONE,blendOp:_5.SOURCE,data:n}),this._inflator=new nk,this._writingDataChunks=!1}}function pme(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var lk;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(lk||(lk={}));function mme(e,t){return new hme(e,t).decode()}var Mn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function S5(){Mn.console&&typeof Mn.console.log=="function"&&Mn.console.log.apply(Mn.console,arguments)}var ei={log:S5,warn:function(e){Mn.console&&(typeof Mn.console.warn=="function"?Mn.console.warn.apply(Mn.console,arguments):S5.call(null,arguments))},error:function(e){Mn.console&&(typeof Mn.console.error=="function"?Mn.console.error.apply(Mn.console,arguments):S5(e))}};function A5(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){gd(r.response,t,n)},r.onerror=function(){ei.error("could not download file")},r.send()}function ck(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function lv(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var gd=Mn.saveAs||((typeof window>"u"?"undefined":Ur(window))!=="object"||window!==Mn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Mn.URL||Mn.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?ck(i.href)?A5(e,t,n):lv(i,i.target="_blank"):lv(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){lv(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(ck(e))A5(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){lv(r)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:Ur(a)!=="object"&&(ei.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return A5(e,t,n);var i=e.type==="application/octet-stream",a=/constructor/i.test(Mn.HTMLElement)||Mn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":Ur(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var h=u.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},u.readAsDataURL(e)}else{var d=Mn.URL||Mn.webkitURL,c=d.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){d.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function G9(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),d=this.g.toString(16),c=this.b.toString(16);return u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),c.length==1&&(c="0"+c),"#"+u+d+c}}var Sv=Mn.atob.bind(Mn),uk=Mn.btoa.bind(Mn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function E5(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n=Ps(n,r,i,a,t[0],7,-680876936),a=Ps(a,n,r,i,t[1],12,-389564586),i=Ps(i,a,n,r,t[2],17,606105819),r=Ps(r,i,a,n,t[3],22,-1044525330),n=Ps(n,r,i,a,t[4],7,-176418897),a=Ps(a,n,r,i,t[5],12,1200080426),i=Ps(i,a,n,r,t[6],17,-1473231341),r=Ps(r,i,a,n,t[7],22,-45705983),n=Ps(n,r,i,a,t[8],7,1770035416),a=Ps(a,n,r,i,t[9],12,-1958414417),i=Ps(i,a,n,r,t[10],17,-42063),r=Ps(r,i,a,n,t[11],22,-1990404162),n=Ps(n,r,i,a,t[12],7,1804603682),a=Ps(a,n,r,i,t[13],12,-40341101),i=Ps(i,a,n,r,t[14],17,-1502002290),n=Rs(n,r=Ps(r,i,a,n,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Rs(a,n,r,i,t[6],9,-1069501632),i=Rs(i,a,n,r,t[11],14,643717713),r=Rs(r,i,a,n,t[0],20,-373897302),n=Rs(n,r,i,a,t[5],5,-701558691),a=Rs(a,n,r,i,t[10],9,38016083),i=Rs(i,a,n,r,t[15],14,-660478335),r=Rs(r,i,a,n,t[4],20,-405537848),n=Rs(n,r,i,a,t[9],5,568446438),a=Rs(a,n,r,i,t[14],9,-1019803690),i=Rs(i,a,n,r,t[3],14,-187363961),r=Rs(r,i,a,n,t[8],20,1163531501),n=Rs(n,r,i,a,t[13],5,-1444681467),a=Rs(a,n,r,i,t[2],9,-51403784),i=Rs(i,a,n,r,t[7],14,1735328473),n=Ds(n,r=Rs(r,i,a,n,t[12],20,-1926607734),i,a,t[5],4,-378558),a=Ds(a,n,r,i,t[8],11,-2022574463),i=Ds(i,a,n,r,t[11],16,1839030562),r=Ds(r,i,a,n,t[14],23,-35309556),n=Ds(n,r,i,a,t[1],4,-1530992060),a=Ds(a,n,r,i,t[4],11,1272893353),i=Ds(i,a,n,r,t[7],16,-155497632),r=Ds(r,i,a,n,t[10],23,-1094730640),n=Ds(n,r,i,a,t[13],4,681279174),a=Ds(a,n,r,i,t[0],11,-358537222),i=Ds(i,a,n,r,t[3],16,-722521979),r=Ds(r,i,a,n,t[6],23,76029189),n=Ds(n,r,i,a,t[9],4,-640364487),a=Ds(a,n,r,i,t[12],11,-421815835),i=Ds(i,a,n,r,t[15],16,530742520),n=Ls(n,r=Ds(r,i,a,n,t[2],23,-995338651),i,a,t[0],6,-198630844),a=Ls(a,n,r,i,t[7],10,1126891415),i=Ls(i,a,n,r,t[14],15,-1416354905),r=Ls(r,i,a,n,t[5],21,-57434055),n=Ls(n,r,i,a,t[12],6,1700485571),a=Ls(a,n,r,i,t[3],10,-1894986606),i=Ls(i,a,n,r,t[10],15,-1051523),r=Ls(r,i,a,n,t[1],21,-2054922799),n=Ls(n,r,i,a,t[8],6,1873313359),a=Ls(a,n,r,i,t[15],10,-30611744),i=Ls(i,a,n,r,t[6],15,-1560198380),r=Ls(r,i,a,n,t[13],21,1309151649),n=Ls(n,r,i,a,t[4],6,-145523070),a=Ls(a,n,r,i,t[11],10,-1120210379),i=Ls(i,a,n,r,t[2],15,718787259),r=Ls(r,i,a,n,t[9],21,-343485551),e[0]=If(n,e[0]),e[1]=If(r,e[1]),e[2]=If(i,e[2]),e[3]=If(a,e[3])}function Vy(e,t,n,r,i,a){return t=If(If(t,e),If(r,a)),If(t<<i|t>>>32-i,n)}function Ps(e,t,n,r,i,a,o){return Vy(t&n|~t&r,e,t,i,a,o)}function Rs(e,t,n,r,i,a,o){return Vy(t&r|n&~r,e,t,i,a,o)}function Ds(e,t,n,r,i,a,o){return Vy(t^n^r,e,t,i,a,o)}function Ls(e,t,n,r,i,a,o){return Vy(n^(t|~r),e,t,i,a,o)}function $9(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)E5(r,gme(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(E5(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,E5(r,i),r}function gme(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var fk="0123456789abcdef".split("");function vme(e){for(var t="",n=0;n<4;n++)t+=fk[e>>8*n+4&15]+fk[e>>8*n&15];return t}function yme(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function l3(e){return $9(e).map(yme).join("")}var bme=(function(e){for(var t=0;t<e.length;t++)e[t]=vme(e[t]);return e.join("")})($9("hello"))!="5d41402abc4b2a76b9719d911017c592";function If(e,t){if(bme){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function c3(e,t){var n,r,i,a;if(e!==n){for(var o=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),u=[],d=0;d<256;d++)u[d]=d;var c=0;for(d=0;d<256;d++){var h=u[d];c=(c+h+o.charCodeAt(d))%256,u[d]=u[c],u[c]=h}n=e,r=u}else u=r;var g=t.length,x=0,y=0,C="";for(d=0;d<g;d++)y=(y+(h=u[x=(x+1)%256]))%256,u[x]=u[y],u[y]=h,o=u[(u[x]+u[y])%256],C+=String.fromCharCode(t.charCodeAt(d)^o);return C}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var dk={print:4,modify:8,copy:16,"annot-forms":32};function Xh(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(u){if(dk.perm!==void 0)throw new Error("Invalid permission: "+u);i+=dk[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=l3(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=c3(this.encryptionKey,this.padding)}function Kh(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function hk(e){if(Ur(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[n]){var o=t[n][a];try{o[0].apply(e,r)}catch(u){Mn.console&&ei.error("jsPDF PubSub Error",u.message,u)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function D2(e){if(!(this instanceof D2))return new D2(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function W9(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function bd(e,t,n,r,i){if(!(this instanceof bd))return new bd(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,W9.call(this,r,i)}function t0(e,t,n,r,i){if(!(this instanceof t0))return new t0(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,W9.call(this,r,i)}function ln(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],u=1,d=16,c="S",h=null;Ur(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),u=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(d=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var g=e.putOnlyUsedFonts||!1,x={},y={internal:{},__private__:{}};y.__private__.PubSub=hk;var C="1.3",E=y.__private__.getPdfVersion=function(){return C};y.__private__.setPdfVersion=function(L){C=L};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return T};var I=y.__private__.getPageFormat=function(L){return T[L]};i=i||"a4";var D="compat",F="advanced",U=D;function Z(){this.saveGraphicsState(),ye(new Zt(In,0,0,-In,0,Bo()*In).toString()+" cm"),this.setFontSize(this.getFontSize()/In),c="n",U=F}function Q(){this.restoreGraphicsState(),c="S",U=D}var Y=y.__private__.combineFontStyleAndFontWeight=function(L,re){if(L=="bold"&&re=="normal"||L=="bold"&&re==400||L=="normal"&&re=="italic"||L=="bold"&&re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return re&&(L=re==400||re==="normal"?L==="italic"?"italic":"normal":re!=700&&re!=="bold"||L!=="normal"?(re==700?"bold":re)+""+L:"bold"),L};y.advancedAPI=function(L){var re=U===D;return re&&Z.call(this),typeof L!="function"||(L(this),re&&Q.call(this)),this},y.compatAPI=function(L){var re=U===F;return re&&Q.call(this),typeof L!="function"||(L(this),re&&Z.call(this)),this},y.isAdvancedAPI=function(){return U===F};var J,q=function(L){if(U!==F)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},oe=y.roundToPrecision=y.__private__.roundToPrecision=function(L,re){var Ae=t||re;if(isNaN(L)||isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Ae).replace(/0+$/,"")};J=y.hpf=y.__private__.hpf=typeof d=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(L,d)}:d==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(L,16)};var H=y.f2=y.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return oe(L,2)},G=y.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return oe(L,3)},fe=y.scale=y.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return U===D?L*In:U===F?L:void 0},ee=function(L){return fe((function(re){return U===D?Bo()-re:U===F?re:void 0})(L))};y.__private__.setPrecision=y.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var ae,ie="00000000000000000000000000000000",K=y.__private__.getFileId=function(){return ie},ve=y.__private__.setFileId=function(L){return ie=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(zr=new Xh(h.userPermissions,h.userPassword,h.ownerPassword,ie)),ie};y.setFileId=function(L){return ve(L),this},y.getFileId=function(){return K()};var Te=y.__private__.convertDateToPDFDate=function(L){var re=L.getTimezoneOffset(),Ae=re<0?"+":"-",ke=Math.floor(Math.abs(re/60)),Fe=Math.abs(re%60),dt=[Ae,me(ke),"'",me(Fe),"'"].join("");return["D:",L.getFullYear(),me(L.getMonth()+1),me(L.getDate()),me(L.getHours()),me(L.getMinutes()),me(L.getSeconds()),dt].join("")},we=y.__private__.convertPDFDateToDate=function(L){var re=parseInt(L.substr(2,4),10),Ae=parseInt(L.substr(6,2),10)-1,ke=parseInt(L.substr(8,2),10),Fe=parseInt(L.substr(10,2),10),dt=parseInt(L.substr(12,2),10),yt=parseInt(L.substr(14,2),10);return new Date(re,Ae,ke,Fe,dt,yt,0)},ue=y.__private__.setCreationDate=function(L){var re;if(L===void 0&&(L=new Date),L instanceof Date)re=Te(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");re=L}return ae=re},V=y.__private__.getCreationDate=function(L){var re=ae;return L==="jsDate"&&(re=we(ae)),re};y.setCreationDate=function(L){return ue(L),this},y.getCreationDate=function(L){return V(L)};var he,me=y.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},Ce=y.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},xe=0,Me=[],ze=[],Oe=0,Ge=[],Je=[],qe=!1,lt=ze;y.__private__.setCustomOutputDestination=function(L){qe=!0,lt=L};var bt=function(L){qe||(lt=L)};y.__private__.resetCustomOutputDestination=function(){qe=!1,lt=ze};var ye=y.__private__.out=function(L){return L=L.toString(),Oe+=L.length+1,lt.push(L),lt},wt=y.__private__.write=function(L){return ye(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Rt=y.__private__.getArrayBuffer=function(L){for(var re=L.length,Ae=new ArrayBuffer(re),ke=new Uint8Array(Ae);re--;)ke[re]=L.charCodeAt(re);return Ae},_t=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return _t};var nt=e.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(L){return nt=U===F?L/In:L,this};var en,at=y.__private__.getFontSize=y.getFontSize=function(){return U===D?nt:nt*In},an=e.R2L||!1;y.__private__.setR2L=y.setR2L=function(L){return an=L,this},y.__private__.getR2L=y.getR2L=function(){return an};var sn,yn=y.__private__.setZoomMode=function(L){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))en=L;else if(isNaN(L)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');en=L}else en=parseInt(L,10)};y.__private__.getZoomMode=function(){return en};var Fn,cn=y.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');sn=L};y.__private__.getPageMode=function(){return sn};var zn=y.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');Fn=L};y.__private__.getLayoutMode=function(){return Fn},y.__private__.setDisplayMode=y.setDisplayMode=function(L,re,Ae){return yn(L),zn(re),cn(Ae),this};var Nn={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(L){if(Object.keys(Nn).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Nn[L]},y.__private__.getDocumentProperties=function(){return Nn},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(L){for(var re in Nn)Nn.hasOwnProperty(re)&&L[re]&&(Nn[re]=L[re]);return this},y.__private__.setDocumentProperty=function(L,re){if(Object.keys(Nn).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Nn[L]=re};var Ot,In,Ht,ci,tn,rt={},Dt={},Ft=[],Ct={},cr={},pn={},_n={},Xt=null,Sn=0,Kt=[],Xn=new hk(y),ui=e.hotfixes||[],Ri={},Ir={},ea=[],Zt=function L(re,Ae,ke,Fe,dt,yt){if(!(this instanceof L))return new L(re,Ae,ke,Fe,dt,yt);isNaN(re)&&(re=1),isNaN(Ae)&&(Ae=0),isNaN(ke)&&(ke=0),isNaN(Fe)&&(Fe=1),isNaN(dt)&&(dt=0),isNaN(yt)&&(yt=0),this._matrix=[re,Ae,ke,Fe,dt,yt]};Object.defineProperty(Zt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Zt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Zt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Zt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Zt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Zt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Zt.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Zt.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Zt.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Zt.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Zt.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Zt.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Zt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Zt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Zt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Zt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Zt.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(J).join(L)},Zt.prototype.multiply=function(L){var re=L.sx*this.sx+L.shy*this.shx,Ae=L.sx*this.shy+L.shy*this.sy,ke=L.shx*this.sx+L.sy*this.shx,Fe=L.shx*this.shy+L.sy*this.sy,dt=L.tx*this.sx+L.ty*this.shx+this.tx,yt=L.tx*this.shy+L.ty*this.sy+this.ty;return new Zt(re,Ae,ke,Fe,dt,yt)},Zt.prototype.decompose=function(){var L=this.sx,re=this.shy,Ae=this.shx,ke=this.sy,Fe=this.tx,dt=this.ty,yt=Math.sqrt(L*L+re*re),Pt=(L/=yt)*Ae+(re/=yt)*ke;Ae-=L*Pt,ke-=re*Pt;var At=Math.sqrt(Ae*Ae+ke*ke);return Pt/=At,L*(ke/=At)<re*(Ae/=At)&&(L=-L,re=-re,Pt=-Pt,yt=-yt),{scale:new Zt(yt,0,0,At,0,0),translate:new Zt(1,0,0,1,Fe,dt),rotate:new Zt(L,re,-re,L,0,0),skew:new Zt(1,0,Pt,1,0,0)}},Zt.prototype.toString=function(L){return this.join(" ")},Zt.prototype.inversed=function(){var L=this.sx,re=this.shy,Ae=this.shx,ke=this.sy,Fe=this.tx,dt=this.ty,yt=1/(L*ke-re*Ae),Pt=ke*yt,At=-re*yt,bn=-Ae*yt,Lt=L*yt;return new Zt(Pt,At,bn,Lt,-Pt*Fe-bn*dt,-At*Fe-Lt*dt)},Zt.prototype.applyToPoint=function(L){var re=L.x*this.sx+L.y*this.shx+this.tx,Ae=L.x*this.shy+L.y*this.sy+this.ty;return new Mr(re,Ae)},Zt.prototype.applyToRectangle=function(L){var re=this.applyToPoint(L),Ae=this.applyToPoint(new Mr(L.x+L.w,L.y+L.h));return new lo(re.x,re.y,Ae.x-re.x,Ae.y-re.y)},Zt.prototype.clone=function(){var L=this.sx,re=this.shy,Ae=this.shx,ke=this.sy,Fe=this.tx,dt=this.ty;return new Zt(L,re,Ae,ke,Fe,dt)},y.Matrix=Zt;var Di=y.matrixMult=function(L,re){return re.multiply(L)},io=new Zt(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=io;var Ti=function(L,re){if(!cr[L]){var Ae=(re instanceof bd?"Sh":"P")+(Object.keys(Ct).length+1).toString(10);re.id=Ae,cr[L]=Ae,Ct[Ae]=re,Xn.publish("addPattern",re)}};y.ShadingPattern=bd,y.TilingPattern=t0,y.addShadingPattern=function(L,re){return q("addShadingPattern()"),Ti(L,re),this},y.beginTilingPattern=function(L){q("beginTilingPattern()"),ll(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},y.endTilingPattern=function(L,re){q("endTilingPattern()"),re.stream=Je[he].join(`
`),Ti(L,re),Xn.publish("endTilingPattern",re),ea.pop().restore()};var Ea,qn=y.__private__.newObject=function(){var L=Nr();return hr(L,!0),L},Nr=y.__private__.newObjectDeferred=function(){return xe++,Me[xe]=function(){return Oe},xe},hr=function(L,re){return re=typeof re=="boolean"&&re,Me[L]=Oe,re&&ye(L+" 0 obj"),L},Nt=y.__private__.newAdditionalObject=function(){var L={objId:Nr(),content:""};return Ge.push(L),L},xi=Nr(),pr=Nr(),Gn=y.__private__.decodeColorString=function(L){var re=L.split(" ");if(re.length!==2||re[1]!=="g"&&re[1]!=="G")re.length!==5||re[4]!=="k"&&re[4]!=="K"||(re=[(1-re[0])*(1-re[3]),(1-re[1])*(1-re[3]),(1-re[2])*(1-re[3]),"r"]);else{var Ae=parseFloat(re[0]);re=[Ae,Ae,Ae,"r"]}for(var ke="#",Fe=0;Fe<3;Fe++)ke+=("0"+Math.floor(255*parseFloat(re[Fe])).toString(16)).slice(-2);return ke},fi=y.__private__.encodeColorString=function(L){var re;typeof L=="string"&&(L={ch1:L});var Ae=L.ch1,ke=L.ch2,Fe=L.ch3,dt=L.ch4,yt=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ae=="string"&&Ae.charAt(0)!=="#"){var Pt=new G9(Ae);if(Pt.ok)Ae=Pt.toHex();else if(!/^\d*\.?\d*$/.test(Ae))throw new Error('Invalid color "'+Ae+'" passed to jsPDF.encodeColorString.')}if(typeof Ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ae)&&(Ae="#"+Ae[1]+Ae[1]+Ae[2]+Ae[2]+Ae[3]+Ae[3]),typeof Ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ae)){var At=parseInt(Ae.substr(1),16);Ae=At>>16&255,ke=At>>8&255,Fe=255&At}if(ke===void 0||dt===void 0&&Ae===ke&&ke===Fe)re=typeof Ae=="string"?Ae+" "+yt[0]:L.precision===2?H(Ae/255)+" "+yt[0]:G(Ae/255)+" "+yt[0];else if(dt===void 0||Ur(dt)==="object"){if(dt&&!isNaN(dt.a)&&dt.a===0)return["1.","1.","1.",yt[1]].join(" ");re=typeof Ae=="string"?[Ae,ke,Fe,yt[1]].join(" "):L.precision===2?[H(Ae/255),H(ke/255),H(Fe/255),yt[1]].join(" "):[G(Ae/255),G(ke/255),G(Fe/255),yt[1]].join(" ")}else re=typeof Ae=="string"?[Ae,ke,Fe,dt,yt[2]].join(" "):L.precision===2?[H(Ae),H(ke),H(Fe),H(dt),yt[2]].join(" "):[G(Ae),G(ke),G(Fe),G(dt),yt[2]].join(" ");return re},ha=y.__private__.getFilters=function(){return o},Ca=y.__private__.putStream=function(L){var re=(L=L||{}).data||"",Ae=L.filters||ha(),ke=L.alreadyAppliedFilters||[],Fe=L.addLength1||!1,dt=re.length,yt=L.objectId,Pt=function(Ii){return Ii};if(h!==null&&yt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Pt=zr.encryptor(yt,0));var At={};Ae===!0&&(Ae=["FlateEncode"]);var bn=L.additionalKeyValues||[],Lt=(At=ln.API.processDataByFilters!==void 0?ln.API.processDataByFilters(re,Ae):{data:re,reverseChain:[]}).reverseChain+(Array.isArray(ke)?ke.join(" "):ke.toString());if(At.data.length!==0&&(bn.push({key:"Length",value:At.data.length}),Fe===!0&&bn.push({key:"Length1",value:dt})),Lt.length!=0)if(Lt.split("/").length-1==1)bn.push({key:"Filter",value:Lt});else{bn.push({key:"Filter",value:"["+Lt+"]"});for(var $n=0;$n<bn.length;$n+=1)if(bn[$n].key==="DecodeParms"){for(var mr=[],An=0;An<At.reverseChain.split("/").length-1;An+=1)mr.push("null");mr.push(bn[$n].value),bn[$n].value="["+mr.join(" ")+"]"}}ye("<<");for(var Et=0;Et<bn.length;Et++)ye("/"+bn[Et].key+" "+bn[Et].value);ye(">>"),At.data.length!==0&&(ye("stream"),ye(Pt(At.data)),ye("endstream"))},pa=y.__private__.putPage=function(L){var re=L.number,Ae=L.data,ke=L.objId,Fe=L.contentsObjId;hr(ke,!0),ye("<</Type /Page"),ye("/Parent "+L.rootDictionaryObjId+" 0 R"),ye("/Resources "+L.resourceDictionaryObjId+" 0 R"),ye("/MediaBox ["+parseFloat(J(L.mediaBox.bottomLeftX))+" "+parseFloat(J(L.mediaBox.bottomLeftY))+" "+J(L.mediaBox.topRightX)+" "+J(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&ye("/CropBox ["+J(L.cropBox.bottomLeftX)+" "+J(L.cropBox.bottomLeftY)+" "+J(L.cropBox.topRightX)+" "+J(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&ye("/BleedBox ["+J(L.bleedBox.bottomLeftX)+" "+J(L.bleedBox.bottomLeftY)+" "+J(L.bleedBox.topRightX)+" "+J(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&ye("/TrimBox ["+J(L.trimBox.bottomLeftX)+" "+J(L.trimBox.bottomLeftY)+" "+J(L.trimBox.topRightX)+" "+J(L.trimBox.topRightY)+"]"),L.artBox!==null&&ye("/ArtBox ["+J(L.artBox.bottomLeftX)+" "+J(L.artBox.bottomLeftY)+" "+J(L.artBox.topRightX)+" "+J(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&ye("/UserUnit "+L.userUnit),Xn.publish("putPage",{objId:ke,pageContext:Kt[re],pageNumber:re,page:Ae}),ye("/Contents "+Fe+" 0 R"),ye(">>"),ye("endobj");var dt=Ae.join(`
`);return U===F&&(dt+=`
Q`),hr(Fe,!0),Ca({data:dt,filters:ha(),objectId:Fe}),ye("endobj"),ke},zs=y.__private__.putPages=function(){var L,re,Ae=[];for(L=1;L<=Sn;L++)Kt[L].objId=Nr(),Kt[L].contentsObjId=Nr();for(L=1;L<=Sn;L++)Ae.push(pa({number:L,data:Je[L],objId:Kt[L].objId,contentsObjId:Kt[L].contentsObjId,mediaBox:Kt[L].mediaBox,cropBox:Kt[L].cropBox,bleedBox:Kt[L].bleedBox,trimBox:Kt[L].trimBox,artBox:Kt[L].artBox,userUnit:Kt[L].userUnit,rootDictionaryObjId:xi,resourceDictionaryObjId:pr}));hr(xi,!0),ye("<</Type /Pages");var ke="/Kids [";for(re=0;re<Sn;re++)ke+=Ae[re]+" 0 R ";ye(ke+"]"),ye("/Count "+Sn),ye(">>"),ye("endobj"),Xn.publish("postPutPages")},qs=function(L){Xn.publish("putFont",{font:L,out:ye,newObject:qn,putStream:Ca}),L.isAlreadyPutted!==!0&&(L.objectNumber=qn(),ye("<<"),ye("/Type /Font"),ye("/BaseFont /"+Kh(L.postScriptName)),ye("/Subtype /Type1"),typeof L.encoding=="string"&&ye("/Encoding /"+L.encoding),ye("/FirstChar 32"),ye("/LastChar 255"),ye(">>"),ye("endobj"))},ta=function(L){L.objectNumber=qn();var re=[];re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Form"}),re.push({key:"BBox",value:"["+[J(L.x),J(L.y),J(L.x+L.width),J(L.y+L.height)].join(" ")+"]"}),re.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Ae=L.pages[1].join(`
`);Ca({data:Ae,additionalKeyValues:re,objectId:L.objectNumber}),ye("endobj")},jr=function(L,re){re||(re=21);var Ae=qn(),ke=(function(yt,Pt){var At,bn=[],Lt=1/(Pt-1);for(At=0;At<1;At+=Lt)bn.push(At);if(bn.push(1),yt[0].offset!=0){var $n={offset:0,color:yt[0].color};yt.unshift($n)}if(yt[yt.length-1].offset!=1){var mr={offset:1,color:yt[yt.length-1].color};yt.push(mr)}for(var An="",Et=0,Ii=0;Ii<bn.length;Ii++){for(At=bn[Ii];At>yt[Et+1].offset;)Et++;var jn=yt[Et].offset,Xr=(At-jn)/(yt[Et+1].offset-jn),Va=yt[Et].color,Ys=yt[Et+1].color;An+=Ce(Math.round((1-Xr)*Va[0]+Xr*Ys[0]).toString(16))+Ce(Math.round((1-Xr)*Va[1]+Xr*Ys[1]).toString(16))+Ce(Math.round((1-Xr)*Va[2]+Xr*Ys[2]).toString(16))}return An.trim()})(L.colors,re),Fe=[];Fe.push({key:"FunctionType",value:"0"}),Fe.push({key:"Domain",value:"[0.0 1.0]"}),Fe.push({key:"Size",value:"["+re+"]"}),Fe.push({key:"BitsPerSample",value:"8"}),Fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ca({data:ke,additionalKeyValues:Fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ae}),ye("endobj"),L.objectNumber=qn(),ye("<< /ShadingType "+L.type),ye("/ColorSpace /DeviceRGB");var dt="/Coords ["+J(parseFloat(L.coords[0]))+" "+J(parseFloat(L.coords[1]))+" ";L.type===2?dt+=J(parseFloat(L.coords[2]))+" "+J(parseFloat(L.coords[3])):dt+=J(parseFloat(L.coords[2]))+" "+J(parseFloat(L.coords[3]))+" "+J(parseFloat(L.coords[4]))+" "+J(parseFloat(L.coords[5])),ye(dt+="]"),L.matrix&&ye("/Matrix ["+L.matrix.toString()+"]"),ye("/Function "+Ae+" 0 R"),ye("/Extend [true true]"),ye(">>"),ye("endobj")},Kn=function(L,re){var Ae=Nr(),ke=qn();re.push({resourcesOid:Ae,objectOid:ke}),L.objectNumber=ke;var Fe=[];Fe.push({key:"Type",value:"/Pattern"}),Fe.push({key:"PatternType",value:"1"}),Fe.push({key:"PaintType",value:"1"}),Fe.push({key:"TilingType",value:"1"}),Fe.push({key:"BBox",value:"["+L.boundingBox.map(J).join(" ")+"]"}),Fe.push({key:"XStep",value:J(L.xStep)}),Fe.push({key:"YStep",value:J(L.yStep)}),Fe.push({key:"Resources",value:Ae+" 0 R"}),L.matrix&&Fe.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),Ca({data:L.stream,additionalKeyValues:Fe,objectId:L.objectNumber}),ye("endobj")},sl=function(L){for(var re in L.objectNumber=qn(),ye("<<"),L)switch(re){case"opacity":ye("/ca "+H(L[re]));break;case"stroke-opacity":ye("/CA "+H(L[re]))}ye(">>"),ye("endobj")},na=function(L){hr(L.resourcesOid,!0),ye("<<"),ye("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var re in ye("/Font <<"),rt)rt.hasOwnProperty(re)&&(g===!1||g===!0&&x.hasOwnProperty(re))&&ye("/"+re+" "+rt[re].objectNumber+" 0 R");ye(">>")})(),(function(){if(Object.keys(Ct).length>0){for(var re in ye("/Shading <<"),Ct)Ct.hasOwnProperty(re)&&Ct[re]instanceof bd&&Ct[re].objectNumber>=0&&ye("/"+re+" "+Ct[re].objectNumber+" 0 R");Xn.publish("putShadingPatternDict"),ye(">>")}})(),(function(re){if(Object.keys(Ct).length>0){for(var Ae in ye("/Pattern <<"),Ct)Ct.hasOwnProperty(Ae)&&Ct[Ae]instanceof y.TilingPattern&&Ct[Ae].objectNumber>=0&&Ct[Ae].objectNumber<re&&ye("/"+Ae+" "+Ct[Ae].objectNumber+" 0 R");Xn.publish("putTilingPatternDict"),ye(">>")}})(L.objectOid),(function(){if(Object.keys(pn).length>0){var re;for(re in ye("/ExtGState <<"),pn)pn.hasOwnProperty(re)&&pn[re].objectNumber>=0&&ye("/"+re+" "+pn[re].objectNumber+" 0 R");Xn.publish("putGStateDict"),ye(">>")}})(),(function(){for(var re in ye("/XObject <<"),Ri)Ri.hasOwnProperty(re)&&Ri[re].objectNumber>=0&&ye("/"+re+" "+Ri[re].objectNumber+" 0 R");Xn.publish("putXobjectDict"),ye(">>")})(),ye(">>"),ye("endobj")},Yr=function(L){Dt[L.fontName]=Dt[L.fontName]||{},Dt[L.fontName][L.fontStyle]=L.id},gt=function(L,re,Ae,ke,Fe){var dt={id:"F"+(Object.keys(rt).length+1).toString(10),postScriptName:L,fontName:re,fontStyle:Ae,encoding:ke,isStandardFont:Fe||!1,metadata:{}};return Xn.publish("addFont",{font:dt,instance:this}),rt[dt.id]=dt,Yr(dt),dt.id},fs=y.__private__.pdfEscape=y.pdfEscape=function(L,re){return(function(Ae,ke){var Fe,dt,yt,Pt,At,bn,Lt,$n,mr;if(yt=(ke=ke||{}).sourceEncoding||"Unicode",At=ke.outputEncoding,(ke.autoencode||At)&&rt[Ot].metadata&&rt[Ot].metadata[yt]&&rt[Ot].metadata[yt].encoding&&(Pt=rt[Ot].metadata[yt].encoding,!At&&rt[Ot].encoding&&(At=rt[Ot].encoding),!At&&Pt.codePages&&(At=Pt.codePages[0]),typeof At=="string"&&(At=Pt[At]),At)){for(Lt=!1,bn=[],Fe=0,dt=Ae.length;Fe<dt;Fe++)($n=At[Ae.charCodeAt(Fe)])?bn.push(String.fromCharCode($n)):bn.push(Ae[Fe]),bn[Fe].charCodeAt(0)>>8&&(Lt=!0);Ae=bn.join("")}for(Fe=Ae.length;Lt===void 0&&Fe!==0;)Ae.charCodeAt(Fe-1)>>8&&(Lt=!0),Fe--;if(!Lt)return Ae;for(bn=ke.noBOM?[]:[254,255],Fe=0,dt=Ae.length;Fe<dt;Fe++){if((mr=($n=Ae.charCodeAt(Fe))>>8)>>8)throw new Error("Character at position "+Fe+" of string '"+Ae+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");bn.push(mr),bn.push($n-(mr<<8))}return String.fromCharCode.apply(void 0,bn)})(L,re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rr=y.__private__.beginPage=function(L){Je[++Sn]=[],Kt[Sn]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Zn(Sn),bt(Je[he])},Ha=function(L,re){var Ae,ke,Fe;switch(n=re||n,typeof L=="string"&&(Ae=I(L.toLowerCase()),Array.isArray(Ae)&&(ke=Ae[0],Fe=Ae[1])),Array.isArray(L)&&(ke=L[0]*In,Fe=L[1]*In),isNaN(ke)&&(ke=i[0],Fe=i[1]),(ke>14400||Fe>14400)&&(ei.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ke=Math.min(14400,ke),Fe=Math.min(14400,Fe)),i=[ke,Fe],n.substr(0,1)){case"l":Fe>ke&&(i=[Fe,ke]);break;case"p":ke>Fe&&(i=[Fe,ke])}rr(i),un(Ol),ye($a),Tl!==0&&ye(Tl+" J"),ri!==0&&ye(ri+" j"),Xn.publish("addPage",{pageNumber:Sn})},Vc=function(L){L>0&&L<=Sn&&(Je.splice(L,1),Kt.splice(L,1),Sn--,he>Sn&&(he=Sn),this.setPage(he))},Zn=function(L){L>0&&L<=Sn&&(he=L)},Vn=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Je.length-1},Un=function(L,re,Ae){var ke,Fe=void 0;return Ae=Ae||{},L=L!==void 0?L:rt[Ot].fontName,re=re!==void 0?re:rt[Ot].fontStyle,ke=L.toLowerCase(),Dt[ke]!==void 0&&Dt[ke][re]!==void 0?Fe=Dt[ke][re]:Dt[L]!==void 0&&Dt[L][re]!==void 0?Fe=Dt[L][re]:Ae.disableWarning===!1&&ei.warn("Unable to look up font label for font '"+L+"', '"+re+"'. Refer to getFontList() for available fonts."),Fe||Ae.noFallback||(Fe=Dt.times[re])==null&&(Fe=Dt.times.normal),Fe},Na=y.__private__.putInfo=function(){var L=qn(),re=function(ke){return ke};for(var Ae in h!==null&&(re=zr.encryptor(L,0)),ye("<<"),ye("/Producer ("+fs(re("jsPDF "+ln.version))+")"),Nn)Nn.hasOwnProperty(Ae)&&Nn[Ae]&&ye("/"+Ae.substr(0,1).toUpperCase()+Ae.substr(1)+" ("+fs(re(Nn[Ae]))+")");ye("/CreationDate ("+fs(re(ae))+")"),ye(">>"),ye("endobj")},Hs=y.__private__.putCatalog=function(L){var re=(L=L||{}).rootDictionaryObjId||xi;switch(qn(),ye("<<"),ye("/Type /Catalog"),ye("/Pages "+re+" 0 R"),en||(en="fullwidth"),en){case"fullwidth":ye("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ye("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ye("/OpenAction [3 0 R /Fit]");break;case"original":ye("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ae=""+en;Ae.substr(Ae.length-1)==="%"&&(en=parseInt(en)/100),typeof en=="number"&&ye("/OpenAction [3 0 R /XYZ null null "+H(en)+"]")}switch(Fn||(Fn="continuous"),Fn){case"continuous":ye("/PageLayout /OneColumn");break;case"single":ye("/PageLayout /SinglePage");break;case"two":case"twoleft":ye("/PageLayout /TwoColumnLeft");break;case"tworight":ye("/PageLayout /TwoColumnRight")}sn&&ye("/PageMode /"+sn),Xn.publish("putCatalog"),ye(">>"),ye("endobj")},ds=y.__private__.putTrailer=function(){ye("trailer"),ye("<<"),ye("/Size "+(xe+1)),ye("/Root "+xe+" 0 R"),ye("/Info "+(xe-1)+" 0 R"),h!==null&&ye("/Encrypt "+zr.oid+" 0 R"),ye("/ID [ <"+ie+"> <"+ie+"> ]"),ye(">>")},xn=y.__private__.putHeader=function(){ye("%PDF-"+C),ye("%")},As=y.__private__.putXRef=function(){var L="0000000000";ye("xref"),ye("0 "+(xe+1)),ye("0000000000 65535 f ");for(var re=1;re<=xe;re++)typeof Me[re]=="function"?ye((L+Me[re]()).slice(-10)+" 00000 n "):Me[re]!==void 0?ye((L+Me[re]).slice(-10)+" 00000 n "):ye("0000000000 00000 n ")},ao=y.__private__.buildDocument=function(){var L;xe=0,Oe=0,ze=[],Me=[],Ge=[],xi=Nr(),pr=Nr(),bt(ze),Xn.publish("buildDocument"),xn(),zs(),(function(){Xn.publish("putAdditionalObjects");for(var Ae=0;Ae<Ge.length;Ae++){var ke=Ge[Ae];hr(ke.objId,!0),ye(ke.content),ye("endobj")}Xn.publish("postPutAdditionalObjects")})(),L=[],(function(){for(var Ae in rt)rt.hasOwnProperty(Ae)&&(g===!1||g===!0&&x.hasOwnProperty(Ae))&&qs(rt[Ae])})(),(function(){var Ae;for(Ae in pn)pn.hasOwnProperty(Ae)&&sl(pn[Ae])})(),(function(){for(var Ae in Ri)Ri.hasOwnProperty(Ae)&&ta(Ri[Ae])})(),(function(Ae){var ke;for(ke in Ct)Ct.hasOwnProperty(ke)&&(Ct[ke]instanceof bd?jr(Ct[ke]):Ct[ke]instanceof t0&&Kn(Ct[ke],Ae))})(L),Xn.publish("putResources"),L.forEach(na),na({resourcesOid:pr,objectOid:Number.MAX_SAFE_INTEGER}),Xn.publish("postPutResources"),h!==null&&(zr.oid=qn(),ye("<<"),ye("/Filter /Standard"),ye("/V "+zr.v),ye("/R "+zr.r),ye("/U <"+zr.toHexString(zr.U)+">"),ye("/O <"+zr.toHexString(zr.O)+">"),ye("/P "+zr.P),ye(">>"),ye("endobj")),Na(),Hs();var re=Oe;return As(),ds(),ye("startxref"),ye(""+re),ye("%%EOF"),bt(Je[he]),ze.join(`
`)},yr=y.__private__.getBlob=function(L){return new Blob([Rt(L)],{type:"application/pdf"})},Es=y.output=y.__private__.output=(Ea=function(L,re){switch(typeof(re=re||{})=="string"?re={filename:re}:re.filename=re.filename||"generated.pdf",L){case void 0:return ao();case"save":y.save(re.filename);break;case"arraybuffer":return Rt(ao());case"blob":return yr(ao());case"bloburi":case"bloburl":if(Mn.URL!==void 0&&typeof Mn.URL.createObjectURL=="function")return Mn.URL&&Mn.URL.createObjectURL(yr(ao()))||void 0;ei.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ae="",ke=ao();try{Ae=uk(ke)}catch{Ae=uk(unescape(encodeURIComponent(ke)))}return"data:application/pdf;filename="+re.filename+";base64,"+Ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Mn)==="[object Window]"){var Fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",dt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';re.pdfObjectUrl&&(Fe=re.pdfObjectUrl,dt="");var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Fe+'"'+dt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(re)+");<\/script></body></html>",Pt=Mn.open();return Pt!==null&&Pt.document.write(yt),Pt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Mn)==="[object Window]"){var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+re.filename+'" width="500px" height="400px" /></body></html>',bn=Mn.open();if(bn!==null){bn.document.write(At);var Lt=this;bn.document.documentElement.querySelector("#pdfViewer").onload=function(){bn.document.title=re.filename,bn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Lt.output("bloburl"))}}return bn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Mn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var $n='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",re)+'"></iframe></body></html>',mr=Mn.open();if(mr!==null&&(mr.document.write($n),mr.document.title=re.filename),mr||typeof safari>"u")return mr;break;case"datauri":case"dataurl":return Mn.document.location.href=this.output("datauristring",re);default:return null}},Ea.foo=function(){try{return Ea.apply(this,arguments)}catch(Ae){var L=Ae.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var re="Error in function "+L.split(`
`)[0].split("<")[0]+": "+Ae.message;if(!Mn.console)throw new Error(re);Mn.console.error(re,Ae),Mn.alert&&alert(re)}},Ea.foo.bar=Ea,Ea.foo),Oa=function(L){return Array.isArray(ui)===!0&&ui.indexOf(L)>-1};switch(r){case"pt":In=1;break;case"mm":In=72/25.4;break;case"cm":In=72/2.54;break;case"in":In=72;break;case"px":In=Oa("px_scaling")==1?.75:96/72;break;case"pc":case"em":In=12;break;case"ex":In=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);In=r}var zr=null;ue(),ve();var Tn=y.__private__.getPageInfo=y.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Kt[L].objId,pageNumber:L,pageContext:Kt[L]}},di=y.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var re in Kt)if(Kt[re].objId===L)break;return Tn(re)},$e=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Kt[he].objId,pageNumber:he,pageContext:Kt[he]}};y.addPage=function(){return Ha.apply(this,arguments),this},y.setPage=function(){return Zn.apply(this,arguments),bt.call(this,Je[he]),this},y.insertPage=function(L){return this.addPage(),this.movePage(he,L),this},y.movePage=function(L,re){var Ae,ke;if(L>re){Ae=Je[L],ke=Kt[L];for(var Fe=L;Fe>re;Fe--)Je[Fe]=Je[Fe-1],Kt[Fe]=Kt[Fe-1];Je[re]=Ae,Kt[re]=ke,this.setPage(re)}else if(L<re){Ae=Je[L],ke=Kt[L];for(var dt=L;dt<re;dt++)Je[dt]=Je[dt+1],Kt[dt]=Kt[dt+1];Je[re]=Ae,Kt[re]=ke,this.setPage(re)}return this},y.deletePage=function(){return Vc.apply(this,arguments),this},y.__private__.text=y.text=function(L,re,Ae,ke,Fe){var dt,yt,Pt,At,bn,Lt,$n,mr,An,Et=(ke=ke||{}).scope||this;if(typeof L=="number"&&typeof re=="number"&&(typeof Ae=="string"||Array.isArray(Ae))){var Ii=Ae;Ae=re,re=L,L=Ii}if(arguments[3]instanceof Zt==0?(Pt=arguments[4],At=arguments[5],Ur($n=arguments[3])==="object"&&$n!==null||(typeof Pt=="string"&&(At=Pt,Pt=null),typeof $n=="string"&&(At=$n,$n=null),typeof $n=="number"&&(Pt=$n,$n=null),ke={flags:$n,angle:Pt,align:At})):(q("The transform parameter of text() with a Matrix value"),An=Fe),isNaN(re)||isNaN(Ae)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return Et;var jn,Xr="",Va=typeof ke.lineHeightFactor=="number"?ke.lineHeightFactor:$s,Ys=Et.internal.scaleFactor;function Li(ct){return ct=ct.split("	").join(Array(ke.TabLen||9).join(" ")),fs(ct,$n)}function kl(ct){for(var ut,ot=ct.concat(),rn=[],mn=ot.length;mn--;)typeof(ut=ot.shift())=="string"?rn.push(ut):Array.isArray(ct)&&(ut.length===1||ut[1]===void 0&&ut[2]===void 0)?rn.push(ut[0]):rn.push([ut[0],ut[1],ut[2]]);return rn}function Ml(ct,ut){var ot;if(typeof ct=="string")ot=ut(ct)[0];else if(Array.isArray(ct)){for(var rn,mn,qr=ct.concat(),sa=[],Bi=qr.length;Bi--;)typeof(rn=qr.shift())=="string"?sa.push(ut(rn)[0]):Array.isArray(rn)&&typeof rn[0]=="string"&&(mn=ut(rn[0],rn[1],rn[2]),sa.push([mn[0],mn[1],mn[2]]));ot=sa}return ot}var Ns=!1,Os=!0;if(typeof L=="string")Ns=!0;else if(Array.isArray(L)){var cl=L.concat();yt=[];for(var Fo,Kr=cl.length;Kr--;)(typeof(Fo=cl.shift())!="string"||Array.isArray(Fo)&&typeof Fo[0]!="string")&&(Os=!1);Ns=Os}if(Ns===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var uo=nt/Et.internal.scaleFactor,ul=uo*(Va-1);switch(ke.baseline){case"bottom":Ae-=ul;break;case"top":Ae+=uo-ul;break;case"hanging":Ae+=uo-2*ul;break;case"middle":Ae+=uo/2-ul}if((Lt=ke.maxWidth||0)>0&&(typeof L=="string"?L=Et.splitTextToSize(L,Lt):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(ct,ut){return ct.concat(Et.splitTextToSize(ut,Lt))},[]))),dt={text:L,x:re,y:Ae,options:ke,mutex:{pdfEscape:fs,activeFontKey:Ot,fonts:rt,activeFontSize:nt}},Xn.publish("preProcessText",dt),L=dt.text,Pt=(ke=dt.options).angle,An instanceof Zt==0&&Pt&&typeof Pt=="number"){Pt*=Math.PI/180,ke.rotationDirection===0&&(Pt=-Pt),U===F&&(Pt=-Pt);var fo=Math.cos(Pt),ho=Math.sin(Pt);An=new Zt(fo,ho,-ho,fo,0,0)}else Pt&&Pt instanceof Zt&&(An=Pt);U!==F||An||(An=io),(bn=ke.charSpace||va)!==void 0&&(Xr+=J(fe(bn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(mr=ke.horizontalScale)!==void 0&&(Xr+=J(100*mr)+` Tz
`),ke.lang;var ii=-1,Ts=ke.renderingMode!==void 0?ke.renderingMode:ke.stroke,ra=Et.internal.getCurrentPageInfo().pageContext;switch(Ts){case 0:case!1:case"fill":ii=0;break;case 1:case!0:case"stroke":ii=1;break;case 2:case"fillThenStroke":ii=2;break;case 3:case"invisible":ii=3;break;case 4:case"fillAndAddForClipping":ii=4;break;case 5:case"strokeAndAddPathForClipping":ii=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ii=6;break;case 7:case"addToPathForClipping":ii=7}var fc=ra.usedRenderingMode!==void 0?ra.usedRenderingMode:-1;ii!==-1?Xr+=ii+` Tr
`:fc!==-1&&(Xr+=`0 Tr
`),ii!==-1&&(ra.usedRenderingMode=ii),At=ke.align||"left";var ai,Xs=nt*Va,Ks=Et.internal.pageSize.getWidth(),Xc=rt[Ot];bn=ke.charSpace||va,Lt=ke.maxWidth||0,$n=Object.assign({autoencode:!0,noBOM:!0},ke.flags);var Is=[],ia=function(ct){return Et.getStringUnitWidth(ct,{font:Xc,charSpace:bn,fontSize:nt,doKerning:!1})*nt/Ys};if(Object.prototype.toString.call(L)==="[object Array]"){var Ya;yt=kl(L),At!=="left"&&(ai=yt.map(ia));var aa,Xa=0;if(At==="right"){re-=ai[0],L=[],Kr=yt.length;for(var Pn=0;Pn<Kr;Pn++)Pn===0?(aa=dn(re),Ya=Jn(Ae)):(aa=fe(Xa-ai[Pn]),Ya=-Xs),L.push([yt[Pn],aa,Ya]),Xa=ai[Pn]}else if(At==="center"){re-=ai[0]/2,L=[],Kr=yt.length;for(var js=0;js<Kr;js++)js===0?(aa=dn(re),Ya=Jn(Ae)):(aa=fe((Xa-ai[js])/2),Ya=-Xs),L.push([yt[js],aa,Ya]),Xa=ai[js]}else if(At==="left"){L=[],Kr=yt.length;for(var te=0;te<Kr;te++)L.push(yt[te])}else if(At==="justify"&&Xc.encoding==="Identity-H"){L=[],Kr=yt.length,Lt=Lt!==0?Lt:Ks;for(var l=0,p=0;p<Kr;p++)if(Ya=p===0?Jn(Ae):-Xs,aa=p===0?dn(re):l,p<Kr-1){var m=fe((Lt-ai[p])/(yt[p].split(" ").length-1)),b=yt[p].split(" ");L.push([b[0]+" ",aa,Ya]),l=0;for(var w=1;w<b.length;w++){var A=(ia(b[w-1]+" "+b[w])-ia(b[w]))*Ys+m;w==b.length-1?L.push([b[w],A,0]):L.push([b[w]+" ",A,0]),l-=A}}else L.push([yt[p],aa,Ya]);L.push(["",l,0])}else{if(At!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],Kr=yt.length,Lt=Lt!==0?Lt:Ks,p=0;p<Kr;p++){Ya=p===0?Jn(Ae):-Xs,aa=p===0?dn(re):0;var O=yt[p].split(" ").length-1,M=O>0?(Lt-ai[p])/O:0;p<Kr-1?Is.push(J(fe(M))):Is.push(0),L.push([yt[p],aa,Ya])}}}(typeof ke.R2L=="boolean"?ke.R2L:an)===!0&&(L=Ml(L,function(ct,ut,ot){return[ct.split("").reverse().join(""),ut,ot]})),dt={text:L,x:re,y:Ae,options:ke,mutex:{pdfEscape:fs,activeFontKey:Ot,fonts:rt,activeFontSize:nt}},Xn.publish("postProcessText",dt),L=dt.text,jn=dt.mutex.isHex||!1;var B=rt[Ot].encoding;B!=="WinAnsiEncoding"&&B!=="StandardEncoding"||(L=Ml(L,function(ct,ut,ot){return[Li(ct),ut,ot]})),yt=kl(L),L=[];for(var $,ne,le,Se=Array.isArray(yt[0])?1:0,Ie="",Pe=function(ct,ut,ot){var rn="";return ot instanceof Zt?(ot=typeof ke.angle=="number"?Di(ot,new Zt(1,0,0,1,ct,ut)):Di(new Zt(1,0,0,1,ct,ut),ot),U===F&&(ot=Di(new Zt(1,0,0,-1,0,0),ot)),rn=ot.join(" ")+` Tm
`):rn=J(ct)+" "+J(ut)+` Td
`,rn},Be=0;Be<yt.length;Be++){switch(Ie="",Se){case 1:le=(jn?"<":"(")+yt[Be][0]+(jn?">":")"),$=parseFloat(yt[Be][1]),ne=parseFloat(yt[Be][2]);break;case 0:le=(jn?"<":"(")+yt[Be]+(jn?">":")"),$=dn(re),ne=Jn(Ae)}Is!==void 0&&Is[Be]!==void 0&&(Ie=Is[Be]+` Tw
`),Be===0?L.push(Ie+Pe($,ne,An)+le):Se===0?L.push(Ie+le):Se===1&&L.push(Ie+Pe($,ne,An)+le)}L=Se===0?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var Ze=`BT
/`;return Ze+=Ot+" "+nt+` Tf
`,Ze+=J(nt*Va)+` TL
`,Ze+=so+`
`,Ze+=Xr,Ze+=L,ye(Ze+="ET"),x[Ot]=!0,Et};var _e=y.__private__.clip=y.clip=function(L){return ye(L==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return _e("evenodd")},y.__private__.discardPath=y.discardPath=function(){return ye("n"),this};var It=y.__private__.isValidStyle=function(L){var re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(re=!0),re};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(L){return It(L)&&(c=L),this};var ni=y.__private__.getStyle=y.getStyle=function(L){var re=c;switch(L){case"D":case"S":re="S";break;case"F":re="f";break;case"FD":case"DF":re="B";break;case"f":case"f*":case"B":case"B*":re=L}return re},ma=y.close=function(){return ye("h"),this};y.stroke=function(){return ye("S"),this},y.fill=function(L){return Gs("f",L),this},y.fillEvenOdd=function(L){return Gs("f*",L),this},y.fillStroke=function(L){return Gs("B",L),this},y.fillStrokeEvenOdd=function(L){return Gs("B*",L),this};var Gs=function(L,re){Ur(re)==="object"?nn(re,L):ye(L)},Po=function(L){L===null||U===F&&L===void 0||(L=ni(L),ye(L))};function Ta(L,re,Ae,ke,Fe){var dt=new t0(re||this.boundingBox,Ae||this.xStep,ke||this.yStep,this.gState,Fe||this.matrix);dt.stream=this.stream;var yt=L+"$$"+this.cloneIndex+++"$$";return Ti(yt,dt),dt}var nn=function(L,re){var Ae=cr[L.key],ke=Ct[Ae];if(ke instanceof bd)ye("q"),ye(_r(re)),ke.gState&&y.setGState(ke.gState),ye(L.matrix.toString()+" cm"),ye("/"+Ae+" sh"),ye("Q");else if(ke instanceof t0){var Fe=new Zt(1,0,0,-1,0,Bo());L.matrix&&(Fe=Fe.multiply(L.matrix||io),Ae=Ta.call(ke,L.key,L.boundingBox,L.xStep,L.yStep,Fe).id),ye("q"),ye("/Pattern cs"),ye("/"+Ae+" scn"),ke.gState&&y.setGState(ke.gState),ye(re),ye("Q")}},_r=function(L){switch(L){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},uc=y.moveTo=function(L,re){return ye(J(fe(L))+" "+J(ee(re))+" m"),this},$u=y.lineTo=function(L,re){return ye(J(fe(L))+" "+J(ee(re))+" l"),this},ga=y.curveTo=function(L,re,Ae,ke,Fe,dt){return ye([J(fe(L)),J(ee(re)),J(fe(Ae)),J(ee(ke)),J(fe(Fe)),J(ee(dt)),"c"].join(" ")),this};y.__private__.line=y.line=function(L,re,Ae,ke,Fe){if(isNaN(L)||isNaN(re)||isNaN(Ae)||isNaN(ke)||!It(Fe))throw new Error("Invalid arguments passed to jsPDF.line");return U===D?this.lines([[Ae-L,ke-re]],L,re,[1,1],Fe||"S"):this.lines([[Ae-L,ke-re]],L,re,[1,1]).stroke()},y.__private__.lines=y.lines=function(L,re,Ae,ke,Fe,dt){var yt,Pt,At,bn,Lt,$n,mr,An,Et,Ii,jn,Xr;if(typeof L=="number"&&(Xr=Ae,Ae=re,re=L,L=Xr),ke=ke||[1,1],dt=dt||!1,isNaN(re)||isNaN(Ae)||!Array.isArray(L)||!Array.isArray(ke)||!It(Fe)||typeof dt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(uc(re,Ae),yt=ke[0],Pt=ke[1],bn=L.length,Ii=re,jn=Ae,At=0;At<bn;At++)(Lt=L[At]).length===2?(Ii=Lt[0]*yt+Ii,jn=Lt[1]*Pt+jn,$u(Ii,jn)):($n=Lt[0]*yt+Ii,mr=Lt[1]*Pt+jn,An=Lt[2]*yt+Ii,Et=Lt[3]*Pt+jn,Ii=Lt[4]*yt+Ii,jn=Lt[5]*Pt+jn,ga($n,mr,An,Et,Ii,jn));return dt&&ma(),Po(Fe),this},y.path=function(L){for(var re=0;re<L.length;re++){var Ae=L[re],ke=Ae.c;switch(Ae.op){case"m":uc(ke[0],ke[1]);break;case"l":$u(ke[0],ke[1]);break;case"c":ga.apply(this,ke);break;case"h":ma()}}return this},y.__private__.rect=y.rect=function(L,re,Ae,ke,Fe){if(isNaN(L)||isNaN(re)||isNaN(Ae)||isNaN(ke)||!It(Fe))throw new Error("Invalid arguments passed to jsPDF.rect");return U===D&&(ke=-ke),ye([J(fe(L)),J(ee(re)),J(fe(Ae)),J(fe(ke)),"re"].join(" ")),Po(Fe),this},y.__private__.triangle=y.triangle=function(L,re,Ae,ke,Fe,dt,yt){if(isNaN(L)||isNaN(re)||isNaN(Ae)||isNaN(ke)||isNaN(Fe)||isNaN(dt)||!It(yt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ae-L,ke-re],[Fe-Ae,dt-ke],[L-Fe,re-dt]],L,re,[1,1],yt,!0),this},y.__private__.roundedRect=y.roundedRect=function(L,re,Ae,ke,Fe,dt,yt){if(isNaN(L)||isNaN(re)||isNaN(Ae)||isNaN(ke)||isNaN(Fe)||isNaN(dt)||!It(yt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Pt=4/3*(Math.SQRT2-1);return Fe=Math.min(Fe,.5*Ae),dt=Math.min(dt,.5*ke),this.lines([[Ae-2*Fe,0],[Fe*Pt,0,Fe,dt-dt*Pt,Fe,dt],[0,ke-2*dt],[0,dt*Pt,-Fe*Pt,dt,-Fe,dt],[2*Fe-Ae,0],[-Fe*Pt,0,-Fe,-dt*Pt,-Fe,-dt],[0,2*dt-ke],[0,-dt*Pt,Fe*Pt,-dt,Fe,-dt]],L+Fe,re,[1,1],yt,!0),this},y.__private__.ellipse=y.ellipse=function(L,re,Ae,ke,Fe){if(isNaN(L)||isNaN(re)||isNaN(Ae)||isNaN(ke)||!It(Fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var dt=4/3*(Math.SQRT2-1)*Ae,yt=4/3*(Math.SQRT2-1)*ke;return uc(L+Ae,re),ga(L+Ae,re-yt,L+dt,re-ke,L,re-ke),ga(L-dt,re-ke,L-Ae,re-yt,L-Ae,re),ga(L-Ae,re+yt,L-dt,re+ke,L,re+ke),ga(L+dt,re+ke,L+Ae,re+yt,L+Ae,re),Po(Fe),this},y.__private__.circle=y.circle=function(L,re,Ae,ke){if(isNaN(L)||isNaN(re)||isNaN(Ae)||!It(ke))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,re,Ae,Ae,ke)},y.setFont=function(L,re,Ae){return Ae&&(re=Y(re,Ae)),Ot=Un(L,re,{disableWarning:!1}),this};var Ga=y.__private__.getFont=y.getFont=function(){return rt[Un.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var L,re,Ae={};for(L in Dt)if(Dt.hasOwnProperty(L))for(re in Ae[L]=[],Dt[L])Dt[L].hasOwnProperty(re)&&Ae[L].push(re);return Ae},y.addFont=function(L,re,Ae,ke,Fe){var dt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&dt.indexOf(arguments[3])!==-1?Fe=arguments[3]:arguments[3]&&dt.indexOf(arguments[3])==-1&&(Ae=Y(Ae,ke)),gt.call(this,L,re,Ae,Fe=Fe||"Identity-H")};var $s,Ol=e.lineWidth||.200025,kr=y.__private__.getLineWidth=y.getLineWidth=function(){return Ol},un=y.__private__.setLineWidth=y.setLineWidth=function(L){return Ol=L,ye(J(fe(L))+" w"),this};y.__private__.setLineDash=ln.API.setLineDash=ln.API.setLineDashPattern=function(L,re){if(L=L||[],re=re||0,isNaN(re)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Ae){return J(fe(Ae))}).join(" "),re=J(fe(re)),ye("["+L+"] "+re+" d"),this};var Ws=y.__private__.getLineHeight=y.getLineHeight=function(){return nt*$s};y.__private__.getLineHeight=y.getLineHeight=function(){return nt*$s};var fn=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&($s=L),this},Wu=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return $s};fn(e.lineHeight);var dn=y.__private__.getHorizontalCoordinate=function(L){return fe(L)},Jn=y.__private__.getVerticalCoordinate=function(L){return U===F?L:Kt[he].mediaBox.topRightY-Kt[he].mediaBox.bottomLeftY-fe(L)},Yc=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(L){return J(dn(L))},Ro=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(L){return J(Jn(L))},$a=e.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Gn($a)},y.__private__.setStrokeColor=y.setDrawColor=function(L,re,Ae,ke){return $a=fi({ch1:L,ch2:re,ch3:Ae,ch4:ke,pdfColorType:"draw",precision:2}),ye($a),this};var hs=e.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Gn(hs)},y.__private__.setFillColor=y.setFillColor=function(L,re,Ae,ke){return hs=fi({ch1:L,ch2:re,ch3:Ae,ch4:ke,pdfColorType:"fill",precision:2}),ye(hs),this};var so=e.textColor||"0 g",ol=y.__private__.getTextColor=y.getTextColor=function(){return Gn(so)};y.__private__.setTextColor=y.setTextColor=function(L,re,Ae,ke){return so=fi({ch1:L,ch2:re,ch3:Ae,ch4:ke,pdfColorType:"text",precision:3}),this};var va=e.charSpace,oo=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(va||0)};y.__private__.setCharSpace=y.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return va=L,this};var Tl=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(L){var re=y.CapJoinStyles[L];if(re===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Tl=re,ye(re+" J"),this};var ri=0;y.__private__.setLineJoin=y.setLineJoin=function(L){var re=y.CapJoinStyles[L];if(re===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ri=re,ye(re+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ye(J(fe(L))+" M"),this},y.GState=D2,y.setGState=function(L){(L=typeof L=="string"?pn[_n[L]]:Wa(null,L)).equals(Xt)||(ye("/"+L.id+" gs"),Xt=L)};var Wa=function(L,re){if(!L||!_n[L]){var Ae=!1;for(var ke in pn)if(pn.hasOwnProperty(ke)&&pn[ke].equals(re)){Ae=!0;break}if(Ae)re=pn[ke];else{var Fe="GS"+(Object.keys(pn).length+1).toString(10);pn[Fe]=re,re.id=Fe}return L&&(_n[L]=re.id),Xn.publish("addGState",re),re}};y.addGState=function(L,re){return Wa(L,re),this},y.saveGraphicsState=function(){return ye("q"),Ft.push({key:Ot,size:nt,color:so}),this},y.restoreGraphicsState=function(){ye("Q");var L=Ft.pop();return Ot=L.key,nt=L.size,so=L.color,Xt=null,this},y.setCurrentTransformationMatrix=function(L){return ye(L.toString()+" cm"),this},y.comment=function(L){return ye("#"+L),this};var Mr=function(L,re){var Ae=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ae},set:function(dt){isNaN(dt)||(Ae=parseFloat(dt))}});var ke=re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ke},set:function(dt){isNaN(dt)||(ke=parseFloat(dt))}});var Fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fe},set:function(dt){Fe=dt.toString()}}),this},lo=function(L,re,Ae,ke){Mr.call(this,L,re),this.type="rect";var Fe=Ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fe},set:function(yt){isNaN(yt)||(Fe=parseFloat(yt))}});var dt=ke||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return dt},set:function(yt){isNaN(yt)||(dt=parseFloat(yt))}}),this},Il=function(){this.page=Sn,this.currentPage=he,this.pages=Je.slice(0),this.pagesContext=Kt.slice(0),this.x=Ht,this.y=ci,this.matrix=tn,this.width=Lo(he),this.height=ir(he),this.outputDestination=lt,this.id="",this.objectNumber=-1};Il.prototype.restore=function(){Sn=this.page,he=this.currentPage,Kt=this.pagesContext,Je=this.pages,Ht=this.x,ci=this.y,tn=this.matrix,jl(he,this.width),co(he,this.height),lt=this.outputDestination};var ll=function(L,re,Ae,ke,Fe){ea.push(new Il),Sn=he=0,Je=[],Ht=L,ci=re,tn=Fe,rr([Ae,ke])};for(var Do in y.beginFormObject=function(L,re,Ae,ke,Fe){return ll(L,re,Ae,ke,Fe),this},y.endFormObject=function(L){return(function(re){if(Ir[re])ea.pop().restore();else{var Ae=new Il,ke="Xo"+(Object.keys(Ri).length+1).toString(10);Ae.id=ke,Ir[re]=ke,Ri[ke]=Ae,Xn.publish("addFormObject",Ae),ea.pop().restore()}})(L),this},y.doFormObject=function(L,re){var Ae=Ri[Ir[L]];return ye("q"),ye(re.toString()+" cm"),ye("/"+Ae.id+" Do"),ye("Q"),this},y.getFormObject=function(L){var re=Ri[Ir[L]];return{x:re.x,y:re.y,width:re.width,height:re.height,matrix:re.matrix}},y.save=function(L,re){return L=L||"generated.pdf",(re=re||{}).returnPromise=re.returnPromise||!1,re.returnPromise===!1?(gd(yr(ao()),L),typeof gd.unload=="function"&&Mn.setTimeout&&setTimeout(gd.unload,911),this):new Promise(function(Ae,ke){try{var Fe=gd(yr(ao()),L);typeof gd.unload=="function"&&Mn.setTimeout&&setTimeout(gd.unload,911),Ae(Fe)}catch(dt){ke(dt.message)}})},ln.API)ln.API.hasOwnProperty(Do)&&(Do==="events"&&ln.API.events.length?(function(L,re){var Ae,ke,Fe;for(Fe=re.length-1;Fe!==-1;Fe--)Ae=re[Fe][0],ke=re[Fe][1],L.subscribe.apply(L,[Ae].concat(typeof ke=="function"?[ke]:ke))})(Xn,ln.API.events):y[Do]=ln.API[Do]);function Lo(L){return Kt[L].mediaBox.topRightX-Kt[L].mediaBox.bottomLeftX}function jl(L,re){Kt[L].mediaBox.topRightX=re+Kt[L].mediaBox.bottomLeftX}function ir(L){return Kt[L].mediaBox.topRightY-Kt[L].mediaBox.bottomLeftY}function co(L,re){Kt[L].mediaBox.topRightY=re+Kt[L].mediaBox.bottomLeftY}var Cs=y.getPageWidth=function(L){return Lo(L=L||he)/In},Vs=y.setPageWidth=function(L,re){jl(L,re*In)},Bo=y.getPageHeight=function(L){return ir(L=L||he)/In},et=y.setPageHeight=function(L,re){co(L,re*In)};return y.internal={pdfEscape:fs,getStyle:ni,getFont:Ga,getFontSize:at,getCharSpace:oo,getTextColor:ol,getLineHeight:Ws,getLineHeightFactor:Wu,getLineWidth:kr,write:wt,getHorizontalCoordinate:dn,getVerticalCoordinate:Jn,getCoordinateString:Yc,getVerticalCoordinateString:Ro,collections:{},newObject:qn,newAdditionalObject:Nt,newObjectDeferred:Nr,newObjectDeferredBegin:hr,getFilters:ha,putStream:Ca,events:Xn,scaleFactor:In,pageSize:{getWidth:function(){return Cs(he)},setWidth:function(L){Vs(he,L)},getHeight:function(){return Bo(he)},setHeight:function(L){et(he,L)}},encryptionOptions:h,encryption:zr,getEncryptor:function(L){return h!==null?zr.encryptor(L,0):function(re){return re}},output:Es,getNumberOfPages:Vn,get pages(){return Je},out:ye,f2:H,f3:G,getPageInfo:Tn,getPageInfoByObjId:di,getCurrentPageInfo:$e,getPDFVersion:E,Point:Mr,Rectangle:lo,Matrix:Zt,hasHotfix:Oa},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Cs(he)},set:function(L){Vs(he,L)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return Bo(he)},set:function(L){et(he,L)},enumerable:!0,configurable:!0}),(function(L){for(var re=0,Ae=_t.length;re<Ae;re++){var ke=gt.call(this,L[re][0],L[re][1],L[re][2],_t[re][3],!0);g===!1&&(x[ke]=!0);var Fe=L[re][0].split("-");Yr({id:ke,fontName:Fe[0],fontStyle:Fe[1]||""})}Xn.publish("addFonts",{fonts:rt,dictionary:Dt})}).call(y,_t),Ot="F1",Ha(i,n),Xn.publish("initialized"),y}Xh.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Xh.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Xh.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Xh.prototype.processOwnerPassword=function(e,t){return c3(l3(t).substr(0,5),e)},Xh.prototype.encryptor=function(e,t){var n=l3(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return c3(n,r)}},D2.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Ur(e)!==Ur(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},ln.API={events:[]},ln.version="4.2.0";var Yi=ln.API,LA=1,Xd=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Hh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},qd=function(e){return e.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var n=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(n.length===1?"0"+n:n)})},Ln=function(e){return e.toFixed(2)},_f=function(e){return e.toFixed(5)};Yi.__acroform__={};var Mo=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},pk=function(e){return e*LA},Ic=function(e){var t=new Y9,n=Wt.internal.getHeight(e)||0,r=Wt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Ln(r)),Number(Ln(n))],t},xme=Yi.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},wme=Yi.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},_me=Yi.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ua=Yi.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return _me(e,t-1)},fa=Yi.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return xme(e,t-1)},da=Yi.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return wme(e,t-1)},Sme=Yi.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],u=e[3],d={};return d.lowerLeft_X=n(i)||0,d.lowerLeft_Y=r(a+u)||0,d.upperRight_X=n(i+o)||0,d.upperRight_Y=r(a)||0,[Number(Ln(d.lowerLeft_X)),Number(Ln(d.lowerLeft_Y)),Number(Ln(d.upperRight_X)),Number(Ln(d.upperRight_Y))]},Ame=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=u3(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Ln(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Ic(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},u3=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(H){return H.split(`
`)}):i.map(function(H){return[H]});var a=n,o=Wt.internal.getHeight(e)||0;o=o<0?-o:o;var u=Wt.internal.getWidth(e)||0;u=u<0?-u:u;var d=function(H,G,fe){if(H+1<i.length){var ee=G+" "+i[H+1][0];return cv(ee,e,fe).width<=u-4}return!1};a++;e:for(;a>0;){t="",a--;var c,h,g=cv("3",e,a).height,x=e.multiline?o-a:(o-g)/2,y=x+=2,C=0,E=0,T=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+cv(t,e,a=12).width+", FieldWidth:"+u+`
`;break}for(var I="",D=0,F=0;F<i.length;F++)if(i.hasOwnProperty(F)){var U=!1;if(i[F].length!==1&&T!==i[F].length-1){if((g+2)*(D+2)+2>o)continue e;I+=i[F][T],U=!0,E=F,F--}else{I=(I+=i[F][T]+" ").substr(I.length-1)==" "?I.substr(0,I.length-1):I;var Z=parseInt(F),Q=d(Z,I,a),Y=F>=i.length-1;if(Q&&!Y){I+=" ",T=0;continue}if(Q||Y){if(Y)E=Z;else if(e.multiline&&(g+2)*(D+2)+2>o)continue e}else{if(!e.multiline||(g+2)*(D+2)+2>o)continue e;E=Z}}for(var J="",q=C;q<=E;q++){var oe=i[q];if(e.multiline){if(q===E){J+=oe[T]+" ",T=(T+1)%oe.length;continue}if(q===C){J+=oe[oe.length-1]+" ";continue}}J+=oe[0]+" "}switch(J=J.substr(J.length-1)==" "?J.substr(0,J.length-1):J,h=cv(J,e,a).width,e.textAlign){case"right":c=u-h-2;break;case"center":c=(u-h)/2;break;default:c=2}t+=Ln(c)+" "+Ln(y)+` Td
`,t+="("+Xd(J)+`) Tj
`,t+=-Ln(c)+` 0 Td
`,y=-(a+2),h=0,C=U?E:E+1,D++,I=""}break}return r.text=t,r.fontSize=a,r},cv=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Eme={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Cme=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},Nme=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(lc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Eme)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");LA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new X9,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&Cme(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var u=r[o],d=[],c=u.Rect;if(u.Rect&&(u.Rect=Sme(u.Rect,i)),i.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Wt.createDefaultAppearanceStream(u),Ur(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(d=u.getKeyValueListForStream()),u.Rect=c,u.hasAppearanceStream&&!u.appearanceStreamContent){var h=Ame(u);d.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(u.appearanceStreamContent){var g="";for(var x in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(x)){var y=u.appearanceStreamContent[x];if(g+="/"+x+" ",g+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var o in y)if(y.hasOwnProperty(o)){var C=y[o];typeof C=="function"&&(C=C.call(i,u)),g+="/"+o+" "+C+" ",i.internal.acroformPlugin.xForms.indexOf(C)>=0||i.internal.acroformPlugin.xForms.push(C)}}else typeof(C=y)=="function"&&(C=C.call(i,u)),g+="/"+o+" "+C,i.internal.acroformPlugin.xForms.indexOf(C)>=0||i.internal.acroformPlugin.xForms.push(C);g+=">>"}d.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:d,objectId:u.objId}),i.internal.out("endobj")}a&&(function(E,T){for(var I in E)if(E.hasOwnProperty(I)){var D=I,F=E[I];T.internal.newObjectDeferredBegin(F.objId,!0),Ur(F)==="object"&&typeof F.putStream=="function"&&F.putStream(),delete E[D]}})(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},V9=Yi.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Ur(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)==="/"?i+="/"+qd(e[a].substr(1)):(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Xd(r(e[a].toString()))+")")}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},C5=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+Xd(r(e))+")"},Dc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Dc.prototype.toString=function(){return this.objId+" 0 R"},Dc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Dc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:V9(i,this.objId,this.scope)}):i instanceof Dc?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var Y9=function(){Dc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Mo(Y9,Dc);var X9=function(){Dc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Xd(n(e))+")"}},set:function(n){e=n}})};Mo(X9,Dc);var lc=function e(){Dc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute F supplied.');t=I}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ua(t,3)},set:function(I){I?this.F=fa(t,3):this.F=da(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute Ff supplied.');n=I}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(I){r=I!==void 0?I:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(I){r[0]=I}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(I){r[1]=I}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(I){r[2]=I}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(I){r[3]=I}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(I){switch(I){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=I;break;default:throw new Error('Invalid value "'+I+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof L2)return;a="FieldObject"+e.FieldNum++}var I=function(D){return D};return this.scope&&(I=this.scope.internal.getEncryptor(this.objId)),"("+Xd(I(a))+")"},set:function(I){a=I.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(I){a=I}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(I){o=I}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(I){u=I}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(I){d=I}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/LA:c},set:function(I){c=I}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(I){h=I}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof L2||this instanceof Od))return C5(g,this.objId,this.scope)},set:function(I){I=I.toString(),g=I}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof as==0?C5(x,this.objId,this.scope):x},set:function(I){I=I.toString(),x=this instanceof as==0?I.substr(0,1)==="("?Hh(I.substr(1,I.length-2)):Hh(I):I}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof as==1?Hh(x.substr(1,x.length-1)):x},set:function(I){I=I.toString(),x=this instanceof as==1?"/"+qd(I):I}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(I){this.V=I}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof as==0?C5(y,this.objId,this.scope):y},set:function(I){I=I.toString(),y=this instanceof as==0?I.substr(0,1)==="("?Hh(I.substr(1,I.length-2)):Hh(I):I}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof as==1?Hh(y.substr(1,y.length-1)):y},set:function(I){I=I.toString(),y=this instanceof as==1?"/"+qd(I):I}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(I){I=!!I,E=I}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(C)return C},set:function(I){C=I}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,1)},set:function(I){I?this.Ff=fa(this.Ff,1):this.Ff=da(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,2)},set:function(I){I?this.Ff=fa(this.Ff,2):this.Ff=da(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,3)},set:function(I){I?this.Ff=fa(this.Ff,3):this.Ff=da(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(I){if([0,1,2].indexOf(I)===-1)throw new Error('Invalid value "'+I+'" for attribute Q supplied.');T=I}}),Object.defineProperty(this,"textAlign",{get:function(){var I;switch(T){case 0:default:I="left";break;case 1:I="center";break;case 2:I="right"}return I},configurable:!0,enumerable:!0,set:function(I){switch(I){case"right":case 2:T=2;break;case"center":case 1:T=1;break;default:T=0}}})};Mo(lc,Dc);var s0=function(){lc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return V9(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(a,o,u){u||(u=1);for(var d,c=[];d=o.exec(a);)c.push(d[u]);return c})(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,18)},set:function(n){n?this.Ff=fa(this.Ff,18):this.Ff=da(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=fa(this.Ff,19):this.Ff=da(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,20)},set:function(n){n?(this.Ff=fa(this.Ff,20),t.sort()):this.Ff=da(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,22)},set:function(n){n?this.Ff=fa(this.Ff,22):this.Ff=da(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,23)},set:function(n){n?this.Ff=fa(this.Ff,23):this.Ff=da(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,27)},set:function(n){n?this.Ff=fa(this.Ff,27):this.Ff=da(this.Ff,27)}}),this.hasAppearanceStream=!1};Mo(s0,lc);var o0=function(){s0.call(this),this.fontName="helvetica",this.combo=!1};Mo(o0,s0);var l0=function(){o0.call(this),this.combo=!0};Mo(l0,o0);var Av=function(){l0.call(this),this.edit=!0};Mo(Av,l0);var as=function(){lc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,15)},set:function(n){n?this.Ff=fa(this.Ff,15):this.Ff=da(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,16)},set:function(n){n?this.Ff=fa(this.Ff,16):this.Ff=da(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,17)},set:function(n){n?this.Ff=fa(this.Ff,17):this.Ff=da(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,26)},set:function(n){n?this.Ff=fa(this.Ff,26):this.Ff=da(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Xd(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Ur(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){var r=n==null?"":n.toString();r.substr(0,1)==="/"&&(r=r.substr(1)),e="/"+qd(r)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+qd(n)}})};Mo(as,lc);var Ev=function(){as.call(this),this.pushButton=!0};Mo(Ev,as);var c0=function(){as.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Mo(c0,as);var L2=function(){var e,t;lc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(u){return u};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+Xd(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Ur(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){var a=i==null?"":i.toString();a.substr(0,1)==="/"&&(a=a.substr(1)),n="/"+qd(a)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){var a=i==null?"":i.toString();a.substr(0,1)==="/"&&(a=a.substr(1)),n="/"+qd(a)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Mo(L2,lc),c0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},c0.prototype.createOption=function(e){var t=new L2;return t.Parent=this,t.optionName=e,this.Kids.push(t),Ome.call(this.scope,t),t};var Cv=function(){as.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Wt.CheckBox.createAppearanceStream()};Mo(Cv,as);var Od=function(){lc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,13)},set:function(t){t?this.Ff=fa(this.Ff,13):this.Ff=da(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,21)},set:function(t){t?this.Ff=fa(this.Ff,21):this.Ff=da(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,23)},set:function(t){t?this.Ff=fa(this.Ff,23):this.Ff=da(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,24)},set:function(t){t?this.Ff=fa(this.Ff,24):this.Ff=da(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,25)},set:function(t){t?this.Ff=fa(this.Ff,25):this.Ff=da(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,26)},set:function(t){t?this.Ff=fa(this.Ff,26):this.Ff=da(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Mo(Od,lc);var Nv=function(){Od.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,14)},set:function(e){e?this.Ff=fa(this.Ff,14):this.Ff=da(this.Ff,14)}}),this.password=!0};Mo(Nv,Od);var Wt={CheckBox:{createAppearanceStream:function(){return{N:{On:Wt.CheckBox.YesNormal},D:{On:Wt.CheckBox.YesPushDown,Off:Wt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ic(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=u3(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Ln(Wt.internal.getWidth(e))+" "+Ln(Wt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Ln(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Ic(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=Wt.internal.getHeight(e),o=Wt.internal.getWidth(e),u=u3(e,e.caption);return i.push("1 g"),i.push("0 0 "+Ln(o)+" "+Ln(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ln(o-1)+" "+Ln(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Ln(u.fontSize)+" Tf "+r),i.push(u.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Ic(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ln(Wt.internal.getWidth(e))+" "+Ln(Wt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Wt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Wt.RadioButton.Circle.YesNormal,t.D[e]=Wt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ic(e);t.scope=e.scope;var n=[],r=Wt.internal.getWidth(e)<=Wt.internal.getHeight(e)?Wt.internal.getWidth(e)/4:Wt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Wt.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+_f(Wt.internal.getWidth(e)/2)+" "+_f(Wt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Ic(e);t.scope=e.scope;var n=[],r=Wt.internal.getWidth(e)<=Wt.internal.getHeight(e)?Wt.internal.getWidth(e)/4:Wt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Wt.internal.Bezier_C).toFixed(5)),o=Number((r*Wt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+_f(Wt.internal.getWidth(e)/2)+" "+_f(Wt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+_f(Wt.internal.getWidth(e)/2)+" "+_f(Wt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ic(e);t.scope=e.scope;var n=[],r=Wt.internal.getWidth(e)<=Wt.internal.getHeight(e)?Wt.internal.getWidth(e)/4:Wt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Wt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+_f(Wt.internal.getWidth(e)/2)+" "+_f(Wt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Wt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Wt.RadioButton.Cross.YesNormal,t.D[e]=Wt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ic(e);t.scope=e.scope;var n=[],r=Wt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Ln(Wt.internal.getWidth(e)-2)+" "+Ln(Wt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Ln(r.x1.x)+" "+Ln(r.x1.y)+" m"),n.push(Ln(r.x2.x)+" "+Ln(r.x2.y)+" l"),n.push(Ln(r.x4.x)+" "+Ln(r.x4.y)+" m"),n.push(Ln(r.x3.x)+" "+Ln(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Ic(e);t.scope=e.scope;var n=Wt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Ln(Wt.internal.getWidth(e))+" "+Ln(Wt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Ln(Wt.internal.getWidth(e)-2)+" "+Ln(Wt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Ln(n.x1.x)+" "+Ln(n.x1.y)+" m"),r.push(Ln(n.x2.x)+" "+Ln(n.x2.y)+" l"),r.push(Ln(n.x4.x)+" "+Ln(n.x4.y)+" m"),r.push(Ln(n.x3.x)+" "+Ln(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ic(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ln(Wt.internal.getWidth(e))+" "+Ln(Wt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Wt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Wt.internal.getWidth(e),n=Wt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Wt.internal.getWidth=function(e){var t=0;return Ur(e)==="object"&&(t=pk(e.Rect[2])),t},Wt.internal.getHeight=function(e){var t=0;return Ur(e)==="object"&&(t=pk(e.Rect[3])),t};var Ome=Yi.addField=function(e){if(Nme(this,e),!(e instanceof lc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Yi.AcroFormChoiceField=s0,Yi.AcroFormListBox=o0,Yi.AcroFormComboBox=l0,Yi.AcroFormEditBox=Av,Yi.AcroFormButton=as,Yi.AcroFormPushButton=Ev,Yi.AcroFormRadioButton=c0,Yi.AcroFormCheckBox=Cv,Yi.AcroFormTextField=Od,Yi.AcroFormPasswordField=Nv,Yi.AcroFormAppearance=Wt,Yi.AcroForm={ChoiceField:s0,ListBox:o0,ComboBox:l0,EditBox:Av,Button:as,PushButton:Ev,RadioButton:c0,CheckBox:Cv,TextField:Od,PasswordField:Nv,Appearance:Wt},ln.AcroForm={ChoiceField:s0,ListBox:o0,ComboBox:l0,EditBox:Av,Button:as,PushButton:Ev,RadioButton:c0,CheckBox:Cv,TextField:Od,PasswordField:Nv,Appearance:Wt};ln.AcroForm;function K9(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(H,G){var fe,ee,ae,ie,K,ve=n;if((G=G||n)==="RGBA"||H.data!==void 0&&H.data instanceof Uint8ClampedArray&&"height"in H&&"width"in H)return"RGBA";if(Q(H))for(K in r)for(ae=r[K],fe=0;fe<ae.length;fe+=1){for(ie=!0,ee=0;ee<ae[fe].length;ee+=1)if(ae[fe][ee]!==void 0&&ae[fe][ee]!==H[ee]){ie=!1;break}if(ie===!0){ve=K;break}}else for(K in r)for(ae=r[K],fe=0;fe<ae.length;fe+=1){for(ie=!0,ee=0;ee<ae[fe].length;ee+=1)if(ae[fe][ee]!==void 0&&ae[fe][ee]!==H.charCodeAt(ee)){ie=!1;break}if(ie===!0){ve=K;break}}return ve===n&&G!==n&&(ve=G),ve},a=function H(G){for(var fe=this.internal.write,ee=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);G.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:G.width}),ie.push({key:"Height",value:G.height}),G.colorSpace===I.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(G.palette.length/3-1)+" "+("sMask"in G&&G.sMask!==void 0?G.objectId+2:G.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+G.colorSpace}),G.colorSpace===I.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:G.bitsPerComponent}),"decodeParameters"in G&&G.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+G.decodeParameters+">>"}),"transparency"in G&&Array.isArray(G.transparency)&&G.transparency.length>0){for(var K="",ve=0,Te=G.transparency.length;ve<Te;ve++)K+=G.transparency[ve]+" "+G.transparency[ve]+" ";ie.push({key:"Mask",value:"["+K+"]"})}G.sMask!==void 0&&ie.push({key:"SMask",value:G.objectId+1+" 0 R"});var we=G.filter!==void 0?["/"+G.filter]:void 0;if(ee({data:G.data,additionalKeyValues:ie,alreadyAppliedFilters:we,objectId:G.objectId}),fe("endobj"),"sMask"in G&&G.sMask!==void 0){var ue,V=(ue=G.sMaskBitsPerComponent)!==null&&ue!==void 0?ue:G.bitsPerComponent,he={width:G.width,height:G.height,colorSpace:"DeviceGray",bitsPerComponent:V,data:G.sMask};"filter"in G&&(he.decodeParameters="/Predictor ".concat(G.predictor," /Colors 1 /BitsPerComponent ").concat(V," /Columns ").concat(G.width),he.filter=G.filter),H.call(this,he)}if(G.colorSpace===I.INDEXED){var me=this.internal.newObject();ee({data:J(new Uint8Array(G.palette)),objectId:me}),fe("endobj")}},o=function(){var H=this.internal.collections[t+"images"];for(var G in H)a.call(this,H[G])},u=function(){var H,G=this.internal.collections[t+"images"],fe=this.internal.write;for(var ee in G)fe("/I"+(H=G[ee]).index,H.objectId,"0","R")},d=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",u))},c=function(){var H=this.internal.collections[t+"images"];return d.call(this),H},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},g=function(H){return typeof e["process"+H.toUpperCase()]=="function"},x=function(H){return Ur(H)==="object"&&H.nodeType===1},y=function(H,G){if(H.nodeName==="IMG"&&H.hasAttribute("src")){var fe=""+H.getAttribute("src");if(fe.indexOf("data:image/")===0)return Sv(unescape(fe).split("base64,").pop());var ee=e.loadFile(fe,!0);if(ee!==void 0)return ee}if(H.nodeName==="CANVAS"){if(H.width===0||H.height===0)throw new Error("Given canvas must have data. Canvas width: "+H.width+", height: "+H.height);var ae;switch(G){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;default:ae="image/jpeg"}return Sv(H.toDataURL(ae,1).split("base64,").pop())}},C=function(H){var G=this.internal.collections[t+"images"];if(G){for(var fe in G)if(H===G[fe].alias)return G[fe]}},E=function(H,G,fe){return H||G||(H=-96,G=-96),H<0&&(H=-1*fe.width*72/H/this.internal.scaleFactor),G<0&&(G=-1*fe.height*72/G/this.internal.scaleFactor),H===0&&(H=G*fe.width/fe.height),G===0&&(G=H*fe.height/fe.width),[H,G]},T=function(H,G,fe,ee,ae,ie){var K=E.call(this,fe,ee,ae),ve=this.internal.getCoordinateString,Te=this.internal.getVerticalCoordinateString,we=c.call(this);if(fe=K[0],ee=K[1],we[ae.index]=ae,ie){ie*=Math.PI/180;var ue=Math.cos(ie),V=Math.sin(ie),he=function(Ce){return Ce.toFixed(4)},me=[he(ue),he(V),he(-1*V),he(ue),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,ve(H),Te(G+ee),"cm"].join(" ")),this.internal.write(me.join(" ")),this.internal.write([ve(fe),"0","0",ve(ee),"0","0","cm"].join(" "))):this.internal.write([ve(fe),"0","0",ve(ee),ve(H),Te(G+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},I=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var D=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},F=e.__addimage__.sHashCode=function(H){var G,fe,ee=0;if(typeof H=="string")for(fe=H.length,G=0;G<fe;G++)ee=(ee<<5)-ee+H.charCodeAt(G),ee|=0;else if(Q(H))for(fe=H.byteLength/2,G=0;G<fe;G++)ee=(ee<<5)-ee+H[G],ee|=0;return ee},U=e.__addimage__.validateStringAsBase64=function(H){(H=H||"").toString().trim();var G=!0;return H.length===0&&(G=!1),H.length%4!=0&&(G=!1),/^[A-Za-z0-9+/]+$/.test(H.substr(0,H.length-2))===!1&&(G=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(H.substr(-2))===!1&&(G=!1),G},Z=e.__addimage__.extractImageFromDataUrl=function(H){if(H==null||!(H=H.trim()).startsWith("data:"))return null;var G=H.indexOf(",");return G<0?null:H.substring(0,G).trim().endsWith("base64")?H.substring(G+1):null};e.__addimage__.isArrayBuffer=function(H){return H instanceof ArrayBuffer};var Q=e.__addimage__.isArrayBufferView=function(H){return H instanceof Int8Array||H instanceof Uint8Array||H instanceof Uint8ClampedArray||H instanceof Int16Array||H instanceof Uint16Array||H instanceof Int32Array||H instanceof Uint32Array||H instanceof Float32Array||H instanceof Float64Array},Y=e.__addimage__.binaryStringToUint8Array=function(H){for(var G=H.length,fe=new Uint8Array(G),ee=0;ee<G;ee++)fe[ee]=H.charCodeAt(ee);return fe},J=e.__addimage__.arrayBufferToBinaryString=function(H){for(var G="",fe=Q(H)?H:new Uint8Array(H),ee=0;ee<fe.length;ee+=8192)G+=String.fromCharCode.apply(null,fe.subarray(ee,ee+8192));return G};e.addImage=function(){var H,G,fe,ee,ae,ie,K,ve,Te;if(typeof arguments[1]=="number"?(G=n,fe=arguments[1],ee=arguments[2],ae=arguments[3],ie=arguments[4],K=arguments[5],ve=arguments[6],Te=arguments[7]):(G=arguments[1],fe=arguments[2],ee=arguments[3],ae=arguments[4],ie=arguments[5],K=arguments[6],ve=arguments[7],Te=arguments[8]),Ur(H=arguments[0])==="object"&&!x(H)&&"imageData"in H){var we=H;H=we.imageData,G=we.format||G||n,fe=we.x||fe||0,ee=we.y||ee||0,ae=we.w||we.width||ae,ie=we.h||we.height||ie,K=we.alias||K,ve=we.compression||ve,Te=we.rotation||we.angle||Te}var ue=this.internal.getFilters();if(ve===void 0&&ue.indexOf("FlateEncode")!==-1&&(ve="SLOW"),isNaN(fe)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var V=q.call(this,H,G,K,ve);return T.call(this,fe,ee,ae,ie,V,Te),this};var q=function(H,G,fe,ee){var ae,ie,K;if(typeof H=="string"&&i(H)===n){H=unescape(H);var ve=oe(H,!1);(ve!==""||(ve=e.loadFile(H,!0))!==void 0)&&(H=ve)}if(x(H)&&(H=y(H,G)),G=i(H,G),!g(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(((K=fe)==null||K.length===0)&&(fe=(function(Te){return typeof Te=="string"||Q(Te)?F(Te):Q(Te.data)?F(Te.data):null})(H)),(ae=C.call(this,fe))||(H instanceof Uint8Array||G==="RGBA"||(ie=H,H=Y(H)),ae=this["process"+G.toUpperCase()](H,h.call(this),fe,(function(Te){return Te&&typeof Te=="string"&&(Te=Te.toUpperCase()),Te in e.image_compression?Te:D.NONE})(ee),ie)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},oe=e.__addimage__.convertBase64ToBinaryString=function(H,G){G=typeof G!="boolean"||G;var fe,ee="";if(typeof H=="string"){var ae;fe=(ae=Z(H))!==null&&ae!==void 0?ae:H;try{ee=Sv(fe)}catch(ie){if(G)throw U(fe)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};e.getImageProperties=function(H){var G,fe,ee="";if(x(H)&&(H=y(H)),typeof H=="string"&&i(H)===n&&((ee=oe(H,!1))===""&&(ee=e.loadFile(H)||""),H=ee),fe=i(H),!g(fe))throw new Error("addImage does not support files of type '"+fe+"', please ensure that a plugin for '"+fe+"' support is added.");if(H instanceof Uint8Array||(H=Y(H)),!(G=this["process"+fe.toUpperCase()](H)))throw new Error("An unknown error occurred whilst processing the image");return G.fileType=fe,G}})(ln.API),(function(e){var t=function(n){if(n!==void 0&&n!="")return!0};ln.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,a,o=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,h=!1,g=0;g<c.length&&!h;g++)switch((r=c[g]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var x=0;x<c.length;x++){r=c[x];var y=this.internal.pdfEscape,C=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),I=this.internal.getEncryptor(E.objId),D=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+y(I(r.contents))+")",a+=" /Popup "+T.objId+" 0 R",a+=" /P "+d.objId+" 0 R",a+=" /T ("+y(I(D))+") >>",E.content=a;var F=E.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+F,r.open&&(a+=" /Open true"),a+=" >>",T.content=a,this.internal.write(E.objId,"0 R",T.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+u(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var U=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+y(C(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+U+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var Z=this.annotations._nameMap[r.options.name];r.options.pageNumber=Z.page,r.options.top=Z.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+y(C(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var Q=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+Q+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,a,o){var u=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:d(n),y:c(r),w:d(n+i),h:c(r+a)},options:o,type:"link"})},e.textWithLink=function(n,r,i,a){var o,u,d=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){u=a.maxWidth;var h=this.splitTextToSize(n,u).length;o=Math.ceil(c*h)}else u=d,o=c;return this.text(n,r,i,a),i+=.2*c,a.align==="center"&&(r-=d/2),a.align==="right"&&(r-=d),this.link(r,i-c,u,o,a),d},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(ln.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(E){return t[E.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},u=e.__arabicParser__.isArabicEndLetter=function(E){return o(E)&&a(E)&&t[E.charCodeAt(0)].length<=2},d=e.__arabicParser__.isArabicAlfLetter=function(E){return o(E)&&i.indexOf(E.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return o(E)&&a(E)&&t[E.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(E){return o(E)&&a(E)&&t[E.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(E){return o(E)&&a(E)&&t[E.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(E){return o(E)&&a(E)&&t[E.charCodeAt(0)].length==4},g=e.__arabicParser__.resolveLigatures=function(E){var T=0,I=n,D="",F=0;for(T=0;T<E.length;T+=1)I[E.charCodeAt(T)]!==void 0?(F++,typeof(I=I[E.charCodeAt(T)])=="number"&&(D+=String.fromCharCode(I),I=n,F=0),T===E.length-1&&(I=n,D+=E.charAt(T-(F-1)),T-=F-1,F=0)):(I=n,D+=E.charAt(T-F),T-=F,F=0);return D};e.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&r[E.charCodeAt(0)]!==void 0};var x=e.__arabicParser__.getCorrectForm=function(E,T,I){return o(E)?a(E)===!1?-1:!c(E)||!o(T)&&!o(I)||!o(I)&&u(T)||u(E)&&!o(T)||u(E)&&d(T)||u(E)&&u(T)?0:h(E)&&o(T)&&!u(T)&&o(I)&&c(I)?3:u(E)||!o(I)?1:2:-1},y=function(E){var T=0,I=0,D=0,F="",U="",Z="",Q=(E=E||"").split("\\s+"),Y=[];for(T=0;T<Q.length;T+=1){for(Y.push(""),I=0;I<Q[T].length;I+=1)F=Q[T][I],U=Q[T][I-1],Z=Q[T][I+1],o(F)?(D=x(F,U,Z),Y[T]+=D!==-1?String.fromCharCode(t[F.charCodeAt(0)][D]):F):Y[T]+=F;Y[T]=g(Y[T])}return Y.join(" ")},C=e.__arabicParser__.processArabic=e.processArabic=function(){var E,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,I=[];if(Array.isArray(T)){var D=0;for(I=[],D=0;D<T.length;D+=1)Array.isArray(T[D])?I.push([y(T[D][0]),T[D][1],T[D][2]]):I.push([y(T[D])]);E=I}else E=y(T);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};e.events.push(["preProcessText",C])})(ln.API),ln.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(u){n=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(u){a=u}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(u){o=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(ln.API),(function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(E){d=E}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(E){c=E}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(E){h=E}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(E){g=E}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(E){x=E}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(E){y=E}});var C=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return C},set:function(E){C=E}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(d){return r.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},e.getTextDimensions=function(d,c){r.call(this);var h=(c=c||{}).fontSize||this.getFontSize(),g=c.font||this.getFont(),x=c.scaleFactor||this.internal.scaleFactor,y=0,C=0,E=0,T=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var I=c.maxWidth;I>0?typeof d=="string"?d=this.splitTextToSize(d,I):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(F,U){return F.concat(T.splitTextToSize(U,I))},[])):d=Array.isArray(d)?d:[d];for(var D=0;D<d.length;D++)y<(E=this.getStringUnitWidth(d[D],{font:g})*h)&&(y=E);return y!==0&&(C=d.length),{w:y/=x,h:Math.max((C*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/x,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var d=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var d;d=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,g=this.internal.__cell__.margins||t,x=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===d.lineNumber?(d.x=(c.x||0)+(c.width||0),d.y=c.y||0):c.y+c.height+d.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=g.top,y&&x&&(this.printHeaderRow(d.lineNumber,!0),d.y+=x[0].height)):d.y=c.y+c.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,n===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-h,d.y+h,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+h,{align:"center",baseline:"top",maxWidth:d.width-h-h}):this.text(d.text,d.x+h,d.y+h,{align:"left",baseline:"top",maxWidth:d.width-h-h})),this.internal.__cell__.lastCell=d,this};e.table=function(d,c,h,g,x){if(r.call(this),!h)throw new Error("No data for PDF table.");var y,C,E,T,I=[],D=[],F=[],U={},Z={},Q=[],Y=[],J=(x=x||{}).autoSize||!1,q=x.printHeaders!==!1,oe=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,H=x.margins||Object.assign({width:this.getPageWidth()},t),G=typeof x.padding=="number"?x.padding:3,fe=x.headerBackgroundColor||"#c8c8c8",ee=x.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=q,this.internal.__cell__.margins=H,this.internal.__cell__.table_font_size=oe,this.internal.__cell__.padding=G,this.internal.__cell__.headerBackgroundColor=fe,this.internal.__cell__.headerTextColor=ee,this.setFontSize(oe),g==null)D=I=Object.keys(h[0]),F=I.map(function(){return"left"});else if(Array.isArray(g)&&Ur(g[0])==="object")for(I=g.map(function(we){return we.name}),D=g.map(function(we){return we.prompt||we.name||""}),F=g.map(function(we){return we.align||"left"}),y=0;y<g.length;y+=1)Z[g[y].name]=.7499990551181103*g[y].width;else Array.isArray(g)&&typeof g[0]=="string"&&(D=I=g,F=I.map(function(){return"left"}));if(J||Array.isArray(g)&&typeof g[0]=="string")for(y=0;y<I.length;y+=1){for(U[T=I[y]]=h.map(function(we){return we[T]}),this.setFont(void 0,"bold"),Q.push(this.getTextDimensions(D[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),C=U[T],this.setFont(void 0,"normal"),E=0;E<C.length;E+=1)Q.push(this.getTextDimensions(C[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Z[T]=Math.max.apply(null,Q)+G+G,Q=[]}if(q){var ae={};for(y=0;y<I.length;y+=1)ae[I[y]]={},ae[I[y]].text=D[y],ae[I[y]].align=F[y];var ie=u.call(this,ae,Z);Y=I.map(function(we){return new a(d,c,Z[we],ie,ae[we].text,void 0,ae[we].align)}),this.setTableHeaderRow(Y),this.printHeaderRow(1,!1)}var K=g.reduce(function(we,ue){return we[ue.name]=ue.align,we},{});for(y=0;y<h.length;y+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:y,data:h[y]},this);var ve=u.call(this,h[y],Z);for(E=0;E<I.length;E+=1){var Te=h[y][I[E]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:y,col:E,data:Te},this),o.call(this,new a(d,c,Z[I[E]],ve,Te,y+2,K[I[E]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=c,this};var u=function(d,c){var h=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(d).map(function(y){var C=d[y];return this.splitTextToSize(C.hasOwnProperty("text")?C.text:C,c[y]-h-h)},this).map(function(y){return this.getLineHeightFactor()*y.length*g/x+h+h},this).reduce(function(y,C){return Math.max(y,C)},0)};e.setTableHeaderRow=function(d){r.call(this),this.internal.__cell__.tableHeaderRow=d},e.printHeaderRow=function(d,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){h=this.internal.__cell__.tableHeaderRow[y].clone(),c&&(h.y=this.internal.__cell__.margins.top||0,x.push(h)),h.lineNumber=d;var C=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(C)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),n=!1}})(ln.API);var Z9={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Q9=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],f3=K9(Q9),J9=[100,200,300,400,500,600,700,800,900],Tme=K9(J9);function N5(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=(function(a){return Z9[a=a||"normal"]?a:"normal"})(e.style),r=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(e.weight),i=(function(a){return typeof f3[a=a||"normal"]=="number"?a:"normal"})(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function mk(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var Ime={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},gk={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function vk(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function yk(e){return e.trimLeft()}function jme(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function kme(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Gh,uv,bk,xk,wk,O5=["times"];function _k(e,t,n,r,i){var a=4,o=Ak;switch(i){case ln.API.image_compression.FAST:a=1,o=Sk;break;case ln.API.image_compression.MEDIUM:a=6,o=Ek;break;case ln.API.image_compression.SLOW:a=9,o=Ck}e=(function(d,c,h,g){for(var x,y=d.length/c,C=new Uint8Array(d.length+y),E=[Mme,Sk,Ak,Ek,Ck],T=0;T<y;T+=1){var I=T*c,D=d.subarray(I,I+c);if(g)C.set(g(D,h,x),I+T);else{for(var F=E.length,U=[],Z=0;Z<F;Z+=1)U[Z]=E[Z](D,h,x);var Q=Rme(U.concat());C.set(U[Q],I+T)}x=D}return C})(e,t,Math.ceil(n*r/8),o);var u=i3(e,{level:a});return ln.API.__addimage__.arrayBufferToBinaryString(u)}function Mme(e){var t=Array.apply([],e);return t.unshift(0),t}function Sk(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=e[i-t]||0;r[i+1]=e[i]-a+256&255}return r}function Ak(e,t,n){var r=e.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var o=n&&n[a]||0;i[a+1]=e[a]-o+256&255}return i}function Ek(e,t,n){var r=e.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var o=e[a-t]||0,u=n&&n[a]||0;i[a+1]=e[a]+256-(o+u>>>1)&255}return i}function Ck(e,t,n){var r=e.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var o=Pme(e[a-t]||0,n&&n[a]||0,n&&n[a-t]||0);i[a+1]=e[a]-o+256&255}return i}function Pme(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),a=Math.abs(e+t-n-n);return r<=i&&r<=a?e:i<=a?t:n}function Rme(e){var t=e.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function T5(e,t,n){var r=t*n,i=Math.floor(r/8),a=16-(r-8*i+n),o=(1<<n)-1;return eB(e,i)>>a&o}function Nk(e,t,n,r){var i=n*r,a=Math.floor(i/8),o=16-(i-8*a+r),u=(1<<r)-1,d=(t&u)<<o;(function(c,h,g){if(h+1<c.byteLength)c.setUint16(h,g,!1);else{var x=g>>8&255;c.setUint8(h,x)}})(e,a,eB(e,a)&~(u<<o)&65535|d)}function eB(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Dme(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<1+(7&i);e[t++],e[t++];var u=null,d=null;a&&(u=t,d=o,t+=3*o);var c=!0,h=[],g=0,x=null,y=0,C=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,C=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((H=e[t++])>=0))throw Error("Invalid block size");if(H===0)break;t+=H}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var E=e[t++];g=e[t++]|e[t++]<<8,x=e[t++],1&E||(x=null),y=E>>2&7,t++;break;case 254:for(;;){if(!((H=e[t++])>=0))throw Error("Invalid block size");if(H===0)break;t+=H}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var T=e[t++]|e[t++]<<8,I=e[t++]|e[t++]<<8,D=e[t++]|e[t++]<<8,F=e[t++]|e[t++]<<8,U=e[t++],Z=U>>6&1,Q=1<<1+(7&U),Y=u,J=d,q=!1;U>>7&&(q=!0,Y=t,J=Q,t+=3*Q);var oe=t;for(t++;;){var H;if(!((H=e[t++])>=0))throw Error("Invalid block size");if(H===0)break;t+=H}h.push({x:T,y:I,width:D,height:F,has_local_palette:q,palette_offset:Y,palette_size:J,data_offset:oe,data_length:t-oe,transparent_index:x,interlaced:!!Z,delay:g,disposal:y});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return C},this.frameInfo=function(G){if(G<0||G>=h.length)throw new Error("Frame index out of range.");return h[G]},this.decodeAndBlitFrameBGRA=function(G,fe){var ee=this.frameInfo(G),ae=ee.width*ee.height;if(ae>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var ie=new Uint8Array(ae);Ok(e,ee.data_offset,ie,ae);var K=ee.palette_offset,ve=ee.transparent_index;ve===null&&(ve=256);var Te=ee.width,we=n-Te,ue=Te,V=4*(ee.y*n+ee.x),he=4*((ee.y+ee.height)*n+ee.x),me=V,Ce=4*we;ee.interlaced===!0&&(Ce+=4*n*7);for(var xe=8,Me=0,ze=ie.length;Me<ze;++Me){var Oe=ie[Me];if(ue===0&&(ue=Te,(me+=Ce)>=he&&(Ce=4*we+4*n*(xe-1),me=V+(Te+we)*(xe<<1),xe>>=1)),Oe===ve)me+=4;else{var Ge=e[K+3*Oe],Je=e[K+3*Oe+1],qe=e[K+3*Oe+2];fe[me++]=qe,fe[me++]=Je,fe[me++]=Ge,fe[me++]=255}--ue}},this.decodeAndBlitFrameRGBA=function(G,fe){var ee=this.frameInfo(G),ae=ee.width*ee.height;if(ae>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var ie=new Uint8Array(ae);Ok(e,ee.data_offset,ie,ae);var K=ee.palette_offset,ve=ee.transparent_index;ve===null&&(ve=256);var Te=ee.width,we=n-Te,ue=Te,V=4*(ee.y*n+ee.x),he=4*((ee.y+ee.height)*n+ee.x),me=V,Ce=4*we;ee.interlaced===!0&&(Ce+=4*n*7);for(var xe=8,Me=0,ze=ie.length;Me<ze;++Me){var Oe=ie[Me];if(ue===0&&(ue=Te,(me+=Ce)>=he&&(Ce=4*we+4*n*(xe-1),me=V+(Te+we)*(xe<<1),xe>>=1)),Oe===ve)me+=4;else{var Ge=e[K+3*Oe],Je=e[K+3*Oe+1],qe=e[K+3*Oe+2];fe[me++]=Ge,fe[me++]=Je,fe[me++]=qe,fe[me++]=255}--ue}}}function Ok(e,t,n,r){for(var i=e[t++],a=1<<i,o=a+1,u=o+1,d=i+1,c=(1<<d)-1,h=0,g=0,x=0,y=e[t++],C=new Int32Array(4096),E=null;;){for(;h<16&&y!==0;)g|=e[t++]<<h,h+=8,y===1?y=e[t++]:--y;if(h<d)break;var T=g&c;if(g>>=d,h-=d,T!==a){if(T===o)break;for(var I=T<u?T:E,D=0,F=I;F>a;)F=C[F]>>8,++D;var U=F;if(x+D+(I!==T?1:0)>r)return void ei.log("Warning, gif stream longer than expected.");n[x++]=U;var Z=x+=D;for(I!==T&&(n[x++]=U),F=I;D--;)F=C[F],n[--Z]=255&F,F>>=8;E!==null&&u<4096&&(C[u++]=E<<8|U,u>=c+1&&d<12&&(++d,c=c<<1|1)),E=T}else u=o+1,c=(1<<(d=i+1))-1,E=null}return x!==r&&ei.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function I5(e){var t,n,r,i,a,o=Math.floor,u=new Array(64),d=new Array(64),c=new Array(64),h=new Array(64),g=new Array(65535),x=new Array(65535),y=new Array(64),C=new Array(64),E=[],T=0,I=7,D=new Array(64),F=new Array(64),U=new Array(64),Z=new Array(256),Q=new Array(2048),Y=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],J=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],H=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],G=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],fe=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(V,he){for(var me=0,Ce=0,xe=new Array,Me=1;Me<=16;Me++){for(var ze=1;ze<=V[Me];ze++)xe[he[Ce]]=[],xe[he[Ce]][0]=me,xe[he[Ce]][1]=Me,Ce++,me++;me*=2}return xe}function K(V){for(var he=V[0],me=V[1]-1;me>=0;)he&1<<me&&(T|=1<<I),me--,--I<0&&(T==255?(ve(255),ve(0)):ve(T),I=7,T=0)}function ve(V){E.push(V)}function Te(V){ve(V>>8&255),ve(255&V)}function we(V,he,me,Ce,xe){for(var Me,ze=xe[0],Oe=xe[240],Ge=(function(nt,en){var at,an,sn,yn,Fn,cn,zn,Nn,Ot,In,Ht=0;for(Ot=0;Ot<8;++Ot){at=nt[Ht],an=nt[Ht+1],sn=nt[Ht+2],yn=nt[Ht+3],Fn=nt[Ht+4],cn=nt[Ht+5],zn=nt[Ht+6];var ci=at+(Nn=nt[Ht+7]),tn=at-Nn,rt=an+zn,Dt=an-zn,Ft=sn+cn,Ct=sn-cn,cr=yn+Fn,pn=yn-Fn,_n=ci+cr,Xt=ci-cr,Sn=rt+Ft,Kt=rt-Ft;nt[Ht]=_n+Sn,nt[Ht+4]=_n-Sn;var Xn=.707106781*(Kt+Xt);nt[Ht+2]=Xt+Xn,nt[Ht+6]=Xt-Xn;var ui=.382683433*((_n=pn+Ct)-(Kt=Dt+tn)),Ri=.5411961*_n+ui,Ir=1.306562965*Kt+ui,ea=.707106781*(Sn=Ct+Dt),Zt=tn+ea,Di=tn-ea;nt[Ht+5]=Di+Ri,nt[Ht+3]=Di-Ri,nt[Ht+1]=Zt+Ir,nt[Ht+7]=Zt-Ir,Ht+=8}for(Ht=0,Ot=0;Ot<8;++Ot){at=nt[Ht],an=nt[Ht+8],sn=nt[Ht+16],yn=nt[Ht+24],Fn=nt[Ht+32],cn=nt[Ht+40],zn=nt[Ht+48];var io=at+(Nn=nt[Ht+56]),Ti=at-Nn,Ea=an+zn,qn=an-zn,Nr=sn+cn,hr=sn-cn,Nt=yn+Fn,xi=yn-Fn,pr=io+Nt,Gn=io-Nt,fi=Ea+Nr,ha=Ea-Nr;nt[Ht]=pr+fi,nt[Ht+32]=pr-fi;var Ca=.707106781*(ha+Gn);nt[Ht+16]=Gn+Ca,nt[Ht+48]=Gn-Ca;var pa=.382683433*((pr=xi+hr)-(ha=qn+Ti)),zs=.5411961*pr+pa,qs=1.306562965*ha+pa,ta=.707106781*(fi=hr+qn),jr=Ti+ta,Kn=Ti-ta;nt[Ht+40]=Kn+zs,nt[Ht+24]=Kn-zs,nt[Ht+8]=jr+qs,nt[Ht+56]=jr-qs,Ht++}for(Ot=0;Ot<64;++Ot)In=nt[Ot]*en[Ot],y[Ot]=In>0?In+.5|0:In-.5|0;return y})(V,he),Je=0;Je<64;++Je)C[Y[Je]]=Ge[Je];var qe=C[0]-me;me=C[0],qe==0?K(Ce[0]):(K(Ce[x[Me=32767+qe]]),K(g[Me]));for(var lt=63;lt>0&&C[lt]==0;)lt--;if(lt==0)return K(ze),me;for(var bt,ye=1;ye<=lt;){for(var wt=ye;C[ye]==0&&ye<=lt;)++ye;var Rt=ye-wt;if(Rt>=16){bt=Rt>>4;for(var _t=1;_t<=bt;++_t)K(Oe);Rt&=15}Me=32767+C[ye],K(xe[(Rt<<4)+x[Me]]),K(g[Me]),ye++}return lt!=63&&K(ze),me}function ue(V){V=Math.min(Math.max(V,1),100),a!=V&&((function(he){for(var me=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ce=0;Ce<64;Ce++){var xe=o((me[Ce]*he+50)/100);xe=Math.min(Math.max(xe,1),255),u[Y[Ce]]=xe}for(var Me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ze=0;ze<64;ze++){var Oe=o((Me[ze]*he+50)/100);Oe=Math.min(Math.max(Oe,1),255),d[Y[ze]]=Oe}for(var Ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Je=0,qe=0;qe<8;qe++)for(var lt=0;lt<8;lt++)c[Je]=1/(u[Y[Je]]*Ge[qe]*Ge[lt]*8),h[Je]=1/(d[Y[Je]]*Ge[qe]*Ge[lt]*8),Je++})(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),a=V)}this.encode=function(V,he){he&&ue(he),E=new Array,T=0,I=7,Te(65496),Te(65504),Te(16),ve(74),ve(70),ve(73),ve(70),ve(0),ve(1),ve(1),ve(0),Te(1),Te(1),ve(0),ve(0),(function(){Te(65499),Te(132),ve(0);for(var an=0;an<64;an++)ve(u[an]);ve(1);for(var sn=0;sn<64;sn++)ve(d[sn])})(),(function(an,sn){Te(65472),Te(17),ve(8),Te(sn),Te(an),ve(3),ve(1),ve(17),ve(0),ve(2),ve(17),ve(1),ve(3),ve(17),ve(1)})(V.width,V.height),(function(){Te(65476),Te(418),ve(0);for(var an=0;an<16;an++)ve(J[an+1]);for(var sn=0;sn<=11;sn++)ve(q[sn]);ve(16);for(var yn=0;yn<16;yn++)ve(oe[yn+1]);for(var Fn=0;Fn<=161;Fn++)ve(H[Fn]);ve(1);for(var cn=0;cn<16;cn++)ve(G[cn+1]);for(var zn=0;zn<=11;zn++)ve(fe[zn]);ve(17);for(var Nn=0;Nn<16;Nn++)ve(ee[Nn+1]);for(var Ot=0;Ot<=161;Ot++)ve(ae[Ot])})(),Te(65498),Te(12),ve(3),ve(1),ve(0),ve(2),ve(17),ve(3),ve(17),ve(0),ve(63),ve(0);var me=0,Ce=0,xe=0;T=0,I=7,this.encode.displayName="_encode_";for(var Me,ze,Oe,Ge,Je,qe,lt,bt,ye,wt=V.data,Rt=V.width,_t=V.height,nt=4*Rt,en=0;en<_t;){for(Me=0;Me<nt;){for(Je=nt*en+Me,lt=-1,bt=0,ye=0;ye<64;ye++)qe=Je+(bt=ye>>3)*nt+(lt=4*(7&ye)),en+bt>=_t&&(qe-=nt*(en+1+bt-_t)),Me+lt>=nt&&(qe-=Me+lt-nt+4),ze=wt[qe++],Oe=wt[qe++],Ge=wt[qe++],D[ye]=(Q[ze]+Q[Oe+256|0]+Q[Ge+512|0]>>16)-128,F[ye]=(Q[ze+768|0]+Q[Oe+1024|0]+Q[Ge+1280|0]>>16)-128,U[ye]=(Q[ze+1280|0]+Q[Oe+1536|0]+Q[Ge+1792|0]>>16)-128;me=we(D,c,me,t,r),Ce=we(F,h,Ce,n,i),xe=we(U,h,xe,n,i),Me+=32}en+=8}if(I>=0){var at=[];at[1]=I+1,at[0]=(1<<I+1)-1,K(at)}return Te(65497),new Uint8Array(E)},e=e||50,(function(){for(var V=String.fromCharCode,he=0;he<256;he++)Z[he]=V(he)})(),t=ie(J,q),n=ie(G,fe),r=ie(oe,H),i=ie(ee,ae),(function(){for(var V=1,he=2,me=1;me<=15;me++){for(var Ce=V;Ce<he;Ce++)x[32767+Ce]=me,g[32767+Ce]=[],g[32767+Ce][1]=me,g[32767+Ce][0]=Ce;for(var xe=-(he-1);xe<=-V;xe++)x[32767+xe]=me,g[32767+xe]=[],g[32767+xe][1]=me,g[32767+xe][0]=he-1+xe;V<<=1,he<<=1}})(),(function(){for(var V=0;V<256;V++)Q[V]=19595*V,Q[V+256|0]=38470*V,Q[V+512|0]=7471*V+32768,Q[V+768|0]=-11059*V,Q[V+1024|0]=-21709*V,Q[V+1280|0]=32768*V+8421375,Q[V+1536|0]=-27439*V,Q[V+1792|0]=-5329*V})(),ue(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function $l(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Tk(e){function t(q){if(!q)throw Error("assert :P")}function n(q,oe,H){for(var G=0;4>G;G++)if(q[oe+G]!=H.charCodeAt(G))return!0;return!1}function r(q,oe,H,G,fe){for(var ee=0;ee<fe;ee++)q[oe+ee]=H[G+ee]}function i(q,oe,H,G){for(var fe=0;fe<G;fe++)q[oe+fe]=H}function a(q){return new Int32Array(q)}function o(q,oe){for(var H=[],G=0;G<q;G++)H.push(new oe);return H}function u(q,oe){var H=[];return(function G(fe,ee,ae){for(var ie=ae[ee],K=0;K<ie&&(fe.push(ae.length>ee+1?[]:new oe),!(ae.length<ee+1));K++)G(fe[K],ee+1,ae)})(H,0,q),H}var d=function(){var q=this;function oe(N,k){for(var z=1<<k-1>>>0;N&z;)z>>>=1;return z?(N&z-1)+z:N}function H(N,k,z,W,se){t(!(W%z));do N[k+(W-=z)]=se;while(0<W)}function G(N,k,z,W,se){if(t(2328>=se),512>=se)var ce=a(512);else if((ce=a(se))==null)return 0;return(function(de,ge,be,Ne,Re,Ve){var Ee,Le,He=ge,st=1<<be,We=a(16),it=a(16);for(t(Re!=0),t(Ne!=null),t(de!=null),t(0<be),Le=0;Le<Re;++Le){if(15<Ne[Le])return 0;++We[Ne[Le]]}if(We[0]==Re)return 0;for(it[1]=0,Ee=1;15>Ee;++Ee){if(We[Ee]>1<<Ee)return 0;it[Ee+1]=it[Ee]+We[Ee]}for(Le=0;Le<Re;++Le)Ee=Ne[Le],0<Ne[Le]&&(Ve[it[Ee]++]=Le);if(it[15]==1)return(Ne=new fe).g=0,Ne.value=Ve[0],H(de,He,1,st,Ne),st;var ht,xt=-1,vt=st-1,Gt=0,kt=1,kn=1,Ut=1<<be;for(Le=0,Ee=1,Re=2;Ee<=be;++Ee,Re<<=1){if(kt+=kn<<=1,0>(kn-=We[Ee]))return 0;for(;0<We[Ee];--We[Ee])(Ne=new fe).g=Ee,Ne.value=Ve[Le++],H(de,He+Gt,Re,Ut,Ne),Gt=oe(Gt,Ee)}for(Ee=be+1,Re=2;15>=Ee;++Ee,Re<<=1){if(kt+=kn<<=1,0>(kn-=We[Ee]))return 0;for(;0<We[Ee];--We[Ee]){if(Ne=new fe,(Gt&vt)!=xt){for(He+=Ut,ht=1<<(xt=Ee)-be;15>xt&&!(0>=(ht-=We[xt]));)++xt,ht<<=1;st+=Ut=1<<(ht=xt-be),de[ge+(xt=Gt&vt)].g=ht+be,de[ge+xt].value=He-ge-xt}Ne.g=Ee-be,Ne.value=Ve[Le++],H(de,He+(Gt>>be),Re,Ut,Ne),Gt=oe(Gt,Ee)}}return kt!=2*it[15]-1?0:st})(N,k,z,W,se,ce)}function fe(){this.value=this.g=0}function ee(){this.value=this.g=0}function ae(){this.G=o(5,fe),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ia,ee)}function ie(N,k,z,W){t(N!=null),t(k!=null),t(2147483648>W),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=k,N.pa=z,N.Jd=k,N.Yc=z+W,N.Zc=4<=W?z+W-4+1:z,ze(N)}function K(N,k){for(var z=0;0<k--;)z|=Ge(N,128)<<k;return z}function ve(N,k){var z=K(N,k);return Oe(N)?-z:z}function Te(N,k,z,W){var se,ce=0;for(t(N!=null),t(k!=null),t(4294967288>W),N.Sb=W,N.Ra=0,N.u=0,N.h=0,4<W&&(W=4),se=0;se<W;++se)ce+=k[z+se]<<8*se;N.Ra=ce,N.bb=W,N.oa=k,N.pa=z}function we(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<Xa-8>>>0,++N.bb,N.u-=8;Ce(N)&&(N.h=1,N.u=0)}function ue(N,k){if(t(0<=k),!N.h&&k<=aa){var z=me(N)&Ya[k];return N.u+=k,we(N),z}return N.h=1,N.u=0}function V(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function he(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function me(N){return N.Ra>>>(N.u&Xa-1)>>>0}function Ce(N){return t(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>Xa}function xe(N,k){N.u=k,N.h=Ce(N)}function Me(N){N.u>=Pn&&(t(N.u>=Pn),we(N))}function ze(N){t(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(t(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function Oe(N){return K(N,1)}function Ge(N,k){var z=N.Ca;0>N.b&&ze(N);var W=N.b,se=z*k>>>8,ce=(N.I>>>W>se)+0;for(ce?(z-=se,N.I-=se+1<<W>>>0):z=se+1,W=z,se=0;256<=W;)se+=8,W>>=8;return W=7^se+js[W],N.b-=W,N.Ca=(z<<W)-1,ce}function Je(N,k,z){N[k+0]=z>>24&255,N[k+1]=z>>16&255,N[k+2]=z>>8&255,N[k+3]=255&z}function qe(N,k){return N[k+0]|N[k+1]<<8}function lt(N,k){return qe(N,k)|N[k+2]<<16}function bt(N,k){return qe(N,k)|qe(N,k+2)<<16}function ye(N,k){var z=1<<k;return t(N!=null),t(0<k),N.X=a(z),N.X==null?0:(N.Mb=32-k,N.Xa=k,1)}function wt(N,k){t(N!=null),t(k!=null),t(N.Xa==k.Xa),r(k.X,0,N.X,0,1<<k.Xa)}function Rt(){this.X=[],this.Xa=this.Mb=0}function _t(N,k,z,W){t(z!=null),t(W!=null);var se=z[0],ce=W[0];return se==0&&(se=(N*ce+k/2)/k),ce==0&&(ce=(k*se+N/2)/N),0>=se||0>=ce?0:(z[0]=se,W[0]=ce,1)}function nt(N,k){return N+(1<<k)-1>>>k}function en(N,k){return((4278255360&N)+(4278255360&k)>>>0&4278255360)+((16711935&N)+(16711935&k)>>>0&16711935)>>>0}function at(N,k){q[k]=function(z,W,se,ce,de,ge,be){var Ne;for(Ne=0;Ne<de;++Ne){var Re=q[N](ge[be+Ne-1],se,ce+Ne);ge[be+Ne]=en(z[W+Ne],Re)}}}function an(){this.ud=this.hd=this.jd=0}function sn(N,k){return((4278124286&(N^k))>>>1)+(N&k)>>>0}function yn(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function Fn(N,k){return yn(N+(N-k+.5>>1))}function cn(N,k,z){return Math.abs(k-z)-Math.abs(N-z)}function zn(N,k,z,W,se,ce,de){for(W=ce[de-1],z=0;z<se;++z)ce[de+z]=W=en(N[k+z],W)}function Nn(N,k,z,W,se){var ce;for(ce=0;ce<z;++ce){var de=N[k+ce],ge=de>>8&255,be=16711935&(be=(be=16711935&de)+((ge<<16)+ge));W[se+ce]=(4278255360&de)+be>>>0}}function Ot(N,k){k.jd=255&N,k.hd=N>>8&255,k.ud=N>>16&255}function In(N,k,z,W,se,ce){var de;for(de=0;de<W;++de){var ge=k[z+de],be=ge>>>8,Ne=ge,Re=255&(Re=(Re=ge>>>16)+((N.jd<<24>>24)*(be<<24>>24)>>>5));Ne=255&(Ne=(Ne+=(N.hd<<24>>24)*(be<<24>>24)>>>5)+((N.ud<<24>>24)*(Re<<24>>24)>>>5)),se[ce+de]=(4278255360&ge)+(Re<<16)+Ne}}function Ht(N,k,z,W,se){q[k]=function(ce,de,ge,be,Ne,Re,Ve,Ee,Le){for(be=Ve;be<Ee;++be)for(Ve=0;Ve<Le;++Ve)Ne[Re++]=se(ge[W(ce[de++])])},q[N]=function(ce,de,ge,be,Ne,Re,Ve){var Ee=8>>ce.b,Le=ce.Ea,He=ce.K[0],st=ce.w;if(8>Ee)for(ce=(1<<ce.b)-1,st=(1<<Ee)-1;de<ge;++de){var We,it=0;for(We=0;We<Le;++We)We&ce||(it=W(be[Ne++])),Re[Ve++]=se(He[it&st]),it>>=Ee}else q["VP8LMapColor"+z](be,Ne,He,st,Re,Ve,de,ge,Le)}}function ci(N,k,z,W,se){for(z=k+z;k<z;){var ce=N[k++];W[se++]=ce>>16&255,W[se++]=ce>>8&255,W[se++]=255&ce}}function tn(N,k,z,W,se){for(z=k+z;k<z;){var ce=N[k++];W[se++]=ce>>16&255,W[se++]=ce>>8&255,W[se++]=255&ce,W[se++]=ce>>24&255}}function rt(N,k,z,W,se){for(z=k+z;k<z;){var ce=(de=N[k++])>>16&240|de>>12&15,de=240&de|de>>28&15;W[se++]=ce,W[se++]=de}}function Dt(N,k,z,W,se){for(z=k+z;k<z;){var ce=(de=N[k++])>>16&248|de>>13&7,de=de>>5&224|de>>3&31;W[se++]=ce,W[se++]=de}}function Ft(N,k,z,W,se){for(z=k+z;k<z;){var ce=N[k++];W[se++]=255&ce,W[se++]=ce>>8&255,W[se++]=ce>>16&255}}function Ct(N,k,z,W,se,ce){if(ce==0)for(z=k+z;k<z;)Je(W,((ce=N[k++])[0]>>24|ce[1]>>8&65280|ce[2]<<8&16711680|ce[3]<<24)>>>0),se+=32;else r(W,se,N,k,z)}function cr(N,k){q[k][0]=q[N+"0"],q[k][1]=q[N+"1"],q[k][2]=q[N+"2"],q[k][3]=q[N+"3"],q[k][4]=q[N+"4"],q[k][5]=q[N+"5"],q[k][6]=q[N+"6"],q[k][7]=q[N+"7"],q[k][8]=q[N+"8"],q[k][9]=q[N+"9"],q[k][10]=q[N+"10"],q[k][11]=q[N+"11"],q[k][12]=q[N+"12"],q[k][13]=q[N+"13"],q[k][14]=q[N+"0"],q[k][15]=q[N+"0"]}function pn(N){return N==Kf||N==eh||N==Yu||N==th}function _n(){this.eb=[],this.size=this.A=this.fb=0}function Xt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Sn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new _n,this.f.kb=new Xt,this.sd=null}function Kt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Xn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ui(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function Ri(N,k){var z=N.T,W=k.ba.f.RGBA,se=W.eb,ce=W.fb+N.ka*W.A,de=ka[k.ba.S],ge=N.y,be=N.O,Ne=N.f,Re=N.N,Ve=N.ea,Ee=N.W,Le=k.cc,He=k.dc,st=k.Mc,We=k.Nc,it=N.ka,ht=N.ka+N.T,xt=N.U,vt=xt+1>>1;for(it==0?de(ge,be,null,null,Ne,Re,Ve,Ee,Ne,Re,Ve,Ee,se,ce,null,null,xt):(de(k.ec,k.fc,ge,be,Le,He,st,We,Ne,Re,Ve,Ee,se,ce-W.A,se,ce,xt),++z);it+2<ht;it+=2)Le=Ne,He=Re,st=Ve,We=Ee,Re+=N.Rc,Ee+=N.Rc,ce+=2*W.A,de(ge,(be+=2*N.fa)-N.fa,ge,be,Le,He,st,We,Ne,Re,Ve,Ee,se,ce-W.A,se,ce,xt);return be+=N.fa,N.j+ht<N.o?(r(k.ec,k.fc,ge,be,xt),r(k.cc,k.dc,Ne,Re,vt),r(k.Mc,k.Nc,Ve,Ee,vt),z--):1&ht||de(ge,be,null,null,Ne,Re,Ve,Ee,Ne,Re,Ve,Ee,se,ce+W.A,null,null,xt),z}function Ir(N,k,z){var W=N.F,se=[N.J];if(W!=null){var ce=N.U,de=k.ba.S,ge=de==Xf||de==Yu;k=k.ba.f.RGBA;var be=[0],Ne=N.ka;be[0]=N.T,N.Kb&&(Ne==0?--be[0]:(--Ne,se[0]-=N.width),N.j+N.ka+N.T==N.o&&(be[0]=N.o-N.j-Ne));var Re=k.eb;Ne=k.fb+Ne*k.A,N=$f(W,se[0],N.width,ce,be,Re,Ne+(ge?0:3),k.A),t(z==be),N&&pn(de)&&Rl(Re,Ne,ge,ce,be,k.A)}return 0}function ea(N){var k=N.ma,z=k.ba.S,W=11>z,se=z==Qa||z==mo||z==Xf||z==Vu||z==12||pn(z);if(k.memory=null,k.Ib=null,k.Jb=null,k.Nd=null,!Ks(k.Oa,N,se?11:12))return 0;if(se&&pn(z)&&kl(),N.da)alert("todo:use_scaling");else{if(W){if(k.Ib=ui,N.Kb){if(z=N.U+1>>1,k.memory=a(N.U+2*z),k.memory==null)return 0;k.ec=k.memory,k.fc=0,k.cc=k.ec,k.dc=k.fc+N.U,k.Mc=k.cc,k.Nc=k.dc+z,k.Ib=Ri,kl()}}else alert("todo:EmitYUV");se&&(k.Jb=Ir,W&&Ys())}if(W&&!yc){for(N=0;256>N;++N)Ma[N]=89858*(N-128)+Zu>>wo,Xy[N]=-22014*(N-128)+Zu,im[N]=-45773*(N-128),sh[N]=113618*(N-128)+Zu>>wo;for(N=Jc;N<vc;++N)k=76283*(N-16)+Zu>>wo,Ky[N-Jc]=Na(k,255),Zy[N-Jc]=Na(k+8>>4,15);yc=1}return 1}function Zt(N){var k=N.ma,z=N.U,W=N.T;return t(!(1&N.ka)),0>=z||0>=W?0:(z=k.Ib(N,k),k.Jb!=null&&k.Jb(N,k,z),k.Dc+=z,1)}function Di(N){N.ma.memory=null}function io(N,k,z,W){return ue(N,8)!=47?0:(k[0]=ue(N,14)+1,z[0]=ue(N,14)+1,W[0]=ue(N,1),ue(N,3)!=0?0:!N.h)}function Ti(N,k){if(4>N)return N+1;var z=N-2>>1;return(2+(1&N)<<z)+ue(k,z)+1}function Ea(N,k){return 120<k?k-120:1<=(z=((z=vo[k-1])>>4)*N+(8-(15&z)))?z:1;var z}function qn(N,k,z){var W=me(z),se=N[k+=255&W].g-8;return 0<se&&(xe(z,z.u+8),W=me(z),k+=N[k].value,k+=W&(1<<se)-1),xe(z,z.u+N[k].g),N[k].value}function Nr(N,k,z){return z.g+=N.g,z.value+=N.value<<k>>>0,t(8>=z.g),N.g}function hr(N,k,z){var W=N.xc;return t((k=W==0?0:N.vc[N.md*(z>>W)+(k>>W)])<N.Wb),N.Ya[k]}function Nt(N,k,z,W){var se=N.ab,ce=N.c*k,de=N.C;k=de+k;var ge=z,be=W;for(W=N.Ta,z=N.Ua;0<se--;){var Ne=N.gc[se],Re=de,Ve=k,Ee=ge,Le=be,He=(be=W,ge=z,Ne.Ea);switch(t(Re<Ve),t(Ve<=Ne.nc),Ne.hc){case 2:p(Ee,Le,(Ve-Re)*He,be,ge);break;case 0:var st=Re,We=Ve,it=be,ht=ge,xt=(Ut=Ne).Ea;st==0&&(te(Ee,Le,null,null,1,it,ht),zn(Ee,Le+1,0,0,xt-1,it,ht+1),Le+=xt,ht+=xt,++st);for(var vt=1<<Ut.b,Gt=vt-1,kt=nt(xt,Ut.b),kn=Ut.K,Ut=Ut.w+(st>>Ut.b)*kt;st<We;){var Qn=kn,Qr=Ut,Rn=1;for(l(Ee,Le,it,ht-xt,1,it,ht);Rn<xt;){var Mt=(Rn&~Gt)+vt;Mt>xt&&(Mt=xt),(0,O[Qn[Qr++]>>8&15])(Ee,Le+ +Rn,it,ht+Rn-xt,Mt-Rn,it,ht+Rn),Rn=Mt}Le+=xt,ht+=xt,++st&Gt||(Ut+=kt)}Ve!=Ne.nc&&r(be,ge-He,be,ge+(Ve-Re-1)*He,He);break;case 1:for(He=Ee,We=Le,xt=(Ee=Ne.Ea)-(ht=Ee&~(it=(Le=1<<Ne.b)-1)),st=nt(Ee,Ne.b),vt=Ne.K,Ne=Ne.w+(Re>>Ne.b)*st;Re<Ve;){for(Gt=vt,kt=Ne,kn=new an,Ut=We+ht,Qn=We+Ee;We<Ut;)Ot(Gt[kt++],kn),M(kn,He,We,Le,be,ge),We+=Le,ge+=Le;We<Qn&&(Ot(Gt[kt++],kn),M(kn,He,We,xt,be,ge),We+=xt,ge+=xt),++Re&it||(Ne+=st)}break;case 3:if(Ee==be&&Le==ge&&0<Ne.b){for(We=be,Ee=He=ge+(Ve-Re)*He-(ht=(Ve-Re)*nt(Ne.Ea,Ne.b)),Le=be,it=ge,st=[],ht=(xt=ht)-1;0<=ht;--ht)st[ht]=Le[it+ht];for(ht=xt-1;0<=ht;--ht)We[Ee+ht]=st[ht];m(Ne,Re,Ve,be,He,be,ge)}else m(Ne,Re,Ve,Ee,Le,be,ge)}ge=W,be=z}be!=z&&r(W,z,ge,be,ce)}function xi(N,k){var z=N.V,W=N.Ba+N.c*N.C,se=k-N.C;if(t(k<=N.l.o),t(16>=se),0<se){var ce=N.l,de=N.Ta,ge=N.Ua,be=ce.width;if(Nt(N,se,z,W),se=ge=[ge],t((z=N.C)<(W=k)),t(ce.v<ce.va),W>ce.o&&(W=ce.o),z<ce.j){var Ne=ce.j-z;z=ce.j,se[0]+=Ne*be}if(z>=W?z=0:(se[0]+=4*ce.v,ce.ka=z-ce.j,ce.U=ce.va-ce.v,ce.T=W-z,z=1),z){if(ge=ge[0],11>(z=N.ca).S){var Re=z.f.RGBA,Ve=(W=z.S,se=ce.U,ce=ce.T,Ne=Re.eb,Re.A),Ee=ce;for(Re=Re.fb+N.Ma*Re.A;0<Ee--;){var Le=de,He=ge,st=se,We=Ne,it=Re;switch(W){case Qd:B(Le,He,st,We,it);break;case Qa:$(Le,He,st,We,it);break;case Kf:$(Le,He,st,We,it),Rl(We,it,0,st,1,0);break;case Jd:Se(Le,He,st,We,it);break;case mo:Ct(Le,He,st,We,it,1);break;case eh:Ct(Le,He,st,We,it,1),Rl(We,it,0,st,1,0);break;case Xf:Ct(Le,He,st,We,it,0);break;case Yu:Ct(Le,He,st,We,it,0),Rl(We,it,1,st,1,0);break;case Vu:ne(Le,He,st,We,it);break;case th:ne(Le,He,st,We,it),po(We,it,st,1,0);break;case dc:le(Le,He,st,We,it);break;default:t(0)}ge+=be,Re+=Ve}N.Ma+=ce}else alert("todo:EmitRescaledRowsYUVA");t(N.Ma<=z.height)}}N.C=k,t(N.C<=N.i)}function pr(N){var k;if(0<N.ua)return 0;for(k=0;k<N.Wb;++k){var z=N.Ya[k].G,W=N.Ya[k].H;if(0<z[1][W[1]+0].g||0<z[2][W[2]+0].g||0<z[3][W[3]+0].g)return 0}return 1}function Gn(N,k,z,W,se,ce){if(N.Z!=0){var de=N.qd,ge=N.rd;for(t(Ll[N.Z]!=null);k<z;++k)Ll[N.Z](de,ge,W,se,W,se,ce),de=W,ge=se,se+=ce;N.qd=de,N.rd=ge}}function fi(N,k){var z=N.l.ma,W=z.Z==0||z.Z==1?N.l.j:N.C;if(W=N.C<W?W:N.C,t(k<=N.l.o),k>W){var se=N.l.width,ce=z.ca,de=z.tb+se*W,ge=N.V,be=N.Ba+N.c*W,Ne=N.gc;t(N.ab==1),t(Ne[0].hc==3),w(Ne[0],W,k,ge,be,ce,de),Gn(z,W,k,ce,de,se)}N.C=N.Ma=k}function ha(N,k,z,W,se,ce,de){var ge=N.$/W,be=N.$%W,Ne=N.m,Re=N.s,Ve=z+N.$,Ee=Ve;se=z+W*se;var Le=z+W*ce,He=280+Re.ua,st=N.Pb?ge:16777216,We=0<Re.ua?Re.Wa:null,it=Re.wc,ht=Ve<Le?hr(Re,be,ge):null;t(N.C<ce),t(Le<=se);var xt=!1;e:for(;;){for(;xt||Ve<Le;){var vt=0;if(ge>=st){var Gt=Ve-z;t((st=N).Pb),st.wd=st.m,st.xd=Gt,0<st.s.ua&&wt(st.s.Wa,st.s.vb),st=ge+hc}if(be&it||(ht=hr(Re,be,ge)),t(ht!=null),ht.Qb&&(k[Ve]=ht.qb,xt=!0),!xt)if(Me(Ne),ht.jc){vt=Ne,Gt=k;var kt=Ve,kn=ht.pd[me(vt)&ia-1];t(ht.jc),256>kn.g?(xe(vt,vt.u+kn.g),Gt[kt]=kn.value,vt=0):(xe(vt,vt.u+kn.g-256),t(256<=kn.value),vt=kn.value),vt==0&&(xt=!0)}else vt=qn(ht.G[0],ht.H[0],Ne);if(Ne.h)break;if(xt||256>vt){if(!xt)if(ht.nd)k[Ve]=(ht.qb|vt<<8)>>>0;else{if(Me(Ne),xt=qn(ht.G[1],ht.H[1],Ne),Me(Ne),Gt=qn(ht.G[2],ht.H[2],Ne),kt=qn(ht.G[3],ht.H[3],Ne),Ne.h)break;k[Ve]=(kt<<24|xt<<16|vt<<8|Gt)>>>0}if(xt=!1,++Ve,++be>=W&&(be=0,++ge,de!=null&&ge<=ce&&!(ge%16)&&de(N,ge),We!=null))for(;Ee<Ve;)vt=k[Ee++],We.X[(506832829*vt&4294967295)>>>We.Mb]=vt}else if(280>vt){if(vt=Ti(vt-256,Ne),Gt=qn(ht.G[4],ht.H[4],Ne),Me(Ne),Gt=Ea(W,Gt=Ti(Gt,Ne)),Ne.h)break;if(Ve-z<Gt||se-Ve<vt)break e;for(kt=0;kt<vt;++kt)k[Ve+kt]=k[Ve+kt-Gt];for(Ve+=vt,be+=vt;be>=W;)be-=W,++ge,de!=null&&ge<=ce&&!(ge%16)&&de(N,ge);if(t(Ve<=se),be&it&&(ht=hr(Re,be,ge)),We!=null)for(;Ee<Ve;)vt=k[Ee++],We.X[(506832829*vt&4294967295)>>>We.Mb]=vt}else{if(!(vt<He))break e;for(xt=vt-280,t(We!=null);Ee<Ve;)vt=k[Ee++],We.X[(506832829*vt&4294967295)>>>We.Mb]=vt;vt=Ve,t(!(xt>>>(Gt=We).Xa)),k[vt]=Gt.X[xt],xt=!0}xt||t(Ne.h==Ce(Ne))}if(N.Pb&&Ne.h&&Ve<se)t(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&wt(N.s.vb,N.s.Wa);else{if(Ne.h)break e;de!=null&&de(N,ge>ce?ce:ge),N.a=0,N.$=Ve-z}return 1}return N.a=3,0}function Ca(N){t(N!=null),N.vc=null,N.yc=null,N.Ya=null;var k=N.Wa;k!=null&&(k.X=null),N.vb=null,t(N!=null)}function pa(){var N=new bn;return N==null?null:(N.a=0,N.xb=U0,cr("Predictor","VP8LPredictors"),cr("Predictor","VP8LPredictors_C"),cr("PredictorAdd","VP8LPredictorsAdd"),cr("PredictorAdd","VP8LPredictorsAdd_C"),p=Nn,M=In,B=ci,$=tn,ne=rt,le=Dt,Se=Ft,q.VP8LMapColor32b=b,q.VP8LMapColor8b=A,N)}function zs(N,k,z,W,se){var ce=1,de=[N],ge=[k],be=W.m,Ne=W.s,Re=null,Ve=0;e:for(;;){if(z)for(;ce&&ue(be,1);){var Ee=de,Le=ge,He=W,st=1,We=He.m,it=He.gc[He.ab],ht=ue(We,2);if(He.Oc&1<<ht)ce=0;else{switch(He.Oc|=1<<ht,it.hc=ht,it.Ea=Ee[0],it.nc=Le[0],it.K=[null],++He.ab,t(4>=He.ab),ht){case 0:case 1:it.b=ue(We,3)+2,st=zs(nt(it.Ea,it.b),nt(it.nc,it.b),0,He,it.K),it.K=it.K[0];break;case 3:var xt,vt=ue(We,8)+1,Gt=16<vt?0:4<vt?1:2<vt?2:3;if(Ee[0]=nt(it.Ea,Gt),it.b=Gt,xt=st=zs(vt,1,0,He,it.K)){var kt,kn=vt,Ut=it,Qn=1<<(8>>Ut.b),Qr=a(Qn);if(Qr==null)xt=0;else{var Rn=Ut.K[0],Mt=Ut.w;for(Qr[0]=Ut.K[0][0],kt=1;kt<1*kn;++kt)Qr[kt]=en(Rn[Mt+kt],Qr[kt-1]);for(;kt<4*Qn;++kt)Qr[kt]=0;Ut.K[0]=null,Ut.K[0]=Qr,xt=1}}st=xt;break;case 2:break;default:t(0)}ce=st}}if(de=de[0],ge=ge[0],ce&&ue(be,1)&&!(ce=1<=(Ve=ue(be,4))&&11>=Ve)){W.a=3;break e}var St;if(St=ce)t:{var hi,wn,Bn,Sr=W,oa=de,Pa=ge,Hr=Ve,Ui=z,Ja=Sr.m,zi=Sr.s,Wn=[null],ur=1,pi=0,vr=yo[Hr];n:for(;;){if(Ui&&ue(Ja,1)){var la=ue(Ja,3)+2,mi=nt(oa,la),fr=nt(Pa,la),ki=mi*fr;if(!zs(mi,fr,0,Sr,Wn))break n;for(Wn=Wn[0],zi.xc=la,hi=0;hi<ki;++hi){var Ar=Wn[hi]>>8&65535;Wn[hi]=Ar,Ar>=ur&&(ur=Ar+1)}}if(Ja.h)break n;for(wn=0;5>wn;++wn){var qi=Zc[wn];!wn&&0<Hr&&(qi+=1<<Hr),pi<qi&&(pi=qi)}var Hi=o(ur*vr,fe),Pr=ur,or=o(Pr,ae);if(or==null)var es=null;else t(65536>=Pr),es=or;var _i=a(pi);if(es==null||_i==null||Hi==null){Sr.a=1;break n}var hn=Hi;for(hi=Bn=0;hi<ur;++hi){var gn=es[hi],dr=gn.G,ks=gn.H,_o=0,ms=1,Gi=0;for(wn=0;5>wn;++wn){qi=Zc[wn],dr[wn]=hn,ks[wn]=Bn,!wn&&0<Hr&&(qi+=1<<Hr);i:{var bc,xc=qi,lh=Sr,Gr=_i,q0=hn,H0=Bn,ch=0,Bl=lh.m,Qy=ue(Bl,1);if(i(Gr,0,0,xc),Qy){var G0=ue(Bl,1)+1,$0=ue(Bl,1),uh=ue(Bl,$0==0?1:8);Gr[uh]=1,G0==2&&(Gr[uh=ue(Bl,8)]=1);var ya=1}else{var Si=a(19),ed=ue(Bl,4)+4;if(19<ed){lh.a=3;var wc=0;break i}for(bc=0;bc<ed;++bc)Si[Zf[bc]]=ue(Bl,3);var Ju=void 0,eu=void 0,hl=lh,fh=Si,ef=xc,dh=Gr,hh=0,Fl=hl.m,W0=8,V0=o(128,fe);r:for(;G(V0,0,7,fh,19);){if(ue(Fl,1)){var am=2+2*ue(Fl,3);if((Ju=2+ue(Fl,am))>ef)break r}else Ju=ef;for(eu=0;eu<ef&&Ju--;){Me(Fl);var Y0=V0[0+(127&me(Fl))];xe(Fl,Fl.u+Y0.g);var _c=Y0.value;if(16>_c)dh[eu++]=_c,_c!=0&&(W0=_c);else{var sm=_c==16,om=_c-16,lm=Xu[om],X0=ue(Fl,go[om])+lm;if(eu+X0>ef)break r;for(var cm=sm?W0:0;0<X0--;)dh[eu++]=cm}}hh=1;break r}hh||(hl.a=3),ya=hh}(ya=ya&&!Bl.h)&&(ch=G(q0,H0,8,Gr,xc)),ya&&ch!=0?wc=ch:(lh.a=3,wc=0)}if(wc==0)break n;if(ms&&nh[wn]==1&&(ms=hn[Bn].g==0),_o+=hn[Bn].g,Bn+=wc,3>=wn){var tu,ph=_i[0];for(tu=1;tu<qi;++tu)_i[tu]>ph&&(ph=_i[tu]);Gi+=ph}}if(gn.nd=ms,gn.Qb=0,ms&&(gn.qb=(dr[3][ks[3]+0].value<<24|dr[1][ks[1]+0].value<<16|dr[2][ks[2]+0].value)>>>0,_o==0&&256>dr[0][ks[0]+0].value&&(gn.Qb=1,gn.qb+=dr[0][ks[0]+0].value<<8)),gn.jc=!gn.Qb&&6>Gi,gn.jc){var td,pl=gn;for(td=0;td<ia;++td){var Ul=td,zl=pl.pd[Ul],mh=pl.G[0][pl.H[0]+Ul];256<=mh.value?(zl.g=mh.g+256,zl.value=mh.value):(zl.g=0,zl.value=0,Ul>>=Nr(mh,8,zl),Ul>>=Nr(pl.G[1][pl.H[1]+Ul],16,zl),Ul>>=Nr(pl.G[2][pl.H[2]+Ul],0,zl),Nr(pl.G[3][pl.H[3]+Ul],24,zl))}}}zi.vc=Wn,zi.Wb=ur,zi.Ya=es,zi.yc=Hi,St=1;break t}St=0}if(!(ce=St)){W.a=3;break e}if(0<Ve){if(Ne.ua=1<<Ve,!ye(Ne.Wa,Ve)){W.a=1,ce=0;break e}}else Ne.ua=0;var gh=W,nu=de,um=ge,tf=gh.s,nf=tf.xc;if(gh.c=nu,gh.i=um,tf.md=nt(nu,nf),tf.wc=nf==0?-1:(1<<nf)-1,z){W.xb=pc;break e}if((Re=a(de*ge))==null){W.a=1,ce=0;break e}ce=(ce=ha(W,Re,0,de,ge,ge,null))&&!be.h;break e}return ce?(se!=null?se[0]=Re:(t(Re==null),t(z)),W.$=0,z||Ca(Ne)):Ca(Ne),ce}function qs(N,k){var z=N.c*N.i,W=z+k+16*k;return t(N.c<=k),N.V=a(W),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+z+k,1)}function ta(N,k){var z=N.C,W=k-z,se=N.V,ce=N.Ba+N.c*z;for(t(k<=N.l.o);0<W;){var de=16<W?16:W,ge=N.l.ma,be=N.l.width,Ne=be*de,Re=ge.ca,Ve=ge.tb+be*z,Ee=N.Ta,Le=N.Ua;Nt(N,de,se,ce),Zs(Ee,Le,Re,Ve,Ne),Gn(ge,z,z+de,Re,Ve,be),W-=de,se+=de*N.c,z+=de}t(z==k),N.C=N.Ma=k}function jr(){this.ub=this.yd=this.td=this.Rb=0}function Kn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function sl(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function na(){this.Yb=(function(){var N=[];return(function k(z,W,se){for(var ce=se[W],de=0;de<ce&&(z.push(se.length>W+1?[]:0),!(se.length<W+1));de++)k(z[de],W+1,se)})(N,0,[3,11]),N})()}function Yr(){this.jb=a(3),this.Wc=u([4,8],na),this.Xc=u([4,17],na)}function gt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function fs(){this.ld=this.La=this.dd=this.tc=0}function rr(){this.Na=this.la=0}function Ha(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Vc(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Zn(){this.uc=this.M=this.Nb=0,this.wa=Array(new fs),this.Y=0,this.ya=Array(new Vc),this.aa=0,this.l=new Hs}function Vn(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Un(){this.cb=this.a=0,this.sc="",this.m=new V,this.Od=new jr,this.Kc=new Kn,this.ed=new gt,this.Qa=new sl,this.Ic=this.$c=this.Aa=0,this.D=new Zn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,V),this.ia=0,this.pb=o(4,Ha),this.Pa=new Yr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Vn),this.Hd=0,this.rb=Array(new rr),this.sb=0,this.wa=Array(new fs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Vc),this.L=this.aa=0,this.gd=u([4,2],fs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Na(N,k){return 0>N?0:N>k?k:N}function Hs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ds(){var N=new Un;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,Qs||(Qs=yr)),N}function xn(N,k,z){return N.a==0&&(N.a=k,N.sc=z,N.cb=0),0}function As(N,k,z){return 3<=z&&N[k+0]==157&&N[k+1]==1&&N[k+2]==42}function ao(N,k){if(N==null)return 0;if(N.a=0,N.sc="OK",k==null)return xn(N,2,"null VP8Io passed to VP8GetHeaders()");var z=k.data,W=k.w,se=k.ha;if(4>se)return xn(N,7,"Truncated header.");var ce=z[W+0]|z[W+1]<<8|z[W+2]<<16,de=N.Od;if(de.Rb=!(1&ce),de.td=ce>>1&7,de.yd=ce>>4&1,de.ub=ce>>5,3<de.td)return xn(N,3,"Incorrect keyframe parameters.");if(!de.yd)return xn(N,4,"Frame not displayable.");W+=3,se-=3;var ge=N.Kc;if(de.Rb){if(7>se)return xn(N,7,"cannot parse picture header");if(!As(z,W,se))return xn(N,3,"Bad code word");ge.c=16383&(z[W+4]<<8|z[W+3]),ge.Td=z[W+4]>>6,ge.i=16383&(z[W+6]<<8|z[W+5]),ge.Ud=z[W+6]>>6,W+=7,se-=7,N.za=ge.c+15>>4,N.Ub=ge.i+15>>4,k.width=ge.c,k.height=ge.i,k.Da=0,k.j=0,k.v=0,k.va=k.width,k.o=k.height,k.da=0,k.ib=k.width,k.hb=k.height,k.U=k.width,k.T=k.height,i((ce=N.Pa).jb,0,255,ce.jb.length),t((ce=N.Qa)!=null),ce.Cb=0,ce.Bb=0,ce.Fb=1,i(ce.Zb,0,0,ce.Zb.length),i(ce.Lb,0,0,ce.Lb)}if(de.ub>se)return xn(N,7,"bad partition length");ie(ce=N.m,z,W,de.ub),W+=de.ub,se-=de.ub,de.Rb&&(ge.Ld=Oe(ce),ge.Kd=Oe(ce)),ge=N.Qa;var be,Ne=N.Pa;if(t(ce!=null),t(ge!=null),ge.Cb=Oe(ce),ge.Cb){if(ge.Bb=Oe(ce),Oe(ce)){for(ge.Fb=Oe(ce),be=0;4>be;++be)ge.Zb[be]=Oe(ce)?ve(ce,7):0;for(be=0;4>be;++be)ge.Lb[be]=Oe(ce)?ve(ce,6):0}if(ge.Bb)for(be=0;3>be;++be)Ne.jb[be]=Oe(ce)?K(ce,8):255}else ge.Bb=0;if(ce.Ka)return xn(N,3,"cannot parse segment header");if((ge=N.ed).zd=Oe(ce),ge.Tb=K(ce,6),ge.wb=K(ce,3),ge.Pc=Oe(ce),ge.Pc&&Oe(ce)){for(Ne=0;4>Ne;++Ne)Oe(ce)&&(ge.vd[Ne]=ve(ce,6));for(Ne=0;4>Ne;++Ne)Oe(ce)&&(ge.od[Ne]=ve(ce,6))}if(N.L=ge.Tb==0?0:ge.zd?1:2,ce.Ka)return xn(N,3,"cannot parse filter header");var Re=se;if(se=be=W,W=be+Re,ge=Re,N.Xb=(1<<K(N.m,2))-1,Re<3*(Ne=N.Xb))z=7;else{for(be+=3*Ne,ge-=3*Ne,Re=0;Re<Ne;++Re){var Ve=z[se+0]|z[se+1]<<8|z[se+2]<<16;Ve>ge&&(Ve=ge),ie(N.Jc[+Re],z,be,Ve),be+=Ve,ge-=Ve,se+=3}ie(N.Jc[+Ne],z,be,ge),z=be<W?0:5}if(z!=0)return xn(N,z,"cannot parse partitions");for(z=K(be=N.m,7),se=Oe(be)?ve(be,4):0,W=Oe(be)?ve(be,4):0,ge=Oe(be)?ve(be,4):0,Ne=Oe(be)?ve(be,4):0,be=Oe(be)?ve(be,4):0,Re=N.Qa,Ve=0;4>Ve;++Ve){if(Re.Cb){var Ee=Re.Zb[Ve];Re.Fb||(Ee+=z)}else{if(0<Ve){N.pb[Ve]=N.pb[0];continue}Ee=z}var Le=N.pb[Ve];Le.Sc[0]=bo[Na(Ee+se,127)],Le.Sc[1]=xo[Na(Ee+0,127)],Le.Eb[0]=2*bo[Na(Ee+W,127)],Le.Eb[1]=101581*xo[Na(Ee+ge,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=bo[Na(Ee+Ne,117)],Le.Qc[1]=xo[Na(Ee+be,127)],Le.lc=Ee+be}if(!de.Rb)return xn(N,4,"Not a key frame.");for(Oe(ce),de=N.Pa,z=0;4>z;++z){for(se=0;8>se;++se)for(W=0;3>W;++W)for(ge=0;11>ge;++ge)Ne=Ge(ce,Zr[z][se][W][ge])?K(ce,8):rm[z][se][W][ge],de.Wc[z][se].Yb[W][ge]=Ne;for(se=0;17>se;++se)de.Xc[z][se]=de.Wc[z][er[se]]}return N.kc=Oe(ce),N.kc&&(N.Bd=K(ce,8)),N.cb=1}function yr(N,k,z,W,se,ce,de){var ge=k[se].Yb[z];for(z=0;16>se;++se){if(!Ge(N,ge[z+0]))return se;for(;!Ge(N,ge[z+1]);)if(ge=k[++se].Yb[0],z=0,se==16)return 16;var be=k[se+1].Yb;if(Ge(N,ge[z+2])){var Ne=N,Re=0;if(Ge(Ne,(Ee=ge)[(Ve=z)+3]))if(Ge(Ne,Ee[Ve+6])){for(ge=0,Ve=2*(Re=Ge(Ne,Ee[Ve+8]))+(Ee=Ge(Ne,Ee[Ve+9+Re])),Re=0,Ee=nm[Ve];Ee[ge];++ge)Re+=Re+Ge(Ne,Ee[ge]);Re+=3+(8<<Ve)}else Ge(Ne,Ee[Ve+7])?(Re=7+2*Ge(Ne,165),Re+=Ge(Ne,145)):Re=5+Ge(Ne,159);else Re=Ge(Ne,Ee[Ve+4])?3+Ge(Ne,Ee[Ve+5]):2;ge=be[2]}else Re=1,ge=be[1];be=de+F0[se],0>(Ne=N).b&&ze(Ne);var Ve,Ee=Ne.b,Le=(Ve=Ne.Ca>>1)-(Ne.I>>Ee)>>31;--Ne.b,Ne.Ca+=Le,Ne.Ca|=1,Ne.I-=(Ve+1&Le)<<Ee,ce[be]=((Re^Le)-Le)*W[(0<se)+0]}return 16}function Es(N){var k=N.rb[N.sb-1];k.la=0,k.Na=0,i(N.zc,0,0,N.zc.length),N.ja=0}function Oa(N,k,z,W,se){se=N[k+z+32*W]+(se>>3),N[k+z+32*W]=-256&se?0>se?0:255:se}function zr(N,k,z,W,se,ce){Oa(N,k,0,z,W+se),Oa(N,k,1,z,W+ce),Oa(N,k,2,z,W-ce),Oa(N,k,3,z,W-se)}function Tn(N){return(20091*N>>16)+N}function di(N,k,z,W){var se,ce=0,de=a(16);for(se=0;4>se;++se){var ge=N[k+0]+N[k+8],be=N[k+0]-N[k+8],Ne=(35468*N[k+4]>>16)-Tn(N[k+12]),Re=Tn(N[k+4])+(35468*N[k+12]>>16);de[ce+0]=ge+Re,de[ce+1]=be+Ne,de[ce+2]=be-Ne,de[ce+3]=ge-Re,ce+=4,k++}for(se=ce=0;4>se;++se)ge=(N=de[ce+0]+4)+de[ce+8],be=N-de[ce+8],Ne=(35468*de[ce+4]>>16)-Tn(de[ce+12]),Oa(z,W,0,0,ge+(Re=Tn(de[ce+4])+(35468*de[ce+12]>>16))),Oa(z,W,1,0,be+Ne),Oa(z,W,2,0,be-Ne),Oa(z,W,3,0,ge-Re),ce++,W+=32}function $e(N,k,z,W){var se=N[k+0]+4,ce=35468*N[k+4]>>16,de=Tn(N[k+4]),ge=35468*N[k+1]>>16;zr(z,W,0,se+de,N=Tn(N[k+1]),ge),zr(z,W,1,se+ce,N,ge),zr(z,W,2,se-ce,N,ge),zr(z,W,3,se-de,N,ge)}function _e(N,k,z,W,se){di(N,k,z,W),se&&di(N,k+16,z,W+4)}function It(N,k,z,W){Pe(N,k+0,z,W,1),Pe(N,k+32,z,W+128,1)}function ni(N,k,z,W){var se;for(N=N[k+0]+4,se=0;4>se;++se)for(k=0;4>k;++k)Oa(z,W,k,se,N)}function ma(N,k,z,W){N[k+0]&&ct(N,k+0,z,W),N[k+16]&&ct(N,k+16,z,W+4),N[k+32]&&ct(N,k+32,z,W+128),N[k+48]&&ct(N,k+48,z,W+128+4)}function Gs(N,k,z,W){var se,ce=a(16);for(se=0;4>se;++se){var de=N[k+0+se]+N[k+12+se],ge=N[k+4+se]+N[k+8+se],be=N[k+4+se]-N[k+8+se],Ne=N[k+0+se]-N[k+12+se];ce[0+se]=de+ge,ce[8+se]=de-ge,ce[4+se]=Ne+be,ce[12+se]=Ne-be}for(se=0;4>se;++se)de=(N=ce[0+4*se]+3)+ce[3+4*se],ge=ce[1+4*se]+ce[2+4*se],be=ce[1+4*se]-ce[2+4*se],Ne=N-ce[3+4*se],z[W+0]=de+ge>>3,z[W+16]=Ne+be>>3,z[W+32]=de-ge>>3,z[W+48]=Ne-be>>3,W+=64}function Po(N,k,z){var W,se=k-32,ce=Za,de=255-N[se-1];for(W=0;W<z;++W){var ge,be=ce,Ne=de+N[k-1];for(ge=0;ge<z;++ge)N[k+ge]=be[Ne+N[se+ge]];k+=32}}function Ta(N,k){Po(N,k,4)}function nn(N,k){Po(N,k,8)}function _r(N,k){Po(N,k,16)}function uc(N,k){var z;for(z=0;16>z;++z)r(N,k+32*z,N,k-32,16)}function $u(N,k){var z;for(z=16;0<z;--z)i(N,k,N[k-1],16),k+=32}function ga(N,k,z){var W;for(W=0;16>W;++W)i(k,z+32*W,N,16)}function Ga(N,k){var z,W=16;for(z=0;16>z;++z)W+=N[k-1+32*z]+N[k+z-32];ga(W>>5,N,k)}function $s(N,k){var z,W=8;for(z=0;16>z;++z)W+=N[k-1+32*z];ga(W>>4,N,k)}function Ol(N,k){var z,W=8;for(z=0;16>z;++z)W+=N[k+z-32];ga(W>>4,N,k)}function kr(N,k){ga(128,N,k)}function un(N,k,z){return N+2*k+z+2>>2}function Ws(N,k){var z,W=k-32;for(W=new Uint8Array([un(N[W-1],N[W+0],N[W+1]),un(N[W+0],N[W+1],N[W+2]),un(N[W+1],N[W+2],N[W+3]),un(N[W+2],N[W+3],N[W+4])]),z=0;4>z;++z)r(N,k+32*z,W,0,W.length)}function fn(N,k){var z=N[k-1],W=N[k-1+32],se=N[k-1+64],ce=N[k-1+96];Je(N,k+0,16843009*un(N[k-1-32],z,W)),Je(N,k+32,16843009*un(z,W,se)),Je(N,k+64,16843009*un(W,se,ce)),Je(N,k+96,16843009*un(se,ce,ce))}function Wu(N,k){var z,W=4;for(z=0;4>z;++z)W+=N[k+z-32]+N[k-1+32*z];for(W>>=3,z=0;4>z;++z)i(N,k+32*z,W,4)}function dn(N,k){var z=N[k-1+0],W=N[k-1+32],se=N[k-1+64],ce=N[k-1-32],de=N[k+0-32],ge=N[k+1-32],be=N[k+2-32],Ne=N[k+3-32];N[k+0+96]=un(W,se,N[k-1+96]),N[k+1+96]=N[k+0+64]=un(z,W,se),N[k+2+96]=N[k+1+64]=N[k+0+32]=un(ce,z,W),N[k+3+96]=N[k+2+64]=N[k+1+32]=N[k+0+0]=un(de,ce,z),N[k+3+64]=N[k+2+32]=N[k+1+0]=un(ge,de,ce),N[k+3+32]=N[k+2+0]=un(be,ge,de),N[k+3+0]=un(Ne,be,ge)}function Jn(N,k){var z=N[k+1-32],W=N[k+2-32],se=N[k+3-32],ce=N[k+4-32],de=N[k+5-32],ge=N[k+6-32],be=N[k+7-32];N[k+0+0]=un(N[k+0-32],z,W),N[k+1+0]=N[k+0+32]=un(z,W,se),N[k+2+0]=N[k+1+32]=N[k+0+64]=un(W,se,ce),N[k+3+0]=N[k+2+32]=N[k+1+64]=N[k+0+96]=un(se,ce,de),N[k+3+32]=N[k+2+64]=N[k+1+96]=un(ce,de,ge),N[k+3+64]=N[k+2+96]=un(de,ge,be),N[k+3+96]=un(ge,be,be)}function Yc(N,k){var z=N[k-1+0],W=N[k-1+32],se=N[k-1+64],ce=N[k-1-32],de=N[k+0-32],ge=N[k+1-32],be=N[k+2-32],Ne=N[k+3-32];N[k+0+0]=N[k+1+64]=ce+de+1>>1,N[k+1+0]=N[k+2+64]=de+ge+1>>1,N[k+2+0]=N[k+3+64]=ge+be+1>>1,N[k+3+0]=be+Ne+1>>1,N[k+0+96]=un(se,W,z),N[k+0+64]=un(W,z,ce),N[k+0+32]=N[k+1+96]=un(z,ce,de),N[k+1+32]=N[k+2+96]=un(ce,de,ge),N[k+2+32]=N[k+3+96]=un(de,ge,be),N[k+3+32]=un(ge,be,Ne)}function Ro(N,k){var z=N[k+0-32],W=N[k+1-32],se=N[k+2-32],ce=N[k+3-32],de=N[k+4-32],ge=N[k+5-32],be=N[k+6-32],Ne=N[k+7-32];N[k+0+0]=z+W+1>>1,N[k+1+0]=N[k+0+64]=W+se+1>>1,N[k+2+0]=N[k+1+64]=se+ce+1>>1,N[k+3+0]=N[k+2+64]=ce+de+1>>1,N[k+0+32]=un(z,W,se),N[k+1+32]=N[k+0+96]=un(W,se,ce),N[k+2+32]=N[k+1+96]=un(se,ce,de),N[k+3+32]=N[k+2+96]=un(ce,de,ge),N[k+3+64]=un(de,ge,be),N[k+3+96]=un(ge,be,Ne)}function $a(N,k){var z=N[k-1+0],W=N[k-1+32],se=N[k-1+64],ce=N[k-1+96];N[k+0+0]=z+W+1>>1,N[k+2+0]=N[k+0+32]=W+se+1>>1,N[k+2+32]=N[k+0+64]=se+ce+1>>1,N[k+1+0]=un(z,W,se),N[k+3+0]=N[k+1+32]=un(W,se,ce),N[k+3+32]=N[k+1+64]=un(se,ce,ce),N[k+3+64]=N[k+2+64]=N[k+0+96]=N[k+1+96]=N[k+2+96]=N[k+3+96]=ce}function hs(N,k){var z=N[k-1+0],W=N[k-1+32],se=N[k-1+64],ce=N[k-1+96],de=N[k-1-32],ge=N[k+0-32],be=N[k+1-32],Ne=N[k+2-32];N[k+0+0]=N[k+2+32]=z+de+1>>1,N[k+0+32]=N[k+2+64]=W+z+1>>1,N[k+0+64]=N[k+2+96]=se+W+1>>1,N[k+0+96]=ce+se+1>>1,N[k+3+0]=un(ge,be,Ne),N[k+2+0]=un(de,ge,be),N[k+1+0]=N[k+3+32]=un(z,de,ge),N[k+1+32]=N[k+3+64]=un(W,z,de),N[k+1+64]=N[k+3+96]=un(se,W,z),N[k+1+96]=un(ce,se,W)}function so(N,k){var z;for(z=0;8>z;++z)r(N,k+32*z,N,k-32,8)}function ol(N,k){var z;for(z=0;8>z;++z)i(N,k,N[k-1],8),k+=32}function va(N,k,z){var W;for(W=0;8>W;++W)i(k,z+32*W,N,8)}function oo(N,k){var z,W=8;for(z=0;8>z;++z)W+=N[k+z-32]+N[k-1+32*z];va(W>>4,N,k)}function Tl(N,k){var z,W=4;for(z=0;8>z;++z)W+=N[k+z-32];va(W>>3,N,k)}function ri(N,k){var z,W=4;for(z=0;8>z;++z)W+=N[k-1+32*z];va(W>>3,N,k)}function Wa(N,k){va(128,N,k)}function Mr(N,k,z){var W=N[k-z],se=N[k+0],ce=3*(se-W)+Dl[1020+N[k-2*z]-N[k+z]],de=Yf[112+(ce+4>>3)];N[k-z]=Za[255+W+Yf[112+(ce+3>>3)]],N[k+0]=Za[255+se-de]}function lo(N,k,z,W){var se=N[k+0],ce=N[k+z];return Ia[255+N[k-2*z]-N[k-z]]>W||Ia[255+ce-se]>W}function Il(N,k,z,W){return 4*Ia[255+N[k-z]-N[k+0]]+Ia[255+N[k-2*z]-N[k+z]]<=W}function ll(N,k,z,W,se){var ce=N[k-3*z],de=N[k-2*z],ge=N[k-z],be=N[k+0],Ne=N[k+z],Re=N[k+2*z],Ve=N[k+3*z];return 4*Ia[255+ge-be]+Ia[255+de-Ne]>W?0:Ia[255+N[k-4*z]-ce]<=se&&Ia[255+ce-de]<=se&&Ia[255+de-ge]<=se&&Ia[255+Ve-Re]<=se&&Ia[255+Re-Ne]<=se&&Ia[255+Ne-be]<=se}function Do(N,k,z,W){var se=2*W+1;for(W=0;16>W;++W)Il(N,k+W,z,se)&&Mr(N,k+W,z)}function Lo(N,k,z,W){var se=2*W+1;for(W=0;16>W;++W)Il(N,k+W*z,1,se)&&Mr(N,k+W*z,1)}function jl(N,k,z,W){var se;for(se=3;0<se;--se)Do(N,k+=4*z,z,W)}function ir(N,k,z,W){var se;for(se=3;0<se;--se)Lo(N,k+=4,z,W)}function co(N,k,z,W,se,ce,de,ge){for(ce=2*ce+1;0<se--;){if(ll(N,k,z,ce,de))if(lo(N,k,z,ge))Mr(N,k,z);else{var be=N,Ne=k,Re=z,Ve=be[Ne-2*Re],Ee=be[Ne-Re],Le=be[Ne+0],He=be[Ne+Re],st=be[Ne+2*Re],We=27*(ht=Dl[1020+3*(Le-Ee)+Dl[1020+Ve-He]])+63>>7,it=18*ht+63>>7,ht=9*ht+63>>7;be[Ne-3*Re]=Za[255+be[Ne-3*Re]+ht],be[Ne-2*Re]=Za[255+Ve+it],be[Ne-Re]=Za[255+Ee+We],be[Ne+0]=Za[255+Le-We],be[Ne+Re]=Za[255+He-it],be[Ne+2*Re]=Za[255+st-ht]}k+=W}}function Cs(N,k,z,W,se,ce,de,ge){for(ce=2*ce+1;0<se--;){if(ll(N,k,z,ce,de))if(lo(N,k,z,ge))Mr(N,k,z);else{var be=N,Ne=k,Re=z,Ve=be[Ne-Re],Ee=be[Ne+0],Le=be[Ne+Re],He=Yf[112+(4+(st=3*(Ee-Ve))>>3)],st=Yf[112+(st+3>>3)],We=He+1>>1;be[Ne-2*Re]=Za[255+be[Ne-2*Re]+We],be[Ne-Re]=Za[255+Ve+st],be[Ne+0]=Za[255+Ee-He],be[Ne+Re]=Za[255+Le-We]}k+=W}}function Vs(N,k,z,W,se,ce){co(N,k,z,1,16,W,se,ce)}function Bo(N,k,z,W,se,ce){co(N,k,1,z,16,W,se,ce)}function et(N,k,z,W,se,ce){var de;for(de=3;0<de;--de)Cs(N,k+=4*z,z,1,16,W,se,ce)}function L(N,k,z,W,se,ce){var de;for(de=3;0<de;--de)Cs(N,k+=4,1,z,16,W,se,ce)}function re(N,k,z,W,se,ce,de,ge){co(N,k,se,1,8,ce,de,ge),co(z,W,se,1,8,ce,de,ge)}function Ae(N,k,z,W,se,ce,de,ge){co(N,k,1,se,8,ce,de,ge),co(z,W,1,se,8,ce,de,ge)}function ke(N,k,z,W,se,ce,de,ge){Cs(N,k+4*se,se,1,8,ce,de,ge),Cs(z,W+4*se,se,1,8,ce,de,ge)}function Fe(N,k,z,W,se,ce,de,ge){Cs(N,k+4,1,se,8,ce,de,ge),Cs(z,W+4,1,se,8,ce,de,ge)}function dt(){this.ba=new Sn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Xn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function yt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Pt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function At(){this.ua=0,this.Wa=new Rt,this.vb=new Rt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new fe}function bn(){this.xb=this.a=0,this.l=new Hs,this.ca=new Sn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new he,this.Pb=0,this.wd=new he,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new At,this.ab=0,this.gc=o(4,Pt),this.Oc=0}function Lt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Hs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function $n(N,k,z,W,se,ce,de){for(N=N==null?0:N[k+0],k=0;k<de;++k)se[ce+k]=N+z[W+k]&255,N=se[ce+k]}function mr(N,k,z,W,se,ce,de){var ge;if(N==null)$n(null,null,z,W,se,ce,de);else for(ge=0;ge<de;++ge)se[ce+ge]=N[k+ge]+z[W+ge]&255}function An(N,k,z,W,se,ce,de){if(N==null)$n(null,null,z,W,se,ce,de);else{var ge,be=N[k+0],Ne=be,Re=be;for(ge=0;ge<de;++ge)Ne=Re+(be=N[k+ge])-Ne,Re=z[W+ge]+(-256&Ne?0>Ne?0:255:Ne)&255,Ne=be,se[ce+ge]=Re}}function Et(N,k,z,W){var se=k.width,ce=k.o;if(t(N!=null&&k!=null),0>z||0>=W||z+W>ce)return null;if(!N.Cc){if(N.ga==null){var de;if(N.ga=new Lt,(de=N.ga==null)||(de=k.width*k.o,t(N.Gb.length==0),N.Gb=a(de),N.Uc=0,N.Gb==null?de=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,de=1),de=!de),!de){de=N.ga;var ge=N.Fa,be=N.P,Ne=N.qc,Re=N.mb,Ve=N.nb,Ee=be+1,Le=Ne-1,He=de.l;if(t(ge!=null&&Re!=null&&k!=null),Ll[0]=null,Ll[1]=$n,Ll[2]=mr,Ll[3]=An,de.ca=Re,de.tb=Ve,de.c=k.width,de.i=k.height,t(0<de.c&&0<de.i),1>=Ne)k=0;else if(de.$a=3&ge[be+0],de.Z=ge[be+0]>>2&3,de.Lc=ge[be+0]>>4&3,be=ge[be+0]>>6&3,0>de.$a||1<de.$a||4<=de.Z||1<de.Lc||be)k=0;else if(He.put=Zt,He.ac=ea,He.bc=Di,He.ma=de,He.width=k.width,He.height=k.height,He.Da=k.Da,He.v=k.v,He.va=k.va,He.j=k.j,He.o=k.o,de.$a)e:{t(de.$a==1),k=pa();t:for(;;){if(k==null){k=0;break e}if(t(de!=null),de.mc=k,k.c=de.c,k.i=de.i,k.l=de.l,k.l.ma=de,k.l.width=de.c,k.l.height=de.i,k.a=0,Te(k.m,ge,Ee,Le),!zs(de.c,de.i,1,k,null)||(k.ab==1&&k.gc[0].hc==3&&pr(k.s)?(de.ic=1,ge=k.c*k.i,k.Ta=null,k.Ua=0,k.V=a(ge),k.Ba=0,k.V==null?(k.a=1,k=0):k=1):(de.ic=0,k=qs(k,de.c)),!k))break t;k=1;break e}de.mc=null,k=0}else k=Le>=de.c*de.i;de=!k}if(de)return null;N.ga.Lc!=1?N.Ga=0:W=ce-z}t(N.ga!=null),t(z+W<=ce);e:{if(k=(ge=N.ga).c,ce=ge.l.o,ge.$a==0){if(Ee=N.rc,Le=N.Vc,He=N.Fa,be=N.P+1+z*k,Ne=N.mb,Re=N.nb+z*k,t(be<=N.P+N.qc),ge.Z!=0)for(t(Ll[ge.Z]!=null),de=0;de<W;++de)Ll[ge.Z](Ee,Le,He,be,Ne,Re,k),Ee=Ne,Le=Re,Re+=k,be+=k;else for(de=0;de<W;++de)r(Ne,Re,He,be,k),Ee=Ne,Le=Re,Re+=k,be+=k;N.rc=Ee,N.Vc=Le}else{if(t(ge.mc!=null),k=z+W,t((de=ge.mc)!=null),t(k<=de.i),de.C>=k)k=1;else if(ge.ic||Ys(),ge.ic){ge=de.V,Ee=de.Ba,Le=de.c;var st=de.i,We=(He=1,be=de.$/Le,Ne=de.$%Le,Re=de.m,Ve=de.s,de.$),it=Le*st,ht=Le*k,xt=Ve.wc,vt=We<ht?hr(Ve,Ne,be):null;t(We<=it),t(k<=st),t(pr(Ve));t:for(;;){for(;!Re.h&&We<ht;){if(Ne&xt||(vt=hr(Ve,Ne,be)),t(vt!=null),Me(Re),256>(st=qn(vt.G[0],vt.H[0],Re)))ge[Ee+We]=st,++We,++Ne>=Le&&(Ne=0,++be<=k&&!(be%16)&&fi(de,be));else{if(!(280>st)){He=0;break t}st=Ti(st-256,Re);var Gt,kt=qn(vt.G[4],vt.H[4],Re);if(Me(Re),!(We>=(kt=Ea(Le,kt=Ti(kt,Re)))&&it-We>=st)){He=0;break t}for(Gt=0;Gt<st;++Gt)ge[Ee+We+Gt]=ge[Ee+We+Gt-kt];for(We+=st,Ne+=st;Ne>=Le;)Ne-=Le,++be<=k&&!(be%16)&&fi(de,be);We<ht&&Ne&xt&&(vt=hr(Ve,Ne,be))}t(Re.h==Ce(Re))}fi(de,be>k?k:be);break t}!He||Re.h&&We<it?(He=0,de.a=Re.h?5:3):de.$=We,k=He}else k=ha(de,de.V,de.Ba,de.c,de.i,k,ta);if(!k){W=0;break e}}z+W>=ce&&(N.Cc=1),W=1}if(!W)return null;if(N.Cc&&((W=N.ga)!=null&&(W.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+z*se}function Ii(N,k,z,W,se,ce){for(;0<se--;){var de,ge=N,be=k+(z?1:0),Ne=N,Re=k+(z?0:3);for(de=0;de<W;++de){var Ve=Ne[Re+4*de];Ve!=255&&(Ve*=32897,ge[be+4*de+0]=ge[be+4*de+0]*Ve>>23,ge[be+4*de+1]=ge[be+4*de+1]*Ve>>23,ge[be+4*de+2]=ge[be+4*de+2]*Ve>>23)}k+=ce}}function jn(N,k,z,W,se){for(;0<W--;){var ce;for(ce=0;ce<z;++ce){var de=N[k+2*ce+0],ge=15&(Ne=N[k+2*ce+1]),be=4369*ge,Ne=(240&Ne|Ne>>4)*be>>16;N[k+2*ce+0]=(240&de|de>>4)*be>>16&240|(15&de|de<<4)*be>>16>>4&15,N[k+2*ce+1]=240&Ne|ge}k+=se}}function Xr(N,k,z,W,se,ce,de,ge){var be,Ne,Re=255;for(Ne=0;Ne<se;++Ne){for(be=0;be<W;++be){var Ve=N[k+be];ce[de+4*be]=Ve,Re&=Ve}k+=z,de+=ge}return Re!=255}function Va(N,k,z,W,se){var ce;for(ce=0;ce<se;++ce)z[W+ce]=N[k+ce]>>8}function Ys(){Rl=Ii,po=jn,$f=Xr,Zs=Va}function Li(N,k,z){q[N]=function(W,se,ce,de,ge,be,Ne,Re,Ve,Ee,Le,He,st,We,it,ht,xt){var vt,Gt=xt-1>>1,kt=ge[be+0]|Ne[Re+0]<<16,kn=Ve[Ee+0]|Le[He+0]<<16;t(W!=null);var Ut=3*kt+kn+131074>>2;for(k(W[se+0],255&Ut,Ut>>16,st,We),ce!=null&&(Ut=3*kn+kt+131074>>2,k(ce[de+0],255&Ut,Ut>>16,it,ht)),vt=1;vt<=Gt;++vt){var Qn=ge[be+vt]|Ne[Re+vt]<<16,Qr=Ve[Ee+vt]|Le[He+vt]<<16,Rn=kt+Qn+kn+Qr+524296,Mt=Rn+2*(Qn+kn)>>3;Ut=Mt+kt>>1,kt=(Rn=Rn+2*(kt+Qr)>>3)+Qn>>1,k(W[se+2*vt-1],255&Ut,Ut>>16,st,We+(2*vt-1)*z),k(W[se+2*vt-0],255&kt,kt>>16,st,We+(2*vt-0)*z),ce!=null&&(Ut=Rn+kn>>1,kt=Mt+Qr>>1,k(ce[de+2*vt-1],255&Ut,Ut>>16,it,ht+(2*vt-1)*z),k(ce[de+2*vt+0],255&kt,kt>>16,it,ht+(2*vt+0)*z)),kt=Qn,kn=Qr}1&xt||(Ut=3*kt+kn+131074>>2,k(W[se+xt-1],255&Ut,Ut>>16,st,We+(xt-1)*z),ce!=null&&(Ut=3*kn+kt+131074>>2,k(ce[de+xt-1],255&Ut,Ut>>16,it,ht+(xt-1)*z)))}}function kl(){ka[Qd]=Qc,ka[Qa]=Ku,ka[Jd]=z0,ka[mo]=ih,ka[Xf]=mc,ka[Vu]=dl,ka[dc]=gc,ka[Kf]=Ku,ka[eh]=ih,ka[Yu]=mc,ka[th]=dl}function Ml(N){return N&-16384?0>N?0:255:N>>ah}function Ns(N,k){return Ml((19077*N>>8)+(26149*k>>8)-14234)}function Os(N,k,z){return Ml((19077*N>>8)-(6419*k>>8)-(13320*z>>8)+8708)}function cl(N,k){return Ml((19077*N>>8)+(33050*k>>8)-17685)}function Fo(N,k,z,W,se){W[se+0]=Ns(N,z),W[se+1]=Os(N,k,z),W[se+2]=cl(N,k)}function Kr(N,k,z,W,se){W[se+0]=cl(N,k),W[se+1]=Os(N,k,z),W[se+2]=Ns(N,z)}function uo(N,k,z,W,se){var ce=Os(N,k,z);k=ce<<3&224|cl(N,k)>>3,W[se+0]=248&Ns(N,z)|ce>>5,W[se+1]=k}function ul(N,k,z,W,se){var ce=240&cl(N,k)|15;W[se+0]=240&Ns(N,z)|Os(N,k,z)>>4,W[se+1]=ce}function fo(N,k,z,W,se){W[se+0]=255,Fo(N,k,z,W,se+1)}function ho(N,k,z,W,se){Kr(N,k,z,W,se),W[se+3]=255}function ii(N,k,z,W,se){Fo(N,k,z,W,se),W[se+3]=255}function Ts(N,k,z){q[N]=function(W,se,ce,de,ge,be,Ne,Re,Ve){for(var Ee=Re+(-2&Ve)*z;Re!=Ee;)k(W[se+0],ce[de+0],ge[be+0],Ne,Re),k(W[se+1],ce[de+0],ge[be+0],Ne,Re+z),se+=2,++de,++be,Re+=2*z;1&Ve&&k(W[se+0],ce[de+0],ge[be+0],Ne,Re)}}function ra(N,k,z){return z==0?N==0?k==0?6:5:k==0?4:0:z}function fc(N,k,z,W,se){switch(N>>>30){case 3:Pe(k,z,W,se,0);break;case 2:Be(k,z,W,se);break;case 1:ct(k,z,W,se)}}function ai(N,k){var z,W,se=k.M,ce=k.Nb,de=N.oc,ge=N.pc+40,be=N.oc,Ne=N.pc+584,Re=N.oc,Ve=N.pc+600;for(z=0;16>z;++z)de[ge+32*z-1]=129;for(z=0;8>z;++z)be[Ne+32*z-1]=129,Re[Ve+32*z-1]=129;for(0<se?de[ge-1-32]=be[Ne-1-32]=Re[Ve-1-32]=129:(i(de,ge-32-1,127,21),i(be,Ne-32-1,127,9),i(Re,Ve-32-1,127,9)),W=0;W<N.za;++W){var Ee=k.ya[k.aa+W];if(0<W){for(z=-1;16>z;++z)r(de,ge+32*z-4,de,ge+32*z+12,4);for(z=-1;8>z;++z)r(be,Ne+32*z-4,be,Ne+32*z+4,4),r(Re,Ve+32*z-4,Re,Ve+32*z+4,4)}var Le=N.Gd,He=N.Hd+W,st=Ee.ad,We=Ee.Hc;if(0<se&&(r(de,ge-32,Le[He].y,0,16),r(be,Ne-32,Le[He].f,0,8),r(Re,Ve-32,Le[He].ea,0,8)),Ee.Za){var it=de,ht=ge-32+16;for(0<se&&(W>=N.za-1?i(it,ht,Le[He].y[15],4):r(it,ht,Le[He+1].y,0,4)),z=0;4>z;z++)it[ht+128+z]=it[ht+256+z]=it[ht+384+z]=it[ht+0+z];for(z=0;16>z;++z,We<<=2)it=de,ht=ge+ji[z],wi[Ee.Ob[z]](it,ht),fc(We,st,16*+z,it,ht)}else if(it=ra(W,se,Ee.Ob[0]),ps[it](de,ge),We!=0)for(z=0;16>z;++z,We<<=2)fc(We,st,16*+z,de,ge+ji[z]);for(z=Ee.Gc,it=ra(W,se,Ee.Dd),Uo[it](be,Ne),Uo[it](Re,Ve),We=st,it=be,ht=Ne,255&(Ee=0|z)&&(170&Ee?Ze(We,256,it,ht):ut(We,256,it,ht)),Ee=Re,We=Ve,255&(z>>=8)&&(170&z?Ze(st,320,Ee,We):ut(st,320,Ee,We)),se<N.Ub-1&&(r(Le[He].y,0,de,ge+480,16),r(Le[He].f,0,be,Ne+224,8),r(Le[He].ea,0,Re,Ve+224,8)),z=8*ce*N.B,Le=N.sa,He=N.ta+16*W+16*ce*N.R,st=N.qa,Ee=N.ra+8*W+z,We=N.Ha,it=N.Ia+8*W+z,z=0;16>z;++z)r(Le,He+z*N.R,de,ge+32*z,16);for(z=0;8>z;++z)r(st,Ee+z*N.B,be,Ne+32*z,8),r(We,it+z*N.B,Re,Ve+32*z,8)}}function Xs(N,k,z,W,se,ce,de,ge,be){var Ne=[0],Re=[0],Ve=0,Ee=be!=null?be.kd:0,Le=be??new yt;if(N==null||12>z)return 7;Le.data=N,Le.w=k,Le.ha=z,k=[k],z=[z],Le.gb=[Le.gb];e:{var He=k,st=z,We=Le.gb;if(t(N!=null),t(st!=null),t(We!=null),We[0]=0,12<=st[0]&&!n(N,He[0],"RIFF")){if(n(N,He[0]+8,"WEBP")){We=3;break e}var it=bt(N,He[0]+4);if(12>it||4294967286<it){We=3;break e}if(Ee&&it>st[0]-8){We=7;break e}We[0]=it,He[0]+=12,st[0]-=12}We=0}if(We!=0)return We;for(it=0<Le.gb[0],z=z[0];;){e:{var ht=N;st=k,We=z;var xt=Ne,vt=Re,Gt=He=[0];if((Ut=Ve=[Ve])[0]=0,8>We[0])We=7;else{if(!n(ht,st[0],"VP8X")){if(bt(ht,st[0]+4)!=10){We=3;break e}if(18>We[0]){We=7;break e}var kt=bt(ht,st[0]+8),kn=1+lt(ht,st[0]+12);if(2147483648<=kn*(ht=1+lt(ht,st[0]+15))){We=3;break e}Gt!=null&&(Gt[0]=kt),xt!=null&&(xt[0]=kn),vt!=null&&(vt[0]=ht),st[0]+=18,We[0]-=18,Ut[0]=1}We=0}}if(Ve=Ve[0],He=He[0],We!=0)return We;if(st=!!(2&He),!it&&Ve)return 3;if(ce!=null&&(ce[0]=!!(16&He)),de!=null&&(de[0]=st),ge!=null&&(ge[0]=0),de=Ne[0],He=Re[0],Ve&&st&&be==null){We=0;break}if(4>z){We=7;break}if(it&&Ve||!it&&!Ve&&!n(N,k[0],"ALPH")){z=[z],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{kt=N,We=k,it=z;var Ut=Le.gb;xt=Le.na,vt=Le.P,Gt=Le.Sa,kn=22,t(kt!=null),t(it!=null),ht=We[0];var Qn=it[0];for(t(xt!=null),t(Gt!=null),xt[0]=null,vt[0]=null,Gt[0]=0;;){if(We[0]=ht,it[0]=Qn,8>Qn){We=7;break e}var Qr=bt(kt,ht+4);if(4294967286<Qr){We=3;break e}var Rn=8+Qr+1&-2;if(kn+=Rn,0<Ut&&kn>Ut){We=3;break e}if(!n(kt,ht,"VP8 ")||!n(kt,ht,"VP8L")){We=0;break e}if(Qn[0]<Rn){We=7;break e}n(kt,ht,"ALPH")||(xt[0]=kt,vt[0]=ht+8,Gt[0]=Qr),ht+=Rn,Qn-=Rn}}if(z=z[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],We!=0)break}z=[z],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(Ut=N,We=k,it=z,xt=Le.gb[0],vt=Le.Ja,Gt=Le.xa,kt=We[0],ht=!n(Ut,kt,"VP8 "),kn=!n(Ut,kt,"VP8L"),t(Ut!=null),t(it!=null),t(vt!=null),t(Gt!=null),8>it[0])We=7;else{if(ht||kn){if(Ut=bt(Ut,kt+4),12<=xt&&Ut>xt-12){We=3;break e}if(Ee&&Ut>it[0]-8){We=7;break e}vt[0]=Ut,We[0]+=8,it[0]-=8,Gt[0]=kn}else Gt[0]=5<=it[0]&&Ut[kt+0]==47&&!(Ut[kt+4]>>5),vt[0]=it[0];We=0}if(z=z[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],k=k[0],We!=0)break;if(4294967286<Le.Ja)return 3;if(ge==null||st||(ge[0]=Le.xa?2:1),de=[de],He=[He],Le.xa){if(5>z){We=7;break}ge=de,Ee=He,st=ce,N==null||5>z?N=0:5<=z&&N[k+0]==47&&!(N[k+4]>>5)?(it=[0],Ut=[0],xt=[0],Te(vt=new he,N,k,z),io(vt,it,Ut,xt)?(ge!=null&&(ge[0]=it[0]),Ee!=null&&(Ee[0]=Ut[0]),st!=null&&(st[0]=xt[0]),N=1):N=0):N=0}else{if(10>z){We=7;break}ge=He,N==null||10>z||!As(N,k+3,z-3)?N=0:(Ee=N[k+0]|N[k+1]<<8|N[k+2]<<16,st=16383&(N[k+7]<<8|N[k+6]),N=16383&(N[k+9]<<8|N[k+8]),1&Ee||3<(Ee>>1&7)||!(Ee>>4&1)||Ee>>5>=Le.Ja||!st||!N?N=0:(de&&(de[0]=st),ge&&(ge[0]=N),N=1))}if(!N||(de=de[0],He=He[0],Ve&&(Ne[0]!=de||Re[0]!=He)))return 3;be!=null&&(be[0]=Le,be.offset=k-be.w,t(4294967286>k-be.w),t(be.offset==be.ha-z));break}return We==0||We==7&&Ve&&be==null?(ce!=null&&(ce[0]|=Le.na!=null&&0<Le.na.length),W!=null&&(W[0]=de),se!=null&&(se[0]=He),0):We}function Ks(N,k,z){var W=k.width,se=k.height,ce=0,de=0,ge=W,be=se;if(k.Da=N!=null&&0<N.Da,k.Da&&(ge=N.cd,be=N.bd,ce=N.v,de=N.j,11>z||(ce&=-2,de&=-2),0>ce||0>de||0>=ge||0>=be||ce+ge>W||de+be>se))return 0;if(k.v=ce,k.j=de,k.va=ce+ge,k.o=de+be,k.U=ge,k.T=be,k.da=N!=null&&0<N.da,k.da){if(!_t(ge,be,z=[N.ib],ce=[N.hb]))return 0;k.ib=z[0],k.hb=ce[0]}return k.ob=N!=null&&N.ob,k.Kb=N==null||!N.Sd,k.da&&(k.ob=k.ib<3*W/4&&k.hb<3*se/4,k.Kb=0),1}function Xc(N){if(N==null)return 2;if(11>N.S){var k=N.f.RGBA;k.fb+=(N.height-1)*k.A,k.A=-k.A}else k=N.f.kb,N=N.height,k.O+=(N-1)*k.fa,k.fa=-k.fa,k.N+=(N-1>>1)*k.Ab,k.Ab=-k.Ab,k.W+=(N-1>>1)*k.Db,k.Db=-k.Db,k.F!=null&&(k.J+=(N-1)*k.lb,k.lb=-k.lb);return 0}function Is(N,k,z,W){if(W==null||0>=N||0>=k)return 2;if(z!=null){if(z.Da){var se=z.cd,ce=z.bd,de=-2&z.v,ge=-2&z.j;if(0>de||0>ge||0>=se||0>=ce||de+se>N||ge+ce>k)return 2;N=se,k=ce}if(z.da){if(!_t(N,k,se=[z.ib],ce=[z.hb]))return 2;N=se[0],k=ce[0]}}W.width=N,W.height=k;e:{var be=W.width,Ne=W.height;if(N=W.S,0>=be||0>=Ne||!(N>=Qd&&13>N))N=2;else{if(0>=W.Rd&&W.sd==null){de=ce=se=k=0;var Re=(ge=be*oh[N])*Ne;if(11>N||(ce=(Ne+1)/2*(k=(be+1)/2),N==12&&(de=(se=be)*Ne)),(Ne=a(Re+2*ce+de))==null){N=1;break e}W.sd=Ne,11>N?((be=W.f.RGBA).eb=Ne,be.fb=0,be.A=ge,be.size=Re):((be=W.f.kb).y=Ne,be.O=0,be.fa=ge,be.Fd=Re,be.f=Ne,be.N=0+Re,be.Ab=k,be.Cd=ce,be.ea=Ne,be.W=0+Re+ce,be.Db=k,be.Ed=ce,N==12&&(be.F=Ne,be.J=0+Re+2*ce),be.Tc=de,be.lb=se)}if(k=1,se=W.S,ce=W.width,de=W.height,se>=Qd&&13>se)if(11>se)N=W.f.RGBA,k&=(ge=Math.abs(N.A))*(de-1)+ce<=N.size,k&=ge>=ce*oh[se],k&=N.eb!=null;else{N=W.f.kb,ge=(ce+1)/2,Re=(de+1)/2,be=Math.abs(N.fa),Ne=Math.abs(N.Ab);var Ve=Math.abs(N.Db),Ee=Math.abs(N.lb),Le=Ee*(de-1)+ce;k&=be*(de-1)+ce<=N.Fd,k&=Ne*(Re-1)+ge<=N.Cd,k=(k&=Ve*(Re-1)+ge<=N.Ed)&be>=ce&Ne>=ge&Ve>=ge,k&=N.y!=null,k&=N.f!=null,k&=N.ea!=null,se==12&&(k&=Ee>=ce,k&=Le<=N.Tc,k&=N.F!=null)}else k=0;N=k?0:2}}return N!=0||z!=null&&z.fd&&(N=Xc(W)),N}var ia=64,Ya=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],aa=24,Xa=32,Pn=8,js=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];at("Predictor0","PredictorAdd0"),q.Predictor0=function(){return 4278190080},q.Predictor1=function(N){return N},q.Predictor2=function(N,k,z){return k[z+0]},q.Predictor3=function(N,k,z){return k[z+1]},q.Predictor4=function(N,k,z){return k[z-1]},q.Predictor5=function(N,k,z){return sn(sn(N,k[z+1]),k[z+0])},q.Predictor6=function(N,k,z){return sn(N,k[z-1])},q.Predictor7=function(N,k,z){return sn(N,k[z+0])},q.Predictor8=function(N,k,z){return sn(k[z-1],k[z+0])},q.Predictor9=function(N,k,z){return sn(k[z+0],k[z+1])},q.Predictor10=function(N,k,z){return sn(sn(N,k[z-1]),sn(k[z+0],k[z+1]))},q.Predictor11=function(N,k,z){var W=k[z+0];return 0>=cn(W>>24&255,N>>24&255,(k=k[z-1])>>24&255)+cn(W>>16&255,N>>16&255,k>>16&255)+cn(W>>8&255,N>>8&255,k>>8&255)+cn(255&W,255&N,255&k)?W:N},q.Predictor12=function(N,k,z){var W=k[z+0];return(yn((N>>24&255)+(W>>24&255)-((k=k[z-1])>>24&255))<<24|yn((N>>16&255)+(W>>16&255)-(k>>16&255))<<16|yn((N>>8&255)+(W>>8&255)-(k>>8&255))<<8|yn((255&N)+(255&W)-(255&k)))>>>0},q.Predictor13=function(N,k,z){var W=k[z-1];return(Fn((N=sn(N,k[z+0]))>>24&255,W>>24&255)<<24|Fn(N>>16&255,W>>16&255)<<16|Fn(N>>8&255,W>>8&255)<<8|Fn(255&N,255&W))>>>0};var te=q.PredictorAdd0;q.PredictorAdd1=zn,at("Predictor2","PredictorAdd2"),at("Predictor3","PredictorAdd3"),at("Predictor4","PredictorAdd4"),at("Predictor5","PredictorAdd5"),at("Predictor6","PredictorAdd6"),at("Predictor7","PredictorAdd7"),at("Predictor8","PredictorAdd8"),at("Predictor9","PredictorAdd9"),at("Predictor10","PredictorAdd10"),at("Predictor11","PredictorAdd11"),at("Predictor12","PredictorAdd12"),at("Predictor13","PredictorAdd13");var l=q.PredictorAdd2;Ht("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),Ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var p,m=q.ColorIndexInverseTransform,b=q.MapARGB,w=q.VP8LColorIndexInverseTransformAlpha,A=q.MapAlpha,O=q.VP8LPredictorsAdd=[];O.length=16,(q.VP8LPredictors=[]).length=16,(q.VP8LPredictorsAdd_C=[]).length=16,(q.VP8LPredictors_C=[]).length=16;var M,B,$,ne,le,Se,Ie,Pe,Be,Ze,ct,ut,ot,rn,mn,qr,sa,Bi,gr,Fi,Ka,Pl,fl,Gf,Rl,po,$f,Zs,Kc=a(511),Kd=a(2041),Wf=a(225),Vf=a(767),Zd=0,Dl=Kd,Yf=Wf,Za=Vf,Ia=Kc,Qd=0,Qa=1,Jd=2,mo=3,Xf=4,Vu=5,dc=6,Kf=7,eh=8,Yu=9,th=10,go=[2,3,7],Xu=[3,3,11],Zc=[280,256,256,256,40],nh=[0,1,1,1,0],Zf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],vo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],yo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],hc=8,bo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],xo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qs=null,nm=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],F0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],rh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],rm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ja=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Zr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],er=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ps=[],wi=[],Uo=[],pc=1,U0=2,Ll=[],ka=[];Li("UpsampleRgbLinePair",Fo,3),Li("UpsampleBgrLinePair",Kr,3),Li("UpsampleRgbaLinePair",ii,4),Li("UpsampleBgraLinePair",ho,4),Li("UpsampleArgbLinePair",fo,4),Li("UpsampleRgba4444LinePair",ul,2),Li("UpsampleRgb565LinePair",uo,2);var Qc=q.UpsampleRgbLinePair,z0=q.UpsampleBgrLinePair,Ku=q.UpsampleRgbaLinePair,ih=q.UpsampleBgraLinePair,mc=q.UpsampleArgbLinePair,dl=q.UpsampleRgba4444LinePair,gc=q.UpsampleRgb565LinePair,wo=16,Zu=1<<wo-1,Jc=-227,vc=482,ah=6,yc=0,Ma=a(256),sh=a(256),im=a(256),Xy=a(256),Ky=a(vc-Jc),Zy=a(vc-Jc);Ts("YuvToRgbRow",Fo,3),Ts("YuvToBgrRow",Kr,3),Ts("YuvToRgbaRow",ii,4),Ts("YuvToBgraRow",ho,4),Ts("YuvToArgbRow",fo,4),Ts("YuvToRgba4444Row",ul,2),Ts("YuvToRgb565Row",uo,2);var ji=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Qu=[0,2,8],Qf=[8,7,6,4,4,2,2,2,1,1,1,1],Jf=1;this.WebPDecodeRGBA=function(N,k,z,W,se){var ce=Qa,de=new dt,ge=new Sn;de.ba=ge,ge.S=ce,ge.width=[ge.width],ge.height=[ge.height];var be=ge.width,Ne=ge.height,Re=new Kt;if(Re==null||N==null)var Ve=2;else t(Re!=null),Ve=Xs(N,k,z,Re.width,Re.height,Re.Pd,Re.Qd,Re.format,null);if(Ve!=0?be=0:(be!=null&&(be[0]=Re.width[0]),Ne!=null&&(Ne[0]=Re.height[0]),be=1),be){ge.width=ge.width[0],ge.height=ge.height[0],W!=null&&(W[0]=ge.width),se!=null&&(se[0]=ge.height);e:{if(W=new Hs,(se=new yt).data=N,se.w=k,se.ha=z,se.kd=1,k=[0],t(se!=null),((N=Xs(se.data,se.w,se.ha,null,null,null,k,null,se))==0||N==7)&&k[0]&&(N=4),(k=N)==0){if(t(de!=null),W.data=se.data,W.w=se.w+se.offset,W.ha=se.ha-se.offset,W.put=Zt,W.ac=ea,W.bc=Di,W.ma=de,se.xa){if((N=pa())==null){de=1;break e}if((function(Ee,Le){var He=[0],st=[0],We=[0];t:for(;;){if(Ee==null)return 0;if(Le==null)return Ee.a=2,0;if(Ee.l=Le,Ee.a=0,Te(Ee.m,Le.data,Le.w,Le.ha),!io(Ee.m,He,st,We)){Ee.a=3;break t}if(Ee.xb=U0,Le.width=He[0],Le.height=st[0],!zs(He[0],st[0],1,Ee,null))break t;return 1}return t(Ee.a!=0),0})(N,W)){if(W=(k=Is(W.width,W.height,de.Oa,de.ba))==0){t:{W=N;n:for(;;){if(W==null){W=0;break t}if(t(W.s.yc!=null),t(W.s.Ya!=null),t(0<W.s.Wb),t((z=W.l)!=null),t((se=z.ma)!=null),W.xb!=0){if(W.ca=se.ba,W.tb=se.tb,t(W.ca!=null),!Ks(se.Oa,z,mo)){W.a=2;break n}if(!qs(W,z.width)||z.da)break n;if((z.da||pn(W.ca.S))&&Ys(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&Ys()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!ye(W.s.vb,W.s.Wa.Xa)){W.a=1;break n}W.xb=0}if(!ha(W,W.V,W.Ba,W.c,W.i,z.o,xi))break n;se.Dc=W.Ma,W=1;break t}t(W.a!=0),W=0}W=!W}W&&(k=N.a)}else k=N.a}else{if((N=new ds)==null){de=1;break e}if(N.Fa=se.na,N.P=se.P,N.qc=se.Sa,ao(N,W)){if((k=Is(W.width,W.height,de.Oa,de.ba))==0){if(N.Aa=0,z=de.Oa,t((se=N)!=null),z!=null){if(0<(be=0>(be=z.Md)?0:100<be?255:255*be/100)){for(Ne=Re=0;4>Ne;++Ne)12>(Ve=se.pb[Ne]).lc&&(Ve.ia=be*Qf[0>Ve.lc?0:Ve.lc]>>3),Re|=Ve.ia;Re&&(alert("todo:VP8InitRandom"),se.ia=1)}se.Ga=z.Id,100<se.Ga?se.Ga=100:0>se.Ga&&(se.Ga=0)}(function(Ee,Le){if(Ee==null)return 0;if(Le==null)return xn(Ee,2,"NULL VP8Io parameter in VP8Decode().");if(!Ee.cb&&!ao(Ee,Le))return 0;if(t(Ee.cb),Le.ac==null||Le.ac(Le)){Le.ob&&(Ee.L=0);var He=Qu[Ee.L];if(Ee.L==2?(Ee.yb=0,Ee.zb=0):(Ee.yb=Le.v-He>>4,Ee.zb=Le.j-He>>4,0>Ee.yb&&(Ee.yb=0),0>Ee.zb&&(Ee.zb=0)),Ee.Va=Le.o+15+He>>4,Ee.Hb=Le.va+15+He>>4,Ee.Hb>Ee.za&&(Ee.Hb=Ee.za),Ee.Va>Ee.Ub&&(Ee.Va=Ee.Ub),0<Ee.L){var st=Ee.ed;for(He=0;4>He;++He){var We;if(Ee.Qa.Cb){var it=Ee.Qa.Lb[He];Ee.Qa.Fb||(it+=st.Tb)}else it=st.Tb;for(We=0;1>=We;++We){var ht=Ee.gd[He][We],xt=it;if(st.Pc&&(xt+=st.vd[0],We&&(xt+=st.od[0])),0<(xt=0>xt?0:63<xt?63:xt)){var vt=xt;0<st.wb&&(vt=4<st.wb?vt>>2:vt>>1)>9-st.wb&&(vt=9-st.wb),1>vt&&(vt=1),ht.dd=vt,ht.tc=2*xt+vt,ht.ld=40<=xt?2:15<=xt?1:0}else ht.tc=0;ht.La=We}}}He=0}else xn(Ee,6,"Frame setup failed"),He=Ee.a;if(He=He==0){if(He){Ee.$c=0,0<Ee.Aa||(Ee.Ic=Jf);t:{He=Ee.Ic,st=4*(vt=Ee.za);var Gt=32*vt,kt=vt+1,kn=0<Ee.L?vt*(0<Ee.Aa?2:1):0,Ut=(Ee.Aa==2?2:1)*vt;if((ht=st+832+(We=3*(16*He+Qu[Ee.L])/2*Gt)+(it=Ee.Fa!=null&&0<Ee.Fa.length?Ee.Kc.c*Ee.Kc.i:0))!=ht)He=0;else{if(ht>Ee.Vb){if(Ee.Vb=0,Ee.Ec=a(ht),Ee.Fc=0,Ee.Ec==null){He=xn(Ee,1,"no memory during frame initialization.");break t}Ee.Vb=ht}ht=Ee.Ec,xt=Ee.Fc,Ee.Ac=ht,Ee.Bc=xt,xt+=st,Ee.Gd=o(Gt,Vn),Ee.Hd=0,Ee.rb=o(kt+1,rr),Ee.sb=1,Ee.wa=kn?o(kn,fs):null,Ee.Y=0,Ee.D.Nb=0,Ee.D.wa=Ee.wa,Ee.D.Y=Ee.Y,0<Ee.Aa&&(Ee.D.Y+=vt),t(!0),Ee.oc=ht,Ee.pc=xt,xt+=832,Ee.ya=o(Ut,Vc),Ee.aa=0,Ee.D.ya=Ee.ya,Ee.D.aa=Ee.aa,Ee.Aa==2&&(Ee.D.aa+=vt),Ee.R=16*vt,Ee.B=8*vt,vt=(Gt=Qu[Ee.L])*Ee.R,Gt=Gt/2*Ee.B,Ee.sa=ht,Ee.ta=xt+vt,Ee.qa=Ee.sa,Ee.ra=Ee.ta+16*He*Ee.R+Gt,Ee.Ha=Ee.qa,Ee.Ia=Ee.ra+8*He*Ee.B+Gt,Ee.$c=0,xt+=We,Ee.mb=it?ht:null,Ee.nb=it?xt:null,t(xt+it<=Ee.Fc+Ee.Vb),Es(Ee),i(Ee.Ac,Ee.Bc,0,st),He=1}}if(He){if(Le.ka=0,Le.y=Ee.sa,Le.O=Ee.ta,Le.f=Ee.qa,Le.N=Ee.ra,Le.ea=Ee.Ha,Le.Vd=Ee.Ia,Le.fa=Ee.R,Le.Rc=Ee.B,Le.F=null,Le.J=0,!Zd){for(He=-255;255>=He;++He)Kc[255+He]=0>He?-He:He;for(He=-1020;1020>=He;++He)Kd[1020+He]=-128>He?-128:127<He?127:He;for(He=-112;112>=He;++He)Wf[112+He]=-16>He?-16:15<He?15:He;for(He=-255;510>=He;++He)Vf[255+He]=0>He?0:255<He?255:He;Zd=1}Ie=Gs,Pe=_e,Ze=It,ct=ni,ut=ma,Be=$e,ot=Vs,rn=Bo,mn=re,qr=Ae,sa=et,Bi=L,gr=ke,Fi=Fe,Ka=Do,Pl=Lo,fl=jl,Gf=ir,wi[0]=Wu,wi[1]=Ta,wi[2]=Ws,wi[3]=fn,wi[4]=dn,wi[5]=Yc,wi[6]=Jn,wi[7]=Ro,wi[8]=hs,wi[9]=$a,ps[0]=Ga,ps[1]=_r,ps[2]=uc,ps[3]=$u,ps[4]=$s,ps[5]=Ol,ps[6]=kr,Uo[0]=oo,Uo[1]=nn,Uo[2]=so,Uo[3]=ol,Uo[4]=ri,Uo[5]=Tl,Uo[6]=Wa,He=1}else He=0}He&&(He=(function(Qn,Qr){for(Qn.M=0;Qn.M<Qn.Va;++Qn.M){var Rn,Mt=Qn.Jc[Qn.M&Qn.Xb],St=Qn.m,hi=Qn;for(Rn=0;Rn<hi.za;++Rn){var wn=St,Bn=hi,Sr=Bn.Ac,oa=Bn.Bc+4*Rn,Pa=Bn.zc,Hr=Bn.ya[Bn.aa+Rn];if(Bn.Qa.Bb?Hr.$b=Ge(wn,Bn.Pa.jb[0])?2+Ge(wn,Bn.Pa.jb[2]):Ge(wn,Bn.Pa.jb[1]):Hr.$b=0,Bn.kc&&(Hr.Ad=Ge(wn,Bn.Bd)),Hr.Za=!Ge(wn,145)+0,Hr.Za){var Ui=Hr.Ob,Ja=0;for(Bn=0;4>Bn;++Bn){var zi,Wn=Pa[0+Bn];for(zi=0;4>zi;++zi){Wn=ja[Sr[oa+zi]][Wn];for(var ur=rh[Ge(wn,Wn[0])];0<ur;)ur=rh[2*ur+Ge(wn,Wn[ur])];Wn=-ur,Sr[oa+zi]=Wn}r(Ui,Ja,Sr,oa,4),Ja+=4,Pa[0+Bn]=Wn}}else Wn=Ge(wn,156)?Ge(wn,128)?1:3:Ge(wn,163)?2:0,Hr.Ob[0]=Wn,i(Sr,oa,Wn,4),i(Pa,0,Wn,4);Hr.Dd=Ge(wn,142)?Ge(wn,114)?Ge(wn,183)?1:3:2:0}if(hi.m.Ka)return xn(Qn,7,"Premature end-of-partition0 encountered.");for(;Qn.ja<Qn.za;++Qn.ja){if(hi=Mt,wn=(St=Qn).rb[St.sb-1],Sr=St.rb[St.sb+St.ja],Rn=St.ya[St.aa+St.ja],oa=St.kc?Rn.Ad:0)wn.la=Sr.la=0,Rn.Za||(wn.Na=Sr.Na=0),Rn.Hc=0,Rn.Gc=0,Rn.ia=0;else{var pi,vr;if(wn=Sr,Sr=hi,oa=St.Pa.Xc,Pa=St.ya[St.aa+St.ja],Hr=St.pb[Pa.$b],Bn=Pa.ad,Ui=0,Ja=St.rb[St.sb-1],Wn=zi=0,i(Bn,Ui,0,384),Pa.Za)var la=0,mi=oa[3];else{ur=a(16);var fr=wn.Na+Ja.Na;if(fr=Qs(Sr,oa[1],fr,Hr.Eb,0,ur,0),wn.Na=Ja.Na=(0<fr)+0,1<fr)Ie(ur,0,Bn,Ui);else{var ki=ur[0]+3>>3;for(ur=0;256>ur;ur+=16)Bn[Ui+ur]=ki}la=1,mi=oa[0]}var Ar=15&wn.la,qi=15&Ja.la;for(ur=0;4>ur;++ur){var Hi=1&qi;for(ki=vr=0;4>ki;++ki)Ar=Ar>>1|(Hi=(fr=Qs(Sr,mi,fr=Hi+(1&Ar),Hr.Sc,la,Bn,Ui))>la)<<7,vr=vr<<2|(3<fr?3:1<fr?2:Bn[Ui+0]!=0),Ui+=16;Ar>>=4,qi=qi>>1|Hi<<7,zi=(zi<<8|vr)>>>0}for(mi=Ar,la=qi>>4,pi=0;4>pi;pi+=2){for(vr=0,Ar=wn.la>>4+pi,qi=Ja.la>>4+pi,ur=0;2>ur;++ur){for(Hi=1&qi,ki=0;2>ki;++ki)fr=Hi+(1&Ar),Ar=Ar>>1|(Hi=0<(fr=Qs(Sr,oa[2],fr,Hr.Qc,0,Bn,Ui)))<<3,vr=vr<<2|(3<fr?3:1<fr?2:Bn[Ui+0]!=0),Ui+=16;Ar>>=2,qi=qi>>1|Hi<<5}Wn|=vr<<4*pi,mi|=Ar<<4<<pi,la|=(240&qi)<<pi}wn.la=mi,Ja.la=la,Pa.Hc=zi,Pa.Gc=Wn,Pa.ia=43690&Wn?0:Hr.ia,oa=!(zi|Wn)}if(0<St.L&&(St.wa[St.Y+St.ja]=St.gd[Rn.$b][Rn.Za],St.wa[St.Y+St.ja].La|=!oa),hi.Ka)return xn(Qn,7,"Premature end-of-file encountered.")}if(Es(Qn),St=Qr,hi=1,Rn=(Mt=Qn).D,wn=0<Mt.L&&Mt.M>=Mt.zb&&Mt.M<=Mt.Va,Mt.Aa==0)t:{if(Rn.M=Mt.M,Rn.uc=wn,ai(Mt,Rn),hi=1,Rn=(vr=Mt.D).Nb,wn=(Wn=Qu[Mt.L])*Mt.R,Sr=Wn/2*Mt.B,ur=16*Rn*Mt.R,ki=8*Rn*Mt.B,oa=Mt.sa,Pa=Mt.ta-wn+ur,Hr=Mt.qa,Bn=Mt.ra-Sr+ki,Ui=Mt.Ha,Ja=Mt.Ia-Sr+ki,qi=(Ar=vr.M)==0,zi=Ar>=Mt.Va-1,Mt.Aa==2&&ai(Mt,vr),vr.uc)for(Hi=(fr=Mt).D.M,t(fr.D.uc),vr=fr.yb;vr<fr.Hb;++vr){la=vr,mi=Hi;var Pr=(or=(Gi=fr).D).Nb;pi=Gi.R;var or=or.wa[or.Y+la],es=Gi.sa,_i=Gi.ta+16*Pr*pi+16*la,hn=or.dd,gn=or.tc;if(gn!=0)if(t(3<=gn),Gi.L==1)0<la&&Pl(es,_i,pi,gn+4),or.La&&Gf(es,_i,pi,gn),0<mi&&Ka(es,_i,pi,gn+4),or.La&&fl(es,_i,pi,gn);else{var dr=Gi.B,ks=Gi.qa,_o=Gi.ra+8*Pr*dr+8*la,ms=Gi.Ha,Gi=Gi.Ia+8*Pr*dr+8*la;Pr=or.ld,0<la&&(rn(es,_i,pi,gn+4,hn,Pr),qr(ks,_o,ms,Gi,dr,gn+4,hn,Pr)),or.La&&(Bi(es,_i,pi,gn,hn,Pr),Fi(ks,_o,ms,Gi,dr,gn,hn,Pr)),0<mi&&(ot(es,_i,pi,gn+4,hn,Pr),mn(ks,_o,ms,Gi,dr,gn+4,hn,Pr)),or.La&&(sa(es,_i,pi,gn,hn,Pr),gr(ks,_o,ms,Gi,dr,gn,hn,Pr))}}if(Mt.ia&&alert("todo:DitherRow"),St.put!=null){if(vr=16*Ar,Ar=16*(Ar+1),qi?(St.y=Mt.sa,St.O=Mt.ta+ur,St.f=Mt.qa,St.N=Mt.ra+ki,St.ea=Mt.Ha,St.W=Mt.Ia+ki):(vr-=Wn,St.y=oa,St.O=Pa,St.f=Hr,St.N=Bn,St.ea=Ui,St.W=Ja),zi||(Ar-=Wn),Ar>St.o&&(Ar=St.o),St.F=null,St.J=null,Mt.Fa!=null&&0<Mt.Fa.length&&vr<Ar&&(St.J=Et(Mt,St,vr,Ar-vr),St.F=Mt.mb,St.F==null&&St.F.length==0)){hi=xn(Mt,3,"Could not decode alpha data.");break t}vr<St.j&&(Wn=St.j-vr,vr=St.j,t(!(1&Wn)),St.O+=Mt.R*Wn,St.N+=Mt.B*(Wn>>1),St.W+=Mt.B*(Wn>>1),St.F!=null&&(St.J+=St.width*Wn)),vr<Ar&&(St.O+=St.v,St.N+=St.v>>1,St.W+=St.v>>1,St.F!=null&&(St.J+=St.v),St.ka=vr-St.j,St.U=St.va-St.v,St.T=Ar-vr,hi=St.put(St))}Rn+1!=Mt.Ic||zi||(r(Mt.sa,Mt.ta-wn,oa,Pa+16*Mt.R,wn),r(Mt.qa,Mt.ra-Sr,Hr,Bn+8*Mt.B,Sr),r(Mt.Ha,Mt.Ia-Sr,Ui,Ja+8*Mt.B,Sr))}if(!hi)return xn(Qn,6,"Output aborted.")}return 1})(Ee,Le)),Le.bc!=null&&Le.bc(Le),He&=1}return He?(Ee.cb=0,He):0})(N,W)||(k=N.a)}}else k=N.a}k==0&&de.Oa!=null&&de.Oa.fd&&(k=Xc(de.ba))}de=k}ce=de!=0?null:11>ce?ge.f.RGBA.eb:ge.f.kb.y}else ce=null;return ce};var oh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(q,oe){for(var H="",G=0;G<4;G++)H+=String.fromCharCode(q[oe++]);return H}function h(q,oe){return q[oe+0]|q[oe+1]<<8}function g(q,oe){return(q[oe+0]|q[oe+1]<<8|q[oe+2]<<16)>>>0}function x(q,oe){return(q[oe+0]|q[oe+1]<<8|q[oe+2]<<16|q[oe+3]<<24)>>>0}new d;var y=[0],C=[0],E=[],T=new d,I=e,D=(function(q,oe){var H={},G=0,fe=!1,ee=0,ae=0;if(H.frames=[],!(function(V,he){for(var me=0;me<4;me++)if(V[he+me]!="RIFF".charCodeAt(me))return!0;return!1})(q,oe)){for(x(q,oe+=4),oe+=8;oe<q.length;){var ie=c(q,oe),K=x(q,oe+=4);oe+=4;var ve=K+(1&K);switch(ie){case"VP8 ":case"VP8L":H.frames[G]===void 0&&(H.frames[G]={}),(ue=H.frames[G]).src_off=fe?ae:oe-8,ue.src_size=ee+K+8,G++,fe&&(fe=!1,ee=0,ae=0);break;case"VP8X":(ue=H.header={}).feature_flags=q[oe];var Te=oe+4;ue.canvas_width=1+g(q,Te),Te+=3,ue.canvas_height=1+g(q,Te),Te+=3;break;case"ALPH":fe=!0,ee=ve+8,ae=oe-8;break;case"ANIM":(ue=H.header).bgcolor=x(q,oe),Te=oe+4,ue.loop_count=h(q,Te),Te+=2;break;case"ANMF":var we,ue;(ue=H.frames[G]={}).offset_x=2*g(q,oe),oe+=3,ue.offset_y=2*g(q,oe),oe+=3,ue.width=1+g(q,oe),oe+=3,ue.height=1+g(q,oe),oe+=3,ue.duration=g(q,oe),oe+=3,we=q[oe++],ue.dispose=1&we,ue.blend=we>>1&1}ie!="ANMF"&&(oe+=ve)}return H}})(I,0);D.response=I,D.rgbaoutput=!0,D.dataurl=!1;var F=D.header?D.header:null,U=D.frames?D.frames:null;if(F){F.loop_counter=F.loop_count,y=[F.canvas_height],C=[F.canvas_width];for(var Z=0;Z<U.length&&U[Z].blend!=0;Z++);}var Q=U[0],Y=T.WebPDecodeRGBA(I,Q.src_off,Q.src_size,C,y);Q.rgba=Y,Q.imgwidth=C[0],Q.imgheight=y[0];for(var J=0;J<C[0]*y[0]*4;J++)E[J]=Y[J];return this.width=C,this.height=y,this.data=E,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function Lme(){var e,t=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(t));e=this.internal.__metadata__.rawXml?n:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+e.length+" >>"),this.internal.write("stream"),this.internal.write(e),this.internal.write("endstream"),this.internal.write("endobj")}function Bme(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(e){var t,n,r,i,a,o,u,d,c,h=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new d,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new o,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new o,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new g(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,u=this.internal.Rectangle,d=this.internal.Matrix,c=new h}]);var g=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var he=V;Object.defineProperty(this,"pdf",{get:function(){return he}});var me=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return me},set:function(ye){me=!!ye}});var Ce=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ce},set:function(ye){Ce=!!ye}});var xe=0;Object.defineProperty(this,"posX",{get:function(){return xe},set:function(ye){isNaN(ye)||(xe=ye)}});var Me=0;Object.defineProperty(this,"posY",{get:function(){return Me},set:function(ye){isNaN(ye)||(Me=ye)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ye){var wt;typeof ye=="number"?wt=[ye,ye,ye,ye]:((wt=new Array(4))[0]=ye[0],wt[1]=ye.length>=2?ye[1]:wt[0],wt[2]=ye.length>=3?ye[2]:wt[0],wt[3]=ye.length>=4?ye[3]:wt[1]),c.margin=wt}});var ze=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ze},set:function(ye){ze=ye}});var Oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return Oe},set:function(ye){Oe=ye}});var Ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ge},set:function(ye){Ge=ye}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ye){ye instanceof h&&(c=ye)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ye){c.path=ye}});var Je=[];Object.defineProperty(this,"ctxStack",{get:function(){return Je},set:function(ye){Je=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var wt;wt=x(ye),this.ctx.fillStyle=wt.style,this.ctx.isFillTransparent=wt.a===0,this.ctx.fillOpacity=wt.a,this.pdf.setFillColor(wt.r,wt.g,wt.b,{a:wt.a}),this.pdf.setTextColor(wt.r,wt.g,wt.b,{a:wt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var wt=x(ye);this.ctx.strokeStyle=wt.style,this.ctx.isStrokeTransparent=wt.a===0,this.ctx.strokeOpacity=wt.a,wt.a===0?this.pdf.setDrawColor(255,255,255):(wt.a,this.pdf.setDrawColor(wt.r,wt.g,wt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var qe=null,lt=null,bt=null;Object.defineProperty(this,"fontFaces",{get:function(){return bt},set:function(ye){qe=null,lt=null,bt=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var wt;if(this.ctx.font=ye,(wt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ye))!==null){var Rt=wt[1];wt[2];var _t=wt[3],nt=wt[4];wt[5];var en=wt[6],at=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(nt)[2];nt=Math.floor(at==="px"?parseFloat(nt)*this.pdf.internal.scaleFactor:at==="em"?parseFloat(nt)*this.pdf.getFontSize():parseFloat(nt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(nt);var an=(function(Ht){var ci,tn,rt=[],Dt=Ht.trim();if(Dt==="")return O5;if(Dt in gk)return[gk[Dt]];for(;Dt!=="";){switch(tn=null,ci=(Dt=yk(Dt)).charAt(0)){case'"':case"'":tn=jme(Dt.substring(1),ci);break;default:tn=kme(Dt)}if(tn===null||(rt.push(tn[0]),(Dt=yk(tn[1]))!==""&&Dt.charAt(0)!==","))return O5;Dt=Dt.replace(/^,/,"")}return rt})(en);if(this.fontFaces){var sn=(function(Ht,ci){var tn=Ht.getFontList(),rt=JSON.stringify(tn);if(qe===null||lt!==rt){var Dt=(function(Ft){var Ct=[];return Object.keys(Ft).forEach(function(cr){Ft[cr].forEach(function(pn){var _n=null;switch(pn){case"bold":_n={family:cr,weight:"bold"};break;case"italic":_n={family:cr,style:"italic"};break;case"bolditalic":_n={family:cr,weight:"bold",style:"italic"};break;case"":case"normal":_n={family:cr}}_n!==null&&(_n.ref={name:cr,style:pn},Ct.push(_n))})}),Ct})(tn);qe=(function(Ft){for(var Ct={},cr=0;cr<Ft.length;++cr){var pn=N5(Ft[cr]),_n=pn.family,Xt=pn.stretch,Sn=pn.style,Kt=pn.weight;Ct[_n]=Ct[_n]||{},Ct[_n][Xt]=Ct[_n][Xt]||{},Ct[_n][Xt][Sn]=Ct[_n][Xt][Sn]||{},Ct[_n][Xt][Sn][Kt]=pn}return Ct})(Dt.concat(ci)),lt=rt}return qe})(this.pdf,this.fontFaces),yn=an.map(function(Ht){return{family:Ht,stretch:"normal",weight:_t,style:Rt}}),Fn=(function(Ht,ci,tn){for(var rt=(tn=tn||{}).defaultFontFamily||"times",Dt=Object.assign({},Ime,tn.genericFontFamilies||{}),Ft=null,Ct=null,cr=0;cr<ci.length;++cr)if(Dt[(Ft=N5(ci[cr])).family]&&(Ft.family=Dt[Ft.family]),Ht.hasOwnProperty(Ft.family)){Ct=Ht[Ft.family];break}if(!(Ct=Ct||Ht[rt]))throw new Error("Could not find a font-family for the rule '"+vk(Ft)+"' and default family '"+rt+"'.");if(Ct=(function(pn,_n){if(_n[pn])return _n[pn];var Xt=f3[pn],Sn=Xt<=f3.normal?-1:1,Kt=mk(_n,Q9,Xt,Sn);if(!Kt)throw new Error("Could not find a matching font-stretch value for "+pn);return Kt})(Ft.stretch,Ct),Ct=(function(pn,_n){if(_n[pn])return _n[pn];for(var Xt=Z9[pn],Sn=0;Sn<Xt.length;++Sn)if(_n[Xt[Sn]])return _n[Xt[Sn]];throw new Error("Could not find a matching font-style for "+pn)})(Ft.style,Ct),!(Ct=(function(pn,_n){if(_n[pn])return _n[pn];if(pn===400&&_n[500])return _n[500];if(pn===500&&_n[400])return _n[400];var Xt=Tme[pn],Sn=mk(_n,J9,Xt,pn<400?-1:1);if(!Sn)throw new Error("Could not find a matching font-weight for value "+pn);return Sn})(Ft.weight,Ct)))throw new Error("Failed to resolve a font for the rule '"+vk(Ft)+"'.");return Ct})(sn,yn);this.pdf.setFont(Fn.ref.name,Fn.ref.style)}else{var cn="";(_t==="bold"||parseInt(_t,10)>=700||Rt==="bold")&&(cn="bold"),Rt==="italic"&&(cn+="italic"),cn.length===0&&(cn="normal");for(var zn="",Nn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ot=0;Ot<an.length;Ot++){if(this.pdf.internal.getFont(an[Ot],cn,{noFallback:!0,disableWarning:!0})!==void 0){zn=an[Ot];break}if(cn==="bolditalic"&&this.pdf.internal.getFont(an[Ot],"bold",{noFallback:!0,disableWarning:!0})!==void 0)zn=an[Ot],cn="bold";else if(this.pdf.internal.getFont(an[Ot],"normal",{noFallback:!0,disableWarning:!0})!==void 0){zn=an[Ot],cn="normal";break}}if(zn===""){for(var In=0;In<an.length;In++)if(Nn[an[In]]){zn=Nn[an[In]];break}}zn=zn===""?"Times":zn,this.pdf.setFont(zn,cn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,ue.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,ue.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};g.prototype.setLineDash=function(V){this.lineDash=V},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){U.call(this,"fill",!1)},g.prototype.stroke=function(){U.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(V,he){if(isNaN(V)||isNaN(he))throw ei.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var me=this.ctx.transform.applyToPoint(new o(V,he));this.path.push({type:"mt",x:me.x,y:me.y}),this.ctx.lastPoint=new o(V,he)},g.prototype.closePath=function(){var V=new o(0,0),he=0;for(he=this.path.length-1;he!==-1;he--)if(this.path[he].type==="begin"&&Ur(this.path[he+1])==="object"&&typeof this.path[he+1].x=="number"){V=new o(this.path[he+1].x,this.path[he+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(V.x,V.y)},g.prototype.lineTo=function(V,he){if(isNaN(V)||isNaN(he))throw ei.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var me=this.ctx.transform.applyToPoint(new o(V,he));this.path.push({type:"lt",x:me.x,y:me.y}),this.ctx.lastPoint=new o(me.x,me.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),U.call(this,null,!0)},g.prototype.quadraticCurveTo=function(V,he,me,Ce){if(isNaN(me)||isNaN(Ce)||isNaN(V)||isNaN(he))throw ei.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var xe=this.ctx.transform.applyToPoint(new o(me,Ce)),Me=this.ctx.transform.applyToPoint(new o(V,he));this.path.push({type:"qct",x1:Me.x,y1:Me.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new o(xe.x,xe.y)},g.prototype.bezierCurveTo=function(V,he,me,Ce,xe,Me){if(isNaN(xe)||isNaN(Me)||isNaN(V)||isNaN(he)||isNaN(me)||isNaN(Ce))throw ei.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ze=this.ctx.transform.applyToPoint(new o(xe,Me)),Oe=this.ctx.transform.applyToPoint(new o(V,he)),Ge=this.ctx.transform.applyToPoint(new o(me,Ce));this.path.push({type:"bct",x1:Oe.x,y1:Oe.y,x2:Ge.x,y2:Ge.y,x:ze.x,y:ze.y}),this.ctx.lastPoint=new o(ze.x,ze.y)},g.prototype.arc=function(V,he,me,Ce,xe,Me){if(isNaN(V)||isNaN(he)||isNaN(me)||isNaN(Ce)||isNaN(xe))throw ei.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Me=!!Me,!this.ctx.transform.isIdentity){var ze=this.ctx.transform.applyToPoint(new o(V,he));V=ze.x,he=ze.y;var Oe=this.ctx.transform.applyToPoint(new o(0,me)),Ge=this.ctx.transform.applyToPoint(new o(0,0));me=Math.sqrt(Math.pow(Oe.x-Ge.x,2)+Math.pow(Oe.y-Ge.y,2))}Math.abs(xe-Ce)>=2*Math.PI&&(Ce=0,xe=2*Math.PI),this.path.push({type:"arc",x:V,y:he,radius:me,startAngle:Ce,endAngle:xe,counterclockwise:Me})},g.prototype.arcTo=function(V,he,me,Ce,xe){throw new Error("arcTo not implemented.")},g.prototype.rect=function(V,he,me,Ce){if(isNaN(V)||isNaN(he)||isNaN(me)||isNaN(Ce))throw ei.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,he),this.lineTo(V+me,he),this.lineTo(V+me,he+Ce),this.lineTo(V,he+Ce),this.lineTo(V,he),this.lineTo(V+me,he),this.lineTo(V,he)},g.prototype.fillRect=function(V,he,me,Ce){if(isNaN(V)||isNaN(he)||isNaN(me)||isNaN(Ce))throw ei.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var xe={};this.lineCap!=="butt"&&(xe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(xe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,he,me,Ce),this.fill(),xe.hasOwnProperty("lineCap")&&(this.lineCap=xe.lineCap),xe.hasOwnProperty("lineJoin")&&(this.lineJoin=xe.lineJoin)}},g.prototype.strokeRect=function(V,he,me,Ce){if(isNaN(V)||isNaN(he)||isNaN(me)||isNaN(Ce))throw ei.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");C.call(this)||(this.beginPath(),this.rect(V,he,me,Ce),this.stroke())},g.prototype.clearRect=function(V,he,me,Ce){if(isNaN(V)||isNaN(he)||isNaN(me)||isNaN(Ce))throw ei.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,he,me,Ce))},g.prototype.save=function(V){V=typeof V!="boolean"||V;for(var he=this.pdf.internal.getCurrentPageInfo().pageNumber,me=0;me<this.pdf.internal.getNumberOfPages();me++)this.pdf.setPage(me+1),this.pdf.internal.out("q");if(this.pdf.setPage(he),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ce=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ce}},g.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var he=this.pdf.internal.getCurrentPageInfo().pageNumber,me=0;me<this.pdf.internal.getNumberOfPages();me++)this.pdf.setPage(me+1),this.pdf.internal.out("Q");this.pdf.setPage(he),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(V){var he,me,Ce,xe;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))he=0,me=0,Ce=0,xe=0;else{var Me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(Me!==null)he=parseInt(Me[1]),me=parseInt(Me[2]),Ce=parseInt(Me[3]),xe=1;else if((Me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)he=parseInt(Me[1]),me=parseInt(Me[2]),Ce=parseInt(Me[3]),xe=parseFloat(Me[4]);else{if(xe=1,typeof V=="string"&&V.charAt(0)!=="#"){var ze=new G9(V);V=ze.ok?ze.toHex():"#000000"}V.length===4?(he=V.substring(1,2),he+=he,me=V.substring(2,3),me+=me,Ce=V.substring(3,4),Ce+=Ce):(he=V.substring(1,3),me=V.substring(3,5),Ce=V.substring(5,7)),he=parseInt(he,16),me=parseInt(me,16),Ce=parseInt(Ce,16)}}return{r:he,g:me,b:Ce,a:xe,style:V}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},C=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(V,he,me,Ce){if(isNaN(he)||isNaN(me)||typeof V!="string")throw ei.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ce=isNaN(Ce)?void 0:Ce,!y.call(this)){var xe=ve(this.ctx.transform.rotation),Me=this.ctx.transform.scaleX;G.call(this,{text:V,x:he,y:me,scale:Me,angle:xe,align:this.textAlign,maxWidth:Ce})}},g.prototype.strokeText=function(V,he,me,Ce){if(isNaN(he)||isNaN(me)||typeof V!="string")throw ei.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!C.call(this)){Ce=isNaN(Ce)?void 0:Ce;var xe=ve(this.ctx.transform.rotation),Me=this.ctx.transform.scaleX;G.call(this,{text:V,x:he,y:me,scale:Me,renderingMode:"stroke",angle:xe,align:this.textAlign,maxWidth:Ce})}},g.prototype.measureText=function(V){if(typeof V!="string")throw ei.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var he=this.pdf,me=this.pdf.internal.scaleFactor,Ce=he.internal.getFontSize(),xe=he.getStringUnitWidth(V)*Ce/he.internal.scaleFactor;return new function(Me){var ze=(Me=Me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ze}}),this}({width:xe*=Math.round(96*me/72*1e4)/1e4})},g.prototype.scale=function(V,he){if(isNaN(V)||isNaN(he))throw ei.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var me=new d(V,0,0,he,0,0);this.ctx.transform=this.ctx.transform.multiply(me)},g.prototype.rotate=function(V){if(isNaN(V))throw ei.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var he=new d(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(he)},g.prototype.translate=function(V,he){if(isNaN(V)||isNaN(he))throw ei.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var me=new d(1,0,0,1,V,he);this.ctx.transform=this.ctx.transform.multiply(me)},g.prototype.transform=function(V,he,me,Ce,xe,Me){if(isNaN(V)||isNaN(he)||isNaN(me)||isNaN(Ce)||isNaN(xe)||isNaN(Me))throw ei.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ze=new d(V,he,me,Ce,xe,Me);this.ctx.transform=this.ctx.transform.multiply(ze)},g.prototype.setTransform=function(V,he,me,Ce,xe,Me){V=isNaN(V)?1:V,he=isNaN(he)?0:he,me=isNaN(me)?0:me,Ce=isNaN(Ce)?1:Ce,xe=isNaN(xe)?0:xe,Me=isNaN(Me)?0:Me,this.ctx.transform=new d(V,he,me,Ce,xe,Me)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(V,he,me,Ce,xe,Me,ze,Oe,Ge){var Je=this.pdf.getImageProperties(V),qe=1,lt=1,bt=1,ye=1;Ce!==void 0&&Oe!==void 0&&(bt=Oe/Ce,ye=Ge/xe,qe=Je.width/Ce*Oe/Ce,lt=Je.height/xe*Ge/xe),Me===void 0&&(Me=he,ze=me,he=0,me=0),Ce!==void 0&&Oe===void 0&&(Oe=Ce,Ge=xe),Ce===void 0&&Oe===void 0&&(Oe=Je.width,Ge=Je.height);var wt=this.ctx.transform.decompose(),Rt=ve(wt.rotate.shx),_t=new d,nt=(_t=(_t=(_t=_t.multiply(wt.translate)).multiply(wt.skew)).multiply(wt.scale)).applyToRectangle(new u(Me-he*bt,ze-me*ye,Ce*qe,xe*lt));if(this.autoPaging){for(var en,at=T.call(this,nt),an=[],sn=0;sn<at.length;sn+=1)an.indexOf(at[sn])===-1&&an.push(at[sn]);F(an);for(var yn=an[0],Fn=an[an.length-1],cn=yn;cn<Fn+1;cn++){this.pdf.setPage(cn);var zn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nn=cn===1?this.posY+this.margin[0]:this.margin[0],Ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],In=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ht=cn===1?0:Ot+(cn-2)*In;if(this.ctx.clip_path.length!==0){var ci=this.path;en=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(en,this.posX+this.margin[3],-Ht+Nn+this.ctx.prevPageLastElemOffset),Z.call(this,"fill",!0),this.path=ci}var tn=JSON.parse(JSON.stringify(nt));tn=D([tn],this.posX+this.margin[3],-Ht+Nn+this.ctx.prevPageLastElemOffset)[0];var rt=(cn>yn||cn<Fn)&&E.call(this);rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],zn,In,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",tn.x,tn.y,tn.w,tn.h,null,null,Rt),rt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(V,"JPEG",nt.x,nt.y,nt.w,nt.h,null,null,Rt)};var T=function(V,he,me){var Ce=[];he=he||this.pdf.internal.pageSize.width,me=me||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var xe=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":Ce.push(Math.floor((V.y+xe)/me)+1);break;case"arc":Ce.push(Math.floor((V.y+xe-V.radius)/me)+1),Ce.push(Math.floor((V.y+xe+V.radius)/me)+1);break;case"qct":var Me=Te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);Ce.push(Math.floor((Me.y+xe)/me)+1),Ce.push(Math.floor((Me.y+Me.h+xe)/me)+1);break;case"bct":var ze=we(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);Ce.push(Math.floor((ze.y+xe)/me)+1),Ce.push(Math.floor((ze.y+ze.h+xe)/me)+1);break;case"rect":Ce.push(Math.floor((V.y+xe)/me)+1),Ce.push(Math.floor((V.y+V.h+xe)/me)+1)}for(var Oe=0;Oe<Ce.length;Oe+=1)for(;this.pdf.internal.getNumberOfPages()<Ce[Oe];)I.call(this);return Ce},I=function(){var V=this.fillStyle,he=this.strokeStyle,me=this.font,Ce=this.lineCap,xe=this.lineWidth,Me=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=he,this.font=me,this.lineCap=Ce,this.lineWidth=xe,this.lineJoin=Me},D=function(V,he,me){for(var Ce=0;Ce<V.length;Ce++)switch(V[Ce].type){case"bct":V[Ce].x2+=he,V[Ce].y2+=me;case"qct":V[Ce].x1+=he,V[Ce].y1+=me;default:V[Ce].x+=he,V[Ce].y+=me}return V},F=function(V){return V.sort(function(he,me){return he-me})},U=function(V,he){var me=this.fillStyle,Ce=this.strokeStyle,xe=this.lineCap,Me=this.lineWidth,ze=Math.abs(Me*this.ctx.transform.scaleX),Oe=this.lineJoin;if(this.autoPaging){for(var Ge,Je,qe=JSON.parse(JSON.stringify(this.path)),lt=JSON.parse(JSON.stringify(this.path)),bt=[],ye=0;ye<lt.length;ye++)if(lt[ye].x!==void 0)for(var wt=T.call(this,lt[ye]),Rt=0;Rt<wt.length;Rt+=1)bt.indexOf(wt[Rt])===-1&&bt.push(wt[Rt]);for(var _t=0;_t<bt.length;_t++)for(;this.pdf.internal.getNumberOfPages()<bt[_t];)I.call(this);F(bt);for(var nt=bt[0],en=bt[bt.length-1],at=nt;at<en+1;at++){this.pdf.setPage(at),this.fillStyle=me,this.strokeStyle=Ce,this.lineCap=xe,this.lineWidth=ze,this.lineJoin=Oe;var an=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],sn=at===1?this.posY+this.margin[0]:this.margin[0],yn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],cn=at===1?0:yn+(at-2)*Fn;if(this.ctx.clip_path.length!==0){var zn=this.path;Ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(Ge,this.posX+this.margin[3],-cn+sn+this.ctx.prevPageLastElemOffset),Z.call(this,V,!0),this.path=zn}if(Je=JSON.parse(JSON.stringify(qe)),this.path=D(Je,this.posX+this.margin[3],-cn+sn+this.ctx.prevPageLastElemOffset),he===!1||at===0){var Nn=(at>nt||at<en)&&E.call(this);Nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],an,Fn,null).clip().discardPath()),Z.call(this,V,he),Nn&&this.pdf.restoreGraphicsState()}this.lineWidth=Me}this.path=qe}else this.lineWidth=ze,Z.call(this,V,he),this.lineWidth=Me},Z=function(V,he){if((V!=="stroke"||he||!C.call(this))&&(V==="stroke"||he||!y.call(this))){for(var me,Ce,xe=[],Me=this.path,ze=0;ze<Me.length;ze++){var Oe=Me[ze];switch(Oe.type){case"begin":xe.push({begin:!0});break;case"close":xe.push({close:!0});break;case"mt":xe.push({start:Oe,deltas:[],abs:[]});break;case"lt":var Ge=xe.length;if(Me[ze-1]&&!isNaN(Me[ze-1].x)&&(me=[Oe.x-Me[ze-1].x,Oe.y-Me[ze-1].y],Ge>0)){for(;Ge>=0;Ge--)if(xe[Ge-1].close!==!0&&xe[Ge-1].begin!==!0){xe[Ge-1].deltas.push(me),xe[Ge-1].abs.push(Oe);break}}break;case"bct":me=[Oe.x1-Me[ze-1].x,Oe.y1-Me[ze-1].y,Oe.x2-Me[ze-1].x,Oe.y2-Me[ze-1].y,Oe.x-Me[ze-1].x,Oe.y-Me[ze-1].y],xe[xe.length-1].deltas.push(me);break;case"qct":var Je=Me[ze-1].x+2/3*(Oe.x1-Me[ze-1].x),qe=Me[ze-1].y+2/3*(Oe.y1-Me[ze-1].y),lt=Oe.x+2/3*(Oe.x1-Oe.x),bt=Oe.y+2/3*(Oe.y1-Oe.y),ye=Oe.x,wt=Oe.y;me=[Je-Me[ze-1].x,qe-Me[ze-1].y,lt-Me[ze-1].x,bt-Me[ze-1].y,ye-Me[ze-1].x,wt-Me[ze-1].y],xe[xe.length-1].deltas.push(me);break;case"arc":xe.push({deltas:[],abs:[],arc:!0}),Array.isArray(xe[xe.length-1].abs)&&xe[xe.length-1].abs.push(Oe)}}Ce=he?null:V==="stroke"?"stroke":"fill";for(var Rt=!1,_t=0;_t<xe.length;_t++)if(xe[_t].arc)for(var nt=xe[_t].abs,en=0;en<nt.length;en++){var at=nt[en];at.type==="arc"?J.call(this,at.x,at.y,at.radius,at.startAngle,at.endAngle,at.counterclockwise,void 0,he,!Rt):fe.call(this,at.x,at.y),Rt=!0}else if(xe[_t].close===!0)this.pdf.internal.out("h"),Rt=!1;else if(xe[_t].begin!==!0){var an=xe[_t].start.x,sn=xe[_t].start.y;ee.call(this,xe[_t].deltas,an,sn),Rt=!0}Ce&&q.call(this,Ce),he&&oe.call(this)}},Q=function(V){var he=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,me=he*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-me;case"top":return V+he-me;case"hanging":return V+he-2*me;case"middle":return V+he/2-me;default:return V}},Y=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(he,me){this.colorStops.push([he,me])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var J=function(V,he,me,Ce,xe,Me,ze,Oe,Ge){for(var Je=ie.call(this,me,Ce,xe,Me),qe=0;qe<Je.length;qe++){var lt=Je[qe];qe===0&&(Ge?H.call(this,lt.x1+V,lt.y1+he):fe.call(this,lt.x1+V,lt.y1+he)),ae.call(this,V,he,lt.x2,lt.y2,lt.x3,lt.y3,lt.x4,lt.y4)}Oe?oe.call(this):q.call(this,ze)},q=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},oe=function(){this.pdf.clip(),this.pdf.discardPath()},H=function(V,he){this.pdf.internal.out(n(V)+" "+r(he)+" m")},G=function(V){var he;switch(V.align){case"right":case"end":he="right";break;case"center":he="center";break;default:he="left"}var me,Ce,xe,Me=this.pdf.getTextDimensions(V.text),ze=Q.call(this,V.y),Oe=Y.call(this,ze)-Me.h,Ge=this.ctx.transform.applyToPoint(new o(V.x,ze));if(this.autoPaging){var Je=this.ctx.transform.decompose(),qe=new d;qe=(qe=(qe=qe.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale);for(var lt=this.ctx.transform.applyToRectangle(new u(V.x,ze,Me.w,Me.h)),bt=qe.applyToRectangle(new u(V.x,Oe,Me.w,Me.h)),ye=T.call(this,bt),wt=[],Rt=0;Rt<ye.length;Rt+=1)wt.indexOf(ye[Rt])===-1&&wt.push(ye[Rt]);F(wt);for(var _t=wt[0],nt=wt[wt.length-1],en=_t;en<nt+1;en++){this.pdf.setPage(en);var at=en===1?this.posY+this.margin[0]:this.margin[0],an=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],sn=this.pdf.internal.pageSize.height-this.margin[2],yn=sn-this.margin[0],Fn=this.pdf.internal.pageSize.width-this.margin[1],cn=Fn-this.margin[3],zn=en===1?0:an+(en-2)*yn;if(this.ctx.clip_path.length!==0){var Nn=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(me,this.posX+this.margin[3],-1*zn+at),Z.call(this,"fill",!0),this.path=Nn}var Ot=D([JSON.parse(JSON.stringify(bt))],this.posX+this.margin[3],-zn+at+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*V.scale),xe=this.lineWidth,this.lineWidth=xe*V.scale);var In=this.autoPaging!=="text";if(In||Ot.y+Ot.h<=sn){if(In||Ot.y>=at&&Ot.x<=Fn){var Ht=In?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||Fn-Ot.x)[0],ci=D([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-zn+at+this.ctx.prevPageLastElemOffset)[0],tn=In&&(en>_t||en<nt)&&E.call(this);tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],cn,yn,null).clip().discardPath()),this.pdf.text(Ht,ci.x,ci.y,{angle:V.angle,align:he,renderingMode:V.renderingMode}),tn&&this.pdf.restoreGraphicsState()}}else Ot.y<sn&&(this.ctx.prevPageLastElemOffset+=sn-Ot.y);V.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=xe)}}else V.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*V.scale),xe=this.lineWidth,this.lineWidth=xe*V.scale),this.pdf.text(V.text,Ge.x+this.posX,Ge.y+this.posY,{angle:V.angle,align:he,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=xe)},fe=function(V,he,me,Ce){me=me||0,Ce=Ce||0,this.pdf.internal.out(n(V+me)+" "+r(he+Ce)+" l")},ee=function(V,he,me){return this.pdf.lines(V,he,me,null,null)},ae=function(V,he,me,Ce,xe,Me,ze,Oe){this.pdf.internal.out([t(i(me+V)),t(a(Ce+he)),t(i(xe+V)),t(a(Me+he)),t(i(ze+V)),t(a(Oe+he)),"c"].join(" "))},ie=function(V,he,me,Ce){for(var xe=2*Math.PI,Me=Math.PI/2;he>me;)he-=xe;var ze=Math.abs(me-he);ze<xe&&Ce&&(ze=xe-ze);for(var Oe=[],Ge=Ce?-1:1,Je=he;ze>1e-5;){var qe=Je+Ge*Math.min(ze,Me);Oe.push(K.call(this,V,Je,qe)),ze-=Math.abs(qe-Je),Je=qe}return Oe},K=function(V,he,me){var Ce=(me-he)/2,xe=V*Math.cos(Ce),Me=V*Math.sin(Ce),ze=xe,Oe=-Me,Ge=ze*ze+Oe*Oe,Je=Ge+ze*xe+Oe*Me,qe=4/3*(Math.sqrt(2*Ge*Je)-Je)/(ze*Me-Oe*xe),lt=ze-qe*Oe,bt=Oe+qe*ze,ye=lt,wt=-bt,Rt=Ce+he,_t=Math.cos(Rt),nt=Math.sin(Rt);return{x1:V*Math.cos(he),y1:V*Math.sin(he),x2:lt*_t-bt*nt,y2:lt*nt+bt*_t,x3:ye*_t-wt*nt,y3:ye*nt+wt*_t,x4:V*Math.cos(me),y4:V*Math.sin(me)}},ve=function(V){return 180*V/Math.PI},Te=function(V,he,me,Ce,xe,Me){var ze=V+.5*(me-V),Oe=he+.5*(Ce-he),Ge=xe+.5*(me-xe),Je=Me+.5*(Ce-Me),qe=Math.min(V,xe,ze,Ge),lt=Math.max(V,xe,ze,Ge),bt=Math.min(he,Me,Oe,Je),ye=Math.max(he,Me,Oe,Je);return new u(qe,bt,lt-qe,ye-bt)},we=function(V,he,me,Ce,xe,Me,ze,Oe){var Ge,Je,qe,lt,bt,ye,wt,Rt,_t,nt,en,at,an,sn,yn=me-V,Fn=Ce-he,cn=xe-me,zn=Me-Ce,Nn=ze-xe,Ot=Oe-Me;for(Je=0;Je<41;Je++)_t=(wt=(qe=V+(Ge=Je/40)*yn)+Ge*((bt=me+Ge*cn)-qe))+Ge*(bt+Ge*(xe+Ge*Nn-bt)-wt),nt=(Rt=(lt=he+Ge*Fn)+Ge*((ye=Ce+Ge*zn)-lt))+Ge*(ye+Ge*(Me+Ge*Ot-ye)-Rt),Je==0?(en=_t,at=nt,an=_t,sn=nt):(en=Math.min(en,_t),at=Math.min(at,nt),an=Math.max(an,_t),sn=Math.max(sn,nt));return new u(Math.round(en),Math.round(at),Math.round(an-en),Math.round(sn-at))},ue=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,he,me=(V=this.ctx.lineDash,he=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:he}));this.prevLineDash!==me&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=me)}}})(ln.API),(function(e){var t=function(o){var u,d,c,h,g,x,y,C,E,T;for(d=[],c=0,h=(o+=u="\0\0\0\0".slice(o.length%4||4)).length;h>c;c+=4)(g=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(x=(g=((g=((g=((g=(g-(T=g%85))/85)-(E=g%85))/85)-(C=g%85))/85)-(y=g%85))/85)%85,d.push(x+33,y+33,C+33,E+33,T+33)):d.push(122);return(function(I,D){for(var F=D;F>0;F--)I.pop()})(d,u.length),String.fromCharCode.apply(String,d)+"~>"},n=function(o){var u,d,c,h,g,x=String,y="length",C=255,E="charCodeAt",T="slice",I="replace";for(o[T](-2),o=o[T](0,-2)[I](/\s/g,"")[I]("z","!!!!!"),c=[],h=0,g=(o+=u="uuuuu"[T](o[y]%5||5))[y];g>h;h+=5)d=52200625*(o[E](h)-33)+614125*(o[E](h+1)-33)+7225*(o[E](h+2)-33)+85*(o[E](h+3)-33)+(o[E](h+4)-33),c.push(C&d>>24,C&d>>16,C&d>>8,C&d);return(function(D,F){for(var U=F;U>0;U--)D.pop()})(c,u[y]),x.fromCharCode.apply(x,c)},r=function(o){return o.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),u.test(o)===!1)return"";for(var d="",c=0;c<o.length;c+=2)d+=String.fromCharCode("0x"+(o[c]+o[c+1]));return d},a=function(o){for(var u=new Uint8Array(o.length),d=o.length;d--;)u[d]=o.charCodeAt(d);return(u=i3(u)).reduce(function(c,h){return c+String.fromCharCode(h)},"")};e.processDataByFilters=function(o,u){var d=0,c=o||"",h=[];for(typeof(u=u||[])=="string"&&(u=[u]),d=0;d<u.length;d+=1)switch(u[d]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[d]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}})(ln.API),(function(e){e.loadFile=function(t,n,r){return(function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var u=void 0;try{u=(function(d,c,h){var g=new XMLHttpRequest,x=0,y=function(C){var E=C.length,T=[],I=String.fromCharCode;for(x=0;x<E;x+=1)T.push(I(255&C.charCodeAt(x)));return T.join("")};if(g.open("GET",d,!c),g.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(g.onload=function(){g.status===200?h(y(this.responseText)):h(void 0)}),g.send(null),c&&g.status===200)return y(g.responseText)})(i,a,o)}catch{}return u})(t,n,r)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile})(ln.API),(function(e){function t(){return(Mn.html2canvas?Promise.resolve(Mn.html2canvas):c5(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function n(){return(Mn.DOMPurify?Promise.resolve(Mn.DOMPurify):c5(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var r=function(u){var d=Ur(u);return d==="undefined"?"undefined":d==="string"||u instanceof String?"string":d==="number"||u instanceof Number?"number":d==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":d==="object"?"object":"unknown"},i=function(u,d){var c=document.createElement(u);for(var h in d.className&&(c.className=d.className),d.innerHTML&&d.dompurify&&(c.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)c.style[h]=d.style[h];return c},a=function u(d,c){for(var h=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),g=d.firstChild;g;g=g.nextSibling)c!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||h.appendChild(u(g,c));return d.nodeType===1&&(d.nodeName==="CANVAS"?(h.width=d.width,h.height=d.height,h.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(h.value=d.value),h.addEventListener("load",function(){h.scrollTop=d.scrollTop,h.scrollLeft=d.scrollLeft},!0)),h},o=function u(d){var c=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),h=u.convert(Promise.resolve(),c);return(h=h.setProgress(1,u,1,[u])).set(d)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(u,d){return u.__proto__=d||o.prototype,u},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(u,d){return this.then(function(){switch(d=d||(function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),d){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:u,dompurify:c})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},o.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(d){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,d(this.prop.container,c)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(d){var c=this.opt.jsPDF,h=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var y=0;y<h.length;++y){var C=h[y],E=C.src.find(function(T){return T.format==="truetype"});E&&c.addFont(E.url,C.ref.name,C.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,c.context2d.save(!0),d(this.prop.container,x)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(u,d,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(u,d):this.outputPdf(u,d)},o.prototype.outputPdf=function(u,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,d)})},o.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},o.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(u){if(r(u)!=="object")return this;var d=Object.keys(u||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=u[c]};switch(c){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[c]=u[c]}}},this);return this.then(function(){return this.thenList(d)})},o.prototype.get=function(u,d){return this.then(function(){var c=u in o.template.prop?this.prop[u]:this.opt[u];return d?d(c):c})},o.prototype.setMargin=function(u){return this.then(function(){switch(r(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},o.prototype.setPageSize=function(u){function d(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(u=u||ln.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:d(u.inner.width,u.k),height:d(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},o.prototype.setProgress=function(u,d,c,h){return u!=null&&(this.progress.val=u),d!=null&&(this.progress.state=d),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(u,d,c,h){return this.setProgress(u?this.progress.val+u:null,d||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},o.prototype.then=function(u,d){var c=this;return this.thenCore(u,d,function(h,g){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(x){return c.updateProgress(null,h),x}).then(h,g).then(function(x){return c.updateProgress(1),x})})},o.prototype.thenCore=function(u,d,c){c=c||Promise.prototype.then;var h=this;u&&(u=u.bind(h)),d&&(d=d.bind(h));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:o.convert(Object.assign({},h),Promise.prototype),x=c.call(g,u,d);return o.convert(x,h.__proto__)},o.prototype.thenExternal=function(u,d){return Promise.prototype.then.call(this,u,d)},o.prototype.thenList=function(u){var d=this;return u.forEach(function(c){d=d.thenCore(c)}),d},o.prototype.catch=function(u){u&&(u=u.bind(this));var d=Promise.prototype.catch.call(this,u);return o.convert(d,this)},o.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},o.prototype.error=function(u){return this.then(function(){throw new Error(u)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ln.getPageSize=function(u,d,c){if(Ur(u)==="object"){var h=u;u=h.orientation,d=h.unit||d,c=h.format||c}d=d||"mm",c=c||"a4",u=(""+(u||"P")).toLowerCase();var g,x=(""+c).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+d}var C,E=0,T=0;if(y.hasOwnProperty(x))E=y[x][1]/g,T=y[x][0]/g;else try{E=c[1],T=c[0]}catch{throw new Error("Invalid format: "+c)}if(u==="p"||u==="portrait")u="p",T>E&&(C=T,T=E,E=C);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",E>T&&(C=T,T=E,E=C)}return{width:T,height:E,unit:d,k:g,orientation:u}},e.html=function(u,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(N5):null;var c=new o(d);return d.worker?c:c.from(u).doCallback()}})(ln.API),ln.API.addJS=function(e){var t,n,r=(function(i){for(var a="",o=0;o<i.length;o++){var u=i[o];if(u==="("||u===")"){for(var d=0,c=o-1;c>=0&&i[c]==="\\";c--)d++;a+=d%2==0?"\\"+u:u}else a+=u}return a})(e);return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&n!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],u=r.exec(o);if(u!=null){var d=u[1];n.internal.newObjectDeferredBegin(d,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,h=[];for(a=0;a<c;a++){var g=n.internal.newObject();h.push(g);var x=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var y=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<h.length;a++)n.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+y+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var u=this.count=this.count_r({count:0},o);if(u>0&&this.line("/Count "+u),o.options&&o.options.pageNumber){var d=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])})(ln.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,a,o,u){var d,c=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,d=(function(g){for(var x,y=256*g.charCodeAt(4)+g.charCodeAt(5),C=g.length,E={width:0,height:0,numcomponents:1},T=4;T<C;T+=2){if(T+=y,t.indexOf(g.charCodeAt(T+1))!==-1){x=256*g.charCodeAt(T+5)+g.charCodeAt(T+6),E={width:256*g.charCodeAt(T+7)+g.charCodeAt(T+8),height:x,numcomponents:g.charCodeAt(T+9)};break}y=256*g.charCodeAt(T+2)+g.charCodeAt(T+3)}return E})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),d.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}h={data:n,width:d.width,height:d.height,colorSpace:u,bitsPerComponent:8,filter:c,index:r,alias:i}}return h}})(ln.API),ln.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=mme(e,{checkCrc:!0}),o=a.width,u=a.height,d=a.channels,c=a.palette,h=a.depth;i=c&&d===1?(function(J){for(var q=J.width,oe=J.height,H=J.data,G=J.palette,fe=J.depth,ee=!1,ae=[],ie=[],K=void 0,ve=!1,Te=0,we=0;we<G.length;we++){var ue=Aj(G[we],4),V=ue[0],he=ue[1],me=ue[2],Ce=ue[3];ae.push(V,he,me),Ce!=null&&(Ce===0?(Te++,ie.length<1&&ie.push(we)):Ce<255&&(ve=!0))}if(ve||Te>1){ee=!0,ie=void 0;var xe=q*oe;K=new Uint8Array(xe);for(var Me=new DataView(H.buffer),ze=0;ze<xe;ze++){var Oe=T5(Me,ze,fe),Ge=Aj(G[Oe],4)[3];K[ze]=Ge}}else Te===0&&(ie=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ee?8:void 0,colorBytes:H,alphaBytes:K,needSMask:ee,palette:ae,mask:ie}})(a):d===2||d===4?(function(J){for(var q=J.data,oe=J.width,H=J.height,G=J.channels,fe=J.depth,ee=G===2?"DeviceGray":"DeviceRGB",ae=G-1,ie=oe*H,K=ae,ve=ie*K,Te=1*ie,we=Math.ceil(ve*fe/8),ue=Math.ceil(Te*fe/8),V=new Uint8Array(we),he=new Uint8Array(ue),me=new DataView(q.buffer),Ce=new DataView(V.buffer),xe=new DataView(he.buffer),Me=!1,ze=0;ze<ie;ze++){for(var Oe=ze*G,Ge=0;Ge<K;Ge++)Nk(Ce,T5(me,Oe+Ge,fe),ze*K+Ge,fe);var Je=T5(me,Oe+K,fe);Je<(1<<fe)-1&&(Me=!0),Nk(xe,Je,1*ze,fe)}return{colorSpace:ee,colorsPerPixel:ae,sMaskBitsPerComponent:Me?fe:void 0,colorBytes:V,alphaBytes:he,needSMask:Me}})(a):(function(J){var q=J.data,oe=J.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:oe,colorsPerPixel:oe==="DeviceGray"?1:3,colorBytes:q instanceof Uint16Array?(function(H){for(var G=H.length,fe=new Uint8Array(2*G),ee=new DataView(fe.buffer,fe.byteOffset,fe.byteLength),ae=0;ae<G;ae++)ee.setUint16(2*ae,H[ae],!1);return fe})(q):q,needSMask:!1}})(a);var g,x,y,C=i,E=C.colorSpace,T=C.colorsPerPixel,I=C.sMaskBitsPerComponent,D=C.colorBytes,F=C.alphaBytes,U=C.needSMask,Z=C.palette,Q=C.mask,Y=null;return r!==ln.API.image_compression.NONE&&typeof i3=="function"?(Y=(function(J){var q;switch(J){case ln.API.image_compression.FAST:q=11;break;case ln.API.image_compression.MEDIUM:q=13;break;case ln.API.image_compression.SLOW:q=14;break;default:q=12}return q})(r),g=this.decode.FLATE_DECODE,x="/Predictor ".concat(Y," /Colors ").concat(T," /BitsPerComponent ").concat(h," /Columns ").concat(o),e=_k(D,Math.ceil(o*T*h/8),T,h,r),U&&(y=_k(F,Math.ceil(o*I/8),1,I,r))):(g=void 0,x=void 0,e=D,U&&(y=F)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:n,data:e,index:t,filter:g,decodeParameters:x,transparency:Q,palette:Z,sMask:y,predictor:Y,width:o,height:u,bitsPerComponent:h,sMaskBitsPerComponent:I,colorSpace:E}}},(function(e){e.processGIF89A=function(t,n,r,i){var a=new Dme(t),o=a.width,u=a.height,d=[];a.decodeAndBlitFrameRGBA(0,d);var c={data:d,width:o,height:u},h=new I5(100).encode(c,100);return e.processJPEG.call(this,h,n,r,i)},e.processGIF87A=e.processGIF89A})(ln.API),$l.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},$l.prototype.parseBGR=function(){this.pos=this.offset;var e="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[e]()}catch(n){ei.log("bit decode error:"+n)}},$l.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,u=0;u<8&&8*i+u<this.width;u++){var d=this.palette[a>>7-u&1];this.data[o+4*u]=d.blue,this.data[o+4*u+1]=d.green,this.data[o+4*u+2]=d.red,this.data[o+4*u+3]=255}n!==0&&(this.pos+=4-n)}},$l.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,u=a>>4,d=15&a,c=this.palette[u];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[d],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},$l.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},$l.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,u=(a>>5&t)/t*255|0,d=(a>>10&t)/t*255|0,c=a>>15?255:0,h=r*this.width*4+4*i;this.data[h]=d,this.data[h+1]=u,this.data[h+2]=o,this.data[h+3]=c}this.pos+=e}},$l.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&t)/t*255|0,d=(o>>5&n)/n*255|0,c=(o>>11)/t*255|0,h=i*this.width*4+4*a;this.data[h]=c,this.data[h+1]=d,this.data[h+2]=u,this.data[h+3]=255}this.pos+=e}},$l.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},$l.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*n;this.data[u]=a,this.data[u+1]=i,this.data[u+2]=r,this.data[u+3]=o}},$l.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,n,r,i){var a=new $l(t,!1),o=a.width,u=a.height,d={data:a.getData(),width:o,height:u},c=new I5(100).encode(d,100);return e.processJPEG.call(this,c,n,r,i)}})(ln.API),Tk.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,n,r,i){var a=new Tk(t),o=a.width,u=a.height,d={data:a.getData(),width:o,height:u},c=new I5(100).encode(d,100);return e.processJPEG.call(this,c,n,r,i)}})(ln.API),ln.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),u=0,d=0,c=0;c<i;c+=4){var h=r[c],g=r[c+1],x=r[c+2],y=r[c+3];a[u++]=h,a[u++]=g,a[u++]=x,o[d++]=y}var C=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:C,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ln.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Gh=ln.API,uv=Gh.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:i.metadata.Unicode.widths,d=u.fof?u.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,h=c.fof?c.fof:1,g=t.doKerning!==!1,x=0,y=e.length,C=0,E=u[0]||d,T=[];for(n=0;n<y;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?T.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(x=g&&Ur(c[r])==="object"&&!isNaN(parseInt(c[r][C],10))?c[r][C]/h:0,T.push((u[r]||E)/d+x)),C=r;return T},bk=Gh.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Gh.processArabic&&(e=Gh.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:uv.apply(this,arguments).reduce(function(a,o){return a+o},0)},xk=function(e,t,n,r){for(var i=[],a=0,o=e.length,u=0;a!==o&&u+t[a]<n;)u+=t[a],a++;i.push(e.slice(0,a));var d=a;for(u=0;a!==o;)u+t[a]>r&&(i.push(e.slice(d,a)),u=0,d=a),u+=t[a],a++;return d!==a&&i.push(e.slice(d,a)),i},wk=function(e,t,n){n||(n={});var r,i,a,o,u,d,c,h=[],g=[h],x=n.textIndent||0,y=0,C=0,E=e.split(" "),T=uv.apply(this,[" ",n])[0];if(d=n.lineIndent===-1?E[0].length+2:n.lineIndent||0){var I=Array(d).join(" "),D=[];E.map(function(U){(U=U.split(/\s*\n/)).length>1?D=D.concat(U.map(function(Z,Q){return(Q&&Z.length?`
`:"")+Z})):D.push(U[0])}),E=D,d=bk.apply(this,[I,n])}for(a=0,o=E.length;a<o;a++){var F=0;if(r=E[a],d&&r[0]==`
`&&(r=r.substr(1),F=1),x+y+(C=(i=uv.apply(this,[r,n])).reduce(function(U,Z){return U+Z},0))>t||F){if(C>t){for(u=xk.apply(this,[r,i,t-(x+y),t]),h.push(u.shift()),h=[u.pop()];u.length;)g.push([u.shift()]);C=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(U,Z){return U+Z},0)}else h=[r];g.push(h),x=C+d,y=T}else h.push(r),x+=y+C,y=T}return c=d?function(U,Z){return(Z?I:"")+U.join(" ")}:function(U){return U.join(" ")},g.map(c)},Gh.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var g=this.internal.getFont(h.fontName,h.fontStyle),x="Unicode";return g.metadata[x]?{widths:g.metadata[x].widths||{0:1},kerning:g.metadata[x].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var u,d,c=[];for(u=0,d=r.length;u<d;u++)c=c.concat(wk.apply(this,[r[u],o,a]));return c},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=t[a],i[t[a]]=n[a];var o=function(x){return"0x"+parseInt(x,10).toString(16)},u=e.__fontmetrics__.compress=function(x){var y,C,E,T,I=["{"];for(var D in x){if(y=x[D],isNaN(parseInt(D,10))?C="'"+D+"'":(D=parseInt(D,10),C=(C=o(D).slice(2)).slice(0,-1)+i[C.slice(-1)]),typeof y=="number")y<0?(E=o(y).slice(3),T="-"):(E=o(y).slice(2),T=""),E=T+E.slice(0,-1)+i[E.slice(-1)];else{if(Ur(y)!=="object")throw new Error("Don't know what to do with value type "+Ur(y)+".");E=u(y)}I.push(C+E)}return I.push("}"),I.join("")},d=e.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,C,E,T,I={},D=1,F=I,U=[],Z="",Q="",Y=x.length-1,J=1;J<Y;J+=1)(T=x[J])=="'"?y?(E=y.join(""),y=void 0):y=[]:y?y.push(T):T=="{"?(U.push([F,E]),F={},E=void 0):T=="}"?((C=U.pop())[0][C[1]]=F,E=void 0,F=C[0]):T=="-"?D=-1:E===void 0?r.hasOwnProperty(T)?(Z+=r[T],E=parseInt(Z,16)*D,D=1,Z=""):Z+=T:r.hasOwnProperty(T)?(Q+=r[T],F[E]=parseInt(Q,16)*D,D=1,E=void 0,Q=""):Q+=T;return I},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},g={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(x){var y=x.font,C=g.Unicode[y.postScriptName];C&&(y.metadata.Unicode={},y.metadata.Unicode.widths=C.widths,y.metadata.Unicode.kerning=C.kerning);var E=h.Unicode[y.postScriptName];E&&(y.metadata.Unicode.encoding=E,y.encoding=E.codePages[0])}])})(ln.API),(function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(Sv(u)),o.metadata=e.API.TTFFont.open(u),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])})(ln),ln.API.addSvgAsImage=function(e,t,n,r,i,a,o,u){if(isNaN(t)||isNaN(n))throw ei.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw ei.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=r,d.height=i;var c=d.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(Mn.canvg?Promise.resolve(Mn.canvg):c5(()=>import("./index.es-B95DE7N6.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(c,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(h)}).then(function(){g.addImage(d.toDataURL("image/jpeg",1),t,n,r,i,o,u)})},ln.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},ln.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(o),d=[],c=0,h=0,g=0;function x(C,E){var T,I=!1;for(T=0;T<C.length;T+=1)C[T]===E&&(I=!0);return I}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var y=u.length;for(g=0;g<y;g+=1)n[u[g]].value=n[u[g]].defaultValue,n[u[g]].explicitSet=!1}if(Ur(e)==="object"){for(i in e)if(a=e[i],x(u,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&x(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(c=0;c<a.length;c+=1)if(r=!0,a[c].length===1&&typeof a[c][0]=="number")d.push(String(a[c]-1));else if(a[c].length>1){for(h=0;h<a[c].length;h+=1)typeof a[c][h]!="number"&&(r=!1);r===!0&&d.push([a[c][0]-1,a[c][1]-1].join(" "))}n[i].value="["+d.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var C,E=[];for(C in n)n[C].explicitSet===!0&&(n[C].type==="name"?E.push("/"+C+" /"+n[C].value):E.push("/"+C+" "+n[C].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},ln.API.addMetadata=function(e,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:e,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",Bme),this.internal.events.subscribe("postPutResources",Lme)),this},(function(e){var t=e.API,n=t.pdfEscape16=function(a,o){for(var u,d=o.metadata.Unicode.widths,c=["","0","00","000","0000"],h=[""],g=0,x=a.length;g<x;++g){if(u=o.metadata.characterToGlyph(a.charCodeAt(g)),o.metadata.glyIdsUsed.push(u),o.metadata.toUnicode[u]=a.charCodeAt(g),d.indexOf(u)==-1&&(d.push(u),d.push([parseInt(o.metadata.widthOfGlyph(u),10)])),u=="0")return h.join("");u=u.toString(16),h.push(c[4-u.length],u)}return h.join("")},r=function(a){var o,u,d,c,h,g,x;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],g=0,x=(u=Object.keys(a).sort(function(y,C){return y-C})).length;g<x;g++)o=u[g],d.length>=100&&(h+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(c=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),d.push("<"+o+"><"+c+">"));return d.length&&(h+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var u=o.font,d=o.out,c=o.newObject,h=o.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="Identity-H"){for(var g=u.metadata.Unicode.widths,x=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),y="",C=0;C<x.length;C++)y+=String.fromCharCode(x[C]);var E=c();h({data:y,addLength1:!0,objectId:E}),d("endobj");var T=c();h({data:r(u.metadata.toUnicode),addLength1:!0,objectId:T}),d("endobj");var I=c();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Kh(u.fontName)),d("/FontFile2 "+E+" 0 R"),d("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),d("/Flags "+u.metadata.flags),d("/StemV "+u.metadata.stemV),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d(">>"),d("endobj");var D=c();d("<<"),d("/Type /Font"),d("/BaseFont /"+Kh(u.fontName)),d("/FontDescriptor "+I+" 0 R"),d("/W "+e.API.PDFObject.convert(g)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+u.encoding+")"),d(">>"),d(">>"),d("endobj"),u.objectNumber=c(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+T+" 0 R"),d("/BaseFont /"+Kh(u.fontName)),d("/Encoding /"+u.encoding),d("/DescendantFonts ["+D+" 0 R]"),d(">>"),d("endobj"),u.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var u=o.font,d=o.out,c=o.newObject,h=o.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var g=u.metadata.rawData,x="",y=0;y<g.length;y++)x+=String.fromCharCode(g[y]);var C=c();h({data:x,addLength1:!0,objectId:C}),d("endobj");var E=c();h({data:r(u.metadata.toUnicode),addLength1:!0,objectId:E}),d("endobj");var T=c();d("<<"),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d("/StemV "+u.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+C+" 0 R"),d("/Flags 96"),d("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),d("/FontName /"+Kh(u.fontName)),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d(">>"),d("endobj"),u.objectNumber=c();for(var I=0;I<u.metadata.hmtx.widths.length;I++)u.metadata.hmtx.widths[I]=parseInt(u.metadata.hmtx.widths[I]*(1e3/u.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+Kh(u.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),d("endobj"),u.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,u=a.text||"",d=a.x,c=a.y,h=a.options||{},g=a.mutex||{},x=g.pdfEscape,y=g.activeFontKey,C=g.fonts,E=y,T="",I=0,D="",F=C[E].encoding;if(C[E].encoding!=="Identity-H")return{text:u,x:d,y:c,options:h,mutex:g};for(D=u,E=y,Array.isArray(u)&&(D=u[0]),I=0;I<D.length;I+=1)C[E].metadata.hasOwnProperty("cmap")&&(o=C[E].metadata.cmap.unicode.codeMap[D[I].charCodeAt(0)]),o||D[I].charCodeAt(0)<256&&C[E].metadata.hasOwnProperty("Unicode")?T+=D[I]:T+="";var U="";return parseInt(E.slice(1))<14||F==="WinAnsiEncoding"?U=x(T,E).split("").map(function(Z){return Z.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(U=n(T,C[E])),g.isHex=!0,{text:U,x:d,y:c,options:h,mutex:g}};t.events.push(["postProcessText",function(a){var o=a.text||"",u=[],d={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?u.push([i(Object.assign({},d,{text:o[c][0]})).text,o[c][1],o[c][2]]):u.push(i(Object.assign({},d,{text:o[c]})).text);a.text=u}else a.text=i(Object.assign({},d,{text:o})).text}])})(ln),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(ln.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,a,o,u,d,c,h,g=t,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],C={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],I=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,F=0;this.__bidiEngine__={};var U=function(H){var G=H.charCodeAt(),fe=G>>8,ee=E[fe];return ee!==void 0?g[256*ee+(255&G)]:fe===252||fe===253?"AL":I.test(fe)?"L":fe===8?"R":"N"},Z=function(H){for(var G,fe=0;fe<H.length;fe++){if((G=U(H.charAt(fe)))==="L")return!1;if(G==="R")return!0}return!1},Q=function(H,G,fe,ee){var ae,ie,K,ve,Te=G[ee];switch(Te){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"N":case"AN":break;case"EN":D&&(Te="AN");break;case"AL":D=!0,Te="R";break;case"WS":case"BN":Te="N";break;case"CS":ee<1||ee+1>=G.length||(ae=fe[ee-1])!=="EN"&&ae!=="AN"||(ie=G[ee+1])!=="EN"&&ie!=="AN"?Te="N":D&&(ie="AN"),Te=ie===ae?ie:"N";break;case"ES":Te=(ae=ee>0?fe[ee-1]:"B")==="EN"&&ee+1<G.length&&G[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&fe[ee-1]==="EN"){Te="EN";break}if(D){Te="N";break}for(K=ee+1,ve=G.length;K<ve&&G[K]==="ET";)K++;Te=K<ve&&G[K]==="EN"?"EN":"N";break;case"NSM":if(o&&!u){for(ve=G.length,K=ee+1;K<ve&&G[K]==="NSM";)K++;if(K<ve){var we=H[ee],ue=we>=1425&&we<=2303||we===64286;if(ae=G[K],ue&&(ae==="R"||ae==="AL")){Te="R";break}}}Te=ee<1||(ae=G[ee-1])==="B"?"N":fe[ee-1];break;case"B":D=!1,i=!0,Te=F;break;case"S":a=!0,Te="N"}return Te},Y=function(H,G,fe){var ee=H.split("");return fe&&J(ee,fe,{hiLevel:F}),ee.reverse(),G&&G.reverse(),ee.join("")},J=function(H,G,fe){var ee,ae,ie,K,ve,Te=-1,we=H.length,ue=0,V=[],he=F?y:x,me=[];for(D=!1,i=!1,a=!1,ae=0;ae<we;ae++)me[ae]=U(H[ae]);for(ie=0;ie<we;ie++){if(ve=ue,V[ie]=Q(H,me,V,ie),ee=240&(ue=he[ve][C[V[ie]]]),ue&=15,G[ie]=K=he[ue][5],ee>0)if(ee===16){for(ae=Te;ae<ie;ae++)G[ae]=1;Te=-1}else Te=-1;if(he[ue][6])Te===-1&&(Te=ie);else if(Te>-1){for(ae=Te;ae<ie;ae++)G[ae]=K;Te=-1}me[ie]==="B"&&(G[ie]=0),fe.hiLevel|=K}a&&(function(Ce,xe,Me){for(var ze=0;ze<Me;ze++)if(Ce[ze]==="S"){xe[ze]=F;for(var Oe=ze-1;Oe>=0&&Ce[Oe]==="WS";Oe--)xe[Oe]=F}})(me,G,we)},q=function(H,G,fe,ee,ae){if(!(ae.hiLevel<H)){if(H===1&&F===1&&!i)return G.reverse(),void(fe&&fe.reverse());for(var ie,K,ve,Te,we=G.length,ue=0;ue<we;){if(ee[ue]>=H){for(ve=ue+1;ve<we&&ee[ve]>=H;)ve++;for(Te=ue,K=ve-1;Te<K;Te++,K--)ie=G[Te],G[Te]=G[K],G[K]=ie,fe&&(ie=fe[Te],fe[Te]=fe[K],fe[K]=ie);ue=ve}ue++}}},oe=function(H,G,fe){var ee=H.split(""),ae={hiLevel:F};return fe||(fe=[]),J(ee,fe,ae),(function(ie,K,ve){if(ve.hiLevel!==0&&h)for(var Te,we=0;we<ie.length;we++)K[we]===1&&(Te=T.indexOf(ie[we]))>=0&&(ie[we]=T[Te+1])})(ee,fe,ae),q(2,ee,G,fe,ae),q(1,ee,G,fe,ae),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(H,G,fe){if((function(ae,ie){if(ie)for(var K=0;K<ae.length;K++)ie[K]=K;u===void 0&&(u=Z(ae)),c===void 0&&(c=Z(ae))})(H,G),o||!d||c)if(o&&d&&u^c)F=u?1:0,H=Y(H,G,fe);else if(!o&&d&&c)F=u?1:0,H=oe(H,G,fe),H=Y(H,G);else if(!o||u||d||c){if(o&&!d&&u^c)H=Y(H,G),u?(F=0,H=oe(H,G,fe)):(F=1,H=oe(H,G,fe),H=Y(H,G));else if(o&&u&&!d&&c)F=1,H=oe(H,G,fe),H=Y(H,G);else if(!o&&!d&&u^c){var ee=h;u?(F=1,H=oe(H,G,fe),F=0,h=!1,H=oe(H,G,fe),h=ee):(F=0,H=oe(H,G,fe),H=Y(H,G),F=1,h=!1,H=oe(H,G,fe),h=ee,H=Y(H,G))}}else F=0,H=oe(H,G,fe);else F=u?1:0,H=oe(H,G,fe);return H},this.__bidiEngine__.setOptions=function(H){H&&(o=H.isInputVisual,d=H.isOutputVisual,u=H.isInputRtl,c=H.isOutputRtl,h=H.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var u=0;for(o=[],u=0;u<i.length;u+=1)Object.prototype.toString.call(i[u])==="[object Array]"?o.push([n.doBidiReorder(i[u][0]),i[u][1],i[u][2]]):o.push([n.doBidiReorder(i[u])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(ln),ln.API.TTFFont=(function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Bf(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Jme(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Fme(this.contents),this.head=new zme(this),this.name=new Wme(this),this.cmap=new tB(this),this.toUnicode={},this.hhea=new qme(this),this.maxp=new Vme(this),this.hmtx=new Yme(this),this.post=new Gme(this),this.os2=new Hme(this),this.loca=new Qme(this),this.glyf=new Xme(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,u,d,c;for(c=[],o=0,u=(d=this.bbox).length;o<u;o++)t=d[o],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,a,o,u;for(o=0,a=0,u=(t=""+t).length;0<=u?a<u:a>u;a=0<=u?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e})();var cc,Bf=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,a,o,u,d;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),u=this.readByte(),d=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^u)+(255^d)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*o+256*u+d},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,a;for(a=[],r=0,i=t.length;r<i;r++)n=t[r],a.push(this.writeByte(n));return a},e})(),Fme=(function(){var e;function t(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,a,o,u,d,c,h,g,x,y,C,E;for(E in y=Object.keys(n).length,d=Math.log(2),g=16*Math.floor(Math.log(y)/d),o=Math.floor(g/d),h=16*y-g,(i=new Bf).writeInt(this.scalarType),i.writeShort(y),i.writeShort(g),i.writeShort(o),i.writeShort(h),a=16*y,c=i.pos+a,u=null,C=[],n)for(x=n[E],i.writeString(E),i.writeInt(e(x)),i.writeInt(c),i.writeInt(x.length),C=C.concat(x),E==="head"&&(u=c),c+=x.length;c%4;)C.push(0),c++;return i.write(C),r=2981146554-e(i.data),i.pos=u+8,i.writeUInt32(r),i.data},e=function(n){var r,i,a,o;for(n=nB.call(n);n.length%4;)n.push(0);for(a=new Bf(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},t})(),Ume={}.hasOwnProperty,Wc=function(e,t){for(var n in t)Ume.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};cc=(function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var zme=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wc(e,cc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new Bf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e})(),Ik=(function(){function e(t,n){var r,i,a,o,u,d,c,h,g,x,y,C,E,T,I,D,F;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),g=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=t.readByte();break;case 4:for(y=t.readUInt16(),x=y/2,t.pos+=6,a=(function(){var U,Z;for(Z=[],d=U=0;0<=x?U<x:U>x;d=0<=x?++U:--U)Z.push(t.readUInt16());return Z})(),t.pos+=2,E=(function(){var U,Z;for(Z=[],d=U=0;0<=x?U<x:U>x;d=0<=x?++U:--U)Z.push(t.readUInt16());return Z})(),c=(function(){var U,Z;for(Z=[],d=U=0;0<=x?U<x:U>x;d=0<=x?++U:--U)Z.push(t.readUInt16());return Z})(),h=(function(){var U,Z;for(Z=[],d=U=0;0<=x?U<x:U>x;d=0<=x?++U:--U)Z.push(t.readUInt16());return Z})(),i=(this.length-t.pos+this.offset)/2,u=(function(){var U,Z;for(Z=[],d=U=0;0<=i?U<i:U>i;d=0<=i?++U:--U)Z.push(t.readUInt16());return Z})(),d=I=0,F=a.length;I<F;d=++I)for(T=a[d],r=D=C=E[d];C<=T?D<=T:D>=T;r=C<=T?++D:--D)h[d]===0?o=r+c[d]:(o=u[h[d]/2+(r-C)-(x-d)]||0)!==0&&(o+=c[d]),this.codeMap[r]=65535&o}t.pos=g}return e.encode=function(t,n){var r,i,a,o,u,d,c,h,g,x,y,C,E,T,I,D,F,U,Z,Q,Y,J,q,oe,H,G,fe,ee,ae,ie,K,ve,Te,we,ue,V,he,me,Ce,xe,Me,ze,Oe,Ge,Je,qe;switch(ee=new Bf,o=Object.keys(t).sort(function(lt,bt){return lt-bt}),n){case"macroman":for(E=0,T=(function(){var lt=[];for(C=0;C<256;++C)lt.push(0);return lt})(),D={0:0},a={},ae=0,Te=o.length;ae<Te;ae++)D[Oe=t[i=o[ae]]]==null&&(D[Oe]=++E),a[i]={old:t[i],new:D[t[i]]},T[i]=D[t[i]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(T),{charMap:a,subtable:ee.data,maxGlyphID:E+1};case"unicode":for(G=[],g=[],F=0,D={},r={},I=c=null,ie=0,we=o.length;ie<we;ie++)D[Z=t[i=o[ie]]]==null&&(D[Z]=++F),r[i]={old:Z,new:D[Z]},u=D[Z]-i,I!=null&&u===c||(I&&g.push(I),G.push(i),c=u),I=i;for(I&&g.push(I),g.push(65535),G.push(65535),oe=2*(q=G.length),J=2*Math.pow(Math.log(q)/Math.LN2,2),x=Math.log(J/2)/Math.LN2,Y=2*q-J,d=[],Q=[],y=[],C=K=0,ue=G.length;K<ue;C=++K){if(H=G[C],h=g[C],H===65535){d.push(0),Q.push(0);break}if(H-(fe=r[H].new)>=32768)for(d.push(0),Q.push(2*(y.length+q-C)),i=ve=H;H<=h?ve<=h:ve>=h;i=H<=h?++ve:--ve)y.push(r[i].new);else d.push(fe-H),Q.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*q+2*y.length),ee.writeUInt16(0),ee.writeUInt16(oe),ee.writeUInt16(J),ee.writeUInt16(x),ee.writeUInt16(Y),Me=0,V=g.length;Me<V;Me++)i=g[Me],ee.writeUInt16(i);for(ee.writeUInt16(0),ze=0,he=G.length;ze<he;ze++)i=G[ze],ee.writeUInt16(i);for(Ge=0,me=d.length;Ge<me;Ge++)u=d[Ge],ee.writeUInt16(u);for(Je=0,Ce=Q.length;Je<Ce;Je++)U=Q[Je],ee.writeUInt16(U);for(qe=0,xe=y.length;qe<xe;qe++)E=y[qe],ee.writeUInt16(E);return{charMap:r,subtable:ee.data,maxGlyphID:F+1}}},e})(),tB=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wc(e,cc),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,r,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new Ik(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var r,i;return n==null&&(n="macroman"),r=Ik.encode(t,n),(i=new Bf).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},e})(),qme=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wc(e,cc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),Hme=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wc(e,cc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(t.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(t.readInt());return r})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(t.readInt());return r})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),Gme=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wc(e,cc),e.prototype.tag="post",e.prototype.parse=function(t){var n,r,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var o,u,d;for(d=[],a=o=0,u=this.file.maxp.numGlyphs;0<=u?o<u:o>u;a=0<=u?++o:--o)d.push(t.readUInt32());return d}).call(this)}},e})(),$me=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Wme=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wc(e,cc),e.prototype.tag="name",e.prototype.parse=function(t){var n,r,i,a,o,u,d,c,h,g,x;for(t.pos=this.offset,t.readShort(),n=t.readShort(),u=t.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(d={},a=h=0,g=r.length;h<g;a=++h)i=r[a],t.pos=i.offset,c=t.readString(i.length),o=new $me(c,i),d[x=i.nameID]==null&&(d[x]=[]),d[i.nameID].push(o);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e})(),Vme=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wc(e,cc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),Yme=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wc(e,cc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,r,i,a,o,u,d;for(t.pos=this.offset,this.metrics=[],n=0,u=this.file.hhea.numberOfMetrics;0<=u?n<u:n>u;n=0<=u?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,h;for(h=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)h.push(t.readInt16());return h})(),this.widths=(function(){var c,h,g,x;for(x=[],c=0,h=(g=this.metrics).length;c<h;c++)a=g[c],x.push(a.advance);return x}).call(this),r=this.widths[this.widths.length-1],d=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)d.push(this.widths.push(r));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),nB=[].slice,Xme=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wc(e,cc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,r,i,a,o,u,d,c,h,g;return t in this.cache?this.cache[t]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+r,o=(u=new Bf(n.read(i))).readShort(),c=u.readShort(),g=u.readShort(),d=u.readShort(),h=u.readShort(),this.cache[t]=o===-1?new Zme(u,c,g,d,h):new Kme(u,o,c,g,d,h),this.cache[t]))},e.prototype.encode=function(t,n,r){var i,a,o,u,d;for(o=[],a=[],u=0,d=n.length;u<d;u++)i=t[n[u]],a.push(o.length),i&&(o=o.concat(i.encode(r)));return a.push(o.length),{table:o,offsets:a}},e})(),Kme=(function(){function e(t,n,r,i,a,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),Zme=(function(){function e(t,n,r,i,a){var o,u;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;u=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&u;)o.pos+=1&u?4:2,128&u?o.pos+=8:64&u?o.pos+=4:8&u&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Bf(nB.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e})(),Qme=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wc(e,cc),e.prototype.tag="loca",e.prototype.parse=function(t){var n,r;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<r.length;++o)if(r[o]=i,a<n.length&&n[a]==o){++a,r[o]=i;var u=this.offsets[o],d=this.offsets[o+1]-u;d>0&&(i+=d)}for(var c=new Array(4*r.length),h=0;h<r.length;++h)c[4*h+3]=255&r[h],c[4*h+2]=(65280&r[h])>>8,c[4*h+1]=(16711680&r[h])>>16,c[4*h]=(4278190080&r[h])>>24;return c},e})(),Jme=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,a,o,u,d;for(i={},o=0,u=t.length;o<u;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in d=this.glyphsFor(n))r=d[a],i[a]=r;return i},e.prototype.encode=function(t,n){var r,i,a,o,u,d,c,h,g,x,y,C,E,T,I;for(i in r=tB.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),y={0:0},I=r.charMap)y[(d=I[i]).old]=d.new;for(C in x=r.maxGlyphID,o)C in y||(y[C]=x++);return h=(function(D){var F,U;for(F in U={},D)U[D[F]]=F;return U})(y),g=Object.keys(h).sort(function(D,F){return D-F}),E=(function(){var D,F,U;for(U=[],D=0,F=g.length;D<F;D++)u=g[D],U.push(h[u]);return U})(),a=this.font.glyf.encode(o,E,y),c=this.font.loca.encode(a.offsets,E),T={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},e})();ln.API.PDFObject=(function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+(function(){var u,d,c;for(c=[],u=0,d=n.length;u<d;u++)r=n[u],c.push(t.convert(r));return c})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+n},t})();function ege({isOpen:e,onClose:t,paquete:n}){const[r,i]=R.useState(n),[a,o]=R.useState(!1),[u,d]=R.useState(!1),c=R.useRef(null);R.useEffect(()=>{i(n),o(!1)},[n]),R.useEffect(()=>{if(e&&c.current&&r.trackingOriginal)try{o1e(c.current,r.trackingOriginal,{format:"CODE128",lineColor:"#000",width:2,height:50,displayValue:!1,margin:0})}catch{console.error("Barcode generation failed for:",r.trackingOriginal)}},[e,r.trackingOriginal,a]);const h=async()=>{d(!0);try{const g=new ln({orientation:"portrait",unit:"mm",format:[101.6,152.4]});if(g.setFont("helvetica"),g.setFontSize(10),g.setFont("helvetica","bold"),g.text("YOUBOX LOGISTICS",5,10),g.setFontSize(8),g.setFont("helvetica","normal"),g.text("Miami Processing Center, FL",5,14),g.setFontSize(24),g.setFont("helvetica","bold"),g.text(r.bodegaDestino,96,14,{align:"right"}),g.setLineWidth(.5),g.line(5,18,96,18),g.setFontSize(10),g.setFont("helvetica","normal"),g.text("SHIP TO:",5,25),g.setFontSize(36),g.setFont("helvetica","bold"),g.text(r.clienteCasillero||"N/A",5,40),g.setFontSize(14),g.text((r.clienteNombre||"CLIENTE NO ASIGNADO").toUpperCase(),5,50),g.line(5,56,96,56),g.setFontSize(12),g.setFont("helvetica","bold"),g.text(`PIEZAS: ${r.piezas}`,5,65),g.text(`PESO: ${r.pesoLbs} LBS`,50,65),g.setFontSize(10),g.setFont("helvetica","normal"),g.text(`REMITENTE: ${r.remitenteInfo||"NO ESPECIFICADO"}`,5,75),g.line(5,82,96,82),c.current){const x=new XMLSerializer().serializeToString(c.current),y=document.createElement("canvas"),C=y.getContext("2d"),E=new Image;E.onload=()=>{if(y.width=E.width,y.height=E.height,C){C.fillStyle="white",C.fillRect(0,0,y.width,y.height),C.drawImage(E,0,0);const T=y.toDataURL("image/png");g.addImage(T,"PNG",10,95,80,25),g.setFontSize(11),g.setFont("helvetica","bold"),g.text(r.trackingOriginal,50.8,125,{align:"center"}),g.autoPrint();const I=g.output("bloburl");window.open(I,"_blank"),d(!1)}},E.src="data:image/svg+xml;base64,"+btoa(x)}else d(!1)}catch(g){console.error(g),alert("Error al generar PDF de la etiqueta."),d(!1)}};return e?_.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/80 backdrop-blur-sm p-4 animate-in fade-in",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col animate-in zoom-in-95",children:[_.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-100",children:[_.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[_.jsx(zC,{className:"h-5 w-5"}),_.jsx("h2",{className:"text-lg font-bold text-slate-800",children:'Generar Etiqueta 4x6"'})]}),_.jsx("button",{onClick:t,className:"p-2 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-full transition-colors",children:_.jsx(Ou,{className:"h-5 w-5"})})]}),_.jsxs("div",{className:"p-6 bg-slate-50 flex-1 overflow-y-auto",children:[_.jsx("div",{className:"hidden",children:_.jsx("svg",{ref:c})}),a?_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"bg-blue-50 text-blue-800 p-3 rounded-md text-sm mb-4",children:["Estas modificaciones solo aplicarn a la ",_.jsx("strong",{children:"impresin fsica"})," de la etiqueta, no alteran la base de datos oficial."]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Tracking (Cdigo de Barras)"}),_.jsx("input",{type:"text",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",value:r.trackingOriginal,onChange:g=>i({...r,trackingOriginal:g.target.value})})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Casillero (Grande)"}),_.jsx("input",{type:"text",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm font-bold uppercase",value:r.clienteCasillero,onChange:g=>i({...r,clienteCasillero:g.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Destino (Sucursal)"}),_.jsx("input",{type:"text",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm uppercase",value:r.bodegaDestino,onChange:g=>i({...r,bodegaDestino:g.target.value})})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Nombre Cliente"}),_.jsx("input",{type:"text",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",value:r.clienteNombre,onChange:g=>i({...r,clienteNombre:g.target.value})})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Peso (Lbs)"}),_.jsx("input",{type:"number",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",value:r.pesoLbs,onChange:g=>i({...r,pesoLbs:Number(g.target.value)})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Piezas"}),_.jsx("input",{type:"number",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",value:r.piezas,onChange:g=>i({...r,piezas:Number(g.target.value)})})]})]}),_.jsxs("button",{onClick:()=>o(!1),className:"w-full flex justify-center items-center gap-2 px-4 py-2 mt-2 border border-transparent text-sm font-medium rounded-md text-white bg-slate-800 hover:bg-slate-700",children:[_.jsx(Pf,{className:"h-4 w-4"}),"Guardar Borrador"]})]}):_.jsxs("div",{className:"bg-white border text-center border-slate-300 rounded-lg p-6 shadow-sm mx-auto max-w-[320px] aspect-[4/6] flex flex-col relative group",children:[_.jsx("button",{onClick:()=>o(!0),className:"absolute top-2 right-2 p-2 bg-white/80 hover:bg-slate-100 rounded-md text-slate-400 hover:text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity",title:"Modificar Informacin",children:_.jsx(v$,{className:"h-4 w-4"})}),_.jsxs("div",{className:"flex justify-between items-start mb-2",children:[_.jsxs("div",{className:"text-left",children:[_.jsx("p",{className:"text-[10px] font-bold",children:"YOUBOX LOGISTICS"}),_.jsx("p",{className:"text-[8px] text-slate-500",children:"Miami, FL"})]}),_.jsx("h3",{className:"text-xl font-bold bg-slate-100 px-2 py-0.5 rounded",children:r.bodegaDestino})]}),_.jsx("hr",{className:"my-2 border-slate-200 border-2"}),_.jsxs("div",{className:"text-left mt-2 flex-1",children:[_.jsx("p",{className:"text-[10px] text-slate-500",children:"SHIP TO:"}),_.jsx("h2",{className:"text-4xl font-black mt-1 leading-none",children:r.clienteCasillero||"N/A"}),_.jsx("p",{className:"text-sm font-bold mt-2 truncate w-full",children:r.clienteNombre.toUpperCase()})]}),_.jsx("hr",{className:"my-2 border-slate-200"}),_.jsxs("div",{className:"flex justify-between text-xs font-bold my-2 px-2",children:[_.jsxs("p",{children:["PZ: ",r.piezas]}),_.jsxs("p",{children:["WT: ",r.pesoLbs," LBS"]})]}),_.jsxs("div",{className:"mb-4 text-center mx-auto bg-white p-2 border border-slate-100 rounded",children:[_.jsx("div",{className:"w-full h-12 bg-slate-900 mx-auto",style:{backgroundImage:"repeating-linear-gradient(90deg, transparent, transparent 2px, white 2px, white 4px)",backgroundSize:"10px 100%"}}),_.jsx("p",{className:"text-xs font-mono font-bold mt-1 tracking-widest",children:r.trackingOriginal.substring(0,25)})]})]})]}),_.jsxs("div",{className:"p-4 bg-white border-t border-slate-100 flex gap-3",children:[_.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-50",children:"Cancelar"}),_.jsxs("button",{onClick:h,disabled:u||a,className:"flex-1 inline-flex justify-center items-center gap-2 px-4 py-2 text-sm font-bold text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50",children:[u?_.jsx(Ss,{className:"h-4 w-4 animate-spin"}):_.jsx(zC,{className:"h-4 w-4"}),u?"Procesando...":"Mandat Imprimir"]})]})]})}):null}const jk={recibido:{label:"Recibido",color:"bg-blue-100 text-blue-700 ring-blue-600/20"},en_bodega:{label:"En Bodega",color:"bg-purple-100 text-purple-700 ring-purple-600/20"},listo_consolidar:{label:"Listo Consolidar",color:"bg-indigo-100 text-indigo-700 ring-indigo-600/20"},consolidado:{label:"Consolidado",color:"bg-amber-100 text-amber-700 ring-amber-600/20"},en_transito:{label:"En Trnsito",color:"bg-orange-100 text-orange-700 ring-orange-600/20"},entregado:{label:"Entregado",color:"bg-green-100 text-green-700 ring-green-600/20"},devuelto:{label:"Devuelto",color:"bg-red-100 text-red-700 ring-red-600/20"},perdido:{label:"Perdido",color:"bg-slate-100 text-slate-700 ring-slate-600/20"}};function tge(){const{user:e,isAdmin:t}=Aa(),[n,r]=R.useState([]),[i,a]=R.useState(!0),[o,u]=R.useState(null);R.useEffect(()=>{d()},[e]);async function d(){if(e)try{a(!0);let c=Tt.from("paquetes").select(`
          id, tracking, peso_lbs, estado, fecha_recepcion,
          bodegas (nombre),
          clientes (nombre, apellido, locker_id),
          transportistas (nombre)
        `).order("fecha_recepcion",{ascending:!1});t||(c=c.eq("cliente_id",e.id));const{data:h,error:g}=await c;if(g)throw g;r(h||[])}catch(c){console.error("Error fetching paquetes:",c)}finally{a(!1)}}return _.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:t?"Control de Inventario":"Mis Paquetes"}),_.jsx("p",{className:"text-sm text-slate-500",children:t?"Gestin de paquetes en almacn (Warehouses).":"Rastrea el estado de tus compras."})]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsxs("button",{className:"inline-flex items-center gap-2 rounded-md bg-white px-4 py-2 text-sm font-medium text-slate-700 shadow-sm ring-1 ring-inset ring-slate-300 hover:bg-slate-50",children:[_.jsx(DG,{className:"h-4 w-4"}),"Filtros"]}),t&&_.jsxs("button",{className:"inline-flex items-center gap-2 rounded-md bg-white px-4 py-2 text-sm font-medium text-slate-700 shadow-sm ring-1 ring-inset ring-slate-300 hover:bg-slate-50",children:[_.jsx(CM,{className:"h-4 w-4"}),"Exportar"]})]})]}),_.jsx("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden",children:_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[_.jsx("thead",{className:"bg-slate-50",children:_.jsxs("tr",{children:[_.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-slate-900 sm:pl-6",children:"Tracking / Envo"}),t&&_.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900",children:"Cliente"}),_.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900 hidden sm:table-cell",children:"Ingreso"}),_.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900 hidden sm:table-cell",children:"Peso"}),_.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900 hidden md:table-cell",children:"Ubicacin"}),_.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900",children:"Estatus"}),t&&_.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:_.jsx("span",{className:"sr-only",children:"Acciones"})})]})}),_.jsx("tbody",{className:"divide-y divide-slate-200 bg-white",children:i?_.jsx("tr",{children:_.jsx("td",{colSpan:7,className:"py-16 text-center text-slate-500 text-sm",children:"Cargando paquetes..."})}):n.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:7,className:"py-16 text-center",children:_.jsxs("div",{className:"flex flex-col items-center gap-2 text-slate-400",children:[_.jsx(Y2,{className:"h-10 w-10 text-slate-300"}),_.jsx("p",{className:"text-sm font-medium text-slate-500",children:"No hay paquetes registrados"}),_.jsx("p",{className:"text-xs",children:"Los paquetes aparecern aqu cuando lleguen a nuestras bodegas."})]})})}):n.map(c=>{var h,g,x,y,C,E,T;return _.jsxs("tr",{className:"hover:bg-slate-50",children:[_.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 sm:pl-6",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"rounded-md bg-blue-50 p-2 hidden sm:block",children:_.jsx(Fc,{className:"h-4 w-4 text-blue-600"})}),_.jsxs("div",{children:[_.jsx("div",{className:"font-medium text-slate-900 text-sm",children:c.tracking}),_.jsx("div",{className:"text-xs text-slate-500",children:((h=c.transportistas)==null?void 0:h.nombre)||"Carrier"}),_.jsxs("div",{className:"sm:hidden text-xs text-slate-400 mt-1",children:[c.peso_lbs," lbs  ",c.fecha_recepcion?nl(new Date(c.fecha_recepcion),"dd/MM",{locale:Lf}):"N/A"]})]})]})}),t&&_.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600",children:[(g=c.clientes)==null?void 0:g.nombre," ",(x=c.clientes)==null?void 0:x.apellido," ",_.jsx("br",{}),_.jsx("span",{className:"text-xs text-blue-600 font-medium",children:(y=c.clientes)==null?void 0:y.locker_id})]}),_.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600 hidden sm:table-cell",children:c.fecha_recepcion?nl(new Date(c.fecha_recepcion),"dd MMM yyyy",{locale:Lf}):"N/A"}),_.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600 font-medium hidden sm:table-cell",children:[c.peso_lbs," lbs"]}),_.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600 hidden md:table-cell",children:((C=c.bodegas)==null?void 0:C.nombre)||"Bodega General"}),_.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm",children:_.jsx("span",{className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset ${((E=jk[c.estado])==null?void 0:E.color)||"bg-slate-50 text-slate-600 ring-slate-500/10"}`,children:((T=jk[c.estado])==null?void 0:T.label)||c.estado})}),t&&_.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:_.jsxs("div",{className:"flex items-center justify-end gap-3",children:[_.jsx("button",{onClick:()=>{var I,D,F,U,Z;return u({remitenteInfo:((I=c.transportistas)==null?void 0:I.nombre)||"",trackingOriginal:c.tracking,clienteCasillero:((D=c.clientes)==null?void 0:D.locker_id)||"",clienteNombre:`${((F=c.clientes)==null?void 0:F.nombre)||""} ${((U=c.clientes)==null?void 0:U.apellido)||""}`.trim(),bodegaDestino:((Z=c.bodegas)==null?void 0:Z.nombre)||"General",pesoLbs:c.peso_lbs,piezas:1})},className:"text-slate-400 hover:text-blue-600 transition-colors",title:"Imprimir Etiqueta",children:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),_.jsx("path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6"}),_.jsx("rect",{x:"6",y:"14",width:"12",height:"8",rx:"1"})]})}),_.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:"Editar"})]})})]},c.id)})})]})})}),o&&_.jsx(ege,{isOpen:!!o,onClose:()=>u(null),paquete:o})]})}const kk=["Creado","En trnsito","SAT","Pago de Impuestos","Oficina Quetzaltenango","Entregado","ALERTA","SEGURO","Update Mobile"];function nge({consolidacionId:e,codigoMaster:t,onClose:n,onUpdate:r}){const{user:i}=Aa(),[a,o]=R.useState([]),[u,d]=R.useState(!0),[c,h]=R.useState(!1),[g,x]=R.useState(kk[0]),[y,C]=R.useState(new Date().toISOString().split("T")[0]),[E,T]=R.useState(""),[I,D]=R.useState(""),[F,U]=R.useState(!1),[Z,Q]=R.useState(!1);R.useEffect(()=>{Y()},[e]);async function Y(){d(!0);try{const{data:oe,error:H}=await Tt.from("historial_consolidaciones").select("*, usuarios(nombre, apellido)").eq("consolidacion_id",e).order("fecha_evento",{ascending:!1}).order("created_at",{ascending:!1});if(H)throw H;o(oe||[])}catch(oe){console.error("Error fetching tracking history:",oe)}finally{d(!1)}}const J=async oe=>{if(oe.preventDefault(),!g||!y){alert("Completar campos obligatorios (Fecha y Estado).");return}h(!0);try{const{error:H}=await Tt.from("historial_consolidaciones").insert([{consolidacion_id:e,estado:g,ciudad:E||null,comentario:I||null,notificar_wa:F,notificar_email:Z,creado_por:i==null?void 0:i.id,fecha_evento:new Date(y).toISOString()}]);if(H)throw H;const fe={Creado:"abierta","En trnsito":"en_transito",Entregado:"entregada"}[g]||"en_transito";await Tt.from("consolidaciones").update({estado:fe}).eq("id",e);const{data:ee}=await Tt.from("consolidacion_paquetes").select("paquete_id").eq("consolidacion_id",e);if(ee&&ee.length>0){const ae=ee.map(ve=>ve.paquete_id);let ie="";g==="Creado"?ie="consolidado":["En trnsito","SAT","Pago de Impuestos","Oficina Quetzaltenango"].includes(g)?ie="en_transito":g==="Entregado"&&(ie="entregado"),ie&&await Tt.from("paquetes").update({estado:ie}).in("id",ae);const K=ae.map(ve=>({paquete_id:ve,estado_anterior:"Actualizacin Automtica",estado_nuevo:ie||"en_transito",usuario_id:i==null?void 0:i.id,notas:`[Actualizacin de Contenedor Master ${t}] - ${g}${E?` en ${E}`:""}. ${I||""}`.trim()}));if(await Tt.from("historial_estados").insert(K),Z){const{data:ve}=await Tt.from("paquetes").select("cliente_id, clientes(nombre, apellido)").in("id",ae);if(ve){const Te=new Map;ve.forEach(ue=>{ue.cliente_id&&ue.clientes&&!Te.has(ue.cliente_id)&&Te.set(ue.cliente_id,ue.clientes)});const we=Array.from(Te.entries());if(we.length>0){const ue=we.map(([V,he])=>({cliente_id:V,tipo:"email",asunto:`Actualizacin de Envo - Master ${t}`,mensaje:`Hola ${he.nombre},

Tu paquete perteneciente al viaje ${t} ha sido actualizado al siguiente estado: **${g}**${E?` en ${E}`:""}.

${I?"Nota: "+I:""}

Gracias por confiar en nosotros.`,estado:"pendiente"}));await Tt.from("notificaciones").insert(ue)}}}}T(""),D(""),U(!1),Q(!1),await Y(),r()}catch(H){alert("Error guardando estatus: "+H.message),console.error(H)}finally{h(!1)}},q=oe=>{switch(oe){case"Creado":return _.jsx(N3,{className:"h-5 w-5 text-blue-500"});case"En trnsito":return _.jsx(jp,{className:"h-5 w-5 text-blue-500"});case"SAT":return _.jsx(E3,{className:"h-5 w-5 text-orange-500"});case"Pago de Impuestos":return _.jsx(Q5,{className:"h-5 w-5 text-indigo-500"});case"Oficina Quetzaltenango":return _.jsx(Jl,{className:"h-5 w-5 text-teal-600"});case"Entregado":return _.jsx(u$,{className:"h-5 w-5 text-green-600"});case"ALERTA":return _.jsx(G$,{className:"h-5 w-5 text-red-500"});case"SEGURO":return _.jsx(Q5,{className:"h-5 w-5 text-blue-700"});case"Update Mobile":return _.jsx(M$,{className:"h-5 w-5 text-slate-600"});default:return _.jsx(Y5,{className:"h-5 w-5 text-slate-400"})}};return _.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-5xl max-h-[90vh] flex flex-col overflow-hidden animate-in zoom-in-95 duration-200",children:[_.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100 bg-slate-50",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-xl font-bold text-slate-800 tracking-tight",children:"Estatus de Consolidado"}),_.jsxs("p",{className:"text-sm text-slate-500 font-medium mt-0.5",children:["Master: ",_.jsx("span",{className:"text-blue-600 font-bold",children:t})]})]}),_.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:bg-slate-200 hover:text-slate-600 rounded-full transition-colors",children:_.jsx(Ou,{className:"h-5 w-5"})})]}),_.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[_.jsxs("div",{className:"w-full md:w-1/2 p-6 overflow-y-auto border-r border-slate-100 bg-white",children:[_.jsxs("div",{className:"mb-6 pb-2 border-b border-slate-100 flex items-center gap-2",children:[_.jsx("div",{className:"p-1.5 bg-blue-100 text-blue-600 rounded-lg",children:_.jsx(O$,{className:"h-4 w-4"})}),_.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Nuevo Estatus"})]}),_.jsxs("form",{onSubmit:J,className:"space-y-5",children:[_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{className:"space-y-1.5",children:[_.jsxs("label",{className:"text-sm font-semibold text-slate-700 flex items-center gap-1.5 hover:text-blue-600 cursor-pointer group",children:[_.jsx(ap,{className:"h-3.5 w-3.5 text-slate-400 group-hover:text-blue-500"})," Fecha ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("input",{type:"date",required:!0,value:y,onChange:oe=>C(oe.target.value),className:"block w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm h-10 px-3"})]}),_.jsxs("div",{className:"space-y-1.5",children:[_.jsxs("label",{className:"text-sm font-semibold text-slate-700 flex items-center gap-1.5",children:["Estado ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("select",{required:!0,value:g,onChange:oe=>x(oe.target.value),className:"block w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm font-medium h-10 px-3 bg-slate-50",children:kk.map(oe=>_.jsx("option",{value:oe,children:oe},oe))})]})]}),_.jsxs("div",{className:"space-y-1.5",children:[_.jsxs("label",{className:"text-sm font-semibold text-slate-700 flex items-center gap-1.5",children:[_.jsx(Jl,{className:"h-3.5 w-3.5 text-slate-400"})," Ciudad / Ubicacin"]}),_.jsx("input",{type:"text",placeholder:"Ej. Aduana Tecn Umn",value:E,onChange:oe=>T(oe.target.value),className:"block w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm h-10 px-3",list:"ciudades-sugeridas"}),_.jsxs("datalist",{id:"ciudades-sugeridas",children:[_.jsx("option",{value:"Laredo, TX"}),_.jsx("option",{value:"Tapachula"}),_.jsx("option",{value:"Ciudad de Guatemala"}),_.jsx("option",{value:"Quetzaltenango"})]})]}),_.jsxs("div",{className:"space-y-1.5",children:[_.jsxs("label",{className:"text-sm font-semibold text-slate-700 flex items-center gap-1.5",children:[_.jsx(l$,{className:"h-3.5 w-3.5 text-slate-400"})," Comentario"]}),_.jsx("textarea",{rows:3,value:I,onChange:oe=>D(oe.target.value),placeholder:"Instrucciones, notas de aduana o detalles del atraso...",className:"block w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-3 resize-none"})]}),_.jsxs("div",{className:"pt-2",children:[_.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"Notificaciones a Clientes"}),_.jsxs("div",{className:"space-y-3 bg-slate-50 p-4 rounded-xl border border-slate-100",children:[_.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[_.jsx("input",{type:"checkbox",checked:F,onChange:oe=>U(oe.target.checked),className:"h-4 w-4 rounded border-slate-300 text-green-600 focus:ring-green-600"}),_.jsxs("span",{className:"text-sm font-medium text-slate-700 group-hover:text-green-700 transition-colors",children:["Enviar notificacin por ",_.jsx("b",{children:"WhatsApp"})]})]}),_.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[_.jsx("input",{type:"checkbox",checked:Z,onChange:oe=>Q(oe.target.checked),className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-600"}),_.jsxs("span",{className:"text-sm font-medium text-slate-700 group-hover:text-blue-700 transition-colors",children:["Enviar notificacin por ",_.jsx("b",{children:"Correo Automtico"})]})]})]})]}),_.jsx("div",{className:"pt-4",children:_.jsx("button",{type:"submit",disabled:c,className:"w-full inline-flex justify-center items-center gap-2 rounded-xl bg-blue-600 px-4 py-3 text-sm font-bold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Registrando Estatus...":"Aadir Estatus"})})]})]}),_.jsxs("div",{className:"w-full md:w-1/2 bg-slate-50 overflow-y-auto p-6 relative",children:[_.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-6 sticky top-0 bg-slate-50/90 backdrop-blur z-10 pb-2",children:"Lnea de Tiempo Operativa"}),u?_.jsx("div",{className:"flex justify-center py-20",children:_.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"})}):a.length===0?_.jsxs("div",{className:"text-center py-16 px-4",children:[_.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-slate-200 flex items-center justify-center mb-3",children:_.jsx(Y5,{className:"h-6 w-6 text-slate-400"})}),_.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"No se han registrado movimientos todava."})]}):_.jsx("div",{className:"flow-root",children:_.jsx("ul",{role:"list",className:"-mb-8",children:a.map((oe,H)=>_.jsx("li",{children:_.jsxs("div",{className:"relative pb-8",children:[H!==a.length-1?_.jsx("span",{className:"absolute left-5 top-5 -ml-px h-full w-0.5 bg-slate-200","aria-hidden":"true"}):null,_.jsxs("div",{className:"relative flex items-start space-x-3",children:[_.jsx("div",{className:`relative px-1 ${H===0?"bg-blue-50":"bg-slate-50"} rounded-full ring-8 ring-white flex h-8 w-8 items-center justify-center shadow-sm`,children:q(oe.estado)}),_.jsxs("div",{className:"min-w-0 flex-1 bg-white p-4 rounded-xl border border-slate-200 shadow-sm ml-2 relative group",children:[_.jsxs("div",{className:"text-sm mb-1",children:[_.jsx("span",{className:"font-bold text-slate-900 mr-2",children:oe.estado}),oe.ciudad&&_.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-slate-100 px-2 py-0.5 text-xs font-semibold text-slate-700",children:[_.jsx(Jl,{className:"h-3 w-3"})," ",oe.ciudad]})]}),oe.comentario&&_.jsxs("p",{className:"mt-2 text-sm text-slate-600 leading-relaxed bg-slate-50 p-2.5 rounded-lg border border-slate-100 italic",children:['"',oe.comentario,'"']}),_.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-slate-400 font-medium",children:[_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(ap,{className:"h-3.5 w-3.5"}),nl(new Date(oe.fecha_evento||oe.created_at),"dd MMM yyyy 'a las' HH:mm")]}),_.jsxs("span",{children:["por ",oe.usuarios?`${oe.usuarios.nombre} ${oe.usuarios.apellido}`:"Sistema"]})]})]})]})]})},oe.id))})})]})]})]})})}function rge({isOpen:e,onClose:t,onSuccess:n,consolidacionId:r,bodegaId:i}){const{user:a}=Aa(),[o,u]=R.useState(!1),[d,c]=R.useState(!1),[h,g]=R.useState([]),[x,y]=R.useState([]),[C,E]=R.useState(!0);R.useEffect(()=>{e&&r&&i?I():T()},[e,r,i]);const T=()=>{g([]),y([]),E(!0)},I=async()=>{u(!0);try{const{data:U,error:Z}=await Tt.from("tarifas").select("id, nombre_servicio, tarifa_q, tipo_cobro").eq("bodega_id",i).eq("activa",!0);if(Z)throw Z;const Q=U||[];y(Q);const{data:Y,error:J}=await Tt.from("consolidacion_paquetes").select("paquete_id").eq("consolidacion_id",r);if(J)throw J;if(!Y||Y.length===0){g([]),u(!1);return}const q=Y.map(ee=>ee.paquete_id),{data:oe,error:H}=await Tt.from("paquetes").select("id, peso_lbs, cliente_id, clientes(id, nombre, apellido, locker_id, email)").in("id",q);if(H)throw H;const G=new Map;oe.forEach(ee=>{if(!ee.cliente_id||!ee.clientes)return;const ae=ee.cliente_id;G.has(ae)||G.set(ae,{cliente:ee.clientes,paquetes:[],totalLbs:0,tarifaAplicada:null,totalQ:0});const ie=G.get(ae);ie.paquetes.push(ee),ie.totalLbs+=Number(ee.peso_lbs)||0});const fe=Array.from(G.values()).map(ee=>{let ae=null,ie=0;return Q.length>0&&(ae=Q.find(K=>K.tipo_cobro==="por_libra")||Q[0],ae.tipo_cobro==="por_libra"?ie=ae.tarifa_q*(ee.totalLbs>0?ee.totalLbs:1):ae.tipo_cobro==="fijo"?ie=ae.tarifa_q:ae.tipo_cobro==="por_paquete"&&(ie=ae.tarifa_q*ee.paquetes.length)),{...ee,tarifaAplicada:ae,totalQ:ie}});g(fe)}catch(U){console.error("Error cargando previsualizacin:",U),alert("Ocurri un error leyendo los paquetes de la consolidacin.")}finally{u(!1)}},D=async()=>{var U,Z;if(h.length!==0){c(!0);try{let Q=0;for(const Y of h){if(Y.totalQ<=0)continue;const J=`FAC-${Math.random().toString(36).substring(2,8).toUpperCase()}`,q=await Tt.from("facturas").insert([{numero:J,cliente_id:Y.cliente.id,consolidacion_id:r,monto_subtotal:Y.totalQ,monto_total:Y.totalQ,estado:"pendiente",moneda:"GTQ",creado_por:(U=a==null?void 0:a.id)!=null&&U.includes("-")&&a.id.length>15?a.id:null,notas:`Factura masiva por importacin de ${Y.paquetes.length} paquete(s) consolidado(s).`}]).select().single();if(q.error)throw q.error;const oe=q.data,H=await Tt.from("conceptos_factura").insert([{factura_id:oe.id,descripcion:`Servicio de Logstica (${((Z=Y.tarifaAplicada)==null?void 0:Z.nombre_servicio)||"Genrico"}) - ${Y.totalLbs.toFixed(2)} lbs agrupadas.`,cantidad:1,precio_unitario:Y.totalQ,subtotal:Y.totalQ}]);if(H.error)throw H.error;C&&Y.cliente.email&&await Tt.from("notificaciones").insert([{cliente_id:Y.cliente.id,tipo:"email",asunto:"Nueva Factura Generada - Lote Consolidado",mensaje:`Hola ${Y.cliente.nombre}, hemos generado tu factura ${J} por procesar ${Y.paquetes.length} paquete(s) por un monto de Q${Y.totalQ.toFixed(2)}. Puedes revisar tu portal para realizar el pago.`,estado:"pendiente"}]),Q++}alert(`Facturacin Masiva Completada! Se generaron ${Q} facturas.`),n(),t()}catch(Q){console.error(Q),alert("Error al generar las facturas: "+Q.message)}finally{c(!1)}}};if(!e)return null;const F=h.reduce((U,Z)=>U+Z.totalQ,0);return _.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in-95",children:[_.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200",children:[_.jsxs("div",{children:[_.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[_.jsx(f0,{className:"h-5 w-5 text-blue-600"}),"Facturacin Masiva por Consolidado"]}),_.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Auto-clculo agrupando paquetes y tarifas asociadas al origen"})]}),_.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:text-slate-600 rounded-full hover:bg-slate-100 transition-colors",children:_.jsx(Ou,{className:"h-5 w-5"})})]}),_.jsx("div",{className:"p-6 flex-1 overflow-y-auto bg-slate-50/50",children:o?_.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[_.jsx(Ss,{className:"h-10 w-10 text-blue-600 animate-spin mb-4"}),_.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Calculando e indexando paquetes..."})]}):h.length===0?_.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-slate-200",children:[_.jsx(Fc,{className:"h-12 w-12 text-slate-300 mx-auto mb-3"}),_.jsx("p",{className:"text-slate-900 font-semibold",children:"Consolidado sin paquetes."}),_.jsx("p",{className:"text-slate-500 text-sm",children:"No hay paquetes asociados o los clientes no son legibles."})]}):_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[_.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center gap-4",children:[_.jsx("div",{className:"bg-indigo-100 p-3 rounded-lg text-indigo-600",children:_.jsx(op,{className:"h-6 w-6"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Clientes"}),_.jsx("p",{className:"text-2xl font-black text-slate-900",children:h.length})]})]}),_.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center gap-4",children:[_.jsx("div",{className:"bg-sky-100 p-3 rounded-lg text-sky-600",children:_.jsx(Fc,{className:"h-6 w-6"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Total Cajas"}),_.jsx("p",{className:"text-2xl font-black text-slate-900",children:h.reduce((U,Z)=>U+Z.paquetes.length,0)})]})]}),_.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex items-center gap-4",children:[_.jsx("div",{className:"bg-emerald-100 p-3 rounded-lg text-emerald-600",children:_.jsx(f0,{className:"h-6 w-6"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Facturacin Bruta"}),_.jsxs("p",{className:"text-2xl font-black text-slate-900",children:["Q",F.toFixed(2)]})]})]})]}),_.jsx("div",{className:"bg-white border text-sm border-slate-200 rounded-xl overflow-hidden shadow-sm",children:_.jsxs("table",{className:"w-full text-left",children:[_.jsx("thead",{className:"bg-slate-100 text-slate-600 border-b border-slate-200",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Casillero y Cliente"}),_.jsx("th",{className:"px-4 py-3 font-semibold text-center",children:"Cajas (Lbs)"}),_.jsx("th",{className:"px-4 py-3 font-semibold",children:"Tarifa Sugerida"}),_.jsx("th",{className:"px-4 py-3 font-semibold text-right",children:"Monto a Facturar"})]})}),_.jsx("tbody",{className:"divide-y divide-slate-100",children:h.map((U,Z)=>_.jsxs("tr",{className:"hover:bg-slate-50/50",children:[_.jsxs("td",{className:"px-4 py-3",children:[_.jsx("p",{className:"font-bold text-slate-900",children:U.cliente.locker_id}),_.jsxs("p",{className:"text-xs text-slate-500",children:[U.cliente.nombre," ",U.cliente.apellido]})]}),_.jsxs("td",{className:"px-4 py-3 text-center",children:[_.jsxs("p",{className:"font-medium text-slate-800",children:[U.paquetes.length," Pz"]}),_.jsxs("p",{className:"text-xs text-slate-500",children:[U.totalLbs.toFixed(2)," Lbs"]})]}),_.jsx("td",{className:"px-4 py-3",children:U.tarifaAplicada?_.jsxs(_.Fragment,{children:[_.jsx("p",{className:"font-medium text-slate-800 text-xs inline-flex items-center px-2 py-0.5 rounded-md bg-slate-200",children:U.tarifaAplicada.nombre_servicio}),_.jsxs("p",{className:"text-[10px] text-slate-500 mt-1",children:["Q",U.tarifaAplicada.tarifa_q," - ",U.tarifaAplicada.tipo_cobro]})]}):_.jsx("span",{className:"text-red-500 text-xs font-medium",children:"Asignacin Manual Requerida"})}),_.jsx("td",{className:"px-4 py-3 text-right",children:_.jsxs("span",{className:"font-bold bg-green-100 text-green-800 px-2 py-1 rounded-md border border-green-200",children:["Q",U.totalQ.toFixed(2)]})})]},Z))})]})})]})}),_.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 bg-white flex justify-between items-center",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",id:"sendEmailBulk",checked:C,onChange:U=>E(U.target.checked),className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-600"}),_.jsx("label",{htmlFor:"sendEmailBulk",className:"text-sm text-slate-700 font-medium cursor-pointer",children:"Enviar avisos por correo"})]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium rounded-md text-slate-700 bg-white border border-slate-300 hover:bg-slate-50",children:"Cancelar"}),_.jsxs("button",{onClick:D,disabled:d||o||h.length===0,className:"inline-flex items-center gap-2 px-6 py-2 text-sm font-bold rounded-md text-white bg-blue-600 hover:bg-blue-500 disabled:opacity-50",children:[d?_.jsx(Ss,{className:"h-4 w-4 animate-spin"}):_.jsx(Pf,{className:"h-4 w-4"}),d?"Generando recibos...":"Generar y Facturar Todo"]})]})]})]})})}function ige(){const[e,t]=R.useState([]),[n,r]=R.useState(!0),[i,a]=R.useState(""),[o,u]=R.useState(null),[d,c]=R.useState(""),[h,g]=R.useState(!1),[x,y]=R.useState(""),[C,E]=R.useState(""),{user:T,isAdmin:I}=Aa();R.useEffect(()=>{D()},[]);async function D(){r(!0);try{const{data:Y,error:J}=await Tt.from("consolidaciones").select(`
          id, codigo, estado, peso_total_lbs, created_at,
          bodegas(id, nombre),
          zonas(id, nombre),
          consolidacion_paquetes(count)
        `).order("created_at",{ascending:!1});if(J)throw J;const q=(Y||[]).map(oe=>{var H,G;return{id:oe.id,codigo:oe.codigo,estado:oe.estado,peso_total_lbs:oe.peso_total_lbs,created_at:oe.created_at,bodegas:Array.isArray(oe.bodegas)?oe.bodegas[0]:oe.bodegas,zonas:Array.isArray(oe.zonas)?oe.zonas[0]:oe.zonas,paquetes_count:Array.isArray(oe.consolidacion_paquetes)?((H=oe.consolidacion_paquetes[0])==null?void 0:H.count)||0:((G=oe.consolidacion_paquetes)==null?void 0:G.count)||0}});t(q)}catch(Y){console.error("Error fetching consolidaciones:",Y)}finally{r(!1)}}const F=(Y,J)=>{u(Y),c(J)},U=(Y,J)=>{y(Y),E(J),g(!0)},Z=Y=>{switch(Y){case"abierta":return"bg-blue-100 text-blue-800 border-blue-200";case"en_transito":return"bg-amber-100 text-amber-800 border-amber-200";case"entregada":return"bg-emerald-100 text-emerald-800 border-emerald-200";default:return"bg-slate-100 text-slate-800 border-slate-200"}},Q=e.filter(Y=>Y.codigo.toLowerCase().includes(i.toLowerCase())||Y.estado.toLowerCase().includes(i.toLowerCase()));return _.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[_.jsxs("div",{className:"relative w-full sm:w-96",children:[_.jsx(Id,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),_.jsx("input",{type:"text",placeholder:"Buscar por cdigo de Consolidado o Estatus...",value:i,onChange:Y=>a(Y.target.value),className:"h-9 w-full rounded-md border border-slate-300 bg-white pl-9 pr-4 text-sm outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})]}),_.jsx("button",{onClick:D,className:"text-sm font-medium text-blue-600 hover:text-blue-800 transition-colors",children:"Refrescar Lista"})]}),_.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:n?_.jsxs("div",{className:"flex justify-center flex-col items-center py-20 px-4",children:[_.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-600 border-t-transparent mb-4"}),_.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Cargando bitcora maestra..."})]}):Q.length===0?_.jsxs("div",{className:"text-center py-20 px-4",children:[_.jsx(sp,{className:"h-12 w-12 text-slate-300 mx-auto mb-4"}),_.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"No hay consolidados"}),_.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Todava no has agrupado ningn envo maestro."})]}):_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[_.jsx("thead",{className:"bg-slate-50",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Detalle del Consolidado"}),_.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Ruta"}),_.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Estatus Actual"}),_.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Carga"}),_.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Acciones"})]})}),_.jsx("tbody",{className:"bg-white divide-y divide-slate-100",children:Q.map(Y=>{var J,q,oe;return _.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[_.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"h-10 w-10 shrink-0 flex items-center justify-center rounded-lg bg-indigo-50 border border-indigo-100 text-indigo-600",children:_.jsx(jp,{className:"h-5 w-5"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-bold text-slate-900",children:Y.codigo}),_.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1 mt-0.5",children:[_.jsx(ap,{className:"h-3 w-3"}),nl(new Date(Y.created_at),"dd MMM yyyy",{locale:Lf})]})]})]})}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_.jsxs("div",{className:"flex flex-col text-sm text-slate-600 space-y-1",children:[_.jsxs("span",{className:"flex items-center gap-1.5",children:[_.jsx(Jl,{className:"h-3 w-3 text-slate-400"})," ",_.jsx("b",{children:"Origen:"})," ",((J=Y.bodegas)==null?void 0:J.nombre)||"N/A"]}),_.jsxs("span",{className:"flex items-center gap-1.5",children:[_.jsx(Jl,{className:"h-3 w-3 text-slate-400"})," ",_.jsx("b",{children:"Destino:"})," ",((q=Y.zonas)==null?void 0:q.nombre)||"N/A"]})]})}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:_.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold border uppercase tracking-wide ${Z(Y.estado)}`,children:Y.estado.replace("_"," ")})}),_.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:[_.jsxs("p",{className:"text-sm font-bold text-slate-800",children:[Y.paquetes_count," Paquetes"]}),_.jsxs("p",{className:"text-xs font-medium text-slate-500",children:[(oe=Y.peso_total_lbs)==null?void 0:oe.toFixed(2)," lbs"]})]}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:_.jsxs("div",{className:"flex items-center justify-end gap-2",children:[I&&Y.bodegas&&_.jsxs("button",{onClick:()=>U(Y.id,Y.bodegas.id),className:"inline-flex items-center gap-1.5 text-emerald-600 bg-emerald-50 border border-emerald-100 hover:bg-emerald-600 hover:text-white px-3 py-1.5 rounded-lg transition-colors font-bold shadow-sm",title:"Generar Facturas",children:[_.jsx(sp,{className:"h-4 w-4"})," Facturar Lote"]}),_.jsxs("button",{onClick:()=>F(Y.id,Y.codigo),className:"inline-flex items-center gap-1.5 text-blue-600 bg-blue-50 border border-blue-100 hover:bg-blue-600 hover:text-white px-3 py-1.5 rounded-lg transition-colors font-bold shadow-sm",children:[_.jsx(NM,{className:"h-4 w-4"})," Tracking Master"]})]})})]},Y.id)})})]})})}),o&&_.jsx(nge,{consolidacionId:o,codigoMaster:d,onClose:()=>u(null),onUpdate:D}),h&&_.jsx(rge,{isOpen:h,onClose:()=>g(!1),onSuccess:()=>{D()},consolidacionId:x,bodegaId:C})]})}function age(){const{user:e}=Aa(),[t,n]=R.useState("create"),[r,i]=R.useState([]),[a,o]=R.useState([]),[u,d]=R.useState([]),[c,h]=R.useState(!0),[g,x]=R.useState(!1),[y,C]=R.useState(""),[E,T]=R.useState({nombre_alternativo:"",origen_id:"",destino_id:""}),[I,D]=R.useState(new Set);R.useEffect(()=>{F()},[]);async function F(){h(!0);try{const[H,G,fe]=await Promise.all([Tt.from("bodegas").select("id, nombre").eq("activo",!0),Tt.from("zonas").select("id, nombre").eq("activo",!0),Tt.from("paquetes").select("id, tracking, peso_lbs, peso_volumetrico, piezas, clientes(nombre, apellido, locker_id), bodegas(id, nombre)").in("estado",["en_bodega","recibido"]).order("fecha_recepcion",{ascending:!1})]);H.data&&(i(H.data),H.data.length>0&&T(ee=>({...ee,origen_id:H.data[0].id}))),G.data&&(o(G.data),G.data.length>0&&T(ee=>({...ee,destino_id:G.data[0].id}))),fe.data&&d(fe.data)}catch(H){console.error("Error fetching data for consolidation:",H)}finally{h(!1)}}const U=H=>{H.target.name==="origen_id"&&I.size>0&&D(new Set),T({...E,[H.target.name]:H.target.value})},Z=R.useMemo(()=>{const H=y.toLowerCase();return u.filter(G=>{var ee,ae,ie,K;return E.origen_id&&((ee=G.bodegas)==null?void 0:ee.id)!==E.origen_id?!1:`${(ae=G.clientes)==null?void 0:ae.locker_id} ${(ie=G.clientes)==null?void 0:ie.nombre} ${(K=G.clientes)==null?void 0:K.apellido}`.toLowerCase().includes(H)||G.tracking.toLowerCase().includes(H)})},[u,y,E.origen_id]),Q=H=>{const G=new Set(I);G.has(H)?G.delete(H):G.add(H),D(G)},Y=()=>{I.size===Z.length&&Z.length>0?D(new Set):D(new Set(Z.map(H=>H.id)))},J=R.useMemo(()=>{let H=0,G=0;return I.forEach(fe=>{const ee=u.find(ae=>ae.id===fe);ee&&(H+=Number(ee.peso_lbs)||0,G+=Number(ee.peso_volumetrico)||0)}),{cantidad:I.size,peso:H,volumen:G}},[I,u]),q=async()=>{if(I.size===0){alert("Debes seleccionar al menos un paquete.");return}if(!E.origen_id||!E.destino_id){alert("Origen y Destino son obligatorios.");return}try{x(!0);const G=`CON-${new Date().toISOString().slice(0,10).replace(/-/g,"")}-${Math.floor(1e3+Math.random()*9e3)}`,fe={codigo:E.nombre_alternativo||G,bodega_id:E.origen_id,zona_destino_id:E.destino_id,estado:"abierta",peso_total_lbs:J.peso,notas:`Consolidacin generada por ${(e==null?void 0:e.nombre)||"Operador"}`},{data:ee,error:ae}=await Tt.from("consolidaciones").insert([fe]).select().single();if(ae||!ee)throw ae;const ie=ee.id,K=Array.from(I),ve=K.map(we=>({consolidacion_id:ie,paquete_id:we})),{error:Te}=await Tt.from("consolidacion_paquetes").insert(ve);if(Te)throw Te;for(const we of K)await Tt.from("paquetes").update({estado:"consolidado"}).eq("id",we);alert("Consolidacin creada con xito. Los paquetes ahora estn listos para envo."),T(we=>({...we,nombre_alternativo:""})),D(new Set),F()}catch(H){console.error("Error creating consolidation:",H),alert("Hubo un error al crear la consolidacin: "+(H.message||"Desconocido"))}finally{x(!1)}},oe=Z.length>0&&I.size===Z.length;return _.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto pb-10",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Mdulo de Consolidacin"}),_.jsx("p",{className:"text-sm text-slate-500",children:"Agrupa envos y administra el Tracking Maestro."})]}),_.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[_.jsx("button",{onClick:()=>n("create"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="create"?"bg-white shadow-sm text-blue-600":"text-slate-600 hover:text-slate-900"}`,children:"Crear Consolidado"}),_.jsxs("button",{onClick:()=>n("list"),className:`flex items-center gap-2 px-4 py-2 text-sm font-semibold rounded-md transition-all ${t==="list"?"bg-white shadow-sm text-blue-600":"text-slate-600 hover:text-slate-900"}`,children:[_.jsx(AG,{className:"h-4 w-4"})," Tracking Master"]})]})]}),t==="create"?_.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-12",children:[_.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"Detalles del Envo"}),_.jsxs("button",{onClick:F,className:"inline-flex items-center gap-1.5 rounded-md bg-white px-2.5 py-1.5 text-xs font-medium text-slate-600 shadow-sm ring-1 ring-inset ring-slate-300 hover:bg-slate-50",children:[_.jsx("span",{className:"sr-only",children:"Refrescar"}),""]})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nombre Alternativo (Gua Master)"}),_.jsx("input",{type:"text",name:"nombre_alternativo",value:E.nombre_alternativo,onChange:U,className:"block w-full rounded-md border-0 py-2 px-3 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",placeholder:"Dejar vaco para auto-generar"})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Origen"}),_.jsx("select",{name:"origen_id",value:E.origen_id,onChange:U,className:"block w-full rounded-md border-0 py-2 px-3 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",children:r.map(H=>_.jsx("option",{value:H.id,children:H.nombre},H.id))})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Destino"}),_.jsx("select",{name:"destino_id",value:E.destino_id,onChange:U,className:"block w-full rounded-md border-0 py-2 px-3 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",children:a.map(H=>_.jsx("option",{value:H.id,children:H.nombre},H.id))})]})]})]}),_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-6 shadow-sm",children:[_.jsx("h3",{className:"text-sm font-medium text-slate-900 mb-4",children:"Resumen de Consolidacin"}),_.jsxs("dl",{className:"space-y-3 text-sm text-slate-600",children:[_.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-200",children:[_.jsx("dt",{children:"Paquetes seleccionados:"}),_.jsx("dd",{className:"font-bold text-blue-600 text-base",children:J.cantidad})]}),_.jsxs("div",{className:"flex justify-between py-1",children:[_.jsx("dt",{children:"Peso total estimado:"}),_.jsxs("dd",{className:"font-medium text-slate-900",children:[J.peso.toFixed(2)," lbs"]})]}),_.jsxs("div",{className:"flex justify-between py-1",children:[_.jsx("dt",{children:"Volumen total estimado:"}),_.jsxs("dd",{className:"font-medium text-slate-900",children:[J.volumen.toFixed(2)," ft"]})]})]}),_.jsxs("button",{onClick:q,disabled:I.size===0||g,className:"mt-6 w-full flex items-center justify-center gap-2 rounded-md bg-slate-900 px-3 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-900 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[g?_.jsx(Ss,{className:"h-4 w-4 animate-spin"}):_.jsx(sp,{className:"h-4 w-4"}),g?"Procesando...":"Crear Consolidado"]})]})]}),_.jsx("div",{className:"lg:col-span-8",children:_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm h-full flex flex-col min-h-[500px]",children:[_.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center justify-between gap-4 bg-slate-50 rounded-t-xl",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"Paquetes Disponibles"}),_.jsxs("span",{className:"inline-flex items-center rounded-md bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700 ring-1 ring-inset ring-blue-700/10",children:[u.length," en bodega"]})]}),_.jsxs("div",{className:"relative w-full sm:w-72",children:[_.jsx(Id,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),_.jsx("input",{type:"text",value:y,onChange:H=>C(H.target.value),placeholder:"Buscar por cliente o tracking...",className:"h-9 w-full rounded-md border border-slate-300 bg-white pl-9 pr-4 text-sm outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-shadow"})]})]}),_.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3 border-b border-slate-200 bg-slate-50 text-xs font-medium text-slate-500 uppercase tracking-wider",children:[_.jsx("div",{className:"col-span-1 flex items-center",children:_.jsx("button",{onClick:Y,className:"text-slate-400 hover:text-blue-600 focus:outline-none",children:oe?_.jsx(qC,{className:"h-5 w-5 text-blue-600"}):_.jsx(HC,{className:"h-5 w-5"})})}),_.jsx("div",{className:"col-span-5",children:"Detalle del Paquete"}),_.jsx("div",{className:"col-span-4",children:"Cliente / Casillero"}),_.jsx("div",{className:"col-span-2 text-right",children:"Peso (lbs)"})]}),_.jsx("div",{className:"flex-1 overflow-y-auto",children:c?_.jsx("div",{className:"flex justify-center py-20",children:_.jsx(Ss,{className:"h-8 w-8 animate-spin text-blue-600"})}):Z.length===0?_.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-20 px-4",children:[_.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-slate-50 mb-4",children:_.jsx(sp,{className:"h-8 w-8 text-slate-300"})}),_.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:y?"No hay resultados para tu bsqueda":"No hay paquetes en bodega"}),_.jsx("p",{className:"mt-1 text-sm text-slate-500 max-w-sm",children:y?"Intenta usar otros trminos.":"Todos los paquetes disponibles ya han sido consolidados o empacados."})]}):_.jsx("div",{className:"divide-y divide-slate-100",children:Z.map(H=>{var fe,ee,ae;const G=I.has(H.id);return _.jsxs("div",{onClick:()=>Q(H.id),className:`grid grid-cols-12 gap-4 px-6 py-4 items-center cursor-pointer transition-colors hover:bg-slate-50 ${G?"bg-blue-50/30":""}`,children:[_.jsx("div",{className:"col-span-1",children:G?_.jsx(qC,{className:"h-5 w-5 text-blue-600"}):_.jsx(HC,{className:"h-5 w-5 text-slate-300"})}),_.jsxs("div",{className:"col-span-5 flex items-center gap-3 overflow-hidden",children:[_.jsx("div",{className:`flex h-10 w-10 shrink-0 items-center justify-center rounded-lg border ${G?"bg-blue-100 border-blue-200":"bg-white border-slate-200"}`,children:_.jsx(Fc,{className:`h-5 w-5 ${G?"text-blue-600":"text-slate-400"}`})}),_.jsxs("div",{className:"min-w-0",children:[_.jsx("p",{className:"truncate text-sm font-semibold text-slate-900",title:H.tracking,children:H.tracking}),_.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:[H.piezas||1," ",H.piezas===1?"pieza":"piezas"]})]})]}),_.jsxs("div",{className:"col-span-4 min-w-0",children:[_.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[_.jsx(Jl,{className:"h-3 w-3 text-slate-400 shrink-0"}),_.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:((fe=H.clientes)==null?void 0:fe.locker_id)||"N/A"})]}),_.jsxs("p",{className:"text-xs text-slate-500 truncate",children:[(ee=H.clientes)==null?void 0:ee.nombre," ",(ae=H.clientes)==null?void 0:ae.apellido]})]}),_.jsx("div",{className:"col-span-2 text-right",children:_.jsx("span",{className:"inline-flex items-center rounded-md bg-slate-100 px-2 py-1 text-xs font-medium text-slate-700 ring-1 ring-inset ring-slate-200",children:H.peso_lbs?`${Number(H.peso_lbs).toFixed(2)} lbs`:"-"})})]},H.id)})})}),Z.length>0&&_.jsxs("div",{className:"p-4 border-t border-slate-200 bg-slate-50 rounded-b-xl flex items-center justify-between text-sm text-slate-500",children:[_.jsxs("span",{children:["Mostrando ",Z.length," paquetes"]}),I.size>0&&_.jsxs("span",{className:"font-medium text-blue-600",children:[I.size," seleccionados"]})]})]})})]}):_.jsx(ige,{})]})}function sge({isOpen:e,onClose:t,onSuccess:n}){const{user:r}=Aa(),[i,a]=R.useState(!1),[o,u]=R.useState([]),[d,c]=R.useState([]),[h,g]=R.useState([]),[x,y]=R.useState(""),[C,E]=R.useState(""),[T,I]=R.useState(!1),[D,F]=R.useState(""),[U,Z]=R.useState(""),[Q,Y]=R.useState(""),[J,q]=R.useState([]),[oe,H]=R.useState(!0);R.useEffect(()=>{e&&(fe(),G())},[e]),R.useEffect(()=>{C?ee(C):g([])},[C]);const G=()=>{I(!1),F(""),Z(""),Y(""),y(""),E(""),q([]),H(!0)},fe=async()=>{try{const[we,ue]=await Promise.all([Tt.from("clientes").select("id, nombre, apellido, locker_id, email").eq("activo",!0).order("nombre").limit(5e3),Tt.from("bodegas").select("id, nombre").eq("activo",!0).order("nombre")]);we.data&&u(we.data),ue.data&&c(ue.data)}catch(we){console.error("Error fetching initial data for invoice",we)}},ee=async we=>{try{const{data:ue}=await Tt.from("tarifas").select("id, nombre_servicio, tarifa_q, tipo_cobro").eq("bodega_id",we).eq("activa",!0);ue&&g(ue)}catch(ue){console.error("Error fetching tarifas",ue)}},ae=()=>{q([...J,{id:crypto.randomUUID(),descripcion:"",cantidad:1,precio_unitario:0}])},ie=we=>{q(J.filter(ue=>ue.id!==we))},K=(we,ue,V)=>{q(J.map(he=>{if(he.id===we){const me={...he,[ue]:V};if(ue==="descripcion"){const Ce=h.find(xe=>xe.nombre_servicio===V);Ce&&(me.precio_unitario=Ce.tarifa_q)}return me}return he}))},ve=()=>J.reduce((we,ue)=>we+ue.cantidad*ue.precio_unitario,0),Te=async()=>{if(!T&&!x){alert("Seleccione un cliente registrado o use la opcin de cliente manual.");return}if(T&&!D.trim()){alert("Ingrese el nombre del cliente manual.");return}if(J.length===0){alert("Agregue al menos un concepto a la factura.");return}if(J.some(we=>!we.descripcion||we.cantidad<=0||we.precio_unitario<0)){alert("Revise que todos los conceptos tengan descripcin, cantidad vlida y precio vlido.");return}a(!0);try{const we=`FAC-${Math.random().toString(36).substring(2,8).toUpperCase()}`,ue=ve(),{data:V,error:he}=await Tt.from("facturas").insert([{numero:we,cliente_id:T?null:x,cliente_manual_nombre:T?D.trim():null,cliente_manual_nit:T?U.trim():null,monto_subtotal:ue,monto_total:ue,moneda:"GTQ",estado:"pendiente",creado_por:r==null?void 0:r.id}]).select().single();if(he)throw he;const me=J.map(xe=>({factura_id:V.id,descripcion:xe.descripcion,cantidad:xe.cantidad,precio_unitario:xe.precio_unitario,subtotal:xe.cantidad*xe.precio_unitario})),{error:Ce}=await Tt.from("conceptos_factura").insert(me);if(Ce)throw Ce;if(oe&&!T){const xe=o.find(Me=>Me.id===x);xe!=null&&xe.email&&await Tt.from("notificaciones").insert([{cliente_id:x,tipo:"email",asunto:`Nueva Factura Generada - ${we}`,mensaje:`Se ha generado una nueva factura por el monto de Q${ue.toFixed(2)}. Por favor ingrese a su portal para revisar detalles o contactarnos para el pago.`,estado:"pendiente"}])}n(),t()}catch(we){console.error(we),alert("Error al generar la factura: "+we.message)}finally{a(!1)}};return e?_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in-95",children:[_.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200",children:[_.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Generar Factura Manual"}),_.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:text-slate-600 rounded-full hover:bg-slate-100 transition-colors",children:_.jsx(Ou,{className:"h-5 w-5"})})]}),_.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-6",children:[_.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 space-y-4",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"radio",name:"clientType",checked:!T,onChange:()=>I(!1),className:"text-blue-600 focus:ring-blue-500"}),_.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Cliente Registrado"})]}),_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"radio",name:"clientType",checked:T,onChange:()=>I(!0),className:"text-blue-600 focus:ring-blue-500"}),_.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Factura Manual / Consumidor Final"})]})]}),T?_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nombre Facturacin *"}),_.jsx("input",{type:"text",placeholder:"Ej. Consumidor Final o Nombre",value:D,onChange:we=>F(we.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"NIT"}),_.jsx("input",{type:"text",placeholder:"Opcional",value:U,onChange:we=>Z(we.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]})]}):_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Buscar y Seleccionar Cliente *"}),_.jsx("input",{type:"text",placeholder:"Buscar por nombre, locker o email...",value:Q,onChange:we=>Y(we.target.value),className:"w-full mb-2 rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"}),_.jsxs("select",{value:x,onChange:we=>y(we.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm max-h-40 overflow-y-auto",size:4,children:[o.filter(we=>`${we.nombre} ${we.apellido} ${we.locker_id} ${we.email}`.toLowerCase().includes(Q.toLowerCase())).map(we=>_.jsxs("option",{value:we.id,className:"p-2 border-b border-slate-100 last:border-0 hover:bg-slate-100 cursor-pointer",children:[we.locker_id," - ",we.nombre," ",we.apellido," (",we.email,")"]},we.id)),o.filter(we=>`${we.nombre} ${we.apellido} ${we.locker_id} ${we.email}`.toLowerCase().includes(Q.toLowerCase())).length===0&&_.jsx("option",{disabled:!0,className:"p-2 text-slate-500 text-center",children:"No se encontraron clientes"})]})]})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Cargar Tarifas de Bodega"}),_.jsxs("select",{value:C,onChange:we=>E(we.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[_.jsx("option",{value:"",children:"-- Sin Bodega / Cargos Manuales --"}),d.map(we=>_.jsx("option",{value:we.id,children:we.nombre},we.id))]})]})}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Conceptos (Cargos) *"}),_.jsxs("button",{type:"button",onClick:ae,className:"inline-flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-700",children:[_.jsx(E0,{className:"h-3 w-3"})," Agregar Elemento"]})]}),_.jsxs("div",{className:"space-y-3",children:[J.map((we,ue)=>_.jsxs("div",{className:"flex gap-3 items-start bg-slate-50 p-3 rounded-lg border border-slate-200",children:[_.jsx("div",{className:"flex-1",children:_.jsx("input",{type:"text",placeholder:"Descripcin o Seleccionar Tarifa",value:we.descripcion,onChange:V=>K(we.id,"descripcion",V.target.value),list:"tarifas-list",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})}),_.jsx("div",{className:"w-24",children:_.jsx("input",{type:"number",min:"0.01",step:"0.01",placeholder:"Cant.",value:we.cantidad,onChange:V=>K(we.id,"cantidad",parseFloat(V.target.value)),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})}),_.jsx("div",{className:"w-32",children:_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:_.jsx("span",{className:"text-slate-500 sm:text-sm",children:"Q"})}),_.jsx("input",{type:"number",min:"0",step:"0.01",placeholder:"Precio",value:we.precio_unitario,onChange:V=>K(we.id,"precio_unitario",parseFloat(V.target.value)),className:"w-full rounded-md border-slate-300 pl-7 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]})}),_.jsx("div",{className:"w-24 text-right flex flex-col justify-center py-2",children:_.jsxs("span",{className:"text-sm font-semibold text-slate-700",children:["Q",(we.cantidad*we.precio_unitario).toFixed(2)]})}),_.jsx("button",{onClick:()=>ie(we.id),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",children:_.jsx(T3,{className:"h-4 w-4"})})]},we.id)),J.length===0&&_.jsx("div",{className:"text-center py-4 text-sm text-slate-500 border-2 border-dashed border-slate-200 rounded-lg",children:"No hay conceptos agregados."})]}),_.jsxs("datalist",{id:"tarifas-list",children:[_.jsx("option",{value:"Servicios de Compras",children:"Servicios Extras de Bodega"}),_.jsx("option",{value:"Seguro de Envo",children:"Cargo Fijo"}),_.jsx("option",{value:"Tarifa de Manejo",children:"Cargo Administrativo"}),_.jsx("option",{value:"Otros Cargos",children:"Cargo Variable"}),h.map(we=>_.jsxs("option",{value:we.nombre_servicio,children:["Q",we.tarifa_q," (",we.tipo_cobro.replace("_"," "),")"]},we.id))]})]}),_.jsxs("div",{className:"flex justify-between items-center bg-blue-50 p-4 rounded-xl border border-blue-100",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",id:"sendEmail",checked:oe,onChange:we=>H(we.target.checked),className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-600"}),_.jsx("label",{htmlFor:"sendEmail",className:"text-sm text-slate-700 font-medium",children:"Enviar Notificacin por Correo al Cliente (Si est registrado)"})]}),_.jsxs("div",{className:"text-right",children:[_.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Monto Total"}),_.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["Q",ve().toFixed(2)]})]})]})]}),_.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 bg-slate-50 flex justify-end gap-3",children:[_.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium rounded-md text-slate-700 bg-white border border-slate-300 hover:bg-slate-50",children:"Cancelar"}),_.jsxs("button",{onClick:Te,disabled:i||J.length===0||!T&&!x||T&&!D.trim(),className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-bold rounded-md text-white bg-blue-600 hover:bg-blue-500 disabled:opacity-50",children:[i?_.jsx(Ss,{className:"h-4 w-4 animate-spin"}):_.jsx(Pf,{className:"h-4 w-4"}),"Guardar Factura"]})]})]})}):null}function oge({isOpen:e,onClose:t,onSuccess:n,facturaId:r,facturaTotal:i,facturaNumero:a}){const{user:o}=Aa(),[u,d]=R.useState(!1),[c,h]=R.useState(i.toString()),[g,x]=R.useState("transferencia"),[y,C]=R.useState(""),[E,T]=R.useState(""),I=async()=>{if(!c||isNaN(Number(c))||Number(c)<=0){alert("Ingrese un monto vlido mayor a 0.");return}d(!0);try{const D=parseFloat(c),{error:F}=await Tt.from("pagos").insert([{factura_id:r,monto:D,metodo:g,referencia:y,estado:"verificado",verificado_por:o==null?void 0:o.id,notas:E}]);if(F)throw F;const{error:U}=await Tt.from("facturas").update({estado:"verificado"}).eq("id",r);if(U)throw U;n(),t()}catch(D){console.error(D),alert("Error al registrar pago: "+D.message)}finally{d(!1)}};return e?_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md flex flex-col overflow-hidden animate-in fade-in zoom-in-95",children:[_.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200",children:[_.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[_.jsx(N3,{className:"h-5 w-5 text-green-500"})," Registrar Pago"]}),_.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:text-slate-600 rounded-full hover:bg-slate-100 transition-colors",children:_.jsx(Ou,{className:"h-5 w-5"})})]}),_.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[_.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 mb-4",children:[_.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Factura a Pagar"}),_.jsxs("div",{className:"flex justify-between items-center mt-1",children:[_.jsx("span",{className:"font-bold text-slate-900",children:a}),_.jsxs("span",{className:"font-bold text-blue-600",children:["Total: Q",i.toFixed(2)]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Monto Recibido (Q) *"}),_.jsx("input",{type:"number",step:"0.01",required:!0,value:c,onChange:D=>h(D.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Mtodo de Pago *"}),_.jsxs("select",{value:g,onChange:D=>x(D.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm",children:[_.jsx("option",{value:"transferencia",children:"Transferencia Bancaria"}),_.jsx("option",{value:"deposito",children:"Depsito Fsico"}),_.jsx("option",{value:"efectivo",children:"Efectivo"}),_.jsx("option",{value:"tarjeta",children:"Link / Tarjeta"}),_.jsx("option",{value:"otro",children:"Otro"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nmero de Referencia / Boleta"}),_.jsx("input",{type:"text",placeholder:"Ej. AB-123456",value:y,onChange:D=>C(D.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notas u Observaciones"}),_.jsx("textarea",{rows:2,value:E,onChange:D=>T(D.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm"})]})]}),_.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 bg-slate-50 flex justify-end gap-3",children:[_.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium rounded-md text-slate-700 bg-white border border-slate-300 hover:bg-slate-50",children:"Cancelar"}),_.jsxs("button",{onClick:I,disabled:u,className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-bold rounded-md text-white bg-green-600 hover:bg-green-500 disabled:opacity-50",children:[u?_.jsx(Ss,{className:"h-4 w-4 animate-spin"}):_.jsx(Pf,{className:"h-4 w-4"}),"Confirmar Pago"]})]})]})}):null}function rB(e,t,n,r,i){r=r||{};var a=1.15,o=i.internal.scaleFactor,u=i.internal.getFontSize()/o,d=i.getLineHeightFactor?i.getLineHeightFactor():a,c=u*d,h=/\r\n|\r|\n/g,g="",x=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(g=typeof e=="string"?e.split(h):e,x=g.length||1),n+=u*(2-a),r.valign==="middle"?n-=x/2*c:r.valign==="bottom"&&(n-=x*c),r.halign==="center"||r.halign==="right"){var y=u;if(r.halign==="center"&&(y*=.5),g&&x>=1){for(var C=0;C<g.length;C++)i.text(g[C],t-i.getStringUnitWidth(g[C])*y,n),n+=c;return i}t-=i.getStringUnitWidth(e)*y}return r.halign==="justify"?i.text(e,t,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(e,t,n),i}var Mk={},u0=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=t:Mk=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,n){var r,i,a;n===void 0&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),u=o.fontStyle,d=o.fontName;if(t.font&&(d=t.font),t.fontStyle){u=t.fontStyle;var c=this.getFontList()[d];c&&c.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),u=c[0])}if(this.jsPDFDocument.setFont(d,u),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var h=e.unifyColor(t.fillColor);h&&(r=this.jsPDFDocument).setFillColor.apply(r,h),h=e.unifyColor(t.textColor),h&&(i=this.jsPDFDocument).setTextColor.apply(i,h),h=e.unifyColor(t.lineColor),h&&(a=this.jsPDFDocument).setDrawColor.apply(a,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,n,r){return this.jsPDFDocument.splitTextToSize(t,n,r)},e.prototype.rect=function(t,n,r,i,a){return this.jsPDFDocument.rect(t,n,r,i,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return Mk||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),d3=function(e,t){return d3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},d3(e,t)};function iB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");d3(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var aB=(function(e){iB(t,e);function t(n){var r=e.call(this)||this;return r._element=n,r}return t})(Array);function lge(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function cge(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function B2(e,t,n){n.applyStyles(t,!0);var r=Array.isArray(e)?e:[e],i=r.map(function(a){return n.getTextWidth(a)}).reduce(function(a,o){return Math.max(a,o)},0);return i}function sB(e,t,n,r){var i=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:a});var o=oB(i,!1);o&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),r.y-n.y,o)}function oB(e,t){var n=e>0,r=t||t===0;return n&&r?"DF":n?"S":r?"F":null}function Yy(e,t){var n,r,i,a;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(n=e.left)!==null&&n!==void 0?n:t,top:(r=e.top)!==null&&r!==void 0?r:t,right:(i=e.right)!==null&&i!==void 0?i:t,bottom:(a=e.bottom)!==null&&a!==void 0?a:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function lB(e,t){var n=Yy(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function uge(e,t,n,r,i){var a={},o=1.3333333333333333,u=j5(t,function(F){return i.getComputedStyle(F).backgroundColor});u!=null&&(a.fillColor=u);var d=j5(t,function(F){return i.getComputedStyle(F).color});d!=null&&(a.textColor=d);var c=dge(r,n);c&&(a.cellPadding=c);var h="borderTopColor",g=o*n,x=r.borderTopWidth;if(r.borderBottomWidth===x&&r.borderRightWidth===x&&r.borderLeftWidth===x){var y=(parseFloat(x)||0)/g;y&&(a.lineWidth=y)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/g,right:(parseFloat(r.borderRightWidth)||0)/g,bottom:(parseFloat(r.borderBottomWidth)||0)/g,left:(parseFloat(r.borderLeftWidth)||0)/g},a.lineWidth.top||(a.lineWidth.right?h="borderRightColor":a.lineWidth.bottom?h="borderBottomColor":a.lineWidth.left&&(h="borderLeftColor"));var C=j5(t,function(F){return i.getComputedStyle(F)[h]});C!=null&&(a.lineColor=C);var E=["left","right","center","justify"];E.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),E=["middle","bottom","top"],E.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var T=parseInt(r.fontSize||"");isNaN(T)||(a.fontSize=T/o);var I=fge(r);I&&(a.fontStyle=I);var D=(r.fontFamily||"").toLowerCase();return e.indexOf(D)!==-1&&(a.font=D),a}function fge(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function j5(e,t){var n=cB(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function cB(e,t){var n=t(e);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?e.parentElement==null?null:cB(e.parentElement,t):n}function dge(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=n.map(function(u){return parseInt(u||"0")/r}),o=Yy(a,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function uB(e,t,n,r,i){var a,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var u;typeof t=="string"?u=n.document.querySelector(t):u=t;var d=Object.keys(e.getFontList()),c=e.scaleFactor(),h=[],g=[],x=[];if(!u)return console.error("Html table could not be found with input: ",t),{head:h,body:g,foot:x};for(var y=0;y<u.rows.length;y++){var C=u.rows[y],E=(o=(a=C==null?void 0:C.parentElement)===null||a===void 0?void 0:a.tagName)===null||o===void 0?void 0:o.toLowerCase(),T=hge(d,c,n,C,r,i);T&&(E==="thead"?h.push(T):E==="tfoot"?x.push(T):g.push(T))}return{head:h,body:g,foot:x}}function hge(e,t,n,r,i,a){for(var o=new aB(r),u=0;u<r.cells.length;u++){var d=r.cells[u],c=n.getComputedStyle(d);if(i||c.display!=="none"){var h=void 0;a&&(h=uge(e,d,t,c,n)),o.push({rowSpan:d.rowSpan,colSpan:d.colSpan,styles:h,_element:d,content:pge(d)})}}var g=n.getComputedStyle(r);if(o.length>0&&(i||g.display!=="none"))return o}function pge(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),t.innerText||t.textContent||""}function mge(e,t,n){for(var r=0,i=[e,t,n];r<i.length;r++){var a=i[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Au(e,t,n,r,i){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),o=1;o<arguments.length;o++){var u=arguments[o];if(u!=null)for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(a[d]=u[d])}return a}function fB(e,t){var n=new u0(e),r=n.getDocumentOptions(),i=n.getGlobalOptions();mge(i,r,t);var a=Au({},i,r,t),o;typeof window<"u"&&(o=window);var u=gge(i,r,t),d=vge(i,r,t),c=yge(n,a),h=xge(n,a,o);return{id:t.tableId,content:h,hooks:d,styles:u,settings:c}}function gge(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(d){if(d==="columnStyles"){var c=e[d],h=t[d],g=n[d];r.columnStyles=Au({},c,h,g)}else{var x=[e,t,n],y=x.map(function(C){return C[d]||{}});r[d]=Au({},y[0],y[1],y[2])}},a=0,o=Object.keys(r);a<o.length;a++){var u=o[a];i(u)}return r}function vge(e,t,n){for(var r=[e,t,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,o=r;a<o.length;a++){var u=o[a];u.didParseCell&&i.didParseCell.push(u.didParseCell),u.willDrawCell&&i.willDrawCell.push(u.willDrawCell),u.didDrawCell&&i.didDrawCell.push(u.didDrawCell),u.willDrawPage&&i.willDrawPage.push(u.willDrawPage),u.didDrawPage&&i.didDrawPage.push(u.didDrawPage)}return i}function yge(e,t){var n,r,i,a,o,u,d,c,h,g,x,y,C=Yy(t.margin,40/e.scaleFactor()),E=(n=bge(e,t.startY))!==null&&n!==void 0?n:C.top,T;t.showFoot===!0?T="everyPage":t.showFoot===!1?T="never":T=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var I;t.showHead===!0?I="everyPage":t.showHead===!1?I="never":I=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var D=(a=t.useCss)!==null&&a!==void 0?a:!1,F=t.theme||(D?"plain":"striped"),U=!!t.horizontalPageBreak,Z=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(u=t.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:D,theme:F,startY:E,margin:C,pageBreak:(d=t.pageBreak)!==null&&d!==void 0?d:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:I,showFoot:T,tableLineWidth:(g=t.tableLineWidth)!==null&&g!==void 0?g:0,tableLineColor:(x=t.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:U,horizontalPageBreakRepeat:Z,horizontalPageBreakBehaviour:(y=t.horizontalPageBreakBehaviour)!==null&&y!==void 0?y:"afterAllRows"}}function bge(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),i=e.pageNumber(),a=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;a=o===i}return typeof t=="number"?t:(t==null||t===!1)&&a&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function xge(e,t,n){var r=t.head||[],i=t.body||[],a=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(n){var u=uB(e,t.html,n,o,t.useCss)||{};r=u.head||r,i=u.body||r,a=u.foot||r}else console.error("Cannot parse html in non browser environment")}var d=t.columns||wge(r,i,a);return{columns:d,head:r,body:i,foot:a}}function wge(e,t,n){var r=e[0]||t[0]||n[0]||[],i=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var o=1,u;Array.isArray(r)?u=r[parseInt(a)]:u=r[a],typeof u=="object"&&!Array.isArray(u)&&(o=(u==null?void 0:u.colSpan)||1);for(var d=0;d<o;d++){var c=void 0;Array.isArray(r)?c=i.length:c=a+(d>0?"_".concat(d):"");var h={dataKey:c};i.push(h)}}),i}var h3=(function(){function e(t,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=t.getDocument()}return e})(),_ge=(function(e){iB(t,e);function t(n,r,i,a,o,u){var d=e.call(this,n,r,u)||this;return d.cell=i,d.row=a,d.column=o,d.section=a.section,d}return t})(h3),Sge=(function(){function e(t,n){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,n,r,i,a,o){for(var u=0,d=n;u<d.length;u++){var c=d[u],h=new _ge(t,this,r,i,a,o),g=c(h)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],g)return!1}return!0},e.prototype.callEndPageHooks=function(t,n){t.applyStyles(t.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var a=i[r];a(new h3(t,this,n))}},e.prototype.callWillDrawPageHooks=function(t,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var a=i[r];a(new h3(t,this,n))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return n}else{var r=this.settings.margin;return t-r.left-r.right}},e})(),dB=(function(){function e(t,n,r,i,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof aB&&(this.raw=t._element,this.element=t._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(t){var n=this;return t.reduce(function(r,i){var a;return Math.max(r,((a=n.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},e.prototype.hasRowSpan=function(t){var n=this;return t.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,n){return this.getMaxCellHeight(n)<=t},e.prototype.getMinimumRowHeight=function(t,n){var r=this;return t.reduce(function(i,a){var o=r.cells[a.index];if(!o)return 0;var u=n.getLineHeight(o.styles.fontSize),d=o.padding("vertical"),c=d+u;return c>i?c:i},0)},e})(),hB=(function(){function e(t,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=a!=null?""+a:"",u=/\r\n|\r|\n/g;this.text=o.split(u)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},e.prototype.getContentHeight=function(t,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*n,a=r*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},e.prototype.padding=function(t){var n=Yy(this.styles.cellPadding,0);return t==="vertical"?n.top+n.bottom:t==="horizontal"?n.left+n.right:n[t]},e})(),Age=(function(){function e(t,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=n,this.index=r}return e.prototype.getMaxCustomCellWidth=function(t){for(var n=0,r=0,i=t.allRows();r<i.length;r++){var a=i[r],o=a.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},e})();function Ege(e,t){Cge(e,t);var n=[],r=0;t.columns.forEach(function(a){var o=a.getMaxCustomCellWidth(t);o?a.width=o:(a.width=a.wrappedWidth,n.push(a)),r+=a.width});var i=t.getWidth(e.pageSize().width)-r;i&&(i=p3(n,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=p3(n,i,function(a){return a.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/e.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),Oge(t),Tge(t,e),Nge(t)}function Cge(e,t){var n=e.scaleFactor(),r=t.settings.horizontalPageBreak,i=lB(e,t);t.allRows().forEach(function(a){for(var o=0,u=t.columns;o<u.length;o++){var d=u[o],c=a.cells[d.index];if(c){var h=t.hooks.didParseCell;t.callCellHooks(e,h,c,a,d,null);var g=c.padding("horizontal");c.contentWidth=B2(c.text,c.styles,e)+g;var x=B2(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=x+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||r===!0)c.contentWidth>i?(c.minWidth=i,c.wrappedWidth=i):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var y=10/n;c.minWidth=c.styles.minCellWidth||y,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(a){for(var o=0,u=t.columns;o<u.length;o++){var d=u[o],c=a.cells[d.index];if(c&&c.colSpan===1)d.wrappedWidth=Math.max(d.wrappedWidth,c.wrappedWidth),d.minWidth=Math.max(d.minWidth,c.minWidth),d.minReadableWidth=Math.max(d.minReadableWidth,c.minReadableWidth);else{var h=t.styles.columnStyles[d.dataKey]||t.styles.columnStyles[d.index]||{},g=h.cellWidth||h.minCellWidth;g&&typeof g=="number"&&(d.minWidth=g,d.wrappedWidth=g)}c&&(c.colSpan>1&&!d.minWidth&&(d.minWidth=c.minWidth),c.colSpan>1&&!d.wrappedWidth&&(d.wrappedWidth=c.minWidth))}})}function p3(e,t,n){for(var r=t,i=e.reduce(function(y,C){return y+C.wrappedWidth},0),a=0;a<e.length;a++){var o=e[a],u=o.wrappedWidth/i,d=r*u,c=o.width+d,h=n(o),g=c<h?h:c;t-=g-o.width,o.width=g}if(t=Math.round(t*1e10)/1e10,t){var x=e.filter(function(y){return t<0?y.width>n(y):!0});x.length&&(t=p3(x,t,n))}return t}function Nge(e){for(var t={},n=1,r=e.allRows(),i=0;i<r.length;i++)for(var a=r[i],o=0,u=e.columns;o<u.length;o++){var d=u[o],c=t[d.index];if(n>1)n--,delete a.cells[d.index];else if(c)c.cell.height+=a.height,n=c.cell.colSpan,delete a.cells[d.index],c.left--,c.left<=1&&delete t[d.index];else{var h=a.cells[d.index];if(!h)continue;if(h.height=a.height,h.rowSpan>1){var g=r.length-i,x=h.rowSpan>g?g:h.rowSpan;t[d.index]={cell:h,left:x,row:a}}}}}function Oge(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],i=null,a=0,o=0,u=0;u<e.columns.length;u++){var d=e.columns[u];if(o-=1,o>1&&e.columns[u+1])a+=d.width,delete r.cells[d.index];else if(i){var c=i;delete r.cells[d.index],i=null,c.width=d.width+a}else{var c=r.cells[d.index];if(!c)continue;if(o=c.colSpan,a=0,c.colSpan>1){i=c,a+=d.width;continue}c.width=d.width+a}}}function Tge(e,t){for(var n={count:0,height:0},r=0,i=e.allRows();r<i.length;r++){for(var a=i[r],o=0,u=e.columns;o<u.length;o++){var d=u[o],c=a.cells[d.index];if(c){t.applyStyles(c.styles,!0);var h=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,h+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=Pk(c.text,h,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=Pk(c.text,h,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var g=c.styles.overflow(c.text,h);typeof g=="string"?c.text=[g]:c.text=g}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var x=c.contentHeight/c.rowSpan;c.rowSpan>1&&n.count*n.height<x*c.rowSpan?n={height:x,count:c.rowSpan}:n&&n.count>0&&n.height>x&&(x=n.height),x>a.height&&(a.height=x)}}n.count--}}function Pk(e,t,n,r,i){return e.map(function(a){return Ige(a,t,n,r,i)})}function Ige(e,t,n,r,i){var a=1e4*r.scaleFactor();if(t=Math.ceil(t*a)/a,t>=B2(e,n,r))return e;for(;t<B2(e+i,n,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+i}function pB(e,t){var n=new u0(e),r=jge(t,n.scaleFactor()),i=new Sge(t,r);return Ege(n,i),n.applyStyles(n.userStyles),i}function jge(e,t){var n=e.content,r=Mge(n.columns);if(n.head.length===0){var i=Rk(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=Rk(r,"foot");i&&n.foot.push(i)}var a=e.settings.theme,o=e.styles;return{columns:r,head:k5("head",n.head,r,o,a,t),body:k5("body",n.body,r,o,a,t),foot:k5("foot",n.foot,r,o,a,t)}}function k5(e,t,n,r,i,a){var o={},u=t.map(function(d,c){for(var h=0,g={},x=0,y=0,C=0,E=n;C<E.length;C++){var T=E[C];if(o[T.index]==null||o[T.index].left===0)if(y===0){var I=void 0;Array.isArray(d)?I=d[T.index-x-h]:I=d[T.dataKey];var D={};typeof I=="object"&&!Array.isArray(I)&&(D=(I==null?void 0:I.styles)||{});var F=Pge(e,T,c,i,r,a,D),U=new hB(I,F,e);g[T.dataKey]=U,g[T.index]=U,y=U.colSpan-1,o[T.index]={left:U.rowSpan-1,times:y}}else y--,x++;else o[T.index].left--,y=o[T.index].times,h++}return new dB(d,c,e,g)});return u}function Rk(e,t){var n={};return e.forEach(function(r){if(r.raw!=null){var i=kge(t,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function kge(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function Mge(e){return e.map(function(t,n){var r,i;return typeof t=="object"?i=(r=t.dataKey)!==null&&r!==void 0?r:n:i=n,new Age(i,t,n)})}function Pge(e,t,n,r,i,a,o){var u=cge(r),d;e==="head"?d=i.headStyles:e==="body"?d=i.bodyStyles:e==="foot"&&(d=i.footStyles);var c=Au({},u.table,u[e],i.styles,d),h=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},g=e==="body"?h:{},x=e==="body"&&n%2===0?Au({},u.alternateRow,i.alternateRowStyles):{},y=lge(a),C=Au({},y,c,x,g);return Au(C,o)}function Rge(e,t,n){var r;n===void 0&&(n={});var i=lB(e,t),a=new Map,o=[],u=[],d=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?d=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(d=[t.settings.horizontalPageBreakRepeat]),d.forEach(function(x){var y=t.columns.find(function(C){return C.dataKey===x||C.index===x});y&&!a.has(y.index)&&(a.set(y.index,!0),o.push(y.index),u.push(t.columns[y.index]),i-=y.wrappedWidth)});for(var c=!0,h=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;h<t.columns.length;){if(a.has(h)){h++;continue}var g=t.columns[h].wrappedWidth;if(c||i>=g)c=!1,o.push(h),u.push(t.columns[h]),i-=g;else break;h++}return{colIndexes:o,columns:u,lastIndex:h-1}}function Dge(e,t){for(var n=[],r=0;r<t.columns.length;r++){var i=Rge(e,t,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function mB(e,t){var n=t.settings,r=n.startY,i=n.margin,a={x:i.left,y:r},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),u=r+i.bottom+o;if(n.pageBreak==="avoid"){var d=t.body,c=d.reduce(function(x,y){return x+y.height},0);u+=c}var h=new u0(e);(n.pageBreak==="always"||n.startY!=null&&u>h.pageSize().height)&&(vB(h),a.y=i.top),t.callWillDrawPageHooks(h,a);var g=Au({},a);t.startPageNumber=h.pageNumber(),n.horizontalPageBreak?Lge(h,t,g,a):(h.applyStyles(h.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(x){return Du(h,t,x,a,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(x,y){var C=y===t.body.length-1;F2(h,t,x,C,g,a,t.columns)}),h.applyStyles(h.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(x){return Du(h,t,x,a,t.columns)})),sB(h,t,g,a),t.callEndPageHooks(h,a),t.finalY=a.y,e.lastAutoTable=t,h.applyStyles(h.userStyles)}function Lge(e,t,n,r){var i=Dge(e,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(c,h){e.applyStyles(e.userStyles),h>0?K1(e,t,n,r,c.columns,!0):Dk(e,t,r,c.columns),Bge(e,t,n,r,c.columns),M5(e,t,r,c.columns)});else for(var o=-1,u=i[0],d=function(){var c=o;if(u){e.applyStyles(e.userStyles);var h=u.columns;o>=0?K1(e,t,n,r,h,!0):Dk(e,t,r,h),c=Lk(e,t,o+1,r,h),M5(e,t,r,h)}var g=c-o;i.slice(1).forEach(function(x){e.applyStyles(e.userStyles),K1(e,t,n,r,x.columns,!0),Lk(e,t,o+1,r,x.columns,g),M5(e,t,r,x.columns)}),o=c};o<t.body.length-1;)d()}function Dk(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(a){return Du(e,t,a,n,r)})}function Bge(e,t,n,r,i){e.applyStyles(e.userStyles),t.body.forEach(function(a,o){var u=o===t.body.length-1;F2(e,t,a,u,n,r,i)})}function Lk(e,t,n,r,i,a){e.applyStyles(e.userStyles),a=a??t.body.length;var o=Math.min(n+a,t.body.length),u=-1;return t.body.slice(n,o).forEach(function(d,c){var h=n+c===t.body.length-1,g=gB(e,t,h,r);d.canEntireRowFit(g,i)&&(Du(e,t,d,r,i),u=n+c)}),u}function M5(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(a){return Du(e,t,a,n,r)})}function Fge(e,t,n){var r=n.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),a=Math.floor((t-i)/r);return Math.max(0,a)}function Uge(e,t,n,r){var i={};e.spansMultiplePages=!0,e.height=0;for(var a=0,o=0,u=n.columns;o<u.length;o++){var d=u[o],c=e.cells[d.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var h=new hB(c.raw,c.styles,c.section);h=Au(h,c),h.text=[];var g=Fge(c,t,r);c.text.length>g&&(h.text=c.text.splice(g,c.text.length));var x=r.scaleFactor(),y=r.getLineHeightFactor();c.contentHeight=c.getContentHeight(x,y),c.contentHeight>=t&&(c.contentHeight=t,h.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),h.contentHeight=h.getContentHeight(x,y),h.contentHeight>a&&(a=h.contentHeight),i[d.index]=h}}var C=new dB(e.raw,-1,e.section,i,!0);C.height=a;for(var E=0,T=n.columns;E<T.length;E++){var d=T[E],h=C.cells[d.index];h&&(h.height=C.height);var c=e.cells[d.index];c&&(c.height=e.height)}return C}function zge(e,t,n,r){var i=e.pageSize().height,a=r.settings.margin,o=a.top+a.bottom,u=i-o;t.section==="body"&&(u-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var d=t.getMinimumRowHeight(r.columns,e),c=d<n;if(d>u)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var h=t.hasRowSpan(r.columns),g=t.getMaxCellHeight(r.columns)>u;return g?(h&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||r.settings.rowPageBreak==="avoid")}function F2(e,t,n,r,i,a,o){var u=gB(e,t,r,a);if(n.canEntireRowFit(u,o))Du(e,t,n,a,o);else if(zge(e,n,u,t)){var d=Uge(n,u,t,e);Du(e,t,n,a,o),K1(e,t,i,a,o),F2(e,t,d,r,i,a,o)}else K1(e,t,i,a,o),F2(e,t,n,r,i,a,o)}function Du(e,t,n,r,i){r.x=t.settings.margin.left;for(var a=0,o=i;a<o.length;a++){var u=o[a],d=n.cells[u.index];if(!d){r.x+=u.width;continue}e.applyStyles(d.styles),d.x=r.x,d.y=r.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,d,n,u,r);if(c===!1){r.x+=u.width;continue}qge(e,d,r);var h=d.getTextPos();rB(d.text,h.x,h.y,{halign:d.styles.halign,valign:d.styles.valign,maxWidth:Math.ceil(d.width-d.padding("left")-d.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,d,n,u,r),r.x+=u.width}r.y+=n.height}function qge(e,t,n){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=oB(r.lineWidth,r.fillColor);i&&e.rect(t.x,n.y,t.width,t.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),Hge(e,t,n,r.lineWidth))}function Hge(e,t,n,r){var i,a,o,u;r.top&&(i=n.x,a=n.y,o=n.x+t.width,u=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),d(r.top,i,a,o,u)),r.bottom&&(i=n.x,a=n.y+t.height,o=n.x+t.width,u=n.y+t.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),d(r.bottom,i,a,o,u)),r.left&&(i=n.x,a=n.y,o=n.x,u=n.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(u+=.5*r.bottom),d(r.left,i,a,o,u)),r.right&&(i=n.x+t.width,a=n.y,o=n.x+t.width,u=n.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(u+=.5*r.bottom),d(r.right,i,a,o,u));function d(c,h,g,x,y){e.getDocument().setLineWidth(c),e.getDocument().line(h,g,x,y,"S")}}function gB(e,t,n,r){var i=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&n)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-i}function K1(e,t,n,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(u){return Du(e,t,u,r,i)}),t.callEndPageHooks(e,r);var o=t.settings.margin;sB(e,t,n,r),vB(e),t.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,t.callWillDrawPageHooks(e,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(u){return Du(e,t,u,r,i)}),e.applyStyles(e.userStyles))}function vB(e){var t=e.pageNumber();e.setPage(t+1);var n=e.pageNumber();return n===t?(e.addPage(),!0):!1}function Gge(e){e.API.autoTable=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],i=fB(this,r),a=pB(this,i);return mB(this,a),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,n,r,i){rB(t,n,r,i,this)},e.API.autoTableSetDefaults=function(t){return u0.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,n){u0.setDefaults(t,n)},e.API.autoTableHtmlToJson=function(t,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new u0(this),a=uB(i,t,window,n,!1),o=a.head,u=a.body,d=((r=o[0])===null||r===void 0?void 0:r.map(function(c){return c.content}))||[];return{columns:d,rows:u,data:u}}}var P5;function $ge(e,t){var n=fB(e,t),r=pB(e,n);mB(e,r)}try{if(typeof window<"u"&&window){var Bk=window,Fk=Bk.jsPDF||((P5=Bk.jspdf)===null||P5===void 0?void 0:P5.jsPDF);Fk&&Gge(Fk)}}catch(e){console.error("Could not apply autoTable plugin",e)}const Wge=async e=>{var t;try{const{data:n,error:r}=await Tt.from("conceptos_factura").select("*").eq("factura_id",e.id).order("created_at",{ascending:!0});if(r)throw r;const i=new ln;i.setFontSize(22),i.setFont("helvetica","bold"),i.setTextColor(37,99,235),i.text("YOUBOX GT",14,22),i.setFontSize(10),i.setFont("helvetica","normal"),i.setTextColor(100,116,139),i.text("Logstica y Casilleros Internacionales",14,28),i.text("PBX: +502 0000-0000",14,33),i.text("hola@youbox.gt",14,38),i.setFontSize(16),i.setFont("helvetica","bold"),i.setTextColor(15,23,42),i.text("FACTURA",150,22),i.setFontSize(10),i.setFont("helvetica","normal"),i.text(`No. de Recibo: ${e.numero}`,150,28),i.text(`Fecha: ${nl(new Date(e.fecha_emision),"dd MMM yyyy",{locale:Lf})}`,150,33);const a=e.estado==="verificado"?"PAGADA":e.estado.toUpperCase();i.setFont("helvetica","bold"),i.setTextColor(e.estado==="verificado"?22:217,e.estado==="verificado"?163:119,e.estado==="verificado"?74:6),i.text(`Estado: ${a}`,150,38),i.setDrawColor(226,232,240),i.setLineWidth(.5),i.line(14,45,196,45),i.setFontSize(11),i.setFont("helvetica","bold"),i.setTextColor(15,23,42),i.text("Facturar a:",14,55),i.setFontSize(10),i.setFont("helvetica","normal"),i.setTextColor(71,85,105);const o=e.clientes?`${e.clientes.nombre} ${e.clientes.apellido}`:e.cliente_manual_nombre||"Consumidor Final",u=e.clientes?e.clientes.nit||"C/F":e.cliente_manual_nit||"C/F",d=e.clientes&&e.clientes.locker_id||"N/A";i.text(`Cliente: ${o}`,14,62),i.text(`Casillero: ${d}`,14,67),i.text(`NIT: ${u}`,14,72),(t=e.clientes)!=null&&t.direccion_entrega&&i.text(`Direccin: ${e.clientes.direccion_entrega}`,14,77);const c=(n||[]).map((g,x)=>[x+1,g.descripcion,g.cantidad,`${e.moneda} ${g.precio_unitario.toFixed(2)}`,`${e.moneda} ${g.subtotal.toFixed(2)}`]);$ge(i,{startY:85,head:[["#","Descripcin / Cargo","Cant.","Precio Unitario","Subtotal"]],body:c,theme:"striped",headStyles:{fillColor:[37,99,235],textColor:255,fontStyle:"bold"},styles:{fontSize:9,cellPadding:4},columnStyles:{0:{cellWidth:10,halign:"center"},1:{cellWidth:80},2:{cellWidth:20,halign:"center"},3:{cellWidth:35,halign:"right"},4:{cellWidth:35,halign:"right"}}});const h=i.lastAutoTable.finalY+10;i.setFontSize(12),i.setFont("helvetica","bold"),i.setTextColor(15,23,42),i.text("Total a Pagar:",130,h),i.setFontSize(14),i.text(`${e.moneda} ${e.monto_total.toFixed(2)}`,160,h),i.setFontSize(9),i.setFont("helvetica","normal"),i.setTextColor(148,163,184),i.text("Gracias por su preferencia.",105,280,{align:"center"}),i.text("Este documento es un comprobante de servicio de envo internacional.",105,285,{align:"center"}),i.save(`${e.numero}.pdf`)}catch(n){console.error("Error generating PDF:",n),alert("Ocurri un error al tratar de generar el PDF de la factura.")}},Uk={pendiente:{label:"Pendiente",color:"bg-amber-100 text-amber-700 ring-amber-600/20"},verificado:{label:"Pagada",color:"bg-green-100 text-green-700 ring-green-600/20"},anulado:{label:"Anulada",color:"bg-red-100 text-red-700 ring-red-600/20"},devuelto:{label:"Devuelta",color:"bg-slate-100 text-slate-700 ring-slate-600/20"}};function Vge(){const{user:e,isAdmin:t}=Aa(),[n,r]=R.useState([]),[i,a]=R.useState(!0),[o,u]=R.useState(!1),[d,c]=R.useState(!1),[h,g]=R.useState(null);R.useEffect(()=>{x()},[e]);async function x(){if(e)try{a(!0);let I=Tt.from("facturas").select(`
          id, numero, monto_total, moneda, estado, fecha_emision, cliente_manual_nombre, cliente_manual_nit,
          clientes (nombre, apellido, locker_id, nit, direccion_entrega)
        `).order("fecha_emision",{ascending:!1});t||(I=I.eq("cliente_id",e.id));const{data:D,error:F}=await I;if(F)throw F;r(D||[])}catch(I){console.error("Error fetching facturas:",I)}finally{a(!1)}}const y=I=>{g(I),c(!0)},C=n.filter(I=>I.estado==="pendiente").length,E=n.filter(I=>I.estado==="verificado").length,T=n.filter(I=>["anulado","devuelto"].includes(I.estado)).length;return _.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:t?"Facturacin y Pagos":"Mis Facturas"}),_.jsx("p",{className:"text-sm text-slate-500",children:t?"Gestin del ciclo de pagos y facturacin.":"Historial de tus facturas y cobros de envos."})]}),t&&_.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-500",children:[_.jsx(V2,{className:"h-4 w-4"}),"Generar Factura"]})]}),_.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3 mb-6",children:[_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[_.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Facturas Pendientes"}),_.jsx("p",{className:"text-2xl font-semibold text-slate-800 mt-1",children:i?"...":C})]}),_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[_.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Pagos Completados"}),_.jsx("p",{className:"text-2xl font-semibold text-slate-800 mt-1",children:i?"...":E})]}),_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[_.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Anuladas / Devueltas"}),_.jsx("p",{className:"text-2xl font-semibold text-slate-800 mt-1",children:i?"...":T})]})]}),_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden",children:[_.jsx("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between bg-slate-50",children:_.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"ltimas Facturas"})}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[_.jsx("thead",{className:"bg-white",children:_.jsxs("tr",{children:[_.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-slate-900 sm:pl-6",children:"Factura"}),t&&_.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900 hidden sm:table-cell",children:"Cliente"}),_.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900 hidden md:table-cell",children:"Fecha"}),_.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900",children:"Monto"}),_.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900",children:"Estado"}),_.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:_.jsx("span",{className:"sr-only",children:"Acciones"})})]})}),_.jsx("tbody",{className:"divide-y divide-slate-200 bg-white",children:i?_.jsx("tr",{children:_.jsx("td",{colSpan:t?6:5,className:"py-16 text-center text-slate-500 text-sm",children:"Cargando facturas..."})}):n.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:t?6:5,className:"py-16 text-center",children:_.jsxs("div",{className:"flex flex-col items-center gap-2 text-slate-400",children:[_.jsx(Y2,{className:"h-10 w-10 text-slate-300"}),_.jsx("p",{className:"text-sm font-medium text-slate-500",children:"No hay facturas registradas"}),_.jsx("p",{className:"text-xs",children:"Las facturas aparecern aqu cuando sean generadas por sistema."})]})})}):n.map(I=>{var D,F;return _.jsxs("tr",{className:"hover:bg-slate-50",children:[_.jsxs("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 sm:pl-6 font-medium text-slate-900",children:[_.jsx("div",{children:I.numero}),_.jsxs("div",{className:"sm:hidden text-xs text-slate-500 mt-1",children:[t&&_.jsxs(_.Fragment,{children:[I.clientes?`${I.clientes.nombre} ${I.clientes.apellido}`:I.cliente_manual_nombre||"Consumidor Final"," ",_.jsx("br",{})]}),I.fecha_emision?nl(new Date(I.fecha_emision),"dd/MM/yy"):"N/A"]})]}),t&&_.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600 hidden sm:table-cell",children:I.clientes?`${I.clientes.nombre} ${I.clientes.apellido}`:I.cliente_manual_nombre||"Consumidor Final"}),_.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600 hidden md:table-cell",children:I.fecha_emision?nl(new Date(I.fecha_emision),"dd MMM yyyy",{locale:Lf}):"N/A"}),_.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-900 font-medium",children:[I.moneda," ",I.monto_total]}),_.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm",children:_.jsx("span",{className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset ${((D=Uk[I.estado])==null?void 0:D.color)||"bg-slate-50 text-slate-600"}`,children:((F=Uk[I.estado])==null?void 0:F.label)||I.estado})}),_.jsxs("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:[t&&I.estado==="pendiente"&&_.jsxs("button",{onClick:()=>y(I),className:"text-green-600 hover:text-green-900 mr-4 inline-flex items-center gap-1",children:[_.jsx(O3,{className:"h-4 w-4"})," Registrar Pago"]}),_.jsxs("button",{onClick:()=>Wge(I),className:"text-slate-600 hover:text-blue-600 inline-flex items-center gap-1 transition-colors",children:[_.jsx(CM,{className:"h-4 w-4"})," PDF"]})]})]},I.id)})})]})})]}),_.jsx(sge,{isOpen:o,onClose:()=>u(!1),onSuccess:x}),h&&_.jsx(oge,{isOpen:d,onClose:()=>{c(!1),g(null)},onSuccess:x,facturaId:h.id,facturaTotal:h.monto_total,facturaNumero:h.numero})]})}function Yge(){return _.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Configuracin del Sistema"}),_.jsx("p",{className:"text-sm text-slate-500",children:"Administra la arquitectura de datos y preferencias de YOUBOX GT."})]}),_.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm hover:border-blue-500 transition-colors cursor-pointer group",children:[_.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-50 flex items-center justify-center mb-4 group-hover:bg-blue-50 transition-colors",children:_.jsx(op,{className:"h-5 w-5 text-blue-600 group-hover:text-blue-600 transition-colors"})}),_.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Jerarqua de Usuarios"}),_.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Gestiona roles: Admin, Clientes (Locker), Agentes y Transportistas."})]}),_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm hover:border-blue-500 transition-colors cursor-pointer group",children:[_.jsx("div",{className:"h-10 w-10 rounded-lg bg-indigo-50 flex items-center justify-center mb-4 group-hover:bg-blue-50 transition-colors",children:_.jsx(IM,{className:"h-5 w-5 text-indigo-600 group-hover:text-blue-600 transition-colors"})}),_.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Estructura Geogrfica"}),_.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Tablas maestras de Pases, Regiones, Ciudades y Puertos para rutas."})]}),_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm hover:border-blue-500 transition-colors cursor-pointer group",children:[_.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-50 flex items-center justify-center mb-4",children:_.jsx(f0,{className:"h-5 w-5 text-blue-600"})}),_.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Motor de Tarifas"}),_.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Configuracin de costos por Guas, Warehouse y servicios adicionales."})]}),_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm hover:border-blue-500 transition-colors cursor-pointer group",children:[_.jsx("div",{className:"h-10 w-10 rounded-lg bg-amber-50 flex items-center justify-center mb-4 group-hover:bg-blue-50 transition-colors",children:_.jsx(AM,{className:"h-5 w-5 text-amber-600 group-hover:text-blue-600 transition-colors"})}),_.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Notificaciones WhatsApp"}),_.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Configura plantillas y alertas automatizadas para clientes."})]}),_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm hover:border-blue-500 transition-colors cursor-pointer group",children:[_.jsx("div",{className:"h-10 w-10 rounded-lg bg-purple-50 flex items-center justify-center mb-4 group-hover:bg-blue-50 transition-colors",children:_.jsx(m$,{className:"h-5 w-5 text-purple-600 group-hover:text-blue-600 transition-colors"})}),_.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Personalizacin y Marca"}),_.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Etiquetas trmicas, formatos Excel y despliegues visuales."})]})]})]})}function Xge(){const{user:e}=Aa(),[t,n]=R.useState([]),[r,i]=R.useState([]),[a,o]=R.useState(!0),[u,d]=R.useState(null),[c,h]=R.useState(null),[g,x]=R.useState(""),[y,C]=R.useState(!1),[E,T]=R.useState(!1),[I,D]=R.useState({bodega_id:"",nombre_servicio:"",tipo_cobro:"por_libra",tarifa_q:""});R.useEffect(()=>{F()},[]);async function F(){o(!0);try{const{data:q,error:oe}=await Tt.from("bodegas").select("id, nombre");if(oe)throw oe;i(q||[]);const{data:H,error:G}=await Tt.from("tarifas").select(`
          *,
          bodegas ( id, nombre )
        `).order("nombre_servicio");if(G)throw G;n(H||[])}catch(q){console.error("Error fetching tariffs:",q)}finally{o(!1)}}const U=q=>{h(q.id),x(q.tarifa_q.toString())},Z=async q=>{if(!g||isNaN(Number(g))){alert("Por favor ingrese un nmero vlido.");return}d(q.id);try{const oe=parseFloat(g),{error:H}=await Tt.from("tarifas").update({tarifa_q:oe}).eq("id",q.id);if(H)throw H;n(t.map(G=>G.id===q.id?{...G,tarifa_q:oe}:G)),h(null)}catch(oe){console.error(oe),alert("Error guardando la tarifa: "+oe.message)}finally{d(null)}},Q=async q=>{if(q.preventDefault(),!I.bodega_id||!I.nombre_servicio||!I.tarifa_q){alert("Completar todos los campos obligatorios.");return}T(!0);try{const oe={bodega_id:I.bodega_id,nombre_servicio:I.nombre_servicio,tipo_cobro:I.tipo_cobro,tarifa_q:parseFloat(I.tarifa_q),activa:!0},{data:H,error:G}=await Tt.from("tarifas").insert([oe]).select("*, bodegas (id, nombre)").single();if(G)throw G;H&&n([...t,H]),C(!1),D({bodega_id:r.length>0?r[0].id:"",nombre_servicio:"",tipo_cobro:"por_libra",tarifa_q:""})}catch(oe){console.error(oe),alert("Error creando tarifa: "+oe.message)}finally{T(!1)}},Y=q=>new Intl.NumberFormat("es-GT",{style:"currency",currency:"GTQ"}).format(q),J=r.map(q=>({bodega:q,items:t.filter(oe=>oe.bodega_id===q.id)})).filter(q=>q.items.length>0||r.length>0);return _.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto pb-10",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Motor de Tarifas"}),_.jsx("p",{className:"text-sm text-slate-500",children:"Configura los precios de fletes por libra o por paquete segn cada Origen."})]}),_.jsxs("button",{onClick:()=>{C(!y),!I.bodega_id&&r.length>0&&D(q=>({...q,bodega_id:r[0].id}))},className:"inline-flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-blue-600 transition-colors",children:[y?_.jsx(Ou,{className:"h-4 w-4"}):_.jsx(E0,{className:"h-4 w-4"}),y?"Cancelar":"Agregar Tarifa"]})]}),y&&_.jsxs("div",{className:"bg-white border rounded-xl shadow-sm border-slate-200 p-5 animate-in fade-in slide-in-from-top-4",children:[_.jsxs("h3",{className:"font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[_.jsx(f0,{className:"h-4 w-4 text-blue-500"})," Nueva Configuracin de Tarifa"]}),_.jsxs("form",{onSubmit:Q,className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[_.jsxs("div",{className:"md:col-span-1",children:[_.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Bodega (Origen)"}),_.jsx("select",{required:!0,value:I.bodega_id,onChange:q=>D({...I,bodega_id:q.target.value}),className:"block w-full rounded-md border-0 py-1.5 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-blue-600 sm:text-sm",children:r.map(q=>_.jsx("option",{value:q.id,children:q.nombre},q.id))})]}),_.jsxs("div",{className:"md:col-span-1",children:[_.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Servicio (Ej. Shein)"}),_.jsx("input",{required:!0,type:"text",placeholder:"Nombre servicio",value:I.nombre_servicio,onChange:q=>D({...I,nombre_servicio:q.target.value}),className:"block w-full rounded-md border-0 py-1.5 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-blue-600 sm:text-sm"})]}),_.jsxs("div",{className:"md:col-span-1",children:[_.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Tipo de Cobro"}),_.jsxs("select",{required:!0,value:I.tipo_cobro,onChange:q=>D({...I,tipo_cobro:q.target.value}),className:"block w-full rounded-md border-0 py-1.5 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-blue-600 sm:text-sm",children:[_.jsx("option",{value:"por_libra",children:"Por Libra"}),_.jsx("option",{value:"por_paquete",children:"Por Paquete/Pieza"})]})]}),_.jsxs("div",{className:"md:col-span-1",children:[_.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Costo (Q)"}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:_.jsx("span",{className:"text-slate-400 font-semibold text-xs",children:"Q"})}),_.jsx("input",{required:!0,type:"number",step:"0.01",min:"0",value:I.tarifa_q,onChange:q=>D({...I,tarifa_q:q.target.value}),className:"block w-full rounded-md border-0 py-1.5 pl-8 pr-3 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-blue-600 sm:text-sm",placeholder:"0.00"})]})]}),_.jsx("div",{className:"md:col-span-1",children:_.jsxs("button",{type:"submit",disabled:E,className:"w-full inline-flex justify-center items-center gap-2 rounded-md bg-slate-900 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 disabled:opacity-70",children:[E?_.jsx(Ss,{className:"h-4 w-4 animate-spin"}):_.jsx(Pf,{className:"h-4 w-4"}),"Guardar"]})})]})]}),a?_.jsx("div",{className:"flex justify-center h-40 items-center",children:_.jsx(Ss,{className:"h-8 w-8 text-blue-500 animate-spin"})}):_.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 lg:gap-8 gap-6",children:J.map(q=>_.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[_.jsxs("div",{className:"bg-slate-50 px-5 py-4 border-b border-slate-200 flex items-center gap-3",children:[_.jsx("div",{className:"p-2 bg-blue-100/50 rounded-lg text-blue-600",children:_.jsx(Jl,{className:"h-5 w-5"})}),_.jsxs("h2",{className:"text-lg font-bold text-slate-800 tracking-tight",children:["Bodega ",q.bodega.nombre]})]}),_.jsx("ul",{className:"divide-y divide-slate-100",children:q.items.length===0?_.jsx("li",{className:"p-5 flex justify-center text-slate-400 text-sm",children:"No hay tarifas configuradas aqu."}):q.items.map(oe=>_.jsxs("li",{className:"p-5 flex items-center justify-between hover:bg-slate-50/50 transition-colors",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[oe.tipo_cobro==="por_libra"?_.jsx(f0,{className:"h-4 w-4 text-slate-400"}):_.jsx(Fc,{className:"h-4 w-4 text-slate-400"}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-semibold text-slate-900",children:oe.nombre_servicio}),_.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["Cobro ",oe.tipo_cobro.replace("_"," ")]})]})]}),_.jsx("div",{className:"flex items-center gap-4",children:c===oe.id?_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("div",{className:"relative w-24",children:[_.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-2 text-slate-500 font-semibold text-xs",children:"Q"}),_.jsx("input",{type:"number",autoFocus:!0,step:"any",value:g,onChange:H=>x(H.target.value),className:"block w-full rounded-md border-0 py-1 pl-6 pr-2 text-slate-900 shadow-sm ring-1 ring-inset ring-blue-500 sm:text-sm font-bold"})]}),_.jsx("button",{onClick:()=>Z(oe),disabled:u===oe.id,className:"p-1 rounded bg-blue-50 text-blue-600 hover:bg-blue-100 disabled:opacity-50",title:"Guardar",children:u===oe.id?_.jsx(Ss,{className:"h-4 w-4 animate-spin"}):_.jsx(Pf,{className:"h-4 w-4"})}),_.jsx("button",{onClick:()=>h(null),className:"p-1 rounded bg-slate-50 text-slate-500 hover:bg-slate-200",title:"Cancelar",children:_.jsx(Ou,{className:"h-4 w-4"})})]}):_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"text-right",children:_.jsx("span",{className:"text-base font-bold text-slate-800",children:Y(oe.tarifa_q)})}),_.jsx("button",{onClick:()=>U(oe),className:"p-1.5 rounded-md text-slate-400 hover:text-blue-600 hover:bg-blue-50 transition-colors",title:"Editar Tarifa",children:_.jsx(b$,{className:"h-4 w-4"})})]})})]},oe.id))})]},q.bodega.id))})]})}function Kge(){const[e,t]=R.useState("staff"),[n,r]=R.useState([]),[i,a]=R.useState([]),[o,u]=R.useState([]),[d,c]=R.useState([]),[h,g]=R.useState(!0),[x,y]=R.useState(!1),[C,E]=R.useState(!1),[T,I]=R.useState(""),[D,F]=R.useState(null),[U,Z]=R.useState({nombre:"",apellido:"",email:"",telefono:"",rol_id:"",sucursal_id:"",password:"",locker_id:"",departamento:"",municipio:""});R.useEffect(()=>{e==="staff"?J():q(),Y(),Q()},[e]);async function Q(){try{const{data:K,error:ve}=await Tt.from("sucursales").select("id, nombre").eq("activa",!0).order("nombre");if(ve)throw ve;c(K||[]),K&&K.length>0&&Z(Te=>({...Te,sucursal_id:K[0].id}))}catch(K){console.error("Error fetching sucursales:",K)}}async function Y(){try{const{data:K,error:ve}=await Tt.from("roles").select("id, nombre");if(ve)throw ve;u(K||[]),K&&K.length>0&&!U.rol_id&&Z(Te=>({...Te,rol_id:K[0].id}))}catch(K){console.error("Error fetching roles:",K)}}async function J(){try{g(!0);const{data:K,error:ve}=await Tt.from("usuarios").select("*, roles ( nombre ), sucursales ( nombre )").order("created_at",{ascending:!1});if(ve)throw ve;r(K||[])}catch(K){console.error("Error fetching users:",K)}finally{g(!1)}}async function q(){try{g(!0);const{data:K,error:ve}=await Tt.from("clientes").select("*, sucursales ( nombre )").order("created_at",{ascending:!1}).limit(5e3);if(ve)throw ve;a(K||[])}catch(K){console.error("Error fetching clients:",K)}finally{g(!1)}}const oe=(K,ve)=>{var Te,we,ue,V;F(K.id),t(ve),Z(ve==="staff"?{nombre:K.nombre||"",apellido:K.apellido||"",email:K.email||"",telefono:K.telefono||"",rol_id:K.rol_id||((Te=o[0])==null?void 0:Te.id)||"",sucursal_id:K.sucursal_id||((we=d[0])==null?void 0:we.id)||"",password:"",locker_id:"",departamento:"",municipio:""}:{nombre:K.nombre||"",apellido:K.apellido||"",email:K.email||"",telefono:K.telefono||"",rol_id:((ue=o[0])==null?void 0:ue.id)||"",sucursal_id:K.sucursal_id||((V=d[0])==null?void 0:V.id)||"",password:"",locker_id:K.locker_id||"",departamento:K.departamento||"",municipio:K.municipio||""}),y(!0)},H=()=>{var K,ve;F(null),Z({nombre:"",apellido:"",email:"",telefono:"",rol_id:((K=o[0])==null?void 0:K.id)||"",sucursal_id:((ve=d[0])==null?void 0:ve.id)||"",password:"",locker_id:"",departamento:"",municipio:""}),y(!0)};async function G(K){var ve,Te,we;K.preventDefault();try{if(E(!0),e==="staff"){const ue={nombre:U.nombre,apellido:U.apellido,email:U.email.toLowerCase(),telefono:U.telefono,rol_id:U.rol_id,sucursal_id:U.sucursal_id,...U.password?{password_hash:U.password}:{}};if(D){const{error:V}=await Tt.from("usuarios").update(ue).eq("id",D);if(V)throw V}else{const{error:V}=await Tt.from("usuarios").insert([{...ue,activo:!0}]);if(V)throw V}J()}else{const ue={nombre:U.nombre,apellido:U.apellido,email:((ve=U.email)==null?void 0:ve.toLowerCase())||null,telefono:U.telefono,locker_id:U.locker_id,sucursal_id:U.sucursal_id,departamento:U.departamento,municipio:U.municipio};if(D){const{error:V}=await Tt.from("clientes").update(ue).eq("id",D);if(V)throw V}else{const{error:V}=await Tt.from("clientes").insert([{...ue,activo:!0}]);if(V)throw V}q()}y(!1),F(null),Z({nombre:"",apellido:"",email:"",telefono:"",rol_id:((Te=o[0])==null?void 0:Te.id)||"",sucursal_id:((we=d[0])==null?void 0:we.id)||"",password:"",locker_id:"",departamento:"",municipio:""})}catch(ue){console.error("Error saving:",ue),alert(ue.message||"Error al guardar. Verifica los datos ingresados.")}finally{E(!1)}}async function fe(K){const ve=prompt("Ingresa la nueva contrasea temporal para este usuario:");if(ve)try{const{error:Te}=await Tt.from("usuarios").update({password_hash:ve}).eq("id",K);if(Te)throw Te;alert("Contrasea actualizada exitosamente.")}catch{alert("Error al actualizar la contrasea.")}}async function ee(K,ve){try{const{error:Te}=await Tt.from("usuarios").update({activo:!ve}).eq("id",K);if(Te)throw Te;J()}catch{alert("Error al cambiar estado.")}}async function ae(K,ve){try{const{error:Te}=await Tt.from("clientes").update({activo:!ve}).eq("id",K);if(Te)throw Te;q()}catch{alert("Error al cambiar estado del cliente.")}}const ie=i.filter(K=>{var ve,Te;return(K.nombre+" "+(K.apellido||"")).toLowerCase().includes(T.toLowerCase())||((ve=K.locker_id)==null?void 0:ve.toLowerCase().includes(T.toLowerCase()))||((Te=K.email)==null?void 0:Te.toLowerCase().includes(T.toLowerCase()))});return _.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Gestin de Usuarios"}),_.jsx("p",{className:"text-sm text-slate-500",children:"Administra tanto a tu equipo de trabajo como a tu base de clientes."})]}),_.jsxs("button",{onClick:H,className:"inline-flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-500 w-fit",children:[_.jsx(E0,{className:"h-4 w-4"}),e==="staff"?"Aadir Miembro":"Nuevo Cliente"]})]}),_.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 bg-white p-2 rounded-xl border border-slate-200 shadow-sm",children:[_.jsxs("div",{className:"flex p-1 bg-slate-100 rounded-lg w-full sm:w-auto",children:[_.jsx("button",{onClick:()=>t("staff"),className:`flex-1 sm:flex-none px-4 py-1.5 text-sm font-medium rounded-md transition-all ${e==="staff"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Equipo de Trabajo"}),_.jsx("button",{onClick:()=>t("clients"),className:`flex-1 sm:flex-none px-4 py-1.5 text-sm font-medium rounded-md transition-all ${e==="clients"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Clientes"})]}),e==="clients"&&_.jsxs("div",{className:"relative w-full sm:w-64",children:[_.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:_.jsx(op,{className:"h-4 w-4 text-slate-400"})}),_.jsx("input",{type:"text",placeholder:"Buscar cliente...",value:T,onChange:K=>I(K.target.value),className:"block w-full pl-10 pr-3 py-2 border border-slate-200 rounded-lg text-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"})]})]}),_.jsx("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden",children:_.jsx("div",{className:"overflow-x-auto",children:e==="staff"?_.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[_.jsx("thead",{className:"bg-slate-50",children:_.jsxs("tr",{children:[_.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-slate-900 sm:pl-6",children:"Usuario"}),_.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900 hidden md:table-cell",children:"Contacto"}),_.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900 hidden sm:table-cell",children:"Rol & Sucursal"}),_.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900",children:"Estado"}),_.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:_.jsx("span",{className:"sr-only",children:"Acciones"})})]})}),_.jsx("tbody",{className:"divide-y divide-slate-200 bg-white",children:h?_.jsx("tr",{children:_.jsx("td",{colSpan:5,className:"py-16 text-center text-slate-500 text-sm",children:"Cargando equipo..."})}):n.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:5,className:"py-16 text-center text-slate-500 text-sm",children:"No hay miembros configurados en el equipo."})}):n.map(K=>{var ve,Te,we;return _.jsxs("tr",{className:"hover:bg-slate-50",children:[_.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 sm:pl-6",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("div",{className:"h-10 w-10 shrink-0 rounded-full bg-slate-100 flex items-center justify-center text-slate-600 font-bold",children:[K.nombre[0],K.apellido?K.apellido[0]:""]}),_.jsxs("div",{children:[_.jsxs("div",{className:"font-medium text-slate-900",children:[K.nombre," ",K.apellido]}),K.email==="admin@youbox.gt"&&_.jsx("div",{className:"text-xs text-blue-600 font-medium tracking-wide",children:"MASTER O SUPERADMIN"}),_.jsxs("div",{className:"sm:hidden text-xs text-slate-500 mt-1",children:[K.email," ",_.jsx("br",{}),_.jsx("span",{className:"capitalize",children:((ve=K.roles)==null?void 0:ve.nombre)||"Sin Rol"})]})]})]})}),_.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-500 hidden md:table-cell",children:[_.jsxs("div",{className:"flex items-center gap-1.5",children:[_.jsx(X5,{className:"w-3.5 h-3.5"})," ",K.email]}),K.telefono&&_.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[_.jsx(K5,{className:"w-3.5 h-3.5"})," ",K.telefono]})]}),_.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600 space-y-2 hidden sm:table-cell",children:[_.jsx("div",{children:_.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full px-2.5 py-0.5 text-xs font-medium bg-indigo-50 text-indigo-700 ring-1 ring-inset ring-indigo-600/20 capitalize",children:[_.jsx(Q5,{className:"w-3.5 h-3.5"}),((Te=K.roles)==null?void 0:Te.nombre)||"Sin Rol"]})}),((we=K.sucursales)==null?void 0:we.nombre)&&_.jsx("div",{children:_.jsx("span",{className:"inline-flex items-center gap-1.5 rounded-full px-2.5 py-0.5 text-xs font-medium bg-emerald-50 text-emerald-700 ring-1 ring-inset ring-emerald-600/20",children:K.sucursales.nombre})})]}),_.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600",children:_.jsx("button",{onClick:()=>ee(K.id,K.activo),className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset transition-colors ${K.activo?"bg-green-50 text-green-700 ring-green-600/20 hover:bg-green-100":"bg-slate-100 text-slate-700 ring-slate-600/20 hover:bg-slate-200"}`,children:K.activo?"Activo":"Suspendido"})}),_.jsxs("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:[_.jsx("button",{onClick:()=>oe(K,"staff"),className:"text-slate-400 hover:text-blue-600 mr-4",title:"Editar Miembro",children:"Editar"}),_.jsx("button",{onClick:()=>fe(K.id),className:"text-slate-400 hover:text-amber-600 mr-4",title:"Cambiar Contrasea",children:_.jsx(zG,{className:"w-4 h-4"})}),K.email!=="admin@youbox.gt"&&_.jsx("button",{className:"text-slate-400 hover:text-red-600",title:"Eliminar Permanente",children:_.jsx(T3,{className:"w-4 h-4"})})]})]},K.id)})})]}):_.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[_.jsx("thead",{className:"bg-slate-50",children:_.jsxs("tr",{children:[_.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-slate-900 sm:pl-6",children:"Cliente"}),_.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900",children:"Casillero"}),_.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900 hidden md:table-cell",children:"Contacto"}),_.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900 hidden sm:table-cell",children:"Sucursal"}),_.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900",children:"Estado"}),_.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:_.jsx("span",{className:"sr-only",children:"Acciones"})})]})}),_.jsx("tbody",{className:"divide-y divide-slate-200 bg-white",children:h?_.jsx("tr",{children:_.jsx("td",{colSpan:6,className:"py-16 text-center text-slate-500 text-sm",children:"Cargando clientes..."})}):ie.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:6,className:"py-16 text-center text-slate-500 text-sm",children:"No se encontraron clientes."})}):ie.map(K=>{var ve;return _.jsxs("tr",{className:"hover:bg-slate-50",children:[_.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 sm:pl-6",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("div",{className:"h-10 w-10 shrink-0 rounded-full bg-blue-50 flex items-center justify-center text-blue-600 font-bold hidden sm:flex",children:[K.nombre[0],K.apellido?K.apellido[0]:""]}),_.jsxs("div",{children:[_.jsxs("div",{className:"font-medium text-slate-900",children:[K.nombre," ",K.apellido]}),_.jsx("div",{className:"sm:hidden text-xs text-slate-500 mt-1",children:K.email})]})]})}),_.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm font-mono font-medium text-blue-600",children:K.locker_id}),_.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-500 hidden md:table-cell",children:[K.email&&_.jsxs("div",{className:"flex items-center gap-1.5",children:[_.jsx(X5,{className:"w-3.5 h-3.5"})," ",K.email]}),K.telefono&&_.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[_.jsx(K5,{className:"w-3.5 h-3.5"})," ",K.telefono]})]}),_.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600 hidden sm:table-cell",children:((ve=K.sucursales)==null?void 0:ve.nombre)&&_.jsx("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium bg-emerald-50 text-emerald-700 ring-1 ring-inset ring-emerald-600/20",children:K.sucursales.nombre})}),_.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-slate-600",children:_.jsx("button",{onClick:()=>ae(K.id,K.activo),className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset transition-colors ${K.activo?"bg-green-50 text-green-700 ring-green-600/20 hover:bg-green-100":"bg-slate-100 text-slate-700 ring-slate-600/20 hover:bg-slate-200"}`,children:K.activo?"Activo":"Inactivo"})}),_.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:_.jsx("button",{onClick:()=>oe(K,"clients"),className:"text-slate-400 hover:text-blue-600 mr-4",children:"Editar"})})]},K.id)})})]})})}),x&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:_.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden",children:[_.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center gap-3",children:[_.jsx(op,{className:"w-5 h-5 text-blue-600"}),_.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:D?e==="staff"?"Editar Miembro de Equipo":"Editar Cliente":e==="staff"?"Crear Miembro del Equipo":"Nuevo Cliente"})]}),_.jsxs("form",{onSubmit:G,className:"p-6 space-y-4 max-h-[80vh] overflow-y-auto",children:[_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nombre"}),_.jsx("input",{required:!0,type:"text",value:U.nombre,onChange:K=>Z({...U,nombre:K.target.value}),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm p-2 border"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Apellido"}),_.jsx("input",{type:"text",value:U.apellido,onChange:K=>Z({...U,apellido:K.target.value}),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm p-2 border"})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Correo Electrnico"}),_.jsx("input",{required:e==="staff",type:"email",value:U.email,onChange:K=>Z({...U,email:K.target.value}),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm p-2 border"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Telfono"}),_.jsx("input",{type:"text",value:U.telefono,onChange:K=>Z({...U,telefono:K.target.value}),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm p-2 border"})]})]}),e==="staff"?_.jsxs(_.Fragment,{children:[!D&&_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Contrasea de Ingreso"}),_.jsx("input",{required:!D,type:"text",value:U.password,onChange:K=>Z({...U,password:K.target.value}),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm p-2 border",placeholder:"Contrasea temporal"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Rol / Jerarqua"}),_.jsx("select",{required:!0,value:U.rol_id,onChange:K=>Z({...U,rol_id:K.target.value}),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm p-2 border capitalize",children:o.map(K=>_.jsx("option",{value:K.id,children:K.nombre},K.id))})]})]}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Casillero ID"}),_.jsx("input",{required:!0,type:"text",placeholder:"Ej: YBG123",value:U.locker_id,onChange:K=>Z({...U,locker_id:K.target.value.toUpperCase()}),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm p-2 border"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Departamento"}),_.jsx("input",{type:"text",value:U.departamento,onChange:K=>Z({...U,departamento:K.target.value}),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm p-2 border"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Municipio"}),_.jsx("input",{type:"text",value:U.municipio,onChange:K=>Z({...U,municipio:K.target.value}),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm p-2 border"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Asignacin de Sucursal"}),_.jsx("select",{required:!0,value:U.sucursal_id,onChange:K=>Z({...U,sucursal_id:K.target.value}),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm p-2 border",children:d.map(K=>_.jsx("option",{value:K.id,children:K.nombre},K.id))})]}),_.jsxs("div",{className:"pt-4 flex gap-3 justify-end",children:[_.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 rounded-md ring-1 ring-inset ring-slate-300",children:"Cancelar"}),_.jsxs("button",{type:"submit",disabled:C,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md disabled:opacity-50 flex items-center gap-2",children:[C&&_.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),D?"Guardar Cambios":e==="staff"?"Guardar Perfil":"Guardar Cliente"]})]})]})]})})]})}function Zge(){const[e,t]=R.useState([]),[n,r]=R.useState(!0),[i,a]=R.useState(!1),[o,u]=R.useState(!1),[d,c]=R.useState({nombre:"",prefijo_casillero:""});R.useEffect(()=>{h()},[]);const h=async()=>{r(!0);const{data:y,error:C}=await Tt.from("sucursales").select("*").order("created_at",{ascending:!0});C||t(y||[]),r(!1)},g=async y=>{y.preventDefault(),u(!0);try{const{error:C}=await Tt.from("sucursales").insert([{nombre:d.nombre,prefijo_casillero:d.prefijo_casillero.toUpperCase(),activa:!0}]);if(C)throw C;c({nombre:"",prefijo_casillero:""}),a(!1),h()}catch(C){alert(C.message||"Error al crear la sucursal.")}finally{u(!1)}},x=async(y,C)=>{const{error:E}=await Tt.from("sucursales").update({activa:!C}).eq("id",y);E||h()};return _.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Agencias y Sucursales"}),_.jsx("p",{className:"text-sm text-slate-500",children:"Administra las ubicaciones fsicas y sus prefijos de casillero."})]}),_.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-500",children:[_.jsx(E0,{className:"h-4 w-4"}),"Aadir Sucursal"]})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n?_.jsx("div",{className:"col-span-full py-12 text-center text-slate-500 text-sm",children:"Cargando sucursales..."}):e.map(y=>_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm flex flex-col items-center text-center",children:[_.jsx("div",{className:"h-16 w-16 bg-blue-50 text-blue-600 rounded-2xl flex items-center justify-center mb-4",children:_.jsx(E3,{className:"h-8 w-8"})}),_.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-1",children:y.nombre}),_.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-full px-3 py-1 text-xs font-bold bg-amber-100 text-amber-800 tracking-widest mt-2 mb-6",children:["PREFIJO: ",y.prefijo_casillero,"-"]}),_.jsx("button",{onClick:()=>x(y.id,y.activa),className:`w-full py-2 rounded-lg text-sm font-medium transition-colors ${y.activa?"bg-green-50 text-green-700 hover:bg-green-100":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:y.activa?"Activa y Operando":"Sucursal Inactiva"})]},y.id))}),i&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:_.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-sm overflow-hidden",children:[_.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center gap-3",children:[_.jsx(Jl,{className:"w-5 h-5 text-blue-600"}),_.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Nueva Sucursal"})]}),_.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nombre de la Sede"}),_.jsx("input",{required:!0,type:"text",placeholder:"Ej. Agencia Tapachula",value:d.nombre,onChange:y=>c({...d,nombre:y.target.value}),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm p-2 border"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Prefijo de Casillero"}),_.jsx("input",{required:!0,type:"text",placeholder:"Ej. YBT",maxLength:4,value:d.prefijo_casillero,onChange:y=>c({...d,prefijo_casillero:y.target.value.replace(/[^A-Za-z]/g,"").toUpperCase()}),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm p-2 border font-mono uppercase"}),_.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Sugerido: 3 a 4 letras. Ej: YBQ (Quich)."})]}),_.jsxs("div",{className:"pt-4 flex gap-3 justify-end",children:[_.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 rounded-md ring-1 ring-inset ring-slate-300",children:"Cancelar"}),_.jsx("button",{type:"submit",disabled:o||!d.nombre||!d.prefijo_casillero,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md disabled:opacity-50",children:o?"Guardando...":"Guardar Sede"})]})]})]})})]})}function Qge(){const{login:e}=Aa(),t=Op(),[n,r]=R.useState(""),[i,a]=R.useState(""),[o,u]=R.useState(!1),[d,c]=R.useState(""),[h,g]=R.useState(!1),x=async y=>{if(y.preventDefault(),!n||!i){c("Completa todos los campos.");return}c(""),g(!0);const C=await e(n,i);if(g(!1),C.error){c(C.error);return}t("/")};return _.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-blue-950 flex items-center justify-center p-4",children:[_.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[_.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 rounded-full bg-blue-500/10 blur-3xl"}),_.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 rounded-full bg-blue-500/10 blur-3xl"})]}),_.jsxs("div",{className:"relative w-full max-w-md",children:[_.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl",children:[_.jsxs("div",{className:"flex flex-col items-center mb-8",children:[_.jsx("img",{src:"https://youboxgt.online/wp-content/uploads/2024/10/Manual-de-logo-YouBoxGt-03-1.png",alt:"YOUBOX GT Logo",className:"h-24 w-auto object-contain mb-4"}),_.jsx("h1",{className:"text-3xl font-black text-white tracking-tight",children:"YOUBOX GT"}),_.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Sistema de Gestin de Paquetes"})]}),_.jsx("h2",{className:"text-xl font-bold text-white mb-6 text-center",children:"Iniciar Sesin"}),d&&_.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-lg bg-red-500/15 border border-red-500/30 px-4 py-3 text-sm text-red-300",children:[_.jsx(Td,{className:"h-4 w-4 shrink-0"}),d]}),_.jsxs("form",{onSubmit:x,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Usuario o Correo"}),_.jsx("input",{type:"text",value:n,onChange:y=>r(y.target.value),className:"w-full rounded-lg bg-white/10 border border-white/15 px-4 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"admin o tu@correo.com",autoFocus:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Contrasea"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:o?"text":"password",value:i,onChange:y=>a(y.target.value),className:"w-full rounded-lg bg-white/10 border border-white/15 px-4 py-2.5 pr-10 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"Contrasea"}),_.jsx("button",{type:"button",onClick:()=>u(!o),className:"absolute right-3 top-2.5 text-slate-400 hover:text-white transition-colors",children:o?_.jsx(OM,{className:"h-4 w-4"}):_.jsx(TM,{className:"h-4 w-4"})})]})]}),_.jsxs("button",{type:"submit",disabled:h,className:"w-full flex items-center justify-center gap-2 rounded-lg bg-blue-500 hover:bg-blue-400 disabled:opacity-60 disabled:cursor-not-allowed text-white font-semibold py-2.5 transition-all shadow-lg shadow-blue-500/20 text-sm mt-2",children:[h?_.jsx("span",{className:"h-4 w-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):_.jsx(ZG,{className:"h-4 w-4"}),h?"Ingresando...":"Ingresar"]})]}),_.jsxs("div",{className:"mt-6 space-y-3 text-center",children:[_.jsxs("p",{className:"text-slate-400 text-sm",children:["No tienes cuenta?"," ",_.jsx(Mf,{to:"/register",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Crear cuenta de cliente"})]}),_.jsx("div",{className:"border-t border-white/10 pt-3",children:_.jsx(Mf,{to:"/tracking",className:"inline-flex items-center gap-2 text-sm font-semibold text-blue-400 hover:text-blue-300 transition-colors",children:" Rastrear mi paquete sin iniciar sesin"})})]})]}),_.jsx("p",{className:"text-center text-slate-600 text-xs mt-6",children:" 2025 YOUBOX GT  Todos los derechos reservados"})]})]})}const Jge=["Salario","Luz","Agua","Renta","Internet","Proveedores","Otros"];function eve(){const{user:e}=Aa(),[t,n]=R.useState([]),[r,i]=R.useState([]),[a,o]=R.useState("all"),[u,d]=R.useState(!0),[c,h]=R.useState(!1),[g,x]=R.useState(!1),y=zk.useRef(null),[C,E]=R.useState({categoria:"Renta",concepto:"",monto_q:"",fecha_pago:new Date().toISOString().split("T")[0],numero_cuenta:"",notas:"",sucursal_id:""}),[T,I]=R.useState(null),[D,F]=R.useState(null);R.useEffect(()=>{U()},[]),R.useEffect(()=>{Z()},[a,e==null?void 0:e.sucursal_id]);async function U(){if((e==null?void 0:e.role)==="admin"){const{data:q}=await Tt.from("sucursales").select("id, nombre").eq("activa",!0).order("nombre");q&&(i(q),q.length>0&&E(oe=>({...oe,sucursal_id:q[0].id})))}else e!=null&&e.sucursal_id&&E(q=>({...q,sucursal_id:e.sucursal_id}))}async function Z(){d(!0);try{let q=Tt.from("gastos_financieros").select("*, sucursales(nombre)").order("fecha_pago",{ascending:!1});(e==null?void 0:e.role)!=="admin"&&(e!=null&&e.sucursal_id)?q=q.eq("sucursal_id",e.sucursal_id):(e==null?void 0:e.role)==="admin"&&a!=="all"&&(q=q.eq("sucursal_id",a));const{data:oe,error:H}=await q;if(H)throw H;n(oe||[])}catch(q){console.error("Error fetching expenses:",q)}finally{d(!1)}}const Q=q=>{if(q.target.files&&q.target.files[0]){const oe=q.target.files[0];if(I(oe),oe.type.startsWith("image/")){const H=new FileReader;H.onloadend=()=>{F(H.result)},H.readAsDataURL(oe)}else F(null)}},Y=async q=>{if(q.preventDefault(),!C.monto_q||!C.concepto){alert("Debes indicar al menos un Concepto y Monto.");return}h(!0);let oe=null;try{if(T){x(!0);const fe=T.name.split(".").pop(),ee=`${Date.now()}_${Math.random().toString(36).substring(7)}.${fe}`,ae=`${(e==null?void 0:e.id)||"sys"}/${ee}`,{error:ie,data:K}=await Tt.storage.from("recibos_gastos").upload(ae,T);if(ie)throw ie;if(K){const{data:ve}=Tt.storage.from("recibos_gastos").getPublicUrl(K.path);oe=ve.publicUrl}x(!1)}const H={categoria:C.categoria,concepto:C.concepto,monto_q:parseFloat(C.monto_q),fecha_pago:C.fecha_pago,numero_cuenta:C.numero_cuenta,notas:C.notas,recibo_url:oe,sucursal_id:C.sucursal_id||null,estado:"verificado",registrado_por:(e==null?void 0:e.id)==="admin-001"?null:e==null?void 0:e.id},{error:G}=await Tt.from("gastos_financieros").insert([H]);if(G)throw G;alert("Gasto registrado exitosamente!"),E({categoria:"Renta",concepto:"",monto_q:"",fecha_pago:new Date().toISOString().split("T")[0],numero_cuenta:"",notas:"",sucursal_id:(e==null?void 0:e.role)==="admin"&&r.length>0?r[0].id:(e==null?void 0:e.sucursal_id)||""}),I(null),F(null),y.current&&(y.current.value=""),Z()}catch(H){console.error(H),alert("Error guardando el gasto: "+H.message),x(!1)}finally{h(!1)}},J=q=>new Intl.NumberFormat("es-GT",{style:"currency",currency:"GTQ"}).format(q);return _.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto pb-10",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Control de Gastos"}),_.jsx("p",{className:"text-sm text-slate-500",children:"Registra y verifica pagos de renta, salarios, proveedores y ms."})]}),(e==null?void 0:e.role)==="admin"&&_.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-2 rounded-lg border border-slate-200 shadow-sm",children:[_.jsx(mv,{className:"h-4 w-4 text-slate-400"}),_.jsxs("select",{value:a,onChange:q=>o(q.target.value),className:"bg-transparent border-none text-sm font-medium text-slate-700 outline-none focus:ring-0 cursor-pointer",children:[_.jsx("option",{value:"all",children:"Todas las Sedes"}),r.map(q=>_.jsx("option",{value:q.id,children:q.nombre},q.id))]})]})]}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[_.jsxs("div",{className:"lg:col-span-1 border border-slate-200 bg-white rounded-xl shadow-sm p-6 space-y-5 h-fit",children:[_.jsxs("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[_.jsx(Z5,{className:"h-5 w-5 text-blue-500"}),"Nuevo Gasto"]}),_.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[_.jsxs("div",{className:"space-y-1",children:[_.jsxs("label",{className:"text-sm font-medium text-slate-700",children:["Categora ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:_.jsx(L$,{className:"h-4 w-4 text-slate-400"})}),_.jsx("select",{required:!0,value:C.categoria,onChange:q=>E({...C,categoria:q.target.value}),className:"block w-full rounded-md border-0 py-2 pl-10 pr-3 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-blue-600 sm:text-sm sm:leading-6",children:Jge.map(q=>_.jsx("option",{value:q,children:q},q))})]})]}),(e==null?void 0:e.role)==="admin"&&r.length>0&&_.jsxs("div",{className:"space-y-1",children:[_.jsxs("label",{className:"text-sm font-medium text-slate-700",children:["Sucursal ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:_.jsx(mv,{className:"h-4 w-4 text-slate-400"})}),_.jsx("select",{required:!0,value:C.sucursal_id,onChange:q=>E({...C,sucursal_id:q.target.value}),className:"block w-full rounded-md border-0 py-2 pl-10 pr-3 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-blue-600 sm:text-sm sm:leading-6",children:r.map(q=>_.jsx("option",{value:q.id,children:q.nombre},q.id))})]})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsxs("label",{className:"text-sm font-medium text-slate-700",children:["Concepto / Referencia ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("input",{required:!0,type:"text",placeholder:"Ej. Renta Febrero Almacn B",value:C.concepto,onChange:q=>E({...C,concepto:q.target.value}),className:"block w-full rounded-md border-0 py-2 px-3 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-blue-600 sm:text-sm sm:leading-6"})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{className:"space-y-1",children:[_.jsxs("label",{className:"text-sm font-medium text-slate-700",children:["Monto (GTQ) ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:_.jsx("span",{className:"text-slate-400 font-semibold text-sm",children:"Q"})}),_.jsx("input",{required:!0,type:"number",step:"0.01",min:"0",placeholder:"0.00",value:C.monto_q,onChange:q=>E({...C,monto_q:q.target.value}),className:"block w-full rounded-md border-0 py-2 pl-9 pr-3 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-blue-600 sm:text-sm sm:leading-6"})]})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsxs("label",{className:"text-sm font-medium text-slate-700",children:["Fecha de Pago ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("input",{required:!0,type:"date",value:C.fecha_pago,onChange:q=>E({...C,fecha_pago:q.target.value}),className:"block w-full rounded-md border-0 py-2 px-3 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-blue-600 sm:text-sm sm:leading-6"})]})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-sm font-medium text-slate-700",children:"N Cuenta o Cheque (Opcional)"}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:_.jsx(mv,{className:"h-4 w-4 text-slate-400"})}),_.jsx("input",{type:"text",placeholder:"Ej. Cheque Bi #010101",value:C.numero_cuenta,onChange:q=>E({...C,numero_cuenta:q.target.value}),className:"block w-full rounded-md border-0 py-2 pl-10 pr-3 text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-blue-600 sm:text-sm sm:leading-6"})]})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Comprobante de Pago (Recibo)"}),_.jsx("div",{className:"mt-2 flex justify-center rounded-lg border border-dashed border-slate-300 px-6 py-4 hover:bg-slate-50 transition-colors",children:_.jsxs("div",{className:"text-center",children:[D?_.jsx("img",{src:D,alt:"Preview",className:"mx-auto h-24 object-contain mb-2 rounded border border-slate-200"}):_.jsx(V$,{className:"mx-auto h-8 w-8 text-slate-300 mb-2"}),_.jsx("div",{className:"flex text-sm leading-6 text-slate-600 justify-center",children:_.jsxs("label",{htmlFor:"recibo-upload",className:"relative cursor-pointer rounded-md font-semibold text-blue-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-600 hover:text-blue-500",children:[_.jsx("span",{children:T?"Cambiar archivo":"Subir archivo"}),_.jsx("input",{id:"recibo-upload",ref:y,type:"file",className:"sr-only",accept:"image/*,application/pdf",onChange:Q})]})}),_.jsx("p",{className:"text-xs leading-5 text-slate-500",children:T?T.name:"PNG, JPG, PDF hasta 5MB"})]})})]}),_.jsxs("button",{type:"submit",disabled:c,className:"mt-6 w-full flex justify-center items-center gap-2 rounded-md bg-slate-900 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-900 disabled:opacity-50",children:[c?_.jsx(Ss,{className:"h-4 w-4 animate-spin"}):_.jsx(E0,{className:"h-4 w-4"}),c?g?"Subiendo recibo...":"Guardando...":"Registrar Gasto Verificado"]})]})]}),_.jsxs("div",{className:"lg:col-span-2 border border-slate-200 bg-white rounded-xl shadow-sm overflow-hidden flex flex-col",children:[_.jsx("div",{className:"border-b border-slate-200 px-6 py-4 bg-slate-50",children:_.jsxs("h2",{className:"text-base font-semibold text-slate-900 flex items-center gap-2",children:[_.jsx(N3,{className:"h-5 w-5 text-emerald-500"}),"Pagos Verificados"]})}),_.jsx("div",{className:"flex-1 overflow-auto p-0",children:u?_.jsx("div",{className:"flex justify-center items-center h-40",children:_.jsx(Ss,{className:"h-8 w-8 text-blue-500 animate-spin"})}):t.length===0?_.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center h-full",children:[_.jsx(Z5,{className:"h-10 w-10 text-slate-300 mb-3"}),_.jsx("h3",{className:"text-sm font-medium text-slate-900",children:"No hay gastos registrados"}),_.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Registra aqu los primeros gastos del negocio."})]}):_.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[_.jsx("thead",{className:"bg-white border-b border-slate-200 sticky top-0 z-10",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-6 py-3 font-semibold text-slate-900",children:"Fecha"}),_.jsx("th",{className:"px-6 py-3 font-semibold text-slate-900",children:"Concepto"}),_.jsx("th",{className:"px-6 py-3 font-semibold text-slate-900",children:"Categora"}),_.jsx("th",{className:"px-6 py-3 font-semibold text-slate-900 text-right",children:"Monto"}),_.jsx("th",{className:"px-6 py-3 font-semibold text-slate-900",children:"N Cuenta/Ref"}),_.jsx("th",{className:"px-6 py-3 font-semibold text-slate-900 text-center",children:"Recibo"})]})}),_.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(q=>{var oe;return _.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[_.jsx("td",{className:"px-6 py-3 text-slate-500",children:new Date(q.fecha_pago).toLocaleDateString("es-ES")}),_.jsx("td",{className:"px-6 py-3 font-medium text-slate-900",children:q.concepto}),_.jsxs("td",{className:"px-6 py-3",children:[_.jsx("span",{className:"inline-flex items-center rounded-md bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700 ring-1 ring-inset ring-blue-700/10",children:q.categoria}),((oe=q.sucursales)==null?void 0:oe.nombre)&&_.jsx("span",{className:"ml-2 inline-flex items-center rounded-md bg-emerald-50 px-2 py-1 text-xs font-medium text-emerald-700 ring-1 ring-inset ring-emerald-700/10 hidden sm:inline-flex",children:q.sucursales.nombre})]}),_.jsx("td",{className:"px-6 py-3 font-bold text-slate-800 text-right",children:J(q.monto_q)}),_.jsx("td",{className:"px-6 py-3 text-slate-500 font-mono text-xs",children:q.numero_cuenta||"------"}),_.jsx("td",{className:"px-6 py-3 text-center",children:q.recibo_url?_.jsx("a",{href:q.recibo_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center p-1.5 rounded-full bg-slate-100 text-slate-500 hover:text-blue-600 hover:bg-blue-50 transition-colors",title:"Ver Recibo",children:_.jsx(BG,{className:"h-4 w-4"})}):_.jsx("span",{className:"text-slate-300 text-xs",children:"-"})})]},q.id)})})]})})]})]})]})}const yB={"Alta Verapaz":["Cobn","Chahal","Chisec","Fray Bartolom de las Casas","Lanqun","Panzs","Raxruh","San Cristbal Verapaz","San Juan Chamelco","San Pedro Carch","Santa Catalina la Tinta","Senah","Tucur"],"Baja Verapaz":["Salam","Cubulco","El Chol","Granados","Purulh","Rabinal","San Jernimo","San Miguel Chicaj","Santa Cruz el Chol","San Bartolom Jocotenango"],Chimaltenango:["Chimaltenango","Acatenango","El Tejar","Parramos","Patzica","Patzn","Pochuta","San Andrs Itzapa","San Jos Poaquil","San Martn Jilotepeque","Santa Apolonia","Santa Cruz Balany","Tecpn","Yepocapa","Zaragoza"],Chiquimula:["Chiquimula","Camotn","Concepcin Las Minas","Esquipulas","Ipala","Jocotn","Olopa","Quezaltepeque","San Jacinto","San Juan Ermita","San Jos la Arada"],"El Progreso":["Guastatoya","El Jcaro","Morazn","San Agustn Acasaguastln","San Antonio La Paz","San Cristbal Acasaguastln","Sanarate","Sansare"],Escuintla:["Escuintla","Guanagazapa","Iztapa","La Democracia","La Gomera","Masagua","Nueva Concepcin","Paln","San Jos","San Vicente Pacaya","Santa Luca Cotzumalguapa","Siquinal","Tiquisate"],Guatemala:["Guatemala City","Amatitln","Chinautla","Chuarrancho","Fraijanes","Mixco","Palencia","Petapa","San Jos del Golfo","San Jos Pinula","San Juan Sacatepquez","San Miguel Petapa","San Pedro Ayampuc","San Pedro Sacatepquez","San Raymundo","Santa Catarina Pinula","Villa Canales","Villa Nueva"],Huehuetenango:["Huehuetenango","Aguacatn","Chiantla","Colotenango","Concepcin Huista","Cuilco","Ixtahuacn","Jacaltenango","La Democracia","La Libertad","Malacatancito","Nentn","San Antonio Huista","San Gaspar Ixchil","San Idelfonso Ixtahuacn","San Juan Atitn","San Juan Ixcoy","San Marcos Huista","San Mateo Ixtatn","San Miguel Acatn","San Pedro Necta","San Pedro Soloma","San Rafael La Independencia","San Rafael Petzal","San Sebastin Coatn","San Sebastin Huehuetenango","Santa Ana Huista","Santa Brbara","Santa Cruz Barillas","Santa Eulalia","Santiago Chimaltenango","Tectitn","Todos Santos Cuchumatn","Unin Cantinil"],Izabal:["Puerto Barrios","El Estor","Livingston","Los Amates","Morales"],Jalapa:["Jalapa","Mataquescuintla","Monjas","San Carlos Alzatate","San Luis Jilotepeque","San Manuel Chaparrn","San Pedro Pinula"],Jutiapa:["Jutiapa","Agua Blanca","Asuncin Mita","Atescatempa","Conguaco","El Adelanto","El Progreso","Jalpatagua","Jerez","Moyuta","Pasaco","Quesada","San Jos Acatempa","Santa Catarina Mita","Yupiltepeque","Zapotitln"],Petn:["Flores","Dolores","El Chal","La Libertad","Las Cruces","Melchor de Mencos","Poptn","San Andrs","San Benito","San Francisco","San Jos","San Luis","Sayaxch","Santa Ana"],Quetzaltenango:["Quetzaltenango","Almolonga","Cabricn","Cajol","Cantel","Coatepeque","Colomba","Concepcin Chiquirichapa","El Palmar","Flores Costa Cuca","Gnova","Huitn","La Esperanza","Palestina de Los Altos","Salcaj","San Carlos Sija","San Francisco La Unin","San Juan Ostuncalco","San Marcos Sija","San Mateo","San Miguel Sigil","San Sebastin","Sibilia","Zunil"],Quich:["Santa Cruz del Quich","Canill","Chajul","Chicamn","Chich","Chichicastenango","Chinique","Cunn","Ixcn","Joyabaj","Nebaj","Pachalum","Patzit","Sacapulas","San Andrs Sajcabaj","San Antonio Ilotenango","San Bartolom Jocotenango","San Juan Cotzal","San Pedro Jocopilas","Uspantn","Zacualpa"],Retalhuleu:["Retalhuleu","Champerico","El Asintal","Nuevo San Carlos","San Andrs Villa Seca","San Felipe","San Martn Zapotitln","San Sebastin","Santa Cruz Mulu"],Sacatepquez:["Antigua Guatemala","Alotenango","Ciudad Vieja","Jocotenango","Magdalena Milpas Altas","Pastores","San Antonio Aguas Calientes","San Bartolom Milpas Altas","San Lucas Sacatepquez","San Miguel Dueas","Santa Catarina Barahona","Santa Luca Milpas Altas","Santa Mara de Jess","Santiago Sacatepquez","Santo Domingo Xenacoj","Sumpango","Santa Ins del Monte Pulido"],"San Marcos":["San Marcos","Ayutla","Catarina","Comitancillo","Concepcin Tutuapa","El Quetzal","El Rodeo","El Tumbador","Esquipulas Palo Gordo","Ixchigun","La Blanca","La Reforma","Malacatn","Nuevo Progreso","Ocs","Pajapita","Ro Blanco","San Antonio Sacatepquez","San Cristbal Cucho","San Jos Ojetenm","San Lorenzo","San Miguel Ixtahuacn","San Pablo","San Pedro Sacatepquez","San Rafael Pie de la Cuesta","Sibinal","Sipacapa","Tacan","Tajumulco","Tejutla"],"Santa Rosa":["Cuilapa","Barberena","Casillas","Chiquimulilla","Guazacapn","Nueva Santa Rosa","Oratorio","Pueblo Nuevo Vias","San Juan Tecuaco","San Rafael Las Flores","Santa Cruz Naranjo","Santa Mara Ixhuatn","Santa Rosa de Lima","Taxisco"],Solol:["Solol","Concepcin","Nahuala","Panajachel","San Andrs Semetabaj","San Antonio Palop","San Jos Chacay","San Juan La Laguna","San Lucas Tolimn","San Marcos La Laguna","San Pablo La Laguna","San Pedro La Laguna","Santa Catarina Ixtahuacn","Santa Catarina Palop","Santa Clara La Laguna","Santa Cruz La Laguna","Santa Luca Utatln","Santa Mara Visitacin","Santiago Atitln"],Suchitepquez:["Mazatenango","Chicacao","Cuyotenango","Patulul","Pueblo Nuevo","Ro Bravo","Samayac","San Antonio Suchitepquez","San Bernardino","San Francisco Zapotitln","San Gabriel","San Jos El dolo","San Juan Bautista","San Lorenzo","San Miguel Pann","San Pablo Jocopilas","Santa Barbara","Santo Domingo Suchitepquez","Santo Toms La Unin","Zunilito"],Totonicapn:["Totonicapn","Momostenango","San Andrs Xecul","San Bartolo","San Cristbal Totonicapn","San Francisco El Alto","Santa Luca La Reforma","Santa Mara Chiquimula"],Zacapa:["Zacapa","Cabaas","Estanzuela","Gualn","Huit","La Unin","Rio Hondo","San Diego","San Jorge","Teculutn","Usumatn"]},tve=Object.keys(yB).sort();function nve(){const{register:e}=Aa(),t=Op(),[n,r]=R.useState("form"),[i,a]=R.useState(null),[o,u]=R.useState({nombre:"",apellido:"",email:"",telefono:"",password:"",confirmPassword:"",sucursal_id:"",departamento:"",municipio:"",direccion_linea1:"",direccion_linea2:"",referencia:""}),[d,c]=R.useState(!1),[h,g]=R.useState([]),[x,y]=R.useState([]),[C,E]=R.useState(!1),[T,I]=R.useState(""),[D,F]=R.useState(!1),[U,Z]=R.useState(!1);R.useEffect(()=>{(async()=>{const{data:G}=await Tt.from("sucursales").select("*").eq("activa",!0).order("nombre");G&&(y(G),G.length>0&&u(fe=>({...fe,sucursal_id:G[0].id})))})()},[]),R.useEffect(()=>{if(o.departamento){const H=yB[o.departamento]||[];g(H),u(G=>({...G,municipio:H[0]||""}))}},[o.departamento]);const Q=H=>{u(G=>({...G,[H.target.name]:H.target.value}))},Y=async H=>{if(H.preventDefault(),I(""),!o.nombre||!o.apellido||!o.email||!o.telefono||!o.password){I("Completa todos los campos obligatorios.");return}if(o.password!==o.confirmPassword){I("Las contraseas no coinciden.");return}if(o.password.length<6){I("La contrasea debe tener al menos 6 caracteres.");return}if(!o.sucursal_id){I("Por favor selecciona una sucursal.");return}if(!o.departamento||!o.municipio||!o.direccion_linea1){I("Por favor completa tu direccin de entrega en Guatemala.");return}if(!d){I("Debes aceptar los Trminos y Condiciones para continuar.");return}const G=x.find(ee=>ee.id===o.sucursal_id);F(!0);const fe=await e({nombre:o.nombre,apellido:o.apellido,email:o.email,telefono:o.telefono,password:o.password,sucursal_id:G==null?void 0:G.id,sucursal_prefix:G==null?void 0:G.prefijo_casillero,departamento:o.departamento,municipio:o.municipio,direccion_linea1:o.direccion_linea1,direccion_linea2:o.direccion_linea2,referencia:o.referencia,acepto_tyc:!0,fecha_acepto_tyc:new Date().toISOString()});if(F(!1),fe.error){I(fe.error);return}fe.user&&(a({nombre:fe.user.nombre,locker_id:fe.user.locker_id,email:fe.user.email,telefono:o.telefono}),r("success"))},J=()=>{if(!i)return;const H=encodeURIComponent(_x(i.locker_id)),G=i.telefono.replace(/\D/g,"");window.open(`https://wa.me/${G}?text=${H}`,"_blank")},q=()=>{if(!i)return;const H=encodeURIComponent(`Bienvenido a YOUBOX GT! Tu casillero es ${i.locker_id}`),G=encodeURIComponent(_x(i.locker_id));window.open(`mailto:${i.email}?subject=${H}&body=${G}`,"_blank")},oe=()=>{i&&(navigator.clipboard.writeText(_x(i.locker_id)),Z(!0),setTimeout(()=>Z(!1),2e3))};return n==="success"&&i?_.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-blue-950 flex items-center justify-center p-4",children:[_.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[_.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 rounded-full bg-blue-500/10 blur-3xl"}),_.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 rounded-full bg-blue-500/10 blur-3xl"})]}),_.jsx("div",{className:"relative w-full max-w-2xl",children:_.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl",children:[_.jsxs("div",{className:"text-center mb-8",children:[_.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-blue-500 shadow-lg shadow-blue-500/30 mx-auto mb-4",children:_.jsx(C3,{className:"h-8 w-8 text-white"})}),_.jsx("h1",{className:"text-2xl font-black text-white",children:"Cuenta Creada Exitosamente"}),_.jsxs("p",{className:"text-slate-300 mt-1",children:["Bienvenido/a, ",_.jsx("span",{className:"text-blue-400 font-bold",children:i.nombre})]}),_.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 bg-blue-500/20 border border-blue-500/40 rounded-full px-5 py-2",children:[_.jsx("span",{className:"text-slate-300 text-sm",children:"Tu casillero:"}),_.jsx("span",{className:"text-blue-300 font-black text-lg tracking-widest",children:i.locker_id})]})]}),_.jsxs("div",{className:"space-y-3 mb-6",children:[_.jsx("h3",{className:"text-white font-semibold text-sm uppercase tracking-wider mb-3",children:"Tus 3 Direcciones de Recepcion"}),_.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[_.jsx("p",{className:"text-blue-400 font-bold text-sm mb-2",children:" Greensboro, NC  Via Maritima"}),_.jsxs("div",{className:"text-slate-300 text-sm space-y-0.5 font-mono",children:[_.jsxs("p",{children:[_.jsx("span",{className:"text-slate-500",children:"Nombre:"})," YBG ",i.nombre," ",i.locker_id]}),_.jsxs("p",{children:[_.jsx("span",{className:"text-slate-500",children:"Dir:"})," 4100 Tulsa Dr"]}),_.jsxs("p",{children:[_.jsx("span",{className:"text-slate-500",children:"Suite/Apt:"})," ",i.locker_id]}),_.jsxs("p",{children:[_.jsx("span",{className:"text-slate-500",children:"Ciudad:"})," Greensboro, NC 27406"]}),_.jsxs("p",{children:[_.jsx("span",{className:"text-slate-500",children:"Tel:"})," 3365496890"]})]})]}),_.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[_.jsx("p",{className:"text-blue-400 font-bold text-sm mb-2",children:" Laredo, TX  Via Terrestre"}),_.jsxs("div",{className:"text-slate-300 text-sm space-y-0.5 font-mono",children:[_.jsxs("p",{children:[_.jsx("span",{className:"text-slate-500",children:"Nombre:"})," YBG ",i.nombre," ",i.locker_id]}),_.jsxs("p",{children:[_.jsx("span",{className:"text-slate-500",children:"Dir:"})," 1900 Justo Penn St"]}),_.jsxs("p",{children:[_.jsx("span",{className:"text-slate-500",children:"Suite/Apt:"})," ",i.locker_id]}),_.jsxs("p",{children:[_.jsx("span",{className:"text-slate-500",children:"Ciudad:"})," Laredo, TX 78041"]}),_.jsxs("p",{children:[_.jsx("span",{className:"text-slate-500",children:"Tel:"})," 7572437074"]})]})]}),_.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[_.jsx("p",{className:"text-amber-400 font-bold text-sm mb-2",children:" Tapachula, Chiapas  Via Terrestre Mexico"}),_.jsxs("div",{className:"text-slate-300 text-sm space-y-0.5 font-mono",children:[_.jsxs("p",{children:[_.jsx("span",{className:"text-slate-500",children:"Nombre:"})," YBG ",i.nombre," ",i.locker_id]}),_.jsxs("p",{children:[_.jsx("span",{className:"text-slate-500",children:"Dir:"})," Calle El Carmen Manzana 6 Casa 4"]}),_.jsxs("p",{children:[_.jsx("span",{className:"text-slate-500",children:"Ref:"})," Infonavit El Carmen + ",i.locker_id]}),_.jsxs("p",{children:[_.jsx("span",{className:"text-slate-500",children:"Ciudad:"})," Tapachula, Chiapas CP 30799"]}),_.jsxs("p",{children:[_.jsx("span",{className:"text-slate-500",children:"Tel:"})," 9621210423"]})]})]})]}),_.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[_.jsxs("button",{onClick:J,className:"flex flex-col items-center gap-2 rounded-xl border border-green-500/30 bg-green-500/15 p-3 text-green-400 hover:bg-green-500/25 transition-colors text-xs font-medium",children:[_.jsx(s$,{className:"h-5 w-5"}),"Enviar WhatsApp"]}),_.jsxs("button",{onClick:q,className:"flex flex-col items-center gap-2 rounded-xl border border-blue-500/30 bg-blue-500/15 p-3 text-blue-400 hover:bg-blue-500/25 transition-colors text-xs font-medium",children:[_.jsx(X5,{className:"h-5 w-5"}),"Enviar Email"]}),_.jsxs("button",{onClick:oe,className:"flex flex-col items-center gap-2 rounded-xl border border-white/15 bg-white/5 p-3 text-slate-300 hover:bg-white/10 transition-colors text-xs font-medium",children:[_.jsx(NG,{className:"h-5 w-5"}),U?"Copiado!":"Copiar Info"]})]}),_.jsx("button",{onClick:()=>t("/"),className:"w-full rounded-lg bg-blue-500 hover:bg-blue-400 text-white font-semibold py-2.5 transition-all shadow-lg shadow-blue-500/20 text-sm",children:"Ir al Panel Principal"})]})})]}):_.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-blue-950 flex items-center justify-center p-4 py-10",children:[_.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[_.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 rounded-full bg-blue-500/10 blur-3xl"}),_.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 rounded-full bg-blue-500/10 blur-3xl"})]}),_.jsx("div",{className:"relative w-full max-w-lg",children:_.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl",children:[_.jsxs("div",{className:"flex flex-col items-center mb-6",children:[_.jsx("img",{src:"https://youboxgt.online/wp-content/uploads/2024/10/Manual-de-logo-YouBoxGt-03-1.png",alt:"YOUBOX GT Logo",className:"h-20 w-auto object-contain mb-3"}),_.jsx("h1",{className:"text-2xl font-black text-white tracking-tight",children:"YOUBOX GT"}),_.jsx("p",{className:"text-slate-400 text-sm",children:"Crear cuenta de cliente"})]}),T&&_.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-lg bg-red-500/15 border border-red-500/30 px-4 py-3 text-sm text-red-300",children:[_.jsx(Td,{className:"h-4 w-4 shrink-0"}),T]}),_.jsxs("form",{onSubmit:Y,className:"space-y-5",children:[_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-1.5 flex items-center gap-1.5",children:[_.jsx(Jl,{className:"h-4 w-4 text-emerald-400"}),"En qu Sucursal recoges tus paquetes? *"]}),_.jsx("select",{name:"sucursal_id",value:o.sucursal_id,onChange:Q,className:"w-full rounded-lg bg-emerald-500/10 border border-emerald-500/30 px-3 py-2.5 text-white outline-none focus:border-emerald-400 focus:ring-1 focus:ring-emerald-400 transition-colors text-sm font-medium",children:x.map(H=>_.jsx("option",{value:H.id,className:"bg-slate-800",children:H.nombre},H.id))})]}),_.jsxs("div",{children:[_.jsxs("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:[_.jsx(Sx,{className:"h-3 w-3"})," Informacin Personal"]}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Nombre *"}),_.jsx("input",{name:"nombre",value:o.nombre,onChange:Q,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"Juan"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Apellido *"}),_.jsx("input",{name:"apellido",value:o.apellido,onChange:Q,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"Perez"})]})]}),_.jsxs("div",{className:"mt-3",children:[_.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Correo Electrnico *"}),_.jsx("input",{name:"email",type:"email",value:o.email,onChange:Q,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"tu@correo.com"})]}),_.jsxs("div",{className:"mt-3",children:[_.jsxs("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:["WhatsApp / Telfono * ",_.jsx("span",{className:"text-slate-500 font-normal",children:"(con cdigo de pas, ej: 502 para GT)"})]}),_.jsx("input",{name:"telefono",value:o.telefono,onChange:Q,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"50255551234"})]})]}),_.jsxs("div",{children:[_.jsxs("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:[_.jsx(Sx,{className:"h-3 w-3"}),"  Direccin de Entrega en Guatemala"]}),_.jsxs("div",{className:"space-y-3 bg-white/3 rounded-xl border border-white/8 p-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Departamento *"}),_.jsxs("select",{name:"departamento",value:o.departamento,onChange:Q,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",children:[_.jsx("option",{value:"",className:"bg-slate-800",children:" Selecciona tu departamento "}),tve.map(H=>_.jsx("option",{value:H,className:"bg-slate-800",children:H},H))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Municipio *"}),_.jsxs("select",{name:"municipio",value:o.municipio,onChange:Q,disabled:!o.departamento,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm disabled:opacity-40",children:[_.jsx("option",{value:"",className:"bg-slate-800",children:" Selecciona tu municipio "}),h.map(H=>_.jsx("option",{value:H,className:"bg-slate-800",children:H},H))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Calle / Avenida / Zona *"}),_.jsx("input",{name:"direccion_linea1",value:o.direccion_linea1,onChange:Q,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"Ej: 5ta Calle 10-25, Zona 1"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Colonia / Residencial / Apartamento"}),_.jsx("input",{name:"direccion_linea2",value:o.direccion_linea2,onChange:Q,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"Ej: Residencial Las Flores, Casa 3"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Referencia (para encontrarte fcil)"}),_.jsx("textarea",{name:"referencia",value:o.referencia,onChange:Q,rows:2,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm resize-none",placeholder:"Ej: Frente al parque, casa verde con portn negro"})]})]})]}),_.jsxs("div",{children:[_.jsxs("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:[_.jsx(Sx,{className:"h-3 w-3"})," Seguridad"]}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Contrasea *"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{name:"password",type:C?"text":"password",value:o.password,onChange:Q,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 pr-10 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"Mnimo 6 caracteres"}),_.jsx("button",{type:"button",onClick:()=>E(!C),className:"absolute right-3 top-2.5 text-slate-400 hover:text-white",children:C?_.jsx(OM,{className:"h-4 w-4"}):_.jsx(TM,{className:"h-4 w-4"})})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Confirmar Contrasea *"}),_.jsx("input",{name:"confirmPassword",type:"password",value:o.confirmPassword,onChange:Q,className:"w-full rounded-lg bg-white/10 border border-white/15 px-3 py-2.5 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-colors text-sm",placeholder:"Repite tu contrasea"})]})]})]}),_.jsxs("div",{className:"rounded-lg border border-blue-500/25 bg-blue-500/10 px-4 py-3 text-sm",children:[_.jsx("p",{className:"text-blue-400 font-medium",children:"Tu casillero se asignar automticamente"}),_.jsx("p",{className:"text-slate-400 text-xs mt-0.5",children:"Recibirs tu nmero de casillero nico (YBG4000+) al crear tu cuenta."})]}),_.jsxs("div",{className:"rounded-xl border border-amber-500/30 bg-amber-500/10 p-4",children:[_.jsxs("div",{className:"flex items-start gap-3",children:[_.jsx("div",{className:"flex-none mt-0.5",children:_.jsx("input",{type:"checkbox",id:"tyc",checked:d,onChange:H=>c(H.target.checked),className:"h-4 w-4 rounded border-amber-500/50 bg-white/10 text-amber-500 focus:ring-amber-500/30"})}),_.jsxs("label",{htmlFor:"tyc",className:"text-sm text-slate-300 cursor-pointer leading-relaxed",children:["He ledo y acepto los"," ",_.jsxs("a",{href:"https://youboxgt.online/services-2/tyc/",target:"_blank",rel:"noopener noreferrer",className:"text-amber-400 hover:text-amber-300 font-semibold inline-flex items-center gap-1 transition-colors",onClick:H=>H.stopPropagation(),children:["Trminos y Condiciones de YOUBOX GT",_.jsx(NM,{className:"h-3 w-3"})]})," ","incluyendo la poltica de uso del casillero, tarifas y responsabilidades de envo. ",_.jsx("span",{className:"text-red-400 font-bold",children:"*"})]})]}),!d&&_.jsx("p",{className:"text-amber-500/70 text-xs mt-2 pl-7",children:"Requerido para crear tu cuenta."})]}),_.jsxs("button",{type:"submit",disabled:D||!d,className:"w-full flex items-center justify-center gap-2 rounded-lg bg-blue-500 hover:bg-blue-400 disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold py-3 transition-all shadow-lg shadow-blue-500/20 text-sm",children:[D?_.jsx("span",{className:"h-4 w-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):_.jsx(X$,{className:"h-4 w-4"}),D?"Creando cuenta...":"Crear Cuenta Gratis"]})]}),_.jsx("div",{className:"mt-4 text-center",children:_.jsxs("p",{className:"text-slate-400 text-sm",children:["Ya tienes cuenta?"," ",_.jsx(Mf,{to:"/login",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Iniciar sesin"})]})})]})})]})}const fv=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d","#ffc658"];function rve(){const[e,t]=R.useState(!0),[n,r]=R.useState([]),[i,a]=R.useState([]),{user:o}=Aa(),[u,d]=R.useState([]),[c,h]=R.useState("all"),[g,x]=R.useState({ingresosMesActual:0,gastosMesActual:0,balanceMesActual:0});R.useEffect(()=>{(o==null?void 0:o.role)==="admin"&&y()},[o]),R.useEffect(()=>{C()},[c,o]);const y=async()=>{const{data:T}=await Tt.from("sucursales").select("id, nombre").eq("activa",!0).order("nombre");T&&d(T)},C=async()=>{t(!0);try{const T=new Date,I=Ghe(T,5);let D=Tt.from("facturas").select("monto_total, fecha_emision, clientes!inner(sucursal_id)").eq("estado","verificado").gte("fecha_emision",I.toISOString()),F=Tt.from("gastos_financieros").select("monto_q, fecha_pago, categoria").eq("estado","verificado").gte("fecha_pago",I.toISOString());(o==null?void 0:o.role)!=="admin"&&(o!=null&&o.sucursal_id)?(D=D.eq("clientes.sucursal_id",o.sucursal_id),F=F.eq("sucursal_id",o.sucursal_id)):(o==null?void 0:o.role)==="admin"&&c!=="all"&&(D=D.eq("clientes.sucursal_id",c),F=F.eq("sucursal_id",c));const{data:U,error:Z}=await D;if(Z)throw Z;const{data:Q,error:Y}=await F;if(Y)throw Y;const J=Ide({start:I,end:T}),q=new Map;J.forEach(ie=>{const K=nl(ie,"yyyy-MM");q.set(K,{mes:nl(ie,"MMM yyyy",{locale:Lf}).toUpperCase(),ingresos:0,gastos:0,balance:0,sortKey:K})});const oe=nl(T,"yyyy-MM");let H=0,G=0;U==null||U.forEach(ie=>{const K=ie.fecha_emision.substring(0,7);if(q.has(K)){const ve=q.get(K);ve.ingresos+=Number(ie.monto_total),K===oe&&(H+=Number(ie.monto_total))}});const fe=new Map;Q==null||Q.forEach(ie=>{const K=ie.fecha_pago.substring(0,7);if(q.has(K)){const ve=q.get(K);ve.gastos+=Number(ie.monto_q),K===oe&&(G+=Number(ie.monto_q))}if(K===oe){const ve=ie.categoria||"Otros";fe.set(ve,(fe.get(ve)||0)+Number(ie.monto_q))}});const ee=Array.from(q.values()).map(ie=>({...ie,balance:ie.ingresos-ie.gastos})).sort((ie,K)=>ie.sortKey.localeCompare(K.sortKey)),ae=Array.from(fe.entries()).map(([ie,K])=>({name:ie,value:K}));r(ee),a(ae),x({ingresosMesActual:H,gastosMesActual:G,balanceMesActual:H-G})}catch(T){console.error("Error fetching report data",T),alert("Hubo un error al cargar las grficas financieras.")}finally{t(!1)}},E=T=>new Intl.NumberFormat("es-GT",{style:"currency",currency:"GTQ",minimumFractionDigits:0}).format(T);return e?_.jsx("div",{className:"flex h-[80vh] items-center justify-center",children:_.jsx(Ss,{className:"h-8 w-8 animate-spin text-blue-600"})}):_.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto pb-10",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Dashboard Financiero"}),_.jsx("p",{className:"text-sm text-slate-500",children:"Mtricas clave e historial de utilidad de los ltimos 6 meses."})]}),(o==null?void 0:o.role)==="admin"&&_.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-2 rounded-lg border border-slate-200 shadow-sm",children:[_.jsx(mv,{className:"h-4 w-4 text-slate-400"}),_.jsxs("select",{value:c,onChange:T=>h(T.target.value),className:"bg-transparent border-none text-sm font-medium text-slate-700 outline-none focus:ring-0 cursor-pointer",children:[_.jsx("option",{value:"all",children:"Todas las Sedes"}),u.map(T=>_.jsx("option",{value:T.id,children:T.nombre},T.id))]})]})]}),_.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm flex items-center gap-4",children:[_.jsx("div",{className:"rounded-full bg-emerald-100 p-3",children:_.jsx(q$,{className:"h-6 w-6 text-emerald-600"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Ingresos (Este Mes)"}),_.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:E(g.ingresosMesActual)})]})]}),_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm flex items-center gap-4",children:[_.jsx("div",{className:"rounded-full bg-red-100 p-3",children:_.jsx(U$,{className:"h-6 w-6 text-red-600"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Gastos (Este Mes)"}),_.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:E(g.gastosMesActual)})]})]}),_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm flex items-center gap-4",children:[_.jsx("div",{className:`rounded-full p-3 ${g.balanceMesActual>=0?"bg-blue-100":"bg-orange-100"}`,children:_.jsx(EM,{className:`h-6 w-6 ${g.balanceMesActual>=0?"text-blue-600":"text-orange-600"}`})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Utilidad (Neta)"}),_.jsx("p",{className:`text-2xl font-semibold ${g.balanceMesActual>=0?"text-blue-600":"text-orange-600"}`,children:E(g.balanceMesActual)})]})]})]}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[_.jsxs("div",{className:"lg:col-span-2 rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[_.jsxs("h2",{className:"text-base font-semibold text-slate-900 mb-6 flex items-center gap-2",children:[_.jsx(ap,{className:"h-5 w-5 text-blue-500"}),"Ingresos vs Egresos (ltimos 6 meses)"]}),_.jsx("div",{className:"h-[350px] w-full",children:_.jsx(Zv,{width:"100%",height:"100%",children:_.jsxs(FL,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[_.jsx(AA,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0"}),_.jsx(CA,{dataKey:"mes",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12},dy:10}),_.jsx(NA,{axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12},tickFormatter:T=>`Q${T}`}),_.jsx(w2,{formatter:T=>E(T),cursor:{fill:"#F1F5F9"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),_.jsx(NP,{wrapperStyle:{paddingTop:"20px"}}),_.jsx(O2,{dataKey:"ingresos",name:"Ingresos",fill:"#10B981",radius:[4,4,0,0],maxBarSize:50}),_.jsx(O2,{dataKey:"gastos",name:"Gastos",fill:"#EF4444",radius:[4,4,0,0],maxBarSize:50})]})})})]}),_.jsxs("div",{className:"lg:col-span-1 rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[_.jsx("h2",{className:"text-base font-semibold text-slate-900 mb-6",children:"Distribucin de Gastos (Mes Actual)"}),i.length===0?_.jsx("div",{className:"h-[300px] flex items-center justify-center text-slate-400 text-sm",children:"No hay gastos registrados este mes."}):_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"h-[250px] w-full",children:_.jsx(Zv,{width:"100%",height:"100%",children:_.jsxs(zL,{children:[_.jsx(wA,{data:i,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:5,dataKey:"value",children:i.map((T,I)=>_.jsx(L0,{fill:fv[I%fv.length]},`cell-${I}`))}),_.jsx(w2,{formatter:T=>E(T)})]})})}),_.jsx("div",{className:"mt-4 space-y-2",children:i.map((T,I)=>_.jsxs("div",{className:"flex justify-between items-center text-sm",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:fv[I%fv.length]}}),_.jsx("span",{className:"text-slate-600",children:T.name})]}),_.jsx("span",{className:"font-semibold text-slate-900",children:E(T.value)})]},T.name))})]})]})]})]})}const dv={recibido:{label:"Recibido en Bodega",color:"text-blue-600",bg:"bg-blue-50 border-blue-200",icon:GC},en_bodega:{label:"En Bodega",color:"text-purple-600",bg:"bg-purple-50 border-purple-200",icon:GC},listo_consolidar:{label:"Listo para Embarque",color:"text-indigo-600",bg:"bg-indigo-50 border-indigo-200",icon:Fc},consolidado:{label:"Consolidado",color:"text-amber-600",bg:"bg-amber-50 border-amber-200",icon:Fc},en_transito:{label:"En Trnsito",color:"text-orange-600",bg:"bg-orange-50 border-orange-200",icon:jp},entregado:{label:"Entregado!",color:"text-green-600",bg:"bg-green-50 border-green-200",icon:C3},devuelto:{label:"Devuelto",color:"text-red-600",bg:"bg-red-50 border-red-200",icon:Td},perdido:{label:"Perdido",color:"text-slate-600",bg:"bg-slate-50 border-slate-200",icon:Td}},R5=["recibido","en_bodega","listo_consolidar","en_transito","entregado"];function ive(){var g,x;const[e,t]=R.useState(""),[n,r]=R.useState(!1),[i,a]=R.useState(null),[o,u]=R.useState(!1),d=async y=>{y.preventDefault();const C=e.trim();if(C){r(!0),u(!1),a(null);try{const{data:E,error:T}=await Tt.from("paquetes").select(`
          id, tracking, peso_lbs, estado, fecha_recepcion, descripcion,
          bodegas (nombre),
          clientes (nombre, apellido, locker_id),
          transportistas (nombre),
          historial_estados (id, estado_nuevo, notas, created_at)
        `).ilike("tracking",C.toUpperCase()).maybeSingle();if(T)throw T;E?(E.historial_estados&&E.historial_estados.sort((I,D)=>new Date(D.created_at).getTime()-new Date(I.created_at).getTime()),a(E)):u(!0)}catch(E){console.error(E),u(!0)}finally{r(!1)}}},c=i?dv[i.estado]||dv.recibido:null,h=i?R5.indexOf(i.estado):-1;return _.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-blue-950 flex flex-col",children:[_.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[_.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 rounded-full bg-blue-500/10 blur-3xl"}),_.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 rounded-full bg-blue-500/10 blur-3xl"})]}),_.jsx("header",{className:"relative border-b border-white/10 bg-white/5 backdrop-blur-sm",children:_.jsxs("div",{className:"mx-auto max-w-5xl flex items-center justify-between px-6 py-4",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-xl bg-blue-500 shadow-lg shadow-blue-500/30",children:_.jsx(A3,{className:"h-5 w-5 text-white"})}),_.jsx("span",{className:"text-xl font-black text-white tracking-tight",children:"YOUBOX GT"})]}),_.jsxs(Mf,{to:"/login",className:"flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[_.jsx(sG,{className:"h-4 w-4"}),"Acceso Clientes"]})]})}),_.jsxs("main",{className:"relative flex-1 flex flex-col items-center pt-16 px-4 pb-12",children:[_.jsxs("div",{className:"text-center mb-10",children:[_.jsx("h1",{className:"text-4xl font-black text-white tracking-tight sm:text-5xl",children:"Rastrear mi Paquete"}),_.jsx("p",{className:"mt-3 text-slate-400 text-lg max-w-md mx-auto",children:"Ingresa tu nmero de gua o tracking para ver el estado de tu envo en tiempo real."})]}),_.jsx("form",{onSubmit:d,className:"w-full max-w-2xl",children:_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("div",{className:"relative flex-1",children:[_.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:_.jsx(Id,{className:"h-5 w-5 text-slate-500"})}),_.jsx("input",{type:"text",value:e,onChange:y=>t(y.target.value),className:"w-full rounded-xl bg-white/10 border border-white/15 px-4 py-4 pl-12 text-white placeholder-slate-500 outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-400/30 transition text-base font-medium",placeholder:"Ej. 1Z999AA10123456784",autoFocus:!0})]}),_.jsxs("button",{type:"submit",disabled:n||!e.trim(),className:"px-6 py-4 rounded-xl bg-blue-500 hover:bg-blue-400 disabled:opacity-50 text-white font-bold transition-all shadow-lg shadow-blue-500/20 flex items-center gap-2",children:[n?_.jsx(Ss,{className:"h-5 w-5 animate-spin"}):_.jsx(Id,{className:"h-5 w-5"}),_.jsx("span",{className:"hidden sm:inline",children:"Buscar"})]})]})}),o&&!n&&_.jsxs("div",{className:"mt-10 w-full max-w-2xl bg-red-500/15 border border-red-500/30 rounded-2xl p-8 text-center",children:[_.jsx(Td,{className:"h-10 w-10 text-red-400 mx-auto mb-3"}),_.jsx("h2",{className:"text-lg font-bold text-white",children:"Tracking no encontrado"}),_.jsx("p",{className:"text-slate-400 text-sm mt-2",children:"No encontramos ningn paquete con ese nmero. Verifica que sea correcto o comuncate con nosotros."})]}),i&&c&&_.jsxs("div",{className:"mt-10 w-full max-w-2xl space-y-4 animate-in fade-in slide-in-from-bottom-4",children:[_.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6 shadow-xl",children:[_.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-wider mb-1",children:"Nmero de Gua"}),_.jsx("h2",{className:"text-xl font-black text-white font-mono",children:i.tracking})]}),_.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-xl border text-sm font-bold ${c.bg} ${c.color}`,children:[_.jsx(c.icon,{className:"h-4 w-4"}),c.label]})]}),_.jsx("div",{className:"mt-5 grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{label:"Casillero",value:((g=i.clientes)==null?void 0:g.locker_id)||"N/A"},{label:"Peso",value:`${i.peso_lbs} lbs`},{label:"Bodega",value:((x=i.bodegas)==null?void 0:x.nombre)||"General"},{label:"Recibido",value:i.fecha_recepcion?nl(vI(i.fecha_recepcion),"dd MMM yyyy",{locale:Lf}):"N/A"}].map(({label:y,value:C})=>_.jsxs("div",{className:"bg-white/5 rounded-xl p-3",children:[_.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:y}),_.jsx("p",{className:"text-sm font-bold text-white mt-1 truncate",children:C})]},y))})]}),h>=0&&i.estado!=="devuelto"&&i.estado!=="perdido"&&_.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[_.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-5",children:"Progreso del Envo"}),_.jsxs("div",{className:"flex items-center justify-between relative",children:[_.jsx("div",{className:"absolute top-4 left-0 right-0 h-0.5 bg-white/10"}),_.jsx("div",{className:"absolute top-4 left-0 h-0.5 bg-blue-500 transition-all",style:{width:`${h/(R5.length-1)*100}%`}}),R5.map((y,C)=>{const E=dv[y],T=C<=h,I=E.icon;return _.jsxs("div",{className:"relative flex flex-col items-center z-10",children:[_.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full border-2 transition-all ${T?"bg-blue-500 border-blue-500":"bg-slate-800 border-white/10"}`,children:_.jsx(I,{className:`h-4 w-4 ${T?"text-white":"text-slate-600"}`})}),_.jsx("p",{className:`text-[10px] font-semibold mt-2 text-center max-w-[56px] leading-tight ${T?"text-white":"text-slate-600"}`,children:E.label})]},y)})]})]}),i.historial_estados&&i.historial_estados.length>0&&_.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[_.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4",children:"Historial de Eventos"}),_.jsx("ul",{className:"space-y-4",children:i.historial_estados.map((y,C)=>{const E=dv[y.estado_nuevo],T=(E==null?void 0:E.icon)||Y5;return _.jsxs("li",{className:"flex gap-4",children:[_.jsx("div",{className:`flex-none flex h-8 w-8 items-center justify-center rounded-full ${C===0?"bg-blue-500":"bg-white/5 border border-white/10"}`,children:_.jsx(T,{className:`h-4 w-4 ${C===0?"text-white":"text-slate-400"}`})}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsxs("div",{className:"flex items-baseline gap-2 flex-wrap",children:[_.jsx("p",{className:`text-sm font-bold ${C===0?"text-white":"text-slate-300"}`,children:(E==null?void 0:E.label)||y.estado_nuevo}),_.jsx("p",{className:"text-xs text-slate-500",children:nl(vI(y.created_at),"dd MMM yyyy 'a las' HH:mm",{locale:Lf})})]}),y.notas&&_.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:y.notas})]})]},y.id)})})]})]})]}),_.jsx("footer",{className:"relative border-t border-white/5 py-5 text-center",children:_.jsx("p",{className:"text-slate-600 text-xs",children:" 2025 YOUBOX GT  Todos los derechos reservados"})})]})}const bB={"Alta Verapaz":["Cobn","Chahal","Chisec","Fray Bartolom de las Casas","Lanqun","Panzs","Raxruh","San Cristbal Verapaz","San Juan Chamelco","San Pedro Carch","Santa Catalina la Tinta","Senah","Tucur"],"Baja Verapaz":["Salam","Cubulco","El Chol","Granados","Purulh","Rabinal","San Jernimo","San Miguel Chicaj","Santa Cruz el Chol","San Bartolom Jocotenango"],Chimaltenango:["Chimaltenango","Acatenango","El Tejar","Parramos","Patzica","Patzn","Pochuta","San Andrs Itzapa","San Jos Poaquil","San Martn Jilotepeque","Santa Apolonia","Santa Cruz Balany","Tecpn","Yepocapa","Zaragoza"],Chiquimula:["Chiquimula","Camotn","Concepcin Las Minas","Esquipulas","Ipala","Jocotn","Olopa","Quezaltepeque","San Jacinto","San Juan Ermita","San Jos la Arada"],"El Progreso":["Guastatoya","El Jcaro","Morazn","San Agustn Acasaguastln","San Antonio La Paz","San Cristbal Acasaguastln","Sanarate","Sansare"],Escuintla:["Escuintla","Guanagazapa","Iztapa","La Democracia","La Gomera","Masagua","Nueva Concepcin","Paln","San Jos","San Vicente Pacaya","Santa Luca Cotzumalguapa","Siquinal","Tiquisate"],Guatemala:["Guatemala City","Amatitln","Chinautla","Chuarrancho","Fraijanes","Mixco","Palencia","Petapa","San Jos del Golfo","San Jos Pinula","San Juan Sacatepquez","San Miguel Petapa","San Pedro Ayampuc","San Pedro Sacatepquez","San Raymundo","Santa Catarina Pinula","Villa Canales","Villa Nueva"],Huehuetenango:["Huehuetenango","Aguacatn","Chiantla","Colotenango","Concepcin Huista","Cuilco","Ixtahuacn","Jacaltenango","La Democracia","La Libertad","Malacatancito","Nentn","San Antonio Huista","San Gaspar Ixchil","San Idelfonso Ixtahuacn","San Juan Atitn","San Juan Ixcoy","San Marcos Huista","San Mateo Ixtatn","San Miguel Acatn","San Pedro Necta","San Pedro Soloma","San Rafael La Independencia","San Rafael Petzal","San Sebastin Coatn","San Sebastin Huehuetenango","Santa Ana Huista","Santa Brbara","Santa Cruz Barillas","Santa Eulalia","Santiago Chimaltenango","Tectitn","Todos Santos Cuchumatn","Unin Cantinil"],Izabal:["Puerto Barrios","El Estor","Livingston","Los Amates","Morales"],Jalapa:["Jalapa","Mataquescuintla","Monjas","San Carlos Alzatate","San Luis Jilotepeque","San Manuel Chaparrn","San Pedro Pinula"],Jutiapa:["Jutiapa","Agua Blanca","Asuncin Mita","Atescatempa","Conguaco","El Adelanto","El Progreso","Jalpatagua","Jerez","Moyuta","Pasaco","Quesada","San Jos Acatempa","Santa Catarina Mita","Yupiltepeque","Zapotitln"],Petn:["Flores","Dolores","El Chal","La Libertad","Las Cruces","Melchor de Mencos","Poptn","San Andrs","San Benito","San Francisco","San Jos","San Luis","Sayaxch","Santa Ana"],Quetzaltenango:["Quetzaltenango","Almolonga","Cabricn","Cajol","Cantel","Coatepeque","Colomba","Concepcin Chiquirichapa","El Palmar","Flores Costa Cuca","Gnova","Huitn","La Esperanza","Palestina de Los Altos","Salcaj","San Carlos Sija","San Francisco La Unin","San Juan Ostuncalco","San Marcos Sija","San Mateo","San Miguel Sigil","San Sebastin","Sibilia","Zunil"],Quich:["Santa Cruz del Quich","Canill","Chajul","Chicamn","Chich","Chichicastenango","Chinique","Cunn","Ixcn","Joyabaj","Nebaj","Pachalum","Patzit","Sacapulas","San Andrs Sajcabaj","San Antonio Ilotenango","San Bartolom Jocotenango","San Juan Cotzal","San Pedro Jocopilas","Uspantn","Zacualpa"],Retalhuleu:["Retalhuleu","Champerico","El Asintal","Nuevo San Carlos","San Andrs Villa Seca","San Felipe","San Martn Zapotitln","San Sebastin","Santa Cruz Mulu"],Sacatepquez:["Antigua Guatemala","Alotenango","Ciudad Vieja","Jocotenango","Magdalena Milpas Altas","Pastores","San Antonio Aguas Calientes","San Bartolom Milpas Altas","San Lucas Sacatepquez","San Miguel Dueas","Santa Catarina Barahona","Santa Luca Milpas Altas","Santa Mara de Jess","Santiago Sacatepquez","Santo Domingo Xenacoj","Sumpango","Santa Ins del Monte Pulido"],"San Marcos":["San Marcos","Ayutla","Catarina","Comitancillo","Concepcin Tutuapa","El Quetzal","El Rodeo","El Tumbador","Esquipulas Palo Gordo","Ixchigun","La Blanca","La Reforma","Malacatn","Nuevo Progreso","Ocs","Pajapita","Ro Blanco","San Antonio Sacatepquez","San Cristbal Cucho","San Jos Ojetenm","San Lorenzo","San Miguel Ixtahuacn","San Pablo","San Pedro Sacatepquez","San Rafael Pie de la Cuesta","Sibinal","Sipacapa","Tacan","Tajumulco","Tejutla"],"Santa Rosa":["Cuilapa","Barberena","Casillas","Chiquimulilla","Guazacapn","Nueva Santa Rosa","Oratorio","Pueblo Nuevo Vias","San Juan Tecuaco","San Rafael Las Flores","Santa Cruz Naranjo","Santa Mara Ixhuatn","Santa Rosa de Lima","Taxisco"],Solol:["Solol","Concepcin","Nahuala","Panajachel","San Andrs Semetabaj","San Antonio Palop","San Jos Chacay","San Juan La Laguna","San Lucas Tolimn","San Marcos La Laguna","San Pablo La Laguna","San Pedro La Laguna","Santa Catarina Ixtahuacn","Santa Catarina Palop","Santa Clara La Laguna","Santa Cruz La Laguna","Santa Luca Utatln","Santa Mara Visitacin","Santiago Atitln"],Suchitepquez:["Mazatenango","Chicacao","Cuyotenango","Patulul","Pueblo Nuevo","Ro Bravo","Samayac","San Antonio Suchitepquez","San Bernardino","San Francisco Zapotitln","San Gabriel","San Jos El dolo","San Juan Bautista","San Lorenzo","San Miguel Pann","San Pablo Jocopilas","Santa Barbara","Santo Domingo Suchitepquez","Santo Toms La Unin","Zunilito"],Totonicapn:["Totonicapn","Momostenango","San Andrs Xecul","San Bartolo","San Cristbal Totonicapn","San Francisco El Alto","Santa Luca La Reforma","Santa Mara Chiquimula"],Zacapa:["Zacapa","Cabaas","Estanzuela","Gualn","Huit","La Unin","Rio Hondo","San Diego","San Jorge","Teculutn","Usumatn"]},ave=Object.keys(bB).sort();function sve(){const{user:e}=Aa(),[t,n]=R.useState(!0),[r,i]=R.useState(!1),[a,o]=R.useState(""),[u,d]=R.useState(""),[c,h]=R.useState({nombre:"",apellido:"",telefono:"",departamento:"",municipio:"",direccion_linea1:"",direccion_linea2:"",referencia:"",password:""}),[g,x]=R.useState([]),[y,C]=R.useState("");R.useEffect(()=>{(async()=>{if(e)try{if(e.role==="cliente"){const{data:D,error:F}=await Tt.from("clientes").select("*").eq("id",e.id).single();D&&!F&&(h({nombre:D.nombre||"",apellido:D.apellido||"",telefono:D.telefono||"",departamento:D.departamento||"",municipio:D.municipio||"",direccion_linea1:D.direccion_linea1||"",direccion_linea2:D.direccion_linea2||"",referencia:D.referencia||"",password:D.password_hash||D.notas||""}),C(D.password_hash||D.notas||""))}else{const{data:D,error:F}=await Tt.from("usuarios").select("*").eq("id",e.id).single();D&&!F&&(h({...c,nombre:D.nombre||"",apellido:D.apellido||"",telefono:D.telefono||"",password:D.password_hash||""}),C(D.password_hash||""))}}catch(D){console.error("Error fetching profile",D)}finally{n(!1)}})()},[e]),R.useEffect(()=>{if(c.departamento){const I=bB[c.departamento]||[];x(I),I.includes(c.municipio)||h(D=>({...D,municipio:I[0]||""}))}else x([])},[c.departamento]);const E=I=>{h(D=>({...D,[I.target.name]:I.target.value}))},T=async I=>{if(I.preventDefault(),o(""),d(""),!c.nombre||!c.apellido){o("El nombre y apellido son obligatorios.");return}i(!0);try{if((e==null?void 0:e.role)==="cliente"){const D={nombre:c.nombre,apellido:c.apellido,telefono:c.telefono,departamento:c.departamento,municipio:c.municipio,direccion_linea1:c.direccion_linea1,direccion_linea2:c.direccion_linea2,referencia:c.referencia,...c.password!==y&&{notas:c.password,password_hash:c.password}},{error:F}=await Tt.from("clientes").update(D).eq("id",e.id);if(F)throw F}else{const D={nombre:c.nombre,apellido:c.apellido,telefono:c.telefono,...c.password!==y&&{password_hash:c.password}},{error:F}=await Tt.from("usuarios").update(D).eq("id",e==null?void 0:e.id);if(F)throw F}d("Perfil actualizado exitosamente."),C(c.password)}catch(D){o(D.message||"Error al guardar los cambios.")}finally{i(!1)}};return t?_.jsx("div",{className:"flex justify-center items-center h-64",children:_.jsx("div",{className:"h-8 w-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):_.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[_.jsx("div",{className:"flex items-center justify-between",children:_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Mi Perfil"}),_.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Actualiza tu informacin personal y de entrega."})]})}),a&&_.jsx("div",{className:"rounded-lg bg-red-50 p-4 border border-red-200",children:_.jsxs("div",{className:"flex items-center",children:[_.jsx(Td,{className:"h-5 w-5 text-red-500 mr-2"}),_.jsx("span",{className:"text-sm text-red-700",children:a})]})}),u&&_.jsx("div",{className:"rounded-lg bg-green-50 p-4 border border-green-200",children:_.jsxs("div",{className:"flex items-center",children:[_.jsx(C3,{className:"h-5 w-5 text-green-500 mr-2"}),_.jsx("span",{className:"text-sm text-green-700",children:u})]})}),_.jsx("div",{className:"bg-white shadow-sm rounded-xl border border-slate-200 overflow-hidden",children:_.jsx("div",{className:"p-6",children:_.jsxs("form",{onSubmit:T,className:"space-y-6",children:[_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("div",{className:"flex-1 bg-slate-50 p-4 rounded-lg border border-slate-100 flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-wider mb-1",children:"Tu Casillero"}),_.jsx("p",{className:"text-lg font-bold text-blue-600",children:(e==null?void 0:e.locker_id)||"N/A"})]}),_.jsx(Td,{className:"h-5 w-5 text-slate-400"})]}),_.jsxs("div",{className:"flex-1 bg-slate-50 p-4 rounded-lg border border-slate-100",children:[_.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-wider mb-1",children:"Correo Electrnico"}),_.jsx("p",{className:"text-slate-700 mt-1 font-medium",children:e==null?void 0:e.email})]})]}),_.jsxs("div",{children:[_.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[_.jsx(Z$,{className:"h-5 w-5 text-blue-600"}),"Informacin Personal"]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nombre"}),_.jsx("input",{type:"text",name:"nombre",value:c.nombre,onChange:E,className:"w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm px-3 py-2 border"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Apellido"}),_.jsx("input",{type:"text",name:"apellido",value:c.apellido,onChange:E,className:"w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm px-3 py-2 border"})]}),_.jsxs("div",{className:"md:col-span-2",children:[_.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1 flex items-center gap-1",children:[_.jsx(K5,{className:"h-4 w-4 text-slate-400"})," WhatsApp / Telfono"]}),_.jsx("input",{type:"text",name:"telefono",value:c.telefono,onChange:E,className:"w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm px-3 py-2 border"})]})]})]}),(e==null?void 0:e.role)==="cliente"&&_.jsxs("div",{children:[_.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2 mt-8 pt-6 border-t border-slate-100",children:[_.jsx(Jl,{className:"h-5 w-5 text-blue-600"}),"Direccin de Entrega"]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Departamento"}),_.jsxs("select",{name:"departamento",value:c.departamento,onChange:E,className:"w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm px-3 py-2 border",children:[_.jsx("option",{value:"",children:" Selecciona "}),ave.map(I=>_.jsx("option",{value:I,children:I},I))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Municipio"}),_.jsxs("select",{name:"municipio",value:c.municipio,onChange:E,disabled:!c.departamento,className:"w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm px-3 py-2 border disabled:bg-slate-50",children:[_.jsx("option",{value:"",children:" Selecciona "}),g.map(I=>_.jsx("option",{value:I,children:I},I))]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Calle / Avenida / Zona"}),_.jsx("input",{type:"text",name:"direccion_linea1",value:c.direccion_linea1,onChange:E,className:"w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm px-3 py-2 border"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Colonia / Residencial / Apartamento"}),_.jsx("input",{type:"text",name:"direccion_linea2",value:c.direccion_linea2,onChange:E,className:"w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm px-3 py-2 border"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Referencia"}),_.jsx("textarea",{name:"referencia",value:c.referencia,onChange:E,rows:2,className:"w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm px-3 py-2 border"})]})]})]}),_.jsxs("div",{children:[_.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2 mt-8 pt-6 border-t border-slate-100",children:[_.jsx(XG,{className:"h-5 w-5 text-blue-600"}),"Seguridad"]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nueva Contrasea"}),_.jsx("input",{type:"password",name:"password",value:c.password,onChange:E,className:"w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm px-3 py-2 border",placeholder:"Deja en blanco si no quieres cambiarla"}),_.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Modifica este campo solo si quieres cambiar tu contrasea actual."})]})]}),_.jsx("div",{className:"pt-6 border-t border-slate-100 flex justify-end",children:_.jsxs("button",{type:"submit",disabled:r,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[r?_.jsx("span",{className:"h-4 w-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}):_.jsx(Pf,{className:"h-4 w-4 mr-2"}),"Guardar Cambios"]})})]})})})]})}function ove({children:e}){const{user:t,loading:n}=Aa();return n?_.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:_.jsx("div",{className:"h-8 w-8 border-2 border-blue-400/30 border-t-blue-400 rounded-full animate-spin"})}):t?_.jsx(_.Fragment,{children:e}):_.jsx(Sf,{to:"/login",replace:!0})}function Tc({children:e}){const{user:t}=Aa();return(t==null?void 0:t.role)!=="admin"&&(t==null?void 0:t.role)!=="operador"&&(t==null?void 0:t.role)!=="facturador"?_.jsx(Sf,{to:"/inventory",replace:!0}):_.jsx(_.Fragment,{children:e})}function lve(){const{user:e}=Aa(),t=e&&e.role==="cliente";return _.jsxs(FU,{children:[_.jsx(ca,{path:"/login",element:e?_.jsx(Sf,{to:"/",replace:!0}):_.jsx(Qge,{})}),_.jsx(ca,{path:"/register",element:e?_.jsx(Sf,{to:"/",replace:!0}):_.jsx(nve,{})}),_.jsx(ca,{path:"/tracking",element:_.jsx(ive,{})}),_.jsxs(ca,{path:"/",element:_.jsx(ove,{children:_.jsx($W,{})}),children:[_.jsx(ca,{index:!0,element:t?_.jsx(Sf,{to:"/inventory",replace:!0}):_.jsx(Pfe,{})}),_.jsx(ca,{path:"entry",element:_.jsx(Tc,{children:_.jsx(wde,{})})}),_.jsx(ca,{path:"warehouse",element:_.jsx(Tc,{children:_.jsx($he,{})})}),_.jsx(ca,{path:"inventory",element:_.jsx(tge,{})}),_.jsx(ca,{path:"consolidation",element:_.jsx(Tc,{children:_.jsx(age,{})})}),_.jsx(ca,{path:"billing",element:_.jsx(Vge,{})}),_.jsx(ca,{path:"settings",element:_.jsx(Tc,{children:_.jsx(Yge,{})})}),_.jsx(ca,{path:"tariffs",element:_.jsx(Tc,{children:_.jsx(Xge,{})})}),_.jsx(ca,{path:"users",element:_.jsx(Tc,{children:_.jsx(Kge,{})})}),_.jsx(ca,{path:"branches",element:_.jsx(Tc,{children:_.jsx(Zge,{})})}),_.jsx(ca,{path:"expenses",element:_.jsx(Tc,{children:_.jsx(eve,{})})}),_.jsx(ca,{path:"reports",element:_.jsx(Tc,{children:_.jsx(rve,{})})}),_.jsx(ca,{path:"profile",element:_.jsx(sve,{})}),_.jsx(ca,{path:"payments",element:_.jsx(Sf,{to:"/billing",replace:!0})}),_.jsx(ca,{path:"geography",element:_.jsx(Tc,{children:_.jsx(Sf,{to:"/settings",replace:!0})})})]}),_.jsx(ca,{path:"*",element:_.jsx(Sf,{to:"/",replace:!0})})]})}function cve(){return _.jsx(cz,{children:_.jsx(JH,{children:_.jsx(lve,{})})})}FF.createRoot(document.getElementById("root")).render(_.jsx(R.StrictMode,{children:_.jsx(cve,{})}));export{Ur as _,$m as c,Gc as g};
